webpackHotUpdate("public",{

/***/ "./node_modules/cozy-sharing/dist/SharingProvider.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SharingProvider\", function() { return SharingProvider; });\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./node_modules/cozy-client/dist/index.js\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/context.js\");\n/* harmony import */ var _state__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/state.js\");\n/* harmony import */ var _fetchNextPermissions__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/fetchNextPermissions.js\");\n/* harmony import */ var _helpers_files__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/helpers/files.js\");\n/* harmony import */ var _helpers_sharings__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/helpers/sharings.js\");\n/* harmony import */ var _queries_queries__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/queries/queries.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7___default()(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\n\nvar SHARING_DOCTYPE = 'io.cozy.sharings';\nvar PERMISSION_DOCTYPE = 'io.cozy.permissions';\nvar SharingProvider = /*#__PURE__*/function (_Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(SharingProvider, _Component);\n\n  var _super = _createSuper(SharingProvider);\n\n  function SharingProvider(props, context) {\n    var _this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, SharingProvider);\n\n    _this = _super.call(this, props, context);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), \"dispatch\", function (action) {\n      return _this.setState(function (state) {\n        return _objectSpread(_objectSpread({}, state), Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(state, action));\n      });\n    });\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), \"initialize\", function () {\n      if (_this.isInitialized) return;\n      var client = _this.props.client;\n\n      _this.fetchAllSharings();\n\n      if (!client.plugins.realtime) {\n        // eslint-disable-next-line\n        console.warn(\"You should register the realtime plugin to your CozyClient instance see https://docs.cozy.io/en/cozy-realtime/#example\");\n      } else {\n        _this.realtime = client.plugins.realtime;\n\n        _this.realtime.subscribe('created', SHARING_DOCTYPE, _this.handleCreateOrUpdateSharings);\n\n        _this.realtime.subscribe('updated', SHARING_DOCTYPE, _this.handleCreateOrUpdateSharings);\n      }\n\n      _this.isInitialized = true;\n    });\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), \"handleCreateOrUpdateSharings\", /*#__PURE__*/function () {\n      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.mark(function _callee(sharing) {\n        var _this$props, client, doctype, internalSharing, newSharing, docsId;\n\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this$props = _this.props, client = _this$props.client, doctype = _this$props.doctype;\n                internalSharing = Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"getSharingById\"])(_this.state, sharing._id);\n                newSharing = Object(_helpers_sharings__WEBPACK_IMPORTED_MODULE_17__[\"getSharingObject\"])(internalSharing, sharing);\n\n                if (internalSharing) {\n                  Object(_helpers_sharings__WEBPACK_IMPORTED_MODULE_17__[\"updateSharingInStore\"])(_this.dispatch, newSharing);\n                } else {\n                  docsId = Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"getSharingDocIds\"])(newSharing);\n                  Object(_helpers_sharings__WEBPACK_IMPORTED_MODULE_17__[\"createSharingInStore\"])(client, doctype, _this.dispatch, docsId, newSharing);\n                }\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), \"share\", /*#__PURE__*/function () {\n      var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.mark(function _callee2(_ref2) {\n        var _this$props$previewPa;\n\n        var document, recipients, readOnlyRecipients, description, openSharing, _this$props2, client, doctype, sharing, sharingResult, previewPath, _yield$_this$sharingC, data;\n\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                document = _ref2.document, recipients = _ref2.recipients, readOnlyRecipients = _ref2.readOnlyRecipients, description = _ref2.description, openSharing = _ref2.openSharing;\n                _this$props2 = _this.props, client = _this$props2.client, doctype = _this$props2.doctype;\n                sharing = Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"getDocumentSharing\"])(_this.state, document.id);\n\n                if (!sharing) {\n                  _context2.next = 10;\n                  break;\n                }\n\n                _context2.next = 6;\n                return _this.addRecipients({\n                  document: sharing,\n                  recipients: recipients,\n                  readOnlyRecipients: readOnlyRecipients\n                });\n\n              case 6:\n                sharingResult = _context2.sent;\n                _context2.next = 9;\n                return _this.state.onShared({\n                  document: document,\n                  recipients: recipients,\n                  readOnlyRecipients: readOnlyRecipients\n                });\n\n              case 9:\n                return _context2.abrupt(\"return\", sharingResult);\n\n              case 10:\n                previewPath = (_this$props$previewPa = _this.props.previewPath) !== null && _this$props$previewPa !== void 0 ? _this$props$previewPa : '/preview';\n                _context2.next = 13;\n                return _this.sharingCol.create({\n                  document: document,\n                  recipients: recipients,\n                  readOnlyRecipients: readOnlyRecipients,\n                  description: description,\n                  previewPath: previewPath,\n                  openSharing: openSharing\n                });\n\n              case 13:\n                _yield$_this$sharingC = _context2.sent;\n                data = _yield$_this$sharingC.data;\n                _context2.t0 = _this;\n                _context2.t1 = _state__WEBPACK_IMPORTED_MODULE_14__[\"addSharing\"];\n                _context2.t2 = data;\n                _context2.t3 = document.path;\n\n                if (_context2.t3) {\n                  _context2.next = 23;\n                  break;\n                }\n\n                _context2.next = 22;\n                return Object(_helpers_files__WEBPACK_IMPORTED_MODULE_16__[\"fetchFilesPaths\"])(client, doctype, [document]);\n\n              case 22:\n                _context2.t3 = _context2.sent;\n\n              case 23:\n                _context2.t4 = _context2.t3;\n                _context2.t5 = (0, _context2.t1)(_context2.t2, _context2.t4);\n\n                _context2.t0.dispatch.call(_context2.t0, _context2.t5);\n\n                _context2.next = 28;\n                return _this.state.onShared({\n                  document: document,\n                  recipients: recipients,\n                  readOnlyRecipients: readOnlyRecipients\n                });\n\n              case 28:\n                return _context2.abrupt(\"return\", data);\n\n              case 29:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), \"addRecipients\", /*#__PURE__*/function () {\n      var _ref5 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.mark(function _callee3(_ref4) {\n        var document, recipients, readOnlyRecipients, resp;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                document = _ref4.document, recipients = _ref4.recipients, readOnlyRecipients = _ref4.readOnlyRecipients;\n                _context3.next = 3;\n                return _this.sharingCol.addRecipients({\n                  document: document,\n                  recipients: recipients,\n                  readOnlyRecipients: readOnlyRecipients\n                });\n\n              case 3:\n                resp = _context3.sent;\n\n                _this.dispatch(Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"updateSharing\"])(resp.data));\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x3) {\n        return _ref5.apply(this, arguments);\n      };\n    }());\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), \"revokeAllRecipients\", /*#__PURE__*/function () {\n      var _ref6 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.mark(function _callee5(document) {\n        var _this$props3, client, doctype, recipients, sharing;\n\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _this$props3 = _this.props, client = _this$props3.client, doctype = _this$props3.doctype;\n                recipients = Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"getRecipients\"])(_this.state, document.id);\n                sharing = Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"getDocumentSharing\"])(_this.state, document.id);\n                _context5.next = 5;\n                return _this.sharingCol.revokeAllRecipients(sharing);\n\n              case 5:\n                recipients.map( /*#__PURE__*/function () {\n                  var _ref7 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.mark(function _callee4(recipient, recipientIndex) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.wrap(function _callee4$(_context4) {\n                      while (1) {\n                        switch (_context4.prev = _context4.next) {\n                          case 0:\n                            _context4.t0 = _this;\n                            _context4.t1 = _state__WEBPACK_IMPORTED_MODULE_14__[\"revokeRecipient\"];\n                            _context4.t2 = sharing;\n                            _context4.t3 = recipientIndex;\n                            _context4.t4 = document.path;\n\n                            if (_context4.t4) {\n                              _context4.next = 9;\n                              break;\n                            }\n\n                            _context4.next = 8;\n                            return Object(_helpers_files__WEBPACK_IMPORTED_MODULE_16__[\"fetchFilesPaths\"])(client, doctype, [document]);\n\n                          case 8:\n                            _context4.t4 = _context4.sent;\n\n                          case 9:\n                            _context4.t5 = _context4.t4;\n                            _context4.t6 = (0, _context4.t1)(_context4.t2, _context4.t3, _context4.t5);\n\n                            _context4.t0.dispatch.call(_context4.t0, _context4.t6);\n\n                          case 12:\n                          case \"end\":\n                            return _context4.stop();\n                        }\n                      }\n                    }, _callee4);\n                  }));\n\n                  return function (_x5, _x6) {\n                    return _ref7.apply(this, arguments);\n                  };\n                }());\n\n              case 6:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      return function (_x4) {\n        return _ref6.apply(this, arguments);\n      };\n    }());\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), \"revoke\", /*#__PURE__*/function () {\n      var _ref8 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.mark(function _callee6(document, sharingId, recipientIndex) {\n        var _this$props4, client, doctype, sharing;\n\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _this$props4 = _this.props, client = _this$props4.client, doctype = _this$props4.doctype;\n                sharing = Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"getSharingById\"])(_this.state, sharingId);\n                _context6.next = 4;\n                return _this.sharingCol.revokeRecipient(sharing, recipientIndex);\n\n              case 4:\n                _context6.t0 = _this;\n                _context6.t1 = _state__WEBPACK_IMPORTED_MODULE_14__[\"revokeRecipient\"];\n                _context6.t2 = sharing;\n                _context6.t3 = recipientIndex;\n                _context6.t4 = document.path;\n\n                if (_context6.t4) {\n                  _context6.next = 13;\n                  break;\n                }\n\n                _context6.next = 12;\n                return Object(_helpers_files__WEBPACK_IMPORTED_MODULE_16__[\"fetchFilesPaths\"])(client, doctype, [document]);\n\n              case 12:\n                _context6.t4 = _context6.sent;\n\n              case 13:\n                _context6.t5 = _context6.t4;\n                _context6.t6 = (0, _context6.t1)(_context6.t2, _context6.t3, _context6.t5);\n\n                _context6.t0.dispatch.call(_context6.t0, _context6.t6);\n\n              case 16:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      return function (_x7, _x8, _x9) {\n        return _ref8.apply(this, arguments);\n      };\n    }());\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), \"revokeSelf\", /*#__PURE__*/function () {\n      var _ref9 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.mark(function _callee7(document) {\n        var sharing;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                sharing = Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"getSharingForSelf\"])(_this.state, document.id);\n                _context7.next = 3;\n                return _this.sharingCol.revokeSelf(sharing);\n\n              case 3:\n                _this.dispatch(Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"revokeSelf\"])(sharing));\n\n              case 4:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }));\n\n      return function (_x10) {\n        return _ref9.apply(this, arguments);\n      };\n    }());\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), \"shareByLink\", /*#__PURE__*/function () {\n      var _ref10 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.mark(function _callee8(document) {\n        var resp;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.next = 2;\n                return _this.permissionCol.createSharingLink(document);\n\n              case 2:\n                resp = _context8.sent;\n\n                _this.dispatch(Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"addSharingLink\"])(resp.data));\n\n                return _context8.abrupt(\"return\", resp);\n\n              case 5:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }));\n\n      return function (_x11) {\n        return _ref10.apply(this, arguments);\n      };\n    }());\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), \"updateDocumentPermissions\", /*#__PURE__*/function () {\n      var _ref11 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.mark(function _callee10(document, newVerbs) {\n        var permissions, responses;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                permissions = Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"getDocumentPermissions\"])(_this.state, document.id);\n                _context10.next = 3;\n                return Promise.all(permissions.map( /*#__PURE__*/function () {\n                  var _ref12 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.mark(function _callee9(permissionDocument) {\n                    var updatedPermissions, resp;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.wrap(function _callee9$(_context9) {\n                      while (1) {\n                        switch (_context9.prev = _context9.next) {\n                          case 0:\n                            updatedPermissions = permissionDocument.attributes.permissions;\n                            Object.keys(updatedPermissions).map(function (permType) {\n                              updatedPermissions[permType].verbs = newVerbs;\n                            });\n                            _context9.next = 4;\n                            return _this.permissionCol.add(permissionDocument, updatedPermissions);\n\n                          case 4:\n                            resp = _context9.sent;\n\n                            _this.dispatch(Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"updateSharingLink\"])(resp));\n\n                            return _context9.abrupt(\"return\", resp);\n\n                          case 7:\n                          case \"end\":\n                            return _context9.stop();\n                        }\n                      }\n                    }, _callee9);\n                  }));\n\n                  return function (_x14) {\n                    return _ref12.apply(this, arguments);\n                  };\n                }()));\n\n              case 3:\n                responses = _context10.sent;\n                return _context10.abrupt(\"return\", responses);\n\n              case 5:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10);\n      }));\n\n      return function (_x12, _x13) {\n        return _ref11.apply(this, arguments);\n      };\n    }());\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), \"revokeSharingLink\", /*#__PURE__*/function () {\n      var _ref13 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.mark(function _callee11(document) {\n        var perms;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                // Because some duplicate links have been created in the past, we must ensure\n                // we revoke all of them\n                perms = Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"getDocumentPermissions\"])(_this.state, document.id);\n                _context11.next = 3;\n                return Promise.all(perms.map(function (p) {\n                  return _this.permissionCol.destroy(p);\n                }));\n\n              case 3:\n                _this.dispatch(Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"revokeSharingLink\"])(perms));\n\n              case 4:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11);\n      }));\n\n      return function (_x15) {\n        return _ref13.apply(this, arguments);\n      };\n    }());\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this), \"hasWriteAccess\", function (docId) {\n      var instanceUri = _this.props.client.getStackClient().uri;\n\n      return !_this.state.byDocId || !_this.state.byDocId[docId] || Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"isOwner\"])(_this.state, docId) || Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"getSharingType\"])(_this.state, docId, instanceUri) === 'two-way';\n    });\n\n    var _instanceUri = props.client.getStackClient().uri;\n    var documentType = props.documentType || 'Document';\n\n    var onShared = props.onShared || function () {};\n\n    _this.state = {\n      byDocId: {},\n      sharings: [],\n      permissions: [],\n      sharedFolderPaths: [],\n      documentType: documentType,\n      isOwner: function isOwner(docId) {\n        return Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"isOwner\"])(_this.state, docId);\n      },\n      canReshare: function canReshare(docId) {\n        return Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"canReshare\"])(_this.state, docId, _instanceUri);\n      },\n      getOwner: function getOwner(docId) {\n        return Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"getOwner\"])(_this.state, docId);\n      },\n      getSharingType: function getSharingType(docId) {\n        return Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"getSharingType\"])(_this.state, docId, _instanceUri);\n      },\n      getSharingForSelf: function getSharingForSelf(docId) {\n        return Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"getSharingForSelf\"])(_this.state, docId);\n      },\n      getRecipients: function getRecipients(docId) {\n        return Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"getRecipients\"])(_this.state, docId);\n      },\n      getDocumentPermissions: function getDocumentPermissions(docId) {\n        return Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"getDocumentPermissions\"])(_this.state, docId);\n      },\n      getSharingLink: function getSharingLink(docId) {\n        return Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"getSharingLink\"])(_this.state, docId, documentType);\n      },\n      hasSharedParent: function hasSharedParent(documentPath) {\n        return Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"hasSharedParent\"])(_this.state, documentPath);\n      },\n      hasSharedChild: function hasSharedChild(documentPath) {\n        return Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"hasSharedChild\"])(_this.state, documentPath);\n      },\n      share: _this.share,\n      onShared: onShared,\n      revoke: _this.revoke,\n      revokeSelf: _this.revokeSelf,\n      shareByLink: _this.shareByLink,\n      updateDocumentPermissions: _this.updateDocumentPermissions,\n      revokeSharingLink: _this.revokeSharingLink,\n      hasLoadedAtLeastOnePage: false,\n      allLoaded: false,\n      revokeAllRecipients: _this.revokeAllRecipients,\n      refresh: _this.fetchAllSharings,\n      hasWriteAccess: _this.hasWriteAccess\n    };\n    _this.realtime = null;\n    _this.isInitialized = false;\n    var _client = props.client;\n    _this.sharingCol = _client.collection(SHARING_DOCTYPE);\n    _this.permissionCol = _client.collection(PERMISSION_DOCTYPE);\n    _this.fetchAllSharings = _this.fetchAllSharings.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this));\n    return _this;\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(SharingProvider, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var client = this.props.client;\n\n      if (client.isLogged) {\n        this.initialize();\n      } else {\n        client.on('plugin:realtime:login', this.initialize);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.realtime) {\n        this.realtime.unsubscribe('created', SHARING_DOCTYPE, this.handleCreateOrUpdateSharings);\n        this.realtime.unsubscribe('updated', SHARING_DOCTYPE, this.handleCreateOrUpdateSharings);\n      }\n    }\n  }, {\n    key: \"fetchAllSharings\",\n    value: function () {\n      var _fetchAllSharings = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.mark(function _callee12() {\n        var _this$props5, doctype, client, _yield$Promise$all, _yield$Promise$all2, sharings, permissions, apps, sharedDocIds, resp, folderPaths, filePaths;\n\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                _this$props5 = this.props, doctype = _this$props5.doctype, client = _this$props5.client;\n                _context12.next = 3;\n                return Promise.all([this.sharingCol.findByDoctype(doctype), this.permissionCol.findLinksByDoctype(doctype), client.query(Object(_queries_queries__WEBPACK_IMPORTED_MODULE_18__[\"fetchApps\"])().definition, Object(_queries_queries__WEBPACK_IMPORTED_MODULE_18__[\"fetchApps\"])().options)]);\n\n              case 3:\n                _yield$Promise$all = _context12.sent;\n                _yield$Promise$all2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_yield$Promise$all, 3);\n                sharings = _yield$Promise$all2[0];\n                permissions = _yield$Promise$all2[1];\n                apps = _yield$Promise$all2[2];\n                this.dispatch(Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"receiveSharings\"])({\n                  instanceUri: client.options.uri,\n                  sharings: sharings.data,\n                  permissions: permissions.data,\n                  apps: apps.data\n                }));\n                this.setState({\n                  hasLoadedAtLeastOnePage: true\n                }); // eslint-disable-next-line promise/catch-or-return\n\n                _context12.next = 12;\n                return Object(_fetchNextPermissions__WEBPACK_IMPORTED_MODULE_15__[\"fetchNextPermissions\"])(permissions, this.dispatch, this.permissionCol);\n\n              case 12:\n                if (!(doctype === 'io.cozy.files')) {\n                  _context12.next = 22;\n                  break;\n                }\n\n                sharedDocIds = Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"getSharedDocIdsBySharings\"])(sharings);\n                _context12.next = 16;\n                return client.collection(doctype).all({\n                  keys: sharedDocIds\n                });\n\n              case 16:\n                resp = _context12.sent;\n                folderPaths = resp.data.filter(function (f) {\n                  return f.type === 'directory' && !f.trashed;\n                }).map(function (f) {\n                  return f.path;\n                });\n                _context12.next = 20;\n                return Object(_helpers_files__WEBPACK_IMPORTED_MODULE_16__[\"fetchFilesPaths\"])(client, doctype, resp.data.filter(function (f) {\n                  return f.type !== 'directory' && !f.trashed;\n                }));\n\n              case 20:\n                filePaths = _context12.sent;\n                this.dispatch(Object(_state__WEBPACK_IMPORTED_MODULE_14__[\"receivePaths\"])([].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(folderPaths), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(filePaths))));\n\n              case 22:\n                this.setState({\n                  allLoaded: true\n                });\n\n              case 23:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      function fetchAllSharings() {\n        return _fetchAllSharings.apply(this, arguments);\n      }\n\n      return fetchAllSharings;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      // WARN: whe shouldn't do this (https://reactjs.org/docs/context.html#caveats)\n      // but if we don't, consumers don't rerender when the state changes after loading the sharings,\n      // probably because the state object remains the same...\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_context__WEBPACK_IMPORTED_MODULE_13__[\"default\"].Provider, {\n        value: _objectSpread({}, this.state)\n      }, this.props.children);\n    }\n  }]);\n\n  return SharingProvider;\n}(react__WEBPACK_IMPORTED_MODULE_11__[\"Component\"]);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(cozy_client__WEBPACK_IMPORTED_MODULE_12__[\"withClient\"])(SharingProvider));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY296eS1zaGFyaW5nL2Rpc3QvU2hhcmluZ1Byb3ZpZGVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nvenktc2hhcmluZy9kaXN0L1NoYXJpbmdQcm92aWRlci5qcz85NTJmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXlcIjtcbmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5XCI7XG5pbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvclwiO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXNzZXJ0VGhpc0luaXRpYWxpemVkXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCI7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZlwiO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eVwiO1xuaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSBcIkBiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yXCI7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBudWxsICE9IGFyZ3VtZW50c1tpXSA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgd2l0aENsaWVudCB9IGZyb20gJ2NvenktY2xpZW50JztcbmltcG9ydCBTaGFyaW5nQ29udGV4dCBmcm9tICcuL2NvbnRleHQnO1xuaW1wb3J0IHJlZHVjZXIsIHsgcmVjZWl2ZVNoYXJpbmdzLCBhZGRTaGFyaW5nLCB1cGRhdGVTaGFyaW5nLCBhZGRTaGFyaW5nTGluaywgdXBkYXRlU2hhcmluZ0xpbmssIHJldm9rZVNoYXJpbmdMaW5rLCByZXZva2VSZWNpcGllbnQsIHJldm9rZVNlbGYsIHJlY2VpdmVQYXRocywgaXNPd25lciBhcyBfaXNPd25lciwgY2FuUmVzaGFyZSBhcyBfY2FuUmVzaGFyZSwgZ2V0T3duZXIgYXMgX2dldE93bmVyLCBnZXRSZWNpcGllbnRzIGFzIF9nZXRSZWNpcGllbnRzLCBnZXRTaGFyaW5nQnlJZCwgZ2V0U2hhcmluZ0RvY0lkcywgZ2V0U2hhcmluZ0ZvclNlbGYgYXMgX2dldFNoYXJpbmdGb3JTZWxmLCBnZXRTaGFyaW5nVHlwZSBhcyBfZ2V0U2hhcmluZ1R5cGUsIGdldFNoYXJpbmdMaW5rIGFzIF9nZXRTaGFyaW5nTGluaywgZ2V0U2hhcmVkRG9jSWRzQnlTaGFyaW5ncywgZ2V0RG9jdW1lbnRTaGFyaW5nLCBnZXREb2N1bWVudFBlcm1pc3Npb25zIGFzIF9nZXREb2N1bWVudFBlcm1pc3Npb25zLCBoYXNTaGFyZWRQYXJlbnQgYXMgX2hhc1NoYXJlZFBhcmVudCwgaGFzU2hhcmVkQ2hpbGQgYXMgX2hhc1NoYXJlZENoaWxkIH0gZnJvbSAnLi9zdGF0ZSc7XG5pbXBvcnQgeyBmZXRjaE5leHRQZXJtaXNzaW9ucyB9IGZyb20gJy4vZmV0Y2hOZXh0UGVybWlzc2lvbnMnO1xuaW1wb3J0IHsgZmV0Y2hGaWxlc1BhdGhzIH0gZnJvbSAnLi9oZWxwZXJzL2ZpbGVzJztcbmltcG9ydCB7IGdldFNoYXJpbmdPYmplY3QsIGNyZWF0ZVNoYXJpbmdJblN0b3JlLCB1cGRhdGVTaGFyaW5nSW5TdG9yZSB9IGZyb20gJy4vaGVscGVycy9zaGFyaW5ncyc7XG5pbXBvcnQgeyBmZXRjaEFwcHMgfSBmcm9tICcuL3F1ZXJpZXMvcXVlcmllcyc7XG52YXIgU0hBUklOR19ET0NUWVBFID0gJ2lvLmNvenkuc2hhcmluZ3MnO1xudmFyIFBFUk1JU1NJT05fRE9DVFlQRSA9ICdpby5jb3p5LnBlcm1pc3Npb25zJztcbmV4cG9ydCB2YXIgU2hhcmluZ1Byb3ZpZGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhTaGFyaW5nUHJvdmlkZXIsIF9Db21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoU2hhcmluZ1Byb3ZpZGVyKTtcblxuICBmdW5jdGlvbiBTaGFyaW5nUHJvdmlkZXIocHJvcHMsIGNvbnRleHQpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2hhcmluZ1Byb3ZpZGVyKTtcblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImRpc3BhdGNoXCIsIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgIHJldHVybiBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3RhdGUpLCByZWR1Y2VyKHN0YXRlLCBhY3Rpb24pKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImluaXRpYWxpemVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLmlzSW5pdGlhbGl6ZWQpIHJldHVybjtcbiAgICAgIHZhciBjbGllbnQgPSBfdGhpcy5wcm9wcy5jbGllbnQ7XG5cbiAgICAgIF90aGlzLmZldGNoQWxsU2hhcmluZ3MoKTtcblxuICAgICAgaWYgKCFjbGllbnQucGx1Z2lucy5yZWFsdGltZSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgY29uc29sZS53YXJuKFwiWW91IHNob3VsZCByZWdpc3RlciB0aGUgcmVhbHRpbWUgcGx1Z2luIHRvIHlvdXIgQ296eUNsaWVudCBpbnN0YW5jZSBzZWUgaHR0cHM6Ly9kb2NzLmNvenkuaW8vZW4vY296eS1yZWFsdGltZS8jZXhhbXBsZVwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLnJlYWx0aW1lID0gY2xpZW50LnBsdWdpbnMucmVhbHRpbWU7XG5cbiAgICAgICAgX3RoaXMucmVhbHRpbWUuc3Vic2NyaWJlKCdjcmVhdGVkJywgU0hBUklOR19ET0NUWVBFLCBfdGhpcy5oYW5kbGVDcmVhdGVPclVwZGF0ZVNoYXJpbmdzKTtcblxuICAgICAgICBfdGhpcy5yZWFsdGltZS5zdWJzY3JpYmUoJ3VwZGF0ZWQnLCBTSEFSSU5HX0RPQ1RZUEUsIF90aGlzLmhhbmRsZUNyZWF0ZU9yVXBkYXRlU2hhcmluZ3MpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJoYW5kbGVDcmVhdGVPclVwZGF0ZVNoYXJpbmdzXCIsIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoc2hhcmluZykge1xuICAgICAgICB2YXIgX3RoaXMkcHJvcHMsIGNsaWVudCwgZG9jdHlwZSwgaW50ZXJuYWxTaGFyaW5nLCBuZXdTaGFyaW5nLCBkb2NzSWQ7XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLCBjbGllbnQgPSBfdGhpcyRwcm9wcy5jbGllbnQsIGRvY3R5cGUgPSBfdGhpcyRwcm9wcy5kb2N0eXBlO1xuICAgICAgICAgICAgICAgIGludGVybmFsU2hhcmluZyA9IGdldFNoYXJpbmdCeUlkKF90aGlzLnN0YXRlLCBzaGFyaW5nLl9pZCk7XG4gICAgICAgICAgICAgICAgbmV3U2hhcmluZyA9IGdldFNoYXJpbmdPYmplY3QoaW50ZXJuYWxTaGFyaW5nLCBzaGFyaW5nKTtcblxuICAgICAgICAgICAgICAgIGlmIChpbnRlcm5hbFNoYXJpbmcpIHtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZVNoYXJpbmdJblN0b3JlKF90aGlzLmRpc3BhdGNoLCBuZXdTaGFyaW5nKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZG9jc0lkID0gZ2V0U2hhcmluZ0RvY0lkcyhuZXdTaGFyaW5nKTtcbiAgICAgICAgICAgICAgICAgIGNyZWF0ZVNoYXJpbmdJblN0b3JlKGNsaWVudCwgZG9jdHlwZSwgX3RoaXMuZGlzcGF0Y2gsIGRvY3NJZCwgbmV3U2hhcmluZyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlKTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkge1xuICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9KCkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInNoYXJlXCIsIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihfcmVmMikge1xuICAgICAgICB2YXIgX3RoaXMkcHJvcHMkcHJldmlld1BhO1xuXG4gICAgICAgIHZhciBkb2N1bWVudCwgcmVjaXBpZW50cywgcmVhZE9ubHlSZWNpcGllbnRzLCBkZXNjcmlwdGlvbiwgb3BlblNoYXJpbmcsIF90aGlzJHByb3BzMiwgY2xpZW50LCBkb2N0eXBlLCBzaGFyaW5nLCBzaGFyaW5nUmVzdWx0LCBwcmV2aWV3UGF0aCwgX3lpZWxkJF90aGlzJHNoYXJpbmdDLCBkYXRhO1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGRvY3VtZW50ID0gX3JlZjIuZG9jdW1lbnQsIHJlY2lwaWVudHMgPSBfcmVmMi5yZWNpcGllbnRzLCByZWFkT25seVJlY2lwaWVudHMgPSBfcmVmMi5yZWFkT25seVJlY2lwaWVudHMsIGRlc2NyaXB0aW9uID0gX3JlZjIuZGVzY3JpcHRpb24sIG9wZW5TaGFyaW5nID0gX3JlZjIub3BlblNoYXJpbmc7XG4gICAgICAgICAgICAgICAgX3RoaXMkcHJvcHMyID0gX3RoaXMucHJvcHMsIGNsaWVudCA9IF90aGlzJHByb3BzMi5jbGllbnQsIGRvY3R5cGUgPSBfdGhpcyRwcm9wczIuZG9jdHlwZTtcbiAgICAgICAgICAgICAgICBzaGFyaW5nID0gZ2V0RG9jdW1lbnRTaGFyaW5nKF90aGlzLnN0YXRlLCBkb2N1bWVudC5pZCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXNoYXJpbmcpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmFkZFJlY2lwaWVudHMoe1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQ6IHNoYXJpbmcsXG4gICAgICAgICAgICAgICAgICByZWNpcGllbnRzOiByZWNpcGllbnRzLFxuICAgICAgICAgICAgICAgICAgcmVhZE9ubHlSZWNpcGllbnRzOiByZWFkT25seVJlY2lwaWVudHNcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgc2hhcmluZ1Jlc3VsdCA9IF9jb250ZXh0Mi5zZW50O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gOTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuc3RhdGUub25TaGFyZWQoe1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQ6IGRvY3VtZW50LFxuICAgICAgICAgICAgICAgICAgcmVjaXBpZW50czogcmVjaXBpZW50cyxcbiAgICAgICAgICAgICAgICAgIHJlYWRPbmx5UmVjaXBpZW50czogcmVhZE9ubHlSZWNpcGllbnRzXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFwicmV0dXJuXCIsIHNoYXJpbmdSZXN1bHQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgcHJldmlld1BhdGggPSAoX3RoaXMkcHJvcHMkcHJldmlld1BhID0gX3RoaXMucHJvcHMucHJldmlld1BhdGgpICE9PSBudWxsICYmIF90aGlzJHByb3BzJHByZXZpZXdQYSAhPT0gdm9pZCAwID8gX3RoaXMkcHJvcHMkcHJldmlld1BhIDogJy9wcmV2aWV3JztcbiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5zaGFyaW5nQ29sLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgICBkb2N1bWVudDogZG9jdW1lbnQsXG4gICAgICAgICAgICAgICAgICByZWNpcGllbnRzOiByZWNpcGllbnRzLFxuICAgICAgICAgICAgICAgICAgcmVhZE9ubHlSZWNpcGllbnRzOiByZWFkT25seVJlY2lwaWVudHMsXG4gICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICBwcmV2aWV3UGF0aDogcHJldmlld1BhdGgsXG4gICAgICAgICAgICAgICAgICBvcGVuU2hhcmluZzogb3BlblNoYXJpbmdcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpcyRzaGFyaW5nQyA9IF9jb250ZXh0Mi5zZW50O1xuICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkX3RoaXMkc2hhcmluZ0MuZGF0YTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfdGhpcztcbiAgICAgICAgICAgICAgICBfY29udGV4dDIudDEgPSBhZGRTaGFyaW5nO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MiA9IGRhdGE7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLnQzID0gZG9jdW1lbnQucGF0aDtcblxuICAgICAgICAgICAgICAgIGlmIChfY29udGV4dDIudDMpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjM7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIyO1xuICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaEZpbGVzUGF0aHMoY2xpZW50LCBkb2N0eXBlLCBbZG9jdW1lbnRdKTtcblxuICAgICAgICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MyA9IF9jb250ZXh0Mi5zZW50O1xuXG4gICAgICAgICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLnQ0ID0gX2NvbnRleHQyLnQzO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50NSA9ICgwLCBfY29udGV4dDIudDEpKF9jb250ZXh0Mi50MiwgX2NvbnRleHQyLnQ0KTtcblxuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MC5kaXNwYXRjaC5jYWxsKF9jb250ZXh0Mi50MCwgX2NvbnRleHQyLnQ1KTtcblxuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnN0YXRlLm9uU2hhcmVkKHtcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50OiBkb2N1bWVudCxcbiAgICAgICAgICAgICAgICAgIHJlY2lwaWVudHM6IHJlY2lwaWVudHMsXG4gICAgICAgICAgICAgICAgICByZWFkT25seVJlY2lwaWVudHM6IHJlYWRPbmx5UmVjaXBpZW50c1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjg6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgZGF0YSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIpO1xuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKF94Mikge1xuICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfSgpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJhZGRSZWNpcGllbnRzXCIsIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhfcmVmNCkge1xuICAgICAgICB2YXIgZG9jdW1lbnQsIHJlY2lwaWVudHMsIHJlYWRPbmx5UmVjaXBpZW50cywgcmVzcDtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQgPSBfcmVmNC5kb2N1bWVudCwgcmVjaXBpZW50cyA9IF9yZWY0LnJlY2lwaWVudHMsIHJlYWRPbmx5UmVjaXBpZW50cyA9IF9yZWY0LnJlYWRPbmx5UmVjaXBpZW50cztcbiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNoYXJpbmdDb2wuYWRkUmVjaXBpZW50cyh7XG4gICAgICAgICAgICAgICAgICBkb2N1bWVudDogZG9jdW1lbnQsXG4gICAgICAgICAgICAgICAgICByZWNpcGllbnRzOiByZWNpcGllbnRzLFxuICAgICAgICAgICAgICAgICAgcmVhZE9ubHlSZWNpcGllbnRzOiByZWFkT25seVJlY2lwaWVudHNcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0My5zZW50O1xuXG4gICAgICAgICAgICAgICAgX3RoaXMuZGlzcGF0Y2godXBkYXRlU2hhcmluZyhyZXNwLmRhdGEpKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzKTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWY1LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0oKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwicmV2b2tlQWxsUmVjaXBpZW50c1wiLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWY2ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoZG9jdW1lbnQpIHtcbiAgICAgICAgdmFyIF90aGlzJHByb3BzMywgY2xpZW50LCBkb2N0eXBlLCByZWNpcGllbnRzLCBzaGFyaW5nO1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF90aGlzJHByb3BzMyA9IF90aGlzLnByb3BzLCBjbGllbnQgPSBfdGhpcyRwcm9wczMuY2xpZW50LCBkb2N0eXBlID0gX3RoaXMkcHJvcHMzLmRvY3R5cGU7XG4gICAgICAgICAgICAgICAgcmVjaXBpZW50cyA9IF9nZXRSZWNpcGllbnRzKF90aGlzLnN0YXRlLCBkb2N1bWVudC5pZCk7XG4gICAgICAgICAgICAgICAgc2hhcmluZyA9IGdldERvY3VtZW50U2hhcmluZyhfdGhpcy5zdGF0ZSwgZG9jdW1lbnQuaWQpO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuc2hhcmluZ0NvbC5yZXZva2VBbGxSZWNpcGllbnRzKHNoYXJpbmcpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICByZWNpcGllbnRzLm1hcCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBfcmVmNyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KHJlY2lwaWVudCwgcmVjaXBpZW50SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gX3RoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQxID0gcmV2b2tlUmVjaXBpZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC50MiA9IHNoYXJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQzID0gcmVjaXBpZW50SW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQ0ID0gZG9jdW1lbnQucGF0aDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfY29udGV4dDQudDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gOTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hGaWxlc1BhdGhzKGNsaWVudCwgZG9jdHlwZSwgW2RvY3VtZW50XSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC50NCA9IF9jb250ZXh0NC5zZW50O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQudDUgPSBfY29udGV4dDQudDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQ2ID0gKDAsIF9jb250ZXh0NC50MSkoX2NvbnRleHQ0LnQyLCBfY29udGV4dDQudDMsIF9jb250ZXh0NC50NSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQudDAuZGlzcGF0Y2guY2FsbChfY29udGV4dDQudDAsIF9jb250ZXh0NC50Nik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTQpO1xuICAgICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94NSwgX3g2KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmNy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KCkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTUpO1xuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKF94NCkge1xuICAgICAgICByZXR1cm4gX3JlZjYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfSgpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJyZXZva2VcIiwgLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmOCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KGRvY3VtZW50LCBzaGFyaW5nSWQsIHJlY2lwaWVudEluZGV4KSB7XG4gICAgICAgIHZhciBfdGhpcyRwcm9wczQsIGNsaWVudCwgZG9jdHlwZSwgc2hhcmluZztcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfdGhpcyRwcm9wczQgPSBfdGhpcy5wcm9wcywgY2xpZW50ID0gX3RoaXMkcHJvcHM0LmNsaWVudCwgZG9jdHlwZSA9IF90aGlzJHByb3BzNC5kb2N0eXBlO1xuICAgICAgICAgICAgICAgIHNoYXJpbmcgPSBnZXRTaGFyaW5nQnlJZChfdGhpcy5zdGF0ZSwgc2hhcmluZ0lkKTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNoYXJpbmdDb2wucmV2b2tlUmVjaXBpZW50KHNoYXJpbmcsIHJlY2lwaWVudEluZGV4KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2LnQwID0gX3RoaXM7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2LnQxID0gcmV2b2tlUmVjaXBpZW50O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Ni50MiA9IHNoYXJpbmc7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2LnQzID0gcmVjaXBpZW50SW5kZXg7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2LnQ0ID0gZG9jdW1lbnQucGF0aDtcblxuICAgICAgICAgICAgICAgIGlmIChfY29udGV4dDYudDQpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTM7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDEyO1xuICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaEZpbGVzUGF0aHMoY2xpZW50LCBkb2N0eXBlLCBbZG9jdW1lbnRdKTtcblxuICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Ni50NCA9IF9jb250ZXh0Ni5zZW50O1xuXG4gICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2LnQ1ID0gX2NvbnRleHQ2LnQ0O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Ni50NiA9ICgwLCBfY29udGV4dDYudDEpKF9jb250ZXh0Ni50MiwgX2NvbnRleHQ2LnQzLCBfY29udGV4dDYudDUpO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2LnQwLmRpc3BhdGNoLmNhbGwoX2NvbnRleHQ2LnQwLCBfY29udGV4dDYudDYpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU2KTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDcsIF94OCwgX3g5KSB7XG4gICAgICAgIHJldHVybiBfcmVmOC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9KCkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInJldm9rZVNlbGZcIiwgLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmOSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KGRvY3VtZW50KSB7XG4gICAgICAgIHZhciBzaGFyaW5nO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBzaGFyaW5nID0gX2dldFNoYXJpbmdGb3JTZWxmKF90aGlzLnN0YXRlLCBkb2N1bWVudC5pZCk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5zaGFyaW5nQ29sLnJldm9rZVNlbGYoc2hhcmluZyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIF90aGlzLmRpc3BhdGNoKHJldm9rZVNlbGYoc2hhcmluZykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTcpO1xuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKF94MTApIHtcbiAgICAgICAgcmV0dXJuIF9yZWY5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0oKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic2hhcmVCeUxpbmtcIiwgLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmMTAgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOChkb2N1bWVudCkge1xuICAgICAgICB2YXIgcmVzcDtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5wZXJtaXNzaW9uQ29sLmNyZWF0ZVNoYXJpbmdMaW5rKGRvY3VtZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0OC5zZW50O1xuXG4gICAgICAgICAgICAgICAgX3RoaXMuZGlzcGF0Y2goYWRkU2hhcmluZ0xpbmsocmVzcC5kYXRhKSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdChcInJldHVyblwiLCByZXNwKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU4KTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDExKSB7XG4gICAgICAgIHJldHVybiBfcmVmMTAuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfSgpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJ1cGRhdGVEb2N1bWVudFBlcm1pc3Npb25zXCIsIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjExID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKGRvY3VtZW50LCBuZXdWZXJicykge1xuICAgICAgICB2YXIgcGVybWlzc2lvbnMsIHJlc3BvbnNlcztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb25zID0gX2dldERvY3VtZW50UGVybWlzc2lvbnMoX3RoaXMuc3RhdGUsIGRvY3VtZW50LmlkKTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwZXJtaXNzaW9ucy5tYXAoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgX3JlZjEyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkocGVybWlzc2lvbkRvY3VtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVkUGVybWlzc2lvbnMsIHJlc3A7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkge1xuICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRQZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25Eb2N1bWVudC5hdHRyaWJ1dGVzLnBlcm1pc3Npb25zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHVwZGF0ZWRQZXJtaXNzaW9ucykubWFwKGZ1bmN0aW9uIChwZXJtVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFBlcm1pc3Npb25zW3Blcm1UeXBlXS52ZXJicyA9IG5ld1ZlcmJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucGVybWlzc2lvbkNvbC5hZGQocGVybWlzc2lvbkRvY3VtZW50LCB1cGRhdGVkUGVybWlzc2lvbnMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQ5LnNlbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXNwYXRjaCh1cGRhdGVTaGFyaW5nTGluayhyZXNwKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LmFicnVwdChcInJldHVyblwiLCByZXNwKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU5KTtcbiAgICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDE0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMTIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSgpKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlcyA9IF9jb250ZXh0MTAuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzcG9uc2VzKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTApO1xuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKF94MTIsIF94MTMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWYxMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9KCkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInJldm9rZVNoYXJpbmdMaW5rXCIsIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjEzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKGRvY3VtZW50KSB7XG4gICAgICAgIHZhciBwZXJtcztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIC8vIEJlY2F1c2Ugc29tZSBkdXBsaWNhdGUgbGlua3MgaGF2ZSBiZWVuIGNyZWF0ZWQgaW4gdGhlIHBhc3QsIHdlIG11c3QgZW5zdXJlXG4gICAgICAgICAgICAgICAgLy8gd2UgcmV2b2tlIGFsbCBvZiB0aGVtXG4gICAgICAgICAgICAgICAgcGVybXMgPSBfZ2V0RG9jdW1lbnRQZXJtaXNzaW9ucyhfdGhpcy5zdGF0ZSwgZG9jdW1lbnQuaWQpO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBlcm1zLm1hcChmdW5jdGlvbiAocCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnBlcm1pc3Npb25Db2wuZGVzdHJveShwKTtcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIF90aGlzLmRpc3BhdGNoKHJldm9rZVNoYXJpbmdMaW5rKHBlcm1zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTExKTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDE1KSB7XG4gICAgICAgIHJldHVybiBfcmVmMTMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfSgpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJoYXNXcml0ZUFjY2Vzc1wiLCBmdW5jdGlvbiAoZG9jSWQpIHtcbiAgICAgIHZhciBpbnN0YW5jZVVyaSA9IF90aGlzLnByb3BzLmNsaWVudC5nZXRTdGFja0NsaWVudCgpLnVyaTtcblxuICAgICAgcmV0dXJuICFfdGhpcy5zdGF0ZS5ieURvY0lkIHx8ICFfdGhpcy5zdGF0ZS5ieURvY0lkW2RvY0lkXSB8fCBfaXNPd25lcihfdGhpcy5zdGF0ZSwgZG9jSWQpIHx8IF9nZXRTaGFyaW5nVHlwZShfdGhpcy5zdGF0ZSwgZG9jSWQsIGluc3RhbmNlVXJpKSA9PT0gJ3R3by13YXknO1xuICAgIH0pO1xuXG4gICAgdmFyIF9pbnN0YW5jZVVyaSA9IHByb3BzLmNsaWVudC5nZXRTdGFja0NsaWVudCgpLnVyaTtcbiAgICB2YXIgZG9jdW1lbnRUeXBlID0gcHJvcHMuZG9jdW1lbnRUeXBlIHx8ICdEb2N1bWVudCc7XG5cbiAgICB2YXIgb25TaGFyZWQgPSBwcm9wcy5vblNoYXJlZCB8fCBmdW5jdGlvbiAoKSB7fTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgYnlEb2NJZDoge30sXG4gICAgICBzaGFyaW5nczogW10sXG4gICAgICBwZXJtaXNzaW9uczogW10sXG4gICAgICBzaGFyZWRGb2xkZXJQYXRoczogW10sXG4gICAgICBkb2N1bWVudFR5cGU6IGRvY3VtZW50VHlwZSxcbiAgICAgIGlzT3duZXI6IGZ1bmN0aW9uIGlzT3duZXIoZG9jSWQpIHtcbiAgICAgICAgcmV0dXJuIF9pc093bmVyKF90aGlzLnN0YXRlLCBkb2NJZCk7XG4gICAgICB9LFxuICAgICAgY2FuUmVzaGFyZTogZnVuY3Rpb24gY2FuUmVzaGFyZShkb2NJZCkge1xuICAgICAgICByZXR1cm4gX2NhblJlc2hhcmUoX3RoaXMuc3RhdGUsIGRvY0lkLCBfaW5zdGFuY2VVcmkpO1xuICAgICAgfSxcbiAgICAgIGdldE93bmVyOiBmdW5jdGlvbiBnZXRPd25lcihkb2NJZCkge1xuICAgICAgICByZXR1cm4gX2dldE93bmVyKF90aGlzLnN0YXRlLCBkb2NJZCk7XG4gICAgICB9LFxuICAgICAgZ2V0U2hhcmluZ1R5cGU6IGZ1bmN0aW9uIGdldFNoYXJpbmdUeXBlKGRvY0lkKSB7XG4gICAgICAgIHJldHVybiBfZ2V0U2hhcmluZ1R5cGUoX3RoaXMuc3RhdGUsIGRvY0lkLCBfaW5zdGFuY2VVcmkpO1xuICAgICAgfSxcbiAgICAgIGdldFNoYXJpbmdGb3JTZWxmOiBmdW5jdGlvbiBnZXRTaGFyaW5nRm9yU2VsZihkb2NJZCkge1xuICAgICAgICByZXR1cm4gX2dldFNoYXJpbmdGb3JTZWxmKF90aGlzLnN0YXRlLCBkb2NJZCk7XG4gICAgICB9LFxuICAgICAgZ2V0UmVjaXBpZW50czogZnVuY3Rpb24gZ2V0UmVjaXBpZW50cyhkb2NJZCkge1xuICAgICAgICByZXR1cm4gX2dldFJlY2lwaWVudHMoX3RoaXMuc3RhdGUsIGRvY0lkKTtcbiAgICAgIH0sXG4gICAgICBnZXREb2N1bWVudFBlcm1pc3Npb25zOiBmdW5jdGlvbiBnZXREb2N1bWVudFBlcm1pc3Npb25zKGRvY0lkKSB7XG4gICAgICAgIHJldHVybiBfZ2V0RG9jdW1lbnRQZXJtaXNzaW9ucyhfdGhpcy5zdGF0ZSwgZG9jSWQpO1xuICAgICAgfSxcbiAgICAgIGdldFNoYXJpbmdMaW5rOiBmdW5jdGlvbiBnZXRTaGFyaW5nTGluayhkb2NJZCkge1xuICAgICAgICByZXR1cm4gX2dldFNoYXJpbmdMaW5rKF90aGlzLnN0YXRlLCBkb2NJZCwgZG9jdW1lbnRUeXBlKTtcbiAgICAgIH0sXG4gICAgICBoYXNTaGFyZWRQYXJlbnQ6IGZ1bmN0aW9uIGhhc1NoYXJlZFBhcmVudChkb2N1bWVudFBhdGgpIHtcbiAgICAgICAgcmV0dXJuIF9oYXNTaGFyZWRQYXJlbnQoX3RoaXMuc3RhdGUsIGRvY3VtZW50UGF0aCk7XG4gICAgICB9LFxuICAgICAgaGFzU2hhcmVkQ2hpbGQ6IGZ1bmN0aW9uIGhhc1NoYXJlZENoaWxkKGRvY3VtZW50UGF0aCkge1xuICAgICAgICByZXR1cm4gX2hhc1NoYXJlZENoaWxkKF90aGlzLnN0YXRlLCBkb2N1bWVudFBhdGgpO1xuICAgICAgfSxcbiAgICAgIHNoYXJlOiBfdGhpcy5zaGFyZSxcbiAgICAgIG9uU2hhcmVkOiBvblNoYXJlZCxcbiAgICAgIHJldm9rZTogX3RoaXMucmV2b2tlLFxuICAgICAgcmV2b2tlU2VsZjogX3RoaXMucmV2b2tlU2VsZixcbiAgICAgIHNoYXJlQnlMaW5rOiBfdGhpcy5zaGFyZUJ5TGluayxcbiAgICAgIHVwZGF0ZURvY3VtZW50UGVybWlzc2lvbnM6IF90aGlzLnVwZGF0ZURvY3VtZW50UGVybWlzc2lvbnMsXG4gICAgICByZXZva2VTaGFyaW5nTGluazogX3RoaXMucmV2b2tlU2hhcmluZ0xpbmssXG4gICAgICBoYXNMb2FkZWRBdExlYXN0T25lUGFnZTogZmFsc2UsXG4gICAgICBhbGxMb2FkZWQ6IGZhbHNlLFxuICAgICAgcmV2b2tlQWxsUmVjaXBpZW50czogX3RoaXMucmV2b2tlQWxsUmVjaXBpZW50cyxcbiAgICAgIHJlZnJlc2g6IF90aGlzLmZldGNoQWxsU2hhcmluZ3MsXG4gICAgICBoYXNXcml0ZUFjY2VzczogX3RoaXMuaGFzV3JpdGVBY2Nlc3NcbiAgICB9O1xuICAgIF90aGlzLnJlYWx0aW1lID0gbnVsbDtcbiAgICBfdGhpcy5pc0luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgdmFyIF9jbGllbnQgPSBwcm9wcy5jbGllbnQ7XG4gICAgX3RoaXMuc2hhcmluZ0NvbCA9IF9jbGllbnQuY29sbGVjdGlvbihTSEFSSU5HX0RPQ1RZUEUpO1xuICAgIF90aGlzLnBlcm1pc3Npb25Db2wgPSBfY2xpZW50LmNvbGxlY3Rpb24oUEVSTUlTU0lPTl9ET0NUWVBFKTtcbiAgICBfdGhpcy5mZXRjaEFsbFNoYXJpbmdzID0gX3RoaXMuZmV0Y2hBbGxTaGFyaW5ncy5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU2hhcmluZ1Byb3ZpZGVyLCBbe1xuICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHZhciBjbGllbnQgPSB0aGlzLnByb3BzLmNsaWVudDtcblxuICAgICAgaWYgKGNsaWVudC5pc0xvZ2dlZCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsaWVudC5vbigncGx1Z2luOnJlYWx0aW1lOmxvZ2luJywgdGhpcy5pbml0aWFsaXplKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50V2lsbFVubW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICBpZiAodGhpcy5yZWFsdGltZSkge1xuICAgICAgICB0aGlzLnJlYWx0aW1lLnVuc3Vic2NyaWJlKCdjcmVhdGVkJywgU0hBUklOR19ET0NUWVBFLCB0aGlzLmhhbmRsZUNyZWF0ZU9yVXBkYXRlU2hhcmluZ3MpO1xuICAgICAgICB0aGlzLnJlYWx0aW1lLnVuc3Vic2NyaWJlKCd1cGRhdGVkJywgU0hBUklOR19ET0NUWVBFLCB0aGlzLmhhbmRsZUNyZWF0ZU9yVXBkYXRlU2hhcmluZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmZXRjaEFsbFNoYXJpbmdzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZmV0Y2hBbGxTaGFyaW5ncyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHtcbiAgICAgICAgdmFyIF90aGlzJHByb3BzNSwgZG9jdHlwZSwgY2xpZW50LCBfeWllbGQkUHJvbWlzZSRhbGwsIF95aWVsZCRQcm9taXNlJGFsbDIsIHNoYXJpbmdzLCBwZXJtaXNzaW9ucywgYXBwcywgc2hhcmVkRG9jSWRzLCByZXNwLCBmb2xkZXJQYXRocywgZmlsZVBhdGhzO1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfdGhpcyRwcm9wczUgPSB0aGlzLnByb3BzLCBkb2N0eXBlID0gX3RoaXMkcHJvcHM1LmRvY3R5cGUsIGNsaWVudCA9IF90aGlzJHByb3BzNS5jbGllbnQ7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuc2hhcmluZ0NvbC5maW5kQnlEb2N0eXBlKGRvY3R5cGUpLCB0aGlzLnBlcm1pc3Npb25Db2wuZmluZExpbmtzQnlEb2N0eXBlKGRvY3R5cGUpLCBjbGllbnQucXVlcnkoZmV0Y2hBcHBzKCkuZGVmaW5pdGlvbiwgZmV0Y2hBcHBzKCkub3B0aW9ucyldKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgX3lpZWxkJFByb21pc2UkYWxsID0gX2NvbnRleHQxMi5zZW50O1xuICAgICAgICAgICAgICAgIF95aWVsZCRQcm9taXNlJGFsbDIgPSBfc2xpY2VkVG9BcnJheShfeWllbGQkUHJvbWlzZSRhbGwsIDMpO1xuICAgICAgICAgICAgICAgIHNoYXJpbmdzID0gX3lpZWxkJFByb21pc2UkYWxsMlswXTtcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9ucyA9IF95aWVsZCRQcm9taXNlJGFsbDJbMV07XG4gICAgICAgICAgICAgICAgYXBwcyA9IF95aWVsZCRQcm9taXNlJGFsbDJbMl07XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaChyZWNlaXZlU2hhcmluZ3Moe1xuICAgICAgICAgICAgICAgICAgaW5zdGFuY2VVcmk6IGNsaWVudC5vcHRpb25zLnVyaSxcbiAgICAgICAgICAgICAgICAgIHNoYXJpbmdzOiBzaGFyaW5ncy5kYXRhLFxuICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbnM6IHBlcm1pc3Npb25zLmRhdGEsXG4gICAgICAgICAgICAgICAgICBhcHBzOiBhcHBzLmRhdGFcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICBoYXNMb2FkZWRBdExlYXN0T25lUGFnZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJvbWlzZS9jYXRjaC1vci1yZXR1cm5cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDEyO1xuICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaE5leHRQZXJtaXNzaW9ucyhwZXJtaXNzaW9ucywgdGhpcy5kaXNwYXRjaCwgdGhpcy5wZXJtaXNzaW9uQ29sKTtcblxuICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgIGlmICghKGRvY3R5cGUgPT09ICdpby5jb3p5LmZpbGVzJykpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDIyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2hhcmVkRG9jSWRzID0gZ2V0U2hhcmVkRG9jSWRzQnlTaGFyaW5ncyhzaGFyaW5ncyk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMTY7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsaWVudC5jb2xsZWN0aW9uKGRvY3R5cGUpLmFsbCh7XG4gICAgICAgICAgICAgICAgICBrZXlzOiBzaGFyZWREb2NJZHNcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dDEyLnNlbnQ7XG4gICAgICAgICAgICAgICAgZm9sZGVyUGF0aHMgPSByZXNwLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChmKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZi50eXBlID09PSAnZGlyZWN0b3J5JyAmJiAhZi50cmFzaGVkO1xuICAgICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAoZikge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGYucGF0aDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAyMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hGaWxlc1BhdGhzKGNsaWVudCwgZG9jdHlwZSwgcmVzcC5kYXRhLmZpbHRlcihmdW5jdGlvbiAoZikge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGYudHlwZSAhPT0gJ2RpcmVjdG9yeScgJiYgIWYudHJhc2hlZDtcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyMDpcbiAgICAgICAgICAgICAgICBmaWxlUGF0aHMgPSBfY29udGV4dDEyLnNlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaChyZWNlaXZlUGF0aHMoW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShmb2xkZXJQYXRocyksIF90b0NvbnN1bWFibGVBcnJheShmaWxlUGF0aHMpKSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICBhbGxMb2FkZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTEyLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZmV0Y2hBbGxTaGFyaW5ncygpIHtcbiAgICAgICAgcmV0dXJuIF9mZXRjaEFsbFNoYXJpbmdzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmZXRjaEFsbFNoYXJpbmdzO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAvLyBXQVJOOiB3aGUgc2hvdWxkbid0IGRvIHRoaXMgKGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9jb250ZXh0Lmh0bWwjY2F2ZWF0cylcbiAgICAgIC8vIGJ1dCBpZiB3ZSBkb24ndCwgY29uc3VtZXJzIGRvbid0IHJlcmVuZGVyIHdoZW4gdGhlIHN0YXRlIGNoYW5nZXMgYWZ0ZXIgbG9hZGluZyB0aGUgc2hhcmluZ3MsXG4gICAgICAvLyBwcm9iYWJseSBiZWNhdXNlIHRoZSBzdGF0ZSBvYmplY3QgcmVtYWlucyB0aGUgc2FtZS4uLlxuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFNoYXJpbmdDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgICAgIHZhbHVlOiBfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLnN0YXRlKVxuICAgICAgfSwgdGhpcy5wcm9wcy5jaGlsZHJlbik7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNoYXJpbmdQcm92aWRlcjtcbn0oQ29tcG9uZW50KTtcbmV4cG9ydCBkZWZhdWx0IHdpdGhDbGllbnQoU2hhcmluZ1Byb3ZpZGVyKTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/cozy-sharing/dist/SharingProvider.js\n");

/***/ }),

/***/ "./node_modules/cozy-sharing/dist/components/EditLinkPermissionDialog.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/I18n/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/CozyDialogs/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Buttons/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Radios__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Radios/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_RadioGroup__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/RadioGroup/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_FormControlLabel__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/FormControlLabel/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Alerter/index.js\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/logger.js\");\n/* harmony import */ var _helpers_permissions__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/helpers/permissions.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar EditLinkPermissionDialog = function EditLinkPermissionDialog(_ref) {\n  var open = _ref.open,\n      onClose = _ref.onClose,\n      document = _ref.document,\n      documentType = _ref.documentType,\n      permissions = _ref.permissions,\n      onChangePermissions = _ref.onChangePermissions;\n\n  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_3__[\"useI18n\"])(),\n      t = _useI18n.t;\n\n  var isReadOnlyPermissionsInitial = Object(_helpers_permissions__WEBPACK_IMPORTED_MODULE_11__[\"checkIsReadOnlyPermissions\"])(permissions);\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(isReadOnlyPermissionsInitial),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),\n      isReadOnlyPermissions = _useState2[0],\n      setIsReadOnlyPermissions = _useState2[1];\n\n  var updateLinkPermissions = function updateLinkPermissions(_ref2) {\n    var isReadOnly = _ref2.isReadOnly;\n    var verbs = isReadOnly ? ['GET'] : ['GET', 'POST', 'PUT', 'PATCH'];\n\n    try {\n      onChangePermissions(document, verbs);\n    } catch (err) {\n      cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_9__[\"default\"].error(t(\"\".concat(documentType, \".share.shareByLink.permserror\")));\n      _logger__WEBPACK_IMPORTED_MODULE_10__[\"default\"].log(err);\n    }\n  };\n\n  var onChange = function onChange(event) {\n    setIsReadOnlyPermissions(event.target.value === 'true');\n  };\n\n  var onConfirm = function onConfirm() {\n    if (isReadOnlyPermissions !== isReadOnlyPermissionsInitial) {\n      updateLinkPermissions({\n        isReadOnly: isReadOnlyPermissions\n      });\n    }\n\n    onClose();\n  };\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_4__[\"ConfirmDialog\"], {\n    open: open,\n    onClose: onClose,\n    title: t('Share.permissionLink.title'),\n    content: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_RadioGroup__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n      \"aria-label\": \"radio\",\n      value: isReadOnlyPermissions.toString(),\n      onChange: onChange\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_FormControlLabel__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      value: \"true\",\n      label: (document === null || document === void 0 ? void 0 : document.type) === 'directory' ? t(\"Share.permissionLink.seeFolder\") : t(\"Share.permissionLink.seeFile\"),\n      control: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Radios__WEBPACK_IMPORTED_MODULE_6__[\"default\"], null)\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_FormControlLabel__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      value: \"false\",\n      label: (document === null || document === void 0 ? void 0 : document.type) === 'directory' ? t(\"Share.permissionLink.modifyFolder\") : t(\"Share.permissionLink.modifyFile\"),\n      control: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Radios__WEBPACK_IMPORTED_MODULE_6__[\"default\"], null)\n    })),\n    actions: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      variant: \"secondary\",\n      label: t('Share.permissionLink.cancel'),\n      onClick: onClose\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      variant: \"primary\",\n      label: t('Share.permissionLink.confirm'),\n      onClick: onConfirm\n    }))\n  });\n};\n\nEditLinkPermissionDialog.propTypes = {\n  open: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,\n  onClose: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,\n  document: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired,\n  documentType: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,\n  permissions: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.array.isRequired,\n  onChangePermissions: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (EditLinkPermissionDialog);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY296eS1zaGFyaW5nL2Rpc3QvY29tcG9uZW50cy9FZGl0TGlua1Blcm1pc3Npb25EaWFsb2cuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY296eS1zaGFyaW5nL2Rpc3QvY29tcG9uZW50cy9FZGl0TGlua1Blcm1pc3Npb25EaWFsb2cuanM/OWUzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheVwiO1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IHVzZUkxOG4gfSBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvSTE4bic7XG5pbXBvcnQgeyBDb25maXJtRGlhbG9nIH0gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0NvenlEaWFsb2dzJztcbmltcG9ydCBCdXR0b24gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0J1dHRvbnMnO1xuaW1wb3J0IFJhZGlvIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9SYWRpb3MnO1xuaW1wb3J0IFJhZGlvR3JvdXAgZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L1JhZGlvR3JvdXAnO1xuaW1wb3J0IEZvcm1Db250cm9sTGFiZWwgZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0Zvcm1Db250cm9sTGFiZWwnO1xuaW1wb3J0IEFsZXJ0ZXIgZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0FsZXJ0ZXInO1xuaW1wb3J0IGxvZ2dlciBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgY2hlY2tJc1JlYWRPbmx5UGVybWlzc2lvbnMgfSBmcm9tICcuLi9oZWxwZXJzL3Blcm1pc3Npb25zJztcblxudmFyIEVkaXRMaW5rUGVybWlzc2lvbkRpYWxvZyA9IGZ1bmN0aW9uIEVkaXRMaW5rUGVybWlzc2lvbkRpYWxvZyhfcmVmKSB7XG4gIHZhciBvcGVuID0gX3JlZi5vcGVuLFxuICAgICAgb25DbG9zZSA9IF9yZWYub25DbG9zZSxcbiAgICAgIGRvY3VtZW50ID0gX3JlZi5kb2N1bWVudCxcbiAgICAgIGRvY3VtZW50VHlwZSA9IF9yZWYuZG9jdW1lbnRUeXBlLFxuICAgICAgcGVybWlzc2lvbnMgPSBfcmVmLnBlcm1pc3Npb25zLFxuICAgICAgb25DaGFuZ2VQZXJtaXNzaW9ucyA9IF9yZWYub25DaGFuZ2VQZXJtaXNzaW9ucztcblxuICB2YXIgX3VzZUkxOG4gPSB1c2VJMThuKCksXG4gICAgICB0ID0gX3VzZUkxOG4udDtcblxuICB2YXIgaXNSZWFkT25seVBlcm1pc3Npb25zSW5pdGlhbCA9IGNoZWNrSXNSZWFkT25seVBlcm1pc3Npb25zKHBlcm1pc3Npb25zKTtcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoaXNSZWFkT25seVBlcm1pc3Npb25zSW5pdGlhbCksXG4gICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSxcbiAgICAgIGlzUmVhZE9ubHlQZXJtaXNzaW9ucyA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRJc1JlYWRPbmx5UGVybWlzc2lvbnMgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHZhciB1cGRhdGVMaW5rUGVybWlzc2lvbnMgPSBmdW5jdGlvbiB1cGRhdGVMaW5rUGVybWlzc2lvbnMoX3JlZjIpIHtcbiAgICB2YXIgaXNSZWFkT25seSA9IF9yZWYyLmlzUmVhZE9ubHk7XG4gICAgdmFyIHZlcmJzID0gaXNSZWFkT25seSA/IFsnR0VUJ10gOiBbJ0dFVCcsICdQT1NUJywgJ1BVVCcsICdQQVRDSCddO1xuXG4gICAgdHJ5IHtcbiAgICAgIG9uQ2hhbmdlUGVybWlzc2lvbnMoZG9jdW1lbnQsIHZlcmJzKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIEFsZXJ0ZXIuZXJyb3IodChcIlwiLmNvbmNhdChkb2N1bWVudFR5cGUsIFwiLnNoYXJlLnNoYXJlQnlMaW5rLnBlcm1zZXJyb3JcIikpKTtcbiAgICAgIGxvZ2dlci5sb2coZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uQ2hhbmdlID0gZnVuY3Rpb24gb25DaGFuZ2UoZXZlbnQpIHtcbiAgICBzZXRJc1JlYWRPbmx5UGVybWlzc2lvbnMoZXZlbnQudGFyZ2V0LnZhbHVlID09PSAndHJ1ZScpO1xuICB9O1xuXG4gIHZhciBvbkNvbmZpcm0gPSBmdW5jdGlvbiBvbkNvbmZpcm0oKSB7XG4gICAgaWYgKGlzUmVhZE9ubHlQZXJtaXNzaW9ucyAhPT0gaXNSZWFkT25seVBlcm1pc3Npb25zSW5pdGlhbCkge1xuICAgICAgdXBkYXRlTGlua1Blcm1pc3Npb25zKHtcbiAgICAgICAgaXNSZWFkT25seTogaXNSZWFkT25seVBlcm1pc3Npb25zXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBvbkNsb3NlKCk7XG4gIH07XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENvbmZpcm1EaWFsb2csIHtcbiAgICBvcGVuOiBvcGVuLFxuICAgIG9uQ2xvc2U6IG9uQ2xvc2UsXG4gICAgdGl0bGU6IHQoJ1NoYXJlLnBlcm1pc3Npb25MaW5rLnRpdGxlJyksXG4gICAgY29udGVudDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmFkaW9Hcm91cCwge1xuICAgICAgXCJhcmlhLWxhYmVsXCI6IFwicmFkaW9cIixcbiAgICAgIHZhbHVlOiBpc1JlYWRPbmx5UGVybWlzc2lvbnMudG9TdHJpbmcoKSxcbiAgICAgIG9uQ2hhbmdlOiBvbkNoYW5nZVxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1Db250cm9sTGFiZWwsIHtcbiAgICAgIHZhbHVlOiBcInRydWVcIixcbiAgICAgIGxhYmVsOiAoZG9jdW1lbnQgPT09IG51bGwgfHwgZG9jdW1lbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRvY3VtZW50LnR5cGUpID09PSAnZGlyZWN0b3J5JyA/IHQoXCJTaGFyZS5wZXJtaXNzaW9uTGluay5zZWVGb2xkZXJcIikgOiB0KFwiU2hhcmUucGVybWlzc2lvbkxpbmsuc2VlRmlsZVwiKSxcbiAgICAgIGNvbnRyb2w6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJhZGlvLCBudWxsKVxuICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtQ29udHJvbExhYmVsLCB7XG4gICAgICB2YWx1ZTogXCJmYWxzZVwiLFxuICAgICAgbGFiZWw6IChkb2N1bWVudCA9PT0gbnVsbCB8fCBkb2N1bWVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZG9jdW1lbnQudHlwZSkgPT09ICdkaXJlY3RvcnknID8gdChcIlNoYXJlLnBlcm1pc3Npb25MaW5rLm1vZGlmeUZvbGRlclwiKSA6IHQoXCJTaGFyZS5wZXJtaXNzaW9uTGluay5tb2RpZnlGaWxlXCIpLFxuICAgICAgY29udHJvbDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmFkaW8sIG51bGwpXG4gICAgfSkpLFxuICAgIGFjdGlvbnM6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgIHZhcmlhbnQ6IFwic2Vjb25kYXJ5XCIsXG4gICAgICBsYWJlbDogdCgnU2hhcmUucGVybWlzc2lvbkxpbmsuY2FuY2VsJyksXG4gICAgICBvbkNsaWNrOiBvbkNsb3NlXG4gICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgICAgdmFyaWFudDogXCJwcmltYXJ5XCIsXG4gICAgICBsYWJlbDogdCgnU2hhcmUucGVybWlzc2lvbkxpbmsuY29uZmlybScpLFxuICAgICAgb25DbGljazogb25Db25maXJtXG4gICAgfSkpXG4gIH0pO1xufTtcblxuRWRpdExpbmtQZXJtaXNzaW9uRGlhbG9nLnByb3BUeXBlcyA9IHtcbiAgb3BlbjogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgb25DbG9zZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgZG9jdW1lbnQ6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgZG9jdW1lbnRUeXBlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIHBlcm1pc3Npb25zOiBQcm9wVHlwZXMuYXJyYXkuaXNSZXF1aXJlZCxcbiAgb25DaGFuZ2VQZXJtaXNzaW9uczogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxufTtcbmV4cG9ydCBkZWZhdWx0IEVkaXRMaW5rUGVybWlzc2lvbkRpYWxvZzsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/cozy-sharing/dist/components/EditLinkPermissionDialog.js\n");

/***/ }),

/***/ "./node_modules/cozy-sharing/dist/components/Recipient/LinkRecipientPermissions.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/I18n/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_DropdownButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/DropdownButton/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/ActionMenu/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Typography/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Icon/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Icons_Trash__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Icons/Trash.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Alerter/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Spinner/index.js\");\n/* harmony import */ var _helpers_permissions__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/helpers/permissions.js\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/logger.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar LinkRecipientPermissions = function LinkRecipientPermissions(_ref) {\n  var className = _ref.className,\n      document = _ref.document,\n      documentType = _ref.documentType,\n      permissions = _ref.permissions,\n      onChangePermissions = _ref.onChangePermissions,\n      onDisable = _ref.onDisable;\n\n  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_4__[\"useI18n\"])(),\n      t = _useI18n.t;\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),\n      menuIsOpen = _useState2[0],\n      setMenuIsOpen = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),\n      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var isReadOnlyPermissions = Object(_helpers_permissions__WEBPACK_IMPORTED_MODULE_12__[\"checkIsReadOnlyPermissions\"])(permissions);\n\n  var toggleMenu = function toggleMenu() {\n    setMenuIsOpen(!menuIsOpen);\n  };\n\n  var deleteShareLink = /*#__PURE__*/function () {\n    var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee() {\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              setLoading(true);\n              _context.next = 4;\n              return onDisable(document);\n\n            case 4:\n              _context.next = 10;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](0);\n              cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_10__[\"default\"].error(t(\"\".concat(documentType, \".share.error.revoke\")));\n              _logger__WEBPACK_IMPORTED_MODULE_13__[\"default\"].log(_context.t0);\n\n            case 10:\n              _context.prev = 10;\n              setLoading(false);\n              return _context.finish(10);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 6, 10, 13]]);\n    }));\n\n    return function deleteShareLink() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var updateLinkPermissions = function updateLinkPermissions(_ref3) {\n    var isReadOnly = _ref3.isReadOnly;\n    var verbs = isReadOnly ? ['GET'] : ['GET', 'POST', 'PUT', 'PATCH'];\n\n    try {\n      onChangePermissions(document, verbs);\n    } catch (err) {\n      cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_10__[\"default\"].error(t(\"\".concat(documentType, \".share.shareByLink.permserror\")));\n      _logger__WEBPACK_IMPORTED_MODULE_13__[\"default\"].log(err);\n    }\n  };\n\n  var buttonRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createRef();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    className: className\n  }, loading && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_11__[\"default\"], null), !loading && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_DropdownButton__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    onClick: toggleMenu,\n    ref: buttonRef,\n    textVariant: \"body2\"\n  }, t(\"Share.type.\".concat(isReadOnlyPermissions ? 'one-way' : 'two-way')).toLowerCase()), menuIsOpen && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    onClose: toggleMenu,\n    anchorElRef: buttonRef\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_6__[\"ActionMenuItem\"], {\n    left: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_6__[\"ActionMenuRadio\"], {\n      name: \"permissionLinkMenu\",\n      value: \"true\",\n      checked: isReadOnlyPermissions\n    }),\n    onClick: function onClick() {\n      toggleMenu();\n      updateLinkPermissions({\n        isReadOnly: true\n      });\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, (document === null || document === void 0 ? void 0 : document.type) === 'directory' ? t(\"Share.permissionLink.seeFolder\") : t(\"Share.permissionLink.seeFile\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    className: \"u-mt-half\",\n    variant: \"caption\",\n    color: \"textSecondary\"\n  }, t(t('Share.permissionLink.readDescription'))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_6__[\"ActionMenuItem\"], {\n    left: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_6__[\"ActionMenuRadio\"], {\n      name: \"permissionLinkMenu\",\n      value: \"false\",\n      checked: !isReadOnlyPermissions\n    }),\n    onClick: function onClick() {\n      toggleMenu();\n      updateLinkPermissions({\n        isReadOnly: false\n      });\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, (document === null || document === void 0 ? void 0 : document.type) === 'directory' ? t(\"Share.permissionLink.modifyFolder\") : t(\"Share.permissionLink.modifyFile\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    className: \"u-mt-half\",\n    variant: \"caption\",\n    color: \"textSecondary\"\n  }, t('Share.permissionLink.writeDescription')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"hr\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_ActionMenu__WEBPACK_IMPORTED_MODULE_6__[\"ActionMenuItem\"], {\n    left: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      icon: cozy_ui_transpiled_react_Icons_Trash__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n      color: \"var(--errorColor)\"\n    }),\n    onClick: function onClick() {\n      toggleMenu();\n      deleteShareLink();\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Typography__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    className: \"u-error\",\n    variant: \"body1\"\n  }, t('Share.permissionLink.deactivate'))))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (LinkRecipientPermissions);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY296eS1zaGFyaW5nL2Rpc3QvY29tcG9uZW50cy9SZWNpcGllbnQvTGlua1JlY2lwaWVudFBlcm1pc3Npb25zLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nvenktc2hhcmluZy9kaXN0L2NvbXBvbmVudHMvUmVjaXBpZW50L0xpbmtSZWNpcGllbnRQZXJtaXNzaW9ucy5qcz8zNTgwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yXCI7XG5pbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheVwiO1xuaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSBcIkBiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yXCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VJMThuIH0gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0kxOG4nO1xuaW1wb3J0IERyb3Bkb3duQnV0dG9uIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9Ecm9wZG93bkJ1dHRvbic7XG5pbXBvcnQgQWN0aW9uTWVudSwgeyBBY3Rpb25NZW51SXRlbSwgQWN0aW9uTWVudVJhZGlvIH0gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0FjdGlvbk1lbnUnO1xuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L1R5cG9ncmFwaHknO1xuaW1wb3J0IEljb24gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0ljb24nO1xuaW1wb3J0IFRyYXNoSWNvbiBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvSWNvbnMvVHJhc2gnO1xuaW1wb3J0IEFsZXJ0ZXIgZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0FsZXJ0ZXInO1xuaW1wb3J0IFNwaW5uZXIgZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L1NwaW5uZXInO1xuaW1wb3J0IHsgY2hlY2tJc1JlYWRPbmx5UGVybWlzc2lvbnMgfSBmcm9tICcuLi8uLi9oZWxwZXJzL3Blcm1pc3Npb25zJztcbmltcG9ydCBsb2dnZXIgZnJvbSAnLi4vLi4vbG9nZ2VyJztcblxudmFyIExpbmtSZWNpcGllbnRQZXJtaXNzaW9ucyA9IGZ1bmN0aW9uIExpbmtSZWNpcGllbnRQZXJtaXNzaW9ucyhfcmVmKSB7XG4gIHZhciBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIGRvY3VtZW50ID0gX3JlZi5kb2N1bWVudCxcbiAgICAgIGRvY3VtZW50VHlwZSA9IF9yZWYuZG9jdW1lbnRUeXBlLFxuICAgICAgcGVybWlzc2lvbnMgPSBfcmVmLnBlcm1pc3Npb25zLFxuICAgICAgb25DaGFuZ2VQZXJtaXNzaW9ucyA9IF9yZWYub25DaGFuZ2VQZXJtaXNzaW9ucyxcbiAgICAgIG9uRGlzYWJsZSA9IF9yZWYub25EaXNhYmxlO1xuXG4gIHZhciBfdXNlSTE4biA9IHVzZUkxOG4oKSxcbiAgICAgIHQgPSBfdXNlSTE4bi50O1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSxcbiAgICAgIG1lbnVJc09wZW4gPSBfdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0TWVudUlzT3BlbiA9IF91c2VTdGF0ZTJbMV07XG5cbiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksXG4gICAgICBsb2FkaW5nID0gX3VzZVN0YXRlNFswXSxcbiAgICAgIHNldExvYWRpbmcgPSBfdXNlU3RhdGU0WzFdO1xuXG4gIHZhciBpc1JlYWRPbmx5UGVybWlzc2lvbnMgPSBjaGVja0lzUmVhZE9ubHlQZXJtaXNzaW9ucyhwZXJtaXNzaW9ucyk7XG5cbiAgdmFyIHRvZ2dsZU1lbnUgPSBmdW5jdGlvbiB0b2dnbGVNZW51KCkge1xuICAgIHNldE1lbnVJc09wZW4oIW1lbnVJc09wZW4pO1xuICB9O1xuXG4gIHZhciBkZWxldGVTaGFyZUxpbmsgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7XG4gICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDtcbiAgICAgICAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7XG4gICAgICAgICAgICAgIHJldHVybiBvbkRpc2FibGUoZG9jdW1lbnQpO1xuXG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDY7XG4gICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbXCJjYXRjaFwiXSgwKTtcbiAgICAgICAgICAgICAgQWxlcnRlci5lcnJvcih0KFwiXCIuY29uY2F0KGRvY3VtZW50VHlwZSwgXCIuc2hhcmUuZXJyb3IucmV2b2tlXCIpKSk7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coX2NvbnRleHQudDApO1xuXG4gICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTA7XG4gICAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuZmluaXNoKDEwKTtcblxuICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgNiwgMTAsIDEzXV0pO1xuICAgIH0pKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiBkZWxldGVTaGFyZUxpbmsoKSB7XG4gICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9KCk7XG5cbiAgdmFyIHVwZGF0ZUxpbmtQZXJtaXNzaW9ucyA9IGZ1bmN0aW9uIHVwZGF0ZUxpbmtQZXJtaXNzaW9ucyhfcmVmMykge1xuICAgIHZhciBpc1JlYWRPbmx5ID0gX3JlZjMuaXNSZWFkT25seTtcbiAgICB2YXIgdmVyYnMgPSBpc1JlYWRPbmx5ID8gWydHRVQnXSA6IFsnR0VUJywgJ1BPU1QnLCAnUFVUJywgJ1BBVENIJ107XG5cbiAgICB0cnkge1xuICAgICAgb25DaGFuZ2VQZXJtaXNzaW9ucyhkb2N1bWVudCwgdmVyYnMpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgQWxlcnRlci5lcnJvcih0KFwiXCIuY29uY2F0KGRvY3VtZW50VHlwZSwgXCIuc2hhcmUuc2hhcmVCeUxpbmsucGVybXNlcnJvclwiKSkpO1xuICAgICAgbG9nZ2VyLmxvZyhlcnIpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgYnV0dG9uUmVmID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZVJlZigpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lXG4gIH0sIGxvYWRpbmcgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3Bpbm5lciwgbnVsbCksICFsb2FkaW5nICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChEcm9wZG93bkJ1dHRvbiwge1xuICAgIG9uQ2xpY2s6IHRvZ2dsZU1lbnUsXG4gICAgcmVmOiBidXR0b25SZWYsXG4gICAgdGV4dFZhcmlhbnQ6IFwiYm9keTJcIlxuICB9LCB0KFwiU2hhcmUudHlwZS5cIi5jb25jYXQoaXNSZWFkT25seVBlcm1pc3Npb25zID8gJ29uZS13YXknIDogJ3R3by13YXknKSkudG9Mb3dlckNhc2UoKSksIG1lbnVJc09wZW4gJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQWN0aW9uTWVudSwge1xuICAgIG9uQ2xvc2U6IHRvZ2dsZU1lbnUsXG4gICAgYW5jaG9yRWxSZWY6IGJ1dHRvblJlZlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChBY3Rpb25NZW51SXRlbSwge1xuICAgIGxlZnQ6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEFjdGlvbk1lbnVSYWRpbywge1xuICAgICAgbmFtZTogXCJwZXJtaXNzaW9uTGlua01lbnVcIixcbiAgICAgIHZhbHVlOiBcInRydWVcIixcbiAgICAgIGNoZWNrZWQ6IGlzUmVhZE9ubHlQZXJtaXNzaW9uc1xuICAgIH0pLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICB0b2dnbGVNZW51KCk7XG4gICAgICB1cGRhdGVMaW5rUGVybWlzc2lvbnMoe1xuICAgICAgICBpc1JlYWRPbmx5OiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCAoZG9jdW1lbnQgPT09IG51bGwgfHwgZG9jdW1lbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRvY3VtZW50LnR5cGUpID09PSAnZGlyZWN0b3J5JyA/IHQoXCJTaGFyZS5wZXJtaXNzaW9uTGluay5zZWVGb2xkZXJcIikgOiB0KFwiU2hhcmUucGVybWlzc2lvbkxpbmsuc2VlRmlsZVwiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwge1xuICAgIGNsYXNzTmFtZTogXCJ1LW10LWhhbGZcIixcbiAgICB2YXJpYW50OiBcImNhcHRpb25cIixcbiAgICBjb2xvcjogXCJ0ZXh0U2Vjb25kYXJ5XCJcbiAgfSwgdCh0KCdTaGFyZS5wZXJtaXNzaW9uTGluay5yZWFkRGVzY3JpcHRpb24nKSkpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEFjdGlvbk1lbnVJdGVtLCB7XG4gICAgbGVmdDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQWN0aW9uTWVudVJhZGlvLCB7XG4gICAgICBuYW1lOiBcInBlcm1pc3Npb25MaW5rTWVudVwiLFxuICAgICAgdmFsdWU6IFwiZmFsc2VcIixcbiAgICAgIGNoZWNrZWQ6ICFpc1JlYWRPbmx5UGVybWlzc2lvbnNcbiAgICB9KSxcbiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgdG9nZ2xlTWVudSgpO1xuICAgICAgdXBkYXRlTGlua1Blcm1pc3Npb25zKHtcbiAgICAgICAgaXNSZWFkT25seTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIChkb2N1bWVudCA9PT0gbnVsbCB8fCBkb2N1bWVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZG9jdW1lbnQudHlwZSkgPT09ICdkaXJlY3RvcnknID8gdChcIlNoYXJlLnBlcm1pc3Npb25MaW5rLm1vZGlmeUZvbGRlclwiKSA6IHQoXCJTaGFyZS5wZXJtaXNzaW9uTGluay5tb2RpZnlGaWxlXCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7XG4gICAgY2xhc3NOYW1lOiBcInUtbXQtaGFsZlwiLFxuICAgIHZhcmlhbnQ6IFwiY2FwdGlvblwiLFxuICAgIGNvbG9yOiBcInRleHRTZWNvbmRhcnlcIlxuICB9LCB0KCdTaGFyZS5wZXJtaXNzaW9uTGluay53cml0ZURlc2NyaXB0aW9uJykpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaHJcIiwgbnVsbCksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEFjdGlvbk1lbnVJdGVtLCB7XG4gICAgbGVmdDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbiwge1xuICAgICAgaWNvbjogVHJhc2hJY29uLFxuICAgICAgY29sb3I6IFwidmFyKC0tZXJyb3JDb2xvcilcIlxuICAgIH0pLFxuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICB0b2dnbGVNZW51KCk7XG4gICAgICBkZWxldGVTaGFyZUxpbmsoKTtcbiAgICB9XG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFR5cG9ncmFwaHksIHtcbiAgICBjbGFzc05hbWU6IFwidS1lcnJvclwiLFxuICAgIHZhcmlhbnQ6IFwiYm9keTFcIlxuICB9LCB0KCdTaGFyZS5wZXJtaXNzaW9uTGluay5kZWFjdGl2YXRlJykpKSkpKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IExpbmtSZWNpcGllbnRQZXJtaXNzaW9uczsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/cozy-sharing/dist/components/Recipient/LinkRecipientPermissions.js\n");

/***/ }),

/***/ "./node_modules/cozy-sharing/dist/components/ShareByLink.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var copy_text_to_clipboard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-sharing/node_modules/copy-text-to-clipboard/index.js\");\n/* harmony import */ var copy_text_to_clipboard__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(copy_text_to_clipboard__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Alerter/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Buttons/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Icon/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Icons_Link__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Icons/Link.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Icons_Copy__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Icons/Copy.js\");\n/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/I18n/index.js\");\n/* harmony import */ var _EditLinkPermissionDialog__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/components/EditLinkPermissionDialog.js\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/logger.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar ShareByLink = function ShareByLink(_ref) {\n  var link = _ref.link,\n      documentType = _ref.documentType,\n      document = _ref.document,\n      permissions = _ref.permissions,\n      onChangePermissions = _ref.onChangePermissions,\n      onEnable = _ref.onEnable,\n      checked = _ref.checked;\n\n  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_11__[\"useI18n\"])(),\n      t = _useI18n.t;\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),\n      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),\n      shouldCopyToClipboard = _useState4[0],\n      setShouldCopyToClipboard = _useState4[1];\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),\n      _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState5, 2),\n      isEditDialogOpen = _useState6[0],\n      setIsEditDialogOpen = _useState6[1];\n\n  var copyLinkToClipboard = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useCallback\"])(function (_ref2) {\n    var isAutomaticCopy = _ref2.isAutomaticCopy;\n    if (copy_text_to_clipboard__WEBPACK_IMPORTED_MODULE_5___default()(link)) cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_6__[\"default\"].success(t(\"\".concat(documentType, \".share.shareByLink.copied\")));else if (!isAutomaticCopy) // In case of automatic copy, the browser can block the copy request. This is not shown to the user since it is expected and can be circumvented by clicking directly on the copy link\n      cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(t(\"\".concat(documentType, \".share.shareByLink.failed\")));\n  }, [documentType, link, t]);\n\n  var createShareLink = /*#__PURE__*/function () {\n    var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee() {\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              setLoading(true);\n              _context.next = 4;\n              return onEnable(document);\n\n            case 4:\n              _context.next = 10;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](0);\n              cozy_ui_transpiled_react_Alerter__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(t(\"\".concat(documentType, \".share.error.generic\")));\n              _logger__WEBPACK_IMPORTED_MODULE_13__[\"default\"].log(_context.t0);\n\n            case 10:\n              _context.prev = 10;\n              setLoading(false);\n              return _context.finish(10);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 6, 10, 13]]);\n    }));\n\n    return function createShareLink() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var onCreate = /*#__PURE__*/function () {\n    var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee2() {\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return createShareLink();\n\n            case 2:\n              setIsEditDialogOpen(true);\n              setShouldCopyToClipboard(true);\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function onCreate() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function () {\n    if (link && shouldCopyToClipboard) {\n      copyLinkToClipboard({\n        isAutomaticCopy: true\n      });\n      setShouldCopyToClipboard(false);\n    }\n  }, [link, shouldCopyToClipboard, copyLinkToClipboard]);\n\n  var onClose = function onClose() {\n    setIsEditDialogOpen(false);\n  };\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    className: \"u-w-100 u-flex u-flex-justify-center\"\n  }, !checked && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    label: t(\"\".concat(documentType, \".share.shareByLink.create\")),\n    variant: \"secondary\",\n    size: \"medium\",\n    startIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      icon: cozy_ui_transpiled_react_Icons_Link__WEBPACK_IMPORTED_MODULE_9__[\"default\"]\n    }),\n    className: \"u-flex-auto\",\n    busy: loading,\n    style: {\n      position: 'initial'\n    } // fix z-index bug on iOS when under a BottomDrawer due to relative position\n    ,\n    onClick: onCreate\n  }), checked && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    label: t(\"\".concat(documentType, \".share.shareByLink.send\")),\n    variant: \"secondary\",\n    size: \"medium\",\n    startIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      icon: cozy_ui_transpiled_react_Icons_Link__WEBPACK_IMPORTED_MODULE_9__[\"default\"]\n    }),\n    className: \"u-flex-auto u-mr-half\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Buttons__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    label: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Icon__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      icon: cozy_ui_transpiled_react_Icons_Copy__WEBPACK_IMPORTED_MODULE_10__[\"default\"]\n    }),\n    variant: \"secondary\",\n    size: \"medium\",\n    onClick: copyLinkToClipboard\n  })), isEditDialogOpen && checked && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_EditLinkPermissionDialog__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n    open: true,\n    onClose: onClose,\n    document: document,\n    documentType: documentType,\n    permissions: permissions,\n    onChangePermissions: onChangePermissions\n  }));\n};\n\nShareByLink.propTypes = {\n  permissions: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.array.isRequired,\n  checked: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool.isRequired,\n  documentType: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,\n  document: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object.isRequired,\n  link: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string,\n  onEnable: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,\n  onDisable: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ShareByLink);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY296eS1zaGFyaW5nL2Rpc3QvY29tcG9uZW50cy9TaGFyZUJ5TGluay5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3p5LXNoYXJpbmcvZGlzdC9jb21wb25lbnRzL1NoYXJlQnlMaW5rLmpzPzFlNTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3JcIjtcbmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5XCI7XG5pbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3JcIjtcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY29weSBmcm9tICdjb3B5LXRleHQtdG8tY2xpcGJvYXJkJztcbmltcG9ydCBBbGVydGVyIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9BbGVydGVyJztcbmltcG9ydCBCdXR0b24gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0J1dHRvbnMnO1xuaW1wb3J0IEljb24gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0ljb24nO1xuaW1wb3J0IExpbmtJY29uIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9JY29ucy9MaW5rJztcbmltcG9ydCBDb3B5SWNvbiBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvSWNvbnMvQ29weSc7XG5pbXBvcnQgeyB1c2VJMThuIH0gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0kxOG4nO1xuaW1wb3J0IEVkaXRMaW5rUGVybWlzc2lvbkRpYWxvZyBmcm9tICcuL0VkaXRMaW5rUGVybWlzc2lvbkRpYWxvZyc7XG5pbXBvcnQgbG9nZ2VyIGZyb20gJy4uL2xvZ2dlcic7XG5cbnZhciBTaGFyZUJ5TGluayA9IGZ1bmN0aW9uIFNoYXJlQnlMaW5rKF9yZWYpIHtcbiAgdmFyIGxpbmsgPSBfcmVmLmxpbmssXG4gICAgICBkb2N1bWVudFR5cGUgPSBfcmVmLmRvY3VtZW50VHlwZSxcbiAgICAgIGRvY3VtZW50ID0gX3JlZi5kb2N1bWVudCxcbiAgICAgIHBlcm1pc3Npb25zID0gX3JlZi5wZXJtaXNzaW9ucyxcbiAgICAgIG9uQ2hhbmdlUGVybWlzc2lvbnMgPSBfcmVmLm9uQ2hhbmdlUGVybWlzc2lvbnMsXG4gICAgICBvbkVuYWJsZSA9IF9yZWYub25FbmFibGUsXG4gICAgICBjaGVja2VkID0gX3JlZi5jaGVja2VkO1xuXG4gIHZhciBfdXNlSTE4biA9IHVzZUkxOG4oKSxcbiAgICAgIHQgPSBfdXNlSTE4bi50O1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSxcbiAgICAgIGxvYWRpbmcgPSBfdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0TG9hZGluZyA9IF91c2VTdGF0ZTJbMV07XG5cbiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksXG4gICAgICBzaG91bGRDb3B5VG9DbGlwYm9hcmQgPSBfdXNlU3RhdGU0WzBdLFxuICAgICAgc2V0U2hvdWxkQ29weVRvQ2xpcGJvYXJkID0gX3VzZVN0YXRlNFsxXTtcblxuICB2YXIgX3VzZVN0YXRlNSA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIF91c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU1LCAyKSxcbiAgICAgIGlzRWRpdERpYWxvZ09wZW4gPSBfdXNlU3RhdGU2WzBdLFxuICAgICAgc2V0SXNFZGl0RGlhbG9nT3BlbiA9IF91c2VTdGF0ZTZbMV07XG5cbiAgdmFyIGNvcHlMaW5rVG9DbGlwYm9hcmQgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICB2YXIgaXNBdXRvbWF0aWNDb3B5ID0gX3JlZjIuaXNBdXRvbWF0aWNDb3B5O1xuICAgIGlmIChjb3B5KGxpbmspKSBBbGVydGVyLnN1Y2Nlc3ModChcIlwiLmNvbmNhdChkb2N1bWVudFR5cGUsIFwiLnNoYXJlLnNoYXJlQnlMaW5rLmNvcGllZFwiKSkpO2Vsc2UgaWYgKCFpc0F1dG9tYXRpY0NvcHkpIC8vIEluIGNhc2Ugb2YgYXV0b21hdGljIGNvcHksIHRoZSBicm93c2VyIGNhbiBibG9jayB0aGUgY29weSByZXF1ZXN0LiBUaGlzIGlzIG5vdCBzaG93biB0byB0aGUgdXNlciBzaW5jZSBpdCBpcyBleHBlY3RlZCBhbmQgY2FuIGJlIGNpcmN1bXZlbnRlZCBieSBjbGlja2luZyBkaXJlY3RseSBvbiB0aGUgY29weSBsaW5rXG4gICAgICBBbGVydGVyLmVycm9yKHQoXCJcIi5jb25jYXQoZG9jdW1lbnRUeXBlLCBcIi5zaGFyZS5zaGFyZUJ5TGluay5mYWlsZWRcIikpKTtcbiAgfSwgW2RvY3VtZW50VHlwZSwgbGluaywgdF0pO1xuXG4gIHZhciBjcmVhdGVTaGFyZUxpbmsgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7XG4gICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDtcbiAgICAgICAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7XG4gICAgICAgICAgICAgIHJldHVybiBvbkVuYWJsZShkb2N1bWVudCk7XG5cbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNjtcbiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFtcImNhdGNoXCJdKDApO1xuICAgICAgICAgICAgICBBbGVydGVyLmVycm9yKHQoXCJcIi5jb25jYXQoZG9jdW1lbnRUeXBlLCBcIi5zaGFyZS5lcnJvci5nZW5lcmljXCIpKSk7XG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coX2NvbnRleHQudDApO1xuXG4gICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTA7XG4gICAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuZmluaXNoKDEwKTtcblxuICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgNiwgMTAsIDEzXV0pO1xuICAgIH0pKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVTaGFyZUxpbmsoKSB7XG4gICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9KCk7XG5cbiAgdmFyIG9uQ3JlYXRlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICB2YXIgX3JlZjQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHtcbiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7XG4gICAgICAgICAgICAgIHJldHVybiBjcmVhdGVTaGFyZUxpbmsoKTtcblxuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICBzZXRJc0VkaXREaWFsb2dPcGVuKHRydWUpO1xuICAgICAgICAgICAgICBzZXRTaG91bGRDb3B5VG9DbGlwYm9hcmQodHJ1ZSk7XG5cbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBfY2FsbGVlMik7XG4gICAgfSkpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG9uQ3JlYXRlKCkge1xuICAgICAgcmV0dXJuIF9yZWY0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfSgpO1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGxpbmsgJiYgc2hvdWxkQ29weVRvQ2xpcGJvYXJkKSB7XG4gICAgICBjb3B5TGlua1RvQ2xpcGJvYXJkKHtcbiAgICAgICAgaXNBdXRvbWF0aWNDb3B5OiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHNldFNob3VsZENvcHlUb0NsaXBib2FyZChmYWxzZSk7XG4gICAgfVxuICB9LCBbbGluaywgc2hvdWxkQ29weVRvQ2xpcGJvYXJkLCBjb3B5TGlua1RvQ2xpcGJvYXJkXSk7XG5cbiAgdmFyIG9uQ2xvc2UgPSBmdW5jdGlvbiBvbkNsb3NlKCkge1xuICAgIHNldElzRWRpdERpYWxvZ09wZW4oZmFsc2UpO1xuICB9O1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInUtdy0xMDAgdS1mbGV4IHUtZmxleC1qdXN0aWZ5LWNlbnRlclwiXG4gIH0sICFjaGVja2VkICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIGxhYmVsOiB0KFwiXCIuY29uY2F0KGRvY3VtZW50VHlwZSwgXCIuc2hhcmUuc2hhcmVCeUxpbmsuY3JlYXRlXCIpKSxcbiAgICB2YXJpYW50OiBcInNlY29uZGFyeVwiLFxuICAgIHNpemU6IFwibWVkaXVtXCIsXG4gICAgc3RhcnRJY29uOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJY29uLCB7XG4gICAgICBpY29uOiBMaW5rSWNvblxuICAgIH0pLFxuICAgIGNsYXNzTmFtZTogXCJ1LWZsZXgtYXV0b1wiLFxuICAgIGJ1c3k6IGxvYWRpbmcsXG4gICAgc3R5bGU6IHtcbiAgICAgIHBvc2l0aW9uOiAnaW5pdGlhbCdcbiAgICB9IC8vIGZpeCB6LWluZGV4IGJ1ZyBvbiBpT1Mgd2hlbiB1bmRlciBhIEJvdHRvbURyYXdlciBkdWUgdG8gcmVsYXRpdmUgcG9zaXRpb25cbiAgICAsXG4gICAgb25DbGljazogb25DcmVhdGVcbiAgfSksIGNoZWNrZWQgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIGxhYmVsOiB0KFwiXCIuY29uY2F0KGRvY3VtZW50VHlwZSwgXCIuc2hhcmUuc2hhcmVCeUxpbmsuc2VuZFwiKSksXG4gICAgdmFyaWFudDogXCJzZWNvbmRhcnlcIixcbiAgICBzaXplOiBcIm1lZGl1bVwiLFxuICAgIHN0YXJ0SWNvbjogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbiwge1xuICAgICAgaWNvbjogTGlua0ljb25cbiAgICB9KSxcbiAgICBjbGFzc05hbWU6IFwidS1mbGV4LWF1dG8gdS1tci1oYWxmXCJcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIGxhYmVsOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJY29uLCB7XG4gICAgICBpY29uOiBDb3B5SWNvblxuICAgIH0pLFxuICAgIHZhcmlhbnQ6IFwic2Vjb25kYXJ5XCIsXG4gICAgc2l6ZTogXCJtZWRpdW1cIixcbiAgICBvbkNsaWNrOiBjb3B5TGlua1RvQ2xpcGJvYXJkXG4gIH0pKSwgaXNFZGl0RGlhbG9nT3BlbiAmJiBjaGVja2VkICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEVkaXRMaW5rUGVybWlzc2lvbkRpYWxvZywge1xuICAgIG9wZW46IHRydWUsXG4gICAgb25DbG9zZTogb25DbG9zZSxcbiAgICBkb2N1bWVudDogZG9jdW1lbnQsXG4gICAgZG9jdW1lbnRUeXBlOiBkb2N1bWVudFR5cGUsXG4gICAgcGVybWlzc2lvbnM6IHBlcm1pc3Npb25zLFxuICAgIG9uQ2hhbmdlUGVybWlzc2lvbnM6IG9uQ2hhbmdlUGVybWlzc2lvbnNcbiAgfSkpO1xufTtcblxuU2hhcmVCeUxpbmsucHJvcFR5cGVzID0ge1xuICBwZXJtaXNzaW9uczogUHJvcFR5cGVzLmFycmF5LmlzUmVxdWlyZWQsXG4gIGNoZWNrZWQ6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIGRvY3VtZW50VHlwZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBkb2N1bWVudDogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICBsaW5rOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBvbkVuYWJsZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgb25EaXNhYmxlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG59O1xuZXhwb3J0IGRlZmF1bHQgU2hhcmVCeUxpbms7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/cozy-sharing/dist/components/ShareByLink.js\n");

/***/ }),

/***/ "./node_modules/cozy-sharing/dist/components/ShareDialogTwoStepsConfirmationContainer.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/CozyDialogs/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/I18n/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Button/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/Spinner/index.js\");\n/* harmony import */ var _helpers_hooks__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/helpers/hooks.js\");\n\n\n\n\n\n\n\n\n\n/**\n * Displays a loader that can be used when ShareDialogTwoStepsConfirmationContainer is in loading state\n */\n\nvar LoadingContent = function LoadingContent() {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    className: \"u-ta-center\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Spinner__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    size: \"xxlarge\",\n    loadingType: \"sharing\"\n  }));\n};\n/**\n * Displays an error message that can be used when ShareDialogTwoStepsConfirmationContainer is in error state\n */\n\n\nvar ErrorContent = function ErrorContent() {\n  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__[\"useI18n\"])(),\n      t = _useI18n.t;\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", null, t('Share.loadingError'));\n};\n/**\n * Displays actions that are available when confirming a recipient\n */\n\n\nvar ConfirmRecipientActions = function ConfirmRecipientActions(_ref) {\n  var confirm = _ref.confirm,\n      reject = _ref.reject;\n\n  var _useI18n2 = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__[\"useI18n\"])(),\n      t = _useI18n2.t;\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    theme: \"danger-outline\",\n    label: t(\"Share.twoStepsConfirmation.reject\"),\n    onClick: reject\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    theme: \"primary\",\n    label: t(\"Share.twoStepsConfirmation.confirm\"),\n    onClick: confirm\n  }));\n};\n/**\n * Displays the reject interface that can be used when ShareDialogTwoStepsConfirmationContainer is in asking for\n * confirmation after the user clicked on Reject button\n */\n\n\nvar RejectDialogContent = function RejectDialogContent(_ref2) {\n  var recipientConfirmationData = _ref2.recipientConfirmationData;\n\n  var _useI18n3 = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__[\"useI18n\"])(),\n      t = _useI18n3.t;\n\n  var question = t('Share.twoStepsConfirmation.confirmRejection', {\n    userName: recipientConfirmationData.name,\n    userEmail: recipientConfirmationData.email\n  });\n  return question;\n};\n/**\n * Displays actions that are available when rejecting a recipient\n */\n\n\nvar RejectRecipientActions = function RejectRecipientActions(_ref3) {\n  var reject = _ref3.reject,\n      cancel = _ref3.cancel;\n\n  var _useI18n4 = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__[\"useI18n\"])(),\n      t = _useI18n4.t;\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    theme: \"secondary\",\n    label: t(\"Share.twoStepsConfirmation.cancel\"),\n    onClick: cancel\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_Button__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    theme: \"primary\",\n    label: t(\"Share.twoStepsConfirmation.reject\"),\n    onClick: reject\n  }));\n};\n/**\n * Displays a sharing dialog that allows to share a document between multiple Cozy users\n */\n\n\nvar ShareDialogTwoStepsConfirmationContainer = function ShareDialogTwoStepsConfirmationContainer(_ref4) {\n  var contacts = _ref4.contacts,\n      createContact = _ref4.createContact,\n      document = _ref4.document,\n      documentType = _ref4.documentType,\n      groups = _ref4.groups,\n      hasSharedParent = _ref4.hasSharedParent,\n      isOwner = _ref4.isOwner,\n      link = _ref4.link,\n      needsContactsPermission = _ref4.needsContactsPermission,\n      onClose = _ref4.onClose,\n      onRevoke = _ref4.onRevoke,\n      onRevokeLink = _ref4.onRevokeLink,\n      onRevokeSelf = _ref4.onRevokeSelf,\n      onShare = _ref4.onShare,\n      onShareByLink = _ref4.onShareByLink,\n      onUpdateShareLinkPermissions = _ref4.onUpdateShareLinkPermissions,\n      permissions = _ref4.permissions,\n      recipients = _ref4.recipients,\n      sharing = _ref4.sharing,\n      sharingDesc = _ref4.sharingDesc,\n      showShareByEmail = _ref4.showShareByEmail,\n      showShareOnlyByLink = _ref4.showShareOnlyByLink,\n      showWhoHasAccess = _ref4.showWhoHasAccess,\n      _ref4$twoStepsConfirm = _ref4.twoStepsConfirmationMethods,\n      twoStepsConfirmationMethods = _ref4$twoStepsConfirm === void 0 ? {} : _ref4$twoStepsConfirm,\n      DialogContentOnShare = _ref4.dialogContentOnShare,\n      DialogActionsOnShare = _ref4.dialogActionsOnShare,\n      DialogTitleOnShare = _ref4.dialogTitleOnShare;\n\n  var _useI18n5 = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__[\"useI18n\"])(),\n      t = _useI18n5.t;\n\n  var shouldGetRecipientsToBeConfirmed = twoStepsConfirmationMethods === null || twoStepsConfirmationMethods === void 0 ? void 0 : twoStepsConfirmationMethods.getRecipientsToBeConfirmed;\n\n  var _useSafeState = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_8__[\"useSafeState\"])(shouldGetRecipientsToBeConfirmed ? 'loading' : 'sharing'),\n      _useSafeState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useSafeState, 2),\n      status = _useSafeState2[0],\n      setStatus = _useSafeState2[1];\n\n  var _useSafeState3 = Object(_helpers_hooks__WEBPACK_IMPORTED_MODULE_8__[\"useSafeState\"])([]),\n      _useSafeState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useSafeState3, 2),\n      recipientsToBeConfirmed = _useSafeState4[0],\n      setRecipientsToBeConfirmed = _useSafeState4[1];\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(undefined),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),\n      recipientConfirmationData = _useState2[0],\n      setRecipientConfirmationData = _useState2[1];\n\n  var confirmRecipient = twoStepsConfirmationMethods.confirmRecipient,\n      rejectRecipient = twoStepsConfirmationMethods.rejectRecipient,\n      ConfirmationDialogContent = twoStepsConfirmationMethods.recipientConfirmationDialogContent;\n  var getRecipientsToBeConfirmed = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useCallback\"])( /*#__PURE__*/_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee() {\n    var result;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!shouldGetRecipientsToBeConfirmed) {\n              _context.next = 15;\n              break;\n            }\n\n            setStatus('loading');\n            _context.prev = 2;\n            _context.next = 5;\n            return twoStepsConfirmationMethods.getRecipientsToBeConfirmed();\n\n          case 5:\n            result = _context.sent;\n            setRecipientsToBeConfirmed(result);\n            setStatus('sharing');\n            _context.next = 13;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](2);\n            setStatus('error');\n\n          case 13:\n            _context.next = 16;\n            break;\n\n          case 15:\n            setStatus('sharing');\n\n          case 16:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[2, 10]]);\n  })), [shouldGetRecipientsToBeConfirmed, twoStepsConfirmationMethods, setRecipientsToBeConfirmed, setStatus]);\n  Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function () {\n    getRecipientsToBeConfirmed();\n  }, [getRecipientsToBeConfirmed]);\n\n  var showConfirmationDialog = function showConfirmationDialog(recipientConfirmationData) {\n    setRecipientConfirmationData(recipientConfirmationData);\n    setStatus('confirmingRecipient');\n  };\n\n  var showRejectDialog = function showRejectDialog() {\n    setRecipientConfirmationData(recipientConfirmationData);\n    setStatus('rejectingRecipient');\n  };\n\n  var onConfirmRecipient = function onConfirmRecipient() {\n    // eslint-disable-next-line promise/catch-or-return,promise/always-return\n    confirmRecipient(recipientConfirmationData).then(function () {\n      getRecipientsToBeConfirmed();\n    });\n  };\n\n  var onRejectRecipient = function onRejectRecipient() {\n    setStatus('loading'); // eslint-disable-next-line promise/catch-or-return,promise/always-return\n\n    rejectRecipient(recipientConfirmationData).then(function () {\n      getRecipientsToBeConfirmed();\n    });\n  };\n\n  var closeConfirmationDialog = function closeConfirmationDialog() {\n    setStatus('sharing');\n  };\n\n  var closeRejectDialog = function closeRejectDialog() {\n    setStatus('confirmingRecipient');\n  };\n\n  var dialogTitle = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(DialogTitleOnShare, {\n    recipientsToBeConfirmed: recipientsToBeConfirmed\n  });\n  var dialogContent = null;\n  var dialogActions = null;\n  var onBack = null;\n\n  if (status === 'error') {\n    dialogContent = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(ErrorContent, null);\n  } else if (status === 'loading') {\n    dialogContent = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(LoadingContent, null);\n  } else if (status === 'sharing') {\n    dialogContent = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(DialogContentOnShare, {\n      contacts: contacts,\n      createContact: createContact,\n      document: document,\n      documentType: documentType,\n      groups: groups,\n      hasSharedParent: hasSharedParent,\n      isOwner: isOwner,\n      needsContactsPermission: needsContactsPermission,\n      onRevoke: onRevoke,\n      onRevokeSelf: onRevokeSelf,\n      onShare: onShare,\n      recipients: recipients,\n      sharing: sharing,\n      sharingDesc: sharingDesc,\n      showShareByEmail: showShareByEmail,\n      showShareOnlyByLink: showShareOnlyByLink,\n      showWhoHasAccess: showWhoHasAccess,\n      recipientsToBeConfirmed: recipientsToBeConfirmed,\n      verifyRecipient: showConfirmationDialog,\n      link: link,\n      permissions: permissions,\n      onUpdateShareLinkPermissions: onUpdateShareLinkPermissions,\n      onRevokeLink: onRevokeLink\n    });\n    dialogActions = DialogActionsOnShare ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(DialogActionsOnShare, {\n      checked: link !== null,\n      document: document,\n      documentType: documentType,\n      link: link,\n      onChangePermissions: onUpdateShareLinkPermissions,\n      onDisable: onRevokeLink,\n      onEnable: onShareByLink,\n      permissions: permissions\n    }) : null;\n  } else if (status === 'confirmingRecipient') {\n    dialogTitle = t(\"Share.twoStepsConfirmation.title\");\n    dialogContent = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(ConfirmationDialogContent, {\n      recipientConfirmationData: recipientConfirmationData\n    });\n    dialogActions = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(ConfirmRecipientActions, {\n      confirm: onConfirmRecipient,\n      reject: showRejectDialog\n    });\n    onBack = closeConfirmationDialog;\n  } else if (status === 'rejectingRecipient') {\n    dialogTitle = t(\"Share.twoStepsConfirmation.titleReject\");\n    dialogContent = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(RejectDialogContent, {\n      recipientConfirmationData: recipientConfirmationData\n    });\n    dialogActions = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(RejectRecipientActions, {\n      reject: onRejectRecipient,\n      cancel: closeRejectDialog\n    });\n    onBack = closeRejectDialog;\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(cozy_ui_transpiled_react_CozyDialogs__WEBPACK_IMPORTED_MODULE_4__[\"FixedDialog\"], {\n    disableEnforceFocus: true,\n    open: true,\n    onClose: onClose,\n    onBack: onBack,\n    title: dialogTitle,\n    content: dialogContent,\n    actions: dialogActions\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ShareDialogTwoStepsConfirmationContainer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY296eS1zaGFyaW5nL2Rpc3QvY29tcG9uZW50cy9TaGFyZURpYWxvZ1R3b1N0ZXBzQ29uZmlybWF0aW9uQ29udGFpbmVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nvenktc2hhcmluZy9kaXN0L2NvbXBvbmVudHMvU2hhcmVEaWFsb2dUd29TdGVwc0NvbmZpcm1hdGlvbkNvbnRhaW5lci5qcz82MTM3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yXCI7XG5pbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheVwiO1xuaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSBcIkBiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yXCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGaXhlZERpYWxvZyB9IGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9Db3p5RGlhbG9ncyc7XG5pbXBvcnQgeyB1c2VJMThuIH0gZnJvbSAnY296eS11aS90cmFuc3BpbGVkL3JlYWN0L0kxOG4nO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvQnV0dG9uJztcbmltcG9ydCBTcGlubmVyIGZyb20gJ2NvenktdWkvdHJhbnNwaWxlZC9yZWFjdC9TcGlubmVyJztcbmltcG9ydCB7IHVzZVNhZmVTdGF0ZSB9IGZyb20gJy4uL2hlbHBlcnMvaG9va3MnO1xuLyoqXG4gKiBEaXNwbGF5cyBhIGxvYWRlciB0aGF0IGNhbiBiZSB1c2VkIHdoZW4gU2hhcmVEaWFsb2dUd29TdGVwc0NvbmZpcm1hdGlvbkNvbnRhaW5lciBpcyBpbiBsb2FkaW5nIHN0YXRlXG4gKi9cblxudmFyIExvYWRpbmdDb250ZW50ID0gZnVuY3Rpb24gTG9hZGluZ0NvbnRlbnQoKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInUtdGEtY2VudGVyXCJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3Bpbm5lciwge1xuICAgIHNpemU6IFwieHhsYXJnZVwiLFxuICAgIGxvYWRpbmdUeXBlOiBcInNoYXJpbmdcIlxuICB9KSk7XG59O1xuLyoqXG4gKiBEaXNwbGF5cyBhbiBlcnJvciBtZXNzYWdlIHRoYXQgY2FuIGJlIHVzZWQgd2hlbiBTaGFyZURpYWxvZ1R3b1N0ZXBzQ29uZmlybWF0aW9uQ29udGFpbmVyIGlzIGluIGVycm9yIHN0YXRlXG4gKi9cblxuXG52YXIgRXJyb3JDb250ZW50ID0gZnVuY3Rpb24gRXJyb3JDb250ZW50KCkge1xuICB2YXIgX3VzZUkxOG4gPSB1c2VJMThuKCksXG4gICAgICB0ID0gX3VzZUkxOG4udDtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgdCgnU2hhcmUubG9hZGluZ0Vycm9yJykpO1xufTtcbi8qKlxuICogRGlzcGxheXMgYWN0aW9ucyB0aGF0IGFyZSBhdmFpbGFibGUgd2hlbiBjb25maXJtaW5nIGEgcmVjaXBpZW50XG4gKi9cblxuXG52YXIgQ29uZmlybVJlY2lwaWVudEFjdGlvbnMgPSBmdW5jdGlvbiBDb25maXJtUmVjaXBpZW50QWN0aW9ucyhfcmVmKSB7XG4gIHZhciBjb25maXJtID0gX3JlZi5jb25maXJtLFxuICAgICAgcmVqZWN0ID0gX3JlZi5yZWplY3Q7XG5cbiAgdmFyIF91c2VJMThuMiA9IHVzZUkxOG4oKSxcbiAgICAgIHQgPSBfdXNlSTE4bjIudDtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIHRoZW1lOiBcImRhbmdlci1vdXRsaW5lXCIsXG4gICAgbGFiZWw6IHQoXCJTaGFyZS50d29TdGVwc0NvbmZpcm1hdGlvbi5yZWplY3RcIiksXG4gICAgb25DbGljazogcmVqZWN0XG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICB0aGVtZTogXCJwcmltYXJ5XCIsXG4gICAgbGFiZWw6IHQoXCJTaGFyZS50d29TdGVwc0NvbmZpcm1hdGlvbi5jb25maXJtXCIpLFxuICAgIG9uQ2xpY2s6IGNvbmZpcm1cbiAgfSkpO1xufTtcbi8qKlxuICogRGlzcGxheXMgdGhlIHJlamVjdCBpbnRlcmZhY2UgdGhhdCBjYW4gYmUgdXNlZCB3aGVuIFNoYXJlRGlhbG9nVHdvU3RlcHNDb25maXJtYXRpb25Db250YWluZXIgaXMgaW4gYXNraW5nIGZvclxuICogY29uZmlybWF0aW9uIGFmdGVyIHRoZSB1c2VyIGNsaWNrZWQgb24gUmVqZWN0IGJ1dHRvblxuICovXG5cblxudmFyIFJlamVjdERpYWxvZ0NvbnRlbnQgPSBmdW5jdGlvbiBSZWplY3REaWFsb2dDb250ZW50KF9yZWYyKSB7XG4gIHZhciByZWNpcGllbnRDb25maXJtYXRpb25EYXRhID0gX3JlZjIucmVjaXBpZW50Q29uZmlybWF0aW9uRGF0YTtcblxuICB2YXIgX3VzZUkxOG4zID0gdXNlSTE4bigpLFxuICAgICAgdCA9IF91c2VJMThuMy50O1xuXG4gIHZhciBxdWVzdGlvbiA9IHQoJ1NoYXJlLnR3b1N0ZXBzQ29uZmlybWF0aW9uLmNvbmZpcm1SZWplY3Rpb24nLCB7XG4gICAgdXNlck5hbWU6IHJlY2lwaWVudENvbmZpcm1hdGlvbkRhdGEubmFtZSxcbiAgICB1c2VyRW1haWw6IHJlY2lwaWVudENvbmZpcm1hdGlvbkRhdGEuZW1haWxcbiAgfSk7XG4gIHJldHVybiBxdWVzdGlvbjtcbn07XG4vKipcbiAqIERpc3BsYXlzIGFjdGlvbnMgdGhhdCBhcmUgYXZhaWxhYmxlIHdoZW4gcmVqZWN0aW5nIGEgcmVjaXBpZW50XG4gKi9cblxuXG52YXIgUmVqZWN0UmVjaXBpZW50QWN0aW9ucyA9IGZ1bmN0aW9uIFJlamVjdFJlY2lwaWVudEFjdGlvbnMoX3JlZjMpIHtcbiAgdmFyIHJlamVjdCA9IF9yZWYzLnJlamVjdCxcbiAgICAgIGNhbmNlbCA9IF9yZWYzLmNhbmNlbDtcblxuICB2YXIgX3VzZUkxOG40ID0gdXNlSTE4bigpLFxuICAgICAgdCA9IF91c2VJMThuNC50O1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgdGhlbWU6IFwic2Vjb25kYXJ5XCIsXG4gICAgbGFiZWw6IHQoXCJTaGFyZS50d29TdGVwc0NvbmZpcm1hdGlvbi5jYW5jZWxcIiksXG4gICAgb25DbGljazogY2FuY2VsXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICB0aGVtZTogXCJwcmltYXJ5XCIsXG4gICAgbGFiZWw6IHQoXCJTaGFyZS50d29TdGVwc0NvbmZpcm1hdGlvbi5yZWplY3RcIiksXG4gICAgb25DbGljazogcmVqZWN0XG4gIH0pKTtcbn07XG4vKipcbiAqIERpc3BsYXlzIGEgc2hhcmluZyBkaWFsb2cgdGhhdCBhbGxvd3MgdG8gc2hhcmUgYSBkb2N1bWVudCBiZXR3ZWVuIG11bHRpcGxlIENvenkgdXNlcnNcbiAqL1xuXG5cbnZhciBTaGFyZURpYWxvZ1R3b1N0ZXBzQ29uZmlybWF0aW9uQ29udGFpbmVyID0gZnVuY3Rpb24gU2hhcmVEaWFsb2dUd29TdGVwc0NvbmZpcm1hdGlvbkNvbnRhaW5lcihfcmVmNCkge1xuICB2YXIgY29udGFjdHMgPSBfcmVmNC5jb250YWN0cyxcbiAgICAgIGNyZWF0ZUNvbnRhY3QgPSBfcmVmNC5jcmVhdGVDb250YWN0LFxuICAgICAgZG9jdW1lbnQgPSBfcmVmNC5kb2N1bWVudCxcbiAgICAgIGRvY3VtZW50VHlwZSA9IF9yZWY0LmRvY3VtZW50VHlwZSxcbiAgICAgIGdyb3VwcyA9IF9yZWY0Lmdyb3VwcyxcbiAgICAgIGhhc1NoYXJlZFBhcmVudCA9IF9yZWY0Lmhhc1NoYXJlZFBhcmVudCxcbiAgICAgIGlzT3duZXIgPSBfcmVmNC5pc093bmVyLFxuICAgICAgbGluayA9IF9yZWY0LmxpbmssXG4gICAgICBuZWVkc0NvbnRhY3RzUGVybWlzc2lvbiA9IF9yZWY0Lm5lZWRzQ29udGFjdHNQZXJtaXNzaW9uLFxuICAgICAgb25DbG9zZSA9IF9yZWY0Lm9uQ2xvc2UsXG4gICAgICBvblJldm9rZSA9IF9yZWY0Lm9uUmV2b2tlLFxuICAgICAgb25SZXZva2VMaW5rID0gX3JlZjQub25SZXZva2VMaW5rLFxuICAgICAgb25SZXZva2VTZWxmID0gX3JlZjQub25SZXZva2VTZWxmLFxuICAgICAgb25TaGFyZSA9IF9yZWY0Lm9uU2hhcmUsXG4gICAgICBvblNoYXJlQnlMaW5rID0gX3JlZjQub25TaGFyZUJ5TGluayxcbiAgICAgIG9uVXBkYXRlU2hhcmVMaW5rUGVybWlzc2lvbnMgPSBfcmVmNC5vblVwZGF0ZVNoYXJlTGlua1Blcm1pc3Npb25zLFxuICAgICAgcGVybWlzc2lvbnMgPSBfcmVmNC5wZXJtaXNzaW9ucyxcbiAgICAgIHJlY2lwaWVudHMgPSBfcmVmNC5yZWNpcGllbnRzLFxuICAgICAgc2hhcmluZyA9IF9yZWY0LnNoYXJpbmcsXG4gICAgICBzaGFyaW5nRGVzYyA9IF9yZWY0LnNoYXJpbmdEZXNjLFxuICAgICAgc2hvd1NoYXJlQnlFbWFpbCA9IF9yZWY0LnNob3dTaGFyZUJ5RW1haWwsXG4gICAgICBzaG93U2hhcmVPbmx5QnlMaW5rID0gX3JlZjQuc2hvd1NoYXJlT25seUJ5TGluayxcbiAgICAgIHNob3dXaG9IYXNBY2Nlc3MgPSBfcmVmNC5zaG93V2hvSGFzQWNjZXNzLFxuICAgICAgX3JlZjQkdHdvU3RlcHNDb25maXJtID0gX3JlZjQudHdvU3RlcHNDb25maXJtYXRpb25NZXRob2RzLFxuICAgICAgdHdvU3RlcHNDb25maXJtYXRpb25NZXRob2RzID0gX3JlZjQkdHdvU3RlcHNDb25maXJtID09PSB2b2lkIDAgPyB7fSA6IF9yZWY0JHR3b1N0ZXBzQ29uZmlybSxcbiAgICAgIERpYWxvZ0NvbnRlbnRPblNoYXJlID0gX3JlZjQuZGlhbG9nQ29udGVudE9uU2hhcmUsXG4gICAgICBEaWFsb2dBY3Rpb25zT25TaGFyZSA9IF9yZWY0LmRpYWxvZ0FjdGlvbnNPblNoYXJlLFxuICAgICAgRGlhbG9nVGl0bGVPblNoYXJlID0gX3JlZjQuZGlhbG9nVGl0bGVPblNoYXJlO1xuXG4gIHZhciBfdXNlSTE4bjUgPSB1c2VJMThuKCksXG4gICAgICB0ID0gX3VzZUkxOG41LnQ7XG5cbiAgdmFyIHNob3VsZEdldFJlY2lwaWVudHNUb0JlQ29uZmlybWVkID0gdHdvU3RlcHNDb25maXJtYXRpb25NZXRob2RzID09PSBudWxsIHx8IHR3b1N0ZXBzQ29uZmlybWF0aW9uTWV0aG9kcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdHdvU3RlcHNDb25maXJtYXRpb25NZXRob2RzLmdldFJlY2lwaWVudHNUb0JlQ29uZmlybWVkO1xuXG4gIHZhciBfdXNlU2FmZVN0YXRlID0gdXNlU2FmZVN0YXRlKHNob3VsZEdldFJlY2lwaWVudHNUb0JlQ29uZmlybWVkID8gJ2xvYWRpbmcnIDogJ3NoYXJpbmcnKSxcbiAgICAgIF91c2VTYWZlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVNhZmVTdGF0ZSwgMiksXG4gICAgICBzdGF0dXMgPSBfdXNlU2FmZVN0YXRlMlswXSxcbiAgICAgIHNldFN0YXR1cyA9IF91c2VTYWZlU3RhdGUyWzFdO1xuXG4gIHZhciBfdXNlU2FmZVN0YXRlMyA9IHVzZVNhZmVTdGF0ZShbXSksXG4gICAgICBfdXNlU2FmZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTYWZlU3RhdGUzLCAyKSxcbiAgICAgIHJlY2lwaWVudHNUb0JlQ29uZmlybWVkID0gX3VzZVNhZmVTdGF0ZTRbMF0sXG4gICAgICBzZXRSZWNpcGllbnRzVG9CZUNvbmZpcm1lZCA9IF91c2VTYWZlU3RhdGU0WzFdO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSh1bmRlZmluZWQpLFxuICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXG4gICAgICByZWNpcGllbnRDb25maXJtYXRpb25EYXRhID0gX3VzZVN0YXRlMlswXSxcbiAgICAgIHNldFJlY2lwaWVudENvbmZpcm1hdGlvbkRhdGEgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBjb25maXJtUmVjaXBpZW50ID0gdHdvU3RlcHNDb25maXJtYXRpb25NZXRob2RzLmNvbmZpcm1SZWNpcGllbnQsXG4gICAgICByZWplY3RSZWNpcGllbnQgPSB0d29TdGVwc0NvbmZpcm1hdGlvbk1ldGhvZHMucmVqZWN0UmVjaXBpZW50LFxuICAgICAgQ29uZmlybWF0aW9uRGlhbG9nQ29udGVudCA9IHR3b1N0ZXBzQ29uZmlybWF0aW9uTWV0aG9kcy5yZWNpcGllbnRDb25maXJtYXRpb25EaWFsb2dDb250ZW50O1xuICB2YXIgZ2V0UmVjaXBpZW50c1RvQmVDb25maXJtZWQgPSB1c2VDYWxsYmFjayggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICB3aGlsZSAoMSkge1xuICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgaWYgKCFzaG91bGRHZXRSZWNpcGllbnRzVG9CZUNvbmZpcm1lZCkge1xuICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZXRTdGF0dXMoJ2xvYWRpbmcnKTtcbiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyO1xuICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7XG4gICAgICAgICAgICByZXR1cm4gdHdvU3RlcHNDb25maXJtYXRpb25NZXRob2RzLmdldFJlY2lwaWVudHNUb0JlQ29uZmlybWVkKCk7XG5cbiAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50O1xuICAgICAgICAgICAgc2V0UmVjaXBpZW50c1RvQmVDb25maXJtZWQocmVzdWx0KTtcbiAgICAgICAgICAgIHNldFN0YXR1cygnc2hhcmluZycpO1xuICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEwO1xuICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFtcImNhdGNoXCJdKDIpO1xuICAgICAgICAgICAgc2V0U3RhdHVzKCdlcnJvcicpO1xuXG4gICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgIHNldFN0YXR1cygnc2hhcmluZycpO1xuXG4gICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZSwgbnVsbCwgW1syLCAxMF1dKTtcbiAgfSkpLCBbc2hvdWxkR2V0UmVjaXBpZW50c1RvQmVDb25maXJtZWQsIHR3b1N0ZXBzQ29uZmlybWF0aW9uTWV0aG9kcywgc2V0UmVjaXBpZW50c1RvQmVDb25maXJtZWQsIHNldFN0YXR1c10pO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGdldFJlY2lwaWVudHNUb0JlQ29uZmlybWVkKCk7XG4gIH0sIFtnZXRSZWNpcGllbnRzVG9CZUNvbmZpcm1lZF0pO1xuXG4gIHZhciBzaG93Q29uZmlybWF0aW9uRGlhbG9nID0gZnVuY3Rpb24gc2hvd0NvbmZpcm1hdGlvbkRpYWxvZyhyZWNpcGllbnRDb25maXJtYXRpb25EYXRhKSB7XG4gICAgc2V0UmVjaXBpZW50Q29uZmlybWF0aW9uRGF0YShyZWNpcGllbnRDb25maXJtYXRpb25EYXRhKTtcbiAgICBzZXRTdGF0dXMoJ2NvbmZpcm1pbmdSZWNpcGllbnQnKTtcbiAgfTtcblxuICB2YXIgc2hvd1JlamVjdERpYWxvZyA9IGZ1bmN0aW9uIHNob3dSZWplY3REaWFsb2coKSB7XG4gICAgc2V0UmVjaXBpZW50Q29uZmlybWF0aW9uRGF0YShyZWNpcGllbnRDb25maXJtYXRpb25EYXRhKTtcbiAgICBzZXRTdGF0dXMoJ3JlamVjdGluZ1JlY2lwaWVudCcpO1xuICB9O1xuXG4gIHZhciBvbkNvbmZpcm1SZWNpcGllbnQgPSBmdW5jdGlvbiBvbkNvbmZpcm1SZWNpcGllbnQoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByb21pc2UvY2F0Y2gtb3ItcmV0dXJuLHByb21pc2UvYWx3YXlzLXJldHVyblxuICAgIGNvbmZpcm1SZWNpcGllbnQocmVjaXBpZW50Q29uZmlybWF0aW9uRGF0YSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBnZXRSZWNpcGllbnRzVG9CZUNvbmZpcm1lZCgpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBvblJlamVjdFJlY2lwaWVudCA9IGZ1bmN0aW9uIG9uUmVqZWN0UmVjaXBpZW50KCkge1xuICAgIHNldFN0YXR1cygnbG9hZGluZycpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJvbWlzZS9jYXRjaC1vci1yZXR1cm4scHJvbWlzZS9hbHdheXMtcmV0dXJuXG5cbiAgICByZWplY3RSZWNpcGllbnQocmVjaXBpZW50Q29uZmlybWF0aW9uRGF0YSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBnZXRSZWNpcGllbnRzVG9CZUNvbmZpcm1lZCgpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjbG9zZUNvbmZpcm1hdGlvbkRpYWxvZyA9IGZ1bmN0aW9uIGNsb3NlQ29uZmlybWF0aW9uRGlhbG9nKCkge1xuICAgIHNldFN0YXR1cygnc2hhcmluZycpO1xuICB9O1xuXG4gIHZhciBjbG9zZVJlamVjdERpYWxvZyA9IGZ1bmN0aW9uIGNsb3NlUmVqZWN0RGlhbG9nKCkge1xuICAgIHNldFN0YXR1cygnY29uZmlybWluZ1JlY2lwaWVudCcpO1xuICB9O1xuXG4gIHZhciBkaWFsb2dUaXRsZSA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KERpYWxvZ1RpdGxlT25TaGFyZSwge1xuICAgIHJlY2lwaWVudHNUb0JlQ29uZmlybWVkOiByZWNpcGllbnRzVG9CZUNvbmZpcm1lZFxuICB9KTtcbiAgdmFyIGRpYWxvZ0NvbnRlbnQgPSBudWxsO1xuICB2YXIgZGlhbG9nQWN0aW9ucyA9IG51bGw7XG4gIHZhciBvbkJhY2sgPSBudWxsO1xuXG4gIGlmIChzdGF0dXMgPT09ICdlcnJvcicpIHtcbiAgICBkaWFsb2dDb250ZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXJyb3JDb250ZW50LCBudWxsKTtcbiAgfSBlbHNlIGlmIChzdGF0dXMgPT09ICdsb2FkaW5nJykge1xuICAgIGRpYWxvZ0NvbnRlbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMb2FkaW5nQ29udGVudCwgbnVsbCk7XG4gIH0gZWxzZSBpZiAoc3RhdHVzID09PSAnc2hhcmluZycpIHtcbiAgICBkaWFsb2dDb250ZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRGlhbG9nQ29udGVudE9uU2hhcmUsIHtcbiAgICAgIGNvbnRhY3RzOiBjb250YWN0cyxcbiAgICAgIGNyZWF0ZUNvbnRhY3Q6IGNyZWF0ZUNvbnRhY3QsXG4gICAgICBkb2N1bWVudDogZG9jdW1lbnQsXG4gICAgICBkb2N1bWVudFR5cGU6IGRvY3VtZW50VHlwZSxcbiAgICAgIGdyb3VwczogZ3JvdXBzLFxuICAgICAgaGFzU2hhcmVkUGFyZW50OiBoYXNTaGFyZWRQYXJlbnQsXG4gICAgICBpc093bmVyOiBpc093bmVyLFxuICAgICAgbmVlZHNDb250YWN0c1Blcm1pc3Npb246IG5lZWRzQ29udGFjdHNQZXJtaXNzaW9uLFxuICAgICAgb25SZXZva2U6IG9uUmV2b2tlLFxuICAgICAgb25SZXZva2VTZWxmOiBvblJldm9rZVNlbGYsXG4gICAgICBvblNoYXJlOiBvblNoYXJlLFxuICAgICAgcmVjaXBpZW50czogcmVjaXBpZW50cyxcbiAgICAgIHNoYXJpbmc6IHNoYXJpbmcsXG4gICAgICBzaGFyaW5nRGVzYzogc2hhcmluZ0Rlc2MsXG4gICAgICBzaG93U2hhcmVCeUVtYWlsOiBzaG93U2hhcmVCeUVtYWlsLFxuICAgICAgc2hvd1NoYXJlT25seUJ5TGluazogc2hvd1NoYXJlT25seUJ5TGluayxcbiAgICAgIHNob3dXaG9IYXNBY2Nlc3M6IHNob3dXaG9IYXNBY2Nlc3MsXG4gICAgICByZWNpcGllbnRzVG9CZUNvbmZpcm1lZDogcmVjaXBpZW50c1RvQmVDb25maXJtZWQsXG4gICAgICB2ZXJpZnlSZWNpcGllbnQ6IHNob3dDb25maXJtYXRpb25EaWFsb2csXG4gICAgICBsaW5rOiBsaW5rLFxuICAgICAgcGVybWlzc2lvbnM6IHBlcm1pc3Npb25zLFxuICAgICAgb25VcGRhdGVTaGFyZUxpbmtQZXJtaXNzaW9uczogb25VcGRhdGVTaGFyZUxpbmtQZXJtaXNzaW9ucyxcbiAgICAgIG9uUmV2b2tlTGluazogb25SZXZva2VMaW5rXG4gICAgfSk7XG4gICAgZGlhbG9nQWN0aW9ucyA9IERpYWxvZ0FjdGlvbnNPblNoYXJlID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRGlhbG9nQWN0aW9uc09uU2hhcmUsIHtcbiAgICAgIGNoZWNrZWQ6IGxpbmsgIT09IG51bGwsXG4gICAgICBkb2N1bWVudDogZG9jdW1lbnQsXG4gICAgICBkb2N1bWVudFR5cGU6IGRvY3VtZW50VHlwZSxcbiAgICAgIGxpbms6IGxpbmssXG4gICAgICBvbkNoYW5nZVBlcm1pc3Npb25zOiBvblVwZGF0ZVNoYXJlTGlua1Blcm1pc3Npb25zLFxuICAgICAgb25EaXNhYmxlOiBvblJldm9rZUxpbmssXG4gICAgICBvbkVuYWJsZTogb25TaGFyZUJ5TGluayxcbiAgICAgIHBlcm1pc3Npb25zOiBwZXJtaXNzaW9uc1xuICAgIH0pIDogbnVsbDtcbiAgfSBlbHNlIGlmIChzdGF0dXMgPT09ICdjb25maXJtaW5nUmVjaXBpZW50Jykge1xuICAgIGRpYWxvZ1RpdGxlID0gdChcIlNoYXJlLnR3b1N0ZXBzQ29uZmlybWF0aW9uLnRpdGxlXCIpO1xuICAgIGRpYWxvZ0NvbnRlbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb25maXJtYXRpb25EaWFsb2dDb250ZW50LCB7XG4gICAgICByZWNpcGllbnRDb25maXJtYXRpb25EYXRhOiByZWNpcGllbnRDb25maXJtYXRpb25EYXRhXG4gICAgfSk7XG4gICAgZGlhbG9nQWN0aW9ucyA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENvbmZpcm1SZWNpcGllbnRBY3Rpb25zLCB7XG4gICAgICBjb25maXJtOiBvbkNvbmZpcm1SZWNpcGllbnQsXG4gICAgICByZWplY3Q6IHNob3dSZWplY3REaWFsb2dcbiAgICB9KTtcbiAgICBvbkJhY2sgPSBjbG9zZUNvbmZpcm1hdGlvbkRpYWxvZztcbiAgfSBlbHNlIGlmIChzdGF0dXMgPT09ICdyZWplY3RpbmdSZWNpcGllbnQnKSB7XG4gICAgZGlhbG9nVGl0bGUgPSB0KFwiU2hhcmUudHdvU3RlcHNDb25maXJtYXRpb24udGl0bGVSZWplY3RcIik7XG4gICAgZGlhbG9nQ29udGVudCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlamVjdERpYWxvZ0NvbnRlbnQsIHtcbiAgICAgIHJlY2lwaWVudENvbmZpcm1hdGlvbkRhdGE6IHJlY2lwaWVudENvbmZpcm1hdGlvbkRhdGFcbiAgICB9KTtcbiAgICBkaWFsb2dBY3Rpb25zID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVqZWN0UmVjaXBpZW50QWN0aW9ucywge1xuICAgICAgcmVqZWN0OiBvblJlamVjdFJlY2lwaWVudCxcbiAgICAgIGNhbmNlbDogY2xvc2VSZWplY3REaWFsb2dcbiAgICB9KTtcbiAgICBvbkJhY2sgPSBjbG9zZVJlamVjdERpYWxvZztcbiAgfVxuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGaXhlZERpYWxvZywge1xuICAgIGRpc2FibGVFbmZvcmNlRm9jdXM6IHRydWUsXG4gICAgb3BlbjogdHJ1ZSxcbiAgICBvbkNsb3NlOiBvbkNsb3NlLFxuICAgIG9uQmFjazogb25CYWNrLFxuICAgIHRpdGxlOiBkaWFsb2dUaXRsZSxcbiAgICBjb250ZW50OiBkaWFsb2dDb250ZW50LFxuICAgIGFjdGlvbnM6IGRpYWxvZ0FjdGlvbnNcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBTaGFyZURpYWxvZ1R3b1N0ZXBzQ29uZmlybWF0aW9uQ29udGFpbmVyOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/cozy-sharing/dist/components/ShareDialogTwoStepsConfirmationContainer.js\n");

/***/ }),

/***/ "./node_modules/cozy-sharing/dist/components/WhoHasAccess.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/@babel/runtime/helpers/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Recipient_Recipient__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/components/Recipient/Recipient.js\");\n/* harmony import */ var _Recipient_LinkRecipient__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/components/Recipient/LinkRecipient.js\");\n/* harmony import */ var cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/I18n/index.js\");\n/* harmony import */ var cozy_ui_transpiled_react_MuiCozyTheme_List__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-ui/transpiled/react/MuiCozyTheme/List/index.js\");\n\n\n\n\n\n\n\n/**\n * Displays a warning if some contacts are waiting for confirmation of their sharing\n *\n * This may happen in two steps confirmation scenario like when sharing passwords\n */\n\nvar RecipientWaitingForConfirmationAlert = function RecipientWaitingForConfirmationAlert(_ref) {\n  var recipientsToBeConfirmed = _ref.recipientsToBeConfirmed;\n\n  var _useI18n = Object(cozy_ui_transpiled_react_I18n__WEBPACK_IMPORTED_MODULE_5__[\"useI18n\"])(),\n      t = _useI18n.t;\n\n  if (recipientsToBeConfirmed.length > 0) {\n    return t(\"Share.twoStepsConfirmation.contactAreWaitingForConfirmation\", {\n      smart_count: recipientsToBeConfirmed.length\n    });\n  }\n\n  return null;\n};\n\nvar WhoHasAccess = function WhoHasAccess(_ref2) {\n  var _ref2$isOwner = _ref2.isOwner,\n      isOwner = _ref2$isOwner === void 0 ? false : _ref2$isOwner,\n      recipients = _ref2.recipients,\n      _ref2$recipientsToBeC = _ref2.recipientsToBeConfirmed,\n      recipientsToBeConfirmed = _ref2$recipientsToBeC === void 0 ? [] : _ref2$recipientsToBeC,\n      document = _ref2.document,\n      documentType = _ref2.documentType,\n      onRevoke = _ref2.onRevoke,\n      className = _ref2.className,\n      onRevokeSelf = _ref2.onRevokeSelf,\n      verifyRecipient = _ref2.verifyRecipient,\n      link = _ref2.link,\n      permissions = _ref2.permissions,\n      onUpdateShareLinkPermissions = _ref2.onUpdateShareLinkPermissions,\n      onRevokeLink = _ref2.onRevokeLink;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: className\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(RecipientWaitingForConfirmationAlert, {\n    recipientsToBeConfirmed: recipientsToBeConfirmed\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(cozy_ui_transpiled_react_MuiCozyTheme_List__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    disablePadding: true\n  }, link && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Recipient_LinkRecipient__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    document: document,\n    documentType: documentType,\n    onRevoke: onRevoke,\n    onRevokeSelf: onRevokeSelf,\n    link: link,\n    permissions: permissions,\n    onChangePermissions: onUpdateShareLinkPermissions,\n    onDisable: onRevokeLink\n  }), recipients.map(function (recipient) {\n    var recipientConfirmationData = recipientsToBeConfirmed.find(function (user) {\n      return user.email === recipient.email;\n    });\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_Recipient_Recipient__WEBPACK_IMPORTED_MODULE_3__[\"default\"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, recipient, {\n      key: \"key_r_\".concat(recipient.index),\n      isOwner: isOwner,\n      document: document,\n      documentType: documentType,\n      onRevoke: onRevoke,\n      onRevokeSelf: onRevokeSelf,\n      recipientConfirmationData: recipientConfirmationData,\n      verifyRecipient: verifyRecipient\n    }));\n  })));\n};\n\nWhoHasAccess.propTypes = {\n  isOwner: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,\n  recipients: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.array.isRequired,\n  recipientsToBeConfirmed: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({\n    email: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired\n  })),\n  document: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired,\n  documentType: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,\n  onRevoke: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,\n  onRevokeSelf: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func,\n  verifyRecipient: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (WhoHasAccess);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY296eS1zaGFyaW5nL2Rpc3QvY29tcG9uZW50cy9XaG9IYXNBY2Nlc3MuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY296eS1zaGFyaW5nL2Rpc3QvY29tcG9uZW50cy9XaG9IYXNBY2Nlc3MuanM/MmU0NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXh0ZW5kc1wiO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVjaXBpZW50IGZyb20gJy4vUmVjaXBpZW50L1JlY2lwaWVudCc7XG5pbXBvcnQgTGlua1JlY2lwaWVudCBmcm9tICcuL1JlY2lwaWVudC9MaW5rUmVjaXBpZW50JztcbmltcG9ydCB7IHVzZUkxOG4gfSBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvSTE4bic7XG5pbXBvcnQgTGlzdCBmcm9tICdjb3p5LXVpL3RyYW5zcGlsZWQvcmVhY3QvTXVpQ296eVRoZW1lL0xpc3QnO1xuLyoqXG4gKiBEaXNwbGF5cyBhIHdhcm5pbmcgaWYgc29tZSBjb250YWN0cyBhcmUgd2FpdGluZyBmb3IgY29uZmlybWF0aW9uIG9mIHRoZWlyIHNoYXJpbmdcbiAqXG4gKiBUaGlzIG1heSBoYXBwZW4gaW4gdHdvIHN0ZXBzIGNvbmZpcm1hdGlvbiBzY2VuYXJpbyBsaWtlIHdoZW4gc2hhcmluZyBwYXNzd29yZHNcbiAqL1xuXG52YXIgUmVjaXBpZW50V2FpdGluZ0ZvckNvbmZpcm1hdGlvbkFsZXJ0ID0gZnVuY3Rpb24gUmVjaXBpZW50V2FpdGluZ0ZvckNvbmZpcm1hdGlvbkFsZXJ0KF9yZWYpIHtcbiAgdmFyIHJlY2lwaWVudHNUb0JlQ29uZmlybWVkID0gX3JlZi5yZWNpcGllbnRzVG9CZUNvbmZpcm1lZDtcblxuICB2YXIgX3VzZUkxOG4gPSB1c2VJMThuKCksXG4gICAgICB0ID0gX3VzZUkxOG4udDtcblxuICBpZiAocmVjaXBpZW50c1RvQmVDb25maXJtZWQubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiB0KFwiU2hhcmUudHdvU3RlcHNDb25maXJtYXRpb24uY29udGFjdEFyZVdhaXRpbmdGb3JDb25maXJtYXRpb25cIiwge1xuICAgICAgc21hcnRfY291bnQ6IHJlY2lwaWVudHNUb0JlQ29uZmlybWVkLmxlbmd0aFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59O1xuXG52YXIgV2hvSGFzQWNjZXNzID0gZnVuY3Rpb24gV2hvSGFzQWNjZXNzKF9yZWYyKSB7XG4gIHZhciBfcmVmMiRpc093bmVyID0gX3JlZjIuaXNPd25lcixcbiAgICAgIGlzT3duZXIgPSBfcmVmMiRpc093bmVyID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYyJGlzT3duZXIsXG4gICAgICByZWNpcGllbnRzID0gX3JlZjIucmVjaXBpZW50cyxcbiAgICAgIF9yZWYyJHJlY2lwaWVudHNUb0JlQyA9IF9yZWYyLnJlY2lwaWVudHNUb0JlQ29uZmlybWVkLFxuICAgICAgcmVjaXBpZW50c1RvQmVDb25maXJtZWQgPSBfcmVmMiRyZWNpcGllbnRzVG9CZUMgPT09IHZvaWQgMCA/IFtdIDogX3JlZjIkcmVjaXBpZW50c1RvQmVDLFxuICAgICAgZG9jdW1lbnQgPSBfcmVmMi5kb2N1bWVudCxcbiAgICAgIGRvY3VtZW50VHlwZSA9IF9yZWYyLmRvY3VtZW50VHlwZSxcbiAgICAgIG9uUmV2b2tlID0gX3JlZjIub25SZXZva2UsXG4gICAgICBjbGFzc05hbWUgPSBfcmVmMi5jbGFzc05hbWUsXG4gICAgICBvblJldm9rZVNlbGYgPSBfcmVmMi5vblJldm9rZVNlbGYsXG4gICAgICB2ZXJpZnlSZWNpcGllbnQgPSBfcmVmMi52ZXJpZnlSZWNpcGllbnQsXG4gICAgICBsaW5rID0gX3JlZjIubGluayxcbiAgICAgIHBlcm1pc3Npb25zID0gX3JlZjIucGVybWlzc2lvbnMsXG4gICAgICBvblVwZGF0ZVNoYXJlTGlua1Blcm1pc3Npb25zID0gX3JlZjIub25VcGRhdGVTaGFyZUxpbmtQZXJtaXNzaW9ucyxcbiAgICAgIG9uUmV2b2tlTGluayA9IF9yZWYyLm9uUmV2b2tlTGluaztcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZVxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWNpcGllbnRXYWl0aW5nRm9yQ29uZmlybWF0aW9uQWxlcnQsIHtcbiAgICByZWNpcGllbnRzVG9CZUNvbmZpcm1lZDogcmVjaXBpZW50c1RvQmVDb25maXJtZWRcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KExpc3QsIHtcbiAgICBkaXNhYmxlUGFkZGluZzogdHJ1ZVxuICB9LCBsaW5rICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KExpbmtSZWNpcGllbnQsIHtcbiAgICBkb2N1bWVudDogZG9jdW1lbnQsXG4gICAgZG9jdW1lbnRUeXBlOiBkb2N1bWVudFR5cGUsXG4gICAgb25SZXZva2U6IG9uUmV2b2tlLFxuICAgIG9uUmV2b2tlU2VsZjogb25SZXZva2VTZWxmLFxuICAgIGxpbms6IGxpbmssXG4gICAgcGVybWlzc2lvbnM6IHBlcm1pc3Npb25zLFxuICAgIG9uQ2hhbmdlUGVybWlzc2lvbnM6IG9uVXBkYXRlU2hhcmVMaW5rUGVybWlzc2lvbnMsXG4gICAgb25EaXNhYmxlOiBvblJldm9rZUxpbmtcbiAgfSksIHJlY2lwaWVudHMubWFwKGZ1bmN0aW9uIChyZWNpcGllbnQpIHtcbiAgICB2YXIgcmVjaXBpZW50Q29uZmlybWF0aW9uRGF0YSA9IHJlY2lwaWVudHNUb0JlQ29uZmlybWVkLmZpbmQoZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgIHJldHVybiB1c2VyLmVtYWlsID09PSByZWNpcGllbnQuZW1haWw7XG4gICAgfSk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlY2lwaWVudCwgX2V4dGVuZHMoe30sIHJlY2lwaWVudCwge1xuICAgICAga2V5OiBcImtleV9yX1wiLmNvbmNhdChyZWNpcGllbnQuaW5kZXgpLFxuICAgICAgaXNPd25lcjogaXNPd25lcixcbiAgICAgIGRvY3VtZW50OiBkb2N1bWVudCxcbiAgICAgIGRvY3VtZW50VHlwZTogZG9jdW1lbnRUeXBlLFxuICAgICAgb25SZXZva2U6IG9uUmV2b2tlLFxuICAgICAgb25SZXZva2VTZWxmOiBvblJldm9rZVNlbGYsXG4gICAgICByZWNpcGllbnRDb25maXJtYXRpb25EYXRhOiByZWNpcGllbnRDb25maXJtYXRpb25EYXRhLFxuICAgICAgdmVyaWZ5UmVjaXBpZW50OiB2ZXJpZnlSZWNpcGllbnRcbiAgICB9KSk7XG4gIH0pKSk7XG59O1xuXG5XaG9IYXNBY2Nlc3MucHJvcFR5cGVzID0ge1xuICBpc093bmVyOiBQcm9wVHlwZXMuYm9vbCxcbiAgcmVjaXBpZW50czogUHJvcFR5cGVzLmFycmF5LmlzUmVxdWlyZWQsXG4gIHJlY2lwaWVudHNUb0JlQ29uZmlybWVkOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGVtYWlsOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWRcbiAgfSkpLFxuICBkb2N1bWVudDogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICBkb2N1bWVudFR5cGU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgb25SZXZva2U6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIG9uUmV2b2tlU2VsZjogUHJvcFR5cGVzLmZ1bmMsXG4gIHZlcmlmeVJlY2lwaWVudDogUHJvcFR5cGVzLmZ1bmNcbn07XG5leHBvcnQgZGVmYXVsdCBXaG9IYXNBY2Nlc3M7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/cozy-sharing/dist/components/WhoHasAccess.js\n");

/***/ }),

/***/ "./node_modules/cozy-sharing/dist/helpers/documentType.js":
false,

/***/ "./node_modules/cozy-sharing/dist/helpers/link.js":
false,

/***/ "./node_modules/cozy-sharing/dist/index.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/context.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"SharingContext\", function() { return _context__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _withLocales__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/withLocales.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"withLocales\", function() { return _withLocales__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _SharingProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/SharingProvider.js\");\n/* harmony import */ var _SharedDocument__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/SharedDocument.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"SharedDocument\", function() { return _SharedDocument__WEBPACK_IMPORTED_MODULE_3__[\"SharedDocument\"]; });\n\n/* harmony import */ var _SharedStatus__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/SharedStatus.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"SharedStatus\", function() { return _SharedStatus__WEBPACK_IMPORTED_MODULE_4__[\"SharedStatus\"]; });\n\n/* harmony import */ var _SharedBadge__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/SharedBadge.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"SharedBadge\", function() { return _SharedBadge__WEBPACK_IMPORTED_MODULE_5__[\"SharedBadge\"]; });\n\n/* harmony import */ var _SharingOwnerAvatar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/SharingOwnerAvatar.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"SharingOwnerAvatar\", function() { return _SharingOwnerAvatar__WEBPACK_IMPORTED_MODULE_6__[\"SharingOwnerAvatar\"]; });\n\n/* harmony import */ var _SharedRecipients__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/SharedRecipients.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"SharedRecipients\", function() { return _SharedRecipients__WEBPACK_IMPORTED_MODULE_7__[\"SharedRecipients\"]; });\n\n/* harmony import */ var _SharedRecipientsList__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/SharedRecipientsList.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"SharedRecipientsList\", function() { return _SharedRecipientsList__WEBPACK_IMPORTED_MODULE_8__[\"SharedRecipientsList\"]; });\n\n/* harmony import */ var _ShareButton__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/ShareButton.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ShareButton\", function() { return _ShareButton__WEBPACK_IMPORTED_MODULE_9__[\"ShareButton\"]; });\n\n/* harmony import */ var _ShareModal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/ShareModal.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ShareModal\", function() { return _ShareModal__WEBPACK_IMPORTED_MODULE_10__[\"ShareModal\"]; });\n\n/* harmony import */ var _RefreshableSharings__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/RefreshableSharings.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"RefreshableSharings\", function() { return _RefreshableSharings__WEBPACK_IMPORTED_MODULE_11__[\"RefreshableSharings\"]; });\n\n/* harmony import */ var _components_useFetchDocumentPath__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/components/useFetchDocumentPath.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"useFetchDocumentPath\", function() { return _components_useFetchDocumentPath__WEBPACK_IMPORTED_MODULE_12__[\"useFetchDocumentPath\"]; });\n\n/* harmony import */ var _components_CozyPassFingerprintDialogContent__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/components/CozyPassFingerprintDialogContent.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CozyPassFingerprintDialogContent\", function() { return _components_CozyPassFingerprintDialogContent__WEBPACK_IMPORTED_MODULE_13__[\"CozyPassFingerprintDialogContent\"]; });\n\n/* harmony import */ var _SharingBanner__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/SharingBanner/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"SharingBannerPlugin\", function() { return _SharingBanner__WEBPACK_IMPORTED_MODULE_14__[\"SharingBannerPlugin\"]; });\n\n/* harmony import */ var _SharingBanner_hooks_useSharingInfos__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/SharingBanner/hooks/useSharingInfos.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"useSharingInfos\", function() { return _SharingBanner_hooks_useSharingInfos__WEBPACK_IMPORTED_MODULE_15__[\"useSharingInfos\"]; });\n\n/* harmony import */ var _ConfirmTrustedRecipientsDialog__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/ConfirmTrustedRecipientsDialog.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ConfirmTrustedRecipientsDialog\", function() { return _ConfirmTrustedRecipientsDialog__WEBPACK_IMPORTED_MODULE_16__[\"ConfirmTrustedRecipientsDialog\"]; });\n\n/* harmony import */ var _ShareButtonWithRecipients__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/ShareButtonWithRecipients.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ShareButtonWithRecipients\", function() { return _ShareButtonWithRecipients__WEBPACK_IMPORTED_MODULE_17__[\"ShareButtonWithRecipients\"]; });\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_SharingProvider__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY296eS1zaGFyaW5nL2Rpc3QvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY296eS1zaGFyaW5nL2Rpc3QvaW5kZXguanM/NTI2NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2hhcmluZ0NvbnRleHQgZnJvbSAnLi9jb250ZXh0JztcbmltcG9ydCB3aXRoTG9jYWxlcyBmcm9tICcuL3dpdGhMb2NhbGVzJztcbmltcG9ydCBTaGFyaW5nUHJvdmlkZXIgZnJvbSAnLi9TaGFyaW5nUHJvdmlkZXInO1xuZXhwb3J0IGRlZmF1bHQgU2hhcmluZ1Byb3ZpZGVyO1xuZXhwb3J0IHsgU2hhcmluZ0NvbnRleHQsIHdpdGhMb2NhbGVzIH07XG5leHBvcnQgeyBTaGFyZWREb2N1bWVudCB9IGZyb20gJy4vU2hhcmVkRG9jdW1lbnQnO1xuZXhwb3J0IHsgU2hhcmVkU3RhdHVzIH0gZnJvbSAnLi9TaGFyZWRTdGF0dXMnO1xuZXhwb3J0IHsgU2hhcmVkQmFkZ2UgfSBmcm9tICcuL1NoYXJlZEJhZGdlJztcbmV4cG9ydCB7IFNoYXJpbmdPd25lckF2YXRhciB9IGZyb20gJy4vU2hhcmluZ093bmVyQXZhdGFyJztcbmV4cG9ydCB7IFNoYXJlZFJlY2lwaWVudHMgfSBmcm9tICcuL1NoYXJlZFJlY2lwaWVudHMnO1xuZXhwb3J0IHsgU2hhcmVkUmVjaXBpZW50c0xpc3QgfSBmcm9tICcuL1NoYXJlZFJlY2lwaWVudHNMaXN0JztcbmV4cG9ydCB7IFNoYXJlQnV0dG9uIH0gZnJvbSAnLi9TaGFyZUJ1dHRvbic7XG5leHBvcnQgeyBTaGFyZU1vZGFsIH0gZnJvbSAnLi9TaGFyZU1vZGFsJztcbmV4cG9ydCB7IFJlZnJlc2hhYmxlU2hhcmluZ3MgfSBmcm9tICcuL1JlZnJlc2hhYmxlU2hhcmluZ3MnO1xuZXhwb3J0IHsgdXNlRmV0Y2hEb2N1bWVudFBhdGggfSBmcm9tICcuL2NvbXBvbmVudHMvdXNlRmV0Y2hEb2N1bWVudFBhdGgnO1xuZXhwb3J0IHsgQ296eVBhc3NGaW5nZXJwcmludERpYWxvZ0NvbnRlbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvQ296eVBhc3NGaW5nZXJwcmludERpYWxvZ0NvbnRlbnQnO1xuZXhwb3J0IHsgU2hhcmluZ0Jhbm5lclBsdWdpbiB9IGZyb20gJy4vU2hhcmluZ0Jhbm5lcic7XG5leHBvcnQgeyB1c2VTaGFyaW5nSW5mb3MgfSBmcm9tICcuL1NoYXJpbmdCYW5uZXIvaG9va3MvdXNlU2hhcmluZ0luZm9zJztcbmV4cG9ydCB7IENvbmZpcm1UcnVzdGVkUmVjaXBpZW50c0RpYWxvZyB9IGZyb20gJy4vQ29uZmlybVRydXN0ZWRSZWNpcGllbnRzRGlhbG9nJztcbmV4cG9ydCB7IFNoYXJlQnV0dG9uV2l0aFJlY2lwaWVudHMgfSBmcm9tICcuL1NoYXJlQnV0dG9uV2l0aFJlY2lwaWVudHMnOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/cozy-sharing/dist/index.js\n");

/***/ }),

/***/ "./node_modules/cozy-sharing/dist/queries/queries.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetchApps\", function() { return fetchApps; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"buildSharingsByIdQuery\", function() { return buildSharingsByIdQuery; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"buildContactsQuery\", function() { return buildContactsQuery; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"buildGroupsQuery\", function() { return buildGroupsQuery; });\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./node_modules/cozy-client/dist/index.js\");\n/* harmony import */ var cozy_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cozy_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _models__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./node_modules/cozy-sharing/dist/models.js\");\n\n\nvar DEFAULT_CACHE_TIMEOUT_QUERIES = 9 * 60 * 1000;\nvar defaultFetchPolicy = cozy_client__WEBPACK_IMPORTED_MODULE_0__[\"fetchPolicies\"].olderThan(DEFAULT_CACHE_TIMEOUT_QUERIES);\nvar fetchApps = function fetchApps() {\n  return {\n    definition: Object(cozy_client__WEBPACK_IMPORTED_MODULE_0__[\"Q\"])('io.cozy.apps'),\n    options: {\n      as: 'io.cozy.apps',\n      fetchPolicy: defaultFetchPolicy\n    }\n  };\n};\nvar buildSharingsByIdQuery = function buildSharingsByIdQuery(sharingId) {\n  return {\n    definition: Object(cozy_client__WEBPACK_IMPORTED_MODULE_0__[\"Q\"])('io.cozy.sharings').getById(sharingId),\n    options: {\n      as: \"io.cozy.sharings/\".concat(sharingId),\n      fetchPolicy: defaultFetchPolicy\n    }\n  };\n};\nvar buildContactsQuery = function buildContactsQuery() {\n  return {\n    definition: Object(cozy_client__WEBPACK_IMPORTED_MODULE_0__[\"Q\"])(_models__WEBPACK_IMPORTED_MODULE_1__[\"Contact\"].doctype).where({\n      _id: {\n        $gt: null\n      }\n    }).partialIndex({\n      trashed: {\n        $or: [{\n          $eq: false\n        }, {\n          $exists: false\n        }]\n      },\n      $or: [{\n        cozy: {\n          $not: {\n            $size: 0\n          }\n        }\n      }, {\n        email: {\n          $not: {\n            $size: 0\n          }\n        }\n      }]\n    }).indexFields(['_id']).limitBy(1000),\n    options: {\n      as: 'io.cozy.contacts'\n    }\n  };\n};\nvar buildGroupsQuery = function buildGroupsQuery() {\n  return {\n    definition: Object(cozy_client__WEBPACK_IMPORTED_MODULE_0__[\"Q\"])(_models__WEBPACK_IMPORTED_MODULE_1__[\"Group\"].doctype),\n    options: {\n      as: 'io.cozy.contacts.groups'\n    }\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY296eS1zaGFyaW5nL2Rpc3QvcXVlcmllcy9xdWVyaWVzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nvenktc2hhcmluZy9kaXN0L3F1ZXJpZXMvcXVlcmllcy5qcz9kZTQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFEsIGZldGNoUG9saWNpZXMgfSBmcm9tICdjb3p5LWNsaWVudCc7XG5pbXBvcnQgeyBDb250YWN0LCBHcm91cCB9IGZyb20gJy4uL21vZGVscyc7XG52YXIgREVGQVVMVF9DQUNIRV9USU1FT1VUX1FVRVJJRVMgPSA5ICogNjAgKiAxMDAwO1xudmFyIGRlZmF1bHRGZXRjaFBvbGljeSA9IGZldGNoUG9saWNpZXMub2xkZXJUaGFuKERFRkFVTFRfQ0FDSEVfVElNRU9VVF9RVUVSSUVTKTtcbmV4cG9ydCB2YXIgZmV0Y2hBcHBzID0gZnVuY3Rpb24gZmV0Y2hBcHBzKCkge1xuICByZXR1cm4ge1xuICAgIGRlZmluaXRpb246IFEoJ2lvLmNvenkuYXBwcycpLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIGFzOiAnaW8uY296eS5hcHBzJyxcbiAgICAgIGZldGNoUG9saWN5OiBkZWZhdWx0RmV0Y2hQb2xpY3lcbiAgICB9XG4gIH07XG59O1xuZXhwb3J0IHZhciBidWlsZFNoYXJpbmdzQnlJZFF1ZXJ5ID0gZnVuY3Rpb24gYnVpbGRTaGFyaW5nc0J5SWRRdWVyeShzaGFyaW5nSWQpIHtcbiAgcmV0dXJuIHtcbiAgICBkZWZpbml0aW9uOiBRKCdpby5jb3p5LnNoYXJpbmdzJykuZ2V0QnlJZChzaGFyaW5nSWQpLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIGFzOiBcImlvLmNvenkuc2hhcmluZ3MvXCIuY29uY2F0KHNoYXJpbmdJZCksXG4gICAgICBmZXRjaFBvbGljeTogZGVmYXVsdEZldGNoUG9saWN5XG4gICAgfVxuICB9O1xufTtcbmV4cG9ydCB2YXIgYnVpbGRDb250YWN0c1F1ZXJ5ID0gZnVuY3Rpb24gYnVpbGRDb250YWN0c1F1ZXJ5KCkge1xuICByZXR1cm4ge1xuICAgIGRlZmluaXRpb246IFEoQ29udGFjdC5kb2N0eXBlKS53aGVyZSh7XG4gICAgICBfaWQ6IHtcbiAgICAgICAgJGd0OiBudWxsXG4gICAgICB9XG4gICAgfSkucGFydGlhbEluZGV4KHtcbiAgICAgIHRyYXNoZWQ6IHtcbiAgICAgICAgJG9yOiBbe1xuICAgICAgICAgICRlcTogZmFsc2VcbiAgICAgICAgfSwge1xuICAgICAgICAgICRleGlzdHM6IGZhbHNlXG4gICAgICAgIH1dXG4gICAgICB9LFxuICAgICAgJG9yOiBbe1xuICAgICAgICBjb3p5OiB7XG4gICAgICAgICAgJG5vdDoge1xuICAgICAgICAgICAgJHNpemU6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZW1haWw6IHtcbiAgICAgICAgICAkbm90OiB7XG4gICAgICAgICAgICAkc2l6ZTogMFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfV1cbiAgICB9KS5pbmRleEZpZWxkcyhbJ19pZCddKS5saW1pdEJ5KDEwMDApLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIGFzOiAnaW8uY296eS5jb250YWN0cydcbiAgICB9XG4gIH07XG59O1xuZXhwb3J0IHZhciBidWlsZEdyb3Vwc1F1ZXJ5ID0gZnVuY3Rpb24gYnVpbGRHcm91cHNRdWVyeSgpIHtcbiAgcmV0dXJuIHtcbiAgICBkZWZpbml0aW9uOiBRKEdyb3VwLmRvY3R5cGUpLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIGFzOiAnaW8uY296eS5jb250YWN0cy5ncm91cHMnXG4gICAgfVxuICB9O1xufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/cozy-sharing/dist/queries/queries.js\n");

/***/ })

})