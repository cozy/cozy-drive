{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/sharing/SharingDetailsModal.jsx","webpack:///./src/drive/mobile/lib/i18n.js","webpack:///./src/components/Error/oops.styl","webpack:///./src/viewer/NoNetworkViewer.jsx","webpack:///./src/sharing/components/ShareRecipientsInput.jsx","webpack:///./src/models/Contact.js","webpack:///./src/drive/web/modules/services/components/Picker/Picker.jsx","webpack:///./src/drive/web/modules/navigation/duck/reducer.js","webpack:///./src/lib/react-cozy-helpers/BarContextProvider.jsx","webpack:///./src/drive/assets/icons/icon-type-sheet.svg","webpack:///./src/viewer/icons/icon-type-audio.svg","webpack:///./src/drive/web/modules/filelist/LoadMore.jsx","webpack:///zlib (ignored)","webpack:///./src/sharing/components/recipient.styl","webpack:///./src/drive/mobile/lib/filesystem.js","webpack:///./src/drive/store/persistedState.js","webpack:///./src/sharing/components/Avatar.jsx","webpack:///fs (ignored)","webpack:///./src/lib/react-cozy-helpers/ModalManager.jsx","webpack:///./src/drive/web/modules/upload/index.js","webpack:///./src/drive/web/modules/services/components/Embeder.jsx","webpack:///./src/drive/web/modules/services/index.jsx","webpack:///./src/sharing/components/ContactsAndGroupsDataLoader.jsx","webpack:///http (ignored)","webpack:///./src/drive/styles/actionmenu.styl","webpack:///./src/drive/web/modules/filelist/duck.js","webpack:///./src/sharing/components/status.styl","webpack:///./src/drive/assets/icons/icon-type-note.svg","webpack:///https (ignored)","webpack:///./src/sharing/assets/icons/icon-eye-16.svg","webpack:///./src/components/Image/index.js","webpack:///./src/drive/assets/icons/icon-type-code.svg","webpack:///./src/sharing/components/Identity.jsx","webpack:///./src/viewer/styles.styl","webpack:///./src/drive/web/modules/selection/duck.js","webpack:///./src/components/icons/icon-cloud-wrong.svg","webpack:///./src/components/Image/ImageLoader.jsx","webpack:///./src/drive/assets/icons/icon-folder-add.svg","webpack:///./src/drive/web/modules/filelist/FilenameInput.jsx","webpack:///./src/sharing/components/EditableSharingModal.jsx","webpack:///./src/drive/web/modules/services/components/IntentHandler.jsx","webpack:///./src/viewer/NoViewer/NoViewer.jsx","webpack:///./src/folder-references/index.js","webpack:///./src/drive/mobile/modules/authorization/duck/selectors.js","webpack:///./src/sharing/components/tooltip.styl","webpack:///./src/sharing/assets/icons/icon-link.svg","webpack:///./src/sharing/components/Tooltip.jsx","webpack:///./src/drive/mobile/modules/settings/duck/reducers.js","webpack:///./src/components/Error/Oops.jsx","webpack:///./src/drive/web/modules/drive/RenameInput.jsx","webpack:///./src/drive/mobile/modules/authorization/duck/actions.js","webpack:///./src/sharing/propTypes.js","webpack:///./src/sharing/components/WhoHasAccess.jsx","webpack:///./src/viewer/VideoViewer.jsx","webpack:///./src/sharing/assets/icons/icon-pen-write-16.svg","webpack:///./src/viewer/AudioViewer.jsx","webpack:///./src/drive/web/modules/actionmenu/MobileActionMenu.jsx","webpack:///./src/sharing/assets/icons/icon-hourglass-16.svg","webpack:///./src/viewer/ViewerControls.jsx","webpack:///./src/drive/store/configureStore.js","webpack:///./src/drive/web/modules/services/components/SuggestionProvider.jsx","webpack:///./src/drive/web/modules/services/components/Picker/withReduxStore.jsx","webpack:///./src/sharing/components/badge.styl","webpack:///./src/sharing/components/ShareByLink.jsx","webpack:///./src/components/pushClient/index.js","webpack:///./src/drive/lib/getFileMimetype.js","webpack:///./src/drive/web/modules/services/components/Picker/OriginHint.jsx","webpack:///./src/drive/web/modules/layout/Topbar.jsx","webpack:///./src/viewer/ImageViewer.jsx","webpack:///./src/drive/web/modules/drive/rename.js","webpack:///./src/components/Error/Empty.jsx","webpack:///./src/drive/web/modules/navigation/breadcrumb.styl","webpack:///./src/drive/assets/icons sync nonrecursive icon-type-.*.svg$","webpack:///./src/drive/mobile/modules/mediaBackup/duck/checkCorruptedFiles.js","webpack:///./src/drive/web/modules/navigation/duck/async.js","webpack:///./src/drive/web/modules/filelist/AddFolder.jsx","webpack:///./src/sharing/components/Recipient.jsx","webpack:///./src/drive/mobile/modules/mediaBackup/duck/index.js","webpack:///./src/drive/web/modules/filelist/FileListBody.jsx","webpack:///./src/drive/targets/vendor/assets/app-icon.svg","webpack:///./src/models/index.js","webpack:///./src/drive/web/modules/services/FuzzyPathSearch.js","webpack:///./src/viewer/NoViewer/CallToAction.jsx","webpack:///./src/sharing/index.jsx","webpack:///./src/drive/mobile/lib/constants.js","webpack:///./src/sharing/suggestionMatchers.js","webpack:///./src/sharing/components/SharedDocuments.jsx","webpack:///./src/drive/web/modules/upload/styles.styl","webpack:///./src/drive/mobile/modules/authorization/duck/index.js","webpack:///./src/drive/lib/getMimeTypeIcon.js","webpack:///./src/viewer/NoViewer/FileIcon.jsx","webpack:///./src/sharing/state.js","webpack:///./src/drive/assets/icons/icon-type-bin.svg","webpack:///./src/drive/styles/filelist.styl","webpack:///./src/drive/web/modules/navigation/duck/actions.jsx","webpack:///./src/sharing/assets/icons/icon-cross-bold.svg","webpack:///./src/drive/assets/icons/icon-type-video.svg","webpack:///./src/drive/assets/icons/icon-type-image.svg","webpack:///./src/sharing/components/button.styl","webpack:///./src/drive/mobile/lib/background.js","webpack:///./src/sharing/components/ShareByEmail.jsx","webpack:///./src/drive/mobile/modules/settings/duck/actions.js","webpack:///./src/sharing/components/colorhash.js","webpack:///./src/drive/mobile/lib/tracker.js","webpack:///./src/drive/assets/icons/icon-trash-big.svg","webpack:///./src/drive/targets/manifest.webapp","webpack:///./src/drive/web/modules/navigation/Breadcrumb.jsx","webpack:///./src/viewer/icons/icon-type-code.svg","webpack:///./src/drive/assets/icons/icon-folder-broken.svg","webpack:///./src/drive/styles/topbar.styl","webpack:///./src/viewer/icons/icon-type-zip.svg","webpack:///./src/lib/react-cozy-helpers/index.js","webpack:///./src/drive/targets/intents/index.jsx","webpack:///./src/drive/constants/config.js","webpack:///./src/photos/assets/icons/icon-main-app.svg","webpack:///./src/drive/mobile/modules/mediaBackup/duck/reducer.js","webpack:///./src/drive/mobile/modules/authorization/duck/reducer.js","webpack:///./src/drive/mobile/modules/replication/duck.js","webpack:///./src/viewer/PdfJsViewer.jsx","webpack:///./src/drive/web/modules/filelist/FileIcon.jsx","webpack:///./src/components/Menu/Menuawaremobile.jsx","webpack:///./src/drive/mobile/modules/settings/duck/index.js","webpack:///./src/lib/react-cozy-helpers/QueryParameter.js","webpack:///./src/drive/web/modules/filelist/File.jsx","webpack:///./src/viewer/TextViewer.jsx","webpack:///./src/viewer/icons/icon-type-text.svg","webpack:///./src/viewer/withFileUrl.jsx","webpack:///./src/viewer/Viewer.jsx","webpack:///./src/drive/assets/icons/icon-type-slide.svg","webpack:///./src/drive/mobile/lib/media.js","webpack:///./src/sharing/components/autosuggest.styl","webpack:///./src/viewer/icons/icon-type-slide.svg","webpack:///./src/sharing/components/ShareAutosuggest.jsx","webpack:///./src/drive/assets/icons/icon-type-pdf.svg","webpack:///./src/drive/assets/icons/icon-type-audio.svg","webpack:///./src/drive/store/rootReducer.js","webpack:///./src/sharing/components/WhoHasAccessLight.jsx","webpack:///./src/drive/web/modules/services/components/Picker/index.js","webpack:///./src/viewer/icons/icon-type-bin.svg","webpack:///./src/drive/mobile/modules/offline/duck.js","webpack:///./src/drive/web/modules/services/components/URLGetter.jsx","webpack:///./src/drive/web/modules/trash/actions.js","webpack:///./src/sharing/share.styl","webpack:///./src/viewer/icons/icon-type-files.svg","webpack:///./src/drive/web/modules/filelist/FileListRows.jsx","webpack:///./src/sharing/components/ShareModal.jsx","webpack:///./src/viewer/NoViewer/index.jsx","webpack:///./src/drive/styles/filenameinput.styl","webpack:///./src/drive/mobile/lib/network.js","webpack:///./src/drive/assets/icons/icon-type-files.svg","webpack:///./node_modules/date-fns/locale sync ^\\.\\/.*\\/index\\.js$","webpack:///./src/drive/web/modules/filelist/FileThumbnail.jsx","webpack:///./src/drive/web/modules/drive/files.js","webpack:///./src/sharing/assets/icons/icon-trash-red.svg","webpack:///./src/sharing/components/SharedBadge.jsx","webpack:///./src/drive/assets/icons/icon-type-zip.svg","webpack:///./src/drive/mobile/lib/cozy-helper.js","webpack:///./src/viewer/icons/icon-type-pdf.svg","webpack:///./src/drive/web/modules/services/components/Picker/AddFolderButton.jsx","webpack:///./src/drive/lib/reporter.js","webpack:///./src/sharing/components/ContactSuggestion.jsx","webpack:///./src/viewer/PdfToolbarButton.jsx","webpack:///./src/drive/web/modules/actionmenu/MenuItem.jsx","webpack:///./src/sharing/context.js","webpack:///./src/drive/web/modules/upload/QuotaAlert.jsx","webpack:///./src/drive/web/modules/navigation/AsyncBoundary.jsx","webpack:///./src/drive/web/modules/navigation/getFolderPath.js","webpack:///./src/drive/locales sync ^\\.\\/.*$","webpack:///./src/drive/web/modules/upload/UploadQueue.jsx","webpack:///./src/drive/web/modules/services/components/Picker/picker.styl","webpack:///./src/drive/web/modules/viewer/FileOpenerExternal.jsx","webpack:///./src/drive/appMetadata.js","webpack:///./src/sharing/components/SharedStatus.jsx","webpack:///./src/drive/web/modules/filelist/FileListHeader.jsx","webpack:///./src/drive/assets/icons/icon-type-folder.svg","webpack:///./src/drive/web/modules/filelist/FileList.jsx","webpack:///./src/drive/assets/icons/icon-type-text.svg","webpack:///./src/drive/web/modules/actionmenu/ActionMenu.jsx","webpack:///./src/drive/web/modules/filelist/FilePlaceholder.jsx","webpack:///./src/viewer/icons/icon-type-sheet.svg","webpack:///./src/drive/web/modules/viewer/barviewer.styl","webpack:///./src/viewer/index.js","webpack:///./src/drive/web/modules/navigation/duck/index.js","webpack:///./src/drive/lib/doctypes.js","webpack:///./src/drive/web/modules/filelist/FileListRowsPlaceholder.jsx","webpack:///./src/sharing/components/ShareButton.jsx"],"names":["SharingDetailsModal","context","t","f","props","onClose","sharingType","owner","recipients","document","documentType","onRevoke","styles","name","Contact","getDisplayName","instance","date","created_at","count","length","Component","PropTypes","func","isRequired","object","getTranslateFunction","_polyglot","undefined","lang","getLang","dictRequire","require","initTranslation","bind","NoNetworkViewer","onReload","IconCloud","translate","ShareRecipientsInput","loading","contacts","groups","hasMore","fetchStatus","setState","data","state","label","onPick","onRemove","placeholder","getContactsAndGroups","onFocus","client","propTypes","string","contactsResponseType","groupsResponseType","array","defaultProps","contactOrRecipient","isContact","DoctypeContact","getInitials","s","public_name","email","toUpperCase","contact","Picker","path","folder","indexInPath","indexOf","newPath","slice","fetchFolder","id","updateBreadcrumb","navigateTo","service","cancel","terminate","openedFolderId","root","getElementById","dataset","headerIcon","cozyIconPath","ROOT_DIR_ID","files","isMobile","breakpoints","getData","hint","icon","showBackButton","folders","filter","file","type","goBack","find","cancelIntent","terminateIntent","mapStateToProps","getOpenedFolderId","getVisibleFiles","mapDispatchToProps","dispatch","folderId","openFolder","withReduxStore","connect","withBreakpoints","hasDisplayedSomething","action","OPEN_FOLDER_SUCCESS","FETCH_RECENT_SUCCESS","isOpening","OPEN_FOLDER","FETCH_RECENT","FETCH_SHARINGS","FETCH_SHARINGS_SUCCESS","isNavigating","view","displayedFolder","fileCount","CREATE_FOLDER_SUCCESS","ADD_FILE","DELETE_FILE","TRASH_FILES_SUCCESS","DESTROY_FILES_SUCCESS","ids","RESTORE_FILES_SUCCESS","sort","SORT_FOLDER","attribute","sortAttribute","order","sortOrder","updateItem","existingFile","index","toRemove","filesCopy","splice","getCompareFn","currentSort","a","b","ta","Date","updated_at","getTime","tb","isDirectory","localeCompare","insertItem","currentItemCount","indexFor","compareFn","start","end","pivot","parseInt","c","SORT_FOLDER_SUCCESS","FETCH_MORE_FILES_SUCCESS","clone","forEach","i","skip","RENAME_SUCCESS","UPDATE_FILE","currentFileCount","EMPTY_TRASH_SUCCESS","EMPTY_TRASH","EMPTY_TRASH_FAILURE","OPEN_FOLDER_FAILURE","SORT_FOLDER_FAILURE","FETCH_RECENT_FAILURE","FETCH_SHARINGS_FAILURE","lastFetch","now","deduplicateCreateDeleteActions","originalReducer","created","deleted","deduplicateCreateAction","doc","includes","push","pull","deduplicateDeleteAction","actionIds","clearInternalCache","combineReducers","getFilesWithLinks","filesWithLinks","map","ensureFileHavePath","getSort","getFileById","isRootFolder","displayedPath","getDisplayedFilePath","getFilePath","folderPath","getFolderIdFromRoute","location","params","pathname","match","TRASH_DIR_ID","getFolderUrlFromPathName","getFolderUrl","BarContextProvider","children","Array","isArray","React","childContextTypes","store","LoadMore","onClick","isLoading","text","classnames","bool","withTranslation","BaseComponent","ERROR_GET_DIRECTORY","ERROR_WRITE_FILE","ERROR_GET_FILE","COZY_PATH","COZY_FILES_PATH","getRootPath","isAndroidApp","window","cordova","externalRootDirectory","dataDirectory","getTemporaryRootPath","externalCacheDirectory","cacheDirectory","getCozyPath","getEntry","Promise","resolve","reject","resolveLocalFileSystemURL","err","console","error","message","getCozyEntry","catch","createCozyPath","then","entry","getDirectory","rootDirEntry","folderName","create","warn","writeFile","fileEntry","dataObj","createWriter","fileWriter","onwriteend","onerror","write","saveFile","dirEntry","fileData","fileName","getFile","exclusive","openFileWithCordova","URI","mimetype","callbacks","success","plugins","fileOpener2","open","deleteOfflineFile","filename","nativeURL","remove","saveFileWithCordova","temporarySave","saveAndOpenWithCordova","getNativeFile","openOfflineFile","mime","createTemporaryLocalFile","cozy","downloadById","response","blob","localFile","shouldMigrateSettings","hasOwnProperty","migrateSettings","prevState","settings","firstReplication","indexes","offline","mobile","authorized","token","serverUrl","backupImages","analytics","wifiOnly","authorization","revoked","newState","replication","mediaBackup","availableOffline","localforage","setItem","info","loadState","getItem","persistedState","saveState","resetPersistedState","clear","Avatar","size","textId","initial","charAt","bg","ColorHash","getColor","style","backgroundColor","cx","AvatarPlusX","extraRecipients","Math","min","arrayOf","AvatarLink","SHOW_MODAL","HIDE_MODAL","reducer","show","component","showModal","meta","hideActionMenu","hideModal","ModalManager","ui","modal","cloneElement","SLUG","ADD_TO_UPLOAD_QUEUE","UPLOAD_FILE","RECEIVE_UPLOAD_SUCCESS","RECEIVE_UPLOAD_ERROR","PURGE_UPLOAD_QUEUE","PENDING","LOADING","LOADED","FAILED","CONFLICT","QUOTA","NETWORK","itemInitialState","item","status","Object","assign","queue","processNextFile","fileUploadedCallback","queueCompletedCallback","dirID","getState","Error","getUploadQueue","onQueueEmpty","uploadDirectory","newDir","uploadFile","uploadedFile","statusError","exec","toString","getFileFromEntry","directory","createFolder","dirReader","createReader","entriesReader","entries","isFile","readEntries","collection","createDirectory","dirId","resp","createFile","addToUploadQueue","extractFilesEntries","purgeUploadQueue","callback","loaded","getLoaded","quotas","getQuotaErrors","conflicts","getConflicts","networkErrors","getNetworkErrors","errors","getErrors","filterByStatus","getProcessed","getSuccessful","items","results","webkitGetAsEntry","getAsFile","Embeder","fetchFileUrl","fileId","IntentHandler","ContactsAndGroupsDataLoader","nextProps","fetchMore","SHOW_NEW_FOLDER_INPUT","HIDE_NEW_FOLDER_INPUT","showNewFolderInput","hideNewFolderInput","initialState","isTypingNewFolderName","filelist","Identity","details","classNames","SELECT_ITEM","UNSELECT_ITEM","TOGGLE_SELECTION_BAR","SHOW_SELECTION_BAR","HIDE_SELECTION_BAR","isSelected","selection","selected","_id","getSelectedIds","isSelectionBarVisible","isSelectionBarOpened","getSelectedFiles","showSelectionBar","hideSelectionBar","toggleSelectionBar","toggleItemSelection","cancelSelection","idx","TTL","LOADING_LINK","LOADING_FALLBACK","ImageLoader","src","_mounted","loadNextSrc","clearTimeout","timeout","img","onload","lastError","loadLink","loadFallback","onError","cleanImageLoader","Image","setTimeout","links","statById","getFileId","getFileLinks","link","options","uri","checkImageSource","getDownloadLink","getDownloadLinkById","_url","render","renderFallback","oneOf","ENTER_KEY","ESC_KEY","valueIsEmpty","value","FilenameInput","working","hasBeenSubmitedOrAborted","textInput","focus","e","keyCode","submit","abort","target","onChange","onSubmit","accidental","onAbort","input","handleChange","handleBlur","handleKeyDown","EditableSharingModal","rest","isOwner","getRecipients","getSharingLink","share","revoke","shareByLink","revokeSharingLink","hasSharedParent","hasSharedChild","doctype","contactsQuery","all","where","$gt","trashed","$or","$eq","$exists","$not","$size","indexFields","groupsQuery","Group","flow","queryConnect","query","as","withClient","intent","startService","intentId","intents","createService","getIntent","attributes","SuggestionProvider","URLGetter","throw","ServiceComponent","AsyncActionButton","className","OpenWithCordovaButton","ownProps","openLocalFileCopy","OpenWithWebButton","url","DownloadButton","download","contextTypes","NoViewerButton","fallbackUrl","isMobileApp","NoViewer","class","test","Alerter","logException","REF_PHOTOS","DOCTYPE_APPS","REF_UPLOAD","REF_BACKUP","getReferencedFolders","reference","DOCTYPE_FILES","findReferencedBy","_type","included","getOrCreateFolderWithReference","existingFolders","ensureDirectoryExists","addReferencesTo","get","dirInfos","getProp","key","isAuthorized","isRevoked","getToken","getClientSettings","getOnboardingInformations","isClientRevoked","getServerUrl","SharingTooltip","TooltipRecipientList","recipientNames","cutoff","smart_count","number","SET_URL","SET_OFFLINE","SET_ANALYTICS","BACKUP_IMAGES","BACKUP_CONTACTS","backupContacts","WIFI_ONLY","getSetting","isOfflineCapable","isImagesBackupOn","isWifiOnlyOn","isAnalyticsOn","reload","Oops","EmptyIcon","RenameInput","updateRenaming","rename","abortRenaming","getUpdatedName","updateFileName","SET_TOKEN","SET_CLIENT","REVOKE","UNREVOKE","UNLINK","SET_ONBOARDING","setClient","setToken","revokeClient","unrevokeClient","unlink","clientInfo","resetClient","setOnboarding","code","cozy_url","shape","propType","definition","lastUpdate","WhoHasAccess","recipient","PureComponent","VideoViewer","withFileUrl","AudioViewer","AudioIcon","Menu","actions","actionNames","keys","actionName","displayCondition","MenuItem","promise","MenuHeaderFile","splitFilename","extension","getMimeTypeIcon","ACTIONS_HIDE_DELAY","ViewerControls","hidden","gestures","hideAfterDelay","removeEventListener","showControls","addEventListener","hideTimeout","hideControls","direction","Hammer","DIRECTION_LEFT","onNext","DIRECTION_RIGHT","onPrevious","ReactDOM","findDOMNode","wrapped","on","onSwipe","onTap","destroy","currentFile","hasPrevious","hasNext","expanded","controls","renderChildren","gesturesRef","configureStore","middlewares","thunkMiddleware","withExtraArgument","__TARGET__","shouldEnableTracking","getTracker","createTrackerMiddleware","createLogger","loggerOptions","composeEnhancers","__DEVELOPMENT__","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","createRootReducer","createStore","applyMiddleware","setStore","TYPE_DIRECTORY","hasIndexedFiles","event","origin","provideSuggestions","indexFiles","searchResults","fuzzyPathSearch","search","parent","postMessage","suggestions","result","title","subtitle","term","onSelect","fetchJSON","rows","row","notInTrash","notOrphans","dir_id","normalizedFiles","isDir","urlToFolder","parentDir","getIconUrl","FuzzyPathSearch","iconsContext","icons","reduce","acc","replace","keyIcon","getFileMimetype","default","viewBox","content","WrappedComponent","WithReduxStore","displayName","ShareByLink","checked","createShareLink","deleteShareLink","copy","onEnable","log","onDisable","palette","dodgerBlue","copyLinkToClipboard","toggleShareLink","track","element","tracker","isLinux","navigator","appVersion","isAndroid","userAgent","isIOS","DESKTOP_BANNER","NOVIEWER_DESKTOP_CTA","isClientAlreadyInstalled","some","device","software_id","getMimetypeFromFilename","lookup","mappingMimetypeSubtype","word","zip","pdf","spreadsheet","excel","sheet","presentation","powerpoint","toLowerCase","split","subtype","existingType","join","OriginHint","Topbar","hideOnMobile","MIN_SCALE","MAX_SCALE","MASS","FRICTION","clamp","max","ImageViewer","canceled","scale","off","offsetX","offsetY","initialOffset","x","y","initialScale","momentum","tearDownGestures","initGestures","prevProps","wasLoading","setupGestures","viewer","set","enable","DIRECTION_ALL","prepareForGesture","maxOffset","computeMaxOffset","deltaX","deltaY","isFinal","scaleFactor","wrapperBoundaries","getBoundingClientRect","viewerCenter","right","left","bottom","top","offsetBeforeScale","center","offsetAfterScale","finalOffset","velocityX","velocityY","applyMomentum","transform","photo","onImageError","onImageLoad","abs","requestAnimationFrame","photoBoundaries","width","height","START_RENAMING","ABORT_RENAMING","UPDATE_FILE_NAME","renameReducer","isRenaming","getRenamingFile","startRenaming","renamed","startRenamingAsync","renamingFile","updatedName","isExisting","updateAttributesById","updated","extractFileAttributes","drive","DriveIcon","photos","PhotosIcon","trash","TrashIcon","EmptyCanvas","canUpload","localeKey","EmptyDrive","EmptyPhotos","EmptyTrash","checkCorruptedFiles","photosOnDevice","onProgressUpdate","progress","CURRENT_UPLOAD_PROGRESS","onThumbnailGenerated","seen","requestFiles","memo","remoteFileCorrupted","file_doc","photoOnDevice","updateLibraryItem","throttle","newObj","Stack","limit","FILES_FETCH_LIMIT","parentId","ex","relations","contents","relationships","isFirstLoad","folderSortingOrder","allFolders","getIndex","selector","wholeResponse","fields","defineIndex","PouchDB","byName","byUpdatedAt","bySize","recent","db","getDatabase","getSortedFolder","normalizeFileFromPouchDB","use_index","docs","include_docs","descending","allDocs","StackAdapter","getAdapter","shouldWorkFromPouchDB","getPouchIndexes","AddFolder","visible","MAX_DISPLAYED_RECIPIENTS","RecipientsAvatars","reversedRecipients","reverse","UserAvatar","Status","revoking","sharingId","IconEye","IconPen","IconHourglass","isMe","shouldShowMenu","maxWidth","getStatusIcon","IconTrash","StatusWithBreakpoints","Recipient","RecipientWithoutStatus","RecipientPlusX","ERROR_CODE_TOO_LARGE","cancelMediaBackup","MEDIA_UPLOAD_CANCEL","currentMediaUpload","media","uploadCounter","totalUpload","CURRENT_UPLOAD","messageData","current","total","getUploadDir","uploadedFolders","mediaFolderName","uploadFolderName","legacyUploadFolderName","statByPath","legacyFolder","uploadFolder","canBackup","isManualBackup","backupOnAnyNetworkType","isWifi","startMediaBackup","MEDIA_UPLOAD_START","promptForPermissions","updateValueAfterRequestAuthorization","receivedAuthorisation","setBackupImages","getPhotos","alreadyUploaded","uploaded","photosToUpload","uploadDirId","uploadDirPath","diskQuotaReached","uploadPhoto","updateLastSync","MEDIA_UPLOAD_ABORT","MEDIA_UPLOAD_END","mediaUploadSucceed","MEDIA_UPLOAD_SUCCESS","dirName","MILLISECOND","SECOND","MINUTE","maxBackupTime","JSON","stringify","uploadLibraryItem","MEDIA_UPLOAD_QUOTA","reason","force","running","updateStatusBackgroundService","requestAuthorization","EmptyContent","isTrashContext","FileListBody","selectionModeActive","withSelectionCheckbox","isInError","fetchMoreFiles","fund","fileActions","onFolderOpen","onFileOpen","withFilePath","withSharedBadge","previousQuery","previousSuggestions","queryArray","removeDiacritics","trim","preparedQuery","isAugmentedWord","isNewWord","isQueryAugmented","isAugmentingPreviousQuery","sortedQuery","sortQueryByRevelance","sortQuerybyLength","filterAndScore","segment","currentQuerySegment","isInPreviousQuery","previousQuerySegment","priorizedWords","wordsFromPreviousQuery","wasInPreviousQuery","concat","words","fileScore","pathArray","pathChunk","wordScore","wordOccurenceValue","firstOccurence","maxDepth","depth","score","suggestion","CallToAction","mustShow","Config","promoteDesktop","isActivated","mustSee","markAsSeen","trackSharingByLink","SharingProvider","parentDirIds","arr","parentDirs","filePaths","parentDirPath","d","description","sharing","getDocumentSharing","addRecipients","addSharing","getFilesPaths","updateSharing","recipientIndex","getSharingById","revokeRecipient","getSharingForSelf","revokeSelf","createSharingLink","addSharingLink","perms","getDocumentPermissions","p","instanceUri","byDocId","sharings","permissions","sharedFolderPaths","docId","canReshare","getOwner","getSharingType","findByDoctype","findLinksByDoctype","findApps","apps","receiveSharings","sharedDocIds","getSharingDocIds","val","folderPaths","receivePaths","SharedDocument","hasWriteAccess","isShared","isSharedByMe","isSharedWithMe","onLeave","SharedStatus","SharedBadge","SharedRecipients","SharedRecipientsList","r","ShareButton","SharingModal","ShareModal","SOFTWARE_ID","SOFTWARE_NAME","APP_STORE_ID","APP_MARKET_ID","emailMatch","emailInput","RegExp","address","cozyUrlMatch","urlInput","groupNameMatch","contactOrGroup","nameInput","SharedDocuments","sharedDocuments","rules","values","node","IconFolder","IconNote","iconsByMimeType","audio","IconAudio","bin","IconBin","IconCode","image","IconImage","IconPdf","slide","IconSlide","IconSheet","IconText","video","IconVideo","IconZip","IconFiles","FileIcon","IconSpreadsheet","RECEIVE_SHARINGS","ADD_SHARING","UPDATE_SHARING","REVOKE_RECIPIENT","REVOKE_SELF","ADD_SHARING_LINK","REVOKE_SHARING_LINK","RECEIVE_PATHS","areAllRecipientsRevoked","hasBeenSelfRevoked","members","m","paths","matchingInstanceName","shareMember","byIdInitialState","isItemEmpty","updateByIdItem","updater","byIdState","update","indexSharing","getSharedDocIds","byId","forgetSharing","sid","indexPermission","perm","forgetPermission","permission","pid","intermediaryState","permIds","sharedPaths","me","open_sharing","read_only","getDocumentSharings","getDocumentSharingType","member","buildSharingLink","getPermissionById","getApps","ret","getPermissionDocIds","k","rule","sharecode","appUrl","getAppUrlForDoctype","getAppUrl","appName","app","slug","related","FETCH_MORE_FILES","FETCH_MORE_FILES_FAILURE","CREATE_FOLDER","CREATE_FOLDER_FAILURE_GENERIC","CREATE_FOLDER_FAILURE_DUPLICATE","TRASH_FILES","TRASH_FILES_FAILURE","DOWNLOAD_SELECTION","DOWNLOAD_FILE","OPEN_FILE_WITH","HTTP_CODE_CONFLICT","META_DEFAULTS","openFiles","openRecent","fetchRecentFiles","openTrash","getFolder","sortFolder","getFolderContents","getRecentFiles","self","getFilesInBatch","parentFolders","filesWithPath","parentFolder","addFile","updateFile","deleteFile","getFileDownloadUrl","uploadFiles","uploadQueueProcessed","conflictNumber","existingFolder","trashFiles","_","trashById","isReferencedByAlbum","referenced_by","ref","ALBUMS_DOCTYPE","removeReferencedFiles","isAlreadyInTrash","reasons","detail","isMissingFile","downloadFileError","downloadFiles","downloadFile","getArchiveLinkByPaths","href","fullpath","forceFileDownload","downloadURL","createElement","setAttribute","display","body","appendChild","click","removeChild","exportFilesNative","downloadAllFiles","duration","urls","socialsharing","shareWithOptions","openFileDownloadError","openFileWith","enableBackgroundService","disableBackgroundService","startBackgroundService","hasIosCordovaPlugin","startIosBackgroundService","hasAndroidCordovaPlugin","startAndroidBackgroundService","notCompatibleError","enableIosBackgroundService","enableAndroidBackgroundService","disableIosBackgroundService","disableAndroidBackgroundService","msg","getPlatform","isIOSApp","BackgroundFetch","JSBackgroundService","backgroundService","cozyURL","configureReporter","initClient","isEnableAndroidBackgroundService","isEnable","repeatingPeriod","setRepeating","cancelRepeating","stopAndroidBackgroundService","workDone","isRepeating","isSet","fetcher","failureCallback","stopOnTerminate","configure","stop","stopIosBackgroundService","finish","DropdownIndicator","coolGrey","Option","desc","customStyles","option","base","color","isFocused","paleGrey","padding","borderBottom","findIndex","o","silver","menu","ShareTypeSelect","ShareSubmit","disabled","countNewRecipients","currentRecipients","newRecipients","getPrimaryEmail","cozyUrl","getPrimaryCozy","ShareByEmail","sendSharingLink","matches","contactsToAdd","groupId","contactGroupIds","group","filtered","sharingDesc","onShare","createContact","primary","getSuccessMessage","reset","onInputFocus","onRecipientPick","onRecipientRemove","sharingTypes","setUrl","setOffline","setWifiOnly","setAnalytics","startTracker","stopTracker","schemes","hashCode","str","h","len","pow","charCodeAt","scheme","hash","getHash","mobileHeartBeatDelay","appHistory","useHistoryForTracker","history","cozyServerUrl","trackerInstance","__PIWIK_TRACKER_URL__","__PIWIK_SITEID_MOBILE__","URL","configureTracker","userId","hostname","heartbeat","connectToHistory","getCurrentLocation","resetTracker","stopHeartBeat","startHeartBeat","renamePathNames","unshift","Breadcrumb","deployed","closeMenu","openMenu","contains","stopPropagation","handleClickOutside","onBreadcrumbClick","opening","inlined","toggleDeploy","RouterBreadCrumb","router","goToFolder","toggleOpening","navigateToFolder","navigateToPath","PreviousButton","RouterPreviousButton","previousSegment","navigateBack","MobileAwareBreadcrumb","bar","BarCenter","BarLeft","getFolderPath","isPublic","withSharedDocuments","Wrapped","withRouter","modalReducer","protocol","cozyDomain","getQueryParameter","CozyClient","cozyToken","appMetadata","schema","init","cozyLocale","APPS_DIR_PATH","TRASH_DIR_PATH","KONNECTORS_DIR_PATH","CURRENT_UPLOAD_THUMBNAIL","uploading","abortedMediaBackup","currentUpload","isPreparingBackup","isUploading","isAborted","isQuotaReached","getUploadStatus","onboarding","SET_FIRST_REPLICATION","SET_POUCH_INDEXES","isFirstReplicationDone","setFirstReplication","setPouchIndexes","pdfjs","GlobalWorkerOptions","workerPort","createWorker","MAX_PAGES","PdfJsViewer","totalPages","currentPage","errored","renderAllPages","wrapper","numPages","previousScale","toggleGestures","setWrapperSize","resizeListener","onLoadSuccess","onLoadError","page","previousPage","nextPage","scaleDown","scaleUp","MenuAwareMobile","active","buttonClassName","toggle","arrToObj","obj","substring","varval","ActionMenu","lastIndexOf","getParentDiv","nodeName","parentNode","getParentLink","enableTouchEvents","ev","parentDiv","parentLink","SelectBox","FileName","interactive","formattedSize","formattedUpdatedAt","classes","LastUpdate","formatted","Size","filesize","isAvailableOffline","FileAction","forwardRef","File","actionMenuVisible","filerowMenuToggleRef","createRef","gesturesHandler","Manager","filerow","add","Tap","Press","preventDefault","srcEvent","onCheckboxToggle","isExtraLarge","filContentRowSelected","updatedAt","showActionMenu","DumbFile","MarkdownRenderer","PlainTextRenderer","Loader","TextViewer","isMarkdown","loadFile","parsedURL","getClient","fetch","downloadUrl","loadDownloadUrl","KEY_CODE_LEFT","KEY_CODE_RIGHT","KEY_CODE_ESCAPE","ViewerWrapper","dark","isPlainText","mimeType","Viewer","currentIndex","nextIndex","nextFile","prevIndex","prevFile","onKeyUp","renderViewer","ComponentName","getViewerComponentName","LoadingViewer","hasCordovaPlugin","listLibraryItems","requestReadAuthorization","startsWith","generatePayloadForNative","method","payload","libraryId","filePath","httpMethod","headers","Authorization","uploadNativeItem","progressCallback","thumbnailCallback","uploadItem","thumbnail","previousDocument","libraryItem","getClientUrl","encodeURIComponent","defaultReturn","listItems","library","ShareAutocomplete","inputValue","computeSuggestions","newValue","highlightedSuggestion","contactsAndGroups","onSuggestionsFetchRequested","inputProps","BoldCross","onKeyPress","onSuggestionsClearRequested","renderInput","onBlur","baseReducers","upload","mobileReducer","appReducer","WhoHasAccessLight","MAKE_AVAILABLE_OFFLINE","UNDO_MAKE_AVAILABLE_OFFLINE","markAsAvailableOffline","markAsUnavailableOffline","getAvailableOfflineIds","toggleAvailableOffline","forgetDownloadedFile","makeAvailableOffline","saveOfflineFileCopy","openLocalFile","getLocalFileCopyUrl","updateOfflineFileCopyIfNecessary","md5sum","getURL","RESTORE_FILES","RESTORE_FILES_FAILURE","DESTROY_FILES","DESTROY_FILES_FAILURE","emptyTrash","clearTrash","restoreFiles","restored","restoreById","destroyFiles","destroyById","FileListRows","hasNoMoreRows","intersectionEntries","isIntersecting","loadMoreRows","loadMoreElement","intersectionObserver","unobserve","observe","isFileRenaming","IntersectionObserver","checkIntersectionsEntries","disconnect","rowRenderer","shouldDisplayLoadMore","updateLoadMoreElement","needsContactsPermission","onShareByLink","onRevokeLink","UNKNOWN","Connection","ETHERNET","WIFI","CELL_2G","CELL_3G","CELL_4G","CELL","NONE","watchNetworkState","onConnectionChange","connection","getConnectionType","isOnline","onLine","FileThumbnail","isImage","FILE_TYPE","DIR_TYPE","references","byMe","small","xsmall","language","getOauthOptions","redirectURI","softwareID","clientName","getDeviceName","softwareVersion","version","clientKind","clientURI","logoURI","policyURI","scope","oauth","doctypes","initBar","getTokenWithNoException","refreshToken","appNamePrefix","appSlug","cozyClient","iconPath","renewToken","replaceTitleOnMobile","displayOnMobile","restoreCozyClientJs","clientInfos","storage","Storage","clientParams","scopes","realToken","auth","AccessToken","saveCredentials","unregisterClient","destroyAllDatabase","getStackClient","_storage","authorize","credentials","accessToken","AddFolderButton","addFolder","IconFolderAdd","mapDispatchToPropsButton","ANALYTICS_URL","__SENTRY_URL__","normalizeUrl","pathStripRe","normalizeData","PATH_STRIP_RE","culprit","stacktrace","exception","frames","frame","getReporterConfiguration","shouldSendCallback","environment","release","allowSecretKey","dataCallback","Raven","config","install","extraContext","fingerprint","captureException","extra","setCozyUrl","setTagsContext","logMessage","level","setUserContext","captureMessage","logInfo","ContactSuggestion","avatarText","membersCount","oneOfType","PdfToolbarButton","SharingContext","createReactContext","QuotaAlert","AsyncBoundary","fetchFailed","fetchPending","isBrowsingTrash","isBrowsingRecentFiles","isBrowsingSharings","isParentShared","hasRootFolder","dotIdx","Pending","Item","statusIcon","UploadQueue","collapsed","doneCount","successCount","purgeQueue","toggleCollapsed","done","doNothing","FileNotFoundError","FileOpener","routerFileId","loadFileInfo","previousRouterFileId","fileNotFound","withCloseButtton","navigateToDrive","routeParams","manifest","linkIcon","SORTABLE_ATTRIBUTES","attr","css","defaultOrder","DEFAULT_SORT","HeaderCell","SortableHeaderCell","onSort","MobileSortMenu","MobileHeader","showSortMenu","canSort","onFolderSort","actualSort","hideSortMenu","FileListHeader","isActive","MobileFileListHeader","FileList","Children","anchorEl","menuEl","popper","PopperJS","el","seededRandom","seed","sin","floor","seededRandomBetween","PlaceholderBlock","FilePlaceholder","DOCTYPE_ALBUMS","DOCTYPE_PHOTOS_SETTINGS","DOCTYPE_CONTACTS_VERSION","doctypeVersion","FileListPlaceholder","SharedByMeButton","SharedWithMeButton"],"mappings":";AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAiB,4BAA4B;AAC7C;AACA;AACA,0BAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,kDAA0C;AAC1C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA,kDAA0C,oBAAoB,WAAW;;AAEzE;AACA;AACA;AACA;AACA,wBAAgB,uBAAuB;AACvC;;;AAGA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpKA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEO,IAAMA,mBAAb;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,6BAKW;AAAA,0BACU,KAAKC,OADf;AAAA,UACCC,CADD,iBACCA,CADD;AAAA,UACIC,CADJ,iBACIA,CADJ;AAAA,wBAUH,KAAKC,KAVF;AAAA,UAGLC,OA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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2B;;;;;;;;AC5HA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,OAIhB;AAAA,MAHJliD,IAGI,QAHJA,IAGI;AAAA,MAFJq6B,eAEI,QAFJA,eAEI;AAAA,MADW76B,QACX,QADJC,WACI,CADWD,QACX;AACJ,MAAM2iD,OAAO,GAAGniD,IAAI,CAAC+d,KAAL,KAAe,OAA/B;AACA,SACE;AACE,aAAS,EAAE1O,iDAAE,CAAC7U,iEAAM,CAAC,kBAAD,CAAP,EAA6BA,iEAAM,CAAC,oBAAD,CAAnC,EAA2D;AACtE,gBAAU,CAACgF;AAD2D,KAA3D;AADf,KAKG2iD,OAAO,GACN,2DAAC,4DAAD;AACE,QAAI,EAAEniD,IADR;AAEE,QAAI,EAAC,OAFP;AAGE,UAAM,EAAE,gBAAAsX,GAAG;AAAA,aACT;AACE,WAAG,EAAEA,GADP;AAEE,aAAK,EAAE,EAFT;AAGE,cAAM,EAAE,EAHV;AAIE,iBAAS,EAAE9c,iEAAM,CAAC,0BAAD;AAJnB,QADS;AAAA,KAHb;AAWE,kBAAc,EAAE;AAAA,aAAM,2DAAC,2EAAD;AAAU,YAAI,EAAEwF;AAAhB,QAAN;AAAA;AAXlB,IADM,GAeN,2DAAC,2EAAD;AAAU,QAAI,EAAEA;AAA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","file":"intents/drive.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"intents\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \"/drive.js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// The chunk loading function for additional chunks\n \t// Since all referenced chunks are already included\n \t// in this file, this function is empty here.\n \t__webpack_require__.e = function requireEnsure() {\n \t\treturn Promise.resolve();\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import styles from './share.styl'\nimport PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport { UserAvatar as Owner } from './components/Recipient'\nimport WhoHasAccess from './components/WhoHasAccess'\n\nimport Modal, { ModalContent } from 'cozy-ui/react/Modal'\n\nimport { Contact } from 'models'\n\nexport class SharingDetailsModal extends Component {\n  static contextTypes = {\n    t: PropTypes.func.isRequired,\n    f: PropTypes.object.isRequired\n  }\n  render() {\n    const { t, f } = this.context\n    const {\n      onClose,\n      sharingType,\n      owner,\n      recipients,\n      document,\n      documentType = 'Document',\n      onRevoke\n    } = this.props\n    return (\n      <Modal\n        title={t(`${documentType}.share.details.title`)}\n        secondaryAction={onClose}\n        className={styles['share-modal']}\n        into=\"body\"\n        size=\"small\"\n        mobileFullscreen\n      >\n        <ModalContent className={styles['share-modal-content']}>\n          <div className={styles['share-details']}>\n            <Owner\n              name={t(`${documentType}.share.sharedBy`, {\n                name: Contact.getDisplayName(owner)\n              })}\n              url={owner.instance}\n            />\n            <div className={styles['share-details-created']}>\n              {t(`${documentType}.share.details.createdAt`, {\n                date: f(document.created_at || null, 'Do MMMM YYYY')\n              })}\n            </div>\n            <div className={styles['share-details-perm']}>\n              {t(\n                `${documentType}.share.details.${\n                  sharingType === 'one-way' ? 'ro' : 'rw'\n                }`\n              )}\n            </div>\n            <div className={styles['share-details-perm-desc']}>\n              {t(\n                `${documentType}.share.details.desc.${\n                  sharingType === 'one-way' ? 'ro' : 'rw'\n                }`\n              )}\n            </div>\n          </div>\n          <hr className={styles['divider']} />\n          <WhoHasAccess\n            title={t('Share.recipients.accessCount', {\n              count: recipients.length\n            })}\n            recipients={recipients}\n            document={document}\n            documentType={documentType}\n            onRevoke={onRevoke}\n          />\n        </ModalContent>\n      </Modal>\n    )\n  }\n}\n","import { getLang } from './cozy-helper'\nimport { _polyglot, initTranslation } from 'cozy-ui/react/I18n/translation'\n\n// used when translating things outside of components, eg. native UIs\nexport const getTranslateFunction = () => {\n  if (_polyglot === undefined) {\n    const lang = getLang()\n    const dictRequire = lang => require(`../../locales/${lang}`)\n    initTranslation(lang, dictRequire)\n  }\n  return _polyglot.t.bind(_polyglot)\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"oops\":\"oops--O8MK8\"};","import React from 'react'\nimport { Button, Icon } from 'cozy-ui/transpiled/react'\nimport { translate } from 'cozy-ui/react/I18n'\n\nimport styles from 'viewer/styles.styl'\nimport IconCloud from 'components/icons/icon-cloud-wrong.svg'\n\nconst NoNetworkViewer = ({ t, onReload }) => (\n  <div className={styles['pho-viewer-canceled']}>\n    <Icon icon={IconCloud} width={160} height={140} />\n    <h2>{t('Viewer.loading.error')}</h2>\n    <Button onClick={onReload} label={t('Viewer.loading.retry')} />\n  </div>\n)\n\nexport default translate()(NoNetworkViewer)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { contactsResponseType, groupsResponseType } from 'sharing/propTypes'\nimport ShareAutosuggest from 'sharing/components/ShareAutosuggest'\nimport styles from 'sharing/share.styl'\n\nclass ShareRecipientsInput extends Component {\n  static contextTypes = {\n    client: PropTypes.object.isRequired\n  }\n\n  state = {\n    loading: false\n  }\n\n  componentDidUpdate() {\n    const { contacts, groups } = this.props\n    if (\n      this.state.loading &&\n      !contacts.hasMore &&\n      contacts.fetchStatus === 'loaded' &&\n      !groups.hasMore &&\n      groups.fetchStatus === 'loaded'\n    ) {\n      this.setState({\n        loading: false\n      })\n    }\n  }\n\n  onFocus = () => {\n    const { contacts, groups } = this.props\n    if (\n      contacts.hasMore ||\n      contacts.fetchStatus === 'loading' ||\n      groups.hasMore ||\n      groups.fetchStatus === 'loading'\n    ) {\n      this.setState({\n        loading: true\n      })\n    }\n  }\n\n  getContactsAndGroups = () => {\n    // we need contacts to be loaded to be able to add all group members to recipients\n    const { contacts, groups } = this.props\n    if (contacts.hasMore || contacts.fetchStatus === 'loading') {\n      return contacts.data\n    } else {\n      return [...contacts.data, ...groups.data]\n    }\n  }\n\n  render() {\n    const { label, onPick, onRemove, placeholder, recipients } = this.props\n    const { loading } = this.state\n    return (\n      <div>\n        <label className={styles['coz-form-label']} htmlFor=\"email\">\n          {label}\n        </label>\n        <ShareAutosuggest\n          loading={loading}\n          contactsAndGroups={this.getContactsAndGroups()}\n          recipients={recipients}\n          onFocus={this.onFocus}\n          onPick={onPick}\n          onRemove={onRemove}\n          placeholder={placeholder}\n        />\n      </div>\n    )\n  }\n}\n\nShareRecipientsInput.propTypes = {\n  label: PropTypes.string,\n  contacts: contactsResponseType.isRequired,\n  groups: groupsResponseType.isRequired,\n  recipients: PropTypes.array,\n  onPick: PropTypes.func.isRequired,\n  onRemove: PropTypes.func.isRequired,\n  placeholder: PropTypes.string\n}\n\nShareRecipientsInput.defaultProps = {\n  label: 'To:',\n  recipients: []\n}\n\nexport default ShareRecipientsInput\n","import { Contact as DoctypeContact } from 'cozy-doctypes'\n\nclass Contact extends DoctypeContact {\n  static getInitials(contactOrRecipient) {\n    if (Contact.isContact(contactOrRecipient)) {\n      return DoctypeContact.getInitials(contactOrRecipient)\n    } else {\n      const s =\n        contactOrRecipient.public_name ||\n        contactOrRecipient.name ||\n        contactOrRecipient.email\n      return (s && s[0].toUpperCase()) || ''\n    }\n  }\n\n  static getDisplayName(contact) {\n    if (Contact.isContact(contact)) {\n      return DoctypeContact.getDisplayName(contact)\n    } else {\n      return contact.name || contact.email || ''\n    }\n  }\n}\n\nexport default Contact\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { IntentHeader, Button, withBreakpoints } from 'cozy-ui/react'\nimport { ROOT_DIR_ID } from 'drive/constants/config'\nimport Topbar from 'drive/web/modules/layout/Topbar'\nimport FileList from 'drive/web/modules/filelist/FileList'\nimport {\n  Breadcrumb,\n  PreviousButton\n} from 'drive/web/modules/navigation/Breadcrumb'\nimport { connect } from 'react-redux'\nimport withReduxStore from './withReduxStore'\nimport AddFolderButton from './AddFolderButton'\nimport OriginHint from './OriginHint'\nimport {\n  openFolder,\n  getOpenedFolderId,\n  getVisibleFiles\n} from 'drive/web/modules/navigation/duck'\nimport styles from './picker.styl'\n\nclass Picker extends Component {\n  state = {\n    path: []\n  }\n  static contextTypes = {\n    t: PropTypes.func.isRequired\n  }\n  updateBreadcrumb = folder => {\n    this.setState(state => {\n      const indexInPath = state.path.indexOf(folder)\n      const newPath =\n        indexInPath >= 0\n          ? state.path.slice(0, indexInPath + 1)\n          : [...state.path, folder]\n\n      return {\n        ...state,\n        path: newPath\n      }\n    })\n  }\n\n  navigateTo = folder => {\n    this.props.fetchFolder(folder.id)\n    this.updateBreadcrumb(folder)\n  }\n\n  goBack = () => {\n    const { path } = this.state\n    this.navigateTo(path[path.length - 2])\n  }\n\n  componentDidMount() {\n    const root = document.getElementById('main')\n    const data = root.dataset\n    this.headerIcon = data.cozyIconPath\n\n    this.navigateTo({ id: ROOT_DIR_ID, name: 'Drive' })\n  }\n\n  cancelIntent = () => {\n    this.props.service.cancel()\n  }\n\n  terminateIntent = () => {\n    this.props.service.terminate({ id: this.props.openedFolderId })\n  }\n\n  render() {\n    const {\n      files,\n      service,\n      breakpoints: { isMobile }\n    } = this.props\n    const { path } = this.state\n    const { t } = this.context\n    const { hint, icon } = service.getData()\n    const showBackButton = path.length > 1 && isMobile\n\n    const folders = files.filter(file => file.type === 'directory')\n\n    return (\n      <div className={styles['wrapper']}>\n        <IntentHeader\n          appName=\"Drive\"\n          appEditor=\"Cozy\"\n          appIcon={this.headerIcon}\n        />\n        {hint && <OriginHint title={hint} icon={icon} />}\n        <Topbar hideOnMobile={false}>\n          {showBackButton && <PreviousButton onClick={this.goBack} />}\n          <Breadcrumb\n            path={this.state.path}\n            onBreadcrumbClick={this.navigateTo}\n            opening={false}\n            className={styles['breadcrumb']}\n          />\n          <div className={styles['toolbar']} role=\"toolbar\">\n            <AddFolderButton />\n          </div>\n        </Topbar>\n        <FileList\n          withSelectionCheckbox={false}\n          canSort={false}\n          fileActions={[]}\n          files={folders}\n          selectionModeActive={false}\n          actionMenuActive={false}\n          onFolderOpen={id => this.navigateTo(files.find(f => f.id === id))}\n        />\n        <div className={styles['button-area']}>\n          <Button theme=\"secondary\" onClick={this.cancelIntent}>\n            {t('intents.picker.cancel')}\n          </Button>\n          <Button onClick={this.terminateIntent}>\n            {t('intents.picker.select')}\n          </Button>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  openedFolderId: getOpenedFolderId(state),\n  files: getVisibleFiles(state)\n})\n\nconst mapDispatchToProps = dispatch => ({\n  fetchFolder: folderId => dispatch(openFolder(folderId))\n})\n\nexport default withReduxStore(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(withBreakpoints()(Picker))\n)\n","import { combineReducers } from 'redux'\nimport pull from 'lodash/pull'\n\nimport {\n  OPEN_FOLDER,\n  OPEN_FOLDER_SUCCESS,\n  OPEN_FOLDER_FAILURE,\n  SORT_FOLDER,\n  SORT_FOLDER_SUCCESS,\n  SORT_FOLDER_FAILURE,\n  FETCH_RECENT,\n  FETCH_RECENT_SUCCESS,\n  FETCH_RECENT_FAILURE,\n  FETCH_SHARINGS,\n  FETCH_SHARINGS_SUCCESS,\n  FETCH_SHARINGS_FAILURE,\n  FETCH_MORE_FILES_SUCCESS,\n  TRASH_FILES_SUCCESS,\n  CREATE_FOLDER_SUCCESS,\n  ADD_FILE,\n  UPDATE_FILE,\n  DELETE_FILE\n} from './actions'\n\nimport {\n  EMPTY_TRASH,\n  EMPTY_TRASH_SUCCESS,\n  EMPTY_TRASH_FAILURE,\n  RESTORE_FILES_SUCCESS,\n  DESTROY_FILES_SUCCESS\n} from 'drive/web/modules/trash/actions'\nimport { RENAME_SUCCESS } from 'drive/web/modules/drive/rename'\nimport { isDirectory } from 'drive/web/modules/drive/files'\n\nimport { ROOT_DIR_ID, TRASH_DIR_ID } from 'drive/constants/config.js'\n\nconst hasDisplayedSomething = (state = false, action) => {\n  switch (action.type) {\n    case OPEN_FOLDER_SUCCESS:\n    case FETCH_RECENT_SUCCESS:\n      return true\n    default:\n      return state\n  }\n}\n\nconst isOpening = (state = false, action) => {\n  switch (action.type) {\n    case OPEN_FOLDER:\n    case FETCH_RECENT:\n    case FETCH_SHARINGS:\n      return true\n    case OPEN_FOLDER_SUCCESS:\n    case FETCH_RECENT_SUCCESS:\n    case FETCH_SHARINGS_SUCCESS:\n      return false\n    default:\n      return state\n  }\n}\n\nexport const isNavigating = ({ view }) =>\n  view.hasDisplayedSomething && view.isOpening\n\n// reducer for the currently displayed folder properties\nconst displayedFolder = (state = null, action) => {\n  switch (action.type) {\n    case OPEN_FOLDER_SUCCESS:\n      return action.folder\n    case FETCH_RECENT_SUCCESS:\n    case FETCH_SHARINGS_SUCCESS:\n      return null\n    default:\n      return state\n  }\n}\n\nconst openedFolderId = (state = null, action) => {\n  switch (action.type) {\n    case OPEN_FOLDER:\n      return action.folderId\n    case FETCH_RECENT:\n    case FETCH_SHARINGS:\n      return null\n    default:\n      return state\n  }\n}\n\nconst fileCount = (state = null, action) => {\n  switch (action.type) {\n    case OPEN_FOLDER_SUCCESS:\n    case FETCH_RECENT_SUCCESS:\n    case FETCH_SHARINGS_SUCCESS:\n      return action.fileCount\n    case CREATE_FOLDER_SUCCESS:\n    case ADD_FILE:\n      return state + 1\n    case DELETE_FILE:\n      return state - 1\n    case TRASH_FILES_SUCCESS:\n    case DESTROY_FILES_SUCCESS:\n      return state - action.ids.length\n    // This looks counter-intuitive to decrement the file count here,\n    // but we're in the trash, so when we restore files from the trash,\n    // the file count of the trash decrements\n    case RESTORE_FILES_SUCCESS:\n      return state - action.ids.length\n    default:\n      return state\n  }\n}\n\nconst sort = (state = null, action) => {\n  switch (action.type) {\n    case SORT_FOLDER:\n      return {\n        attribute: action.sortAttribute,\n        order: action.sortOrder\n      }\n    case FETCH_RECENT_SUCCESS:\n      return { attribute: 'updated_at', order: 'desc' }\n    case OPEN_FOLDER_SUCCESS:\n    case FETCH_SHARINGS_SUCCESS:\n      return null\n    default:\n      return state\n  }\n}\n\nconst updateItem = (file, files) => {\n  const existingFile = files.find(f => f.id === file.id)\n  const index = files.indexOf(existingFile)\n  const toRemove = index >= 0 ? 1 : 0\n  const filesCopy = files.slice()\n  filesCopy.splice(index, toRemove, file)\n  return filesCopy\n}\n\nconst getCompareFn = (currentSort = null) => {\n  const sort = currentSort || { attribute: 'name', order: 'asc' }\n  if (sort.attribute === 'updated_at') {\n    return (a, b) => {\n      const ta = new Date(a.updated_at).getTime()\n      const tb = new Date(b.updated_at).getTime()\n      return sort.order === 'desc' ? (ta > tb ? -1 : 1) : ta > tb ? 1 : -1\n    }\n  }\n  // We always return the compare fn for name by default, so\n  // that adding new sorting fields will not break this function (it\n  // will need to be updated though)\n  return (a, b) => {\n    if (a.type !== b.type) {\n      return isDirectory(a) ? -1 : 1\n    }\n    return sort.order === 'desc'\n      ? b.name.localeCompare(a.name)\n      : a.name.localeCompare(b.name)\n  }\n}\n\nconst insertItem = (file, array, currentItemCount, currentSort = null) => {\n  if (array.find(f => f.id === file.id)) return array\n\n  const index = indexFor(file, array, getCompareFn(currentSort))\n  // if we only have partially fetched the file list and the new item\n  // position is in the unfetched part of the list, we don't add the item\n  // to the list\n  if (index === array.length - 1 && array.length < currentItemCount) {\n    return array\n  }\n  return [...array.slice(0, index + 1), file, ...array.slice(index + 1)]\n}\n\nconst indexFor = (file, array, compareFn, start = 0, end = array.length) => {\n  if (array.length === 0) return -1\n  const pivot = parseInt(start + (end - start) / 2, 10)\n  const c = compareFn(file, array[pivot])\n  if (end - start <= 1) return c === -1 ? pivot - 1 : pivot\n  switch (c) {\n    case -1:\n      return indexFor(file, array, compareFn, start, pivot)\n    case 0:\n      return pivot\n    case 1:\n      return indexFor(file, array, compareFn, pivot, end)\n  }\n}\n\n// reducer for the full file list of the currently displayed folder\nconst files = (state = [], action) => {\n  switch (action.type) {\n    case OPEN_FOLDER_SUCCESS:\n    case FETCH_RECENT_SUCCESS:\n    case FETCH_SHARINGS_SUCCESS:\n    case SORT_FOLDER_SUCCESS:\n      return action.files\n    case FETCH_MORE_FILES_SUCCESS: {\n      const clone = state.slice(0)\n      action.files.forEach((f, i) => {\n        clone[action.skip + i] = f\n      })\n      return clone\n    }\n    case RENAME_SUCCESS:\n    case UPDATE_FILE:\n      return updateItem(action.file, state)\n    case ADD_FILE:\n      return insertItem(\n        action.file,\n        state,\n        action.currentFileCount,\n        action.currentSort\n      )\n    case CREATE_FOLDER_SUCCESS:\n      return insertItem(\n        action.folder,\n        state,\n        action.currentFileCount,\n        action.currentSort\n      )\n    case TRASH_FILES_SUCCESS:\n    case RESTORE_FILES_SUCCESS:\n    case DESTROY_FILES_SUCCESS:\n      return state.filter(f => action.ids.indexOf(f.id) === -1)\n    case DELETE_FILE:\n      return state.filter(f => action.file.id !== f.id)\n    case EMPTY_TRASH_SUCCESS:\n      return []\n    default:\n      return state\n  }\n}\n\nconst fetchStatus = (state = 'pending', action) => {\n  switch (action.type) {\n    // there's a trick here : we set the fetchStatus to 'pending'\n    // on initial state so that the loading spinner is only showed\n    // when the app is launched or when the user use the back button\n    case EMPTY_TRASH: // we temporarily display the spinner when working in the trashed\n    case SORT_FOLDER:\n      return 'pending'\n    case OPEN_FOLDER_SUCCESS:\n    case SORT_FOLDER_SUCCESS:\n    case FETCH_RECENT_SUCCESS:\n    case FETCH_SHARINGS_SUCCESS:\n    case EMPTY_TRASH_SUCCESS:\n    case EMPTY_TRASH_FAILURE:\n      return 'loaded'\n    case OPEN_FOLDER_FAILURE:\n    case SORT_FOLDER_FAILURE:\n    case FETCH_RECENT_FAILURE:\n    case FETCH_SHARINGS_FAILURE:\n      return 'failed'\n    default:\n      return state\n  }\n}\n\nconst lastFetch = (state = null, action) => {\n  switch (action.type) {\n    case OPEN_FOLDER_SUCCESS:\n    case OPEN_FOLDER_FAILURE:\n    case SORT_FOLDER_SUCCESS:\n    case SORT_FOLDER_FAILURE:\n    case FETCH_RECENT_SUCCESS:\n    case FETCH_RECENT_FAILURE:\n    case FETCH_SHARINGS_SUCCESS:\n    case FETCH_SHARINGS_FAILURE:\n      return Date.now()\n    default:\n      return state\n  }\n}\n\nconst deduplicateCreateDeleteActions = originalReducer => {\n  const created = []\n  const deleted = []\n\n  const deduplicateCreateAction = (state, action) => {\n    const doc = action.file || action.folder\n    if (created.includes(doc.id)) return state\n    else {\n      created.push(doc.id)\n      pull(deleted, doc.id)\n      return originalReducer(state, action)\n    }\n  }\n\n  const deduplicateDeleteAction = (state, action) => {\n    const actionIds = action.ids || [action.file.id]\n    const toRemove = actionIds.filter(id => !deleted.includes(id))\n\n    if (toRemove.length === 0) return state\n    else {\n      deleted.push(...toRemove)\n      pull(created, ...toRemove)\n      action.ids = toRemove\n      return originalReducer(state, action)\n    }\n  }\n\n  const clearInternalCache = (state, action) => {\n    created.length = 0\n    deleted.length = 0\n    return originalReducer(state, action)\n  }\n\n  return (state, action) => {\n    switch (action.type) {\n      case CREATE_FOLDER_SUCCESS:\n      case ADD_FILE:\n        return deduplicateCreateAction(state, action)\n      case DELETE_FILE:\n      case TRASH_FILES_SUCCESS:\n      case DESTROY_FILES_SUCCESS:\n      case RESTORE_FILES_SUCCESS:\n        return deduplicateDeleteAction(state, action)\n      case OPEN_FOLDER_SUCCESS:\n      case FETCH_RECENT_SUCCESS:\n      case FETCH_SHARINGS_SUCCESS:\n        return clearInternalCache(state, action)\n      default:\n        return originalReducer(state, action)\n    }\n  }\n}\n\nexport default combineReducers({\n  hasDisplayedSomething,\n  isOpening,\n  displayedFolder,\n  openedFolderId,\n  fileCount: deduplicateCreateDeleteActions(fileCount),\n  sort,\n  files,\n  fetchStatus,\n  lastFetch\n})\n\n// TODO: temp\nexport const getFilesWithLinks = ({ view }, folderId) =>\n  view.filesWithLinks[folderId]\n\nexport const getVisibleFiles = ({ view }) =>\n  view.files.map(f => ensureFileHavePath({ view }, f))\n\nexport const getSort = ({ view }) => view.sort\n\nexport const getFileById = ({ view }, id) => {\n  const file = view.files.find(f => f && f.id && f.id === id)\n  if (!file) return null\n  // we need the path for some actions, like selection download\n  // but the stack only provides the path for folders...\n  return ensureFileHavePath({ view }, file)\n}\n\nconst isRootFolder = folder => folder.id === ROOT_DIR_ID\n\nexport const ensureFileHavePath = ({ view }, file) => ({\n  ...file,\n  displayedPath: getDisplayedFilePath({ view }, file),\n  path: getFilePath({ view }, file)\n})\n\n/*\n  TODO: deprecate and remove getFilePath\n*/\nexport const getFilePath = ({ view }, file) => {\n  const { displayedFolder } = view\n  if (isDirectory(file)) {\n    return file.path\n  } else {\n    const folderPath = displayedFolder\n      ? !isRootFolder(displayedFolder)\n        ? displayedFolder.path\n        : ''\n      : file.path // file.path is the parent folder path\n    return `${folderPath}/${file.name}`\n  }\n}\n\nexport const getDisplayedFilePath = ({ view }, file) => {\n  const { displayedFolder } = view\n  return file.path || (displayedFolder ? displayedFolder.path : '')\n}\n\nexport const getOpenedFolderId = state => state.view.openedFolderId\n\nexport const getFolderIdFromRoute = (location, params) => {\n  if (params.folderId) return params.folderId\n  if (location.pathname.match(/^\\/folder/)) return ROOT_DIR_ID\n  if (location.pathname.match(/^\\/trash/)) return TRASH_DIR_ID\n}\n\nconst getFolderUrlFromPathName = pathname => {\n  if (pathname.match(/^\\/sharings/)) return '/sharings/'\n  else if (pathname.match(/^\\/trash/)) return '/trash/'\n  else return '/folder/'\n}\n\nexport const getFolderUrl = (folderId, location) => {\n  if (folderId === undefined) return '/folder'\n  if (folderId === ROOT_DIR_ID) return '/folder'\n  if (folderId === TRASH_DIR_ID) return '/trash'\n  return getFolderUrlFromPathName(location.pathname) + folderId\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nclass BarContextProvider extends React.Component {\n  getChildContext() {\n    return this.props\n  }\n\n  render() {\n    if (!this.props.children) return null\n    if (!Array.isArray(this.props.children)) return this.props.children\n    return this.props.children[0]\n  }\n}\nBarContextProvider.childContextTypes = {\n  //child context keys\n  client: PropTypes.object.isRequired,\n  t: PropTypes.func.isRequired,\n  store: PropTypes.object.isRequired,\n  children: PropTypes.object\n}\nexport default BarContextProvider\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-type-sheet_8dd87cb4c33c98d3014c32cd9c675e90\",\n  \"use\": \"icon-type-sheet_8dd87cb4c33c98d3014c32cd9c675e90-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-type-sheet_8dd87cb4c33c98d3014c32cd9c675e90\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(3)\\\">\\n    <path fill=\\\"#9FE6A2\\\" d=\\\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\\\" />\\n    <path fill=\\\"#0FC016\\\" d=\\\"M18.5.57092175e-14C18.2238576.33045111e-13 18 .230796814 18 .500435829L18 8 25.4995642 8C25.7759472 8 26 7.76806641 26 7.5L26 7 19 0 18.5.57092175e-14zM5 9L9 9 9 11 5 11 5 9zM5 5L9 5 9 7 5 7 5 5zM5 13L9 13 9 15 5 15 5 13zM5 17L9 17 9 19 5 19 5 17zM5 21L9 21 9 23 5 23 5 21zM5 25L9 25 9 27 5 27 5 25zM11 9L15 9 15 11 11 11 11 9zM11 5L15 5 15 7 11 7 11 5zM11 13L15 13 15 15 11 15 11 13zM11 17L15 17 15 19 11 19 11 17zM11 21L15 21 15 23 11 23 11 21zM11 25L15 25 15 27 11 27 11 25zM17 13L21 13 21 15 17 15 17 13zM17 17L21 17 21 19 17 19 17 17zM17 21L21 21 21 23 17 23 17 21zM17 25L21 25 21 27 17 27 17 25z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-type-audio_e99d441b7729b89692055537e75fa922\",\n  \"use\": \"icon-type-audio_e99d441b7729b89692055537e75fa922-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-type-audio_e99d441b7729b89692055537e75fa922\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(1 1)\\\">\\n    <rect width=\\\"30\\\" height=\\\"30\\\" fill=\\\"#ACF6F7\\\" rx=\\\"2\\\" />\\n    <path fill=\\\"#0CCBD0\\\" d=\\\"M8,19.9979317 C6.8954305,19.9979317 6,20.8856614 6,21.9979317 L6,21.9979317 C6,23.1025012 6.89826062,23.9979317 7.99791312,23.9979317 L9,23.9979317 C10.6568542,23.9979317 12,22.6487458 12,21.0005269 L12,13.3224852 C12,13.0410046 12.217172,12.7720898 12.4922264,12.7205046 L18.5077736,11.5923149 C18.7796227,11.5413308 19,11.7161978 19,12.0098818 L19,17.4880499 C19,17.7696499 18.7849426,17.9979317 18.5095215,17.9979317 L17,17.9979317 C15.8954305,17.9979317 15,18.9020069 15,19.9947579 L15,19.8159933 C15,20.9188099 15.8982606,21.8128195 16.9979131,21.8128195 L18,21.8128195 C19.6568542,21.8128195 21,20.464451 21,18.8195676 L21,6.99922157 C21,6.44622446 20.555163,6.07881118 20.0238234,6.17541838 L10.9761766,7.82044507 C10.4370492,7.91846824 10,8.45369268 10,9.00040502 L10,19.4975844 C10,19.7739186 9.78494263,19.9979317 9.50952148,19.9979317 L8,19.9979317 Z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react'\nimport classnames from 'classnames'\nimport PropTypes from 'prop-types'\nimport { Button, Spinner } from 'cozy-ui/react'\nimport { translate } from 'cozy-ui/react/I18n'\nimport styles from 'drive/styles/filelist.styl'\n\nconst LoadMore = ({ onClick, isLoading, text }) => (\n  <div\n    className={classnames(\n      styles['fil-content-row'],\n      styles['fil-content-row--center']\n    )}\n  >\n    <Button\n      theme=\"secondary\"\n      onClick={onClick}\n      label={isLoading ? <Spinner noMargin /> : text}\n    />\n  </div>\n)\n\nLoadMore.propTypes = {\n  onClick: PropTypes.func,\n  isLoading: PropTypes.bool,\n  text: PropTypes.string.isRequired\n}\n\nLoadMore.defaultProps = {\n  onClick: null,\n  isLoading: false\n}\n// eslint-disable-next-line\nconst withTranslation = BaseComponent => ({ t, ...props }) => (\n  <BaseComponent text={t('table.load_more')} {...props} />\n)\n\nexport default translate()(withTranslation(LoadMore))\n","/* (ignored) */","// extracted by mini-css-extract-plugin\nmodule.exports = {\"recipient-status\":\"recipient-status--2uFD7\",\"recipient-menu-btn\":\"recipient-menu-btn--2_GX0\",\"recipient\":\"recipient--HkJgC\",\"recipients-list-light\":\"recipients-list-light--3bHel\",\"recipient-avatar\":\"recipient-avatar--1Cmmp\",\"recipient-avatar--small\":\"recipient-avatar--small--2hoPQ\",\"recipient-avatar-link\":\"recipient-avatar-link--3gLdE\",\"recipient-avatar-plusx\":\"recipient-avatar-plusx--2ruV6\",\"recipient-idents\":\"recipient-idents--3NhkH\",\"recipient-ident-status\":\"recipient-ident-status--3W1WI\",\"recipient-user\":\"recipient-user--2ON6I\",\"recipient-details\":\"recipient-details--tV3VQ\",\"avatar\":\"avatar--2xuqM\",\"recipients-avatars\":\"recipients-avatars--1PuFV\",\"--interactive\":\"_--interactive--3t-An\",\"recipient-owner\":\"recipient-owner--3PukF\",\"recipient-menu\":\"recipient-menu--Gn7vM\",\"action-unshare\":\"action-unshare--W0mml\",\"action-unshare-desc\":\"action-unshare-desc--8flsy\",\"spin\":\"spin--2Hvw_\",\"shake\":\"shake--KwEfF\"};","/* global cozy */\nimport { isAndroidApp } from 'cozy-device-helper'\n\nconst ERROR_GET_DIRECTORY = 'Error to get directory'\nconst ERROR_WRITE_FILE = 'Error to write file'\nconst ERROR_GET_FILE = 'Error to get file'\nconst COZY_PATH = 'Cozy'\nconst COZY_FILES_PATH = 'Cozy Drive'\n\nexport const getRootPath = () =>\n  isAndroidApp()\n    ? window.cordova.file.externalRootDirectory\n    : window.cordova.file.dataDirectory\n\nexport const getTemporaryRootPath = () =>\n  isAndroidApp()\n    ? window.cordova.file.externalCacheDirectory\n    : window.cordova.file.cacheDirectory\n\nexport const getCozyPath = () => COZY_PATH + '/' + COZY_FILES_PATH + '/'\n\nexport const getEntry = path =>\n  new Promise((resolve, reject) => {\n    window.resolveLocalFileSystemURL(path, resolve, err => {\n      // eslint-disable-next-line\n      console.error(`${path} could not be resolved: ${err.message}`)\n      reject(err)\n    })\n  })\n\nexport const getCozyEntry = () =>\n  getEntry(getRootPath() + getCozyPath()).catch(() => createCozyPath())\n\nexport const createCozyPath = () =>\n  getEntry(getRootPath()).then(entry =>\n    getDirectory(entry, COZY_PATH).then(entry =>\n      getDirectory(entry, COZY_FILES_PATH)\n    )\n  )\n\nexport const getDirectory = (rootDirEntry, folderName) =>\n  new Promise((resolve, reject) => {\n    rootDirEntry.getDirectory(folderName, { create: true }, resolve, error => {\n      // eslint-disable-next-line\n      console.warn(ERROR_GET_DIRECTORY, folderName)\n      // eslint-disable-next-line\n      console.warn(error)\n      reject(ERROR_GET_DIRECTORY)\n    })\n  })\n\nexport const writeFile = (fileEntry, dataObj) =>\n  new Promise((resolve, reject) => {\n    fileEntry.createWriter(fileWriter => {\n      fileWriter.onwriteend = () => {\n        resolve(fileEntry)\n      }\n      fileWriter.onerror = error => {\n        // eslint-disable-next-line\n        console.warn(ERROR_WRITE_FILE)\n        // eslint-disable-next-line\n        console.warn(error)\n        reject(ERROR_WRITE_FILE)\n      }\n      fileWriter.write(dataObj)\n    })\n  })\n\nconst saveFile = (dirEntry, fileData, fileName) =>\n  new Promise((resolve, reject) => {\n    dirEntry.getFile(\n      fileName,\n      { create: true, exclusive: false },\n      fileEntry => {\n        writeFile(fileEntry, fileData)\n          .then(() => {\n            resolve(fileEntry)\n          })\n          .catch(reject)\n      },\n      error => {\n        // eslint-disable-next-line\n        console.warn(ERROR_GET_FILE)\n        // eslint-disable-next-line\n        console.warn(error)\n        reject(ERROR_GET_FILE)\n      }\n    )\n  })\n\nexport const openFileWithCordova = (URI, mimetype) =>\n  new Promise((resolve, reject) => {\n    const callbacks = {\n      error: reject,\n      success: resolve\n    }\n    window.cordova.plugins.fileOpener2.open(URI, mimetype, callbacks)\n  })\n\nexport const deleteOfflineFile = async filename => {\n  const entry = await getCozyEntry()\n  const fileEntry = await getEntry(`${entry.nativeURL}${filename}`)\n  return fileEntry.remove()\n}\n\nexport const saveFileWithCordova = (fileData, fileName) =>\n  getCozyEntry().then(entry => saveFile(entry, fileData, fileName))\n\nexport const temporarySave = (file, filename) =>\n  getEntry(getTemporaryRootPath()).then(entry =>\n    saveFile(entry, file, filename)\n  )\n\nexport const saveAndOpenWithCordova = (file, filename) =>\n  temporarySave(file, filename).then(entry =>\n    openFileWithCordova(entry.nativeURL, file.type)\n  )\n\nexport const getNativeFile = async file => {\n  const entry = await getCozyEntry()\n  return getEntry(`${entry.nativeURL}${file.id}`)\n}\n\nexport const openOfflineFile = async file => {\n  const fileEntry = await getNativeFile(file)\n  return openFileWithCordova(fileEntry.nativeURL, file.mime)\n}\n\nexport const createTemporaryLocalFile = async (id, filename) => {\n  const response = await cozy.client.files.downloadById(id)\n  const blob = await response.blob()\n  const localFile = await temporarySave(blob, filename)\n  return localFile\n}\n","import localforage from 'localforage'\n\n// We had some settings that were persisted outside of mobile.settings prior to 1.8.1\nconst shouldMigrateSettings = state => state.hasOwnProperty('settings')\n\nconst migrateSettings = async prevState => {\n  const { firstReplication, client, indexes, offline } = prevState.settings\n  const {\n    authorized,\n    token,\n    serverUrl,\n    backupImages,\n    analytics,\n    wifiOnly\n  } = prevState.mobile.settings\n  const { revoked } = prevState.mobile.authorization || { revoked: false }\n  const newState = {\n    mobile: {\n      authorization: {\n        authorized,\n        revoked,\n        client,\n        token\n      },\n      settings: {\n        offline,\n        serverUrl,\n        backupImages,\n        analytics,\n        wifiOnly\n      },\n      replication: {\n        firstReplication,\n        indexes\n      },\n      mediaBackup: prevState.mobile.mediaBackup\n    },\n    availableOffline: prevState.availableOffline\n  }\n  await localforage.setItem('state', newState)\n  /* eslint-disable no-console */\n  console.info('Migrated persisted settings')\n  console.info('Previously persisted state: ', prevState)\n  console.info('New persisted state: ', newState)\n  return newState\n}\n\nexport const loadState = async () => {\n  try {\n    const persistedState = await localforage.getItem('state')\n    if (persistedState === null) {\n      return undefined\n    }\n    if (shouldMigrateSettings(persistedState)) {\n      // eslint-disable-next-line no-console\n      console.warn('Migrating persisted settings')\n      const newState = await migrateSettings(persistedState)\n      return newState\n    }\n    return persistedState\n  } catch (err) {\n    // eslint-disable-next-line no-console\n    console.warn(err)\n    return undefined\n  }\n}\n\nexport const saveState = async state => {\n  try {\n    await localforage.setItem('state', state)\n  } catch (err) {\n    // eslint-disable-next-line no-console\n    console.warn(err)\n  }\n}\n\nexport const resetPersistedState = () => localforage.clear()\n","import React from 'react'\nimport cx from 'classnames'\nimport PropTypes from 'prop-types'\nimport { SharingTooltip, TooltipRecipientList } from './Tooltip'\nimport styles from './recipient.styl'\nimport ColorHash from './colorhash'\n\nexport const Avatar = ({ text, size, textId }) => {\n  const initial = text.charAt(0)\n  const bg = ColorHash().getColor(textId)\n  const style = {\n    backgroundColor: bg\n  }\n  return (\n    <div\n      className={cx(styles['recipient-avatar'], {\n        [styles['recipient-avatar--small']]: size === 'small'\n      })}\n      style={style}\n      data-tip={textId}\n      data-for={`recipient-avatar-${text}`}\n    >\n      <span>{initial}</span>\n      <SharingTooltip id={`recipient-avatar-${text}`} />\n    </div>\n  )\n}\n\nAvatar.propTypes = {\n  text: PropTypes.string,\n  size: PropTypes.string,\n  textId: PropTypes.string\n}\n\nAvatar.defaultProps = {\n  text: '',\n  size: 'small-plus',\n  textId: ''\n}\n\nexport const AvatarPlusX = ({ size, extraRecipients = [] }) => (\n  <div\n    className={cx(styles['recipient-avatar'], {\n      [styles['recipient-avatar--small']]: size === 'small'\n    })}\n    data-tip\n    data-for=\"extra-recipients-avatar\"\n  >\n    <span className={styles['recipient-avatar-plusx']}>\n      +{Math.min(extraRecipients.length, 99)}\n    </span>\n    <SharingTooltip id=\"extra-recipients-avatar\">\n      <TooltipRecipientList recipientNames={extraRecipients} />\n    </SharingTooltip>\n  </div>\n)\n\nAvatarPlusX.propTypes = {\n  extraRecipients: PropTypes.arrayOf(PropTypes.string),\n  size: PropTypes.string\n}\n\nAvatarPlusX.defaultProps = {\n  extraRecipients: [],\n  size: 'medium'\n}\n\nexport const AvatarLink = ({ size = 'medium' }) => (\n  <div\n    className={cx(styles['recipient-avatar'], {\n      [styles['recipient-avatar--small']]: size === 'small'\n    })}\n  >\n    <span className={styles['recipient-avatar-link']} />\n  </div>\n)\n","/* (ignored) */","import React from 'react'\nimport { connect } from 'react-redux'\n\nconst SHOW_MODAL = 'SHOW_MODAL'\nconst HIDE_MODAL = 'HIDE_MODAL'\n\nconst reducer = (state = { show: false, component: null }, action) => {\n  switch (action.type) {\n    case SHOW_MODAL:\n      return { show: true, component: action.component }\n    case HIDE_MODAL:\n      return { show: false, component: null }\n    default:\n      return state\n  }\n}\n\nexport default reducer\n\nexport const showModal = component => ({\n  type: SHOW_MODAL,\n  component,\n  meta: {\n    hideActionMenu: true\n  }\n})\n\nconst hideModal = (meta = {}) => ({\n  type: HIDE_MODAL,\n  meta\n})\n\nexport const ModalManager = connect(state => ({\n  ...state.ui.modal\n}))(({ show, component, dispatch }) => {\n  if (!show) return null\n  return React.cloneElement(component, {\n    onClose: meta => dispatch(hideModal(meta))\n  })\n})\n","import { combineReducers } from 'redux'\n\nimport UploadQueue from './UploadQueue'\n\nexport { UploadQueue }\n\nconst SLUG = 'upload'\n\nexport const ADD_TO_UPLOAD_QUEUE = 'ADD_TO_UPLOAD_QUEUE'\nconst UPLOAD_FILE = 'UPLOAD_FILE'\nconst RECEIVE_UPLOAD_SUCCESS = 'RECEIVE_UPLOAD_SUCCESS'\nconst RECEIVE_UPLOAD_ERROR = 'RECEIVE_UPLOAD_ERROR'\nconst PURGE_UPLOAD_QUEUE = 'PURGE_UPLOAD_QUEUE'\n\nconst PENDING = 'pending'\nconst LOADING = 'loading'\nconst LOADED = 'loaded'\nconst FAILED = 'failed'\nconst CONFLICT = 'conflict'\nconst QUOTA = 'quota'\nconst NETWORK = 'network'\n\nconst itemInitialState = item => ({\n  ...item,\n  status: PENDING\n})\n\nconst status = action => {\n  switch (action.type) {\n    case UPLOAD_FILE:\n      return LOADING\n    case RECEIVE_UPLOAD_SUCCESS:\n      return LOADED\n    case RECEIVE_UPLOAD_ERROR:\n      return action.status\n  }\n}\n\nconst item = (state, action) =>\n  Object.assign({}, state, { status: status(action) })\n\nconst queue = (state = [], action) => {\n  switch (action.type) {\n    case ADD_TO_UPLOAD_QUEUE:\n      return [\n        ...state.filter(i => i.status !== LOADED),\n        ...action.files.map(f => itemInitialState(f))\n      ]\n    case PURGE_UPLOAD_QUEUE:\n      return []\n    case UPLOAD_FILE:\n    case RECEIVE_UPLOAD_SUCCESS:\n    case RECEIVE_UPLOAD_ERROR:\n      return state.map(\n        i => (i.file.name !== action.file.name ? i : item(i, action))\n      )\n    default:\n      return state\n  }\n}\nexport default combineReducers({ queue })\n\nconst processNextFile = (\n  fileUploadedCallback,\n  queueCompletedCallback,\n  dirID\n) => async (dispatch, getState, { client }) => {\n  if (!client) {\n    throw new Error(\n      'Upload module needs a cozy-client instance to work. This instance should be made available by using the extraArgument function of redux-thunk'\n    )\n  }\n  const item = getUploadQueue(getState()).find(i => i.status === PENDING)\n  if (!item) {\n    return dispatch(onQueueEmpty(queueCompletedCallback))\n  }\n  const { file, entry, isDirectory } = item\n  try {\n    dispatch({ type: UPLOAD_FILE, file })\n    if (entry && isDirectory) {\n      const newDir = await uploadDirectory(client, entry, dirID)\n      fileUploadedCallback(newDir)\n    } else {\n      const uploadedFile = await uploadFile(client, file, dirID)\n      fileUploadedCallback(uploadedFile)\n    }\n    dispatch({ type: RECEIVE_UPLOAD_SUCCESS, file })\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.warn(error)\n    const statusError = {\n      409: CONFLICT,\n      413: QUOTA\n    }\n\n    const status =\n      statusError[error.status] ||\n      (/Failed to fetch$/.exec(error.toString()) && NETWORK) ||\n      FAILED\n\n    dispatch({ type: RECEIVE_UPLOAD_ERROR, file, status })\n  }\n  dispatch(processNextFile(fileUploadedCallback, queueCompletedCallback, dirID))\n}\n\nconst getFileFromEntry = entry => new Promise(resolve => entry.file(resolve))\n\nconst uploadDirectory = async (client, directory, dirID) => {\n  const newDir = await createFolder(client, directory.name, dirID)\n  const dirReader = directory.createReader()\n  return new Promise(resolve => {\n    const entriesReader = async entries => {\n      for (let i = 0; i < entries.length; i += 1) {\n        const entry = entries[i]\n        if (entry.isFile) {\n          await uploadFile(client, await getFileFromEntry(entry), newDir.id)\n        } else if (entry.isDirectory) {\n          await uploadDirectory(client, entry, newDir.id)\n        }\n      }\n      resolve(newDir)\n    }\n    dirReader.readEntries(entriesReader)\n  })\n}\n\nconst createFolder = async (client, name, dirID) => {\n  const resp = await client\n    .collection('io.cozy.files')\n    .createDirectory({ name, dirId: dirID })\n  return resp.data\n}\n\nconst uploadFile = async (client, file, dirID) => {\n  const resp = await client\n    .collection('io.cozy.files')\n    .createFile(file, { dirId: dirID })\n  return resp.data\n}\n\nexport const addToUploadQueue = (\n  files,\n  dirID,\n  fileUploadedCallback,\n  queueCompletedCallback\n) => async dispatch => {\n  dispatch({\n    type: ADD_TO_UPLOAD_QUEUE,\n    files: extractFilesEntries(files)\n  })\n  dispatch(processNextFile(fileUploadedCallback, queueCompletedCallback, dirID))\n}\n\nexport const purgeUploadQueue = () => ({ type: PURGE_UPLOAD_QUEUE })\n\nexport const onQueueEmpty = callback => (dispatch, getState) => {\n  const queue = getUploadQueue(getState())\n  const loaded = getLoaded(queue)\n  const quotas = getQuotaErrors(queue)\n  const conflicts = getConflicts(queue)\n  const networkErrors = getNetworkErrors(queue)\n  const errors = getErrors(queue)\n\n  return callback(loaded, quotas, conflicts, networkErrors, errors)\n}\n\n// selectors\nconst filterByStatus = (queue, status) => queue.filter(f => f.status === status)\nconst getConflicts = queue => filterByStatus(queue, CONFLICT)\nconst getErrors = queue => filterByStatus(queue, FAILED)\nconst getQuotaErrors = queue => filterByStatus(queue, QUOTA)\nconst getNetworkErrors = queue => filterByStatus(queue, NETWORK)\nconst getLoaded = queue => filterByStatus(queue, LOADED)\n\nexport const getUploadQueue = state => state[SLUG].queue\nexport const getProcessed = state =>\n  getUploadQueue(state).filter(f => f.status !== PENDING)\nexport const getSuccessful = state => getLoaded(getUploadQueue(state))\n\n// DOM helpers\nconst extractFilesEntries = items => {\n  let results = []\n  for (let i = 0; i < items.length; i += 1) {\n    const item = items[i]\n    if (item.webkitGetAsEntry != null && item.webkitGetAsEntry()) {\n      const entry = item.webkitGetAsEntry()\n      results.push({\n        file: item.getAsFile(),\n        isDirectory: entry.isDirectory === true,\n        entry\n      })\n    } else {\n      results.push({ file: item, isDirectory: false, entry: null })\n    }\n  }\n  return results\n}\n","import React from 'react'\nimport { Spinner, IntentHeader } from 'cozy-ui/react'\nimport FileOpener from 'drive/web/modules/viewer/FileOpenerExternal'\nimport { IconSprite } from 'cozy-ui/transpiled/react/'\n\nclass Embeder extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      loading: true\n    }\n  }\n\n  componentDidMount() {\n    this.fetchFileUrl()\n  }\n\n  async fetchFileUrl() {\n    const { service } = this.props\n\n    try {\n      const { id } = service.getData()\n      this.setState({ fileId: id, loading: false })\n    } catch (error) {\n      this.setState({ error, loading: false })\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <IntentHeader appName=\"Drive\" appEditor=\"Cozy\" />\n        {this.state.loading && (\n          <Spinner size=\"xxlarge\" loadingType=\"message\" middle />\n        )}\n        {this.state.error && (\n          <pre className=\"u-error\">{this.state.error.toString()}</pre>\n        )}\n        {this.state.fileId && (\n          <FileOpener fileId={this.state.fileId} withCloseButtton={false} />\n        )}\n        <IconSprite />\n      </div>\n    )\n  }\n}\n\nexport default Embeder\n","import IntentHandler from './components/IntentHandler'\nexport default IntentHandler\n","import { Component } from 'react'\n\nclass ContactsAndGroupsDataLoader extends Component {\n  shouldComponentUpdate(nextProps) {\n    return (\n      nextProps.contacts.hasMore !== this.props.contacts.hasMore ||\n      nextProps.contacts.fetchStatus !== this.props.contacts.fetchStatus ||\n      nextProps.contacts.data.length !== this.props.contacts.data.length ||\n      nextProps.groups.hasMore !== this.props.groups.hasMore ||\n      nextProps.groups.fetchStatus !== this.props.groups.fetchStatus ||\n      nextProps.groups.data.length !== this.props.groups.data.length\n    )\n  }\n\n  componentDidUpdate() {\n    if (this.props.contacts.hasMore) {\n      this.props.contacts.fetchMore()\n    }\n\n    if (this.props.groups.hasMore) {\n      this.props.groups.fetchMore()\n    }\n  }\n\n  render() {\n    return this.props.children\n  }\n}\n\nexport default ContactsAndGroupsDataLoader\n","/* (ignored) */","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fil-actionmenu-inner\":\"fil-actionmenu-inner--3JhFX\",\"fil-actionmenu-recipients\":\"fil-actionmenu-recipients--28pEX\",\"fil-action\":\"fil-action--3huaS\",\"fil-actionmenu-overlay\":\"fil-actionmenu-overlay--1o4R9\",\"fil-mobileactionmenu\":\"fil-mobileactionmenu--2J9Kc\",\"fil-mobileactionmenu-header\":\"fil-mobileactionmenu-header--j3KI4\",\"fil-mobileactionmenu-file-name\":\"fil-mobileactionmenu-file-name--3VXSo\",\"fil-mobileactionmenu-file-ext\":\"fil-mobileactionmenu-file-ext--2sio1\",\"fil-action-phone-download\":\"fil-action-phone-download--3zG6S\",\"fil-action-openWith\":\"fil-action-openWith--NJ1ah\",\"fil-action-download\":\"fil-action-download--378G6\",\"fil-action-destroy\":\"fil-action-destroy--1FAXj\",\"fil-action-trash\":\"fil-action-trash--268pI\",\"fil-action-restore\":\"fil-action-restore--36vfQ\",\"fil-action-rename\":\"fil-action-rename--1hqjC\",\"fil-action-share\":\"fil-action-share--1BpnI\",\"fil-action-moveto\":\"fil-action-moveto--o2Fw2\"};","const SHOW_NEW_FOLDER_INPUT = 'SHOW_NEW_FOLDER_INPUT'\nconst HIDE_NEW_FOLDER_INPUT = 'HIDE_NEW_FOLDER_INPUT'\n\nexport const showNewFolderInput = () => ({\n  type: SHOW_NEW_FOLDER_INPUT\n})\n\nexport const hideNewFolderInput = () => ({\n  type: HIDE_NEW_FOLDER_INPUT\n})\n\nconst initialState = {\n  isTypingNewFolderName: false\n}\n\nconst filelist = (state = initialState, action) => {\n  switch (action.type) {\n    case SHOW_NEW_FOLDER_INPUT:\n      return { ...state, isTypingNewFolderName: true }\n    case HIDE_NEW_FOLDER_INPUT:\n      return { ...state, isTypingNewFolderName: false }\n    default:\n      return state\n  }\n}\n\nexport default filelist\n\nexport const isTypingNewFolderName = state =>\n  state.filelist.isTypingNewFolderName\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"u-shake\":\"u-shake--2w9Ah\",\"shake\":\"shake--3lQxc\",\"u-o-100\":\"u-o-100--fIdgC\",\"u-o-90\":\"u-o-90--1n38D\",\"u-o-80\":\"u-o-80--y360z\",\"u-o-70\":\"u-o-70--35vTa\",\"u-o-60\":\"u-o-60--s4-Cn\",\"u-o-50\":\"u-o-50--3MPnn\",\"u-o-40\":\"u-o-40--1PWFb\",\"u-o-30\":\"u-o-30--1pEPX\",\"u-o-20\":\"u-o-20--3PArr\",\"u-o-10\":\"u-o-10--3F8WR\",\"u-o-05\":\"u-o-05--_JIuM\",\"u-o-025\":\"u-o-025--o8h8s\",\"u-o-0\":\"u-o-0--3KlCg\",\"shared-status\":\"shared-status--2MD96\",\"shared-status-label\":\"shared-status-label--3Pk0H\",\"spin\":\"spin--3YGV1\"};","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-type-note_66b67c1293c24a2bdf42260d7e0388b7\",\n  \"use\": \"icon-type-note_66b67c1293c24a2bdf42260d7e0388b7-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-type-note_66b67c1293c24a2bdf42260d7e0388b7\\\"><path d=\\\"M2 2a2 2 0 0 1 2-2h22a2 2 0 0 1 2 2v28a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2z\\\" fill=\\\"#acf5f7\\\" fill-rule=\\\"evenodd\\\" /><path d=\\\"M8 8h14v2H8zm0 4h8v2H8zm0 4h14v2H8zm0 4h10v2H8zM1.5 4h2A1.54 1.54 0 0 1 5 5.5 1.54 1.54 0 0 1 3.5 7h-2A1.54 1.54 0 0 1 0 5.5 1.54 1.54 0 0 1 1.5 4zM1.5 11h2A1.54 1.54 0 0 1 5 12.5 1.54 1.54 0 0 1 3.5 14h-2A1.54 1.54 0 0 1 0 12.5 1.54 1.54 0 0 1 1.5 11zM1.5 18h2A1.54 1.54 0 0 1 5 19.5 1.54 1.54 0 0 1 3.5 21h-2A1.54 1.54 0 0 1 0 19.5 1.54 1.54 0 0 1 1.5 18zM1.5 25h2A1.54 1.54 0 0 1 5 26.5 1.54 1.54 0 0 1 3.5 28h-2A1.54 1.54 0 0 1 0 26.5 1.54 1.54 0 0 1 1.5 25zM31.4 18.4l-2.8-2.8a2 2 0 0 1 2.8 2.8zM30.7 19.1L20.8 29l-2.5.9a1 1 0 0 1-1.3-.6.85.85 0 0 1 0-.7l.9-2.5 9.9-9.9z\\\" fill=\\\"#0dcbcf\\\" fill-rule=\\\"evenodd\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","/* (ignored) */","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-eye-16_32a783455d403df2cdd48aa32afb9d27\",\n  \"use\": \"icon-eye-16_32a783455d403df2cdd48aa32afb9d27-usage\",\n  \"viewBox\": \"0 0 16 16\",\n  \"content\": \"<symbol viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"icon-eye-16_32a783455d403df2cdd48aa32afb9d27\\\">\\n    <defs>\\n        <path d=\\\"M0,8 C0,8 2,2 8,2 C14,2 16,8 16,8 C16,8 14,14 8,14 C2,14 0,8 0,8 Z M8,12 C10.2091391,12 12,10.2091391 12,8 C12,5.79086089 10.2091391,4 8,4 C5.79086089,4 4,5.79086089 4,8 C4,10.2091391 5.79086089,12 8,12 Z M8,10 C6.89543045,10 6,9.10456955 6,8 C6,6.89543045 6.89543045,6 8,6 C9.10456955,6 10,6.89543045 10,8 C10,9.10456955 9.10456955,10 8,10 Z\\\" id=\\\"icon-eye-16_32a783455d403df2cdd48aa32afb9d27_path-1\\\" />\\n    </defs>\\n    <g id=\\\"icon-eye-16_32a783455d403df2cdd48aa32afb9d27_icons/16/eye\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n        <mask id=\\\"icon-eye-16_32a783455d403df2cdd48aa32afb9d27_mask-2\\\" fill=\\\"white\\\">\\n            <use xlink:href=\\\"#icon-eye-16_32a783455d403df2cdd48aa32afb9d27_path-1\\\" />\\n        </mask>\\n        <use id=\\\"icon-eye-16_32a783455d403df2cdd48aa32afb9d27_Mask\\\" fill=\\\"#95999d\\\" fill-opacity=\\\"0.5\\\" xlink:href=\\\"#icon-eye-16_32a783455d403df2cdd48aa32afb9d27_path-1\\\" />\\n    </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","export { default as ImageLoader } from './ImageLoader'\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-type-code_998ba31b1b8dfd6f00ade2438c217d5a\",\n  \"use\": \"icon-type-code_998ba31b1b8dfd6f00ade2438c217d5a-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-type-code_998ba31b1b8dfd6f00ade2438c217d5a\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(3)\\\">\\n    <path fill=\\\"#E6D5FF\\\" d=\\\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\\\" />\\n    <path fill=\\\"#9C59FF\\\" d=\\\"M18.5,8.57092175e-14 C18.2238576,1.33045111e-13 18,0.230796814 18,0.500435829 L18,8 L25.4995642,8 C25.7759472,8 26,7.76806641 26,7.5 L26,7 L19,0 L18.5,8.57092175e-14 Z\\\" />\\n    <g stroke=\\\"#9C59FF\\\" stroke-width=\\\"2\\\" transform=\\\"translate(5 11)\\\">\\n      <polyline points=\\\"4 11 0 7 4 3\\\" stroke-linejoin=\\\"round\\\" />\\n      <polyline points=\\\"16 11 12 7 16 3\\\" stroke-linejoin=\\\"round\\\" transform=\\\"matrix(-1 0 0 1 28 0)\\\" />\\n      <path d=\\\"M6,14 L10,0\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames'\n\nimport styles from 'sharing/components/recipient.styl'\n\nconst Identity = ({ name, details }) => (\n  <div className={classNames(styles['recipient-idents'], 'u-ml-1')}>\n    <div className={styles['recipient-user']}>{name}</div>\n    <div className={styles['recipient-details']}>{details}</div>\n  </div>\n)\n\nIdentity.propTypes = {\n  name: PropTypes.string.isRequired,\n  details: PropTypes.string\n}\n\nIdentity.defaultProps = {\n  details: '-'\n}\n\nexport default Identity\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pho-viewer-controls\":\"pho-viewer-controls--i7aoe\",\"pho-viewer-nav\":\"pho-viewer-nav--rK41V\",\"pho-viewer-nav--visible\":\"pho-viewer-nav--visible--6LKoE\",\"pho-viewer-nav--previous\":\"pho-viewer-nav--previous--1VURK\",\"pho-viewer-nav-arrow\":\"pho-viewer-nav-arrow--1laxJ\",\"pho-viewer-nav--next\":\"pho-viewer-nav--next--EqJ0h\",\"--expanded\":\"_--expanded--oAMI3\",\"pho-viewer-toolbar\":\"pho-viewer-toolbar--35h_f\",\"pho-viewer-toolbar--mobilebrowser\":\"pho-viewer-toolbar--mobilebrowser--38lJN\",\"pho-viewer-toolbar--hidden\":\"pho-viewer-toolbar--hidden--3VnlN\",\"pho-viewer-toolbar-actions\":\"pho-viewer-toolbar-actions--1BRVC\",\"pho-viewer-toolbar-close\":\"pho-viewer-toolbar-close--5j5zF\",\"pho-viewer-wrapper\":\"pho-viewer-wrapper--25kbA\",\"pho-viewer-wrapper--light\":\"pho-viewer-wrapper--light--1g2e0\",\"pho-viewer-imageviewer\":\"pho-viewer-imageviewer--3ExG_\",\"pho-viewer-noviewer\":\"pho-viewer-noviewer--34ejQ\",\"pho-viewer-audioviewer\":\"pho-viewer-audioviewer--1i7BC\",\"pho-viewer-videoviewer\":\"pho-viewer-videoviewer--3WtlI\",\"pho-viewer-pdfviewer\":\"pho-viewer-pdfviewer--1JaeW\",\"pho-viewer-textviewer\":\"pho-viewer-textviewer--ZqmRJ\",\"pho-viewer-canceled\":\"pho-viewer-canceled--3i6oA\",\"pho-viewer-textviewer-content\":\"pho-viewer-textviewer-content--61dCk\",\"pho-viewer-filename\":\"pho-viewer-filename--LPP0o\",\"pho-viewer-pdfviewer-pdf\":\"pho-viewer-pdfviewer-pdf--1RLdC\",\"pho-viewer-pdfviewer-page\":\"pho-viewer-pdfviewer-page--YjACc\",\"pho-viewer-pdfviewer-toolbar\":\"pho-viewer-pdfviewer-toolbar--1SEgL\",\"pho-viewer-noviewer-cta\":\"pho-viewer-noviewer-cta--1smtO\",\"pho-viewer-noviewer-cta-cross\":\"pho-viewer-noviewer-cta-cross--1IoEu\"};","import { combineReducers } from 'redux'\nimport { getFileById } from 'drive/web/modules/navigation/duck'\n\n// constants\nconst SELECT_ITEM = 'SELECT_ITEM'\nconst UNSELECT_ITEM = 'UNSELECT_ITEM'\nconst TOGGLE_SELECTION_BAR = 'TOGGLE_SELECTION_BAR'\nconst SHOW_SELECTION_BAR = 'SHOW_SELECTION_BAR'\nconst HIDE_SELECTION_BAR = 'HIDE_SELECTION_BAR'\n\n// selectors\nexport const isSelected = (state, id) =>\n  state.selection.selected.find(_id => _id === id) !== undefined\nexport const getSelectedIds = state => state.selection.selected\nexport const isSelectionBarVisible = state =>\n  state.selection.selected.length !== 0 || state.selection.isSelectionBarOpened\nexport const getSelectedFiles = state =>\n  getSelectedIds(state).map(id => getFileById(state, id))\n\n// actions\nexport const showSelectionBar = () => ({ type: SHOW_SELECTION_BAR })\nexport const hideSelectionBar = () => ({ type: HIDE_SELECTION_BAR })\nexport const toggleSelectionBar = () => ({ type: TOGGLE_SELECTION_BAR })\nexport const toggleItemSelection = (id, selected) => ({\n  type: selected ? UNSELECT_ITEM : SELECT_ITEM,\n  id\n})\n\n// reducers\nconst selected = (state = [], action) => {\n  if (action.meta && action.meta.cancelSelection) {\n    return []\n  }\n  switch (action.type) {\n    case SELECT_ITEM:\n      return [...state, action.id]\n    case UNSELECT_ITEM: {\n      const idx = state.indexOf(action.id)\n      return [...state.slice(0, idx), ...state.slice(idx + 1)]\n    }\n    case HIDE_SELECTION_BAR:\n      return []\n    default:\n      return state\n  }\n}\n\nconst isSelectionBarOpened = (state = false, action) => {\n  if (action.meta && action.meta.cancelSelection) {\n    return false\n  }\n  switch (action.type) {\n    case TOGGLE_SELECTION_BAR:\n      return !state\n    case SHOW_SELECTION_BAR:\n      return true\n    case HIDE_SELECTION_BAR:\n      return false\n    default:\n      return state\n  }\n}\n\nexport default combineReducers({\n  selected,\n  isSelectionBarOpened\n})\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-cloud-wrong_d56bd9ba9375405500a12c4c6c2f4022\",\n  \"use\": \"icon-cloud-wrong_d56bd9ba9375405500a12c4c6c2f4022-usage\",\n  \"viewBox\": \"0 0 160 160\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 160 160\\\" id=\\\"icon-cloud-wrong_d56bd9ba9375405500a12c4c6c2f4022\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(0 4)\\\">\\n    <path fill=\\\"#93BEF8\\\" d=\\\"M61.7628171 126.592957L58.5894737 134.526316 117.633785 134.526316 117.630584 134.526316C140.987057 134.526316 160 115.400178 160 91.8922409 160 69.6743933 143.022786 51.3718537 121.439574 49.4254598 120.280873 39.8479136 115.95975 30.9942331 109.013944 24.1545076 107.538088 22.7009252 105.974287 21.3686647 104.334927 20.1626813L101.178099 28.0547516C108.380772 34.2079377 113.066436 43.315831 113.297838 53.4645025 113.35298 55.9434333 115.354321 57.9108385 117.7968 57.9108385L118.137385 57.9108385C136.846842 57.9108385 152.066116 73.315622 152.066116 92.2486189 152.066116 111.184895 136.846842 126.589678 118.137385 126.589678L117.813019 126.589678 117.803288 126.592957 61.7628171 126.592957zM101.178099 20.0547516L104.334927 12.1626813C97.1283522 6.86121555 88.4616374 4 79.3870406 4 68.2449437 4 57.7238082 8.31102174 49.7601376 16.1577248 42.7855242 23.0264049 38.4515974 31.9283431 37.3217036 41.557364 27.7544161 42.6930287 18.9105167 47.0587427 12.0831416 54.072196 4.28911517 62.0861924 0 72.6771502 0 83.889024 0 107.400178 19.00014 126.526316 42.3662152 126.526316L58.5894737 126.526316 61.7628171 118.592957 42.537297 118.592957C42.4399871 118.586399 42.3426772 118.586399 42.2453672 118.586399L42.1383263 118.592957 41.8626148 118.592957C23.1531581 118.592957 7.9338843 103.188174 7.9338843 84.2518977 7.9338843 65.7451721 22.796355 50.3469468 41.0646734 49.9206755 43.4714724 49.8649325 45.4079401 47.9040851 45.4630824 45.4710607 45.8815151 26.977451 61.1007889 11.9333586 79.3820819 11.9333586 87.6312156 11.9333586 95.2555652 14.9951774 101.178099 20.0547516z\\\" />\\n    <path stroke=\\\"#297EF1\\\" stroke-linecap=\\\"round\\\" stroke-width=\\\"8\\\" d=\\\"M50,152 L110,0\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","/* global cozy */\nimport React from 'react'\nimport PropTypes from 'prop-types'\n\nconst TTL = 10000\n\nconst PENDING = 'PENDING'\nconst LOADING_LINK = 'LOADING_LINK'\nconst LOADING_FALLBACK = 'LOADING_FALLBACK'\nconst LOADED = 'LOADED'\nconst FAILED = 'FAILED'\n\nclass ImageLoader extends React.Component {\n  static contextTypes = {\n    client: PropTypes.object.isRequired\n  }\n\n  state = {\n    status: PENDING,\n    src: null\n  }\n\n  _mounted = false\n\n  componentDidMount() {\n    this._mounted = true\n    this.loadNextSrc()\n  }\n\n  componentWillUnmount() {\n    this._mounted = false\n    clearTimeout(this.timeout)\n    if (this.img) {\n      this.img.onload = this.img.onerror = null\n      this.img.src = ''\n    }\n  }\n\n  getFileId(file) {\n    return file.id || file._id\n  }\n\n  loadNextSrc(lastError = null) {\n    const { status } = this.state\n\n    if (status === PENDING) this.loadLink()\n    else if (status === LOADING_LINK) this.loadFallback()\n    else if (status === LOADING_FALLBACK) {\n      // eslint-disable-next-line no-console\n      console.warn('failed loading thumbnail', lastError)\n      this.setState({ status: FAILED })\n      this.props.onError(lastError)\n    }\n  }\n\n  checkImageSource(src) {\n    const cleanImageLoader = () => {\n      clearTimeout(this.timeout)\n      this.img.onload = this.img.onerror = null\n      this.img.src = ''\n      this.img = null\n    }\n\n    return new Promise((resolve, reject) => {\n      this.img = new Image()\n      this.img.onload = resolve\n      this.img.onerror = reject\n      this.img.src = src\n      this.timeout = setTimeout(\n        () => reject(new Error('Loading image took too long')),\n        TTL\n      )\n    }).then(cleanImageLoader, cleanImageLoader)\n  }\n\n  async getFileLinks(file) {\n    if (file.links) return file.links\n    else {\n      const response = await cozy.client.files.statById(\n        this.getFileId(file),\n        false\n      )\n      if (!response.links) throw new Error('Could not fetch file links')\n      return response.links\n    }\n  }\n\n  async loadLink() {\n    this.setState({ status: LOADING_LINK })\n    const { file, size } = this.props\n    const { client } = this.context\n\n    try {\n      const links = await this.getFileLinks(file, size)\n      const link = links[size]\n\n      if (!link) throw new Error(`${size} link is not available`)\n\n      const src = client.options.uri + link\n      await this.checkImageSource(src)\n      if (this._mounted) {\n        this.setState({\n          status: LOADED,\n          src\n        })\n      }\n    } catch (e) {\n      this.loadNextSrc(e)\n    }\n  }\n\n  async loadFallback() {\n    this.setState({ status: LOADING_FALLBACK })\n    const { file } = this.props\n\n    try {\n      const src = await this.getDownloadLink(this.getFileId(file))\n      await this.checkImageSource(src)\n      if (this._mounted) {\n        this.setState({\n          status: LOADED,\n          src\n        })\n      }\n    } catch (e) {\n      this.loadNextSrc(e)\n    }\n  }\n\n  getDownloadLink(fileId) {\n    return this.context.client\n      ? this.context.client\n          .collection('io.cozy.files')\n          .getDownloadLinkById(fileId)\n      : cozy.client.files\n          .getDownloadLinkById(fileId)\n          .then(path => `${cozy.client._url}${path}`)\n  }\n\n  render() {\n    const { src } = this.state\n    const { render, renderFallback } = this.props\n\n    if (src) return render(src)\n    else if (renderFallback) return renderFallback()\n    else return null\n  }\n}\n\nImageLoader.propTypes = {\n  file: PropTypes.object.isRequired,\n  render: PropTypes.func.isRequired,\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n  onError: PropTypes.func,\n  renderFallback: PropTypes.func\n}\n\nImageLoader.defaultProps = {\n  size: 'small',\n  onError: () => {}\n}\n\nexport default ImageLoader\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-folder-add_a1fa6e49fd974460541f6bfb076d37da\",\n  \"use\": \"icon-folder-add_a1fa6e49fd974460541f6bfb076d37da-usage\",\n  \"viewBox\": \"0 0 17 16\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 17 16\\\" id=\\\"icon-folder-add_a1fa6e49fd974460541f6bfb076d37da\\\">\\n  <path fill-rule=\\\"evenodd\\\" d=\\\"M64,34.0068455 C64,33.4507801 64.4509752,33 64.990778,33 L69.5089948,33 C69.7801695,33 70.1569366,33.1569366 70.3483734,33.3483734 L71.6516266,34.6516266 C71.8440279,34.8440279 72.2307968,35 72.5004358,35 L79.0029699,35 C79.5536144,35 80,35.455761 80,36.0024733 L80,44.9914698 C80,46.1007504 79.1054862,47 78.0059397,47 L65.9940603,47 C64.8927712,47 64,46.1029399 64,44.9941413 L64,34.0068455 Z M73,37 L75,37 L75,40 L78,40 L78,42 L75,42 L75,45 L73,45 L73,42 L70,42 L70,40 L73,40 L73,37 Z\\\" transform=\\\"translate(-64 -32)\\\" />\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React, { Component } from 'react'\nimport Spinner from 'cozy-ui/react/Spinner'\nimport styles from 'drive/styles/filenameinput.styl'\n\nconst ENTER_KEY = 13\nconst ESC_KEY = 27\n\nconst valueIsEmpty = value => value.toString() === ''\n\nexport default class FilenameInput extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      value: props.name || '',\n      working: false,\n      error: false,\n      hasBeenSubmitedOrAborted: false\n    }\n  }\n\n  componentDidMount() {\n    this.textInput.focus()\n  }\n\n  handleKeyDown(e) {\n    if (e.keyCode === ENTER_KEY && !valueIsEmpty(this.state.value)) {\n      this.setState({ hasBeenSubmitedOrAborted: true })\n      this.submit()\n    } else if (e.keyCode === ESC_KEY) {\n      this.setState({ hasBeenSubmitedOrAborted: true })\n      this.abort()\n    }\n  }\n\n  handleChange(e) {\n    const value = e.target.value\n    this.setState({ value })\n    this.props.onChange && this.props.onChange(value)\n  }\n\n  handleBlur() {\n    // On top of \"normal\" blurs, the event happens all the time after a submit or an abort, because this component is removed from the DOM while having the focus.\n    // we want to do things only on \"normal\" blurs, *not* after a submit/abort\n    if (!this.state.hasBeenSubmitedOrAborted) {\n      // when it's a regular blur, we want to abort, except is the value is non-empty\n      if (valueIsEmpty(this.state.value)) this.abort(true)\n      else this.submit()\n    }\n  }\n\n  submit() {\n    this.setState({ working: true, error: false })\n    this.props.onSubmit &&\n      this.props\n        .onSubmit(this.state.value)\n        .then(() => this.setState({ working: false }))\n        .catch(() =>\n          this.setState({\n            working: false,\n            error: true\n          })\n        )\n  }\n\n  abort(accidental = false) {\n    this.props.onAbort && this.props.onAbort(accidental)\n  }\n\n  render() {\n    const { value, working, error } = this.state\n    return (\n      <div data-test-id=\"name-input\" className={styles['fil-file-name-input']}>\n        <input\n          type=\"text\"\n          value={value}\n          ref={input => {\n            this.textInput = input\n          }}\n          disabled={working}\n          onChange={e => this.handleChange(e)}\n          onBlur={() => this.handleBlur()}\n          onKeyDown={e => this.handleKeyDown(e)}\n          className={error ? styles['error'] : null}\n        />\n        {working && <Spinner />}\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport flow from 'lodash/flow'\nimport { queryConnect, withClient } from 'cozy-client'\n\nimport { Contact, Group } from 'models'\nimport { contactsResponseType, groupsResponseType } from 'sharing/propTypes'\nimport SharingContext from 'sharing/context'\nimport ContactsAndGroupsDataLoader from 'sharing/components/ContactsAndGroupsDataLoader'\nimport { default as DumbShareModal } from 'sharing/components/ShareModal'\n\nconst EditableSharingModal = ({\n  client,\n  contacts,\n  document,\n  groups,\n  ...rest\n}) => {\n  return (\n    <ContactsAndGroupsDataLoader contacts={contacts} groups={groups}>\n      <SharingContext.Consumer>\n        {({\n          documentType,\n          isOwner,\n          getRecipients,\n          getSharingLink,\n          share,\n          revoke,\n          shareByLink,\n          revokeSharingLink,\n          hasSharedParent,\n          hasSharedChild\n        }) => (\n          <DumbShareModal\n            document={document}\n            documentType={documentType}\n            contacts={contacts}\n            createContact={contact => client.create(Contact.doctype, contact)}\n            groups={groups}\n            recipients={getRecipients(document.id)}\n            link={getSharingLink(document.id)}\n            isOwner={isOwner(document.id)}\n            hasSharedParent={hasSharedParent(document)}\n            hasSharedChild={hasSharedChild(document)}\n            onShare={share}\n            onRevoke={revoke}\n            onShareByLink={shareByLink}\n            onRevokeLink={revokeSharingLink}\n            {...rest}\n          />\n        )}\n      </SharingContext.Consumer>\n    </ContactsAndGroupsDataLoader>\n  )\n}\n\nEditableSharingModal.propTypes = {\n  client: PropTypes.object.isRequired,\n  document: PropTypes.object,\n  contacts: contactsResponseType.isRequired,\n  groups: groupsResponseType.isRequired\n}\n\nconst contactsQuery = client =>\n  client\n    .all(Contact.doctype)\n    .where({\n      _id: {\n        $gt: null\n      },\n      trashed: {\n        $or: [{ $eq: false }, { $exists: false }]\n      },\n      $or: [\n        {\n          cozy: {\n            $not: {\n              $size: 0\n            }\n          }\n        },\n        {\n          email: {\n            $not: {\n              $size: 0\n            }\n          }\n        }\n      ]\n    })\n    .indexFields(['_id'])\n\nconst groupsQuery = client => client.all(Group.doctype)\n\nexport default flow(\n  queryConnect({\n    contacts: {\n      query: contactsQuery,\n      as: 'contacts'\n    },\n    groups: {\n      query: groupsQuery,\n      as: 'groups'\n    }\n  }),\n  withClient\n)(EditableSharingModal)\n","/* global cozy */\nimport React from 'react'\n\nimport Embeder from './Embeder'\nimport URLGetter from './URLGetter'\nimport SuggestionProvider from './SuggestionProvider'\nimport Picker from './Picker/'\n\nclass IntentHandler extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      component: null,\n      service: null,\n      intent: null\n    }\n  }\n\n  componentDidMount() {\n    this.startService()\n  }\n\n  async startService() {\n    const { intentId } = this.props\n\n    let component\n    let service\n    let intent\n    try {\n      service = await cozy.client.intents.createService(intentId, window)\n      intent = service.getIntent()\n\n      if (\n        intent.attributes.action === 'OPEN' &&\n        intent.attributes.type === 'io.cozy.suggestions'\n      ) {\n        component = SuggestionProvider\n      } else if (\n        intent.attributes.action === 'OPEN' &&\n        intent.attributes.type === 'io.cozy.files'\n      ) {\n        component = Embeder\n      } else if (\n        intent.attributes.action === 'PICK' &&\n        intent.attributes.type === 'io.cozy.files'\n      ) {\n        component = Picker\n      } else if (intent.attributes.action === 'GET_URL') {\n        component = URLGetter\n      }\n\n      this.setState({\n        component,\n        service,\n        intent\n      })\n    } catch (error) {\n      service.throw(error)\n    }\n  }\n\n  render() {\n    const { service, intent } = this.state\n    const ServiceComponent = this.state.component\n\n    return ServiceComponent ? (\n      <ServiceComponent service={service} intent={intent} />\n    ) : null\n  }\n}\n\nexport default IntentHandler\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { translate } from 'cozy-ui/react/I18n'\nimport { Button, Alerter } from 'cozy-ui/transpiled/react'\nimport { logException } from 'drive/lib/reporter'\nimport { isMobileApp } from 'cozy-device-helper'\nimport CallToAction from './CallToAction'\nimport FileIcon from './FileIcon'\n\nimport { openLocalFileCopy } from 'drive/mobile/modules/offline/duck'\n\nimport styles from '../styles.styl'\n\nclass AsyncActionButton extends React.Component {\n  state = {\n    loading: false\n  }\n\n  onClick = async () => {\n    const { onClick, onError } = this.props\n    this.setState(state => ({ ...state, loading: true }))\n    try {\n      await onClick()\n    } catch (error) {\n      onError(error)\n    }\n    this.setState(state => ({ ...state, loading: false }))\n  }\n\n  render() {\n    const { label, className } = this.props\n    return (\n      <Button\n        busy={this.state.loading}\n        className={className}\n        onClick={this.onClick}\n        label={label}\n      />\n    )\n  }\n}\n\nconst OpenWithCordovaButton = connect(\n  null,\n  (dispatch, ownProps) => ({\n    openLocalFileCopy: () => dispatch(openLocalFileCopy(ownProps.file))\n  })\n)(({ t, openLocalFileCopy, onError }) => (\n  <AsyncActionButton\n    className={styles['pho-viewer-noviewer-download']}\n    onClick={openLocalFileCopy}\n    onError={onError}\n    label={t('Viewer.noviewer.openWith')}\n  />\n))\n\nconst OpenWithWebButton = ({ t, url }) => (\n  <Button\n    className={styles['pho-viewer-noviewer-download']}\n    onClick={() => window.open(url, '_system')}\n    label={t('Viewer.noviewer.openWith')}\n  />\n)\n\nconst DownloadButton = ({ t, file }, { client }) => (\n  <Button\n    className={styles['pho-viewer-noviewer-download']}\n    onClick={() => client.collection('io.cozy.files').download(file)}\n    label={t('Viewer.noviewer.download')}\n  />\n)\n\nDownloadButton.contextTypes = {\n  client: PropTypes.object.isRequired\n}\n\nconst NoViewerButton = ({ file, fallbackUrl, t, onError }) => {\n  if (isMobileApp())\n    return <OpenWithCordovaButton t={t} file={file} onError={onError} />\n  else if (fallbackUrl) return <OpenWithWebButton t={t} url={fallbackUrl} />\n  else return <DownloadButton t={t} file={file} />\n}\n\nclass NoViewer extends React.Component {\n  state = {\n    error: null\n  }\n  render() {\n    const { t, file, fallbackUrl = false } = this.props\n    return (\n      <div\n        data-test-id=\"viewer-noviewer\"\n        className={styles['pho-viewer-noviewer']}\n      >\n        <FileIcon type={file.class} />\n        <p className={styles['pho-viewer-filename']}>{file.name}</p>\n        <NoViewerButton\n          file={file}\n          fallbackUrl={fallbackUrl}\n          t={t}\n          onError={error => {\n            if (/^Activity not found/.test(error.message)) {\n              Alerter.error('Viewer.error.noapp', error)\n            } else {\n              logException(error)\n              Alerter.error('Viewer.error.generic', error)\n            }\n          }}\n        />\n        <CallToAction t={t} />\n      </div>\n    )\n  }\n}\n\nexport default translate()(NoViewer)\n","import { DOCTYPE_APPS, DOCTYPE_FILES } from 'drive/lib/doctypes'\n\nexport const REF_PHOTOS = `${DOCTYPE_APPS}/photos`\nexport const REF_UPLOAD = `${DOCTYPE_APPS}/photos/upload`\nexport const REF_BACKUP = `${DOCTYPE_APPS}/photos/mobile`\n\nexport const getReferencedFolders = async (client, reference) => {\n  const { included } = await client.collection(DOCTYPE_FILES).findReferencedBy({\n    _type: DOCTYPE_APPS,\n    _id: reference\n  })\n  return included.filter(\n    folder => /^\\/\\.cozy_trash/.test(folder.attributes.path) === false\n  )\n}\n\nexport const getOrCreateFolderWithReference = async (\n  client,\n  path,\n  reference\n) => {\n  const existingFolders = await getReferencedFolders(client, reference)\n\n  if (existingFolders.length) {\n    return existingFolders[0]\n  } else {\n    const collection = client.collection(DOCTYPE_FILES)\n    const dirId = await collection.ensureDirectoryExists(path)\n    await collection.addReferencesTo(\n      {\n        _id: reference,\n        _type: DOCTYPE_APPS\n      },\n      [\n        {\n          _id: dirId\n        }\n      ]\n    )\n\n    const { data: dirInfos } = await collection.get(dirId)\n\n    return dirInfos\n  }\n}\n","import { getServerUrl } from 'drive/mobile/modules/settings/duck'\n\nconst getProp = (state, key) => {\n  if (\n    state.mobile &&\n    state.mobile.authorization &&\n    state.mobile.authorization[key] !== undefined\n  ) {\n    return state.mobile.authorization[key]\n  }\n  return undefined\n}\n\nexport const isAuthorized = state => getProp(state, 'authorized')\nexport const isRevoked = state => getProp(state, 'revoked')\nexport const getToken = state => getProp(state, 'token')\nexport const getClientSettings = state => getProp(state, 'client')\nexport const getOnboardingInformations = state => getProp(state, 'onboarding')\nexport const isClientRevoked = (error, state) => {\n  return (\n    getServerUrl(state) &&\n    (error.status === 404 ||\n      error.status === 401 ||\n      error.message.match(/Client has been revoked/))\n  )\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"shared-tooltip\":\"shared-tooltip--RvIBh\",\"shared-tooltip-list\":\"shared-tooltip-list--VnQfr\"};","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-link_784d8d07b6c9bf8edf4207327b6add94\",\n  \"use\": \"icon-link_784d8d07b6c9bf8edf4207327b6add94-usage\",\n  \"viewBox\": \"0 0 16 16\",\n  \"content\": \"<symbol viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"icon-link_784d8d07b6c9bf8edf4207327b6add94\\\">\\n    <defs>\\n        <path d=\\\"M8.87940867,3.87953579 C8.48888438,4.27006009 7.8557194,4.27006009 7.46519511,3.87953579 C7.07467081,3.4890115 7.07467081,2.85584652 7.46519511,2.46532223 L9.05304103,0.877476309 C10.2226142,-0.292096843 12.1218341,-0.292252339 13.289659,0.875572597 L14.4691583,2.05507187 C15.6394269,3.22534048 15.6355011,5.12344332 14.4628542,6.29609024 L10.9986358,9.7603087 C9.4643126,11.2946319 6.92867661,11.3430173 5.46519511,9.87953579 C5.07467081,9.4890115 5.07467081,8.85584652 5.46519511,8.46532223 C5.8557194,8.07479794 6.48888438,8.07479794 6.87940867,8.46532223 C7.54950929,9.13542285 8.81932532,9.11119201 9.5844222,8.34609513 L13.0486407,4.88187668 C13.4415455,4.48897179 13.4428522,3.85719292 13.0549447,3.46928543 L11.8754455,2.28978616 C11.488721,1.90306165 10.855831,1.90311347 10.4672546,2.29168987 L8.87940867,3.87953579 Z M6.46519511,11.4653222 C6.8557194,11.0747979 7.48888438,11.0747979 7.87940867,11.4653222 C8.26993296,11.8558465 8.26993296,12.4890115 7.87940867,12.8795358 L6.29156275,14.4673817 C5.12198959,15.6369549 3.22276968,15.6371104 2.05494474,14.4692854 L0.875445471,13.2897862 C-0.294823143,12.1195175 -0.290897366,10.2214147 0.881749556,9.04876778 L4.34596801,5.58454933 C5.88029117,4.05022616 8.41592716,4.00184073 9.87940867,5.46532223 C10.269933,5.85584652 10.269933,6.4890115 9.87940867,6.87953579 C9.48888438,7.27006009 8.8557194,7.27006009 8.46519511,6.87953579 C7.79509448,6.20943517 6.52527845,6.23366601 5.76018157,6.99876289 L2.29596312,10.4629813 C1.90305823,10.8558862 1.90175154,11.4876651 2.28965903,11.8755726 L3.4691583,13.0550719 C3.85588281,13.4417964 4.48877278,13.4417446 4.87734918,13.0531682 L6.46519511,11.4653222 Z\\\" id=\\\"icon-link_784d8d07b6c9bf8edf4207327b6add94_path-1\\\" />\\n    </defs>\\n    <g id=\\\"icon-link_784d8d07b6c9bf8edf4207327b6add94_-icons\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill-rule=\\\"evenodd\\\">\\n        <g id=\\\"icon-link_784d8d07b6c9bf8edf4207327b6add94_icons/16/link\\\">\\n            <mask id=\\\"icon-link_784d8d07b6c9bf8edf4207327b6add94_mask-2\\\">\\n                <use xlink:href=\\\"#icon-link_784d8d07b6c9bf8edf4207327b6add94_path-1\\\" />\\n            </mask>\\n            <use id=\\\"icon-link_784d8d07b6c9bf8edf4207327b6add94_Mask\\\" fill-rule=\\\"nonzero\\\" xlink:href=\\\"#icon-link_784d8d07b6c9bf8edf4207327b6add94_path-1\\\" />\\n        </g>\\n    </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react'\nimport PropTypes from 'prop-types'\nimport ReactTooltip from 'react-tooltip'\nimport styles from './tooltip.styl'\n\nexport const SharingTooltip = props => (\n  <ReactTooltip\n    place=\"bottom\"\n    effect=\"solid\"\n    className={styles['shared-tooltip']}\n    {...props}\n  >\n    {props.children}\n  </ReactTooltip>\n)\n// accepts all the props from https://github.com/wwayne/react-tooltip#options\n\nexport class TooltipRecipientList extends React.Component {\n  static contextTypes = {\n    t: PropTypes.func.isRequired\n  }\n  render() {\n    const { t } = this.context\n    const { recipientNames, cutoff = 4 } = this.props\n\n    return (\n      <ul className={styles['shared-tooltip-list']}>\n        {recipientNames.slice(0, cutoff).map(name => (\n          <li key={`key_name_${name}`}>{name}</li>\n        ))}\n        {recipientNames.length > cutoff && (\n          <li>\n            {t('Share.members.others', {\n              smart_count: recipientNames.slice(cutoff).length\n            })}\n          </li>\n        )}\n      </ul>\n    )\n  }\n}\n\nTooltipRecipientList.propTypes = {\n  recipientNames: PropTypes.arrayOf(PropTypes.string),\n  cutoff: PropTypes.number\n}\nTooltipRecipientList.defaultProps = {\n  recipientNames: [],\n  cutoff: 4\n}\n","import {\n  SET_OFFLINE,\n  SET_URL,\n  BACKUP_IMAGES,\n  BACKUP_CONTACTS,\n  SET_ANALYTICS,\n  WIFI_ONLY\n} from './actions'\n\nconst initialState = {\n  serverUrl: '',\n  offline: false,\n  analytics: false,\n  backupImages: false,\n  wifiOnly: true\n}\n\nconst settings = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_URL:\n      return { ...state, serverUrl: action.url }\n    case SET_OFFLINE:\n      return { ...state, offline: action.offline }\n    case SET_ANALYTICS:\n      return { ...state, analytics: action.analytics }\n    case BACKUP_IMAGES:\n      return { ...state, backupImages: action.backupImages }\n    case BACKUP_CONTACTS:\n      return { ...state, backupContacts: action.backupContacts }\n    case WIFI_ONLY:\n      return { ...state, wifiOnly: action.wifiOnly }\n    default:\n      return state\n  }\n}\n\nexport default settings\n\nconst getSetting = (state, key) => {\n  if (\n    state.mobile &&\n    state.mobile.settings &&\n    state.mobile.settings[key] !== undefined\n  ) {\n    return state.mobile.settings[key]\n  }\n  return undefined\n}\n\nexport const getServerUrl = state => getSetting(state, 'serverUrl')\nexport const isOfflineCapable = state => getSetting(state, 'offline')\nexport const isImagesBackupOn = state => getSetting(state, 'backupImages')\nexport const isWifiOnlyOn = state => getSetting(state, 'wifiOnly')\nexport const isAnalyticsOn = state => getSetting(state, 'analytics')\n","import React from 'react'\nimport { translate } from 'cozy-ui/react/I18n'\nimport { Empty, Button } from 'cozy-ui/react'\nimport EmptyIcon from '../../drive/assets/icons/icon-folder-broken.svg'\nimport styles from './oops.styl'\n\nconst reload = () => {\n  window.location.reload()\n}\n\nconst Oops = ({ t }) => (\n  <Empty\n    title={t('error.open_folder')}\n    icon={EmptyIcon}\n    className={styles['oops']}\n  >\n    <Button onClick={reload} label={t('error.button.reload')} />\n  </Empty>\n)\n\nexport default translate()(Oops)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport FilenameInput from 'drive/web/modules/filelist/FilenameInput'\nimport { getUpdatedName, rename, updateFileName, abortRenaming } from './rename'\n\nconst RenameInput = ({ name, updateRenaming, rename, abortRenaming }) => (\n  <FilenameInput\n    name={name}\n    onChange={updateRenaming}\n    onSubmit={rename}\n    onAbort={abortRenaming}\n  />\n)\n\nconst mapStateToProps = state => ({\n  name: getUpdatedName(state)\n})\n\nconst mapDispatchToProps = dispatch => ({\n  updateRenaming: name => dispatch(updateFileName(name)),\n  rename: () => dispatch(rename()),\n  abortRenaming: () => dispatch(abortRenaming())\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(RenameInput)\n","import { resetClient } from 'drive/mobile/lib/cozy-helper'\nimport { resetPersistedState } from 'drive/store/persistedState'\n\nexport const SET_TOKEN = 'SET_TOKEN'\nexport const SET_CLIENT = 'SET_CLIENT'\nexport const REVOKE = 'REVOKE'\nexport const UNREVOKE = 'UNREVOKE'\nexport const UNLINK = 'UNLINK'\nexport const SET_ONBOARDING = 'SET_ONBOARDING'\nexport const setClient = client => ({ type: SET_CLIENT, client })\nexport const setToken = token => ({ type: SET_TOKEN, token })\n\nexport const revokeClient = () => ({ type: REVOKE })\nexport const unrevokeClient = () => ({ type: UNREVOKE })\n\nexport const unlink = (client, clientInfo) => async dispatch => {\n  resetClient(client, clientInfo)\n  await resetPersistedState()\n  // This action will be handled by the rootReducer: the store will be restored to its initial state\n  return dispatch({ type: UNLINK })\n}\n\nexport const setOnboarding = ({ code, state, cozy_url }) => ({\n  type: SET_ONBOARDING,\n  code,\n  state,\n  cozy_url\n})\n","import PropTypes from 'prop-types'\n\nimport { Contact, Group } from 'models'\n\nexport const contactsResponseType = PropTypes.shape({\n  count: PropTypes.number,\n  data: PropTypes.arrayOf(Contact.propType),\n  definition: PropTypes.object,\n  fetchMore: PropTypes.func,\n  fetchStatus: PropTypes.string,\n  hasMore: PropTypes.bool,\n  id: PropTypes.string,\n  lastError: PropTypes.string,\n  lastFetch: PropTypes.number,\n  lastUpdate: PropTypes.number\n})\n\nexport const groupsResponseType = PropTypes.shape({\n  count: PropTypes.number,\n  data: PropTypes.arrayOf(Group.propType),\n  definition: PropTypes.object,\n  fetchMore: PropTypes.func,\n  fetchStatus: PropTypes.string,\n  hasMore: PropTypes.bool,\n  id: PropTypes.string,\n  lastError: PropTypes.string,\n  lastFetch: PropTypes.number,\n  lastUpdate: PropTypes.number\n})\n","import React, { PureComponent } from 'react'\nimport PropTypes from 'prop-types'\nimport Recipient from './Recipient'\nimport { SubTitle } from 'cozy-ui/react'\n\nclass WhoHasAccess extends PureComponent {\n  static contextTypes = {\n    t: PropTypes.func.isRequired\n  }\n  render() {\n    const {\n      isOwner = false,\n      recipients,\n      document,\n      documentType,\n      onRevoke,\n      className\n    } = this.props\n    const { t } = this.context\n\n    return (\n      <div className={className}>\n        {recipients.length > 1 && (\n          <SubTitle>\n            {t(`${documentType}.share.whoHasAccess.title`, {\n              smart_count: recipients.length\n            })}\n          </SubTitle>\n        )}\n        {recipients.map((recipient, index) => (\n          <Recipient\n            {...recipient}\n            key={`key_r_${index}`}\n            isOwner={isOwner}\n            document={document}\n            documentType={documentType}\n            onRevoke={onRevoke}\n          />\n        ))}\n      </div>\n    )\n  }\n}\n\nexport default WhoHasAccess\n","import React from 'react'\n\nimport withFileUrl from './withFileUrl'\nimport styles from './styles.styl'\n\nconst VideoViewer = ({ file, url }) => (\n  <div data-test-id=\"viewer-video\" className={styles['pho-viewer-videoviewer']}>\n    <video src={url} controls=\"controls\" />\n    <p className={styles['pho-viewer-filename']}>{file.name}</p>\n  </div>\n)\n\nexport default withFileUrl(VideoViewer)\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-pen-write-16_2d81809ca299a1197d20de636609807e\",\n  \"use\": \"icon-pen-write-16_2d81809ca299a1197d20de636609807e-usage\",\n  \"viewBox\": \"0 0 16 16\",\n  \"content\": \"<symbol viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"icon-pen-write-16_2d81809ca299a1197d20de636609807e\\\">\\n    <defs>\\n        <path d=\\\"M9.5,3.50347728 L12.5,6.50347728 L3.03771973,16.0034773 L0,16.0034773 L0,13.0288679 L9.5,3.50347728 Z M14.9121541,0.915631358 L15.0878459,1.0913232 C15.8637772,1.86725444 15.8697383,3.14159072 15.0922712,3.92874355 L14.0307617,5.00347728 L11,2.00347728 L12.0892639,0.914213423 C12.8691444,0.13433284 14.1322429,0.135720196 14.9121541,0.915631358 Z M7,14.0034773 L12.9970707,14.0034773 C13.5509732,14.0034773 14,14.4473421 14,15.0034773 C14,15.555762 13.5536886,16.0034773 13.0024554,16.0034773 L5,16.0034773 L7,14.0034773 Z\\\" id=\\\"icon-pen-write-16_2d81809ca299a1197d20de636609807e_path-1\\\" />\\n    </defs>\\n    <g id=\\\"icon-pen-write-16_2d81809ca299a1197d20de636609807e_icons/16/pen-write\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n        <mask id=\\\"icon-pen-write-16_2d81809ca299a1197d20de636609807e_mask-2\\\" fill=\\\"white\\\">\\n            <use xlink:href=\\\"#icon-pen-write-16_2d81809ca299a1197d20de636609807e_path-1\\\" />\\n        </mask>\\n        <use id=\\\"icon-pen-write-16_2d81809ca299a1197d20de636609807e_Mask\\\" fill=\\\"#95999d\\\" fill-opacity=\\\"0.5\\\" xlink:href=\\\"#icon-pen-write-16_2d81809ca299a1197d20de636609807e_path-1\\\" />\\n    </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react'\nimport { Icon } from 'cozy-ui/transpiled/react'\n\nimport withFileUrl from './withFileUrl'\nimport styles from './styles.styl'\nimport AudioIcon from './icons/icon-type-audio.svg'\n\nconst AudioViewer = ({ file, url }) => (\n  <div data-test-id=\"viewer-audio\" className={styles['pho-viewer-audioviewer']}>\n    <Icon icon={AudioIcon} width={160} height={140} />\n    <p className={styles['pho-viewer-filename']}>{file.name}</p>\n    <audio src={url} controls=\"controls\" />\n  </div>\n)\n\nexport default withFileUrl(AudioViewer)\n","import React from 'react'\nimport classNames from 'classnames'\nimport { ActionMenu, Icon } from 'cozy-ui/react'\nimport { translate } from 'cozy-ui/react/I18n'\nimport { splitFilename } from 'drive/web/modules/filelist/File'\nimport { isDirectory } from 'drive/web/modules/drive/files'\nimport getMimeTypeIcon from 'drive/lib/getMimeTypeIcon'\nimport MenuItem from './MenuItem'\n\nimport styles from 'drive/styles/actionmenu.styl'\n\nconst Menu = props => {\n  const { t, file, actions, onClose } = props\n  const actionNames = Object.keys(actions).filter(actionName => {\n    const action = actions[actionName]\n    return (\n      action.displayCondition === undefined || action.displayCondition([file])\n    )\n  })\n  return (\n    <ActionMenu className={styles['fil-mobileactionmenu']} onClose={onClose}>\n      <MenuHeaderFile file={file} />\n      <hr />\n      {actionNames.map(actionName => {\n        const Component = actions[actionName].Component || MenuItem\n        const action = actions[actionName].action\n        const onClick = !action\n          ? undefined\n          : () => {\n              const promise = action([file])\n              onClose()\n              return promise\n            }\n        return (\n          <Component\n            key={actionName}\n            className={styles[`fil-action-${actionName}`]}\n            onClick={onClick}\n            files={[file]}\n          >\n            {t(`SelectionBar.${actionName}`)}\n          </Component>\n        )\n      })}\n    </ActionMenu>\n  )\n}\n\nconst MenuHeaderFile = ({ file }) => {\n  const { filename, extension } = splitFilename(file)\n  return (\n    <div>\n      <div\n        className={classNames(\n          styles['fil-mobileactionmenu-header'],\n          'u-p-1',\n          'u-flex',\n          'u-flex-items-center'\n        )}\n      >\n        <Icon\n          icon={getMimeTypeIcon(isDirectory(file), file.name, file.mime)}\n          size={32}\n          className=\"u-mr-1\"\n        />\n        <span className={styles['fil-mobileactionmenu-file-name']}>\n          {filename}\n        </span>\n        <span className={styles['fil-mobileactionmenu-file-ext']}>\n          {extension}\n        </span>\n      </div>\n    </div>\n  )\n}\n\nexport default translate()(Menu)\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-hourglass-16_4d32835335eff7a3974a2aa8cf422ff6\",\n  \"use\": \"icon-hourglass-16_4d32835335eff7a3974a2aa8cf422ff6-usage\",\n  \"viewBox\": \"0 0 16 16\",\n  \"content\": \"<symbol viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"icon-hourglass-16_4d32835335eff7a3974a2aa8cf422ff6\\\">\\n    <defs>\\n        <path d=\\\"M3.00247329,2 C2.45576096,2 2,1.55228475 2,1 C2,0.443864822 2.44882258,0 3.00247329,0 L12.9975267,0 C13.544239,0 14,0.44771525 14,1 C14,1.55613518 13.5511774,2 12.9975267,2 L13,2 L13,3 C13,3.55613518 12.6840146,4.31598541 12.2942268,4.70577316 L9,8 L12.2942268,11.2942268 C12.6840146,11.6840146 13,12.4438648 13,13 L13,14 L12.9975267,14 C13.5511774,14 14,14.4438648 14,15 C14,15.5522847 13.544239,16 12.9975267,16 L3.00247329,16 C2.44882258,16 2,15.5561352 2,15 C2,14.4477153 2.45576096,14 3.00247329,14 L3,14 L3,13 C3,12.4477153 3.31277239,11.6872276 3.70577316,11.2942268 L7,8 L3.70577316,4.70577316 C3.31277239,4.31277239 3,3.55228475 3,3 L3,2 L3.00247329,2 Z M4.5,3 C4.5,3.55228475 4.83559471,4.28765261 5.25944787,4.65095532 L8,7 L10.7405521,4.65095532 C11.1599836,4.29144262 11.5,3.54681396 11.5,3 L4.5,3 Z\\\" id=\\\"icon-hourglass-16_4d32835335eff7a3974a2aa8cf422ff6_path-1\\\" />\\n    </defs>\\n    <g id=\\\"icon-hourglass-16_4d32835335eff7a3974a2aa8cf422ff6_-icons\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n        <g id=\\\"icon-hourglass-16_4d32835335eff7a3974a2aa8cf422ff6_icons/16/hourglass\\\">\\n            <mask id=\\\"icon-hourglass-16_4d32835335eff7a3974a2aa8cf422ff6_mask-2\\\" fill=\\\"white\\\">\\n                <use xlink:href=\\\"#icon-hourglass-16_4d32835335eff7a3974a2aa8cf422ff6_path-1\\\" />\\n            </mask>\\n            <use id=\\\"icon-hourglass-16_4d32835335eff7a3974a2aa8cf422ff6_Mask\\\" fill=\\\"#95999d\\\" fill-opacity=\\\"0.5\\\" xlink:href=\\\"#icon-hourglass-16_4d32835335eff7a3974a2aa8cf422ff6_path-1\\\" />\\n        </g>\\n    </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React, { Component } from 'react'\nimport classNames from 'classnames'\nimport Hammer from 'hammerjs'\nimport PropTypes from 'prop-types'\nimport ReactDOM from 'react-dom'\nimport { translate } from 'cozy-ui/react/I18n'\nimport { Button } from 'cozy-ui/react/Button'\n\nimport styles from './styles.styl'\n\nconst ACTIONS_HIDE_DELAY = 3000\n\nclass ViewerControls extends Component {\n  state = {\n    hidden: false,\n    gestures: null\n  }\n\n  static contextTypes = {\n    client: PropTypes.object.isRequired\n  }\n\n  _mounted = false\n\n  showControls = () => {\n    if (this._mounted) {\n      this.setState({ hidden: false })\n      this.hideAfterDelay()\n      document.removeEventListener('mousemove', this.showControls)\n      document.addEventListener('mousemove', this.hideAfterDelay)\n    }\n  }\n\n  hideControls = () => {\n    if (this._mounted) {\n      this.setState({ hidden: true })\n      document.removeEventListener('mousemove', this.hideAfterDelay)\n      document.addEventListener('mousemove', this.showControls)\n    }\n  }\n\n  onTap = () => {\n    if (this.state.hidden) this.showControls()\n    else this.hideAfterDelay()\n  }\n\n  hideAfterDelay = () => {\n    clearTimeout(this.hideTimeout)\n    this.hideTimeout = setTimeout(() => {\n      this.hideControls()\n    }, ACTIONS_HIDE_DELAY)\n  }\n\n  onSwipe = e => {\n    if (e.direction === Hammer.DIRECTION_LEFT) this.props.onNext()\n    else if (e.direction === Hammer.DIRECTION_RIGHT) this.props.onPrevious()\n  }\n\n  componentDidMount() {\n    this._mounted = true\n    clearTimeout(this.hideTimeout)\n    this.hideAfterDelay()\n    //eslint-disable-next-line react/no-find-dom-node\n    const gestures = new Hammer(ReactDOM.findDOMNode(this.wrapped))\n    gestures.on('swipe', this.onSwipe)\n    gestures.on('tap', this.onTap)\n    this.setState({ gestures })\n  }\n\n  componentWillUnmount() {\n    this._mounted = false\n    clearTimeout(this.hideTimeout)\n    if (this.state.gestures) this.state.gestures.destroy()\n  }\n\n  render() {\n    const {\n      t,\n      currentFile,\n      onClose,\n      hasPrevious,\n      hasNext,\n      onPrevious,\n      onNext,\n      isMobile,\n      expanded,\n      controls,\n      children,\n      isMobileApp\n    } = this.props\n    const { hidden } = this.state\n    const { client } = this.context\n\n    return (\n      <div\n        data-test-id=\"pho-viewer-controls\"\n        className={classNames(styles['pho-viewer-controls'], {\n          [styles['pho-viewer-controls--expanded']]: expanded\n        })}\n        ref={wrapped => {\n          this.wrapped = wrapped\n        }}\n      >\n        {controls && (\n          <div\n            data-test-id=\"viewer-toolbar\"\n            className={classNames(styles['pho-viewer-toolbar'], {\n              [styles['pho-viewer-toolbar--hidden']]: hidden,\n              [styles['pho-viewer-toolbar--mobilebrowser']]:\n                !isMobileApp && isMobile\n            })}\n            role=\"viewer-toolbar\"\n            onMouseEnter={this.showControls}\n            onMouseLeave={this.hideControls}\n          >\n            <div className={classNames(styles['pho-viewer-toolbar-actions'])}>\n              {!isMobile && (\n                <Button\n                  data-test-id=\"viewer-toolbar-download\"\n                  onClick={() => {\n                    client.collection('io.cozy.files').download(currentFile)\n                  }}\n                  icon=\"download\"\n                  label={t('Viewer.actions.download')}\n                  subtle\n                />\n              )}\n            </div>\n            {onClose && (\n              <div\n                className={styles['pho-viewer-toolbar-close']}\n                onClick={onClose}\n                title={t('Viewer.close')}\n              >\n                <Button\n                  data-test-id=\"btn-viewer-toolbar-close\"\n                  theme=\"secondary\"\n                  icon=\"cross\"\n                  color=\"white\"\n                  label={t('Viewer.close')}\n                  iconOnly\n                  extension=\"narrow\"\n                />\n              </div>\n            )}\n          </div>\n        )}\n        {controls &&\n          !isMobile &&\n          hasPrevious && (\n            <div\n              data-test-id=\"viewer-nav--previous\"\n              role=\"button\"\n              className={classNames(\n                styles['pho-viewer-nav'],\n                styles['pho-viewer-nav--previous'],\n                {\n                  [styles['pho-viewer-nav--visible']]: !hidden\n                }\n              )}\n              onClick={onPrevious}\n              onMouseEnter={this.showControls}\n              onMouseLeave={this.hideControls}\n            >\n              <div className={styles['pho-viewer-nav-arrow']} />\n            </div>\n          )}\n        {this.renderChildren(children)}\n        {controls &&\n          !isMobile &&\n          hasNext && (\n            <div\n              data-test-id=\"viewer-nav--next\"\n              role=\"button\"\n              className={classNames(\n                styles['pho-viewer-nav'],\n                styles['pho-viewer-nav--next'],\n                {\n                  [styles['pho-viewer-nav--visible']]: !hidden\n                }\n              )}\n              onClick={onNext}\n              onMouseEnter={this.showControls}\n              onMouseLeave={this.hideControls}\n            >\n              <div className={styles['pho-viewer-nav-arrow']} />\n            </div>\n          )}\n      </div>\n    )\n  }\n\n  renderChildren(children) {\n    if (!children) return null\n    return React.cloneElement(children, {\n      gestures: this.state.gestures,\n      gesturesRef: this.wrapped,\n      onSwipe: this.onSwipe\n    })\n  }\n}\nViewerControls.propTypes = {\n  currentFile: PropTypes.object.isRequired,\n  onClose: PropTypes.func.isRequired,\n  hasPrevious: PropTypes.bool.isRequired,\n  hasNext: PropTypes.bool.isRequired,\n  onPrevious: PropTypes.func.isRequired,\n  onNext: PropTypes.func.isRequired,\n  isMobile: PropTypes.bool.isRequired,\n  expanded: PropTypes.bool.isRequired,\n  controls: PropTypes.bool.isRequired,\n  isMobileApp: PropTypes.bool.isRequired\n}\nexport default translate()(ViewerControls)\n","/* global __DEVELOPMENT__, __TARGET__ */\nimport { compose, createStore, applyMiddleware } from 'redux'\nimport { createLogger } from 'redux-logger'\nimport RavenMiddleWare from 'redux-raven-middleware'\nimport {\n  shouldEnableTracking,\n  getTracker,\n  createTrackerMiddleware\n} from 'cozy-ui/react/helpers/tracker'\nimport thunkMiddleware from 'redux-thunk'\nimport createRootReducer from './rootReducer'\nimport { saveState } from './persistedState'\nimport { ANALYTICS_URL, getReporterConfiguration } from 'drive/lib/reporter'\n\nconst configureStore = (client, t, initialState = {}) => {\n  const middlewares = [thunkMiddleware.withExtraArgument({ client, t })]\n  if (__TARGET__ === 'mobile') {\n    middlewares.push(RavenMiddleWare(ANALYTICS_URL, getReporterConfiguration()))\n  }\n  if (shouldEnableTracking() && getTracker()) {\n    middlewares.push(createTrackerMiddleware())\n  }\n  middlewares.push(createLogger(loggerOptions()))\n\n  // Enable Redux dev tools\n  const composeEnhancers =\n    (__DEVELOPMENT__ && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose\n\n  const rootReducer = createRootReducer(client)\n\n  const store = createStore(\n    rootReducer,\n    initialState,\n    composeEnhancers(applyMiddleware(...middlewares))\n  )\n\n  if (__TARGET__ === 'mobile') {\n    store.subscribe(() =>\n      saveState({\n        mobile: {\n          authorization: store.getState().mobile.authorization,\n          settings: store.getState().mobile.settings,\n          replication: store.getState().mobile.replication,\n          mediaBackup: {\n            uploaded: store.getState().mobile.mediaBackup.uploaded\n          }\n        },\n        availableOffline: store.getState().availableOffline\n      })\n    )\n  }\n\n  client.setStore(store)\n\n  return store\n}\n\nconst loggerOptions = () =>\n  __DEVELOPMENT__\n    ? {}\n    : {\n        level: {\n          prevState: false,\n          nextState: false\n        }\n      }\n\nexport default configureStore\n","/* global cozy */\nimport React from 'react'\nimport FuzzyPathSearch from '../FuzzyPathSearch'\nimport { getFileMimetype } from 'drive/lib/getFileMimetype'\n\nconst TYPE_DIRECTORY = 'directory'\n\nclass SuggestionProvider extends React.Component {\n  componentDidMount() {\n    const { intent } = this.props\n    this.hasIndexedFiles = false\n\n    // re-attach the message listener for the intent to receive the suggestion requests\n    window.addEventListener('message', event => {\n      if (event.origin !== intent.attributes.client) return null\n      const { query, id } = event.data\n      // sometimes we get messages with undefined query & id, no idea why\n      if (query && id) {\n        this.provideSuggestions(query, id, intent)\n      }\n    })\n  }\n\n  async provideSuggestions(query, id, intent) {\n    if (!this.hasIndexedFiles) {\n      await this.indexFiles()\n    }\n\n    const searchResults = this.fuzzyPathSearch.search(query)\n\n    window.parent.postMessage(\n      {\n        type: `intent-${intent._id}:data`,\n        id,\n        suggestions: searchResults.map(result => ({\n          id: result.id,\n          title: result.name,\n          subtitle: result.path,\n          term: result.name,\n          onSelect: 'open:' + result.url,\n          icon: result.icon\n        }))\n      },\n      intent.attributes.client\n    )\n  }\n\n  // fetches pretty much all the files and preloads FuzzyPathSearch\n  async indexFiles() {\n    return new Promise(async resolve => {\n      const resp = await cozy.client.fetchJSON(\n        'GET',\n        `/data/io.cozy.files/_all_docs?include_docs=true`\n      )\n      const files = resp.rows\n        .filter(row => !row.doc.hasOwnProperty('views'))\n        .map(row => ({ id: row.id, ...row.doc }))\n\n      const folders = files.filter(file => file.type === TYPE_DIRECTORY)\n\n      const notInTrash = file =>\n        !file.trashed && !/^\\/\\.cozy_trash/.test(file.path)\n      const notOrphans = file =>\n        folders.find(folder => folder._id === file.dir_id) !== undefined\n\n      const normalizedFiles = files\n        .filter(notInTrash)\n        .filter(notOrphans)\n        .map(file => {\n          const isDir = file.type === TYPE_DIRECTORY\n          const dirId = isDir ? file._id : file.dir_id\n          const urlToFolder = `${window.location.origin}/#/folder/${dirId}`\n\n          let path, url\n          if (isDir) {\n            path = file.path\n            url = urlToFolder\n          } else {\n            const parentDir = folders.find(folder => folder._id === file.dir_id)\n            path = parentDir && parentDir.path ? parentDir.path : ''\n            url = `${urlToFolder}/file/${file._id}`\n          }\n\n          return {\n            id: file._id,\n            name: file.name,\n            path,\n            url,\n            icon: getIconUrl(file)\n          }\n        })\n\n      this.fuzzyPathSearch = new FuzzyPathSearch(normalizedFiles)\n      this.hasIndexedFiles = true\n      resolve()\n    })\n  }\n\n  render() {\n    return null\n  }\n}\n\nconst iconsContext = require.context(\n  'drive/assets/icons/',\n  false,\n  /icon-type-.*.svg$/\n)\n\nconst icons = iconsContext.keys().reduce((acc, item) => {\n  acc[item.replace(/\\.\\/icon-type-(.*)\\.svg/, '$1')] = iconsContext(item)\n  return acc\n}, {})\n\nfunction getIconUrl(file) {\n  const keyIcon =\n    file.type === TYPE_DIRECTORY\n      ? 'folder'\n      : getFileMimetype(icons)(file.mime, file.name) || 'files'\n\n  const icon = icons[keyIcon].default\n\n  return `data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='${\n    icon.viewBox\n  }'>${icon.content}<use href='#${\n    icon.id\n  }' x='0' y='0' width='32' height='32'/></svg>`.replace(/#/g, '%23')\n}\n\nexport default SuggestionProvider\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { Provider } from 'react-redux'\nimport configureStore from 'drive/store/configureStore'\n\nconst withReduxStore = WrappedComponent => {\n  class WithReduxStore extends Component {\n    static contextTypes = {\n      t: PropTypes.func.isRequired,\n      client: PropTypes.object.isRequired\n    }\n    render() {\n      const { client, t } = this.context\n      const store = configureStore(client, t)\n\n      return (\n        <Provider store={store}>\n          <WrappedComponent {...this.props} />\n        </Provider>\n      )\n    }\n  }\n  WithReduxStore.displayName = `WithReduxStore(${WrappedComponent.displayName ||\n    WrappedComponent.name ||\n    'Component'})`\n  return WithReduxStore\n}\n\nexport default withReduxStore\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"u-shake\":\"u-shake--1_JDP\",\"shake\":\"shake--Y2Op3\",\"u-o-100\":\"u-o-100--2d2Nz\",\"u-o-90\":\"u-o-90--31pSb\",\"u-o-80\":\"u-o-80--3Ihkd\",\"u-o-70\":\"u-o-70--YQ27F\",\"u-o-60\":\"u-o-60--nEE6D\",\"u-o-50\":\"u-o-50--3dLGa\",\"u-o-40\":\"u-o-40--imJPw\",\"u-o-30\":\"u-o-30--IxP_u\",\"u-o-20\":\"u-o-20--32XM7\",\"u-o-10\":\"u-o-10--1iaz5\",\"u-o-05\":\"u-o-05--atgef\",\"u-o-025\":\"u-o-025--3L2f7\",\"u-o-0\":\"u-o-0--1NtAo\",\"shared-badge\":\"shared-badge--2cmgU\",\"--small\":\"_--small--thdoQ\",\"shared-badge-icon\":\"shared-badge-icon--V-RtM\",\"--xsmall\":\"_--xsmall--3hL0z\",\"--by-me\":\"_--by-me--3gc-L\",\"--with-me\":\"_--with-me--32UlG\",\"spin\":\"spin--2woLM\"};","import React from 'react'\nimport PropTypes from 'prop-types'\nimport copy from 'copy-text-to-clipboard'\nimport Toggle from 'cozy-ui/react/Toggle'\nimport { Spinner, SubTitle } from 'cozy-ui/react'\nimport Alerter from 'cozy-ui/react/Alerter'\nimport cx from 'classnames'\nimport styles from '../share.styl'\nimport palette from 'cozy-ui/react/palette'\n\nclass ShareByLink extends React.Component {\n  static contextTypes = {\n    t: PropTypes.func.isRequired\n  }\n\n  state = {\n    loading: false\n  }\n\n  toggleShareLink = checked => {\n    if (checked) {\n      this.createShareLink()\n    } else {\n      this.deleteShareLink()\n    }\n  }\n\n  copyLinkToClipboard = () => {\n    if (copy(this.props.link))\n      Alerter.success(`${this.props.documentType}.share.shareByLink.copied`)\n    else Alerter.error(`${this.props.documentType}.share.shareByLink.failed`)\n  }\n\n  async createShareLink() {\n    try {\n      this.setState(state => ({ ...state, loading: true }))\n      await this.props.onEnable(this.props.document)\n    } catch (e) {\n      Alerter.error(`${this.props.documentType}.share.error.generic`)\n      // eslint-disable-next-line no-console\n      console.log(e)\n    } finally {\n      this.setState(state => ({ ...state, loading: false }))\n    }\n  }\n\n  async deleteShareLink() {\n    try {\n      this.setState(state => ({ ...state, loading: true }))\n      await this.props.onDisable(this.props.document)\n    } catch (e) {\n      Alerter.error(`${this.props.documentType}.share.error.revoke`)\n      // eslint-disable-next-line no-console\n      console.log(e)\n    } finally {\n      this.setState(state => ({ ...state, loading: false }))\n    }\n  }\n\n  render() {\n    const t = this.context.t\n    const { loading } = this.state\n    const { checked, documentType } = this.props\n    return (\n      <div>\n        <div\n          data-test-id=\"share-by-link\"\n          className={cx(styles['share-bylink-header'], 'u-mt-1', 'u-mb-1')}\n        >\n          <SubTitle>{t(`${documentType}.share.shareByLink.subtitle`)}</SubTitle>\n          {loading && <Spinner color={palette.dodgerBlue} />}\n          {loading && (\n            <span className={styles['share-bylink-header-creating']}>\n              {t(`${documentType}.share.shareByLink.creating`)}\n            </span>\n          )}\n          {checked && <span className={styles['share-bylink-header-dot']} />}\n          {checked && (\n            <button\n              data-test-url={this.props.link}\n              className={styles['share-bylink-header-copybtn']}\n              onClick={this.copyLinkToClipboard}\n            >\n              {t(`${documentType}.share.shareByLink.copy`)}\n            </button>\n          )}\n          <Toggle\n            id=\"share-toggle\"\n            name=\"share\"\n            checked={checked}\n            disabled={loading}\n            onToggle={this.toggleShareLink}\n          />\n        </div>\n        <div className={styles['share-bylink-desc']}>\n          {t(`${documentType}.share.shareByLink.desc`)}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ShareByLink\n","/* global cozy */\nimport { getTracker } from 'cozy-ui/react/helpers/tracker'\n\nexport const track = element => {\n  const tracker = getTracker()\n  tracker &&\n    tracker.push(['trackEvent', 'interaction', 'desktop-prompt', element])\n}\n\nexport const isLinux = () =>\n  window.navigator &&\n  (window.navigator.appVersion.indexOf('Win') === -1 &&\n    window.navigator.appVersion.indexOf('Mac') === -1)\nexport const isAndroid = () =>\n  window.navigator.userAgent &&\n  window.navigator.userAgent.indexOf('Android') >= 0\nexport const isIOS = () =>\n  window.navigator.userAgent &&\n  /iPad|iPhone|iPod/.test(window.navigator.userAgent)\n\nexport const DESKTOP_BANNER = 'desktop_banner'\nexport const NOVIEWER_DESKTOP_CTA = 'noviewer_desktop_cta'\n\nexport const isClientAlreadyInstalled = async () => {\n  const resp = await cozy.client.fetchJSON('GET', '/settings/clients')\n  return resp.some(\n    device =>\n      device.attributes.software_id === 'github.com/cozy-labs/cozy-desktop'\n  )\n}\n","import mime from 'mime-types'\n\nconst getMimetypeFromFilename = name => {\n  return mime.lookup(name) || 'application/octet-stream'\n}\n\nconst mappingMimetypeSubtype = {\n  word: 'text',\n  text: 'text',\n  zip: 'zip',\n  pdf: 'pdf',\n  spreadsheet: 'sheet',\n  excel: 'sheet',\n  sheet: 'sheet',\n  presentation: 'slide',\n  powerpoint: 'slide'\n}\n\nexport const getFileMimetype = collection => (mime = '', name = '') => {\n  const mimetype =\n    mime === 'application/octet-stream'\n      ? getMimetypeFromFilename(name.toLowerCase())\n      : mime\n\n  const [type, subtype] = mimetype.split('/')\n  if (collection[type]) {\n    return type\n  }\n  if (type === 'application') {\n    const existingType = subtype.match(\n      Object.keys(mappingMimetypeSubtype).join('|')\n    )\n    return existingType ? mappingMimetypeSubtype[existingType[0]] : undefined\n  }\n  return undefined\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styles from './picker.styl'\n\nconst OriginHint = ({ title, icon }, { t }) => (\n  <div className={styles['origin-info']}>\n    <div>\n      {icon && <img className={styles['origin-info-icon']} src={icon} />}\n    </div>\n    <div className={styles['origin-info-text']}>\n      <h2>{title}</h2>\n      <p>{t('intents.picker.instructions')}</p>\n    </div>\n  </div>\n)\n\nOriginHint.contextTypes = {\n  t: PropTypes.func.isRequired\n}\n\nexport default OriginHint\n","/* global __TARGET__ */\nimport React from 'react'\nimport classNames from 'classnames'\n\nimport styles from 'drive/styles/topbar.styl'\n\nconst Topbar = ({ children, hideOnMobile = true }) => (\n  <div\n    className={classNames(styles['fil-topbar'], {\n      [styles['mobile']]: __TARGET__ === 'mobile',\n      [styles['hidden-mobile']]: hideOnMobile\n    })}\n  >\n    {children}\n  </div>\n)\n\nexport default Topbar\n","import styles from './styles.styl'\n\nimport React, { Component } from 'react'\nimport ReactDOM from 'react-dom'\n\nimport Hammer from 'hammerjs'\n\nimport Spinner from 'cozy-ui/react/Spinner'\nimport { ImageLoader } from 'components/Image'\n\nimport NoNetworkViewer from './NoNetworkViewer'\n\nconst MIN_SCALE = 1\nconst MAX_SCALE = 6\nconst MASS = 10 // If a paning gesture is released while the finger is still moving, the photo will keep paning for a little longer (a if you threw the photo). MASS determines how much the photo will keep paning (the higher the number, the more it will keep going)\nconst FRICTION = 0.9 // When the photo is paning after a pan gesture ended suddenly, FRICTION determines how quickly the movement slows down. 0 would stop it imediately, 1 doesn't slow it down at all.\n\nconst clamp = (min, value, max) => Math.max(min, Math.min(max, value))\n\nexport default class ImageViewer extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: true,\n      canceled: false,\n      scale: 1,\n      offsetX: 0,\n      offsetY: 0,\n      initialOffset: {\n        x: 0,\n        y: 0\n      },\n      initialScale: 0,\n      momentum: {\n        x: 0,\n        y: 0\n      }\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (\n      nextProps.file &&\n      this.props.file &&\n      nextProps.file.id !== this.props.file.id\n    ) {\n      this.tearDownGestures()\n      this.setState({\n        loading: true,\n        canceled: false,\n        scale: 1,\n        offsetX: 0,\n        offsetY: 0\n      })\n    }\n  }\n\n  componentDidMount() {\n    if (this.props.gestures) this.initGestures()\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const wasLoading =\n      prevState.loading && !this.state.loading && !this.state.canceled\n    if (!prevProps.gestures) this.initGestures()\n    if (wasLoading) this.setupGestures()\n  }\n\n  componentWillUnmount() {\n    this.tearDownGestures()\n  }\n\n  reload = () => {\n    this.setState(state => ({\n      ...state,\n      loading: true,\n      canceled: false\n    }))\n  }\n\n  onImageError = () => {\n    this.setState(state => ({ ...state, loading: false, canceled: true }))\n  }\n\n  onImageLoad = () => {\n    this.setState(state => ({ ...state, loading: false }))\n  }\n\n  tearDownGestures() {\n    this.gestures.off('swipe')\n    this.gestures.on('swipe', this.props.onSwipe)\n    this.gestures.off('panstart')\n    this.gestures.off('pinchstart')\n    this.gestures.off('pinchend')\n    this.gestures.off('pan')\n    this.gestures.off('pinch')\n    this.gestures.off('panend')\n  }\n\n  onSwipe = e => {\n    // when a swipe happens while zoomed into an image, it's most likely a pan gesture and not a swipe\n    if (this.state.scale > 1) return\n    // a pan event is triggered after the swipe and may trigger a getBoundingClientRect error\n    this.gestures.off('pan')\n    this.gestures.off('panend')\n    this.props.onSwipe(e)\n  }\n\n  initGestures() {\n    this.gestures = this.props.gestures\n    this.viewer = this.props.gesturesRef\n  }\n\n  setupGestures() {\n    // We replace the swipe handler by ours\n    this.gestures.off('swipe')\n    this.gestures.on('swipe', this.onSwipe)\n\n    this.gestures.get('pinch').set({ enable: true })\n    this.gestures.get('pan').set({ direction: Hammer.DIRECTION_ALL })\n\n    // During a gesture, everything is computed with a base value (the state of the image when the gesture starts) and a delta (a translation / zoom, described by the gesture). When a gesture starts, we record the current state of the image.\n    this.gestures.on('panstart', this.prepareForGesture.bind(this))\n    this.gestures.on('pinchstart', this.prepareForGesture.bind(this))\n    // It frequently happens that at the end of a pinch gesture, a pan gesture is detected  because the fingers don't come off the screen at exactly the same time. Reseting the values at the end of the pinch makes sure the values are correct for the (accidental) pan event.\n    this.gestures.on('pinchend', this.prepareForGesture.bind(this))\n\n    // during a pan, we add the gestures delta to the initial offset to get the new offset. The new offset is then scaled : if the pan distance was 100px, but the image was scaled 2x, the actual offset should only be 50px. FInally, this value is clamped to make sure the user can't pan further than the edges.\n    this.gestures.on('pan', e => {\n      this.setState(state => {\n        const maxOffset = this.computeMaxOffset()\n        return {\n          offsetX: clamp(\n            -maxOffset.x,\n            state.initialOffset.x + e.deltaX / state.scale,\n            maxOffset.x\n          ),\n          offsetY: clamp(\n            -maxOffset.y,\n            state.initialOffset.y + e.deltaY / state.scale,\n            maxOffset.y\n          )\n        }\n      })\n    })\n\n    // pinching / zooming / scaling is a bit more complicated, because the gesture's center has to be taken into account\n    this.gestures.on('pinch', e => {\n      if (e.isFinal) return // hard to reproduce, but the final event seems to be causing problems and since it's just replaying the previous event, it can safely be discared\n\n      this.setState(state => {\n        // first we compute the scale factor: this is the number by which we will multiply the initial scale (as it was before the gesture started) to get the final scaling value. So if the initial scale is 2, and the scale factor is 1.5, the final scale will be 3.\n        // this value is clamped so so it stays within reasonable zoom limits.\n        let scaleFactor = clamp(\n          MIN_SCALE / state.initialScale,\n          e.scale,\n          MAX_SCALE / state.initialScale\n        )\n\n        // When the user is zooming in or out, we want that the origin point of the gesture to stay in exactly the same place. The scaling origin is in the center of the viewer.\n        // If the gesture's origin is the same as the scaling origin, this works \"out of the box\"  you can imagine the pixels on all sides being \"pushed\" towards the outside. But if the gesture's origin is not in the center, we need to offset the whole image to produce the illusion that the scaling center is there.\n\n        // compute the center of the viewer\n        let wrapperBoundaries = this.viewer.getBoundingClientRect()\n        const viewerCenter = {\n          x: (wrapperBoundaries.right - wrapperBoundaries.left) / 2,\n          y: (wrapperBoundaries.bottom - wrapperBoundaries.top) / 2\n        }\n\n        // Compute the delta between the viewer's center and the gesture's center. This value is scaled back to the \"natural\" size  if the delta is 100px but the image is currently scale 2x, the real offset value is only 50px.\n        const offsetBeforeScale = {\n          x: (viewerCenter.x - e.center.x) / state.scale,\n          y: (viewerCenter.y - e.center.y) / state.scale\n        }\n\n        // Now we compute what this offset will be once we apply the new scale\n        const offsetAfterScale = {\n          x: offsetBeforeScale.x * scaleFactor,\n          y: offsetBeforeScale.y * scaleFactor\n        }\n\n        // finally, we compute the actual offset we want to apply. This is the difference between the offset *after* scaling and the offset *before* scaling. We also add any existing offset to preserve it (otherwise it is reset to the center each time)\n        const finalOffset = {\n          x: offsetAfterScale.x - offsetBeforeScale.x + state.initialOffset.x,\n          y: offsetAfterScale.y - offsetBeforeScale.y + state.initialOffset.y\n        }\n\n        // last thing: the offsets are clamped to make sure the offsetting doesn't go further than the edges\n        const maxOffset = this.computeMaxOffset()\n\n        return {\n          scale: state.initialScale * scaleFactor,\n          offsetX: clamp(-maxOffset.x, finalOffset.x, maxOffset.x),\n          offsetY: clamp(-maxOffset.y, finalOffset.y, maxOffset.y)\n        }\n      })\n    })\n\n    this.gestures.on('panend', e => {\n      // convert the remaining velocity into momentum\n      this.setState(\n        {\n          momentum: {\n            x: e.velocityX * MASS,\n            y: e.velocityY * MASS\n          }\n        },\n        this.applyMomentum.bind(this)\n      )\n    })\n  }\n\n  render() {\n    if (this.state.canceled) {\n      return <NoNetworkViewer onReload={this.reload} />\n    }\n    const { file } = this.props\n    const { scale, offsetX, offsetY } = this.state\n    const style = {\n      transform: `scale(${scale}) translate(${offsetX}px, ${offsetY}px)`\n    }\n    return (\n      <div\n        data-test-id=\"viewer-image\"\n        className={styles['pho-viewer-imageviewer']}\n      >\n        {this.state.loading && (\n          <Spinner size=\"xxlarge\" middle noMargin color=\"white\" />\n        )}\n        {file && (\n          <ImageLoader\n            file={file}\n            size=\"large\"\n            ref={photo => {\n              //eslint-disable-next-line\n              this.photo = ReactDOM.findDOMNode(photo)\n            }}\n            onError={this.onImageError}\n            key={file.id}\n            render={src => (\n              <img\n                style={style}\n                alt={file.name}\n                src={src}\n                onLoad={this.onImageLoad}\n              />\n            )}\n          />\n        )}\n      </div>\n    )\n  }\n\n  /**\n   * Things to do when a gesture starts:\n   * - saves the current scale and offset, which will be used as base values for calculations\n   * - kill any remaining momentum from previous gestures\n   * - hide the actions\n   */\n  prepareForGesture() {\n    this.setState(state => ({\n      initialScale: state.scale,\n      initialOffset: {\n        x: state.offsetX,\n        y: state.offsetY\n      },\n      momentum: {\n        x: 0,\n        y: 0\n      }\n    }))\n  }\n\n  /**\n   * Gradually applies the momentum after a pan end\n   */\n  applyMomentum() {\n    this.setState(\n      state => {\n        const maxOffset = this.computeMaxOffset()\n\n        return {\n          offsetX: clamp(\n            -maxOffset.x,\n            state.offsetX + state.momentum.x,\n            maxOffset.x\n          ),\n          offsetY: clamp(\n            -maxOffset.y,\n            state.offsetY + state.momentum.y,\n            maxOffset.y\n          ),\n          momentum: {\n            x: state.momentum.x * FRICTION,\n            y: state.momentum.y * FRICTION\n          }\n        }\n      },\n      () => {\n        if (\n          Math.abs(this.state.momentum.x) > 0.1 ||\n          Math.abs(this.state.momentum.y) > 0.1\n        )\n          requestAnimationFrame(this.applyMomentum.bind(this))\n      }\n    )\n  }\n\n  /**\n   * Compute the maximum offset that can be applied to the photo on each axis before it goes over the edges\n   * @returns {object} A point with an x and y property\n   */\n  computeMaxOffset() {\n    if (this.viewer && this.photo) {\n      const wrapperBoundaries = this.viewer.getBoundingClientRect()\n      const photoBoundaries = this.photo.getBoundingClientRect()\n\n      return {\n        x:\n          Math.max(photoBoundaries.width / 2 - wrapperBoundaries.width / 2, 0) /\n          this.state.scale,\n        y:\n          Math.max(\n            photoBoundaries.height / 2 - wrapperBoundaries.height / 2,\n            0\n          ) / this.state.scale\n      }\n    } else {\n      return {\n        x: 0,\n        y: 0\n      }\n    }\n  }\n}\n","/* global cozy */\nimport Alerter from 'cozy-ui/react/Alerter'\n\nimport { getVisibleFiles } from 'drive/web/modules/navigation/duck'\n\n// TODO: Not cool to have to do this... Code below should probably be moved into the local state\n// of the RenameInput\nimport { META_DEFAULTS as meta } from 'drive/web/modules/navigation/duck/actions'\nimport { extractFileAttributes } from 'drive/web/modules/navigation/duck/async'\n\n// constants\n\nconst START_RENAMING = 'START_RENAMING'\nconst ABORT_RENAMING = 'ABORT_RENAMING'\nexport const RENAME_SUCCESS = 'RENAME_SUCCESS'\nconst UPDATE_FILE_NAME = 'UPDATE_FILE_NAME'\n\n// reducers\n\nconst initialState = { file: null, name: null }\nconst renameReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case START_RENAMING:\n      return { ...state, file: action.file, name: action.file.name }\n    case UPDATE_FILE_NAME:\n      return { ...state, name: action.name }\n    case RENAME_SUCCESS:\n    case ABORT_RENAMING:\n      return initialState\n    default:\n      return state\n  }\n}\nexport default renameReducer\n\n// selectors\n\nexport const isRenaming = state => state.rename !== initialState\nexport const getRenamingFile = state => state.rename.file\nexport const getUpdatedName = state => state.rename.name\n\n// action creators sync\n\nexport const startRenaming = file => ({ type: START_RENAMING, file, meta })\nexport const updateFileName = name => ({ type: UPDATE_FILE_NAME, name })\nexport const abortRenaming = () => ({ type: ABORT_RENAMING })\nexport const renamed = file => ({ type: RENAME_SUCCESS, file })\n\n// action creators async\n\nexport const startRenamingAsync = file => async dispatch => {\n  await dispatch(startRenaming(file))\n}\n\nexport const rename = () => async (dispatch, getState) => {\n  const state = getState()\n  const files = getVisibleFiles(state)\n  const renamingFile = getRenamingFile(state)\n  const updatedName = getUpdatedName(state)\n  const isExisting = files.find(f => f.name === updatedName)\n\n  if (isExisting) {\n    if (isExisting.id === renamingFile.id) {\n      dispatch(abortRenaming())\n      return\n    } else {\n      Alerter.error('alert.folder_name', { folderName: name })\n      throw new Error('alert.folder_name')\n    }\n  }\n  try {\n    const updated = await cozy.client.files.updateAttributesById(\n      renamingFile.id,\n      { name: updatedName }\n    )\n    dispatch(renamed(extractFileAttributes(updated)))\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.warn(e)\n  }\n}\n","import React from 'react'\nimport { translate } from 'cozy-ui/react/I18n'\nimport { Empty } from 'cozy-ui/react'\n\nimport DriveIcon from 'drive/assets/icons/icon-type-folder.svg'\nimport PhotosIcon from 'photos/assets/icons/icon-main-app.svg'\nimport TrashIcon from 'drive/assets/icons/icon-trash-big.svg'\n\nconst EmptyIcon = {\n  drive: DriveIcon,\n  photos: PhotosIcon,\n  trash: TrashIcon\n}\n\nconst EmptyCanvas = translate()(({ t, type, canUpload, localeKey }) => {\n  return (\n    <Empty\n      data-test-id=\"empty-folder\"\n      icon={EmptyIcon[type]}\n      title={localeKey ? t(`empty.${localeKey}_title`) : t('empty.title')}\n      text={\n        (localeKey && t(`empty.${localeKey}_text`)) ||\n        (canUpload && t('empty.text'))\n      }\n    />\n  )\n})\n\nexport default EmptyCanvas\n\nexport const EmptyDrive = props => <EmptyCanvas type=\"drive\" {...props} />\n\nexport const EmptyPhotos = props => <EmptyCanvas type=\"photos\" {...props} />\n\nexport const EmptyTrash = props => (\n  <EmptyCanvas type=\"trash\" localeKey=\"trash\" {...props} />\n)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fil-topbar\":\"fil-topbar--2XJot\",\"hidden-mobile\":\"hidden-mobile--171JQ\",\"fil-path-backdrop\":\"fil-path-backdrop--2HADh\",\"fil-path-title\":\"fil-path-title--3H8Ph\",\"fil-path-link\":\"fil-path-link--15Jew\",\"fil-path-separator\":\"fil-path-separator--3inNH\",\"fil-path-previous\":\"fil-path-previous--259U0\",\"fil-path-down\":\"fil-path-down--1ckv2\",\"fil-path-current-name\":\"fil-path-current-name--2SD2e\",\"fil-path-current\":\"fil-path-current--1UBXf\",\"deployed\":\"deployed--2RCVz\",\"inlined\":\"inlined--RyWPf\",\"fil-path-link-name\":\"fil-path-link-name--1t04B\",\"mobile\":\"mobile--3-x59\",\"spin\":\"spin--27Qvk\",\"shake\":\"shake--2SV2R\"};","var map = {\n\t\"./icon-type-audio.svg\": \"hehj\",\n\t\"./icon-type-bin.svg\": \"Qi6R\",\n\t\"./icon-type-code.svg\": \"5lZ0\",\n\t\"./icon-type-files.svg\": \"nhFO\",\n\t\"./icon-type-folder.svg\": \"w0Z6\",\n\t\"./icon-type-image.svg\": \"TD9l\",\n\t\"./icon-type-note.svg\": \"3nSB\",\n\t\"./icon-type-pdf.svg\": \"gbp9\",\n\t\"./icon-type-sheet.svg\": \"0GJX\",\n\t\"./icon-type-slide.svg\": \"f/2S\",\n\t\"./icon-type-text.svg\": \"xNZN\",\n\t\"./icon-type-video.svg\": \"T3Sg\",\n\t\"./icon-type-zip.svg\": \"pr+u\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"KZBK\";","/* global cozy */\n/* \nThis file is TEMPORARY. It covers a stack bug and we need to synchronize again some files\n\n!!TO BE DELETED WHEN datas are OK\n\n*/\nimport { updateLibraryItem } from 'drive/mobile/lib/media'\nimport { CURRENT_UPLOAD_PROGRESS } from './reducer'\nimport throttle from 'lodash/throttle'\nimport localforage from 'localforage'\n\nexport const checkCorruptedFiles = async (photosOnDevice, dispatch) => {\n  const onProgressUpdate = progress => {\n    dispatch({ type: CURRENT_UPLOAD_PROGRESS, progress })\n  }\n  const onThumbnailGenerated = () => {}\n  const seen = (await localforage.getItem('CORRUPTED_FILES')) || false\n  if (seen === false) {\n    const requestFiles = await cozy.client.fetchJSON('GET', '/files/fsck')\n    await localforage.setItem('CORRUPTED_FILES', requestFiles)\n  }\n  const files = await localforage.getItem('CORRUPTED_FILES')\n  try {\n    files.reduce(async (memo, remoteFileCorrupted) => {\n      if (remoteFileCorrupted.file_doc && remoteFileCorrupted.file_doc.name) {\n        photosOnDevice.map(async photoOnDevice => {\n          if (photoOnDevice.fileName === remoteFileCorrupted.file_doc.name) {\n            try {\n              await updateLibraryItem(\n                remoteFileCorrupted.file_doc,\n                photoOnDevice,\n                throttle(onProgressUpdate, 500),\n                onThumbnailGenerated\n              )\n              const newObj = files.reduce((acc, photo) => {\n                if (photo.file_doc._id !== remoteFileCorrupted.file_doc._id) {\n                  acc.push(remoteFileCorrupted)\n                }\n                return acc\n              }, [])\n              await localforage.setItem('CORRUPTED_FILES', newObj)\n              return memo.push(photoOnDevice.id)\n            } catch (error) {\n              // eslint-disable-next-line no-console\n              console.log('error on CORRUPTED FILES', error)\n            }\n          }\n        })\n      }\n      return memo\n    }, [])\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.log('error globale', error)\n  }\n}\n","/* global cozy */\nimport { TRASH_DIR_ID, FILES_FETCH_LIMIT } from 'drive/constants/config.js'\nimport {\n  getPouchIndexes,\n  shouldWorkFromPouchDB\n} from 'drive/mobile/modules/replication/duck'\n\nclass Stack {\n  constructor() {\n    this.indexes = {}\n  }\n\n  getFolder = async folderId => {\n    const folder = await cozy.client.files.statById(folderId, false, {\n      limit: FILES_FETCH_LIMIT\n    })\n\n    const parentId = folder.attributes.dir_id\n    const parent =\n      !!parentId &&\n      (await cozy.client.files.statById(parentId, false).catch(ex => {\n        if (ex.status === 403) {\n          // eslint-disable-next-line no-console\n          console.warn(\"User don't have access to parent folder\")\n        } else {\n          throw ex\n        }\n      }))\n\n    const files =\n      folder\n        .relations('contents')\n        .filter(f => f !== undefined)\n        .map(f => extractFileAttributes(f)) || []\n\n    return {\n      ...extractFileAttributes(folder),\n      contents: {\n        data: files,\n        meta: {\n          count: folder.relationships.contents.meta.count\n        }\n      },\n      parent: !!parent && extractFileAttributes(parent)\n    }\n  }\n\n  getFolderContents = async (folderId, skip = 0, limit = FILES_FETCH_LIMIT) => {\n    const folder = await cozy.client.files.statById(folderId, false, {\n      skip,\n      limit\n    })\n    // folder.relations('contents') returns null when the trash is empty\n    // the filter call is a temporary fix due to a cozy-client-js bug\n    const files =\n      folder.relations('contents').filter(f => f !== undefined) || []\n    return files.map(c => extractFileAttributes(c))\n  }\n\n  getSortedFolder = async (\n    folderId,\n    sortAttribute,\n    sortOrder = 'asc',\n    skip = 0,\n    limit = FILES_FETCH_LIMIT\n  ) => {\n    const isFirstLoad = skip === 0\n    let folders = []\n\n    if (isFirstLoad) {\n      // on first load, fetch *all* the folders, so we can subsequently focus on files\n      const folderSortingOrder = sortAttribute === 'name' ? sortOrder : 'asc'\n      const allFolders = await this.query({\n        folderId,\n        type: 'directory',\n        sortAttribute,\n        sortOrder: folderSortingOrder,\n        skip: 0,\n        limit: null\n      })\n      // filter out the trash, faster in js than with pouch\n      folders = allFolders.filter(folder => folder._id !== TRASH_DIR_ID)\n    }\n\n    const files = await this.query({\n      folderId,\n      type: 'file',\n      sortAttribute,\n      sortOrder,\n      skip,\n      limit\n    })\n\n    return [...folders, ...files]\n  }\n\n  query = async ({ folderId, type, sortAttribute, sortOrder, skip, limit }) => {\n    const index = await this.getIndex(sortAttribute, [\n      'dir_id',\n      'type',\n      sortAttribute\n    ])\n\n    const response = await cozy.client.files.query(index, {\n      selector: {\n        dir_id: folderId,\n        type,\n        [sortAttribute]: { $gt: null }\n      },\n      sort: [\n        { dir_id: sortOrder },\n        { type: sortOrder },\n        { [sortAttribute]: sortOrder }\n      ],\n      skip,\n      limit,\n      wholeResponse: true\n    })\n\n    return response.data.map(f => extractFileAttributes(f))\n  }\n\n  getIndex = async (name, fields) => {\n    if (this.indexes[name]) return this.indexes[name]\n    else {\n      const index = await cozy.client.data.defineIndex('io.cozy.files', fields)\n      this.indexes[name] = index\n      return index\n    }\n  }\n\n  getRecentFiles = async () => {\n    const index = await this.getIndex('recent', ['updated_at', 'trashed'])\n\n    const resp = await cozy.client.files.query(index, {\n      selector: {\n        updated_at: { $gt: null },\n        trashed: false\n      },\n      sort: [{ updated_at: 'desc' }, { trashed: 'desc' }],\n      limit: FILES_FETCH_LIMIT,\n      wholeResponse: true\n    })\n    return resp.data.map(f => ({\n      ...f,\n      _id: f.id,\n      _type: f.type,\n      ...f.attributes\n    }))\n  }\n\n  getFilesInBatch = ids =>\n    cozy.client.fetchJSON(\n      'POST',\n      '/data/io.cozy.files/_all_docs?include_docs=true',\n      { keys: ids }\n    )\n}\n\nclass PouchDB {\n  constructor({ byName, byUpdatedAt, bySize, recent }) {\n    this.indexes = {\n      name: byName,\n      updated_at: byUpdatedAt,\n      size: bySize,\n      recent: recent\n    }\n  }\n\n  normalizeFileFromPouchDB = f => ({\n    ...f,\n    id: f._id,\n    _type: 'io.cozy.files'\n  })\n\n  getFolder = async folderId => {\n    const db = cozy.client.offline.getDatabase('io.cozy.files')\n    const folder = await db.get(folderId)\n    const parent = !!folder.dir_id && (await db.get(folder.dir_id))\n    const files = await this.getSortedFolder(folderId, 'name', 'asc')\n\n    return {\n      ...this.normalizeFileFromPouchDB(folder),\n      contents: {\n        data: files,\n        meta: {}\n      },\n      parent: !!parent && this.normalizeFileFromPouchDB(parent)\n    }\n  }\n\n  getFolderContents = (folderId, skip = 0, limit = FILES_FETCH_LIMIT) =>\n    this.getSortedFolder(folderId, 'name', 'asc', skip, limit)\n\n  getSortedFolder = async (\n    folderId,\n    sortAttribute,\n    sortOrder = 'asc',\n    skip = 0,\n    limit = FILES_FETCH_LIMIT\n  ) => {\n    const isFirstLoad = skip === 0\n    let folders = []\n\n    if (isFirstLoad) {\n      // on first load, fetch *all* the folders, so we can subsequently focus on files\n      const folderSortingOrder = sortAttribute === 'name' ? sortOrder : 'asc'\n\n      const allFolders = await this.query({\n        folderId,\n        type: 'directory',\n        sortAttribute: 'name',\n        sortOrder: folderSortingOrder,\n        skip: 0,\n        limit: null\n      })\n      // filter out the trash, faster in js than with pouch\n      folders = allFolders.filter(folder => folder._id !== TRASH_DIR_ID)\n    }\n\n    const files = await this.query({\n      folderId,\n      type: 'file',\n      sortAttribute,\n      sortOrder,\n      skip,\n      limit\n    })\n    return [...folders, ...files]\n  }\n\n  query = async ({ folderId, type, sortAttribute, sortOrder, skip, limit }) => {\n    const db = cozy.client.offline.getDatabase('io.cozy.files')\n    const index = this.indexes[sortAttribute]\n\n    if (!index)\n      // eslint-disable-next-line no-console\n      console.warn(\n        `No suitable index found for atribute ${sortAttribute}. This might be slow.`\n      )\n\n    const response = await db.find({\n      selector: {\n        dir_id: folderId,\n        type: type,\n        [sortAttribute]: { $gt: null }\n      },\n      use_index: index,\n      sort: [\n        { dir_id: sortOrder },\n        { type: sortOrder },\n        { [sortAttribute]: sortOrder }\n      ],\n      skip,\n      limit\n    })\n\n    return response.docs.map(this.normalizeFileFromPouchDB)\n  }\n\n  getRecentFiles = async () => {\n    const db = cozy.client.offline.getDatabase('io.cozy.files')\n    const files = await db.query(this.indexes.recent, {\n      limit: FILES_FETCH_LIMIT,\n      include_docs: true,\n      descending: true\n    })\n    return files.rows.map(f => ({\n      ...f.doc,\n      id: f.id,\n      _type: 'io.cozy.files'\n    }))\n  }\n\n  getFilesInBatch = ids => {\n    const db = cozy.client.offline.getDatabase('io.cozy.files')\n    return db.allDocs({\n      include_docs: true,\n      keys: ids\n    })\n  }\n}\n\nconst StackAdapter = new Stack()\nexport const getAdapter = state =>\n  shouldWorkFromPouchDB(state)\n    ? new PouchDB(getPouchIndexes(state))\n    : StackAdapter\n\nexport const extractFileAttributes = f => {\n  const id = f.id || f._id\n  return {\n    ...f.attributes,\n    id,\n    _id: id,\n    _type: 'io.cozy.files',\n    links: f.links,\n    relationships: f.relationships\n  }\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport classNames from 'classnames'\n\nimport { translate } from 'cozy-ui/react/I18n'\nimport Alerter from 'cozy-ui/react/Alerter'\nimport FilenameInput from 'drive/web/modules/filelist/FilenameInput'\nimport {\n  isTypingNewFolderName,\n  hideNewFolderInput\n} from 'drive/web/modules/filelist/duck'\nimport { createFolder } from 'drive/web/modules/navigation/duck'\nimport styles from 'drive/styles/filelist.styl'\n\nconst AddFolder = ({ f, visible, onSubmit, onAbort }) =>\n  !visible ? null : (\n    <div className={styles['fil-content-row']}>\n      <div\n        className={classNames(\n          styles['fil-content-cell'],\n          styles['fil-content-file-select']\n        )}\n      />\n      <div\n        className={classNames(\n          styles['fil-content-cell'],\n          styles['fil-content-file'],\n          styles['fil-file-folder']\n        )}\n      >\n        <FilenameInput onSubmit={onSubmit} onAbort={onAbort} />\n      </div>\n      <div\n        className={classNames(\n          styles['fil-content-cell'],\n          styles['fil-content-date']\n        )}\n      >\n        <time dateTime=\"\">{f(Date.now(), 'MMM D, YYYY')}</time>\n      </div>\n      <div\n        className={classNames(\n          styles['fil-content-cell'],\n          styles['fil-content-size']\n        )}\n      >\n        \n      </div>\n      <div\n        className={classNames(\n          styles['fil-content-cell'],\n          styles['fil-content-status']\n        )}\n      >\n        \n      </div>\n      <div\n        className={classNames(\n          styles['fil-content-cell'],\n          styles['fil-content-file-action']\n        )}\n      />\n    </div>\n  )\n\nconst mapStateToProps = state => ({\n  visible: isTypingNewFolderName(state)\n})\n\nconst mapDispatchToProps = dispatch => ({\n  onSubmit: name =>\n    dispatch(createFolder(name)).then(() => dispatch(hideNewFolderInput())),\n  onAbort: accidental => {\n    if (accidental) {\n      Alerter.info('alert.folder_abort')\n    }\n    dispatch(hideNewFolderInput())\n  }\n})\n\nexport default translate()(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(AddFolder)\n)\n","import React, { Component } from 'react'\nimport classNames from 'classnames'\nimport PropTypes from 'prop-types'\nimport { Spinner, MenuItem, withBreakpoints, Icon } from 'cozy-ui/react'\n\nimport MenuAwareMobile from '../../components/Menu/Menuawaremobile'\nimport { AvatarPlusX, AvatarLink, Avatar } from './Avatar'\n\nimport styles from './recipient.styl'\n\nimport IconHourglass from '../assets/icons/icon-hourglass-16.svg'\nimport IconEye from '../assets/icons/icon-eye-16.svg'\nimport IconPen from '../assets/icons/icon-pen-write-16.svg'\nimport IconTrash from '../assets/icons/icon-trash-red.svg'\n\nimport { Contact } from 'models'\nimport Identity from 'sharing/components/Identity'\n\nconst MAX_DISPLAYED_RECIPIENTS = 3\n\nexport const RecipientsAvatars = ({\n  recipients,\n  link,\n  size = 'small-plus',\n  className,\n  onClick\n}) => {\n  // we reverse the recipients array because we use `flex-direction: row-reverse` to display them correctly\n  // we slice first to clone the original array because reverse() mutates it\n  const reversedRecipients = recipients.slice().reverse()\n  return (\n    <div\n      className={classNames(\n        styles['recipients-avatars'],\n        {\n          [styles['--interactive']]: onClick\n        },\n        className\n      )}\n      onClick={onClick}\n    >\n      {link && <AvatarLink size={size} />}\n      {recipients.length > MAX_DISPLAYED_RECIPIENTS && (\n        <AvatarPlusX\n          extraRecipients={reversedRecipients\n            .slice(MAX_DISPLAYED_RECIPIENTS)\n            .map(recipient => Contact.getDisplayName(recipient))}\n          size={size}\n        />\n      )}\n      {reversedRecipients.slice(0, MAX_DISPLAYED_RECIPIENTS).map(recipient => (\n        <Avatar\n          key={`key_avatar_${recipient.email}`}\n          text={Contact.getInitials(recipient)}\n          size={size}\n          textId={Contact.getDisplayName(recipient)}\n        />\n      ))}\n    </div>\n  )\n}\n\nexport const UserAvatar = ({ url, size, ...rest }) => (\n  <div className={styles['avatar']}>\n    <Avatar\n      text={Contact.getInitials(rest)}\n      size={size}\n      textId={Contact.getDisplayName(rest)}\n    />\n    <Identity name={Contact.getDisplayName(rest)} details={url} />\n  </div>\n)\n\nclass Status extends Component {\n  state = {\n    revoking: false\n  }\n\n  static contextTypes = {\n    t: PropTypes.func.isRequired,\n    client: PropTypes.object.isRequired\n  }\n\n  onRevoke = async () => {\n    const { onRevoke, document, sharingId, index } = this.props\n    this.setState({ revoking: true })\n    await onRevoke(document, sharingId, index)\n    this.setState({ revoking: false })\n  }\n\n  getStatusIcon = type => {\n    switch (type) {\n      case 'one-way':\n        return IconEye\n      case 'two-way':\n        return IconPen\n      default:\n        return IconHourglass\n    }\n  }\n\n  render() {\n    const { isOwner, status, instance, type, documentType, name } = this.props\n    const { t, client } = this.context\n    const { revoking } = this.state\n    const isMe =\n      instance !== undefined && instance === client.options.uri && !isOwner\n    const shouldShowMenu = !revoking && status !== 'owner' && (isMe || isOwner)\n    return (\n      <div className={classNames(styles['recipient-status'], 'u-ml-1')}>\n        {revoking && <Spinner />}\n        {!shouldShowMenu && (\n          <span className={styles['recipient-owner']}>\n            {t(`Share.status.${status}`)}\n          </span>\n        )}\n        {shouldShowMenu && (\n          <MenuAwareMobile\n            text={\n              status === 'ready' && type\n                ? t(`Share.type.${type}`)\n                : t(`Share.status.${status}`)\n            }\n            className={styles['recipient-menu']}\n            buttonClassName={styles['recipient-menu-btn']}\n            position={'right'}\n            popover\n            itemsStyle={{\n              maxWidth: '280px'\n            }}\n            name={name}\n          >\n            <MenuItem icon={<Icon icon={this.getStatusIcon(status)} />}>\n              {status === 'ready' && type\n                ? t(`Share.type.${type}`)\n                : t(`Share.status.${status}`)}\n            </MenuItem>\n\n            <hr />\n            <MenuItem\n              onSelect={this.onRevoke}\n              onClick={this.onRevoke}\n              icon={<Icon icon={IconTrash} />}\n            >\n              <div className={styles['action-unshare']}>\n                {isOwner\n                  ? t(`${documentType}.share.revoke.title`)\n                  : t(`${documentType}.share.revokeSelf.title`)}\n              </div>\n              <p className={styles['action-unshare-desc']}>\n                {isOwner\n                  ? t(`${documentType}.share.revoke.desc`)\n                  : t(`${documentType}.share.revokeSelf.desc`)}\n              </p>\n            </MenuItem>\n          </MenuAwareMobile>\n        )}\n      </div>\n    )\n  }\n}\n\nconst StatusWithBreakpoints = withBreakpoints()(Status)\n\nconst Recipient = (props, { client, t }) => {\n  const { instance, isOwner, status, ...rest } = props\n  const isMe =\n    (isOwner && status === 'owner') || instance === client.options.uri\n  const name = Contact.getDisplayName(rest)\n  return (\n    <div className={classNames(styles['recipient'], 'u-mt-1')}>\n      <Avatar\n        text={Contact.getInitials(rest)}\n        size={'small-plus'}\n        textId={name}\n      />\n      <div className={styles['recipient-ident-status']}>\n        <Identity\n          name={isMe ? t('Share.recipients.you') : name}\n          details={instance}\n        />\n        <StatusWithBreakpoints {...props} name={name} />\n      </div>\n    </div>\n  )\n}\n\nRecipient.contextTypes = {\n  client: PropTypes.object.isRequired,\n  t: PropTypes.func.isRequired\n}\n\nexport default Recipient\n\nexport const RecipientWithoutStatus = ({ instance, ...rest }) => {\n  const name = Contact.getDisplayName(rest)\n  return (\n    <div className={styles['recipient']}>\n      <Avatar\n        text={Contact.getInitials(rest)}\n        size={'small-plus'}\n        textId={name}\n      />\n      <div className={styles['recipient-ident-status']}>\n        <Identity name={name} details={instance} />\n      </div>\n    </div>\n  )\n}\n\nexport const RecipientPlusX = ({ extraRecipients }, { t }) => (\n  <div className={styles['recipient']}>\n    <AvatarPlusX\n      extraRecipients={extraRecipients.map(recipient =>\n        Contact.getDisplayName(recipient)\n      )}\n    />\n    <div className={styles['recipient-ident-status']}>\n      <Identity\n        name={t('Share.members.otherContacts', extraRecipients.length)}\n      />\n    </div>\n  </div>\n)\n\nRecipientPlusX.contextTypes = {\n  t: PropTypes.func.isRequired\n}\n","/* global cozy */\nimport throttle from 'lodash/throttle'\nimport {\n  getPhotos,\n  uploadLibraryItem,\n  isAuthorized,\n  requestAuthorization\n} from 'drive/mobile/lib/media'\nimport { getTranslateFunction } from 'drive/mobile/lib/i18n'\nimport { isWifi } from 'drive/mobile/lib/network'\nimport { logException } from 'drive/lib/reporter'\nimport { setBackupImages } from 'drive/mobile/modules/settings/duck'\nimport {\n  MEDIA_UPLOAD_START,\n  MEDIA_UPLOAD_END,\n  MEDIA_UPLOAD_ABORT,\n  MEDIA_UPLOAD_SUCCESS,\n  MEDIA_UPLOAD_CANCEL,\n  MEDIA_UPLOAD_QUOTA,\n  CURRENT_UPLOAD,\n  CURRENT_UPLOAD_PROGRESS\n} from './reducer'\nimport { checkCorruptedFiles } from './checkCorruptedFiles'\nimport {\n  getReferencedFolders,\n  getOrCreateFolderWithReference,\n  REF_PHOTOS,\n  REF_BACKUP\n} from 'folder-references'\n\nconst ERROR_CODE_TOO_LARGE = 413\n\nexport const cancelMediaBackup = () => ({ type: MEDIA_UPLOAD_CANCEL })\n\nconst currentMediaUpload = (media, uploadCounter, totalUpload) => ({\n  type: CURRENT_UPLOAD,\n  media,\n  messageData: {\n    current: uploadCounter,\n    total: totalUpload\n  }\n})\n\nconst getUploadDir = async client => {\n  const uploadedFolders = await getReferencedFolders(client, REF_BACKUP)\n\n  if (uploadedFolders.length >= 1) {\n    // There can be more than one referenced folder in case of consecutive delete/restores. We always want to return the most recently used.\n    return uploadedFolders[0]\n  } else {\n    const t = getTranslateFunction()\n    const mediaFolderName = t('mobile.settings.media_backup.media_folder')\n    const uploadFolderName = t('mobile.settings.media_backup.backup_folder')\n    const legacyUploadFolderName = t(\n      'mobile.settings.media_backup.legacy_backup_folder'\n    )\n\n    await getOrCreateFolderWithReference(\n      client,\n      `/${mediaFolderName}`,\n      REF_PHOTOS\n    )\n\n    try {\n      const { data: legacyFolder } = await client\n        .collection('io.cozy.files')\n        .statByPath(`/${mediaFolderName}/${legacyUploadFolderName}/plop`)\n      await getOrCreateFolderWithReference(\n        client,\n        `/${mediaFolderName}/${legacyUploadFolderName}`,\n        REF_BACKUP\n      )\n      return legacyFolder\n    } catch (err) {\n      if (err.status === 404) {\n        // the legacy folder doesn't exist, so we create the new one\n        const uploadFolder = await getOrCreateFolderWithReference(\n          client,\n          `/${mediaFolderName}/${uploadFolderName}`,\n          REF_BACKUP\n        )\n        return uploadFolder\n      } else {\n        throw err\n      }\n    }\n  }\n}\n\nconst canBackup = (isManualBackup, getState) => {\n  const backupOnAnyNetworkType = !getState().mobile.settings.wifiOnly\n\n  return (\n    (isManualBackup || getState().mobile.settings.backupImages) &&\n    (isWifi() || backupOnAnyNetworkType)\n  )\n}\n\nexport const startMediaBackup = (isManualBackup = false) => async (\n  dispatch,\n  getState,\n  { client }\n) => {\n  dispatch({ type: MEDIA_UPLOAD_START })\n  if (!(await isAuthorized())) {\n    const promptForPermissions = isManualBackup\n    const receivedAuthorisation = await updateValueAfterRequestAuthorization(\n      promptForPermissions\n    )\n    // manual backup is only possible if the authorization is accepted\n    if (isManualBackup && !receivedAuthorisation) isManualBackup = false\n    // disable backupImages when authorization is refused\n    if (getState().mobile.settings.backupImages && !receivedAuthorisation) {\n      await dispatch(setBackupImages(false))\n    }\n  }\n\n  if (canBackup(isManualBackup, getState)) {\n    try {\n      const photosOnDevice = await getPhotos()\n      const alreadyUploaded = getState().mobile.mediaBackup.uploaded\n      //! TODO : RM after a while. Deal with photos here\n      await checkCorruptedFiles(photosOnDevice, dispatch)\n\n      const photosToUpload = photosOnDevice.filter(\n        photo => !alreadyUploaded.includes(photo.id)\n      )\n\n      const totalUpload = photosToUpload.length\n      if (totalUpload > 0) {\n        const {\n          _id: uploadDirId,\n          attributes: { path: uploadDirPath }\n        } = await getUploadDir(client)\n        let uploadCounter = 0\n        for (const photo of photosToUpload) {\n          if (\n            getState().mobile.mediaBackup.cancelMediaBackup ||\n            getState().mobile.mediaBackup.diskQuotaReached ||\n            !canBackup(isManualBackup, getState)\n          ) {\n            break\n          }\n          dispatch(currentMediaUpload(photo, uploadCounter++, totalUpload))\n          await dispatch(uploadPhoto(uploadDirPath, uploadDirId, photo))\n        }\n      }\n\n      cozy.client.settings.updateLastSync()\n    } catch (e) {\n      dispatch({ type: MEDIA_UPLOAD_ABORT })\n      if (!e.message.match(/Failed to fetch/))\n        logException(`Unexpected error during the files backup (${e.message})`)\n    }\n  } else {\n    dispatch({ type: MEDIA_UPLOAD_ABORT })\n  }\n\n  dispatch({ type: MEDIA_UPLOAD_END })\n}\n\nconst mediaUploadSucceed = ({ id }) => ({\n  type: MEDIA_UPLOAD_SUCCESS,\n  id\n})\n\nconst uploadPhoto = (dirName, dirID, photo) => async dispatch => {\n  try {\n    await cozy.client.files.statByPath(dirName + '/' + photo.fileName)\n    dispatch(mediaUploadSucceed(photo))\n    return\n  } catch (_) {\n    //console.log('_')\n  } // if an exception is throw, the file doesn't exist yet and we can safely upload it\n\n  const MILLISECOND = 1\n  const SECOND = 1000 * MILLISECOND\n  const MINUTE = 60 * SECOND\n  const maxBackupTime = 5 * MINUTE\n  const timeout = setTimeout(() => {\n    // eslint-disable-next-line no-console\n    console.info(JSON.stringify(photo))\n    logException(`Backup duration exceeded ${maxBackupTime} milliseconds`)\n  }, maxBackupTime)\n  try {\n    const onProgressUpdate = progress => {\n      dispatch({ type: CURRENT_UPLOAD_PROGRESS, progress })\n    }\n\n    const onThumbnailGenerated = () => {}\n\n    await uploadLibraryItem(\n      dirID,\n      photo,\n      throttle(onProgressUpdate, 500),\n      onThumbnailGenerated\n    )\n    clearTimeout(timeout)\n    dispatch(mediaUploadSucceed(photo))\n  } catch (err) {\n    if (err.code && parseInt(err.code) === ERROR_CODE_TOO_LARGE) {\n      clearTimeout(timeout)\n      dispatch({ type: MEDIA_UPLOAD_QUOTA })\n    } else {\n      /* eslint-disable no-console */\n      console.warn('startMediaBackup upload item error')\n      console.warn(JSON.stringify(err))\n      console.info(JSON.stringify(photo))\n      const reason = err.message ? err.message : JSON.stringify(err)\n      logException('Backup error: ' + reason, null, ['backup error'])\n    }\n  }\n}\n\nexport const backupImages = (backupImages, force = false) => async (\n  dispatch,\n  getState\n) => {\n  // TODO: it looks like the media backup is triggered twice at app init, but I couldn't figure why :/\n  // This fixes the issue, but we'll need to figure out why it is triggered twice...\n  if (getState().mobile.mediaBackup.running === true && !force) {\n    return\n  }\n  if (backupImages === undefined) {\n    backupImages = getState().mobile.settings.backupImages\n  } else {\n    await dispatch(setBackupImages(backupImages))\n  }\n\n  const isAuthorized = await updateValueAfterRequestAuthorization(backupImages)\n  if (backupImages && !isAuthorized) {\n    backupImages = isAuthorized\n    dispatch(setBackupImages(backupImages))\n  }\n\n  const {\n    updateStatusBackgroundService\n  } = require('drive/mobile/lib/background')\n  updateStatusBackgroundService(backupImages)\n  if (backupImages) {\n    dispatch(startMediaBackup())\n  }\n\n  return backupImages\n}\n\nconst updateValueAfterRequestAuthorization = async value => {\n  if (value) {\n    value = await requestAuthorization()\n  }\n  return value\n}\n\nexport { default } from './reducer'\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport cx from 'classnames'\n\nimport Oops from 'components/Error/Oops'\nimport { EmptyDrive, EmptyTrash } from 'components/Error/Empty'\nimport AsyncBoundary from 'drive/web/modules/navigation/AsyncBoundary'\nimport FileListRowsPlaceholder from 'drive/web/modules/filelist/FileListRowsPlaceholder'\nimport FileListRows from 'drive/web/modules/filelist/FileListRows'\nimport AddFolder from 'drive/web/modules/filelist/AddFolder'\nimport { isSelectionBarVisible } from 'drive/web/modules/selection/duck'\nimport { isTypingNewFolderName } from 'drive/web/modules/filelist/duck'\n\nimport styles from 'drive/styles/filelist.styl'\n\nconst EmptyContent = props => {\n  const { isTrashContext, canUpload } = props\n  if (isTrashContext && !props.params.folderId) {\n    return <EmptyTrash />\n  }\n  return <EmptyDrive canUpload={canUpload} />\n}\n\nEmptyContent.propTypes = {\n  isTrashContext: PropTypes.bool,\n  canUpload: PropTypes.bool,\n  params: PropTypes.object\n}\n\nEmptyContent.defaultProps = {\n  isTrashContext: false,\n  canUpload: false,\n  params: {}\n}\n\nexport const FileListBody = ({\n  files,\n  selectionModeActive,\n  isTypingNewFolderName,\n  withSelectionCheckbox,\n  ...props\n}) => (\n  <div\n    data-test-id=\"fil-content-body\"\n    className={cx(styles['fil-content-body'], {\n      [styles['fil-content-body--selectable']]: selectionModeActive\n    })}\n  >\n    <AddFolder />\n    <AsyncBoundary>\n      {({ isLoading, isInError }) => {\n        if (isLoading) return <FileListRowsPlaceholder />\n        else if (isInError) return <Oops />\n        else if (files.length === 0 && !isTypingNewFolderName)\n          return <EmptyContent {...props} />\n        else\n          return (\n            <FileListRows\n              files={files}\n              withSelectionCheckbox={withSelectionCheckbox}\n              {...props}\n            />\n          )\n      }}\n    </AsyncBoundary>\n  </div>\n)\n\nFileListBody.propTypes = {\n  selectionModeActive: PropTypes.bool,\n  isTypingNewFolderName: PropTypes.bool,\n  withSelectionCheckbox: PropTypes.bool,\n  files: PropTypes.array,\n  fileCount: PropTypes.number,\n  fetchMoreFiles: PropTypes.fund,\n  displayedFolder: PropTypes.object,\n  fileActions: PropTypes.object,\n  onFolderOpen: PropTypes.func,\n  onFileOpen: PropTypes.func,\n  withFilePath: PropTypes.bool,\n  withSharedBadge: PropTypes.bool,\n  isRenaming: PropTypes.bool,\n  renamingFile: PropTypes.object\n}\n\nconst mapStateToProps = state => ({\n  selectionModeActive: isSelectionBarVisible(state),\n  isTypingNewFolderName: isTypingNewFolderName(state)\n})\n\nexport default connect(mapStateToProps)(FileListBody)\n","module.exports = \"/img/app-icon.svg\";","export { Group } from 'cozy-doctypes'\n\nexport { default as Contact } from 'models/Contact'\n","import { remove as removeDiacritics } from 'diacritics'\n\n// Search for keywords inside a list of files and folders, while being permissive regardig the order of words\nclass FuzzyPathSearch {\n  constructor(files = []) {\n    // files must have a `path` and `name` property\n    this.files = files\n    this.previousQuery = []\n    this.previousSuggestions = files\n  }\n\n  search(query) {\n    if (!query) return []\n\n    const queryArray = removeDiacritics(\n      query\n        .replace(/\\//g, ' ')\n        .trim()\n        .toLowerCase()\n    ).split(' ')\n    const preparedQuery = queryArray.map(word => ({\n      word,\n      isAugmentedWord: false,\n      isNewWord: true\n    }))\n\n    const isQueryAugmented = this.isAugmentingPreviousQuery(preparedQuery)\n    const sortedQuery = isQueryAugmented\n      ? this.sortQueryByRevelance(preparedQuery)\n      : this.sortQuerybyLength(preparedQuery)\n    let suggestions\n\n    if (isQueryAugmented && this.previousSuggestions.length !== 0) {\n      // the new query is just a more selective version of the previous one, so we narrow down the existing list\n      suggestions = this.filterAndScore(\n        this.previousSuggestions,\n        sortedQuery.map(segment => segment.word)\n      )\n    } else {\n      suggestions = this.filterAndScore(\n        this.files,\n        sortedQuery.map(segment => segment.word)\n      )\n    }\n\n    this.previousQuery = sortedQuery\n    this.previousSuggestions = suggestions\n\n    return suggestions\n  }\n\n  isAugmentingPreviousQuery(query) {\n    for (let currentQuerySegment of query) {\n      let isInPreviousQuery = false\n      for (let previousQuerySegment of this.previousQuery) {\n        if (currentQuerySegment.word.includes(previousQuerySegment.word)) {\n          isInPreviousQuery = true\n          break\n        }\n      }\n\n      // we found a word in the current query that was not included in the previous query, so we consider it a completely new query\n      if (isInPreviousQuery === false) return false\n    }\n\n    // all words are in the previous query\n    return true\n  }\n\n  sortQueryByRevelance(query) {\n    // query terms are sorted in two categories: those that are new or have changed, and therefore may further reduce the set of results, are prioritzed. Those that were there and have not changed come second.\n    // finally, longer words are placed first to allow discarding files earlier in the scoring loop\n    let priorizedWords = []\n    let wordsFromPreviousQuery = []\n\n    for (let currentQuerySegment of query) {\n      let wasInPreviousQuery = false\n      for (let previousQuerySegment of this.previousQuery) {\n        if (currentQuerySegment.word.includes(previousQuerySegment.word)) {\n          if (currentQuerySegment.word !== previousQuerySegment.word) {\n            currentQuerySegment.isAugmentedWord = true\n            priorizedWords.push(currentQuerySegment)\n          } else {\n            currentQuerySegment.isNewWord = false\n            wordsFromPreviousQuery.push(currentQuerySegment)\n          }\n\n          wasInPreviousQuery = true\n          continue\n        }\n      }\n\n      // this segment wasn't included in any previous query segment so it's a new word and we prioritize it\n      if (!wasInPreviousQuery) priorizedWords.push(currentQuerySegment)\n    }\n\n    return this.sortQuerybyLength(priorizedWords).concat(\n      this.sortQuerybyLength(wordsFromPreviousQuery)\n    )\n  }\n\n  sortQuerybyLength(query) {\n    return query.sort((a, b) => b.word.length - a.word.length)\n  }\n\n  filterAndScore(files, words) {\n    const suggestions = []\n\n    files.forEach(file => {\n      let fileScore = 0\n      const pathArray = removeDiacritics(\n        (file.path + '/' + file.name).toLowerCase()\n      )\n        .split('/')\n        .filter(pathChunk => !!pathChunk)\n\n      for (let word of words) {\n        // let the magic begin...\n        // essentialy, matched words that are at the end of the path get better scores\n        let wordScore = 0\n        let wordOccurenceValue = 10000\n        let firstOccurence = true\n        const maxDepth = pathArray.length\n\n        for (let depth = 0; depth < maxDepth; ++depth) {\n          let dirName = pathArray[depth]\n\n          if (dirName.includes(word)) {\n            if (firstOccurence) {\n              wordOccurenceValue = 52428800 // that's 2^19 * 100\n              wordScore +=\n                (wordOccurenceValue / 2) * (1 + word.length / dirName.length)\n              firstOccurence = false\n            } else {\n              wordScore -=\n                wordOccurenceValue * (1 - word.length / dirName.length)\n            }\n\n            wordOccurenceValue /= 2\n          } else {\n            wordScore -= wordOccurenceValue\n            wordOccurenceValue /= 2\n            if (depth === maxDepth - 1) {\n              // make the penality bigger if the last part of the path doesn't include the word at all\n              wordScore /= 2\n            }\n          }\n\n          wordOccurenceValue /= 2\n        }\n\n        if (wordScore < 0) return\n\n        fileScore += wordScore\n      }\n\n      if (fileScore > 0) {\n        suggestions.push({\n          file,\n          score: fileScore\n        })\n      }\n    })\n\n    suggestions.sort((a, b) => {\n      const score = b.score - a.score\n      return score !== 0 ? score : a.file.path.localeCompare(b.file.path)\n    })\n\n    return suggestions.map(suggestion => suggestion.file)\n  }\n}\n\nexport default FuzzyPathSearch\n","import React, { Component } from 'react'\nimport Icon from 'cozy-ui/react/Icon'\n\nimport localforage from 'localforage'\nimport {\n  isClientAlreadyInstalled,\n  isLinux,\n  NOVIEWER_DESKTOP_CTA\n} from 'components/pushClient'\nimport styles from '../styles.styl'\nimport Config from 'drive/config/config.json'\n\nexport default class CallToAction extends Component {\n  state = {\n    mustShow: false\n  }\n\n  async componentDidMount() {\n    if (Config.promoteDesktop.isActivated !== true) return\n    const seen = (await localforage.getItem(NOVIEWER_DESKTOP_CTA)) || false\n    if (!seen) {\n      try {\n        const mustSee = !(await isClientAlreadyInstalled())\n        if (mustSee) {\n          this.setState({ mustShow: true })\n        }\n      } catch (e) {\n        this.setState({ mustShow: false })\n      }\n    }\n  }\n\n  markAsSeen = () => {\n    localforage.setItem(NOVIEWER_DESKTOP_CTA, true)\n    this.setState({ mustShow: false })\n  }\n\n  render() {\n    if (!this.state.mustShow || Config.promoteDesktop.isActivated !== true)\n      return null\n    const { t } = this.props\n    return (\n      <div className={styles['pho-viewer-noviewer-cta']}>\n        <Icon\n          className={styles['pho-viewer-noviewer-cta-cross']}\n          color=\"white\"\n          icon=\"cross\"\n          onClick={this.markAsSeen}\n        />\n        <h3>{t('Viewer.noviewer.cta.saveTime')}</h3>\n        <ul>\n          <li>\n            <a\n              //eslint-disable-next-line react/jsx-no-target-blank\n              target=\"_blank\"\n              href={t(\n                isLinux() ? 'Nav.link-client' : 'Nav.link-client-desktop'\n              )}\n            >\n              {t('Viewer.noviewer.cta.installDesktop')}\n            </a>\n          </li>\n          <li>{t('Viewer.noviewer.cta.accessFiles')}</li>\n        </ul>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { getTracker } from 'cozy-ui/react/helpers/tracker'\n\nimport reducer, {\n  receiveSharings,\n  addSharing,\n  updateSharing,\n  addSharingLink,\n  revokeSharingLink,\n  revokeRecipient,\n  revokeSelf,\n  receivePaths,\n  isOwner,\n  canReshare,\n  getOwner,\n  getRecipients,\n  getSharingById,\n  getSharingForSelf,\n  getSharingType,\n  getSharingLink,\n  getSharingDocIds,\n  getDocumentSharing,\n  getDocumentPermissions,\n  hasSharedParent,\n  hasSharedChild\n} from './state'\n\nimport SharingContext from 'sharing/context'\nimport { default as DumbSharedBadge } from './components/SharedBadge'\nimport {\n  default as DumbShareButton,\n  SharedByMeButton,\n  SharedWithMeButton\n} from './components/ShareButton'\nimport EditableSharingModal from 'sharing/components/EditableSharingModal'\nimport { SharingDetailsModal } from './SharingDetailsModal'\nimport { default as RecipientsList } from './components/WhoHasAccessLight'\nimport { RecipientsAvatars } from './components/Recipient'\nimport { default as DumbSharedStatus } from './components/SharedStatus'\n\nconst track = (document, action) => {\n  const tracker = getTracker()\n  if (!tracker) {\n    return\n  }\n  tracker.push([\n    'trackEvent',\n    isFile(document) ? 'Drive' : 'Photos',\n    action,\n    `${action}${isFile(document) ? 'File' : 'Album'}`\n  ])\n}\nconst trackSharingByLink = document => track(document, 'shareByLink')\nconst isFile = ({ _type }) => _type === 'io.cozy.files'\n\nexport default class SharingProvider extends Component {\n  static contextTypes = {\n    client: PropTypes.object.isRequired\n  }\n  constructor(props, context) {\n    super(props, context)\n    const instanceUri = this.context.client.options.uri\n    const documentType = props.documentType || 'Document'\n    this.state = {\n      byDocId: {},\n      sharings: [],\n      permissions: [],\n      sharedFolderPaths: [],\n      documentType,\n      isOwner: docId => isOwner(this.state, docId),\n      canReshare: docId => canReshare(this.state, docId, instanceUri),\n      getOwner: docId => getOwner(this.state, docId),\n      getSharingType: docId => getSharingType(this.state, docId, instanceUri),\n      getRecipients: docId => getRecipients(this.state, docId),\n      getSharingLink: docId => getSharingLink(this.state, docId, documentType),\n      hasSharedParent: document => hasSharedParent(this.state, document),\n      hasSharedChild: document => hasSharedChild(this.state, document),\n      share: this.share,\n      revoke: this.revoke,\n      revokeSelf: this.revokeSelf,\n      shareByLink: this.shareByLink,\n      revokeSharingLink: this.revokeSharingLink\n    }\n  }\n\n  dispatch = action =>\n    this.setState(state => ({ ...state, ...reducer(state, action) }))\n\n  async componentDidMount() {\n    const { client } = this.context\n    const { doctype } = this.props\n    const [sharings, permissions, apps] = await Promise.all([\n      client.collection('io.cozy.sharings').findByDoctype(doctype),\n      client.collection('io.cozy.permissions').findLinksByDoctype(doctype),\n      client.collection('io.cozy.permissions').findApps()\n    ])\n    this.dispatch(\n      receiveSharings({\n        instanceUri: client.options.uri,\n        sharings: sharings.data,\n        permissions: permissions.data,\n        apps: apps.data\n      })\n    )\n    if (doctype !== 'io.cozy.files') return\n\n    const sharedDocIds = sharings.data\n      .map(s => getSharingDocIds(s))\n      .reduce((acc, val) => acc.concat(val), [])\n    const resp = await client.collection(doctype).all({ keys: sharedDocIds })\n    const folderPaths = resp.data\n      .filter(f => f.type === 'directory')\n      .map(f => f.path)\n    const filePaths = await this.getFilesPaths(\n      resp.data.filter(f => f.type !== 'directory')\n    )\n    this.dispatch(receivePaths([...folderPaths, ...filePaths]))\n  }\n\n  getFilesPaths = async files => {\n    const parentDirIds = files\n      .map(f => f.dir_id)\n      .filter((f, idx, arr) => arr.indexOf(f) === idx)\n    const parentDirs = await this.context.client\n      .collection(this.props.doctype)\n      .all({ keys: parentDirIds })\n    const filePaths = files.map(f => {\n      const parentDirPath = parentDirs.data.find(d => d.id === f.dir_id).path\n      return parentDirPath === '/' ? `/${f.name}` : `${parentDirPath}/${f.name}`\n    })\n    return filePaths\n  }\n\n  share = async (document, recipients, sharingType, description) => {\n    const sharing = getDocumentSharing(this.state, document.id)\n    if (sharing) return this.addRecipients(sharing, recipients, sharingType)\n    const resp = await this.context.client\n      .collection('io.cozy.sharings')\n      .share(document, recipients, sharingType, description, '/preview')\n    this.dispatch(\n      addSharing(\n        resp.data,\n        document.path || (await this.getFilesPaths([document]))\n      )\n    )\n    return resp.data\n  }\n\n  addRecipients = async (sharing, recipients, sharingType) => {\n    const resp = await this.context.client\n      .collection('io.cozy.sharings')\n      .addRecipients(sharing, recipients, sharingType)\n    this.dispatch(updateSharing(resp.data))\n  }\n\n  revoke = async (document, sharingId, recipientIndex) => {\n    const sharing = getSharingById(this.state, sharingId)\n    await this.context.client\n      .collection('io.cozy.sharings')\n      .revokeRecipient(sharing, recipientIndex)\n    this.dispatch(\n      revokeRecipient(\n        sharing,\n        recipientIndex,\n        document.path || (await this.getFilesPaths([document]))\n      )\n    )\n  }\n\n  revokeSelf = async document => {\n    const sharing = getSharingForSelf(this.state, document.id)\n    await this.context.client.collection('io.cozy.sharings').revokeSelf(sharing)\n    this.dispatch(revokeSelf(sharing))\n  }\n\n  shareByLink = async document => {\n    trackSharingByLink(document)\n    const resp = await this.context.client\n      .collection('io.cozy.permissions')\n      .createSharingLink(document)\n    this.dispatch(addSharingLink(resp.data))\n    return resp\n  }\n\n  revokeSharingLink = async document => {\n    // Because some duplicate links have been created in the past, we must ensure\n    // we revoke all of them\n    const perms = getDocumentPermissions(this.state, document.id)\n    await Promise.all(\n      perms.map(p =>\n        this.context.client.collection('io.cozy.permissions').destroy(p)\n      )\n    )\n    this.dispatch(revokeSharingLink(perms))\n  }\n\n  render() {\n    // WARN: whe shouldn't do this (https://reactjs.org/docs/context.html#caveats)\n    // but if we don't, consumers don't rerender when the state changes after loading the sharings,\n    // probably because the state object remains the same...\n    return (\n      <SharingContext.Provider value={{ ...this.state }}>\n        {this.props.children}\n      </SharingContext.Provider>\n    )\n  }\n}\n\nexport const SharedDocument = ({ docId, children }) => (\n  <SharingContext.Consumer>\n    {({\n      byDocId,\n      isOwner,\n      getSharingType,\n      getRecipients,\n      getSharingLink,\n      revokeSelf\n    } = {}) =>\n      children({\n        hasWriteAccess:\n          !byDocId ||\n          !byDocId[docId] ||\n          isOwner(docId) ||\n          getSharingType(docId) === 'two-way',\n        isShared: byDocId !== undefined && byDocId[docId],\n        isSharedByMe: byDocId !== undefined && byDocId[docId] && isOwner(docId),\n        isSharedWithMe:\n          byDocId !== undefined && byDocId[docId] && !isOwner(docId),\n        recipients: getRecipients(docId),\n        link: getSharingLink(docId) !== null,\n        onLeave: revokeSelf\n      })\n    }\n  </SharingContext.Consumer>\n)\n\nexport const SharedStatus = ({ docId, className }) => (\n  <SharingContext.Consumer>\n    {({ byDocId, getRecipients, getSharingLink } = {}) =>\n      !byDocId || !byDocId[docId] ? (\n        <span className={className}></span>\n      ) : (\n        <DumbSharedStatus\n          className={className}\n          recipients={getRecipients(docId)}\n          docId={docId}\n          link={getSharingLink(docId) !== null}\n        />\n      )\n    }\n  </SharingContext.Consumer>\n)\n\nexport const SharedBadge = ({ docId, ...rest }) => (\n  <SharingContext.Consumer>\n    {({ byDocId, isOwner } = {}) =>\n      !byDocId || !byDocId[docId] ? null : (\n        <DumbSharedBadge byMe={isOwner(docId)} {...rest} />\n      )\n    }\n  </SharingContext.Consumer>\n)\n\nexport const SharedRecipients = ({ docId, onClick, ...rest }) => (\n  <SharingContext.Consumer>\n    {({ byDocId, getRecipients, getSharingLink } = {}) =>\n      !byDocId || !byDocId[docId] ? null : (\n        <RecipientsAvatars\n          recipients={getRecipients(docId)}\n          link={getSharingLink(docId) !== null}\n          onClick={onClick}\n          {...rest}\n        />\n      )\n    }\n  </SharingContext.Consumer>\n)\n\nexport const SharedRecipientsList = ({ docId, ...rest }) => (\n  <SharingContext.Consumer>\n    {({ byDocId, isOwner, getRecipients } = {}) =>\n      !byDocId || !byDocId[docId] || !isOwner(docId) ? null : (\n        <RecipientsList\n          recipients={getRecipients(docId).filter(r => r.status !== 'owner')}\n          {...rest}\n        />\n      )\n    }\n  </SharingContext.Consumer>\n)\n\nexport const ShareButton = ({ docId, ...rest }, { t }) => (\n  <SharingContext.Consumer>\n    {({ byDocId, documentType, isOwner }) =>\n      !byDocId[docId] ? (\n        <DumbShareButton label={t(`${documentType}.share.cta`)} {...rest} />\n      ) : isOwner(docId) ? (\n        <SharedByMeButton\n          label={t(`${documentType}.share.sharedByMe`)}\n          {...rest}\n        />\n      ) : (\n        <SharedWithMeButton\n          label={t(`${documentType}.share.sharedWithMe`)}\n          {...rest}\n        />\n      )\n    }\n  </SharingContext.Consumer>\n)\n\nShareButton.contextTypes = {\n  t: PropTypes.func.isRequired\n}\n\nconst SharingModal = ({ document, ...rest }) => (\n  <SharingContext.Consumer>\n    {({\n      documentType,\n      getOwner,\n      getSharingType,\n      getRecipients,\n      revokeSelf\n    }) => (\n      <SharingDetailsModal\n        document={document}\n        documentType={documentType}\n        owner={getOwner(document.id)}\n        sharingType={getSharingType(document.id)}\n        recipients={getRecipients(document.id)}\n        onRevoke={revokeSelf}\n        {...rest}\n      />\n    )}\n  </SharingContext.Consumer>\n)\n\nexport const ShareModal = ({ document, ...rest }) => (\n  <SharingContext.Consumer>\n    {({ byDocId, isOwner, canReshare }) =>\n      !byDocId[document.id] ||\n      isOwner(document.id) ||\n      canReshare(document.id) ? (\n        <EditableSharingModal document={document} {...rest} />\n      ) : (\n        <SharingModal document={document} {...rest} />\n      )\n    }\n  </SharingContext.Consumer>\n)\n","export const SOFTWARE_ID = 'registry://drive'\nexport const SOFTWARE_NAME = 'Cozy Drive'\nexport const APP_STORE_ID = '1224102389'\nexport const APP_MARKET_ID = 'market://details?id=io.cozy.drive.mobile'\n","import { Group } from 'cozy-doctypes'\n\n// TODO: sadly we have different versions of contacts' doctype to handle...\n// A migration tool on the stack side is needed here\nconst emailMatch = (input, contact) => {\n  if (!contact.email) return false\n  const emailInput = new RegExp(input, 'i')\n  if (Array.isArray(contact.email)) {\n    return contact.email.some(email => emailInput.test(email.address))\n  }\n  return emailInput.test(contact.email)\n}\n\nconst cozyUrlMatch = (input, contact) => {\n  if (!contact.cozy && !contact.url) return false\n  const urlInput = new RegExp(input, 'i')\n  if (contact.cozy && Array.isArray(contact.cozy)) {\n    return contact.cozy.some(cozy => urlInput.test(cozy.url))\n  }\n  return urlInput.test(contact.url)\n}\n\nconst groupNameMatch = (input, contactOrGroup) => {\n  if (contactOrGroup._type !== Group.doctype) return false\n  const nameInput = new RegExp(input, 'i')\n  return nameInput.test(contactOrGroup.name)\n}\n\nexport { emailMatch, cozyUrlMatch, groupNameMatch }\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport SharingContext from 'sharing/context'\n\nexport const SharedDocuments = ({ children }) => (\n  <SharingContext.Consumer>\n    {({ sharings } = { sharings: [] }) =>\n      children({\n        sharedDocuments: sharings.map(\n          sharing => sharing.attributes.rules[0].values[0]\n        )\n      })\n    }\n  </SharingContext.Consumer>\n)\n\nSharedDocuments.propTypes = {\n  children: PropTypes.node\n}\n\nexport default SharedDocuments\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"upload-queue\":\"upload-queue--3bKZ8\",\"upload-queue--visible\":\"upload-queue--visible--v4xZr\",\"upload-queue-header\":\"upload-queue-header--FOzzt\",\"upload-queue-header-inner\":\"upload-queue-header-inner--3EoLE\",\"btn-close\":\"btn-close--1Pngc\",\"upload-queue-progress\":\"upload-queue-progress--4yPCZ\",\"upload-queue-content\":\"upload-queue-content--1p3kn\",\"upload-queue--collapsed\":\"upload-queue--collapsed--2xa0I\",\"upload-queue-list\":\"upload-queue-list--2vmTJ\",\"upload-queue-item--error\":\"upload-queue-item--error--2Zajh\",\"upload-queue-item--done\":\"upload-queue-item--done--1VrfD\",\"upload-queue-item\":\"upload-queue-item--12cMu\",\"item-file\":\"item-file--fFD25\",\"item-ext\":\"item-ext--2QO0X\",\"item-status\":\"item-status--3wjiT\",\"item-pending\":\"item-pending--1hu5q\",\"spin\":\"spin--1JzSZ\",\"shake\":\"shake--1nNso\"};","export {\n  UNLINK,\n  setClient,\n  setToken,\n  revokeClient,\n  unrevokeClient,\n  unlink,\n  setOnboarding\n} from './actions'\n\nexport { default } from './reducer'\n\nexport {\n  getClientSettings,\n  getToken,\n  isAuthorized,\n  isRevoked,\n  isClientRevoked,\n  getOnboardingInformations\n} from './selectors'\n","import get from 'lodash/get'\nimport { getFileMimetype } from 'drive/lib/getFileMimetype'\n\nimport IconFolder from 'drive/assets/icons/icon-type-folder.svg'\nimport IconAudio from 'drive/assets/icons/icon-type-audio.svg'\nimport IconBin from 'drive/assets/icons/icon-type-bin.svg'\nimport IconCode from 'drive/assets/icons/icon-type-code.svg'\nimport IconFiles from 'drive/assets/icons/icon-type-files.svg'\nimport IconImage from 'drive/assets/icons/icon-type-image.svg'\nimport IconPdf from 'drive/assets/icons/icon-type-pdf.svg'\nimport IconSlide from 'drive/assets/icons/icon-type-slide.svg'\nimport IconSheet from 'drive/assets/icons/icon-type-sheet.svg'\nimport IconText from 'drive/assets/icons/icon-type-text.svg'\nimport IconVideo from 'drive/assets/icons/icon-type-video.svg'\nimport IconZip from 'drive/assets/icons/icon-type-zip.svg'\nimport IconNote from 'drive/assets/icons/icon-type-note.svg'\n\nconst getMimeTypeIcon = (isDirectory, name, mime) => {\n  if (isDirectory) {\n    return IconFolder\n  } else if (/\\.cozynote$/.test(name)) {\n    return IconNote\n  } else {\n    const iconsByMimeType = {\n      audio: IconAudio,\n      bin: IconBin,\n      code: IconCode,\n      image: IconImage,\n      pdf: IconPdf,\n      slide: IconSlide,\n      sheet: IconSheet,\n      text: IconText,\n      video: IconVideo,\n      zip: IconZip\n    }\n    const type = getFileMimetype(iconsByMimeType)(mime, name)\n    return get(iconsByMimeType, type, IconFiles)\n  }\n}\n\nexport default getMimeTypeIcon\n","import React from 'react'\nimport { Icon } from 'cozy-ui/transpiled/react'\n\nimport IconFiles from '../icons/icon-type-files.svg'\nimport IconBin from '../icons/icon-type-bin.svg'\nimport IconCode from '../icons/icon-type-code.svg'\nimport IconSpreadsheet from '../icons/icon-type-sheet.svg'\nimport IconSlide from '../icons/icon-type-slide.svg'\nimport IconText from '../icons/icon-type-text.svg'\nimport IconZip from '../icons/icon-type-zip.svg'\nimport IconPdf from '../icons/icon-type-pdf.svg'\n\nconst FileIcon = ({ type }) => {\n  let icon\n\n  switch (type) {\n    case 'bin':\n      icon = IconBin\n      break\n    case 'code':\n      icon = IconCode\n      break\n    case 'spreadsheet':\n      icon = IconSpreadsheet\n      break\n    case 'slide':\n      icon = IconSlide\n      break\n    case 'text':\n      icon = IconText\n      break\n    case 'zip':\n      icon = IconZip\n      break\n    case 'pdf':\n      icon = IconPdf\n      break\n    default:\n      icon = IconFiles\n      break\n  }\n\n  return <Icon icon={icon} width={160} height={140} />\n}\n\nexport default FileIcon\n","import get from 'lodash/get'\n\nconst RECEIVE_SHARINGS = 'RECEIVE_SHARINGS'\nconst ADD_SHARING = 'ADD_SHARING'\nconst UPDATE_SHARING = 'UPDATE_SHARING'\nconst REVOKE_RECIPIENT = 'REVOKE_RECIPIENT'\nconst REVOKE_SELF = 'REVOKE_SELF'\nconst ADD_SHARING_LINK = 'ADD_SHARING_LINK'\nconst REVOKE_SHARING_LINK = 'REVOKE_SHARING_LINK'\nconst RECEIVE_PATHS = 'RECEIVE_PATHS'\n\n// actions\nexport const receiveSharings = ({\n  instanceUri,\n  sharings = [],\n  permissions = [],\n  apps = []\n}) => ({\n  type: RECEIVE_SHARINGS,\n  data: {\n    sharings: sharings.filter(\n      s => !areAllRecipientsRevoked(s) && !hasBeenSelfRevoked(s, instanceUri)\n    ),\n    permissions,\n    apps\n  }\n})\nexport const addSharing = (data, path) => ({\n  type: ADD_SHARING,\n  data,\n  path\n})\nexport const updateSharing = sharing => ({\n  type: UPDATE_SHARING,\n  sharing\n})\nexport const revokeRecipient = (sharing, index, path) => {\n  return {\n    type: REVOKE_RECIPIENT,\n    /* We set revoked status to the revoked member.\n    We can't just simply remove it, 'cauz we use the index\n    to remove members..\n    */\n    sharing: {\n      ...sharing,\n      attributes: {\n        ...sharing.attributes,\n        members: sharing.attributes.members.map((m, idx) => {\n          if (idx === index) {\n            return {\n              ...m,\n              status: 'revoked'\n            }\n          }\n          return m\n        })\n      }\n    },\n    path\n  }\n}\nexport const revokeSelf = sharing => ({ type: REVOKE_SELF, sharing })\nexport const addSharingLink = data => ({ type: ADD_SHARING_LINK, data })\nexport const revokeSharingLink = permissions => ({\n  type: REVOKE_SHARING_LINK,\n  permissions\n})\nexport const receivePaths = paths => ({ type: RECEIVE_PATHS, paths })\nexport const matchingInstanceName = (instanceUri = '') => shareMember =>\n  shareMember.instance &&\n  shareMember.instance.toString().toLowerCase() === instanceUri.toLowerCase()\n\n// reducers\nconst byIdInitialState = { sharings: [], permissions: [] }\nconst isItemEmpty = item =>\n  item.sharings.length === 0 && item.permissions.length === 0\nconst updateByIdItem = (state, id, updater) => {\n  const { [id]: byIdState, ...rest } = state\n  const update = updater(byIdState || byIdInitialState)\n  return isItemEmpty(update)\n    ? rest\n    : {\n        ...rest,\n        [id]: update\n      }\n}\n\nconst indexSharing = (state = {}, sharing) =>\n  getSharedDocIds(sharing).reduce(\n    (byId, id) =>\n      updateByIdItem(byId, id, state => ({\n        ...state,\n        sharings: [...state.sharings, sharing.id]\n      })),\n    state\n  )\n\nconst forgetSharing = (state = {}, sharing) =>\n  getSharedDocIds(sharing).reduce(\n    (byId, id) =>\n      updateByIdItem(byId, id, state => ({\n        ...state,\n        sharings: state.sharings.filter(sid => sid !== sharing.id)\n      })),\n    state\n  )\n\nconst indexPermission = (state = {}, perm) =>\n  getSharedDocIds(perm).reduce(\n    (byId, id) =>\n      updateByIdItem(byId, id, state => ({\n        ...state,\n        permissions: [...state.permissions, perm.id]\n      })),\n    state\n  )\n\nconst forgetPermission = (state = {}, permission) =>\n  getSharedDocIds(permission).reduce(\n    (byId, id) =>\n      updateByIdItem(byId, id, state => ({\n        ...state,\n        permissions: state.permissions.filter(pid => pid !== permission.id)\n      })),\n    state\n  )\n\nconst byDocId = (state = {}, action) => {\n  switch (action.type) {\n    case RECEIVE_SHARINGS:\n      // eslint-disable-next-line no-case-declarations\n      const intermediaryState = action.data.sharings.reduce(\n        (byId, sharing) => indexSharing(byId, sharing),\n        state\n      )\n      return action.data.permissions.reduce(\n        (byId, perm) => indexPermission(byId, perm),\n        intermediaryState\n      )\n    case ADD_SHARING:\n      return indexSharing(state, action.data)\n    case REVOKE_RECIPIENT:\n      if (areAllRecipientsRevoked(action.sharing)) {\n        return forgetSharing(state, action.sharing)\n      }\n      return state\n    case ADD_SHARING_LINK:\n      return indexPermission(state, action.data)\n    case REVOKE_SELF:\n      return forgetSharing(state, action.sharing)\n    case REVOKE_SHARING_LINK:\n      return action.permissions.reduce(\n        (byId, perm) => forgetPermission(byId, perm),\n        state\n      )\n    default:\n      return state\n  }\n}\n\nconst permissions = (state = [], action) => {\n  switch (action.type) {\n    case RECEIVE_SHARINGS:\n      return action.data.permissions\n    case ADD_SHARING_LINK:\n      return [...state, action.data]\n    case REVOKE_SHARING_LINK:\n      // eslint-disable-next-line no-case-declarations\n      const permIds = action.permissions.map(p => p.id)\n      return state.filter(p => permIds.indexOf(p.id) === -1)\n    default:\n      return state\n  }\n}\n\nconst apps = (state = [], action) => {\n  switch (action.type) {\n    case RECEIVE_SHARINGS:\n      return action.data.apps\n    default:\n      return state\n  }\n}\n\nconst sharings = (state = [], action) => {\n  switch (action.type) {\n    case RECEIVE_SHARINGS:\n      return action.data.sharings\n    case ADD_SHARING:\n      return [...state, action.data]\n    case UPDATE_SHARING:\n    case REVOKE_RECIPIENT:\n      return state.map(s => {\n        return s.id !== action.sharing.id ? s : action.sharing\n      })\n    case REVOKE_SELF:\n      return state.filter(s => s.id !== action.sharing.id)\n    default:\n      return state\n  }\n}\n\nconst sharedPaths = (state = [], action) => {\n  switch (action.type) {\n    case RECEIVE_PATHS:\n      return action.paths\n    case ADD_SHARING:\n      return [...state, action.path]\n    case REVOKE_RECIPIENT:\n      if (areAllRecipientsRevoked(action.sharing)) {\n        return state.filter(p => p !== action.path)\n      }\n      return state\n    default:\n      return state\n  }\n}\n\nconst reducer = (state = {}, action = {}) => ({\n  byDocId: byDocId(state.byDocId, action),\n  sharings: sharings(state.sharings, action),\n  permissions: permissions(state.permissions, action),\n  apps: apps(state.apps, action),\n  sharedPaths: sharedPaths(state.sharedPaths, action)\n})\nexport default reducer\n\n// selectors\nexport const isOwner = (state, docId) => {\n  if (state.byDocId[docId] && state.byDocId[docId].sharings.length !== 0) {\n    return (\n      getSharingById(state, state.byDocId[docId].sharings[0]).attributes\n        .owner === true\n    )\n  }\n  return true\n}\n\nexport const canReshare = (state, docId, instanceUri) => {\n  const sharing = getDocumentSharing(state, docId)\n  const me = sharing.attributes.members.find(matchingInstanceName(instanceUri))\n  return sharing.attributes.open_sharing === true && me && !me.read_only\n}\n\nexport const getOwner = (state, docId) =>\n  getRecipients(state, docId).find(r => r.status === 'owner')\n\nexport const getRecipients = (state, docId) => {\n  const recipients = getDocumentSharings(state, docId)\n    .map(sharing => {\n      const type = getDocumentSharingType(sharing, docId)\n      return sharing.attributes.members.map((m, idx) => ({\n        ...m,\n        type: m.read_only ? 'one-way' : type,\n        sharingId: sharing.id,\n        index: idx\n      }))\n    })\n    .reduce((acc, member) => acc.concat(member), [])\n    .filter(r => r.status !== 'revoked')\n  if (recipients[0] && recipients[0].status === 'owner') {\n    return [recipients[0], ...recipients.filter(r => r.status !== 'owner')]\n  }\n  return recipients\n}\n\nexport const getSharingLink = (state, docId, documentType) => {\n  // This shouldn't have happened, but unfortunately some duplicate sharing links have been created in the past\n  const perms = getDocumentPermissions(state, docId)\n  if (perms.length === 0) return null\n  const perm = perms[0]\n  const code =\n    get(perm, 'attributes.shortcodes.email') ||\n    get(perm, 'attributes.codes.email')\n  if (code) {\n    return buildSharingLink(state, documentType, code)\n  } else {\n    return null\n  }\n}\n\nexport const getSharingForSelf = (state, docId) =>\n  getDocumentSharing(state, docId)\n\nexport const getSharingType = (state, docId, instanceUri) => {\n  const sharing = getSharingForSelf(state, docId)\n  const type = getDocumentSharingType(sharing, docId)\n  if (sharing.attributes.owner) return type\n  const me = sharing.attributes.members.find(matchingInstanceName(instanceUri))\n  return me && me.read_only ? 'one-way' : type\n}\n\nexport const getDocumentSharing = (state, docId) =>\n  getDocumentSharings(state, docId)[0] || null\n\nconst getDocumentSharings = (state, docId) =>\n  !state.byDocId[docId]\n    ? []\n    : state.byDocId[docId].sharings.map(id => getSharingById(state, id))\n\nexport const getSharingById = (state, id) =>\n  state.sharings.find(s => s.id === id)\n\nexport const getDocumentPermissions = (state, docId) =>\n  !state.byDocId[docId]\n    ? []\n    : state.byDocId[docId].permissions.map(id => getPermissionById(state, id))\n\nconst getPermissionById = (state, id) =>\n  state.permissions.find(s => s.id === id)\n\nconst getApps = state => state.apps\n\nexport const hasSharedParent = (state, document) =>\n  state.sharedPaths.some(path => document.path.indexOf(`${path}/`) === 0)\n\nexport const hasSharedChild = (state, document) => {\n  const ret = state.sharedPaths.some(\n    path => path.indexOf(`${document.path}/`) === 0\n  )\n  return ret\n}\n\n// helpers\nconst getSharedDocIds = doc =>\n  doc.type === 'io.cozy.sharings'\n    ? getSharingDocIds(doc)\n    : getPermissionDocIds(doc)\n\nexport const getSharingDocIds = sharing =>\n  sharing.attributes.rules\n    .map(r => r.values)\n    .reduce((acc, val) => acc.concat(val), [])\n\nconst getPermissionDocIds = perm =>\n  Object.keys(perm.attributes.permissions)\n    .map(k => perm.attributes.permissions[k].values)\n    .reduce((acc, val) => [...acc, ...val], [])\n\nconst areAllRecipientsRevoked = sharing =>\n  sharing.attributes.owner &&\n  sharing.attributes.members.filter(m => m.status !== 'revoked').length === 1\n\nconst hasBeenSelfRevoked = (sharing, instanceUri) => {\n  const me = sharing.attributes.members.find(matchingInstanceName(instanceUri))\n  return !sharing.attributes.owner && me && me.status === 'revoked'\n}\n\nconst getDocumentSharingType = (sharing, docId) => {\n  if (!sharing) return null\n  const rule = sharing.attributes.rules.find(\n    r => r.values.indexOf(docId) !== -1\n  )\n  return rule.update === 'sync' && rule.remove === 'sync'\n    ? 'two-way'\n    : 'one-way'\n}\n\nconst buildSharingLink = (state, documentType, sharecode) => {\n  const appUrl = getAppUrlForDoctype(state, documentType)\n  return `${appUrl}public?sharecode=${sharecode}`\n}\n\nconst getAppUrlForDoctype = (state, documentType) => {\n  const apps = getApps(state)\n  switch (documentType) {\n    case 'Files':\n    case 'Document':\n      return getAppUrl(apps, 'drive')\n    case 'Albums':\n      return getAppUrl(apps, 'photos')\n    default:\n      throw new Error(\n        `Sharing link: don't know which app to use for doctype ${documentType}`\n      )\n  }\n}\n\nconst getAppUrl = (apps, appName) => {\n  const app = apps.find(\n    a => a.attributes.slug === appName && a.attributes.state === 'ready'\n  )\n  if (!app) {\n    throw new Error(`Sharing link: app ${appName} not installed`)\n  }\n  return app.links.related\n}\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-type-bin_37ea77f144ebbef7aab118258b0f643e\",\n  \"use\": \"icon-type-bin_37ea77f144ebbef7aab118258b0f643e-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-type-bin_37ea77f144ebbef7aab118258b0f643e\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(3)\\\">\\n    <path fill=\\\"#D1D5DB\\\" d=\\\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\\\" />\\n    <path fill=\\\"#A3ACB8\\\" d=\\\"M18.5,8.57092175e-14 C18.2238576,1.33045111e-13 18,0.230796814 18,0.500435829 L18,8 L25.4995642,8 C25.7759472,8 26,7.76806641 26,7.5 L26,7 L19,0 L18.5,8.57092175e-14 Z\\\" />\\n    <path fill=\\\"#4F5B69\\\" d=\\\"M4,15.5675676 C4,14.971332 4.05925097,14.4488147 4.17775468,14 C4.29625839,13.5511853 4.46309664,13.1793627 4.67827443,12.8845209 C4.89345222,12.5896791 5.15072615,12.3685511 5.45010395,12.2211302 C5.74948175,12.0737093 6.08315824,12 6.45114345,12 C7.23701017,12 7.84199372,12.2899234 8.26611227,12.8697789 C8.69023081,13.4496343 8.9022869,14.3488883 8.9022869,15.5675676 C8.9022869,16.1703552 8.84303594,16.6961485 8.72453222,17.1449631 C8.60602851,17.5937778 8.43919027,17.9672385 8.22401247,18.2653563 C8.00883468,18.5634741 7.75000151,18.78624 7.4475052,18.9336609 C7.14500888,19.0810818 6.80977315,19.1547912 6.44178794,19.1547912 C5.64968419,19.1547912 5.04470063,18.8484879 4.62681913,18.2358722 C4.20893762,17.6232566 4,16.7338306 4,15.5675676 L4,15.5675676 Z M7.7047817,15.5675676 C7.7047817,15.4627349 7.70322247,15.3628178 7.70010395,15.2678133 C7.69698543,15.1728087 7.69230772,15.0794435 7.68607069,14.987715 L5.39397089,17.1793612 C5.58731905,17.7755968 5.93970638,18.0737101 6.45114345,18.0737101 C6.85031385,18.0737101 7.15904257,17.8738759 7.37733888,17.4742015 C7.59563519,17.0745271 7.7047817,16.4389888 7.7047817,15.5675676 L7.7047817,15.5675676 Z M5.1975052,15.5675676 C5.1975052,15.6658482 5.19906443,15.7592133 5.20218295,15.8476658 C5.20530147,15.9361184 5.20997918,16.0262076 5.21621622,16.1179361 L7.4989605,13.9262899 C7.31184938,13.3628145 6.95946205,13.0810811 6.44178794,13.0810811 C6.04261755,13.0810811 5.73544806,13.2825533 5.52027027,13.6855037 C5.30509248,14.0884541 5.1975052,14.7158025 5.1975052,15.5675676 L5.1975052,15.5675676 Z M10.5488565,15.5675676 C10.5488565,14.971332 10.6081075,14.4488147 10.7266112,14 C10.8451149,13.5511853 11.0119532,13.1793627 11.227131,12.8845209 C11.4423088,12.5896791 11.6995827,12.3685511 11.9989605,12.2211302 C12.2983383,12.0737093 12.6320148,12 13,12 C13.7858667,12 14.3908503,12.2899234 14.8149688,12.8697789 C15.2390874,13.4496343 15.4511435,14.3488883 15.4511435,15.5675676 C15.4511435,16.1703552 15.3918925,16.6961485 15.2733888,17.1449631 C15.1548851,17.5937778 14.9880468,17.9672385 14.772869,18.2653563 C14.5576912,18.5634741 14.2988581,18.78624 13.9963617,18.9336609 C13.6938654,19.0810818 13.3586297,19.1547912 12.9906445,19.1547912 C12.1985407,19.1547912 11.5935572,18.8484879 11.1756757,18.2358722 C10.7577942,17.6232566 10.5488565,16.7338306 10.5488565,15.5675676 L10.5488565,15.5675676 Z M14.2536383,15.5675676 C14.2536383,15.4627349 14.252079,15.3628178 14.2489605,15.2678133 C14.245842,15.1728087 14.2411643,15.0794435 14.2349272,14.987715 L11.9428274,17.1793612 C12.1361756,17.7755968 12.4885629,18.0737101 13,18.0737101 C13.3991704,18.0737101 13.7078991,17.8738759 13.9261954,17.4742015 C14.1444917,17.0745271 14.2536383,16.4389888 14.2536383,15.5675676 L14.2536383,15.5675676 Z M11.7463617,15.5675676 C11.7463617,15.6658482 11.747921,15.7592133 11.7510395,15.8476658 C11.754158,15.9361184 11.7588357,16.0262076 11.7650728,16.1179361 L14.047817,13.9262899 C13.8607059,13.3628145 13.5083186,13.0810811 12.9906445,13.0810811 C12.5914741,13.0810811 12.2843046,13.2825533 12.0691268,13.6855037 C11.853949,14.0884541 11.7463617,14.7158025 11.7463617,15.5675676 L11.7463617,15.5675676 Z M17.7338877,17.9361179 L19.1652807,17.9361179 L19.1652807,13.6412776 L17.9303534,14.6339066 L17.3690229,13.8476658 L19.502079,12.1375921 L20.3253638,12.1375921 L20.3253638,17.9361179 L21.7286902,17.9361179 L21.7286902,19.017199 L17.7338877,19.017199 L17.7338877,17.9361179 Z M4,24.4127764 C4,23.8165408 4.05925097,23.2940235 4.17775468,22.8452088 C4.29625839,22.3963942 4.46309664,22.0245715 4.67827443,21.7297297 C4.89345222,21.434888 5.15072615,21.21376 5.45010395,21.0663391 C5.74948175,20.9189182 6.08315824,20.8452088 6.45114345,20.8452088 C7.23701017,20.8452088 7.84199372,21.1351322 8.26611227,21.7149877 C8.69023081,22.2948432 8.9022869,23.1940971 8.9022869,24.4127764 C8.9022869,25.015564 8.84303594,25.5413573 8.72453222,25.990172 C8.60602851,26.4389867 8.43919027,26.8124473 8.22401247,27.1105651 C8.00883468,27.4086829 7.75000151,27.6314489 7.4475052,27.7788698 C7.14500888,27.9262907 6.80977315,28 6.44178794,28 C5.64968419,28 5.04470063,27.6936968 4.62681913,27.0810811 C4.20893762,26.4684654 4,25.5790394 4,24.4127764 L4,24.4127764 Z M7.7047817,24.4127764 C7.7047817,24.3079438 7.70322247,24.2080267 7.70010395,24.1130221 C7.69698543,24.0180175 7.69230772,23.9246524 7.68607069,23.8329238 L5.39397089,26.02457 C5.58731905,26.6208056 5.93970638,26.9189189 6.45114345,26.9189189 C6.85031385,26.9189189 7.15904257,26.7190847 7.37733888,26.3194103 C7.59563519,25.9197359 7.7047817,25.2841976 7.7047817,24.4127764 L7.7047817,24.4127764 Z M5.1975052,24.4127764 C5.1975052,24.511057 5.19906443,24.6044222 5.20218295,24.6928747 C5.20530147,24.7813272 5.20997918,24.8714164 5.21621622,24.963145 L7.4989605,22.7714988 C7.31184938,22.2080234 6.95946205,21.9262899 6.44178794,21.9262899 C6.04261755,21.9262899 5.73544806,22.1277621 5.52027027,22.5307125 C5.30509248,22.9336629 5.1975052,23.5610113 5.1975052,24.4127764 L5.1975052,24.4127764 Z M11.1850312,26.7813268 L12.6164241,26.7813268 L12.6164241,22.4864865 L11.3814969,23.4791155 L10.8201663,22.6928747 L12.9532225,20.982801 L13.7765073,20.982801 L13.7765073,26.7813268 L15.1798337,26.7813268 L15.1798337,27.8624079 L11.1850312,27.8624079 L11.1850312,26.7813268 Z M17.0977131,24.4127764 C17.0977131,23.8165408 17.1569641,23.2940235 17.2754678,22.8452088 C17.3939715,22.3963942 17.5608097,22.0245715 17.7759875,21.7297297 C17.9911653,21.434888 18.2484393,21.21376 18.547817,21.0663391 C18.8471948,20.9189182 19.1808713,20.8452088 19.5488565,20.8452088 C20.3347233,20.8452088 20.9397068,21.1351322 21.3638254,21.7149877 C21.7879439,22.2948432 22,23.1940971 22,24.4127764 C22,25.015564 21.940749,25.5413573 21.8222453,25.990172 C21.7037416,26.4389867 21.5369034,26.8124473 21.3217256,27.1105651 C21.1065478,27.4086829 20.8477146,27.6314489 20.5452183,27.7788698 C20.242722,27.9262907 19.9074862,28 19.539501,28 C18.7473973,28 18.1424137,27.6936968 17.7245322,27.0810811 C17.3066507,26.4684654 17.0977131,25.5790394 17.0977131,24.4127764 L17.0977131,24.4127764 Z M20.8024948,24.4127764 C20.8024948,24.3079438 20.8009356,24.2080267 20.797817,24.1130221 C20.7946985,24.0180175 20.7900208,23.9246524 20.7837838,23.8329238 L18.491684,26.02457 C18.6850322,26.6208056 19.0374195,26.9189189 19.5488565,26.9189189 C19.9480269,26.9189189 20.2567557,26.7190847 20.475052,26.3194103 C20.6933483,25.9197359 20.8024948,25.2841976 20.8024948,24.4127764 L20.8024948,24.4127764 Z M18.2952183,24.4127764 C18.2952183,24.511057 18.2967775,24.6044222 18.299896,24.6928747 C18.3030146,24.7813272 18.3076923,24.8714164 18.3139293,24.963145 L20.5966736,22.7714988 C20.4095625,22.2080234 20.0571751,21.9262899 19.539501,21.9262899 C19.1403306,21.9262899 18.8331612,22.1277621 18.6179834,22.5307125 C18.4028056,22.9336629 18.2952183,23.5610113 18.2952183,24.4127764 L18.2952183,24.4127764 Z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fil-content-table\":\"fil-content-table--1HRVh\",\"fil-content-head\":\"fil-content-head--3qU4k\",\"fil-content-mobile-head\":\"fil-content-mobile-head--stPDy\",\"fil-content-body\":\"fil-content-body--2o5N_\",\"fil-content-row-head\":\"fil-content-row-head--2BxvZ\",\"fil-content-row\":\"fil-content-row--3tUJY\",\"fil-content-row-selected\":\"fil-content-row-selected--2YE0h\",\"fil-content-cell\":\"fil-content-cell--HBfF4\",\"fil-content-header\":\"fil-content-header--2G5CB\",\"fil-content-mobile-header\":\"fil-content-mobile-header--3J9WD\",\"fil-content-file-select\":\"fil-content-file-select--3xRxR\",\"fil-content-row--center\":\"fil-content-row--center--38ZfS\",\"fil-content-row-actioned\":\"fil-content-row-actioned--1ZmSl\",\"fil-content-row-disabled\":\"fil-content-row-disabled--zwfeB\",\"fil-content-ext\":\"fil-content-ext--3vi7B\",\"fil-sort-menu\":\"fil-sort-menu--3vJKf\",\"fil-sort-menu-item\":\"fil-sort-menu-item--3wQ6G\",\"fil-sort-menu-item-selected\":\"fil-sort-menu-item-selected---yp6_\",\"fil-content-header-sortableasc\":\"fil-content-header-sortableasc--3njaT\",\"fil-content-header-sortabledesc\":\"fil-content-header-sortabledesc--n_RWE\",\"fil-content-header-sortasc\":\"fil-content-header-sortasc--1wGfS\",\"fil-content-header-sortdesc\":\"fil-content-header-sortdesc--HO-Uf\",\"fil-content-file\":\"fil-content-file--2cyZM\",\"fil-content-file-openable\":\"fil-content-file-openable--2I7DZ\",\"fil-file-thumbnail\":\"fil-file-thumbnail--jxk48\",\"fil-file-thumbnail-image\":\"fil-file-thumbnail-image--3UQvE\",\"fil-content-shared\":\"fil-content-shared--nroRM\",\"fil-content-date\":\"fil-content-date--269HK\",\"fil-content-size\":\"fil-content-size--3keGT\",\"fil-content-status\":\"fil-content-status--1etSl\",\"fil-content-header-status\":\"fil-content-header-status--2dAhY\",\"fil-content-offline\":\"fil-content-offline--LQivN\",\"fil-content-file-action\":\"fil-content-file-action--V70XH\",\"fil-content-header-action\":\"fil-content-header-action--3l7K_\",\"fil-content-body--selectable\":\"fil-content-body--selectable--10Pwu\",\"fil-file\":\"fil-file--1wFvs\",\"fil-file-filename\":\"fil-file-filename--17PQJ\",\"fil-file-filename-wrapper\":\"fil-file-filename-wrapper--2l4sx\",\"fil-file-filename-and-ext\":\"fil-file-filename-and-ext--3XCEN\",\"fil-file-filename-spinner\":\"fil-file-filename-spinner--1h6S0\",\"fil-file-path\":\"fil-file-path--1SRH0\",\"fil-file-infos\":\"fil-file-infos--2LE_d\",\"fil-content-file-placeholder\":\"fil-content-file-placeholder--wth58\",\"placeHolderShimmer\":\"placeHolderShimmer--AXJs0\",\"fil-content-table-selection\":\"fil-content-table-selection--YjKJI\",\"fil-content-sharestatus\":\"fil-content-sharestatus--_2V0-\"};","/* global cozy */\nimport { getAdapter, extractFileAttributes } from './async'\nimport { getSort } from './reducer'\nimport React from 'react'\nimport { isMobileApp } from 'cozy-device-helper'\nimport {\n  saveFileWithCordova,\n  saveAndOpenWithCordova\n} from 'drive/mobile/lib/filesystem'\nimport { logException } from 'drive/lib/reporter'\nimport {\n  isDirectory,\n  isReferencedByAlbum,\n  ALBUMS_DOCTYPE\n} from 'drive/web/modules/drive/files'\nimport { addToUploadQueue } from 'drive/web/modules/upload'\nimport { showModal } from 'react-cozy-helpers'\nimport Alerter from 'cozy-ui/react/Alerter'\nimport QuotaAlert from 'drive/web/modules/upload/QuotaAlert'\n\nimport { ROOT_DIR_ID, TRASH_DIR_ID } from 'drive/constants/config.js'\n\nexport const OPEN_FOLDER = 'OPEN_FOLDER'\nexport const OPEN_FOLDER_SUCCESS = 'OPEN_FOLDER_SUCCESS'\nexport const OPEN_FOLDER_FAILURE = 'OPEN_FOLDER_FAILURE'\nexport const SORT_FOLDER = 'SORT_FOLDER'\nexport const SORT_FOLDER_SUCCESS = 'SORT_FOLDER_SUCCESS'\nexport const SORT_FOLDER_FAILURE = 'SORT_FOLDER_FAILURE'\nexport const FETCH_RECENT = 'FETCH_RECENT'\nexport const FETCH_RECENT_SUCCESS = 'FETCH_RECENT_SUCCESS'\nexport const FETCH_RECENT_FAILURE = 'FETCH_RECENT_FAILURE'\nexport const FETCH_SHARINGS = 'FETCH_SHARINGS'\nexport const FETCH_SHARINGS_SUCCESS = 'FETCH_SHARINGS_SUCCESS'\nexport const FETCH_SHARINGS_FAILURE = 'FETCH_SHARINGS_FAILURE'\nexport const FETCH_MORE_FILES = 'FETCH_MORE_FILES'\nexport const FETCH_MORE_FILES_SUCCESS = 'FETCH_MORE_FILES_SUCCESS'\nexport const FETCH_MORE_FILES_FAILURE = 'FETCH_MORE_FILES_FAILURE'\nexport const CREATE_FOLDER = 'CREATE_FOLDER'\nexport const CREATE_FOLDER_FAILURE_GENERIC = 'CREATE_FOLDER_FAILURE_GENERIC'\nexport const CREATE_FOLDER_FAILURE_DUPLICATE = 'CREATE_FOLDER_FAILURE_DUPLICATE'\nexport const CREATE_FOLDER_SUCCESS = 'CREATE_FOLDER_SUCCESS'\nexport const TRASH_FILES = 'TRASH_FILES'\nexport const TRASH_FILES_SUCCESS = 'TRASH_FILES_SUCCESS'\nexport const TRASH_FILES_FAILURE = 'TRASH_FILES_FAILURE'\nexport const DOWNLOAD_SELECTION = 'DOWNLOAD_SELECTION'\nexport const DOWNLOAD_FILE = 'DOWNLOAD_FILE'\nexport const OPEN_FILE_WITH = 'OPEN_FILE_WITH'\nexport const ADD_FILE = 'ADD_FILE'\nexport const UPDATE_FILE = 'UPDATE_FILE'\nexport const DELETE_FILE = 'DELETE_FILE'\n\nconst HTTP_CODE_CONFLICT = 409\n\nexport const META_DEFAULTS = {\n  cancelSelection: true,\n  hideActionMenu: true\n}\n\nexport const openFiles = () => {\n  return async dispatch => dispatch(openFolder(ROOT_DIR_ID))\n}\n\nexport const openRecent = () => {\n  return async dispatch => dispatch(fetchRecentFiles())\n}\n\nexport const openTrash = () => {\n  return async dispatch => dispatch(openFolder(TRASH_DIR_ID))\n}\n\nexport const openFolder = folderId => {\n  return async (dispatch, getState) => {\n    dispatch({\n      type: OPEN_FOLDER,\n      folderId,\n      meta: {\n        cancelSelection: true\n      }\n    })\n    try {\n      // PB: Pouch Mango queries don't return the total count...\n      // and so the fetchMore button would not be displayed unless... see FileList\n      const folder = await getAdapter(getState()).getFolder(folderId)\n      return dispatch({\n        type: OPEN_FOLDER_SUCCESS,\n        folder,\n        fileCount: folder.contents.meta.count || 0,\n        files: folder.contents.data\n      })\n    } catch (err) {\n      logException(err, {\n        context: OPEN_FOLDER_FAILURE\n      })\n      return dispatch({ type: OPEN_FOLDER_FAILURE, error: err })\n    }\n  }\n}\n\nexport const sortFolder = (folderId, sortAttribute, sortOrder = 'asc') => {\n  return async (dispatch, getState) => {\n    dispatch({\n      type: SORT_FOLDER,\n      folderId,\n      sortAttribute,\n      sortOrder,\n      meta: {\n        cancelSelection: true\n      }\n    })\n    try {\n      const files = await getAdapter(getState()).getSortedFolder(\n        folderId,\n        sortAttribute,\n        sortOrder\n      )\n\n      return dispatch({\n        type: SORT_FOLDER_SUCCESS,\n        files\n      })\n    } catch (err) {\n      logException(err, {\n        context: SORT_FOLDER_FAILURE\n      })\n      return dispatch({ type: SORT_FOLDER_FAILURE, error: err })\n    }\n  }\n}\n\nexport const fetchMoreFiles = (folderId, skip, limit) => {\n  return async (dispatch, getState) => {\n    const sort = getSort(getState())\n    dispatch({ type: FETCH_MORE_FILES, folderId, skip, limit })\n    try {\n      const files =\n        sort === null\n          ? await getAdapter(getState()).getFolderContents(\n              folderId,\n              skip,\n              limit\n            )\n          : await getAdapter(getState()).getSortedFolder(\n              folderId,\n              sort.attribute,\n              sort.order,\n              skip,\n              limit\n            )\n      return dispatch({\n        type: FETCH_MORE_FILES_SUCCESS,\n        files,\n        skip,\n        limit\n      })\n    } catch (err) {\n      logException(err, {\n        context: FETCH_MORE_FILES_FAILURE\n      })\n      return dispatch({ type: FETCH_MORE_FILES_FAILURE, error: err })\n    }\n  }\n}\n\nexport const fetchRecentFiles = () => {\n  return async (dispatch, getState) => {\n    dispatch({\n      type: FETCH_RECENT,\n      meta: META_DEFAULTS\n    })\n\n    try {\n      const files = await getAdapter(getState()).getRecentFiles()\n      // fetch the list of parent dirs to get the path of recent files\n      const parentDirIds = files\n        .map(f => f.dir_id)\n        .filter((value, index, self) => self.indexOf(value) === index)\n\n      const parentFolders = await getAdapter(getState()).getFilesInBatch(\n        parentDirIds\n      )\n\n      const filesWithPath = files.map(file => {\n        const parentFolder = parentFolders.rows.find(\n          row => row.id === file.dir_id\n        )\n        const path = parentFolder ? parentFolder.doc.path : ''\n        return { ...file, path, id: file._id }\n      })\n      return dispatch({\n        type: FETCH_RECENT_SUCCESS,\n        fileCount: filesWithPath.length,\n        files: filesWithPath\n      })\n    } catch (err) {\n      logException(err, {\n        context: FETCH_RECENT_FAILURE\n      })\n      return dispatch({ type: FETCH_RECENT_FAILURE, error: err })\n    }\n  }\n}\n\nexport const addFile = doc => {\n  return (dispatch, getState) =>\n    dispatch({\n      type: ADD_FILE,\n      file: doc,\n      currentFileCount: getState().view.fileCount,\n      currentSort: getSort(getState())\n    })\n}\n\nexport const updateFile = doc => ({\n  type: UPDATE_FILE,\n  file: doc\n})\n\nexport const deleteFile = doc => ({\n  type: DELETE_FILE,\n  file: doc\n})\n\nexport const getFileDownloadUrl = async id => {\n  const link = await cozy.client.files.getDownloadLinkById(id)\n  return `${cozy.client._url}${link}`\n}\n\nexport const uploadFiles = (files, dirId) => dispatch => {\n  dispatch(\n    addToUploadQueue(\n      files,\n      dirId,\n      () => null,\n      (loaded, quotas, conflicts, networkErrors, errors) =>\n        dispatch(\n          uploadQueueProcessed(loaded, quotas, conflicts, networkErrors, errors)\n        )\n    )\n  )\n}\n\nconst uploadQueueProcessed = (\n  loaded,\n  quotas,\n  conflicts,\n  networkErrors,\n  errors\n) => dispatch => {\n  if (quotas.length > 0) {\n    // quota errors have their own modal instead of a notification\n    dispatch(showModal(<QuotaAlert />))\n  } else if (conflicts.length > 0) {\n    Alerter.info('upload.alert.success_conflicts', {\n      smart_count: loaded.length,\n      conflictNumber: conflicts.length\n    })\n  } else if (networkErrors.length > 0) {\n    Alerter.info('upload.alert.network')\n  } else if (errors.length > 0) {\n    Alerter.info('upload.alert.errors')\n  } else {\n    Alerter.success('upload.alert.success', {\n      smart_count: loaded.length\n    })\n  }\n}\n\nexport const createFolder = name => {\n  return async (dispatch, getState) => {\n    const existingFolder = getState().view.files.find(\n      f => isDirectory(f) && f.name === name\n    )\n    const currentFileCount = getState().view.fileCount\n    if (existingFolder) {\n      Alerter.error('alert.folder_name', { folderName: name })\n      dispatch({\n        type: CREATE_FOLDER_FAILURE_DUPLICATE,\n        folderName: name\n      })\n      throw new Error('alert.folder_name')\n    }\n\n    dispatch({\n      type: CREATE_FOLDER,\n      name\n    })\n\n    try {\n      const folder = await cozy.client.files.createDirectory({\n        name: name,\n        dirID: getState().view.displayedFolder.id\n      })\n      const sort = getSort(getState())\n      dispatch({\n        type: CREATE_FOLDER_SUCCESS,\n        folder: extractFileAttributes(folder),\n        currentFileCount,\n        currentSort: sort\n      })\n    } catch (err) {\n      if (err.response && err.response.status === HTTP_CODE_CONFLICT) {\n        Alerter.error('alert.folder_name', { folderName: name })\n        dispatch({\n          type: CREATE_FOLDER_FAILURE_DUPLICATE,\n          folderName: name\n        })\n      } else {\n        Alerter.error('alert.folder_generic')\n        dispatch({\n          type: CREATE_FOLDER_FAILURE_GENERIC\n        })\n      }\n      throw err\n    }\n  }\n}\n\nexport const trashFiles = files => async (dispatch, _, { client }) => {\n  dispatch({ type: TRASH_FILES, files, meta: META_DEFAULTS })\n  const trashed = []\n  try {\n    for (const file of files) {\n      trashed.push(await cozy.client.files.trashById(file.id))\n\n      if (isReferencedByAlbum(file)) {\n        for (const ref of file.relationships.referenced_by.data) {\n          if (ref.type === ALBUMS_DOCTYPE) {\n            await cozy.client.data.removeReferencedFiles(\n              { _type: ref.type, _id: ref.id },\n              file.id\n            )\n          }\n        }\n      }\n\n      client.collection('io.cozy.permissions').revokeSharingLink(file)\n    }\n  } catch (err) {\n    if (!isAlreadyInTrash(err)) {\n      Alerter.error('alert.try_again')\n      return dispatch({\n        type: TRASH_FILES_FAILURE\n      })\n    }\n  }\n  Alerter.success('alert.trash_file_success')\n  return dispatch({\n    type: TRASH_FILES_SUCCESS,\n    ids: files.map(f => f.id)\n  })\n}\n\nconst isAlreadyInTrash = err => {\n  const reasons = err.reason !== undefined ? err.reason.errors : undefined\n  if (reasons) {\n    for (const reason of reasons) {\n      if (reason.detail === 'File or directory is already in the trash') {\n        return true\n      }\n    }\n  }\n  return false\n}\n\nconst isMissingFile = error => error.status === 404\n\nexport const downloadFileError = error => {\n  return isMissingFile(error)\n    ? 'error.download_file.missing'\n    : 'error.download_file.offline'\n}\n\nexport const downloadFiles = files => {\n  const meta = META_DEFAULTS\n  return async dispatch => {\n    if (files.length === 1 && !isDirectory(files[0])) {\n      return dispatch(downloadFile(files[0], meta))\n    }\n    const paths = files.map(f => f.path)\n    const href = await cozy.client.files.getArchiveLinkByPaths(paths)\n    const fullpath = await cozy.client.fullpath(href)\n    forceFileDownload(fullpath, 'files.zip')\n    return dispatch({ type: DOWNLOAD_SELECTION, files, meta })\n  }\n}\n\nconst downloadFile = (file, meta) => {\n  return async dispatch => {\n    const downloadURL = await cozy.client.files\n      .getDownloadLinkById(file.id)\n      .catch(error => {\n        Alerter.error(downloadFileError(error))\n        throw error\n      })\n    const filename = file.name\n\n    forceFileDownload(`${cozy.client._url}${downloadURL}?Dl=1`, filename)\n    return dispatch({ type: DOWNLOAD_FILE, file, meta })\n  }\n}\n\nconst forceFileDownload = (href, filename) => {\n  const element = document.createElement('a')\n  element.setAttribute('href', href)\n  element.setAttribute('download', filename)\n  element.style.display = 'none'\n  document.body.appendChild(element)\n  element.click()\n  document.body.removeChild(element)\n}\n\n// MOBILE STUFF\nexport const exportFilesNative = files => {\n  return async () => {\n    const downloadAllFiles = files.map(async file => {\n      const response = await cozy.client.files.downloadById(file.id)\n      const blob = await response.blob()\n      const filename = file.name\n      const localFile = await saveFileWithCordova(blob, filename)\n      return localFile.nativeURL\n    })\n\n    try {\n      Alerter.info('alert.preparing', {\n        duration: Math.min(downloadAllFiles.length * 2000, 6000)\n      })\n      const urls = await Promise.all(downloadAllFiles)\n      window.plugins.socialsharing.shareWithOptions(\n        {\n          files: urls\n        },\n        null,\n        error => {\n          throw error\n        }\n      )\n    } catch (error) {\n      Alerter.error(downloadFileError(error))\n    }\n  }\n}\n\nconst openFileDownloadError = error => {\n  return isMissingFile(error)\n    ? 'mobile.error.open_with.missing'\n    : 'mobile.error.open_with.offline'\n}\n\nexport const openFileWith = (id, filename) => {\n  return async dispatch => {\n    if (isMobileApp() && window.cordova.plugins.fileOpener2) {\n      dispatch({ type: OPEN_FILE_WITH, id })\n      const response = await cozy.client.files.downloadById(id).catch(error => {\n        Alerter.error(openFileDownloadError(error))\n        throw error\n      })\n      const blob = await response.blob()\n      await saveAndOpenWithCordova(blob, filename).catch(() => {\n        Alerter.error('mobile.error.open_with.noapp')\n      })\n    } else {\n      Alerter.error('mobile.error.open_with.noapp')\n    }\n  }\n}\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-cross-bold_768adbba35f30227bde1acbc224e1604\",\n  \"use\": \"icon-cross-bold_768adbba35f30227bde1acbc224e1604-usage\",\n  \"viewBox\": \"0 0 16 16\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" viewBox=\\\"0 0 16 16\\\" id=\\\"icon-cross-bold_768adbba35f30227bde1acbc224e1604\\\">\\n  <defs>\\n    <path d=\\\"M8 6.586l5.293-5.293a1 1 0 0 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 1 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 1 1 1.414-1.414L8 6.586z\\\" id=\\\"icon-cross-bold_768adbba35f30227bde1acbc224e1604_a\\\" />\\n  </defs>\\n  <use fill=\\\"#32363F\\\" fill-rule=\\\"nonzero\\\" xlink:href=\\\"#icon-cross-bold_768adbba35f30227bde1acbc224e1604_a\\\" />\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-type-video_efbe0710a085efd6387e86cadaf16503\",\n  \"use\": \"icon-type-video_efbe0710a085efd6387e86cadaf16503-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-type-video_efbe0710a085efd6387e86cadaf16503\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(1 1)\\\">\\n    <path fill=\\\"#FFC5CE\\\" d=\\\"M0,1.99161703 C0,0.891677316 0.89784041,0 1.99161703,0 L28.008383,0 C29.1083227,0 30,0.89784041 30,1.99161703 L30,28.008383 C30,29.1083227 29.1021596,30 28.008383,30 L1.99161703,30 C0.891677316,30 0,29.1021596 0,28.008383 L0,1.99161703 Z M1,14.0093689 C1,13.4519098 1.44335318,13 2.0093689,13 L3.9906311,13 C4.54809015,13 5,13.4433532 5,14.0093689 L5,15.9906311 C5,16.5480902 4.55664682,17 3.9906311,17 L2.0093689,17 C1.45190985,17 1,16.5566468 1,15.9906311 L1,14.0093689 Z M25,14.0093689 C25,13.4519098 25.4433532,13 26.0093689,13 L27.9906311,13 C28.5480902,13 29,13.4433532 29,14.0093689 L29,15.9906311 C29,16.5480902 28.5566468,17 27.9906311,17 L26.0093689,17 C25.4519098,17 25,16.5566468 25,15.9906311 L25,14.0093689 Z M1,7.99980749 C1,7.44762906 1.44335318,7 2.0093689,7 L3.9906311,7 C4.54809015,7 5,7.44371665 5,7.99980749 L5,11.0001925 C5,11.5523709 4.55664682,12 3.9906311,12 L2.0093689,12 C1.45190985,12 1,11.5562834 1,11.0001925 L1,7.99980749 Z M25,7.99980749 C25,7.44762906 25.4433532,7 26.0093689,7 L27.9906311,7 C28.5480902,7 29,7.44371665 29,7.99980749 L29,11.0001925 C29,11.5523709 28.5566468,12 27.9906311,12 L26.0093689,12 C25.4519098,12 25,11.5562834 25,11.0001925 L25,7.99980749 Z M1,24.9998075 C1,24.4476291 1.44335318,24 2.0093689,24 L3.9906311,24 C4.54809015,24 5,24.4437166 5,24.9998075 L5,28.0001925 C5,28.5523709 4.55664682,29 3.9906311,29 L2.0093689,29 C1.45190985,29 1,28.5562834 1,28.0001925 L1,24.9998075 Z M25,24.9998075 C25,24.4476291 25.4433532,24 26.0093689,24 L27.9906311,24 C28.5480902,24 29,24.4437166 29,24.9998075 L29,28.0001925 C29,28.5523709 28.5566468,29 27.9906311,29 L26.0093689,29 C25.4519098,29 25,28.5562834 25,28.0001925 L25,24.9998075 Z M1,1.99980749 C1,1.44762906 1.44335318,1 2.0093689,1 L3.9906311,1 C4.54809015,1 5,1.44371665 5,1.99980749 L5,5.00019251 C5,5.55237094 4.55664682,6 3.9906311,6 L2.0093689,6 C1.45190985,6 1,5.55628335 1,5.00019251 L1,1.99980749 Z M25,1.99980749 C25,1.44762906 25.4433532,1 26.0093689,1 L27.9906311,1 C28.5480902,1 29,1.44371665 29,1.99980749 L29,5.00019251 C29,5.55237094 28.5566468,6 27.9906311,6 L26.0093689,6 C25.4519098,6 25,5.55628335 25,5.00019251 L25,1.99980749 Z M1,18.9998075 C1,18.4476291 1.44335318,18 2.0093689,18 L3.9906311,18 C4.54809015,18 5,18.4437166 5,18.9998075 L5,22.0001925 C5,22.5523709 4.55664682,23 3.9906311,23 L2.0093689,23 C1.45190985,23 1,22.5562834 1,22.0001925 L1,18.9998075 Z M25,18.9998075 C25,18.4476291 25.4433532,18 26.0093689,18 L27.9906311,18 C28.5480902,18 29,18.4437166 29,18.9998075 L29,22.0001925 C29,22.5523709 28.5566468,23 27.9906311,23 L26.0093689,23 C25.4519098,23 25,22.5562834 25,22.0001925 L25,18.9998075 Z\\\" />\\n    <path fill=\\\"#FF405D\\\" d=\\\"M11,9.61464155 C11,9.06099084 11.3798008,8.84004874 11.8525944,9.12372488 L20.1474056,14.1006116 C20.6182805,14.3831366 20.6201992,14.8400487 20.1474056,15.1237249 L11.8525944,20.1006116 C11.3817195,20.3831366 11,20.1564073 11,19.609695 L11,9.61464155 Z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-type-image_5a0af3714e77328d0c04b0d83712f645\",\n  \"use\": \"icon-type-image_5a0af3714e77328d0c04b0d83712f645-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-type-image_5a0af3714e77328d0c04b0d83712f645\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(0 3)\\\">\\n    <rect width=\\\"32\\\" height=\\\"26\\\" fill=\\\"#8EE39B\\\" rx=\\\"2\\\" />\\n    <path fill=\\\"#1EC737\\\" d=\\\"M0,20 L6.29028051,13.7097195 C6.68224776,13.3177522 7.31387329,13.3138733 7.70591205,13.7059121 L11,17 L19.2937851,8.7062149 C19.6838168,8.31618318 20.320971,8.32097101 20.7058543,8.70585426 L32,20 L32,24.0020869 C32,25.1055038 31.1107383,26 29.9982567,26 L2.00174332,26 C0.89621101,26 0,25.1017394 0,24.0020869 L0,20 Z\\\" />\\n    <circle cx=\\\"8\\\" cy=\\\"7\\\" r=\\\"3\\\" fill=\\\"#FFFFFF\\\" />\\n    <path stroke=\\\"#8EE39B\\\" d=\\\"M11,16 L5.5,21.5 L11,16 Z\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","// extracted by mini-css-extract-plugin\nmodule.exports = {\"coz-btn-shared\":\"coz-btn-shared--27aW9\",\"coz-btn-sharedWithMe\":\"coz-btn-sharedWithMe--1CdsF\"};","/* eslint no-console: 0 */\nimport configureStore from 'drive/store/configureStore'\nimport { loadState } from 'drive/store/persistedState'\nimport { startMediaBackup } from 'drive/mobile/modules/mediaBackup/duck'\nimport { initClient } from './cozy-helper'\nimport { logException, configureReporter } from 'drive/lib/reporter'\nimport { getTranslateFunction } from './i18n'\n\nimport {\n  getPlatform,\n  isMobileApp,\n  isIOSApp,\n  isAndroidApp\n} from 'cozy-device-helper'\n\n/*\n  This files is split on 4 parts:\n    - GENERIC: Platform agnostic\n    - SERVICE: The service background\n    - ANDROID: The Android-specific part\n    - IOS: The iOS-specific part\n\n  Only 3 functions are export:\n    - updateStatusBackgroundService: to enbale/disable background service\n    - startBackgroundService: to start background service\n    - disableBackgroundService: to disable background service\n\n  For each platform (Android, iOS) we have:\n    - has__platform__CordovaPlugin: Checks if the plugin is installed\n    - enable__platform__BackgroundService and disable__platform__BackgroundService\n    - start__platform__BackgroundService: Allowing to add a specific callback at the end of the service\n*/\n\n// GENERIC\n\nexport const updateStatusBackgroundService = backupImages => {\n  if (backupImages) {\n    enableBackgroundService()\n  } else {\n    disableBackgroundService()\n  }\n}\n\nexport const startBackgroundService = () => {\n  if (hasIosCordovaPlugin()) {\n    startIosBackgroundService()\n  } else if (hasAndroidCordovaPlugin()) {\n    startAndroidBackgroundService()\n  } else {\n    notCompatibleError()\n  }\n}\n\nconst enableBackgroundService = () => {\n  if (hasIosCordovaPlugin()) {\n    enableIosBackgroundService()\n  } else if (hasAndroidCordovaPlugin()) {\n    enableAndroidBackgroundService()\n  } else {\n    notCompatibleError()\n  }\n}\n\nexport const disableBackgroundService = async () => {\n  if (hasIosCordovaPlugin()) {\n    disableIosBackgroundService()\n  } else if (hasAndroidCordovaPlugin()) {\n    await disableAndroidBackgroundService()\n  } else {\n    notCompatibleError()\n  }\n}\n\nconst notCompatibleError = () => {\n  const msg = 'Background Service is not compatible with your platform.'\n  console.warn(msg)\n  if (isMobileApp()) {\n    console.log(getPlatform())\n    if (isIOSApp()) {\n      console.log(window.BackgroundFetch)\n    } else if (isAndroidApp()) {\n      console.log(window.JSBackgroundService)\n    }\n  }\n  logException(msg)\n}\n\n// SERVICE\n\nconst backgroundService = () =>\n  new Promise(resolve => {\n    console.log('BackgroundFetch initiated')\n\n    loadState()\n      .then(persistedState => {\n        const cozyURL = persistedState.mobile.settings.serverUrl\n        configureReporter()\n        const client = initClient(cozyURL)\n        const store = configureStore(\n          client,\n          getTranslateFunction(),\n          persistedState\n        )\n        return store.dispatch(startMediaBackup())\n      })\n      .then(resolve)\n      .catch(resolve)\n  })\n\n// ANDROID\n\nconst hasAndroidCordovaPlugin = () =>\n  isAndroidApp() && window.JSBackgroundService !== undefined\n\nconst enableAndroidBackgroundService = async () => {\n  const isEnable = await isEnableAndroidBackgroundService()\n  if (!isEnable) {\n    const repeatingPeriod = 60 * 60 * 1000\n    window.JSBackgroundService.setRepeating(repeatingPeriod, err => {\n      if (err) {\n        console.warn(err)\n        logException('enableAndroidBackgroundService error')\n      }\n    })\n  }\n}\n\nconst disableAndroidBackgroundService = async () => {\n  const isEnable = await isEnableAndroidBackgroundService()\n  if (isEnable) {\n    window.JSBackgroundService.cancelRepeating(err => {\n      if (err) {\n        console.warn(err)\n        logException('disableAndroidBackgroundService error')\n      }\n    })\n  }\n}\n\nconst startAndroidBackgroundService = () => {\n  backgroundService().then(() => {\n    stopAndroidBackgroundService()\n  })\n}\n\nconst stopAndroidBackgroundService = () => {\n  window.service.workDone()\n}\n\nconst isEnableAndroidBackgroundService = () =>\n  new Promise(resolve => {\n    window.JSBackgroundService.isRepeating((err, isSet) => {\n      if (err) {\n        console.warn(err)\n        logException('isEnableAndroidBackgroundService error')\n        resolve(false)\n      }\n      resolve(isSet)\n    })\n  })\n\n// IOS\n\nconst hasIosCordovaPlugin = () =>\n  isIOSApp() && window.BackgroundFetch !== undefined\n\nconst enableIosBackgroundService = () => {\n  // documentation: https://github.com/transistorsoft/cordova-plugin-background-fetch\n  const fetcher = window.BackgroundFetch\n\n  const failureCallback = error => {\n    console.log('BackgroundFetch failed', error)\n  }\n\n  const options = {\n    stopOnTerminate: false\n  }\n  fetcher.configure(startIosBackgroundService, failureCallback, options)\n}\n\nconst disableIosBackgroundService = () => {\n  window.BackgroundFetch.stop()\n}\n\nconst startIosBackgroundService = () => {\n  backgroundService().then(() => {\n    stopIosBackgroundService()\n  })\n}\n\nconst stopIosBackgroundService = () => {\n  window.BackgroundFetch.finish()\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport cx from 'classnames'\nimport get from 'lodash/get'\n\nimport { Button, Icon } from 'cozy-ui/react'\nimport Alerter from 'cozy-ui/react/Alerter'\nimport SelectBox, { components } from 'cozy-ui/react/SelectBox'\nimport palette from 'cozy-ui/react/palette'\n\nimport { Contact, Group } from 'models'\nimport { contactsResponseType, groupsResponseType } from 'sharing/propTypes'\nimport ShareRecipientsInput from 'sharing/components/ShareRecipientsInput'\nimport styles from 'sharing/share.styl'\n\nconst DropdownIndicator = props => (\n  <components.DropdownIndicator {...props}>\n    <Icon icon=\"bottom\" color={palette.coolGrey} />\n  </components.DropdownIndicator>\n)\nconst Option = props => (\n  <components.Option {...props}>\n    <div className={cx(styles['select-option'])}>\n      {props.isSelected && (\n        <Icon icon=\"check-circleless\" color={palette.dodgerBlue} />\n      )}\n      <div>\n        <div className={styles['select-option-label']}>{props.label}</div>\n        <div className={styles['select-option-desc']}>{props.data.desc}</div>\n      </div>\n    </div>\n  </components.Option>\n)\nconst customStyles = {\n  option: (base, state) => ({\n    ...base,\n    color: 'black',\n    backgroundColor: state.isFocused ? palette.paleGrey : null,\n    padding: 0,\n    borderBottom:\n      state.options.findIndex(o => o.value === state.value) === 0\n        ? `1px solid ${palette.silver}`\n        : null\n  }),\n  menu: base => ({\n    ...base,\n    width: '204%'\n  })\n}\nconst ShareTypeSelect = ({ options, onChange }) => (\n  <div className={styles['select-wrapper']}>\n    <SelectBox\n      name=\"select\"\n      classNamePrefix=\"needsclick react-select\"\n      components={{ DropdownIndicator, Option }}\n      styles={customStyles}\n      defaultValue={options[0]}\n      isSearchable={false}\n      onChange={option => {\n        onChange(option.value)\n      }}\n      options={options}\n    />\n  </div>\n)\n\nShareTypeSelect.propTypes = {\n  onChange: PropTypes.func,\n  options: PropTypes.array.isRequired\n}\n\nShareTypeSelect.defaultProps = {\n  // eslint-disable-next-line no-console\n  onChange: console.log,\n  value: ''\n}\n\nconst ShareSubmit = props => (\n  <Button\n    onClick={() => {\n      props.onSubmit()\n    }}\n    busy={props.loading}\n    label={props.label}\n    disabled={props.disabled}\n  />\n)\n\nShareSubmit.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  label: PropTypes.string,\n  loading: PropTypes.bool,\n  disabled: PropTypes.bool\n}\n\nShareSubmit.defaultProps = {\n  label: 'Submit',\n  loading: false\n}\n\nexport const countNewRecipients = (currentRecipients, newRecipients) => {\n  return newRecipients.filter(contact => {\n    const email = Contact.getPrimaryEmail(contact)\n    const cozyUrl = Contact.getPrimaryCozy(contact)\n    return !currentRecipients.find(\n      r =>\n        (email && r.email && r.email === email) ||\n        (cozyUrl && r.instance && r.instance === cozyUrl)\n    )\n  }).length\n}\n\nclass ShareByEmail extends Component {\n  static contextTypes = {\n    t: PropTypes.func.isRequired,\n    client: PropTypes.object.isRequired\n  }\n  sharingTypes = [\n    {\n      value: 'two-way',\n      label: this.context.t('Share.type.two-way'),\n      desc: this.context.t('Share.type.desc.two-way'),\n      disabled: false\n    },\n    {\n      value: 'one-way',\n      label: this.context.t('Share.type.one-way'),\n      desc: this.context.t('Share.type.desc.one-way'),\n      disabled: false\n    }\n  ]\n\n  initialState = {\n    recipients: [],\n    sharingType: 'two-way',\n    loading: false\n  }\n\n  state = { ...this.initialState }\n\n  reset = () => {\n    this.setState({ ...this.initialState })\n  }\n\n  onChange = value => {\n    this.setState(state => ({ ...state, sharingType: value }))\n  }\n\n  onSubmit = () => {\n    this.sendSharingLink()\n  }\n\n  sanitizeRecipient = recipient => {\n    const matches = recipient.email.match(/\\s(.+@.+)\\s/g)\n    recipient.email = matches.length\n      ? matches[0]\n          .trim()\n          .replace(/\\s.+/g, '')\n          .replace(/^[\\W]|[\\W]$/g, '')\n      : recipient.email\n    return recipient\n  }\n\n  onRecipientPick = recipient => {\n    let contactsToAdd\n    if (recipient._type === Group.doctype) {\n      const groupId = recipient.id\n      contactsToAdd = this.props.contacts.data.filter(contact => {\n        const contactGroupIds = get(\n          contact,\n          'relationships.groups.data',\n          []\n        ).map(group => group._id)\n\n        return contactGroupIds.includes(groupId)\n      })\n    } else {\n      contactsToAdd = [recipient]\n    }\n\n    const filtered = contactsToAdd\n      .filter(\n        contact =>\n          (contact.email && contact.email.length > 0) ||\n          (contact.cozy && contact.cozy.length > 0)\n      )\n      .filter(contact => !this.state.recipients.find(r => r === contact))\n\n    this.setState(state => ({\n      ...state,\n      recipients: [...state.recipients, ...filtered]\n    }))\n  }\n\n  onRecipientRemove = recipient => {\n    const idx = this.state.recipients.findIndex(r => r === recipient)\n    this.setState(state => ({\n      ...state,\n      recipients: [\n        ...state.recipients.slice(0, idx),\n        ...state.recipients.slice(idx + 1)\n      ]\n    }))\n  }\n\n  getSuccessMessage = () => {\n    const { currentRecipients, documentType } = this.props\n    const { recipients } = this.state\n    if (recipients.length === 1) {\n      const recipient = recipients[0]\n      const email = Contact.isContact(recipient)\n        ? Contact.getPrimaryEmail(recipient)\n        : recipient.email\n      const cozyUrl = Contact.getPrimaryCozy(recipient)\n\n      if (email) {\n        return [\n          `${documentType}.share.shareByEmail.success`,\n          {\n            email\n          }\n        ]\n      } else if (cozyUrl) {\n        return [\n          `${documentType}.share.shareByEmail.success`,\n          {\n            email: cozyUrl\n          }\n        ]\n      } else {\n        return [\n          `${documentType}.share.shareByEmail.genericSuccess`,\n          {\n            count: 1\n          }\n        ]\n      }\n    } else {\n      return [\n        `${documentType}.share.shareByEmail.genericSuccess`,\n        {\n          count: countNewRecipients(currentRecipients, recipients)\n        }\n      ]\n    }\n  }\n\n  share = () => {\n    const { document, sharingDesc, onShare, createContact } = this.props\n    const { recipients, sharingType } = this.state\n    if (recipients.length === 0) {\n      return\n    }\n    this.setState(state => ({ ...state, loading: true }))\n    Promise.all(\n      recipients.map(\n        recipient =>\n          recipient.id\n            ? recipient\n            : createContact({\n                email: [{ address: recipient.email, primary: true }]\n              }).then(resp => resp.data)\n      )\n    )\n      .then(recipients =>\n        onShare(document, recipients, sharingType, sharingDesc)\n      )\n      .then(() => {\n        Alerter.success(...this.getSuccessMessage())\n        this.reset()\n      })\n      .catch(err => {\n        Alerter.error('Error.generic')\n        this.reset()\n        throw err\n      })\n  }\n\n  render() {\n    const { t } = this.context\n    const { contacts, documentType, groups } = this.props\n    const { recipients } = this.state\n\n    return (\n      <div className={styles['coz-form-group']}>\n        <div className={styles['coz-form']}>\n          <ShareRecipientsInput\n            label={t(`${documentType}.share.shareByEmail.email`)}\n            placeholder={\n              recipients.length === 0\n                ? t(`${documentType}.share.shareByEmail.emailPlaceholder`)\n                : ''\n            }\n            onFocus={this.onInputFocus}\n            onPick={recipient => this.onRecipientPick(recipient)}\n            onRemove={recipient => this.onRecipientRemove(recipient)}\n            contacts={contacts}\n            groups={groups}\n            recipients={recipients}\n          />\n        </div>\n        <div className={styles['share-type-control']}>\n          <ShareTypeSelect\n            options={this.sharingTypes}\n            onChange={this.onChange}\n          />\n          <ShareSubmit\n            label={t(`${documentType}.share.shareByEmail.send`)}\n            onSubmit={this.share}\n            loading={this.state.loading}\n            disabled={recipients.length === 0}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nShareByEmail.propTypes = {\n  currentRecipients: PropTypes.arrayOf(PropTypes.object),\n  contacts: contactsResponseType.isRequired,\n  groups: groupsResponseType.isRequired,\n  document: PropTypes.object.isRequired,\n  documentType: PropTypes.string.isRequired,\n  sharingDesc: PropTypes.string.isRequired,\n  onShare: PropTypes.func.isRequired,\n  createContact: PropTypes.func.isRequired\n}\n\nexport default ShareByEmail\n","import { startTracker, stopTracker } from 'drive/mobile/lib/tracker'\n\nimport { getServerUrl } from './reducers'\n\nexport const SET_URL = 'SET_URL'\nexport const BACKUP_IMAGES = 'BACKUP_IMAGES'\nexport const BACKUP_CONTACTS = 'BACKUP_CONTACTS'\nexport const WIFI_ONLY = 'WIFI_ONLY'\nexport const SET_ANALYTICS = 'SET_ANALYTICS'\nexport const SET_OFFLINE = 'SET_OFFLINE'\n\nexport const setUrl = url => ({ type: SET_URL, url })\n\nexport const setOffline = offline => ({ type: SET_OFFLINE, offline })\n\nexport const setWifiOnly = wifiOnly => ({ type: WIFI_ONLY, wifiOnly })\n\nexport const setAnalytics = analytics => (dispatch, getState) => {\n  dispatch({ type: SET_ANALYTICS, analytics })\n  const serverUrl = getServerUrl(getState())\n  if (analytics && serverUrl) {\n    startTracker(serverUrl)\n  } else if (analytics === false) {\n    stopTracker()\n  }\n}\n\nexport const setBackupImages = backupImages => ({\n  type: BACKUP_IMAGES,\n  backupImages\n})\n","const ColorHash = () => {\n  const schemes = {\n    base: [\n      '304FFE',\n      '2979FF',\n      '00B0FF',\n      '00DCE9',\n      '00D5B8',\n      '00C853',\n      'E70505',\n      'FF5700',\n      'FF7900',\n      'FFA300',\n      'B3C51D',\n      '64DD17',\n      'FF2828',\n      'F819AA',\n      'AA00FF',\n      '6200EA',\n      '7190AB',\n      '51658D'\n    ]\n  }\n\n  const hashCode = str => {\n    var h, i, len, max\n\n    h = 0\n    max = Math.pow(2, 32)\n\n    for (i = 0, len = str.length; i < len; i++) {\n      h = (h * 31 + str.charCodeAt(i)) % max\n    }\n\n    return h\n  }\n\n  const getColor = (str, name) => {\n    var scheme, hash\n\n    scheme = schemes[name] || schemes.base\n    hash = hashCode(str)\n\n    return '#' + scheme[hash % scheme.length]\n  }\n\n  return {\n    getHash: hashCode,\n    getColor: getColor\n  }\n}\n\nexport default ColorHash\n","/* global __PIWIK_TRACKER_URL__ __PIWIK_SITEID_MOBILE__ */\nimport {\n  getTracker,\n  configureTracker,\n  resetTracker\n} from 'cozy-ui/react/helpers/tracker'\nimport { SOFTWARE_ID } from './constants'\n\nconst mobileHeartBeatDelay = 30 // how many seconds between each hreatbeat ping to the server\n\n// We'll need access to the app's router history at some point\nlet appHistory\n\nexport const useHistoryForTracker = history => {\n  appHistory = history\n}\n\nexport const startTracker = (cozyServerUrl = '') => {\n  // start the tracker, inject the script\n  const trackerInstance = getTracker(\n    __PIWIK_TRACKER_URL__,\n    __PIWIK_SITEID_MOBILE__,\n    false,\n    true\n  )\n\n  // configure the options that aren't in webpack variables\n  let url = new URL(cozyServerUrl)\n\n  configureTracker({\n    userId: url.hostname || cozyServerUrl,\n    app: SOFTWARE_ID,\n    heartbeat: mobileHeartBeatDelay\n  })\n\n  // connect to the router history if possible\n  if (appHistory) {\n    trackerInstance.connectToHistory(appHistory)\n    trackerInstance.track(appHistory.getCurrentLocation()) // force tracking the current page\n  }\n}\n\nexport const stopTracker = () => {\n  resetTracker()\n  stopHeartBeat()\n}\n\nexport const startHeartBeat = () => {\n  const trackerInstance = getTracker()\n\n  if (trackerInstance) {\n    try {\n      trackerInstance.push(['enableHeartBeatTimer', mobileHeartBeatDelay])\n    } catch (err) {\n      //console.log(err)\n    }\n  }\n}\n\nexport const stopHeartBeat = () => {\n  const trackerInstance = getTracker()\n\n  if (trackerInstance) {\n    try {\n      trackerInstance.push(['disableHeartBeatTimer']) // undocumented, see https://github.com/piwik/piwik/blob/3.x-dev/js/piwik.js#L6544\n    } catch (err) {\n      //console.log(err)\n    }\n  }\n}\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-trash-big_48355d429631705f7ab5001494a0529c\",\n  \"use\": \"icon-trash-big_48355d429631705f7ab5001494a0529c-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-trash-big_48355d429631705f7ab5001494a0529c\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(2)\\\">\\n    <path fill=\\\"#D1D5DB\\\" d=\\\"M2,8 L26,8 L26,28.009947 C26,30.2135924 24.2157067,32 22.009947,32 L5.99005301,32 C3.78640758,32 2,30.2157067 2,28.009947 L2,8 Z\\\" />\\n    <path fill=\\\"#A3ACB8\\\" d=\\\"M7,2 L1.99124431,2 C0.899897516,2 0,2.8954305 0,4 L0,6 L28,6 L28,4 C28,2.88772964 27.1084896,2 26.0087557,2 L21,2 L20.4438648,0.887729645 C20.1990795,0.398159027 19.5511774,0 18.9975267,0 L9.00247329,0 C8.45576096,0 7.80127495,0.3974501 7.55613518,0.887729645 L7,2 Z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","module.exports = {\"name\":\"Drive\",\"name_prefix\":\"Cozy\",\"slug\":\"drive\",\"version\":\"1.18.3\",\"type\":\"webapp\",\"licence\":\"AGPL-3.0\",\"icon\":\"public/app-icon.svg\",\"categories\":[\"cozy\"],\"source\":\"https://github.com/cozy/cozy-drive\",\"editor\":\"Cozy\",\"developer\":{\"name\":\"Cozy Cloud\",\"url\":\"https://cozy.io\"},\"locales\":{\"en\":{\"short_description\":\"Cozy Drive helps you to save, sync and secure your files on your Cozy.\",\"long_description\":\"With Cozy Drive, you can easily:\\n- Store your important files and keep them secure in your Cozy\\n- Access to all your documents online & offline, from your desktop, and on your smartphone or tablet\\n- Share links to files ans folders with who you like;\\n- Automatically retrieve bills, payrolls, tax notices and other data from your main online services (internet, energy, retail, mobile, energy, travel...)\\n- Upload files to your Cozy from your Android\",\"screenshots\":[\"screenshots/en/screenshot01.png\",\"screenshots/en/screenshot02.png\",\"screenshots/en/screenshot03.png\",\"screenshots/en/screenshot04.png\"]},\"fr\":{\"short_description\":\"Cozy Drive est lapplication de sauvegarde, de synchronisation et de scurisation de tous vos fichiers sur Cozy.\",\"long_description\":\"Avec Cozy Drive vous pourrez :\\n- Sauvegarder et synchroniser gratuitement tous vos documents importants (carte didentit, photos de vacances, avis dimposition, fiches de salaires);\\n- Accder  vos documents nimporte quand, nimporte ou mme en mode avion depuis votre bureau, votre smartphone ou tablette;\\n- Partager vos fichiers et dossiers par lien avec qui vous le souhaitez;\\n- Rcuprer automatiquement vos documents administratifs de vos principaux fournisseurs de service (oprateur mobile, fournisseur dnergie, assureur, internet, sant);\\n- Rester synchronise lors de vos voyages et dplacements professionnels avec nos applications mobiles.\",\"screenshots\":[\"screenshots/fr/screenshot01.png\",\"screenshots/fr/screenshot02.png\",\"screenshots/fr/screenshot03.png\",\"screenshots/fr/screenshot04.png\"]}},\"screenshots\":[\"screenshots/fr/screenshot01.png\",\"screenshots/fr/screenshot02.png\",\"screenshots/fr/screenshot03.png\",\"screenshots/fr/screenshot04.png\"],\"langs\":[\"en\",\"fr\"],\"platforms\":[{\"type\":\"ios\",\"url\":\"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8\"},{\"type\":\"android\",\"url\":\"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile\"}],\"routes\":{\"/\":{\"folder\":\"/\",\"index\":\"index.html\",\"public\":false},\"/intents\":{\"folder\":\"/intents\",\"index\":\"index.html\",\"public\":false},\"/public\":{\"folder\":\"/public\",\"index\":\"index.html\",\"public\":true},\"/preview\":{\"folder\":\"/public\",\"index\":\"index.html\",\"public\":true}},\"intents\":[{\"action\":\"OPEN\",\"type\":[\"io.cozy.files\"],\"href\":\"/intents\"},{\"action\":\"PICK\",\"type\":[\"io.cozy.files\"],\"href\":\"/intents\"},{\"action\":\"GET_URL\",\"type\":[\"io.cozy.files\"],\"href\":\"/intents\"},{\"action\":\"OPEN\",\"type\":[\"io.cozy.suggestions\"],\"href\":\"/intents\"}],\"permissions\":{\"files\":{\"description\":\"Required to access the files\",\"type\":\"io.cozy.files\",\"verbs\":[\"ALL\"]},\"apps\":{\"description\":\"Required by the cozy-bar to display the icons of the apps\",\"type\":\"io.cozy.apps\",\"verbs\":[\"GET\"]},\"albums\":{\"description\":\"Required to manage photos albums\",\"type\":\"io.cozy.photos.albums\",\"verbs\":[\"PUT\"]},\"contacts\":{\"type\":\"io.cozy.contacts\",\"verbs\":[\"GET\",\"POST\"]},\"groups\":{\"type\":\"io.cozy.contacts.groups\",\"verbs\":[\"GET\"]},\"settings\":{\"description\":\"Required by the cozy-bar to display Claudy and know which applications are coming soon\",\"type\":\"io.cozy.settings\",\"verbs\":[\"GET\"]},\"oauth\":{\"description\":\"Required to display the cozy-desktop banner\",\"type\":\"io.cozy.oauth.clients\",\"verbs\":[\"GET\"]},\"reporting\":{\"description\":\"Allow to report unexpected errors to the support team\",\"type\":\"cc.cozycloud.sentry\",\"verbs\":[\"POST\"]}}}","/* global __TARGET__ cozy */\nimport React, { Component } from 'react'\nimport { withRouter } from 'react-router'\nimport { connect } from 'react-redux'\nimport classNames from 'classnames'\nimport Spinner from 'cozy-ui/react/Spinner'\nimport Icon from 'cozy-ui/react/Icon'\nimport { translate } from 'cozy-ui/react/I18n'\nimport { withBreakpoints } from 'cozy-ui/react'\nimport SharedDocuments from 'sharing/components/SharedDocuments'\n\nimport { ROOT_DIR_ID, TRASH_DIR_ID } from 'drive/constants/config'\nimport { openFolder, getFolderUrl } from 'drive/web/modules/navigation/duck'\nimport getFolderPath from './getFolderPath'\n\nimport styles from './breadcrumb.styl'\n\nexport const renamePathNames = (path, pathname, t) => {\n  if (pathname === '/recent') {\n    path.unshift({\n      name: t('breadcrumb.title_recent')\n    })\n  } else if (pathname.match(/^\\/sharings/)) {\n    path.unshift({\n      name: t('breadcrumb.title_sharings'),\n      url: '/sharings'\n    })\n  }\n\n  path.forEach(folder => {\n    if (folder.id === ROOT_DIR_ID) {\n      folder.name = t('breadcrumb.title_drive')\n    } else if (folder.id === TRASH_DIR_ID) {\n      folder.name = t('breadcrumb.title_trash')\n    }\n    if (!folder.name) folder.name = ''\n  })\n\n  return path\n}\n\nexport class Breadcrumb extends Component {\n  state = {\n    deployed: false\n  }\n\n  toggleDeploy = () => {\n    this.state.deployed ? this.closeMenu() : this.openMenu()\n  }\n\n  openMenu() {\n    this.setState({ deployed: true })\n    document.addEventListener('click', this.handleClickOutside, true)\n  }\n\n  closeMenu() {\n    this.setState({ deployed: false })\n    document.removeEventListener('click', this.handleClickOutside, true)\n  }\n\n  handleClickOutside = e => {\n    if (this.menu && !this.menu.contains(e.target)) {\n      e.stopPropagation()\n      this.closeMenu()\n    }\n  }\n\n  render() {\n    const {\n      path,\n      onBreadcrumbClick,\n      opening,\n      inlined,\n      className = ''\n    } = this.props\n    const { deployed } = this.state\n\n    if (!path) return false\n\n    return (\n      <div\n        className={classNames(\n          styles['fil-path-backdrop'],\n          { [styles['deployed']]: deployed },\n          { [styles['inlined']]: inlined },\n          { [styles['mobile']]: __TARGET__ === 'mobile' },\n          className\n        )}\n      >\n        <h2\n          data-test-id=\"path-title\"\n          className={styles['fil-path-title']}\n          onClick={this.toggleDeploy}\n          ref={ref => {\n            this.menu = ref\n          }}\n        >\n          {path.map((folder, index) => {\n            if (index < path.length - 1) {\n              return (\n                <span\n                  className={styles['fil-path-link']}\n                  onClick={e => {\n                    e.stopPropagation()\n                    onBreadcrumbClick(folder)\n                  }}\n                  key={index}\n                >\n                  <span className={styles['fil-path-link-name']}>\n                    {folder.name}\n                  </span>\n                  <Icon\n                    icon=\"forward\"\n                    className={styles['fil-path-separator']}\n                  />\n                </span>\n              )\n            } else {\n              return (\n                <span\n                  className={styles['fil-path-current']}\n                  onClick={e => {\n                    e.stopPropagation()\n                    if (path.length >= 2) this.toggleDeploy()\n                  }}\n                  key={index}\n                >\n                  <span className={styles['fil-path-current-name']}>\n                    {folder.name}\n                  </span>\n                  {path.length >= 2 && (\n                    <span className={styles['fil-path-down']} />\n                  )}\n\n                  {opening && <Spinner />}\n                </span>\n              )\n            }\n          })}\n        </h2>\n      </div>\n    )\n  }\n}\n\nclass RouterBreadCrumb extends Component {\n  state = {\n    opening: false\n  }\n\n  toggleOpening = () => {\n    this.setState(state => ({ opening: !state.opening }))\n  }\n\n  navigateToFolder = folderId => {\n    const { router, location, goToFolder, getFolderUrl } = this.props\n\n    this.toggleOpening()\n\n    goToFolder(folderId).then(() => {\n      this.toggleOpening()\n      router.push(getFolderUrl(folderId, location))\n    })\n  }\n\n  navigateToPath = path => {\n    const { router } = this.props\n    router.push(path)\n  }\n\n  navigateTo = folder => {\n    if (folder.id) this.navigateToFolder(folder.id)\n    else this.navigateToPath(folder.url)\n  }\n\n  render() {\n    const { path } = this.props\n    const { opening } = this.state\n\n    return (\n      <Breadcrumb\n        path={path}\n        onBreadcrumbClick={this.navigateTo}\n        opening={opening}\n      />\n    )\n  }\n}\n\nexport const PreviousButton = ({ onClick }) => (\n  <button className={styles['fil-path-previous']} onClick={onClick} />\n)\n\nclass RouterPreviousButton extends Component {\n  navigateToFolder = folderId => {\n    const { router, location, goToFolder, getFolderUrl } = this.props\n    goToFolder(folderId).then(() => {\n      router.push(getFolderUrl(folderId, location))\n    })\n  }\n\n  navigateToPath = path => {\n    const { router } = this.props\n    router.push(path)\n  }\n\n  navigateBack = () => {\n    const previousSegment = this.props.path[this.props.path.length - 2]\n    if (previousSegment.id) this.navigateToFolder(previousSegment.id)\n    else this.navigateToPath(previousSegment.url)\n  }\n\n  render() {\n    return <PreviousButton onClick={this.navigateBack} />\n  }\n}\n\nconst MobileAwareBreadcrumb = props => {\n  const { BarCenter, BarLeft } = cozy.bar\n\n  return props.breakpoints.isMobile ? (\n    <div>\n      {props.path.length >= 2 && (\n        <BarLeft>\n          <RouterPreviousButton {...props} />\n        </BarLeft>\n      )}\n      <BarCenter>\n        <RouterBreadCrumb {...props} />\n      </BarCenter>\n    </div>\n  ) : (\n    <RouterBreadCrumb {...props} />\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  path: renamePathNames(\n    getFolderPath(\n      state.view.displayedFolder,\n      ownProps.location.pathname,\n      ownProps.isPublic,\n      ownProps.sharedDocuments\n    ),\n    ownProps.location.pathname,\n    ownProps.t\n  ),\n  getFolderUrl\n})\n\nconst mapDispatchToProps = dispatch => ({\n  goToFolder: folderId => dispatch(openFolder(folderId))\n})\n\nconst withSharedDocuments = Wrapped =>\n  class withSharedDocumentsClass extends React.Component {\n    render() {\n      return (\n        <SharedDocuments>\n          {({ sharedDocuments }) => (\n            <Wrapped sharedDocuments={sharedDocuments} {...this.props} />\n          )}\n        </SharedDocuments>\n      )\n    }\n  }\n\nexport default withBreakpoints()(\n  withRouter(\n    translate()(\n      withSharedDocuments(\n        connect(\n          mapStateToProps,\n          mapDispatchToProps\n        )(MobileAwareBreadcrumb)\n      )\n    )\n  )\n)\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-type-code_998ba31b1b8dfd6f00ade2438c217d5a\",\n  \"use\": \"icon-type-code_998ba31b1b8dfd6f00ade2438c217d5a-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-type-code_998ba31b1b8dfd6f00ade2438c217d5a\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(3)\\\">\\n    <path fill=\\\"#E6D5FF\\\" d=\\\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\\\" />\\n    <path fill=\\\"#9C59FF\\\" d=\\\"M18.5,8.57092175e-14 C18.2238576,1.33045111e-13 18,0.230796814 18,0.500435829 L18,8 L25.4995642,8 C25.7759472,8 26,7.76806641 26,7.5 L26,7 L19,0 L18.5,8.57092175e-14 Z\\\" />\\n    <g stroke=\\\"#9C59FF\\\" stroke-width=\\\"2\\\" transform=\\\"translate(5 11)\\\">\\n      <polyline points=\\\"4 11 0 7 4 3\\\" stroke-linejoin=\\\"round\\\" />\\n      <polyline points=\\\"16 11 12 7 16 3\\\" stroke-linejoin=\\\"round\\\" transform=\\\"matrix(-1 0 0 1 28 0)\\\" />\\n      <path d=\\\"M6,14 L10,0\\\" />\\n    </g>\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-folder-broken_6aea13ed766f34f5967acf158d5b3f17\",\n  \"use\": \"icon-folder-broken_6aea13ed766f34f5967acf158d5b3f17-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-folder-broken_6aea13ed766f34f5967acf158d5b3f17\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(0 2)\\\">\\n    <path fill=\\\"#FDD5D5\\\" d=\\\"M0,4.00585866 C0,2.89805351 0.889261723,2 2.00174332,2 L29.9982567,2 C31.103789,2 32,2.89354265 32,4.00276013 L32,15 L24,19 L8,12 L0,16 L0,4.00585866 Z M0,18 L8,14 L24,21 L32,17 L32,26.007983 C32,27.1081436 31.1107383,28 29.9982567,28 L2.00174332,28 C0.89621101,28 0,27.1125667 0,26.000385 L0,18 Z\\\" />\\n    <path fill=\\\"#F52D2D\\\" d=\\\"M0,0.990777969 C0,0.443586406 0.449948758,0 1.00684547,0 L12.9931545,0 C13.5492199,0 14.3125,0.3125 14.7107565,0.71075654 L15.2892435,1.28924346 C15.6817835,1.68178346 16.4446309,2 17.0008717,2 L30.0059397,2 C31.1072288,2 32,2.89470506 32,4 L32,4 L17.0008717,4 C16.4481055,4 15.6875,4.3125 15.2892435,4.71075654 L14.7107565,5.28924346 C14.3182165,5.68178346 13.5500512,6 12.9931545,6 L1.00684547,6 C0.450780073,6 0,5.54902482 0,5.00922203 L0,0.990777969 Z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fil-topbar\":\"fil-topbar--1eJFH\",\"hidden-mobile\":\"hidden-mobile--x6udF\",\"spin\":\"spin--KIZH2\",\"shake\":\"shake--2eSbq\"};","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-type-zip_1ace38c6dbbbe1e7f4fb0ae579dd38d2\",\n  \"use\": \"icon-type-zip_1ace38c6dbbbe1e7f4fb0ae579dd38d2-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-type-zip_1ace38c6dbbbe1e7f4fb0ae579dd38d2\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(3)\\\">\\n    <rect width=\\\"26\\\" height=\\\"32\\\" fill=\\\"#D1D5DB\\\" rx=\\\"2\\\" />\\n    <path fill=\\\"#4F5B69\\\" d=\\\"M11,1 L13,1 L13,3 L11,3 L11,1 Z M11,5 L13,5 L13,7 L11,7 L11,5 Z M11,9 L13,9 L13,11 L11,11 L11,9 Z M13,3 L15,3 L15,5 L13,5 L13,3 Z M13,7 L15,7 L15,9 L13,9 L13,7 Z M11,12 L15,12 L15,19 L11,19 L11,12 Z M12,13 L14,13 L14,15 L12,15 L12,13 Z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import { combineReducers } from 'redux'\n\nimport modalReducer from './ModalManager'\n\nexport default combineReducers({ modal: modalReducer })\n\nexport { ModalManager, showModal } from './ModalManager'\n\nexport { default as getQueryParameter } from './QueryParameter'\nexport { default as BarContextProvider } from './BarContextProvider'\n","/* global cozy */\n\nimport 'whatwg-fetch'\nimport 'cozy-ui/transpiled/react/stylesheet.css'\n\nimport React from 'react'\nimport { render } from 'react-dom'\nimport IntentHandler from 'drive/web/modules/services'\nimport CozyClient, { CozyProvider } from 'cozy-client'\nimport { I18n } from 'cozy-ui/react/I18n'\nimport { getQueryParameter } from 'react-cozy-helpers'\nimport appMetadata from 'drive/appMetadata'\nimport { schema } from 'drive/lib/doctypes'\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const root = document.getElementById('main')\n  const data = root.dataset\n\n  const protocol = window.location ? window.location.protocol : 'https:'\n  const cozyUrl = `${protocol}//${data.cozyDomain}`\n\n  const { intent } = getQueryParameter()\n\n  const client = new CozyClient({\n    uri: cozyUrl,\n    token: data.cozyToken,\n    appMetadata,\n    schema\n  })\n\n  cozy.client.init({\n    cozyURL: cozyUrl,\n    token: data.cozyToken\n  })\n\n  render(\n    <I18n\n      lang={data.cozyLocale}\n      dictRequire={lang => require(`drive/locales/${lang}`)}\n    >\n      <CozyProvider client={client}>\n        <IntentHandler intentId={intent} />\n      </CozyProvider>\n    </I18n>,\n    root\n  )\n})\n","/**\n  Redux constants\n**/\n\n// global variables\nexport const ROOT_DIR_ID = 'io.cozy.files.root-dir'\nexport const TRASH_DIR_ID = 'io.cozy.files.trash-dir'\nexport const APPS_DIR_PATH = '/.cozy_apps'\nexport const TRASH_DIR_PATH = '/.cozy_trash'\nexport const KONNECTORS_DIR_PATH = '/.cozy_konnectors'\nexport const FILES_FETCH_LIMIT = 100\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-main-app_5a0af3714e77328d0c04b0d83712f645\",\n  \"use\": \"icon-main-app_5a0af3714e77328d0c04b0d83712f645-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-main-app_5a0af3714e77328d0c04b0d83712f645\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(0 3)\\\">\\n    <rect width=\\\"32\\\" height=\\\"26\\\" fill=\\\"#8EE39B\\\" rx=\\\"2\\\" />\\n    <path fill=\\\"#1EC737\\\" d=\\\"M0,20 L6.29028051,13.7097195 C6.68224776,13.3177522 7.31387329,13.3138733 7.70591205,13.7059121 L11,17 L19.2937851,8.7062149 C19.6838168,8.31618318 20.320971,8.32097101 20.7058543,8.70585426 L32,20 L32,24.0020869 C32,25.1055038 31.1107383,26 29.9982567,26 L2.00174332,26 C0.89621101,26 0,25.1017394 0,24.0020869 L0,20 Z\\\" />\\n    <circle cx=\\\"8\\\" cy=\\\"7\\\" r=\\\"3\\\" fill=\\\"#FFFFFF\\\" />\\n    <path stroke=\\\"#8EE39B\\\" d=\\\"M11,16 L5.5,21.5 L11,16 Z\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","// We're forced to separate the reducer and selectors from the actions\n// to avoid a circular dependency: actions (index.js) import setBackupImages()\n// that imports.... that imports configureStore which itself needs to import this reducer\n\nexport const MEDIA_UPLOAD_START = 'MEDIA_UPLOAD_START'\nexport const MEDIA_UPLOAD_END = 'MEDIA_UPLOAD_END'\nexport const MEDIA_UPLOAD_ABORT = 'MEDIA_UPLOAD_ABORT'\nexport const MEDIA_UPLOAD_SUCCESS = 'MEDIA_UPLOAD_SUCCESS'\nexport const MEDIA_UPLOAD_CANCEL = 'MEDIA_UPLOAD_CANCEL'\nexport const MEDIA_UPLOAD_QUOTA = 'MEDIA_UPLOAD_QUOTA'\nexport const CURRENT_UPLOAD = 'CURRENT_UPLOAD'\nexport const CURRENT_UPLOAD_PROGRESS = 'CURRENT_UPLOAD_PROGRESS'\nexport const CURRENT_UPLOAD_THUMBNAIL = 'CURRENT_UPLOAD_THUMBNAIL'\n\nconst initialState = {\n  running: false,\n  uploading: false,\n  cancelMediaBackup: false,\n  abortedMediaBackup: false,\n  diskQuotaReached: false,\n  uploaded: [],\n  currentUpload: undefined\n}\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case MEDIA_UPLOAD_START:\n      return {\n        ...state,\n        running: true,\n        cancelMediaBackup: false,\n        abortedMediaBackup: false,\n        diskQuotaReached: false\n      }\n    case MEDIA_UPLOAD_CANCEL:\n      return { ...state, cancelMediaBackup: true }\n    case MEDIA_UPLOAD_ABORT:\n      return { ...state, abortedMediaBackup: true }\n    case MEDIA_UPLOAD_QUOTA:\n      return { ...state, diskQuotaReached: true }\n    case MEDIA_UPLOAD_END:\n      return {\n        ...state,\n        running: false,\n        uploading: false,\n        cancelMediaBackup: true,\n        currentUpload: undefined\n      }\n    case MEDIA_UPLOAD_SUCCESS:\n      return {\n        ...state,\n        uploaded: [...state.uploaded, action.id]\n      }\n    case CURRENT_UPLOAD:\n      return {\n        ...state,\n        uploading: true,\n        currentUpload: {\n          media: action.media,\n          message: action.message,\n          messageData: action.messageData\n        }\n      }\n    case CURRENT_UPLOAD_PROGRESS:\n      return {\n        ...state,\n        currentUpload: {\n          ...state.currentUpload,\n          messageData: {\n            ...(state.currentUpload ? state.currentUpload.messageData : {}),\n            progress: action.progress\n          }\n        }\n      }\n    default:\n      return state\n  }\n}\nexport default reducer\n\nexport const isPreparingBackup = state =>\n  state.mobile.mediaBackup.running && !state.mobile.mediaBackup.uploading\n\nexport const isUploading = state => state.mobile.mediaBackup.uploading\n\nexport const isAborted = state => state.mobile.mediaBackup.abortedMediaBackup\n\nexport const isQuotaReached = state => state.mobile.mediaBackup.diskQuotaReached\n\nexport const getUploadStatus = state =>\n  state.mobile.mediaBackup.currentUpload &&\n  !state.mobile.mediaBackup.diskQuotaReached\n    ? {\n        current: state.mobile.mediaBackup.currentUpload.messageData.current,\n        total: state.mobile.mediaBackup.currentUpload.messageData.total,\n        progress: state.mobile.mediaBackup.currentUpload.messageData.progress\n      }\n    : {}\n","import {\n  SET_CLIENT,\n  SET_TOKEN,\n  REVOKE,\n  UNREVOKE,\n  SET_ONBOARDING\n} from './actions'\n\nconst initialState = {\n  authorized: false,\n  revoked: false,\n  client: null,\n  token: null,\n  onboarding: {\n    code: null,\n    state: null,\n    cozy_url: null\n  }\n}\n\nconst authorization = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_CLIENT:\n      return {\n        ...state,\n        authorized: true,\n        revoked: false,\n        client: action.client\n      }\n    case SET_TOKEN:\n      return { ...state, token: action.token }\n    case REVOKE:\n      return { ...state, revoked: true }\n    case UNREVOKE:\n      return { ...state, revoked: false }\n    case SET_ONBOARDING:\n      return {\n        ...state,\n        onboarding: {\n          code: action.code,\n          state: action.state,\n          cozy_url: action.cozy_url\n        }\n      }\n    default:\n      return state\n  }\n}\nexport default authorization\n","/* global __TARGET__ */\nimport { isOfflineCapable } from 'drive/mobile/modules/settings/duck'\n\nconst SET_FIRST_REPLICATION = 'SET_FIRST_REPLICATION'\nconst SET_POUCH_INDEXES = 'SET_POUCH_INDEXES'\n\nconst initialState = {\n  firstReplication: false,\n  indexes: null\n}\n\nconst replication = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_FIRST_REPLICATION:\n      return { ...state, firstReplication: action.firstReplication }\n    case SET_POUCH_INDEXES:\n      return { ...state, indexes: action.indexes }\n    default:\n      return state\n  }\n}\n\nexport default replication\n\nexport const getPouchIndexes = state =>\n  state.mobile && state.mobile.replication && state.mobile.replication.indexes\n\nexport const isFirstReplicationDone = state =>\n  state.mobile &&\n  state.mobile.replication &&\n  state.mobile.replication.firstReplication\n\nexport const shouldWorkFromPouchDB = state =>\n  __TARGET__ === 'mobile' &&\n  isOfflineCapable(state) &&\n  isFirstReplicationDone(state) &&\n  getPouchIndexes(state) !== null\n\nexport const setFirstReplication = firstReplication => ({\n  type: SET_FIRST_REPLICATION,\n  firstReplication\n})\n\nexport const setPouchIndexes = indexes => ({\n  type: SET_POUCH_INDEXES,\n  indexes\n})\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { Document, Page, pdfjs } from 'react-pdf'\nimport createWorker from 'react-pdf/dist/pdf.worker.entry.js'\nimport cx from 'classnames'\nimport throttle from 'lodash/throttle'\nimport { Spinner } from 'cozy-ui/react'\nimport withFileUrl from './withFileUrl'\nimport ToolbarButton from './PdfToolbarButton'\nimport NoViewer from './NoViewer'\nimport styles from './styles.styl'\n\npdfjs.GlobalWorkerOptions.workerPort = createWorker()\n\nexport const MIN_SCALE = 0.25\nexport const MAX_SCALE = 3\nexport const MAX_PAGES = 3\n\nexport class PdfJsViewer extends Component {\n  state = {\n    totalPages: 1,\n    scale: 1,\n    currentPage: 1,\n    loaded: false,\n    errored: false,\n    width: null,\n    renderAllPages: false\n  }\n\n  componentDidMount() {\n    this.setWrapperSize()\n    this.resizeListener = throttle(this.setWrapperSize, 500)\n    window.addEventListener('resize', this.resizeListener)\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.resizeListener)\n  }\n\n  toggleGestures(enable) {\n    if (!this.props.gestures) return\n    this.props.gestures.get('swipe').set({ enable })\n    this.props.gestures.get('pan').set({ enable })\n  }\n\n  setWrapperSize = () => {\n    const width = this.wrapper\n      ? this.wrapper.getBoundingClientRect().width\n      : null\n    this.setState({ width })\n  }\n\n  onLoadSuccess = ({ numPages }) => {\n    this.setState({\n      totalPages: numPages,\n      renderAllPages: numPages <= MAX_PAGES,\n      loaded: true\n    })\n  }\n\n  onLoadError = error => {\n    // eslint-disable-next-line no-console\n    console.warn(error)\n    this.setState({\n      errored: true\n    })\n  }\n\n  nextPage = () => {\n    this.setState(state => ({\n      currentPage: Math.min(state.currentPage + 1, state.totalPages)\n    }))\n  }\n\n  previousPage = () => {\n    this.setState(state => ({\n      currentPage: Math.max(state.currentPage - 1, 1)\n    }))\n  }\n\n  scaleUp = () => {\n    this.setState(state => {\n      const previousScale = state.scale\n      const scale = Math.min(previousScale + 0.25, MAX_SCALE)\n      if (scale > 1 && previousScale <= 1) this.toggleGestures(false)\n      return {\n        scale\n      }\n    })\n  }\n\n  scaleDown = () => {\n    this.setState(state => {\n      const previousScale = state.scale\n      const scale = Math.max(previousScale - 0.25, MIN_SCALE)\n      if (scale <= 1 && previousScale > 1) this.toggleGestures(true)\n      return {\n        scale\n      }\n    })\n  }\n\n  render() {\n    const { url, file } = this.props\n    const {\n      loaded,\n      errored,\n      totalPages,\n      currentPage,\n      scale,\n      width,\n      renderAllPages\n    } = this.state\n\n    if (errored) return <NoViewer file={file} />\n\n    return (\n      <div\n        data-test-id=\"viewer-pdf\"\n        className={styles['pho-viewer-pdfviewer']}\n        ref={ref => (this.wrapper = ref)}\n      >\n        <Document\n          file={url}\n          onLoadSuccess={this.onLoadSuccess}\n          onLoadError={this.onLoadError}\n          className={styles['pho-viewer-pdfviewer-pdf']}\n          loading={<Spinner size=\"xxlarge\" middle noMargin color=\"white\" />}\n        >\n          {renderAllPages ? (\n            [...Array(totalPages)].map((_, page) => (\n              <Page\n                key={page}\n                pageNumber={page + 1}\n                width={width}\n                scale={scale}\n                renderAnnotations={false}\n                className={cx('u-mv-1', styles['pho-viewer-pdfviewer-page'])}\n              />\n            ))\n          ) : (\n            <Page\n              pageNumber={currentPage}\n              width={width}\n              scale={scale}\n              renderAnnotations={false}\n              className={styles['pho-viewer-pdfviewer-page']}\n            />\n          )}\n        </Document>\n        {loaded && (\n          <div\n            className={cx(styles['pho-viewer-pdfviewer-toolbar'], 'u-p-half')}\n          >\n            {!renderAllPages && (\n              <span className=\"u-mh-half\">\n                <ToolbarButton\n                  icon=\"top\"\n                  onClick={this.previousPage}\n                  disabled={currentPage === 1}\n                />\n                {currentPage}/{totalPages}\n                <ToolbarButton\n                  icon=\"bottom\"\n                  onClick={this.nextPage}\n                  disabled={currentPage === totalPages}\n                />\n              </span>\n            )}\n\n            <span className=\"u-mh-half\">\n              <ToolbarButton\n                icon=\"dash\"\n                onClick={this.scaleDown}\n                disabled={scale === MIN_SCALE}\n              />\n              <ToolbarButton\n                icon=\"plus\"\n                onClick={this.scaleUp}\n                disabled={scale === MAX_SCALE}\n              />\n            </span>\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nPdfJsViewer.propTypes = {\n  url: PropTypes.string.isRequired,\n  file: PropTypes.object.isRequired,\n  gestures: PropTypes.object\n}\n\nexport default withFileUrl(PdfJsViewer)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Icon } from 'cozy-ui/react'\nimport getMimeTypeIcon from 'drive/lib/getMimeTypeIcon'\nimport { isDirectory } from 'drive/web/modules/drive/files'\n\nconst FileIcon = ({ file }) => {\n  return (\n    <Icon\n      icon={getMimeTypeIcon(isDirectory(file), file.name, file.mime)}\n      size={32}\n    />\n  )\n}\n\nFileIcon.propTypes = {\n  file: PropTypes.shape({\n    class: PropTypes.string,\n    mime: PropTypes.string,\n    name: PropTypes.string\n  }).isRequired\n}\n\nexport default FileIcon\n","import React, { Component } from 'react'\nimport {\n  ActionMenu,\n  Menu,\n  MenuButton,\n  MenuItem,\n  withBreakpoints\n} from 'cozy-ui/react/'\nimport { UserAvatar } from '../../sharing/components/Recipient'\nimport styles from 'drive/styles/actionmenu.styl'\n\nclass MenuAwareMobile extends Component {\n  state = {\n    active: false\n  }\n\n  toggle = () => {\n    this.setState({ active: !this.state.active })\n  }\n  render() {\n    const {\n      breakpoints: { isMobile },\n      children,\n      text,\n      buttonClassName,\n      name\n    } = this.props\n    if (isMobile) {\n      return (\n        <div>\n          <MenuButton\n            onClick={this.toggle}\n            text={text}\n            buttonClassName={buttonClassName}\n          />\n          {this.state.active && (\n            <ActionMenu onClose={() => this.toggle()}>\n              <MenuItem className={styles['fil-mobileactionmenu']}>\n                <UserAvatar name={name} size={'small'} />\n              </MenuItem>\n              {children}\n            </ActionMenu>\n          )}\n        </div>\n      )\n    }\n    return <Menu {...this.props} />\n  }\n}\n\nexport default withBreakpoints()(MenuAwareMobile)\n","export {\n  setUrl,\n  setAnalytics,\n  setOffline,\n  setBackupImages,\n  setWifiOnly\n} from './actions'\n\nexport {\n  default,\n  getServerUrl,\n  isAnalyticsOn,\n  isOfflineCapable,\n  isImagesBackupOn,\n  isWifiOnlyOn\n} from './reducers'\n","const arrToObj = (obj = {}, [key, val = true]) => {\n  obj[key] = val\n  return obj\n}\n\nconst getQueryParameter = () =>\n  window.location.search\n    .substring(1)\n    .split('&')\n    .map(varval => varval.split('='))\n    .reduce(arrToObj, {})\n\nexport default getQueryParameter\n","import React, { Component, forwardRef } from 'react'\nimport classNames from 'classnames'\nimport filesize from 'filesize'\nimport { Link } from 'react-router'\nimport { connect } from 'react-redux'\nimport Hammer from 'hammerjs'\n\nimport { translate } from 'cozy-ui/react/I18n'\nimport RenameInput from 'drive/web/modules/drive/RenameInput'\nimport { default as DesktopActionMenu } from 'drive/web/modules/actionmenu/ActionMenu'\nimport MobileActionMenu from 'drive/web/modules/actionmenu/MobileActionMenu'\nimport { isDirectory } from 'drive/web/modules/drive/files'\nimport { Button, Icon, withBreakpoints, MidEllipsis } from 'cozy-ui/react'\nimport { SharedStatus } from 'sharing'\nimport FileThumbnail from 'drive/web/modules/filelist/FileThumbnail'\n\nimport {\n  toggleItemSelection,\n  isSelected\n} from 'drive/web/modules/selection/duck'\nimport { isAvailableOffline } from 'drive/mobile/modules/offline/duck'\n\nimport styles from 'drive/styles/filelist.styl'\n\nconst ActionMenu = withBreakpoints()(\n  ({ breakpoints: { isMobile }, ...props }) =>\n    isMobile ? (\n      <MobileActionMenu {...props} />\n    ) : (\n      <DesktopActionMenu {...props} />\n    )\n)\n\nexport const splitFilename = file =>\n  isDirectory(file)\n    ? { filename: file.name, extension: '' }\n    : {\n        extension: file.name.slice(file.name.lastIndexOf('.')),\n        filename: file.name.slice(0, file.name.lastIndexOf('.'))\n      }\n\nconst getParentDiv = element => {\n  if (element.nodeName.toLowerCase() === 'div') {\n    return element\n  }\n  return getParentDiv(element.parentNode)\n}\n\nexport const getParentLink = element => {\n  if (!element) {\n    return null\n  }\n\n  if (element.nodeName.toLowerCase() === 'a') {\n    return element\n  }\n\n  return getParentLink(element.parentNode)\n}\n\nconst enableTouchEvents = ev => {\n  // remove event when you rename a file\n  if (['INPUT', 'BUTTON'].indexOf(ev.target.nodeName) !== -1) {\n    return false\n  }\n\n  const parentDiv = getParentDiv(ev.target)\n  // remove event when it's the checkbox or the more button\n  if (\n    parentDiv.className.indexOf(styles['fil-content-file-select']) !== -1 ||\n    parentDiv.className.indexOf(styles['fil-content-file-action']) !== -1\n  ) {\n    return false\n  }\n\n  // remove events when they are on the file's path, because it's a different behavior\n  const parentLink = getParentLink(ev.target)\n  if (\n    parentLink &&\n    parentLink.className.indexOf(styles['fil-file-path']) >= 0\n  ) {\n    return false\n  }\n\n  return true\n}\n\nconst SelectBox = ({ withSelectionCheckbox, selected, onClick }) => (\n  <div\n    className={classNames(\n      styles['fil-content-cell'],\n      styles['fil-content-file-select']\n    )}\n    onClick={onClick}\n  >\n    {withSelectionCheckbox && (\n      <span data-input=\"checkbox\">\n        <input\n          onChange={() => {\n            // handled by onClick on the <div>\n          }}\n          type=\"checkbox\"\n          checked={selected}\n        />\n        <label />\n      </span>\n    )}\n  </div>\n)\n\nconst FileName = ({\n  attributes,\n  isRenaming,\n  interactive,\n  withFilePath,\n  isMobile,\n  formattedSize,\n  formattedUpdatedAt\n}) => {\n  const classes = classNames(\n    styles['fil-content-cell'],\n    styles['fil-content-file'],\n    { [styles['fil-content-file-openable']]: !isRenaming && interactive }\n  )\n  const { filename, extension } = splitFilename(attributes)\n  return (\n    <div className={classes}>\n      {isRenaming ? (\n        <RenameInput />\n      ) : (\n        <div className={styles['fil-file']}>\n          <div className={styles['fil-file-filename']}>\n            <div className={styles['fil-file-filename-wrapper']}>\n              <div\n                data-test-id=\"fil-file-filename-and-ext\"\n                className={styles['fil-file-filename-and-ext']}\n              >\n                {filename}\n                {extension && (\n                  <span className={styles['fil-content-ext']}>{extension}</span>\n                )}\n              </div>\n            </div>\n          </div>\n          {withFilePath &&\n            attributes.displayedPath &&\n            (isMobile ? (\n              <MidEllipsis\n                className={styles['fil-file-path']}\n                text={attributes.displayedPath}\n              />\n            ) : (\n              <Link\n                to={`/folder/${attributes.dir_id}`}\n                className={styles['fil-file-path']}\n              >\n                <MidEllipsis text={attributes.displayedPath} />\n              </Link>\n            ))}\n          {!withFilePath &&\n            (isDirectory(attributes) || (\n              <div className={styles['fil-file-infos']}>\n                {`${formattedUpdatedAt}${\n                  formattedSize ? ` - ${formattedSize}` : ''\n                }`}\n              </div>\n            ))}\n        </div>\n      )}\n    </div>\n  )\n}\n\nconst LastUpdate = ({ date, formatted = '-' }) => (\n  <div\n    className={classNames(\n      styles['fil-content-cell'],\n      styles['fil-content-date']\n    )}\n  >\n    <time dateTime={date}>{formatted}</time>\n  </div>\n)\n\nconst Size = ({ filesize = '-' }) => (\n  <div\n    className={classNames(\n      styles['fil-content-cell'],\n      styles['fil-content-size']\n    )}\n  >\n    {filesize}\n  </div>\n)\n\nconst Status = ({ isAvailableOffline, id }) => (\n  <div\n    className={classNames(\n      styles['fil-content-cell'],\n      styles['fil-content-status']\n    )}\n  >\n    {isAvailableOffline && (\n      <span className={styles['fil-content-offline']}>\n        <Icon icon=\"phone-download\" color=\"white\" width=\"14\" height=\"14\" />\n      </span>\n    )}\n    <SharedStatus docId={id} className={styles['fil-content-sharestatus']} />\n  </div>\n)\n\nconst FileAction = forwardRef(({ t, onClick }, ref) => (\n  <div\n    className={classNames(\n      styles['fil-content-cell'],\n      styles['fil-content-file-action']\n    )}\n    ref={ref}\n  >\n    <Button\n      theme=\"action\"\n      onClick={onClick}\n      extension=\"narrow\"\n      icon={<Icon icon=\"dots\" color=\"charcoalGrey\" width=\"17\" height=\"17\" />}\n      iconOnly\n      label={t('Toolbar.more')}\n    />\n  </div>\n))\n\nclass File extends Component {\n  state = {\n    actionMenuVisible: false\n  }\n\n  constructor(props) {\n    super(props)\n    this.filerowMenuToggleRef = React.createRef()\n  }\n\n  showActionMenu = () => {\n    this.setState(state => ({ ...state, actionMenuVisible: true }))\n  }\n\n  hideActionMenu = () => {\n    this.setState(state => ({ ...state, actionMenuVisible: false }))\n  }\n\n  componentDidMount() {\n    this.gesturesHandler = new Hammer.Manager(this.filerow)\n    this.gesturesHandler.add(new Hammer.Tap({ event: 'singletap' }))\n    this.gesturesHandler.add(new Hammer.Press({ event: 'onpress' }))\n    this.gesturesHandler.on('onpress singletap', ev => {\n      if (this.state.actionMenuVisible || this.props.disabled) return\n      if (enableTouchEvents(ev)) {\n        ev.preventDefault() // prevent a ghost click\n        if (ev.type === 'onpress' || this.props.selectionModeActive) {\n          this.toggle(ev.srcEvent)\n        } else {\n          this.open(ev.srcEvent, this.props.attributes)\n        }\n      }\n    })\n  }\n\n  componentWillUnmount() {\n    this.gesturesHandler && this.gesturesHandler.destroy()\n  }\n\n  toggle(e) {\n    e.stopPropagation()\n    const { attributes, onCheckboxToggle, selected } = this.props\n    onCheckboxToggle(attributes.id, selected)\n  }\n\n  open(e, attributes) {\n    e.stopPropagation()\n    if (isDirectory(attributes)) {\n      this.props.onFolderOpen(attributes.id)\n    } else {\n      this.props.onFileOpen(attributes, this.props.isAvailableOffline)\n    }\n  }\n\n  render() {\n    const {\n      t,\n      f,\n      attributes,\n      selected,\n      actions,\n      isRenaming,\n      withSelectionCheckbox,\n      withFilePath,\n      withSharedBadge,\n      isAvailableOffline,\n      disabled,\n      breakpoints: { isExtraLarge, isMobile }\n    } = this.props\n    const { actionMenuVisible } = this.state\n    const filContentRowSelected = classNames(styles['fil-content-row'], {\n      [styles['fil-content-row-selected']]: selected,\n      [styles['fil-content-row-actioned']]: actionMenuVisible,\n      [styles['fil-content-row-disabled']]: disabled\n    })\n    const formattedSize = isDirectory(attributes)\n      ? undefined\n      : filesize(attributes.size, { base: 10 })\n\n    const updatedAt = attributes.updated_at || attributes.created_at\n    const formattedUpdatedAt = f(\n      updatedAt,\n      isExtraLarge\n        ? t('table.row_update_format_full')\n        : t('table.row_update_format')\n    )\n    return (\n      <div\n        ref={filerow => {\n          this.filerow = filerow\n        }}\n        className={filContentRowSelected}\n      >\n        <SelectBox\n          withSelectionCheckbox={withSelectionCheckbox}\n          selected={selected}\n          onClick={e => this.toggle(e)}\n        />\n        <FileThumbnail file={attributes} withSharedBadge={withSharedBadge} />\n        <FileName\n          attributes={attributes}\n          isRenaming={isRenaming}\n          interactive={!disabled}\n          withFilePath={withFilePath}\n          isMobile={isMobile}\n          formattedSize={formattedSize}\n          formattedUpdatedAt={formattedUpdatedAt}\n        />\n        <LastUpdate\n          date={updatedAt}\n          formatted={isDirectory(attributes) ? undefined : formattedUpdatedAt}\n        />\n        <Size filesize={formattedSize} />\n        <Status id={attributes.id} isAvailableOffline={isAvailableOffline} />\n        {actions && (\n          <FileAction\n            t={t}\n            ref={this.filerowMenuToggleRef}\n            onClick={e => {\n              this.showActionMenu()\n              e.stopPropagation()\n            }}\n          />\n        )}\n        {actions &&\n          actionMenuVisible && (\n            <ActionMenu\n              file={attributes}\n              reference={this.filerowMenuToggleRef.current}\n              actions={actions}\n              onClose={this.hideActionMenu}\n            />\n          )}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  selected: isSelected(state, ownProps.attributes.id),\n  isAvailableOffline: isAvailableOffline(state, ownProps.attributes.id)\n})\n\nconst mapDispatchToProps = dispatch => ({\n  onCheckboxToggle: (file, selected) =>\n    dispatch(toggleItemSelection(file, selected))\n})\n\nexport const DumbFile = withBreakpoints()(translate()(File))\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(DumbFile)\n","import React from 'react'\nimport ReactMarkdown from 'react-markdown'\nimport PropTypes from 'prop-types'\nimport cx from 'classnames'\nimport Spinner from 'cozy-ui/react/Spinner'\nimport withFileUrl from './withFileUrl'\nimport styles from './styles.styl'\nimport NoViewer from './NoViewer'\n\nconst MarkdownRenderer = ({ text }) => (\n  <ReactMarkdown\n    className={cx(styles['pho-viewer-textviewer-content'], 'u-p-1')}\n    source={text}\n  />\n)\n\nconst PlainTextRenderer = ({ text }) => (\n  <pre\n    className={cx(\n      styles['pho-viewer-textviewer-content'],\n      'u-mh-auto',\n      'u-mv-2'\n    )}\n  >\n    {text}\n  </pre>\n)\n\nconst Loader = () => (\n  <div className={styles['pho-viewer-textviewer']}>\n    <Spinner size=\"xxlarge\" middle noMargin color=\"white\" />\n  </div>\n)\n\nclass TextViewer extends React.Component {\n  state = {\n    text: '',\n    isMarkdown: false,\n    loading: true,\n    error: null\n  }\n\n  static contextTypes = {\n    client: PropTypes.object.isRequired\n  }\n\n  _mounted = false\n\n  componentDidMount() {\n    this._mounted = true\n    this.loadFile()\n  }\n\n  componentWillUnmount() {\n    this._mounted = false\n  }\n\n  async loadFile() {\n    const { url, file } = this.props\n    try {\n      const parsedURL = new URL(url)\n      const client = this.context.client.getClient()\n      const response = await client.fetch('GET', parsedURL.pathname)\n      const text = await response.text()\n      const isMarkdown = file.mime === 'text/markdown' || /.md$/.test(file.name)\n      if (this._mounted) {\n        this.setState({\n          text,\n          isMarkdown,\n          loading: false\n        })\n      }\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.warn(error)\n      if (this._mounted) {\n        this.setState({\n          loading: false,\n          error\n        })\n      }\n    }\n  }\n\n  render() {\n    const { loading, error, text, isMarkdown } = this.state\n    const { url, file } = this.props\n\n    if (loading) return <Loader />\n    else if (error) return <NoViewer file={file} fallbackUrl={url} />\n    else\n      return (\n        <div\n          data-test-id=\"viewer-text\"\n          className={styles['pho-viewer-textviewer']}\n        >\n          <h2 className={cx(styles['pho-viewer-filename'], 'u-mt-3', 'u-mb-1')}>\n            {file.name}\n          </h2>\n          {isMarkdown ? (\n            <MarkdownRenderer text={text} />\n          ) : (\n            <PlainTextRenderer text={text} />\n          )}\n        </div>\n      )\n  }\n}\n\nexport default withFileUrl(TextViewer)\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-type-text_e665c2558003a9b72fa156bcef81b180\",\n  \"use\": \"icon-type-text_e665c2558003a9b72fa156bcef81b180-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-type-text_e665c2558003a9b72fa156bcef81b180\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(3)\\\">\\n    <path fill=\\\"#B2D3FF\\\" d=\\\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\\\" />\\n    <path fill=\\\"#197BFF\\\" d=\\\"M18.5.57092175e-14C18.2238576.33045111e-13 18 .230796814 18 .500435829L18 8 25.4995642 8C25.7759472 8 26 7.76806641 26 7.5L26 7 19 0 18.5.57092175e-14zM6 11L20 11 20 13 6 13 6 11zM6 15L18 15 18 17 6 17 6 15zM6 19L20 19 20 21 6 21 6 19zM6 23L16 23 16 25 6 25 6 23z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","/* global cozy */\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Spinner from 'cozy-ui/react/Spinner'\n\nimport NoNetworkViewer from './NoNetworkViewer'\n\nconst TTL = 6000\n\nconst LOADING = 'LOADING'\nconst LOADED = 'LOADED'\nconst FAILED = 'FAILED'\n\nconst withFileUrl = BaseComponent =>\n  class withFileUrlClass extends Component {\n    state = {\n      status: LOADING,\n      downloadUrl: null\n    }\n    static contextTypes = {\n      client: PropTypes.object.isRequired\n    }\n    componentWillMount() {\n      this.loadDownloadUrl()\n    }\n\n    componentWillReceiveProps(nextProps) {\n      if (nextProps.file.id !== this.props.file.id) {\n        this.reset()\n      }\n    }\n\n    componentDidUpdate() {\n      if (this.state.status === LOADING && !this.timeout) {\n        this.loadDownloadUrl()\n      }\n    }\n\n    loadDownloadUrl() {\n      this.timeout = setTimeout(\n        () => this.setState(state => ({ ...state, status: FAILED })),\n        TTL\n      )\n      this.getDownloadLink(this.props.file)\n        .then(url => {\n          this.clearTimeout()\n          this.setState({ downloadUrl: url, status: LOADED })\n        })\n        .catch(() => {\n          this.clearTimeout()\n          this.setState(state => ({ ...state, status: FAILED }))\n        })\n    }\n\n    // for compatibility reasons, we try to use cozy-client but fallback on cozy-client-js\n    getDownloadLink(file) {\n      return this.context.client\n        ? this.context.client\n            .collection('io.cozy.files')\n            .getDownloadLinkById(file._id)\n        : cozy.client.files\n            .getDownloadLinkById(file._id)\n            .then(path => `${cozy.client._url}${path}`)\n    }\n\n    clearTimeout() {\n      clearTimeout(this.timeout)\n      this.timeout = null\n    }\n\n    reset = () => {\n      this.setState({ status: LOADING, downloadUrl: null })\n    }\n\n    render() {\n      if (this.state.status === LOADING) {\n        return <Spinner size=\"xxlarge\" middle noMargin color=\"white\" />\n      }\n      if (this.state.status === FAILED) {\n        return <NoNetworkViewer onReload={this.reset} />\n      }\n      return <BaseComponent {...this.props} url={this.state.downloadUrl} />\n    }\n  }\n\nexport default withFileUrl\n","import React, { Component } from 'react'\nimport cx from 'classnames'\n\nimport ViewerControls from './ViewerControls'\nimport ImageViewer from './ImageViewer'\nimport AudioViewer from './AudioViewer'\nimport VideoViewer from './VideoViewer'\nimport PdfJsViewer from './PdfJsViewer'\nimport TextViewer from './TextViewer'\nimport NoViewer from './NoViewer'\n\nimport Spinner from 'cozy-ui/react/Spinner'\n\nimport styles from './styles.styl'\n\nconst KEY_CODE_LEFT = 37\nconst KEY_CODE_RIGHT = 39\nconst KEY_CODE_ESCAPE = 27\n\nimport { isMobileApp, isMobile } from 'cozy-device-helper'\n\nconst ViewerWrapper = ({ className, children, dark }) => (\n  <div\n    data-test-id=\"viewer-wrapper\"\n    className={cx(styles['pho-viewer-wrapper'], className, {\n      [styles['pho-viewer-wrapper--light']]: !dark\n    })}\n    role=\"viewer\"\n  >\n    {children}\n  </div>\n)\n\nexport const isPlainText = (mimeType = '', fileName = '') => {\n  return mimeType ? /^text\\//.test(mimeType) : /\\.(txt|md)$/.test(fileName)\n}\n\nexport default class Viewer extends Component {\n  componentDidMount() {\n    document.addEventListener('keyup', this.onKeyUp, false)\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keyup', this.onKeyUp, false)\n  }\n\n  onKeyUp = e => {\n    if (e.keyCode === KEY_CODE_LEFT) this.onPrevious()\n    else if (e.keyCode === KEY_CODE_RIGHT) this.onNext()\n    else if (e.keyCode === KEY_CODE_ESCAPE) this.onClose()\n  }\n\n  onNext = () => {\n    const { files, currentIndex } = this.props\n    if (currentIndex === files.length - 1) {\n      return\n    }\n    const nextIndex = currentIndex + 1\n    const nextFile = files[nextIndex]\n    this.onChange(nextFile, nextIndex)\n  }\n\n  onPrevious = () => {\n    const { files, currentIndex } = this.props\n    if (currentIndex === 0) {\n      return\n    }\n    const prevIndex = currentIndex - 1\n    const prevFile = files[prevIndex]\n    this.onChange(prevFile, prevIndex)\n  }\n\n  onClose = () => {\n    if (this.props.onClose) {\n      this.props.onClose()\n    }\n  }\n\n  onChange(nextFile, nextIndex) {\n    if (this.props.onChange) {\n      this.props.onChange(nextFile, nextIndex)\n    }\n  }\n\n  render() {\n    const {\n      files,\n      className,\n      currentIndex,\n      onClose,\n      dark = true,\n      controls = true\n    } = this.props\n    const currentFile = files[currentIndex]\n    const fileCount = files.length\n    const hasPrevious = currentIndex > 0\n    const hasNext = currentIndex < fileCount - 1\n    // this `expanded` property makes the next/previous controls cover the displayed image\n    const expanded = currentFile && currentFile.class === 'image'\n    return (\n      <ViewerWrapper className={className} dark={dark}>\n        <ViewerControls\n          currentFile={currentFile}\n          onClose={onClose}\n          hasPrevious={hasPrevious}\n          hasNext={hasNext}\n          onPrevious={this.onPrevious}\n          onNext={this.onNext}\n          isMobile={isMobile()}\n          expanded={expanded}\n          controls={controls}\n          isMobileApp={isMobileApp()}\n        >\n          {this.renderViewer(currentFile)}\n        </ViewerControls>\n      </ViewerWrapper>\n    )\n  }\n\n  renderViewer(file) {\n    if (!file) return null\n    const { onClose } = this.props\n    const ComponentName = this.getViewerComponentName(file)\n    return <ComponentName file={file} onClose={onClose} />\n  }\n\n  getViewerComponentName(file) {\n    switch (file.class) {\n      case 'image':\n        return ImageViewer\n      case 'audio':\n        return AudioViewer\n      case 'video':\n        return isMobile() ? NoViewer : VideoViewer\n      case 'pdf':\n        return PdfJsViewer\n      case 'text':\n        return isPlainText(file.mime, file.name) ? TextViewer : NoViewer\n      default:\n        return NoViewer\n    }\n  }\n}\n\n// TODO: This is a temporary export for FilesViewer that has to deal with fetching file links on mobile\nexport const LoadingViewer = () => (\n  <ViewerWrapper>\n    <Spinner size=\"xxlarge\" middle noMargin color=\"white\" />\n  </ViewerWrapper>\n)\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-type-slide_440e71a068f2c361f14a6402991887d2\",\n  \"use\": \"icon-type-slide_440e71a068f2c361f14a6402991887d2-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-type-slide_440e71a068f2c361f14a6402991887d2\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(0 2)\\\">\\n    <path fill=\\\"#FFDEC1\\\" d=\\\"M0,1.99124431 C0,0.891510444 0.889763236,0 2.00359486,0 L25,0 L32,7 L32,26.0054385 C32,27.1070044 31.1107383,28 29.9982567,28 L2.00174332,28 C0.89621101,28 0,27.1001025 0,26.0087557 L0,1.99124431 Z\\\" />\\n    <path fill=\\\"#FF9433\\\" d=\\\"M24.5.57092175e-14C24.2238576.33045111e-13 24 .230796814 24 .500435829L24 8 31.4995642 8C31.7759472 8 32 7.76806641 32 7.5L32 7 25 0 24.5.57092175e-14zM9.99621582 16L25.9962158 16 25.9962158 18 9.99621582 18 9.99621582 16zM9.99621582 20L25.9962158 20 25.9962158 22 9.99621582 22 9.99621582 20zM6 16L8 16 8 18 6 18 6 16zM6 20L8 20 8 22 6 22 6 20zM16 14C18.209139 14 20 12.209139 20 10L16 10 16 6C13.790861 6 12 7.790861 12 10 12 12.209139 13.790861 14 16 14zM17 9C17 9 16.9999999 6 17 5 19 5 21.0000002 7 21 9L17 9z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import { getToken, getClientUrl } from './cozy-helper'\nimport { logException } from 'drive/lib/reporter'\nimport { isMobileApp } from 'cozy-device-helper'\n\nconst hasCordovaPlugin = () => {\n  return (\n    isMobileApp() &&\n    window.cordova.plugins !== undefined &&\n    window.cordova.plugins.listLibraryItems !== undefined\n  )\n}\n\nexport const isAuthorized = async () => {\n  if (!hasCordovaPlugin()) {\n    return Promise.resolve(false)\n  }\n  return new Promise(resolve => {\n    const success = () => resolve(true)\n    const error = () => resolve(false)\n    window.cordova.plugins.listLibraryItems.isAuthorized(success, error)\n  })\n}\n\nexport const requestAuthorization = async () => {\n  if (!hasCordovaPlugin()) {\n    return Promise.resolve(false)\n  }\n  return new Promise(resolve => {\n    window.cordova.plugins.listLibraryItems.requestReadAuthorization(\n      () => resolve(true),\n      error => {\n        if (!error.startsWith('Permission')) {\n          logException('requestAuthorization error:', error)\n        }\n        resolve(false)\n      }\n    )\n  })\n}\nconst generatePayloadForNative = async ({\n  uri,\n  file,\n  method = 'POST',\n  id = undefined\n}) => {\n  const token = await getToken()\n  const payload = {\n    id,\n    serverUrl: uri,\n    libraryId: file['id'],\n    mimeType: file['mimeType'],\n    filePath: file['filePath'],\n    httpMethod: method,\n    headers: {\n      Authorization: 'Bearer ' + token,\n      'Content-Type': file['mimeType']\n    }\n  }\n  return payload\n}\n\nconst uploadNativeItem = (payload, progressCallback, thumbnailCallback) => {\n  return new Promise((resolve, reject) => {\n    window.cordova.plugins.listLibraryItems.uploadItem(\n      payload,\n      result => {\n        if (result.errors) reject(result.errors)\n        else if (result.progress !== undefined)\n          progressCallback(result.progress)\n        else if (result.thumbnail) thumbnailCallback(result.thumbnail)\n        else {\n          resolve(result)\n        }\n      },\n      reject\n    )\n  })\n}\nexport const updateLibraryItem = async (\n  previousDocument,\n  libraryItem,\n  progressCallback,\n  thumbnailCallback\n) => {\n  if (hasCordovaPlugin()) {\n    // the cordova plugin is going to do the upload and needs all the infos to make a request to the stack\n    const uri =\n      getClientUrl() + '/files/' + encodeURIComponent(previousDocument._id)\n    const payload = await generatePayloadForNative({\n      uri,\n      file: libraryItem,\n      method: 'PUT'\n    })\n    return uploadNativeItem(payload, progressCallback, thumbnailCallback)\n  }\n  return Promise.resolve()\n}\nexport const uploadLibraryItem = async (\n  dirID,\n  libraryItem,\n  progressCallback,\n  thumbnailCallback\n) => {\n  if (hasCordovaPlugin()) {\n    const uri =\n      getClientUrl() +\n      '/files/' +\n      encodeURIComponent(dirID) +\n      '?Name=' +\n      encodeURIComponent(libraryItem['fileName']) +\n      '&Type=file&Tags=library&Executable=false'\n    const payload = await generatePayloadForNative({\n      id: dirID,\n      file: libraryItem,\n      uri\n    })\n    return uploadNativeItem(payload, progressCallback, thumbnailCallback)\n  }\n\n  return Promise.resolve()\n}\n\nexport const getPhotos = async () => {\n  const defaultReturn = []\n\n  if (hasCordovaPlugin()) {\n    return new Promise(resolve => {\n      window.cordova.plugins.listLibraryItems.listItems(\n        true,\n        true,\n        false, // includePictures, includeVideos, includeCloud\n        response => resolve(response.library),\n        err => {\n          // eslint-disable-next-line no-console\n          console.warn(err)\n          resolve(defaultReturn)\n        }\n      )\n    })\n  }\n\n  return Promise.resolve(defaultReturn)\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"container--3-RCo\",\"suggestionsContainer\":\"suggestionsContainer--3lRrx\",\"suggestionsContainerOpen\":\"suggestionsContainerOpen--3Y523\",\"input\":\"input--2DlOl\",\"suggestionsList\":\"suggestionsList--35tTI\",\"suggestion\":\"suggestion--iMlMu\",\"suggestionHighlighted\":\"suggestionHighlighted--3v0My\",\"recipientsContainer\":\"recipientsContainer--1GWdl\",\"recipientChip\":\"recipientChip--1HV-h\",\"removeRecipient\":\"removeRecipient--2dtVM\"};","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-type-slide_440e71a068f2c361f14a6402991887d2\",\n  \"use\": \"icon-type-slide_440e71a068f2c361f14a6402991887d2-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-type-slide_440e71a068f2c361f14a6402991887d2\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(0 2)\\\">\\n    <path fill=\\\"#FFDEC1\\\" d=\\\"M0,1.99124431 C0,0.891510444 0.889763236,0 2.00359486,0 L25,0 L32,7 L32,26.0054385 C32,27.1070044 31.1107383,28 29.9982567,28 L2.00174332,28 C0.89621101,28 0,27.1001025 0,26.0087557 L0,1.99124431 Z\\\" />\\n    <path fill=\\\"#FF9433\\\" d=\\\"M24.5.57092175e-14C24.2238576.33045111e-13 24 .230796814 24 .500435829L24 8 31.4995642 8C31.7759472 8 32 7.76806641 32 7.5L32 7 25 0 24.5.57092175e-14zM9.99621582 16L25.9962158 16 25.9962158 18 9.99621582 18 9.99621582 16zM9.99621582 20L25.9962158 20 25.9962158 22 9.99621582 22 9.99621582 20zM6 16L8 16 8 18 6 18 6 16zM6 20L8 20 8 22 6 22 6 20zM16 14C18.209139 14 20 12.209139 20 10L16 10 16 6C13.790861 6 12 7.790861 12 10 12 12.209139 13.790861 14 16 14zM17 9C17 9 16.9999999 6 17 5 19 5 21.0000002 7 21 9L17 9z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React, { Component } from 'react'\nimport Autosuggest from 'react-autosuggest'\n\nimport { Icon, Spinner } from 'cozy-ui/react'\nimport palette from 'cozy-ui/react/palette'\n\nimport styles from 'sharing/components/autosuggest.styl'\nimport BoldCross from 'sharing/assets/icons/icon-cross-bold.svg'\n\nimport { Contact } from 'models'\nimport {\n  cozyUrlMatch,\n  emailMatch,\n  groupNameMatch\n} from 'sharing/suggestionMatchers'\nimport ContactSuggestion from 'sharing/components/ContactSuggestion'\n\nexport default class ShareAutocomplete extends Component {\n  state = {\n    inputValue: '',\n    suggestions: []\n  }\n\n  componentDidUpdate(prevProps) {\n    if (\n      this.props.contactsAndGroups.length !== prevProps.contactsAndGroups.length\n    ) {\n      this.onSuggestionsFetchRequested({\n        value: this.state.inputValue\n      })\n    }\n  }\n\n  computeSuggestions(value) {\n    const inputValue = value.trim().toLowerCase()\n    return inputValue.length === 0\n      ? []\n      : this.props.contactsAndGroups.filter(\n          contactOrGroup =>\n            groupNameMatch(inputValue, contactOrGroup) ||\n            emailMatch(inputValue, contactOrGroup) ||\n            cozyUrlMatch(inputValue, contactOrGroup)\n        )\n  }\n\n  onSuggestionsFetchRequested = ({ value }) => {\n    this.setState(state => ({\n      ...state,\n      suggestions: this.computeSuggestions(value)\n    }))\n  }\n\n  onSuggestionsClearRequested = () => {\n    this.setState(state => ({ ...state, suggestions: [] }))\n  }\n\n  onChange = (event, { newValue, method }) => {\n    if (typeof newValue !== 'object') {\n      this.setState(state => ({ ...state, inputValue: newValue }))\n    } else if (method === 'click' || method === 'enter') {\n      // A suggestion has been picked\n      this.onPick(newValue)\n    }\n  }\n\n  onKeyPress = event => {\n    // The user wants to add an unknown email\n    if (\n      ((event.key === 'Enter' || event.keyCode === 13) &&\n        this.state.inputValue !== '') ||\n      ((event.key === 'Space' || event.keyCode === 32) &&\n        /^.+@.+/.test(this.state.inputValue))\n    ) {\n      this.onPick({ email: this.state.inputValue })\n    }\n  }\n\n  onFocus = () => {\n    this.props.onFocus()\n  }\n\n  onBlur = (event, { highlightedSuggestion }) => {\n    if (highlightedSuggestion) {\n      this.props.onPick(highlightedSuggestion)\n      this.setState(state => ({ ...state, inputValue: '' }))\n    } else if (\n      this.state.inputValue !== '' &&\n      this.state.inputValue.match(/\\S+@\\S+/)\n    ) {\n      this.props.onPick({ email: this.state.inputValue })\n      this.setState(state => ({ ...state, inputValue: '' }))\n    }\n  }\n\n  onPick = value => {\n    this.props.onPick(value)\n    this.setState(state => ({ ...state, inputValue: '' }))\n    setTimeout(() => this.input.focus(), 1) // don't ask...\n  }\n\n  onRemove = value => {\n    this.props.onRemove(value)\n    setTimeout(() => this.input.focus(), 1)\n  }\n\n  renderInput(inputProps) {\n    const { loading, recipients } = this.props\n    return (\n      <div className={styles['recipientsContainer']}>\n        {recipients.map((recipient, idx) => {\n          const value = Contact.getDisplayName(recipient)\n          return (\n            <div\n              className={styles['recipientChip']}\n              key={`key_recipient_${idx}`}\n            >\n              <span>{value}</span>\n              <button\n                className={styles['removeRecipient']}\n                onClick={() => this.onRemove(recipient)}\n              >\n                <Icon icon={BoldCross} width=\"16\" height=\"16\" />\n              </button>\n            </div>\n          )\n        })}\n        <input {...inputProps} onKeyPress={this.onKeyPress} />\n        {loading && (\n          <Spinner\n            color={palette.dodgerBlue}\n            className=\"u-flex u-flex-items-center\"\n          />\n        )}\n      </div>\n    )\n  }\n\n  render() {\n    const { inputValue, suggestions } = this.state\n    const { contactsAndGroups, placeholder } = this.props\n    return (\n      <Autosuggest\n        ref={self => {\n          this.input = self ? self.input : null\n        }}\n        theme={styles}\n        suggestions={suggestions.slice(0, 20)}\n        getSuggestionValue={contact => contact}\n        onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\n        onSuggestionsClearRequested={this.onSuggestionsClearRequested}\n        renderSuggestion={contactOrGroup => (\n          <ContactSuggestion\n            contacts={contactsAndGroups.filter(\n              item => item._type === Contact.doctype\n            )}\n            contactOrGroup={contactOrGroup}\n          />\n        )}\n        renderInputComponent={props => this.renderInput(props)}\n        highlightFirstSuggestion\n        inputProps={{\n          onFocus: this.onFocus,\n          onChange: this.onChange,\n          onBlur: this.onBlur,\n          value: inputValue,\n          type: 'email',\n          placeholder\n        }}\n      />\n    )\n  }\n}\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-type-pdf_ea9c680326440f2601a8a80345ef5a5d\",\n  \"use\": \"icon-type-pdf_ea9c680326440f2601a8a80345ef5a5d-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-type-pdf_ea9c680326440f2601a8a80345ef5a5d\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(3)\\\">\\n    <path fill=\\\"#FCD0D5\\\" d=\\\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\\\" />\\n    <path fill=\\\"#F1132D\\\" d=\\\"M18.5.57092175e-14C18.2238576.33045111e-13 18 .230796814 18 .500435829L18 8 25.4995642 8C25.7759472 8 26 7.76806641 26 7.5L26 7 19 0 18.5.57092175e-14zM6 11L20 11 20 13 6 13 6 11zM6 15L18 15 18 17 6 17 6 15zM6.06599695 19.784L7.96999695 19.784C8.25266503 19.784 8.51799571 19.8119997 8.76599695 19.868 9.01399819 19.9240003 9.22999603 20.0173327 9.41399695 20.148 9.59799787 20.2786673 9.74332975 20.4519989 9.84999695 20.668 9.95666415 20.8840011 10.0099969 21.1493318 10.0099969 21.464 10.0099969 21.7680015 9.95533083 22.0319989 9.84599695 22.256 9.73666307 22.4800011 9.58866455 22.6639993 9.40199695 22.808 9.21532935 22.9520007 8.99933151 23.0586663 8.75399695 23.128 8.50866239 23.1973337 8.24733167 23.232 7.96999695 23.232L7.24199695 23.232 7.24199695 25 6.06599695 25 6.06599695 19.784zM7.89799695 22.296C8.53800015 22.296 8.85799695 22.0186694 8.85799695 21.464 8.85799695 21.1919986 8.77666443 21.0000006 8.61399695 20.888 8.45132947 20.7759994 8.21266519 20.72 7.89799695 20.72L7.24199695 20.72 7.24199695 22.296 7.89799695 22.296zM10.9139969 19.784L12.3859969 19.784C12.7859989 19.784 13.1459953 19.8346662 13.4659969 19.936 13.7859985 20.0373338 14.0606625 20.1933323 14.2899969 20.404 14.5193314 20.6146677 14.6953297 20.882665 14.8179969 21.208 14.9406642 21.533335 15.0019969 21.9199978 15.0019969 22.368 15.0019969 22.8160022 14.9406642 23.2053317 14.8179969 23.536 14.6953297 23.8666683 14.5219981 24.1399989 14.2979969 24.356 14.0739958 24.5720011 13.8059985 24.7333328 13.4939969 24.84 13.1819954 24.9466672 12.8339989 25 12.4499969 25L10.9139969 25 10.9139969 19.784zM12.3139969 24.048C12.5379981 24.048 12.7406627 24.018667 12.9219969 23.96 13.1033312 23.901333 13.2579963 23.8066673 13.3859969 23.676 13.5139976 23.5453327 13.6139966 23.3733344 13.6859969 23.16 13.7579973 22.9466656 13.7939969 22.6826682 13.7939969 22.368 13.7939969 22.0586651 13.7579973 21.7986677 13.6859969 21.588 13.6139966 21.3773323 13.5139976 21.209334 13.3859969 21.084 13.2579963 20.958666 13.1033312 20.8693336 12.9219969 20.816 12.7406627 20.7626664 12.5379981 20.736 12.3139969 20.736L12.0899969 20.736 12.0899969 24.048 12.3139969 24.048zM15.9939969 19.784L19.2819969 19.784 19.2819969 20.776 17.1699969 20.776 17.1699969 21.984 18.9779969 21.984 18.9779969 22.976 17.1699969 22.976 17.1699969 25 15.9939969 25 15.9939969 19.784z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-type-audio_e99d441b7729b89692055537e75fa922\",\n  \"use\": \"icon-type-audio_e99d441b7729b89692055537e75fa922-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-type-audio_e99d441b7729b89692055537e75fa922\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(1 1)\\\">\\n    <rect width=\\\"30\\\" height=\\\"30\\\" fill=\\\"#ACF6F7\\\" rx=\\\"2\\\" />\\n    <path fill=\\\"#0CCBD0\\\" d=\\\"M8,19.9979317 C6.8954305,19.9979317 6,20.8856614 6,21.9979317 L6,21.9979317 C6,23.1025012 6.89826062,23.9979317 7.99791312,23.9979317 L9,23.9979317 C10.6568542,23.9979317 12,22.6487458 12,21.0005269 L12,13.3224852 C12,13.0410046 12.217172,12.7720898 12.4922264,12.7205046 L18.5077736,11.5923149 C18.7796227,11.5413308 19,11.7161978 19,12.0098818 L19,17.4880499 C19,17.7696499 18.7849426,17.9979317 18.5095215,17.9979317 L17,17.9979317 C15.8954305,17.9979317 15,18.9020069 15,19.9947579 L15,19.8159933 C15,20.9188099 15.8982606,21.8128195 16.9979131,21.8128195 L18,21.8128195 C19.6568542,21.8128195 21,20.464451 21,18.8195676 L21,6.99922157 C21,6.44622446 20.555163,6.07881118 20.0238234,6.17541838 L10.9761766,7.82044507 C10.4370492,7.91846824 10,8.45369268 10,9.00040502 L10,19.4975844 C10,19.7739186 9.78494263,19.9979317 9.50952148,19.9979317 L8,19.9979317 Z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","/* global __TARGET__ */\nimport { combineReducers } from 'redux'\n\nimport { default as view } from 'drive/web/modules/navigation/duck'\nimport { default as selection } from 'drive/web/modules/selection/duck'\nimport { default as filelist } from 'drive/web/modules/filelist/duck'\n// TODO: Get rid of this, local state would be better\nimport { default as rename } from 'drive/web/modules/drive/rename'\nimport { default as upload } from 'drive/web/modules/upload'\n// TODO: Move this to his own module/duck?\nimport { default as availableOffline } from 'drive/mobile/modules/offline/duck'\nimport { default as ui } from 'react-cozy-helpers'\n\nimport { default as settings } from 'drive/mobile/modules/settings/duck'\nimport { default as mediaBackup } from 'drive/mobile/modules/mediaBackup/duck'\nimport {\n  default as authorization,\n  UNLINK\n} from 'drive/mobile/modules/authorization/duck'\nimport { default as replication } from 'drive/mobile/modules/replication/duck'\n\n// Per Dan Abramov: https://stackoverflow.com/questions/35622588/how-to-reset-the-state-of-a-redux-store/35641992#35641992\nconst createRootReducer = client => {\n  const baseReducers = {\n    ui,\n    view,\n    filelist,\n    upload,\n    selection,\n    rename,\n    availableOffline\n  }\n\n  const mobileReducer = combineReducers({\n    authorization,\n    settings,\n    replication,\n    mediaBackup\n  })\n\n  const appReducer =\n    __TARGET__ === 'mobile'\n      ? combineReducers({\n          ...baseReducers,\n          mobile: mobileReducer,\n          cozy: client.reducer()\n        })\n      : combineReducers({\n          ...baseReducers,\n          cozy: client.reducer()\n        })\n\n  const rootReducer = (state, action) => {\n    if (action.type === UNLINK) {\n      state = undefined\n    }\n    return appReducer(state, action)\n  }\n\n  return rootReducer\n}\n\nexport default createRootReducer\n","import React from 'react'\nimport cx from 'classnames'\nimport { RecipientWithoutStatus, RecipientPlusX } from './Recipient'\n\nimport styles from './recipient.styl'\n\nconst MAX_DISPLAYED_RECIPIENTS = 2\n\nconst WhoHasAccessLight = ({ recipients, className }) => (\n  <div className={cx(styles['recipients-list-light'], className)}>\n    {recipients.slice(0, MAX_DISPLAYED_RECIPIENTS).map((recipient, index) => (\n      <RecipientWithoutStatus {...recipient} key={`key_recipient__${index}`} />\n    ))}\n    {recipients.length > MAX_DISPLAYED_RECIPIENTS && (\n      <RecipientPlusX\n        extraRecipients={recipients.slice(MAX_DISPLAYED_RECIPIENTS)}\n      />\n    )}\n  </div>\n)\n\nexport default WhoHasAccessLight\n","export { default } from './Picker'\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-type-bin_37ea77f144ebbef7aab118258b0f643e\",\n  \"use\": \"icon-type-bin_37ea77f144ebbef7aab118258b0f643e-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-type-bin_37ea77f144ebbef7aab118258b0f643e\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(3)\\\">\\n    <path fill=\\\"#D1D5DB\\\" d=\\\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\\\" />\\n    <path fill=\\\"#A3ACB8\\\" d=\\\"M18.5,8.57092175e-14 C18.2238576,1.33045111e-13 18,0.230796814 18,0.500435829 L18,8 L25.4995642,8 C25.7759472,8 26,7.76806641 26,7.5 L26,7 L19,0 L18.5,8.57092175e-14 Z\\\" />\\n    <path fill=\\\"#4F5B69\\\" d=\\\"M4,15.5675676 C4,14.971332 4.05925097,14.4488147 4.17775468,14 C4.29625839,13.5511853 4.46309664,13.1793627 4.67827443,12.8845209 C4.89345222,12.5896791 5.15072615,12.3685511 5.45010395,12.2211302 C5.74948175,12.0737093 6.08315824,12 6.45114345,12 C7.23701017,12 7.84199372,12.2899234 8.26611227,12.8697789 C8.69023081,13.4496343 8.9022869,14.3488883 8.9022869,15.5675676 C8.9022869,16.1703552 8.84303594,16.6961485 8.72453222,17.1449631 C8.60602851,17.5937778 8.43919027,17.9672385 8.22401247,18.2653563 C8.00883468,18.5634741 7.75000151,18.78624 7.4475052,18.9336609 C7.14500888,19.0810818 6.80977315,19.1547912 6.44178794,19.1547912 C5.64968419,19.1547912 5.04470063,18.8484879 4.62681913,18.2358722 C4.20893762,17.6232566 4,16.7338306 4,15.5675676 L4,15.5675676 Z M7.7047817,15.5675676 C7.7047817,15.4627349 7.70322247,15.3628178 7.70010395,15.2678133 C7.69698543,15.1728087 7.69230772,15.0794435 7.68607069,14.987715 L5.39397089,17.1793612 C5.58731905,17.7755968 5.93970638,18.0737101 6.45114345,18.0737101 C6.85031385,18.0737101 7.15904257,17.8738759 7.37733888,17.4742015 C7.59563519,17.0745271 7.7047817,16.4389888 7.7047817,15.5675676 L7.7047817,15.5675676 Z M5.1975052,15.5675676 C5.1975052,15.6658482 5.19906443,15.7592133 5.20218295,15.8476658 C5.20530147,15.9361184 5.20997918,16.0262076 5.21621622,16.1179361 L7.4989605,13.9262899 C7.31184938,13.3628145 6.95946205,13.0810811 6.44178794,13.0810811 C6.04261755,13.0810811 5.73544806,13.2825533 5.52027027,13.6855037 C5.30509248,14.0884541 5.1975052,14.7158025 5.1975052,15.5675676 L5.1975052,15.5675676 Z M10.5488565,15.5675676 C10.5488565,14.971332 10.6081075,14.4488147 10.7266112,14 C10.8451149,13.5511853 11.0119532,13.1793627 11.227131,12.8845209 C11.4423088,12.5896791 11.6995827,12.3685511 11.9989605,12.2211302 C12.2983383,12.0737093 12.6320148,12 13,12 C13.7858667,12 14.3908503,12.2899234 14.8149688,12.8697789 C15.2390874,13.4496343 15.4511435,14.3488883 15.4511435,15.5675676 C15.4511435,16.1703552 15.3918925,16.6961485 15.2733888,17.1449631 C15.1548851,17.5937778 14.9880468,17.9672385 14.772869,18.2653563 C14.5576912,18.5634741 14.2988581,18.78624 13.9963617,18.9336609 C13.6938654,19.0810818 13.3586297,19.1547912 12.9906445,19.1547912 C12.1985407,19.1547912 11.5935572,18.8484879 11.1756757,18.2358722 C10.7577942,17.6232566 10.5488565,16.7338306 10.5488565,15.5675676 L10.5488565,15.5675676 Z M14.2536383,15.5675676 C14.2536383,15.4627349 14.252079,15.3628178 14.2489605,15.2678133 C14.245842,15.1728087 14.2411643,15.0794435 14.2349272,14.987715 L11.9428274,17.1793612 C12.1361756,17.7755968 12.4885629,18.0737101 13,18.0737101 C13.3991704,18.0737101 13.7078991,17.8738759 13.9261954,17.4742015 C14.1444917,17.0745271 14.2536383,16.4389888 14.2536383,15.5675676 L14.2536383,15.5675676 Z M11.7463617,15.5675676 C11.7463617,15.6658482 11.747921,15.7592133 11.7510395,15.8476658 C11.754158,15.9361184 11.7588357,16.0262076 11.7650728,16.1179361 L14.047817,13.9262899 C13.8607059,13.3628145 13.5083186,13.0810811 12.9906445,13.0810811 C12.5914741,13.0810811 12.2843046,13.2825533 12.0691268,13.6855037 C11.853949,14.0884541 11.7463617,14.7158025 11.7463617,15.5675676 L11.7463617,15.5675676 Z M17.7338877,17.9361179 L19.1652807,17.9361179 L19.1652807,13.6412776 L17.9303534,14.6339066 L17.3690229,13.8476658 L19.502079,12.1375921 L20.3253638,12.1375921 L20.3253638,17.9361179 L21.7286902,17.9361179 L21.7286902,19.017199 L17.7338877,19.017199 L17.7338877,17.9361179 Z M4,24.4127764 C4,23.8165408 4.05925097,23.2940235 4.17775468,22.8452088 C4.29625839,22.3963942 4.46309664,22.0245715 4.67827443,21.7297297 C4.89345222,21.434888 5.15072615,21.21376 5.45010395,21.0663391 C5.74948175,20.9189182 6.08315824,20.8452088 6.45114345,20.8452088 C7.23701017,20.8452088 7.84199372,21.1351322 8.26611227,21.7149877 C8.69023081,22.2948432 8.9022869,23.1940971 8.9022869,24.4127764 C8.9022869,25.015564 8.84303594,25.5413573 8.72453222,25.990172 C8.60602851,26.4389867 8.43919027,26.8124473 8.22401247,27.1105651 C8.00883468,27.4086829 7.75000151,27.6314489 7.4475052,27.7788698 C7.14500888,27.9262907 6.80977315,28 6.44178794,28 C5.64968419,28 5.04470063,27.6936968 4.62681913,27.0810811 C4.20893762,26.4684654 4,25.5790394 4,24.4127764 L4,24.4127764 Z M7.7047817,24.4127764 C7.7047817,24.3079438 7.70322247,24.2080267 7.70010395,24.1130221 C7.69698543,24.0180175 7.69230772,23.9246524 7.68607069,23.8329238 L5.39397089,26.02457 C5.58731905,26.6208056 5.93970638,26.9189189 6.45114345,26.9189189 C6.85031385,26.9189189 7.15904257,26.7190847 7.37733888,26.3194103 C7.59563519,25.9197359 7.7047817,25.2841976 7.7047817,24.4127764 L7.7047817,24.4127764 Z M5.1975052,24.4127764 C5.1975052,24.511057 5.19906443,24.6044222 5.20218295,24.6928747 C5.20530147,24.7813272 5.20997918,24.8714164 5.21621622,24.963145 L7.4989605,22.7714988 C7.31184938,22.2080234 6.95946205,21.9262899 6.44178794,21.9262899 C6.04261755,21.9262899 5.73544806,22.1277621 5.52027027,22.5307125 C5.30509248,22.9336629 5.1975052,23.5610113 5.1975052,24.4127764 L5.1975052,24.4127764 Z M11.1850312,26.7813268 L12.6164241,26.7813268 L12.6164241,22.4864865 L11.3814969,23.4791155 L10.8201663,22.6928747 L12.9532225,20.982801 L13.7765073,20.982801 L13.7765073,26.7813268 L15.1798337,26.7813268 L15.1798337,27.8624079 L11.1850312,27.8624079 L11.1850312,26.7813268 Z M17.0977131,24.4127764 C17.0977131,23.8165408 17.1569641,23.2940235 17.2754678,22.8452088 C17.3939715,22.3963942 17.5608097,22.0245715 17.7759875,21.7297297 C17.9911653,21.434888 18.2484393,21.21376 18.547817,21.0663391 C18.8471948,20.9189182 19.1808713,20.8452088 19.5488565,20.8452088 C20.3347233,20.8452088 20.9397068,21.1351322 21.3638254,21.7149877 C21.7879439,22.2948432 22,23.1940971 22,24.4127764 C22,25.015564 21.940749,25.5413573 21.8222453,25.990172 C21.7037416,26.4389867 21.5369034,26.8124473 21.3217256,27.1105651 C21.1065478,27.4086829 20.8477146,27.6314489 20.5452183,27.7788698 C20.242722,27.9262907 19.9074862,28 19.539501,28 C18.7473973,28 18.1424137,27.6936968 17.7245322,27.0810811 C17.3066507,26.4684654 17.0977131,25.5790394 17.0977131,24.4127764 L17.0977131,24.4127764 Z M20.8024948,24.4127764 C20.8024948,24.3079438 20.8009356,24.2080267 20.797817,24.1130221 C20.7946985,24.0180175 20.7900208,23.9246524 20.7837838,23.8329238 L18.491684,26.02457 C18.6850322,26.6208056 19.0374195,26.9189189 19.5488565,26.9189189 C19.9480269,26.9189189 20.2567557,26.7190847 20.475052,26.3194103 C20.6933483,25.9197359 20.8024948,25.2841976 20.8024948,24.4127764 L20.8024948,24.4127764 Z M18.2952183,24.4127764 C18.2952183,24.511057 18.2967775,24.6044222 18.299896,24.6928747 C18.3030146,24.7813272 18.3076923,24.8714164 18.3139293,24.963145 L20.5966736,22.7714988 C20.4095625,22.2080234 20.0571751,21.9262899 19.539501,21.9262899 C19.1403306,21.9262899 18.8331612,22.1277621 18.6179834,22.5307125 C18.4028056,22.9336629 18.2952183,23.5610113 18.2952183,24.4127764 L18.2952183,24.4127764 Z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","/* global cozy */\nimport {\n  saveFileWithCordova,\n  openOfflineFile,\n  deleteOfflineFile,\n  temporarySave,\n  getNativeFile,\n  createTemporaryLocalFile,\n  openFileWithCordova\n} from 'drive/mobile/lib/filesystem'\nimport { isMobileApp } from 'cozy-device-helper'\n\nimport Alerter from 'cozy-ui/react/Alerter'\n\nconst MAKE_AVAILABLE_OFFLINE = 'MAKE_AVAILABLE_OFFLINE'\nconst UNDO_MAKE_AVAILABLE_OFFLINE = 'UNDO_MAKE_AVAILABLE_OFFLINE'\n\nexport default (state = [], action = {}) => {\n  switch (action.type) {\n    case MAKE_AVAILABLE_OFFLINE:\n      return [...state, action.id]\n    case UNDO_MAKE_AVAILABLE_OFFLINE: {\n      const index = state.indexOf(action.id)\n      return [...state.slice(0, index), ...state.slice(index + 1)]\n    }\n    default:\n      return state\n  }\n}\n\nconst markAsAvailableOffline = id => ({ type: MAKE_AVAILABLE_OFFLINE, id })\nconst markAsUnavailableOffline = id => ({\n  type: UNDO_MAKE_AVAILABLE_OFFLINE,\n  id\n})\n\nexport const getAvailableOfflineIds = ({ availableOffline }) => availableOffline\n\nexport const isAvailableOffline = ({ availableOffline: state }, id) =>\n  Array.isArray(state) && state.indexOf(id) !== -1\n\nexport const toggleAvailableOffline = file => async (dispatch, getState) =>\n  isAvailableOffline(getState(), file.id)\n    ? dispatch(forgetDownloadedFile(file))\n    : dispatch(makeAvailableOffline(file))\n\nconst forgetDownloadedFile = file => async dispatch => {\n  const filename = file.id\n  if (isMobileApp() && window.cordova.file) {\n    deleteOfflineFile(filename)\n  }\n  dispatch(markAsUnavailableOffline(file.id))\n}\n\nconst makeAvailableOffline = file => async dispatch => {\n  await saveOfflineFileCopy(file)\n  dispatch(markAsAvailableOffline(file.id))\n}\n\nconst saveOfflineFileCopy = async file => {\n  if (!isMobileApp() || !window.cordova.file) {\n    return\n  }\n  const response = await cozy.client.files\n    .downloadById(file.id)\n    .catch(error => {\n      Alerter.error('mobile.error.make_available_offline.offline')\n      throw error\n    })\n  const blob = await response.blob()\n  const filename = file.id\n  saveFileWithCordova(blob, filename)\n}\n\nexport const openLocalFile = file => async (dispatch, getState) => {\n  if (!isAvailableOffline(getState(), file.id)) {\n    // eslint-disable-next-line no-console\n    console.error('openLocalFile: this file is not available offline')\n  }\n  openOfflineFile(file).catch(error => {\n    // eslint-disable-next-line no-console\n    console.error('openLocalFile', error)\n    Alerter.error('mobile.error.make_available_offline.noapp')\n  })\n}\n\nexport const getLocalFileCopyUrl = file => async (dispatch, getState) => {\n  if (isAvailableOffline(getState(), file.id)) {\n    const localFile = await getNativeFile(file)\n    return localFile.nativeURL\n  }\n  const response = await cozy.client.files.downloadById(file.id)\n  const blob = await response.blob()\n  const localFile = await temporarySave(blob, file.name)\n  return localFile.nativeURL\n}\n\nexport const openLocalFileCopy = file => async (dispatch, getState) => {\n  if (isAvailableOffline(getState(), file.id)) {\n    return openOfflineFile(file)\n  }\n  const localFile = await createTemporaryLocalFile(file.id, file.name)\n  return openFileWithCordova(localFile.nativeURL, file.mime)\n}\n\nexport const updateOfflineFileCopyIfNecessary = (file, prevFile) => async (\n  _,\n  getState\n) => {\n  if (\n    isAvailableOffline(getState(), file.id) &&\n    file.md5sum !== prevFile.md5sum\n  ) {\n    await saveOfflineFileCopy(file)\n  }\n}\n","import React from 'react'\nimport { getFileDownloadUrl } from 'drive/web/modules/navigation/duck'\n\nclass URLGetter extends React.Component {\n  componentDidMount() {\n    this.getURL()\n  }\n\n  async getURL() {\n    const { service } = this.props\n\n    try {\n      const { id } = service.getData()\n      const url = await getFileDownloadUrl(id)\n      service.terminate({ url })\n    } catch (error) {\n      service.throw(error)\n    }\n  }\n}\n\nexport default URLGetter\n","/* global cozy */\nimport Alerter from 'cozy-ui/react/Alerter'\n\nexport const EMPTY_TRASH = 'EMPTY_TRASH'\nexport const EMPTY_TRASH_SUCCESS = 'EMPTY_TRASH_SUCCESS'\nexport const EMPTY_TRASH_FAILURE = 'EMPTY_TRASH_FAILURE'\nexport const RESTORE_FILES = 'RESTORE_FILES'\nexport const RESTORE_FILES_SUCCESS = 'RESTORE_FILES_SUCCESS'\nexport const RESTORE_FILES_FAILURE = 'RESTORE_FILES_FAILURE'\nexport const DESTROY_FILES = 'DESTROY_FILES'\nexport const DESTROY_FILES_SUCCESS = 'DESTROY_FILES_SUCCESS'\nexport const DESTROY_FILES_FAILURE = 'DESTROY_FILES_FAILURE'\n\nexport const emptyTrash = () => async dispatch => {\n  Alerter.info('alert.empty_trash_progress')\n  dispatch({\n    type: EMPTY_TRASH\n  })\n  try {\n    await cozy.client.files.clearTrash()\n  } catch (err) {\n    Alerter.error('alert.try_again')\n    return dispatch({\n      type: EMPTY_TRASH_FAILURE\n    })\n  }\n  Alerter.info('alert.empty_trash_success')\n  return dispatch({\n    type: EMPTY_TRASH_SUCCESS\n  })\n}\n\nconst META_DEFAULTS = {\n  cancelSelection: true,\n  hideActionMenu: true\n}\n\nexport const restoreFiles = files => async dispatch => {\n  const meta = META_DEFAULTS\n  dispatch({ type: RESTORE_FILES, files })\n  const restored = []\n  try {\n    for (const file of files) {\n      restored.push(await cozy.client.files.restoreById(file.id))\n    }\n  } catch (err) {\n    Alerter.error('alert.try_again')\n    return dispatch({\n      type: RESTORE_FILES_FAILURE,\n      meta\n    })\n  }\n  Alerter.info('alert.restore_file_success')\n  return dispatch({\n    type: RESTORE_FILES_SUCCESS,\n    ids: files.map(f => f.id),\n    meta\n  })\n}\n\nexport const destroyFiles = files => async dispatch => {\n  const meta = META_DEFAULTS\n  dispatch({ type: DESTROY_FILES, files })\n  const trashed = []\n  try {\n    for (const file of files) {\n      trashed.push(await cozy.client.files.destroyById(file.id))\n    }\n  } catch (err) {\n    Alerter.error('alert.try_again')\n    return dispatch({\n      type: DESTROY_FILES_FAILURE,\n      meta\n    })\n  }\n  Alerter.info('alert.destroy_file_success')\n  return dispatch({\n    type: DESTROY_FILES_SUCCESS,\n    ids: files.map(f => f.id),\n    meta\n  })\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"share-modal-content\":\"share-modal-content--1SlxN\",\"coz-form\":\"coz-form--2jtJC\",\"coz-form-group\":\"coz-form-group--1bFva\",\"coz-form-desc\":\"coz-form-desc--JrEED\",\"coz-form-label\":\"coz-form-label--3Zm6p\",\"coz-form-label--error\":\"coz-form-label--error--2KzmX\",\"coz-form-errors\":\"coz-form-errors--1nNWc\",\"coz-form-controls\":\"coz-form-controls--1RJGg\",\"coz-form-controls--full\":\"coz-form-controls--full--2-y4G\",\"coz-form-controls--dispatch\":\"coz-form-controls--dispatch--2TjNA\",\"error\":\"error--3q85L\",\"permission-required-popin\":\"permission-required-popin--3ZT7U\",\"divider\":\"divider--3ACWO\",\"share-bylink-header\":\"share-bylink-header--2919D\",\"share-bylink-header-dot\":\"share-bylink-header-dot--1TAFX\",\"share-bylink-header-creating\":\"share-bylink-header-creating--2F2Df\",\"share-bylink-header-copybtn\":\"share-bylink-header-copybtn--397lg\",\"share-bylink-desc\":\"share-bylink-desc--2lsfE\",\"share-byemail-onlybylink\":\"share-byemail-onlybylink--3A-9J\",\"share-moral-override-bottom\":\"share-moral-override-bottom--1I3dU\",\"share-modal-secondary\":\"share-modal-secondary--3Y04a\",\"share-modal-margins\":\"share-modal-margins--yhQBn\",\"share-modal-separator\":\"share-modal-separator--JJuRH\",\"share-type-control\":\"share-type-control--3IS3y\",\"select-wrapper\":\"select-wrapper--3vfxZ\",\"select-option\":\"select-option--O5o86\",\"select-option-label\":\"select-option-label--314tl\",\"select-option-desc\":\"select-option-desc--1JNRs\",\"input-dual\":\"input-dual--1iSDa\",\"btn-copy\":\"btn-copy--1_EQX\",\"permission-required-popin-close\":\"permission-required-popin-close--wbc77\",\"permission-required-popin-accept\":\"permission-required-popin-accept--3gyRJ\",\"share-details-created\":\"share-details-created--3qeE6\",\"share-details-perm\":\"share-details-perm--1bWoi\",\"share-details-perm-desc\":\"share-details-perm-desc--2uJr3\",\"spin\":\"spin--260Kl\",\"shake\":\"shake--2b0j3\"};","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-type-files_d6b9e7e79f0dd5f6e7298c7c569d9cbc\",\n  \"use\": \"icon-type-files_d6b9e7e79f0dd5f6e7298c7c569d9cbc-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-type-files_d6b9e7e79f0dd5f6e7298c7c569d9cbc\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(3)\\\">\\n    <path fill=\\\"#D1D5DB\\\" d=\\\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\\\" />\\n    <path fill=\\\"#A3ACB8\\\" d=\\\"M18.5,8.57092175e-14 C18.2238576,1.33045111e-13 18,0.230796814 18,0.500435829 L18,8 L25.4995642,8 C25.7759472,8 26,7.76806641 26,7.5 L26,7 L19,0 L18.5,8.57092175e-14 Z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React, { PureComponent } from 'react'\nimport ReactDOM from 'react-dom'\n\nimport PropTypes from 'prop-types'\nimport { translate } from 'cozy-ui/react/I18n'\n\nimport { isMobileApp } from 'cozy-device-helper'\nimport { FILES_FETCH_LIMIT } from 'drive/constants/config'\n\nimport File from './File'\nimport FilePlaceholder from 'drive/web/modules/filelist/FilePlaceholder'\nimport LoadMore from 'drive/web/modules/filelist/LoadMore'\n\nrequire('intersection-observer') // polyfill for safari\n\nclass FileListRows extends PureComponent {\n  state = {\n    isLoading: false,\n    hasNoMoreRows: false\n  }\n\n  intersectionObserver = null\n  loadMoreElement = null\n\n  componentWillMount() {\n    this.intersectionObserver = new IntersectionObserver(\n      this.checkIntersectionsEntries\n    )\n  }\n\n  checkIntersectionsEntries = intersectionEntries => {\n    if (intersectionEntries.filter(entry => entry.isIntersecting).length > 0) {\n      if (!this.state.isLoading) this.loadMoreRows(FILES_FETCH_LIMIT)\n    }\n  }\n\n  updateLoadMoreElement = element => {\n    if (this.loadMoreElement) {\n      this.intersectionObserver.unobserve(this.loadMoreElement)\n    }\n\n    if (element) {\n      // eslint-disable-next-line react/no-find-dom-node\n      this.loadMoreElement = ReactDOM.findDOMNode(element)\n      this.intersectionObserver.observe(this.loadMoreElement)\n    }\n  }\n\n  componentWillUnmount() {\n    this.intersectionObserver.disconnect()\n  }\n\n  shouldDisplayLoadMore() {\n    if (!this.props.displayedFolder) return false\n    if (isMobileApp()) {\n      if (this.props.files.length < FILES_FETCH_LIMIT) return false // We're in /recent\n      return !this.state.hasNoMoreRows\n    }\n    return this.props.files.length < this.props.fileCount\n  }\n\n  render() {\n    return (\n      <div>\n        {this.props.files.map((file, index) => {\n          return this.rowRenderer({ index, key: file.id })\n        })}\n        {this.shouldDisplayLoadMore() && (\n          <LoadMore\n            ref={this.updateLoadMoreElement}\n            onClick={() => {\n              this.loadMoreRows(FILES_FETCH_LIMIT)\n            }}\n            isLoading={this.state.isLoading}\n          />\n        )}\n      </div>\n    )\n  }\n\n  loadMoreRows = limit => {\n    this.setState(state => ({ ...state, isLoading: true }))\n    const skip = this.props.files.length\n    this.props\n      .fetchMoreFiles(this.props.displayedFolder.id, skip, limit)\n      .then(resp => {\n        this.setState(state => ({\n          ...state,\n          isLoading: false,\n          // if we get less files than the limit, there should be no more files to load\n          hasNoMoreRows: resp.files.length < FILES_FETCH_LIMIT\n        }))\n      })\n      .catch(() => {\n        this.setState(state => ({ ...state, isLoading: false }))\n      })\n  }\n\n  rowRenderer = ({ index, key }) => {\n    const {\n      displayedFolder,\n      fileActions,\n      onFolderOpen,\n      onFileOpen,\n      withSelectionCheckbox,\n      withFilePath,\n      withSharedBadge = true,\n      isRenaming,\n      renamingFile\n    } = this.props\n    const file = this.props.files[index]\n    if (!file) {\n      return <FilePlaceholder key={key} />\n    }\n    const isFileRenaming =\n      isRenaming && renamingFile && renamingFile.id === file.id\n    return (\n      <File\n        key={key}\n        attributes={file}\n        displayedFolder={displayedFolder}\n        actions={fileActions}\n        isRenaming={isFileRenaming}\n        onFolderOpen={onFolderOpen}\n        onFileOpen={onFileOpen}\n        withSelectionCheckbox={withSelectionCheckbox}\n        withFilePath={withFilePath}\n        withSharedBadge={withSharedBadge}\n      />\n    )\n  }\n}\n\nFileListRows.propTypes = {\n  files: PropTypes.array,\n  fileCount: PropTypes.number,\n  fetchMoreFiles: PropTypes.func,\n  displayedFolder: PropTypes.object,\n  fileActions: PropTypes.object,\n  onFolderOpen: PropTypes.func,\n  onFileOpen: PropTypes.func,\n  withSelectionCheckbox: PropTypes.bool,\n  withFilePath: PropTypes.bool,\n  withSharedBadge: PropTypes.bool,\n  isRenaming: PropTypes.bool,\n  renamingFile: PropTypes.object\n}\n\nexport default translate()(FileListRows)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport cx from 'classnames'\nimport Modal, { ModalContent } from 'cozy-ui/react/Modal'\n\nimport styles from 'sharing/share.styl'\n\nimport { contactsResponseType, groupsResponseType } from 'sharing/propTypes'\nimport { default as DumbShareByLink } from 'sharing/components/ShareByLink'\nimport { default as DumbShareByEmail } from 'sharing/components/ShareByEmail'\nimport WhoHasAccess from 'sharing/components/WhoHasAccess'\n\nrequire('url-polyfill')\n\nexport default class ShareModal extends Component {\n  static contextTypes = {\n    t: PropTypes.func.isRequired\n  }\n  render() {\n    const { t } = this.context\n    const {\n      document,\n      isOwner,\n      sharingDesc,\n      contacts,\n      groups,\n      createContact,\n      link,\n      recipients,\n      documentType = 'Document',\n      needsContactsPermission,\n      hasSharedParent,\n      hasSharedChild,\n      onClose,\n      onShare,\n      onRevoke,\n      onShareByLink,\n      onRevokeLink\n    } = this.props\n    return (\n      <Modal\n        title={t(`${documentType}.share.title`)}\n        dismissAction={onClose}\n        into=\"body\"\n        size=\"small\"\n        spacing=\"small\"\n        mobileFullscreen\n      >\n        {(hasSharedParent || hasSharedChild) && (\n          <div className={styles['share-byemail-onlybylink']}>\n            {t(`${documentType}.share.shareByEmail.onlyByLink`, {\n              type: t(\n                `${documentType}.share.shareByEmail.type.${\n                  document.type === 'directory' ? 'folder' : 'file'\n                }`\n              )\n            })}{' '}\n            <strong>\n              {t(\n                `${documentType}.share.shareByEmail.${\n                  hasSharedParent ? 'hasSharedParent' : 'hasSharedChild'\n                }`\n              )}\n            </strong>\n          </div>\n        )}\n        <ModalContent\n          className={cx(\n            styles['share-modal-content'],\n            styles['share-moral-override-bottom']\n          )}\n        >\n          {documentType !== 'Albums' &&\n            !hasSharedParent &&\n            !hasSharedChild && (\n              <DumbShareByEmail\n                currentRecipients={recipients}\n                document={document}\n                documentType={documentType}\n                sharingDesc={sharingDesc}\n                contacts={contacts}\n                groups={groups}\n                createContact={createContact}\n                onShare={onShare}\n                needsContactsPermission={needsContactsPermission}\n              />\n            )}\n          <div className={styles['share-modal-separator']} />\n          <div className={styles['share-modal-secondary']}>\n            <div className={cx(styles['share-modal-margins'], 'u-pb-1')}>\n              <DumbShareByLink\n                document={document}\n                documentType={documentType}\n                checked={link !== null}\n                link={link}\n                onEnable={onShareByLink}\n                onDisable={onRevokeLink}\n              />\n              {documentType !== 'Albums' && (\n                <WhoHasAccess\n                  className={'u-mt-1'}\n                  isOwner={isOwner}\n                  recipients={recipients}\n                  document={document}\n                  documentType={documentType}\n                  onRevoke={onRevoke}\n                />\n              )}\n            </div>\n          </div>\n        </ModalContent>\n      </Modal>\n    )\n  }\n}\n\nShareModal.propTypes = {\n  document: PropTypes.object.isRequired,\n  isOwner: PropTypes.bool,\n  sharingDesc: PropTypes.string,\n  contacts: contactsResponseType.isRequired,\n  groups: groupsResponseType.isRequired,\n  createContact: PropTypes.func.isRequired,\n  recipients: PropTypes.array.isRequired,\n  link: PropTypes.string,\n  documentType: PropTypes.string,\n  needsContactsPermission: PropTypes.bool,\n  hasSharedParent: PropTypes.bool,\n  hasSharedChild: PropTypes.bool,\n  onClose: PropTypes.func.isRequired,\n  onShare: PropTypes.func.isRequired,\n  onRevoke: PropTypes.func.isRequired,\n  onShareByLink: PropTypes.func.isRequired,\n  onRevokeLink: PropTypes.func.isRequired\n}\n","export { default } from './NoViewer'\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fil-file-name-input\":\"fil-file-name-input--2jfPV\",\"error\":\"error--2QCXU\",\"spin\":\"spin--3eqnH\",\"shake\":\"shake--12n6l\"};","export const UNKNOWN = window.Connection ? window.Connection.UNKNOWN : 'unknown'\nexport const ETHERNET = window.Connection\n  ? window.Connection.ETHERNET\n  : 'ethernet'\nexport const WIFI = window.Connection ? window.Connection.WIFI : 'wifi'\nexport const CELL_2G = window.Connection ? window.Connection.CELL_2G : '2g'\nexport const CELL_3G = window.Connection ? window.Connection.CELL_3G : '3g'\nexport const CELL_4G = window.Connection ? window.Connection.CELL_4G : '4g'\nexport const CELL = window.Connection ? window.Connection.CELL : 'cellular'\nexport const NONE = window.Connection ? window.Connection.NONE : 'none'\n\nexport const watchNetworkState = onConnectionChange => {\n  document.addEventListener('offline', onConnectionChange, false)\n  document.addEventListener('online', onConnectionChange, false)\n}\n\nconst hasCordovaPlugin = () =>\n  window.navigator.connection !== undefined && window.Connection !== undefined\n\nconst getConnectionType = () =>\n  hasCordovaPlugin() ? navigator.connection.type : WIFI\n\nexport const isWifi = () => getConnectionType() === WIFI\n\nexport const isOnline = () =>\n  hasCordovaPlugin() ? navigator.connection !== NONE : navigator.onLine\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-type-files_d6b9e7e79f0dd5f6e7298c7c569d9cbc\",\n  \"use\": \"icon-type-files_d6b9e7e79f0dd5f6e7298c7c569d9cbc-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-type-files_d6b9e7e79f0dd5f6e7298c7c569d9cbc\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(3)\\\">\\n    <path fill=\\\"#D1D5DB\\\" d=\\\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\\\" />\\n    <path fill=\\\"#A3ACB8\\\" d=\\\"M18.5,8.57092175e-14 C18.2238576,1.33045111e-13 18,0.230796814 18,0.500435829 L18,8 L25.4995642,8 C25.7759472,8 26,7.76806641 26,7.5 L26,7 L19,0 L18.5,8.57092175e-14 Z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","var map = {\n\t\"./_lib/build_formatting_tokens_reg_exp/index.js\": \"kOWh\",\n\t\"./ar/build_distance_in_words_locale/index.js\": \"XxX6\",\n\t\"./ar/build_format_locale/index.js\": \"alis\",\n\t\"./ar/index.js\": \"EDRf\",\n\t\"./bg/build_distance_in_words_locale/index.js\": \"7K3h\",\n\t\"./bg/build_format_locale/index.js\": \"RrdL\",\n\t\"./bg/index.js\": \"isx8\",\n\t\"./ca/build_distance_in_words_locale/index.js\": \"wqqj\",\n\t\"./ca/build_format_locale/index.js\": \"qcV0\",\n\t\"./ca/index.js\": \"Vwa+\",\n\t\"./cs/build_distance_in_words_locale/index.js\": \"ZKDM\",\n\t\"./cs/build_format_locale/index.js\": \"ipyF\",\n\t\"./cs/index.js\": \"dvhP\",\n\t\"./da/build_distance_in_words_locale/index.js\": \"2Mgc\",\n\t\"./da/build_format_locale/index.js\": \"Gned\",\n\t\"./da/index.js\": \"7ur/\",\n\t\"./de/build_distance_in_words_locale/index.js\": \"5IWf\",\n\t\"./de/build_format_locale/index.js\": \"THCn\",\n\t\"./de/index.js\": \"bgw5\",\n\t\"./el/build_distance_in_words_locale/index.js\": \"o/GB\",\n\t\"./el/build_format_locale/index.js\": \"8T9h\",\n\t\"./el/index.js\": \"dH0v\",\n\t\"./en/build_distance_in_words_locale/index.js\": \"LZbM\",\n\t\"./en/build_format_locale/index.js\": \"6DAA\",\n\t\"./en/index.js\": \"Us+F\",\n\t\"./eo/build_distance_in_words_locale/index.js\": \"qrnn\",\n\t\"./eo/build_format_locale/index.js\": \"Bl15\",\n\t\"./eo/index.js\": \"UB7v\",\n\t\"./es/build_distance_in_words_locale/index.js\": \"GEfZ\",\n\t\"./es/build_format_locale/index.js\": \"O+zC\",\n\t\"./es/index.js\": \"/S0t\",\n\t\"./fi/build_distance_in_words_locale/index.js\": \"VHtQ\",\n\t\"./fi/build_format_locale/index.js\": \"Oydx\",\n\t\"./fi/index.js\": \"ndVD\",\n\t\"./fil/build_distance_in_words_locale/index.js\": \"uq4p\",\n\t\"./fil/build_format_locale/index.js\": \"d7hw\",\n\t\"./fil/index.js\": \"pNfm\",\n\t\"./fr/build_distance_in_words_locale/index.js\": \"IzMR\",\n\t\"./fr/build_format_locale/index.js\": \"I3Zg\",\n\t\"./fr/index.js\": \"LKA2\",\n\t\"./hr/build_distance_in_words_locale/index.js\": \"DPvn\",\n\t\"./hr/build_format_locale/index.js\": \"puw3\",\n\t\"./hr/index.js\": \"L9Jq\",\n\t\"./hu/build_distance_in_words_locale/index.js\": \"w2RQ\",\n\t\"./hu/build_format_locale/index.js\": \"/0iD\",\n\t\"./hu/index.js\": \"Nm+E\",\n\t\"./id/build_distance_in_words_locale/index.js\": \"JbvB\",\n\t\"./id/build_format_locale/index.js\": \"0wlw\",\n\t\"./id/index.js\": \"A6C3\",\n\t\"./is/build_distance_in_words_locale/index.js\": \"qzMC\",\n\t\"./is/build_format_locale/index.js\": \"S3yD\",\n\t\"./is/index.js\": \"N4bE\",\n\t\"./it/build_distance_in_words_locale/index.js\": \"MDEp\",\n\t\"./it/build_format_locale/index.js\": \"aUJd\",\n\t\"./it/index.js\": \"hmb4\",\n\t\"./ja/build_distance_in_words_locale/index.js\": \"nNvt\",\n\t\"./ja/build_format_locale/index.js\": \"buui\",\n\t\"./ja/index.js\": \"uAXs\",\n\t\"./ko/build_distance_in_words_locale/index.js\": \"oEw+\",\n\t\"./ko/build_format_locale/index.js\": \"9SQf\",\n\t\"./ko/index.js\": \"iW8+\",\n\t\"./mk/build_distance_in_words_locale/index.js\": \"nmwZ\",\n\t\"./mk/build_format_locale/index.js\": \"htxJ\",\n\t\"./mk/index.js\": \"GzBU\",\n\t\"./nb/build_distance_in_words_locale/index.js\": \"SL1f\",\n\t\"./nb/build_format_locale/index.js\": \"CJ5F\",\n\t\"./nb/index.js\": \"73vv\",\n\t\"./nl/build_distance_in_words_locale/index.js\": \"Uyu0\",\n\t\"./nl/build_format_locale/index.js\": \"doCD\",\n\t\"./nl/index.js\": \"hCQt\",\n\t\"./pl/build_distance_in_words_locale/index.js\": \"FUBD\",\n\t\"./pl/build_format_locale/index.js\": \"nOYf\",\n\t\"./pl/index.js\": \"B6yL\",\n\t\"./pt/build_distance_in_words_locale/index.js\": \"aTPA\",\n\t\"./pt/build_format_locale/index.js\": \"TTT0\",\n\t\"./pt/index.js\": \"gdks\",\n\t\"./ro/build_distance_in_words_locale/index.js\": \"gI+A\",\n\t\"./ro/build_format_locale/index.js\": \"njjO\",\n\t\"./ro/index.js\": \"r2yp\",\n\t\"./ru/build_distance_in_words_locale/index.js\": \"KmPx\",\n\t\"./ru/build_format_locale/index.js\": \"UUBw\",\n\t\"./ru/index.js\": \"nz/o\",\n\t\"./sk/build_distance_in_words_locale/index.js\": \"q2Bs\",\n\t\"./sk/build_format_locale/index.js\": \"9sxn\",\n\t\"./sk/index.js\": \"Wqan\",\n\t\"./sl/build_distance_in_words_locale/index.js\": \"mlv2\",\n\t\"./sl/build_format_locale/index.js\": \"vHkZ\",\n\t\"./sl/index.js\": \"KYSo\",\n\t\"./sv/build_distance_in_words_locale/index.js\": \"UNBN\",\n\t\"./sv/build_format_locale/index.js\": \"zTNB\",\n\t\"./sv/index.js\": \"hxgj\",\n\t\"./th/build_distance_in_words_locale/index.js\": \"XAGa\",\n\t\"./th/build_format_locale/index.js\": \"We2s\",\n\t\"./th/index.js\": \"Pk+z\",\n\t\"./tr/build_distance_in_words_locale/index.js\": \"aFZF\",\n\t\"./tr/build_format_locale/index.js\": \"jh7A\",\n\t\"./tr/index.js\": \"3ZWG\",\n\t\"./zh_cn/build_distance_in_words_locale/index.js\": \"KdB7\",\n\t\"./zh_cn/build_format_locale/index.js\": \"l4EP\",\n\t\"./zh_cn/index.js\": \"8tMq\",\n\t\"./zh_tw/build_distance_in_words_locale/index.js\": \"vyyr\",\n\t\"./zh_tw/build_format_locale/index.js\": \"uYH7\",\n\t\"./zh_tw/index.js\": \"QPlQ\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"nw0P\";","import React from 'react'\nimport PropTypes from 'prop-types'\nimport cx from 'classnames'\nimport { withBreakpoints } from 'cozy-ui/react'\nimport { ImageLoader } from 'components/Image'\nimport { SharedBadge } from 'sharing'\nimport FileIcon from 'drive/web/modules/filelist/FileIcon'\nimport styles from 'drive/styles/filelist.styl'\n\nconst FileThumbnail = ({\n  file,\n  withSharedBadge,\n  breakpoints: { isMobile }\n}) => {\n  const isImage = file.class === 'image'\n  return (\n    <div\n      className={cx(styles['fil-content-cell'], styles['fil-file-thumbnail'], {\n        'u-pl-0': !isMobile\n      })}\n    >\n      {isImage ? (\n        <ImageLoader\n          file={file}\n          size=\"small\"\n          render={src => (\n            <img\n              src={src}\n              width={32}\n              height={32}\n              className={styles['fil-file-thumbnail-image']}\n            />\n          )}\n          renderFallback={() => <FileIcon file={file} />}\n        />\n      ) : (\n        <FileIcon file={file} />\n      )}\n      {withSharedBadge && (\n        <SharedBadge\n          docId={file.id}\n          className={styles['fil-content-shared']}\n          xsmall\n        />\n      )}\n    </div>\n  )\n}\n\nFileThumbnail.propTypes = {\n  file: PropTypes.shape({\n    class: PropTypes.string,\n    mime: PropTypes.string,\n    name: PropTypes.string\n  }).isRequired,\n  withSharedBadge: PropTypes.bool,\n  breakpoints: PropTypes.shape({\n    isMobile: PropTypes.bool\n  }).isRequired\n}\n\nexport default withBreakpoints()(FileThumbnail)\n","const FILE_TYPE = 'file'\nconst DIR_TYPE = 'directory'\nexport const ALBUMS_DOCTYPE = 'io.cozy.photos.albums'\nexport const isFile = file => file && file.type === FILE_TYPE\nexport const isDirectory = file => file && file.type === DIR_TYPE\nexport const isReferencedByAlbum = file => {\n  if (\n    file.relationships &&\n    file.relationships.referenced_by &&\n    file.relationships.referenced_by.data &&\n    file.relationships.referenced_by.data.length > 0\n  ) {\n    const references = file.relationships.referenced_by.data\n    for (const reference of references) {\n      if (reference.type === ALBUMS_DOCTYPE) {\n        return true\n      }\n    }\n  }\n  return false\n}\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-trash-red_c64051db4812a1c5d58fc48b31781cbc\",\n  \"use\": \"icon-trash-red_c64051db4812a1c5d58fc48b31781cbc-usage\",\n  \"viewBox\": \"0 0 16 16\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\" id=\\\"icon-trash-red_c64051db4812a1c5d58fc48b31781cbc\\\">\\n  <g fill=\\\"#F52D2D\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(-96 -32)\\\">\\n    <path d=\\\"M100.5,33 L98.0068455,33 C97.4499488,33 97,33.4477153 97,34 L97,35 L111,35 L111,34 C111,33.4438648 110.54922,33 109.993155,33 L107.5,33 L107,32 L101,32 L100.5,33 Z M98,36 L110,36 L110,45.9914698 C110,47.1007504 109.09805,48 107.99147,48 L100.00853,48 C98.8992496,48 98,47.0980496 98,45.9914698 L98,36 Z\\\" />\\n    <path d=\\\"M100.5,33 L98.0068455,33 C97.4499488,33 97,33.4477153 97,34 L97,35 L111,35 L111,34 C111,33.4438648 110.54922,33 109.993155,33 L107.5,33 L107,32 L101,32 L100.5,33 Z M98,36 L110,36 L110,45.9914698 C110,47.1007504 109.09805,48 107.99147,48 L100.00853,48 C98.8992496,48 98,47.0980496 98,45.9914698 L98,36 Z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react'\nimport classNames from 'classnames'\nimport { Icon } from 'cozy-ui/react'\nimport styles from './badge.styl'\n\nconst SharedBadge = ({ byMe, className, small, xsmall }) => (\n  <div\n    className={classNames(\n      styles['shared-badge'],\n      className,\n      { [styles['--small']]: small },\n      { [styles['--xsmall']]: xsmall },\n      styles[byMe ? '--by-me' : '--with-me']\n    )}\n  >\n    <Icon icon=\"share\" color=\"white\" className={styles['shared-badge-icon']} />\n  </div>\n)\n\nexport default SharedBadge\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-type-zip_1ace38c6dbbbe1e7f4fb0ae579dd38d2\",\n  \"use\": \"icon-type-zip_1ace38c6dbbbe1e7f4fb0ae579dd38d2-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-type-zip_1ace38c6dbbbe1e7f4fb0ae579dd38d2\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(3)\\\">\\n    <rect width=\\\"26\\\" height=\\\"32\\\" fill=\\\"#D1D5DB\\\" rx=\\\"2\\\" />\\n    <path fill=\\\"#4F5B69\\\" d=\\\"M11,1 L13,1 L13,3 L11,3 L11,1 Z M11,5 L13,5 L13,7 L11,7 L11,5 Z M11,9 L13,9 L13,11 L11,11 L11,9 Z M13,3 L15,3 L15,5 L13,5 L13,3 Z M13,7 L15,7 L15,9 L13,9 L13,7 Z M11,12 L15,12 L15,19 L11,19 L11,12 Z M12,13 L14,13 L14,15 L12,15 L12,13 Z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","/* global cozy, document */\nimport { LocalStorage as Storage } from 'cozy-client-js'\nimport CozyClient from 'cozy-client'\nimport { SOFTWARE_ID, SOFTWARE_NAME } from './constants'\nimport { disableBackgroundService } from './background'\nimport { schema, DOCTYPE_FILES } from 'drive/lib/doctypes'\nexport const getLang = () =>\n  navigator && navigator.language ? navigator.language.slice(0, 2) : 'en'\nimport { isMobileApp, getDeviceName } from 'cozy-device-helper'\nimport appMetadata from 'drive/appMetadata'\n\nexport const getOauthOptions = () => {\n  return {\n    redirectURI: isMobileApp() ? 'cozydrive://auth' : 'http://localhost',\n    softwareID: SOFTWARE_ID,\n    clientName: `${SOFTWARE_NAME} (${getDeviceName()})`,\n    softwareVersion: appMetadata.version,\n    clientKind: 'mobile',\n    clientURI: 'https://github.com/cozy/cozy-drive/',\n    logoURI:\n      'https://github.com/cozy/cozy-drive/raw/master/targets/drive/vendor/assets/oauth-app-icon.png',\n    policyURI: 'https://files.cozycloud.cc/cgu.pdf'\n  }\n}\n\nexport const permissions = [\n  'io.cozy.files',\n  'io.cozy.apps:GET',\n  'io.cozy.settings:GET',\n  'io.cozy.contacts',\n  'io.cozy.contacts.groups',\n  'io.cozy.jobs:POST:sendmail:worker'\n]\n\nexport const initClient = url => {\n  return new CozyClient({\n    uri: url,\n    scope: permissions,\n    oauth: getOauthOptions(),\n    offline: { doctypes: [DOCTYPE_FILES] },\n    appMetadata,\n    schema\n  })\n}\n\nexport const initBar = async client => {\n  // Prevents the bar to be initialized 2 times in a row after the onboarding\n  if (document.getElementById('coz-bar')) {\n    return\n  }\n  await cozy.bar.init({\n    appName: 'Drive',\n    appNamePrefix: 'Cozy',\n    appSlug: 'drive',\n    cozyClient: client,\n    iconPath: require('../../targets/vendor/assets/app-icon.svg'),\n    lang: getLang(),\n    cozyURL: client.options.uri,\n    token: await getTokenWithNoException(),\n    renewToken: () => client.getClient().refreshToken(),\n    replaceTitleOnMobile: false,\n    displayOnMobile: true\n  })\n}\n\nexport const restoreCozyClientJs = (uri, clientInfos, token) => {\n  const offline = { doctypes: ['io.cozy.files'] }\n  cozy.client.init({\n    cozyURL: uri,\n    oauth: {\n      storage: new Storage(),\n      clientParams: {\n        ...clientInfos,\n        scopes: token.scope\n      }\n    },\n    offline\n  })\n  const realToken = new cozy.client.auth.AccessToken(token)\n  cozy.client.saveCredentials(clientInfos, realToken)\n}\n\nexport function resetClient(client, clientInfo = null) {\n  if (clientInfo && cozy.client.auth.unregisterClient) {\n    cozy.client.auth.unregisterClient(clientInfo)\n  }\n  // reset cozy-bar\n  if (document.getElementById('coz-bar')) {\n    document.getElementById('coz-bar').remove()\n  }\n  // reset pouchDB\n  if (cozy.client.offline.destroyAllDatabase) {\n    cozy.client.offline.destroyAllDatabase()\n  }\n  // reset cozy-client\n  client.getStackClient().resetClient()\n  // reset cozy-client-js\n  if (cozy.client._storage) {\n    cozy.client._storage.clear()\n  }\n\n  disableBackgroundService()\n}\n\nexport const getToken = async () => {\n  const credentials = await cozy.client.authorize()\n  return credentials.token.accessToken\n}\n\nconst getTokenWithNoException = async () => {\n  try {\n    return await getToken()\n  } catch (_) {\n    return null\n  }\n}\n\nexport const getClientUrl = () => cozy.client._url\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-type-pdf_ea9c680326440f2601a8a80345ef5a5d\",\n  \"use\": \"icon-type-pdf_ea9c680326440f2601a8a80345ef5a5d-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-type-pdf_ea9c680326440f2601a8a80345ef5a5d\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(3)\\\">\\n    <path fill=\\\"#FCD0D5\\\" d=\\\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\\\" />\\n    <path fill=\\\"#F1132D\\\" d=\\\"M18.5.57092175e-14C18.2238576.33045111e-13 18 .230796814 18 .500435829L18 8 25.4995642 8C25.7759472 8 26 7.76806641 26 7.5L26 7 19 0 18.5.57092175e-14zM6 11L20 11 20 13 6 13 6 11zM6 15L18 15 18 17 6 17 6 15zM6.06599695 19.784L7.96999695 19.784C8.25266503 19.784 8.51799571 19.8119997 8.76599695 19.868 9.01399819 19.9240003 9.22999603 20.0173327 9.41399695 20.148 9.59799787 20.2786673 9.74332975 20.4519989 9.84999695 20.668 9.95666415 20.8840011 10.0099969 21.1493318 10.0099969 21.464 10.0099969 21.7680015 9.95533083 22.0319989 9.84599695 22.256 9.73666307 22.4800011 9.58866455 22.6639993 9.40199695 22.808 9.21532935 22.9520007 8.99933151 23.0586663 8.75399695 23.128 8.50866239 23.1973337 8.24733167 23.232 7.96999695 23.232L7.24199695 23.232 7.24199695 25 6.06599695 25 6.06599695 19.784zM7.89799695 22.296C8.53800015 22.296 8.85799695 22.0186694 8.85799695 21.464 8.85799695 21.1919986 8.77666443 21.0000006 8.61399695 20.888 8.45132947 20.7759994 8.21266519 20.72 7.89799695 20.72L7.24199695 20.72 7.24199695 22.296 7.89799695 22.296zM10.9139969 19.784L12.3859969 19.784C12.7859989 19.784 13.1459953 19.8346662 13.4659969 19.936 13.7859985 20.0373338 14.0606625 20.1933323 14.2899969 20.404 14.5193314 20.6146677 14.6953297 20.882665 14.8179969 21.208 14.9406642 21.533335 15.0019969 21.9199978 15.0019969 22.368 15.0019969 22.8160022 14.9406642 23.2053317 14.8179969 23.536 14.6953297 23.8666683 14.5219981 24.1399989 14.2979969 24.356 14.0739958 24.5720011 13.8059985 24.7333328 13.4939969 24.84 13.1819954 24.9466672 12.8339989 25 12.4499969 25L10.9139969 25 10.9139969 19.784zM12.3139969 24.048C12.5379981 24.048 12.7406627 24.018667 12.9219969 23.96 13.1033312 23.901333 13.2579963 23.8066673 13.3859969 23.676 13.5139976 23.5453327 13.6139966 23.3733344 13.6859969 23.16 13.7579973 22.9466656 13.7939969 22.6826682 13.7939969 22.368 13.7939969 22.0586651 13.7579973 21.7986677 13.6859969 21.588 13.6139966 21.3773323 13.5139976 21.209334 13.3859969 21.084 13.2579963 20.958666 13.1033312 20.8693336 12.9219969 20.816 12.7406627 20.7626664 12.5379981 20.736 12.3139969 20.736L12.0899969 20.736 12.0899969 24.048 12.3139969 24.048zM15.9939969 19.784L19.2819969 19.784 19.2819969 20.776 17.1699969 20.776 17.1699969 21.984 18.9779969 21.984 18.9779969 22.976 17.1699969 22.976 17.1699969 25 15.9939969 25 15.9939969 19.784z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { Button, ButtonAction, withBreakpoints, Icon } from 'cozy-ui/react'\nimport IconFolderAdd from 'drive/assets/icons/icon-folder-add.svg'\nimport { showNewFolderInput } from 'drive/web/modules/filelist/duck'\n\nconst AddFolderButton = ({ addFolder, breakpoints: { isMobile } }, { t }) => {\n  if (isMobile)\n    return (\n      <ButtonAction\n        compact\n        rightIcon={<Icon icon={IconFolderAdd} color=\"coolGrey\" />}\n        onClick={addFolder}\n        label={t('intents.picker.new_folder')}\n      />\n    )\n  else\n    return (\n      <Button icon={IconFolderAdd} onClick={addFolder}>\n        {t('toolbar.menu_new_folder')}\n      </Button>\n    )\n}\n\nAddFolderButton.contextTypes = {\n  t: PropTypes.func.isRequired\n}\n\nconst mapDispatchToPropsButton = dispatch => ({\n  addFolder: () => dispatch(showNewFolderInput())\n})\n\nexport default connect(\n  null,\n  mapDispatchToPropsButton\n)(withBreakpoints()(AddFolderButton))\n","/* global __SENTRY_URL__, __DEVELOPMENT__ */\nimport Raven from 'raven-js'\nimport appMetadata from 'drive/appMetadata'\n\nexport const ANALYTICS_URL =\n  typeof __SENTRY_URL__ === 'undefined' ? '' : __SENTRY_URL__\n\n// normalize files path on mobile, see https://github.com/getsentry/sentry-cordova/blob/17e8b3395e8ce391ecf28658d0487b97487bb509/src/js/SentryCordova.ts#L213\nconst normalizeUrl = (url, pathStripRe) =>\n  url.replace(/^file:\\/\\//, 'app://').replace(pathStripRe, '')\n\nexport const normalizeData = data => {\n  const PATH_STRIP_RE = /^.*\\/[^.]+(\\.app|CodePush|.*(?=\\/))/\n\n  if (data.culprit) {\n    data.culprit = normalizeUrl(data.culprit, PATH_STRIP_RE)\n  }\n  const stacktrace =\n    data.stacktrace ||\n    (data.exception &&\n      data.exception.values &&\n      data.exception.values[0] &&\n      data.exception.values[0].stacktrace)\n\n  if (stacktrace) {\n    stacktrace.frames = stacktrace.frames.map(\n      frame =>\n        frame.filename !== '[native code]'\n          ? { ...frame, filename: normalizeUrl(frame.filename, PATH_STRIP_RE) }\n          : frame\n    )\n  }\n  return data\n}\n\nexport const getReporterConfiguration = () => ({\n  shouldSendCallback: true,\n  environment: __DEVELOPMENT__ ? 'development' : 'production',\n  release: appMetadata.version,\n  allowSecretKey: true,\n  dataCallback: normalizeData\n})\n\nexport const configureReporter = () => {\n  Raven.config(ANALYTICS_URL, getReporterConfiguration()).install()\n}\n\nexport const logException = (err, extraContext = null, fingerprint = null) => {\n  return new Promise(resolve => {\n    Raven.captureException(err, { extra: extraContext, fingerprint })\n    // eslint-disable-next-line no-console\n    console.warn('Raven is recording exception')\n    // eslint-disable-next-line no-console\n    console.error(err)\n    resolve()\n  })\n}\n\nexport const setCozyUrl = instance => {\n  Raven.setTagsContext({ instance })\n}\n\nconst logMessage = (message, serverUrl, level = 'info') => {\n  return new Promise(resolve => {\n    Raven.setUserContext = {\n      url: serverUrl\n    }\n    Raven.captureMessage(`[${serverUrl}] ${message}`, {\n      level\n    })\n    resolve()\n  })\n}\n\nexport const logInfo = (message, serverUrl) =>\n  logMessage(message, serverUrl, 'info')\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport get from 'lodash/get'\nimport { Avatar } from 'cozy-ui/react'\nimport { translate } from 'cozy-ui/react/I18n'\n\nimport styles from 'sharing/components/recipient.styl'\n\nimport { Contact, Group } from 'models'\nimport Identity from 'sharing/components/Identity'\n\nexport const ContactSuggestion = ({ contactOrGroup, contacts, t }) => {\n  let avatarText, name, details\n  if (contactOrGroup._type === Group.doctype) {\n    name = contactOrGroup.name\n    const membersCount = contacts\n      .reduce((total, contact) => {\n        if (\n          get(contact, 'relationships.groups.data', [])\n            .map(group => group._id)\n            .includes(contactOrGroup._id)\n        ) {\n          return total + 1\n        }\n\n        return total\n      }, 0)\n      .toString()\n    details = t('Share.members.count', {\n      smart_count: membersCount\n    })\n    avatarText = 'G'\n  } else {\n    name = Contact.getDisplayName(contactOrGroup)\n    avatarText = Contact.getInitials(contactOrGroup)\n    details = Contact.getPrimaryCozy(contactOrGroup)\n  }\n\n  return (\n    <div className={styles['recipient']}>\n      <Avatar text={avatarText} size=\"small\" />\n      <Identity name={name} details={details} />\n    </div>\n  )\n}\n\nContactSuggestion.propTypes = {\n  contactOrGroup: PropTypes.oneOfType([Contact.propType, Group.propType])\n    .isRequired,\n  contacts: PropTypes.arrayOf(Contact.propType),\n  t: PropTypes.func.isRequired\n}\n\nexport default translate()(ContactSuggestion)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Button } from 'cozy-ui/react'\n\nconst PdfToolbarButton = ({ icon, onClick, disabled }) => (\n  <Button\n    iconOnly\n    subtle\n    theme=\"secondary\"\n    className=\"u-p-half u-m-half\"\n    icon={icon}\n    onClick={onClick}\n    disabled={disabled}\n  />\n)\n\nPdfToolbarButton.propTypes = {\n  icon: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  disabled: PropTypes.bool\n}\n\nexport default PdfToolbarButton\n","import React, { Component } from 'react'\n\nexport default class MenuItem extends Component {\n  onClick = e => {\n    // we need to stop propagation here so that the menu doesn't close itself\n    e.stopPropagation()\n    if (this.props.onClick) {\n      this.props.onClick()\n    }\n  }\n\n  render() {\n    const { className, children } = this.props\n    return (\n      <div>\n        <a className={className} onClick={this.onClick}>\n          {children}\n        </a>\n      </div>\n    )\n  }\n}\n","import createReactContext from 'create-react-context'\n\nconst SharingContext = createReactContext()\n\nexport default SharingContext\n","import React from 'react'\nimport Modal from 'cozy-ui/react/Modal'\nimport { translate } from 'cozy-ui/react/I18n'\n\nconst QuotaAlert = ({ t, onClose }) => (\n  <Modal\n    title={t('quotaalert.title')}\n    description={<p>{t('quotaalert.desc')}</p>}\n    primaryText={t('quotaalert.confirm')}\n    primaryAction={onClose}\n    secondaryAction={onClose}\n  />\n)\n\nexport default translate()(QuotaAlert)\n","import { connect } from 'react-redux'\nimport { isNavigating } from 'drive/web/modules/navigation/duck'\n\nconst AsyncBoundary = ({ fetchStatus, isNavigating = false, children }) => {\n  const fetchFailed = fetchStatus === 'failed'\n  const fetchPending = fetchStatus === 'pending'\n  const isLoading = fetchPending || isNavigating\n\n  return children({ isLoading, isNavigating, isInError: fetchFailed })\n}\n\nconst mapStateToProps = state => ({\n  isNavigating: isNavigating(state),\n  fetchStatus: state.view.fetchStatus\n})\n\nexport default connect(mapStateToProps)(AsyncBoundary)\n","import { ROOT_DIR_ID, TRASH_DIR_ID } from 'drive/constants/config'\n\n// reconstruct the whole path to the current folder (first element is the root, the last is the current folder)\nconst getFolderPath = (\n  displayedFolder,\n  pathname = '',\n  isPublic = false,\n  sharedDocuments = []\n) => {\n  const path = []\n  const isBrowsingTrash = /^\\/trash/.test(pathname)\n  const isBrowsingRecentFiles = /^\\/recent/.test(pathname)\n  const isBrowsingSharings = /^\\/sharings/.test(pathname)\n  // dring the first fetch, displayedFolder is null, and we don't want to display anything\n  if (displayedFolder) {\n    path.push(displayedFolder)\n    // does the folder have parents to display? The trash folder has the root folder as parent, but we don't want to show that. Sharings folder at the root level have the same problem.\n    const parent = displayedFolder.parent\n    const isShared = sharedDocuments.includes(displayedFolder.id)\n    const isParentShared = parent && sharedDocuments.includes(parent.id)\n    if (\n      parent &&\n      parent.id &&\n      !(isBrowsingTrash && parent.id === ROOT_DIR_ID) &&\n      !(isBrowsingSharings && isShared)\n    ) {\n      path.unshift(parent)\n      // has the parent a parent too?\n      if (\n        parent.dir_id &&\n        !(isBrowsingTrash && parent.dir_id === ROOT_DIR_ID) &&\n        !(isBrowsingSharings && isParentShared) &&\n        !isPublic\n      ) {\n        // since we don't *actually* have any information about the parent's parent, we have to fake it\n        path.unshift({ id: parent.dir_id })\n      }\n    }\n  }\n  if (isPublic) {\n    return path\n  }\n  // finally, we need to make sure we have the root level folder, which can be either the root, or the trash folder.\n  if (!isBrowsingRecentFiles && !isBrowsingSharings) {\n    const hasRootFolder =\n      path[0] && (path[0].id === ROOT_DIR_ID || path[0].id === TRASH_DIR_ID)\n    if (!hasRootFolder) {\n      // if we don't have one, we add it manually\n      path.unshift({\n        id: isBrowsingTrash ? TRASH_DIR_ID : ROOT_DIR_ID\n      })\n    }\n  }\n  return path\n}\n\nexport default getFolderPath\n","var map = {\n\t\"./ar\": \"kF+x\",\n\t\"./ar.json\": \"kF+x\",\n\t\"./cs_CZ\": \"1dDq\",\n\t\"./cs_CZ.json\": \"1dDq\",\n\t\"./de\": \"vMhE\",\n\t\"./de.json\": \"vMhE\",\n\t\"./en\": \"koyB\",\n\t\"./en.json\": \"koyB\",\n\t\"./es\": \"zuTE\",\n\t\"./es.json\": \"zuTE\",\n\t\"./eu\": \"Mc+O\",\n\t\"./eu.json\": \"Mc+O\",\n\t\"./fr\": \"1ivL\",\n\t\"./fr.json\": \"1ivL\",\n\t\"./it\": \"Nxnt\",\n\t\"./it.json\": \"Nxnt\",\n\t\"./ja\": \"AJyi\",\n\t\"./ja.json\": \"AJyi\",\n\t\"./ko\": \"893Q\",\n\t\"./ko.json\": \"893Q\",\n\t\"./nl\": \"UH/X\",\n\t\"./nl.json\": \"UH/X\",\n\t\"./nl_NL\": \"SD4Y\",\n\t\"./nl_NL.json\": \"SD4Y\",\n\t\"./pl\": \"NI1l\",\n\t\"./pl.json\": \"NI1l\",\n\t\"./pl_PL\": \"KEqR\",\n\t\"./pl_PL.json\": \"KEqR\",\n\t\"./ru\": \"iTyR\",\n\t\"./ru.json\": \"iTyR\",\n\t\"./zh_CN\": \"9Xnv\",\n\t\"./zh_CN.json\": \"9Xnv\",\n\t\"./zh_TW\": \"Gts3\",\n\t\"./zh_TW.json\": \"Gts3\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"tqYW\";","import React, { Component } from 'react'\nimport classNames from 'classnames'\nimport { connect } from 'react-redux'\nimport { translate } from 'cozy-ui/react/I18n'\nimport { Icon, Spinner } from 'cozy-ui/transpiled/react'\nimport palette from 'cozy-ui/stylus/settings/palette.json'\nimport getMimeTypeIcon from 'drive/lib/getMimeTypeIcon'\n\nimport styles from './styles.styl'\nimport {\n  getUploadQueue,\n  getProcessed,\n  getSuccessful,\n  purgeUploadQueue\n} from '.'\n\nconst splitFilename = filename => {\n  const dotIdx = (filename.lastIndexOf('.') - 1) >>> 0\n  return {\n    extension: filename.slice(dotIdx + 1),\n    filename: filename.slice(0, dotIdx + 1)\n  }\n}\n\nconst Pending = translate()(props => (\n  <span className={styles['item-pending']}>\n    {props.t('UploadQueue.item.pending')}\n  </span>\n))\n\nconst Item = translate()(({ file, status, isDirectory }) => {\n  const { filename, extension } = splitFilename(file.name)\n  let statusIcon\n  switch (status) {\n    case 'loading':\n      statusIcon = <Spinner class=\"u-ml-half\" color={palette['dodgerBlue']} />\n      break\n    case 'cancel':\n      statusIcon = (\n        <Icon class=\"u-ml-half\" icon=\"cross\" color={palette['monza']} />\n      )\n      break\n    case 'failed':\n    case 'conflict':\n    case 'network':\n      statusIcon = (\n        <Icon class=\"u-ml-half\" icon=\"warning\" color={palette['monza']} />\n      )\n      break\n    case 'loaded':\n      statusIcon = (\n        <Icon\n          class=\"u-ml-half\"\n          icon=\"check-circleless\"\n          color={palette['emerald']}\n        />\n      )\n      break\n    case 'pending':\n    default:\n      statusIcon = <Pending />\n      break\n  }\n  return (\n    <div\n      data-test-id=\"upload-queue-item\"\n      className={classNames(styles['upload-queue-item'], {\n        [styles['upload-queue-item--done']]: status === 'loaded',\n        [styles['upload-queue-item--error']]:\n          status === 'failed' || status === 'conflict' || status === 'network'\n      })}\n    >\n      <div\n        className={classNames(\n          styles['item-file'],\n          'u-flex',\n          'u-flex-items-center',\n          'u-p-1'\n        )}\n      >\n        <Icon\n          icon={getMimeTypeIcon(isDirectory, file.name, file.type)}\n          size={32}\n          className=\"u-flex-shrink-0 u-mr-1\"\n        />\n        <div data-test-id=\"upload-queue-item-name\" className=\"u-ellipsis\">\n          {filename}\n          {extension && <span className={styles['item-ext']}>{extension}</span>}\n        </div>\n      </div>\n      <div className={styles['item-status']}>{statusIcon}</div>\n    </div>\n  )\n})\n\nclass UploadQueue extends Component {\n  state = {\n    collapsed: false\n  }\n\n  toggleCollapsed = () => {\n    this.setState(state => ({ collapsed: !state.collapsed }))\n  }\n\n  render() {\n    const { t, queue, doneCount, successCount, purgeQueue } = this.props\n    const { collapsed } = this.state\n    return (\n      <div\n        data-test-id=\"upload-queue\"\n        className={classNames(styles['upload-queue'], {\n          [styles['upload-queue--visible']]: queue.length !== 0,\n          [styles['upload-queue--collapsed']]: collapsed\n        })}\n      >\n        <h4\n          className={styles['upload-queue-header']}\n          onDoubleClick={this.toggleCollapsed}\n        >\n          {doneCount < queue.length && (\n            <div className={styles['upload-queue-header-inner']}>\n              <span className={styles['u-hide--mob']}>\n                {t('UploadQueue.header', { smart_count: queue.length })}\n              </span>\n              <span className={styles['u-hide--desk']}>\n                {t('UploadQueue.header_mobile', {\n                  done: doneCount,\n                  total: queue.length\n                })}\n              </span>\n            </div>\n          )}\n          {doneCount >= queue.length && (\n            <div\n              data-test-id=\"upload-queue-success\"\n              className={styles['upload-queue-header-inner']}\n            >\n              <span>\n                {t('UploadQueue.header_done', {\n                  done: successCount,\n                  total: queue.length\n                })}\n              </span>\n              <button\n                className={classNames(styles['btn-close'])}\n                onClick={purgeQueue}\n              >\n                {t('UploadQueue.close')}\n              </button>\n            </div>\n          )}\n        </h4>\n        <progress\n          className={styles['upload-queue-progress']}\n          value={doneCount}\n          max={queue.length}\n        />\n        <div className={styles['upload-queue-content']}>\n          <div className={styles['upload-queue-list']}>\n            {queue.map((item, index) => (\n              <Item\n                key={`key_queue_${index}`}\n                file={item.file}\n                isDirectory={item.isDirectory}\n                status={item.status}\n              />\n            ))}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  queue: getUploadQueue(state),\n  doneCount: getProcessed(state).length,\n  successCount: getSuccessful(state).length\n})\nconst mapDispatchToProps = dispatch => ({\n  purgeQueue: () => dispatch(purgeUploadQueue())\n})\nexport default translate()(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(UploadQueue)\n)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"wrapper--36DKC\",\"button-area\":\"button-area--17I3-\",\"toolbar\":\"toolbar--3tj-V\",\"origin-info\":\"origin-info--3-iD1\",\"origin-info-text\":\"origin-info-text--1JUE-\",\"origin-info-icon\":\"origin-info-icon--1cZO7\",\"breadcrumb\":\"breadcrumb--1PN-n\"};","/* global cozy */\n/**\n * This component was previously named FileOpener\n * It has been renamed since it is used in :\n *  - an intent handler (aka service)\n *  - via cozydrive://\n */\n\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { withRouter } from 'react-router'\nimport get from 'lodash/get'\n\nimport { Spinner, Alerter, translate } from 'cozy-ui/react'\nimport Viewer from 'viewer'\nimport styles from 'drive/web/modules/viewer/barviewer.styl'\n\nconst doNothing = () => {}\n\nconst FileNotFoundError = translate()(({ t }) => (\n  <pre className=\"u-error\">{t('FileOpenerExternal.fileNotFoundError')}</pre>\n))\n\nexport class FileOpener extends Component {\n  state = {\n    loading: true,\n    file: null\n  }\n  componentWillMount() {\n    const routerFileId = get(this.props, 'routeParams.fileId')\n    if (this.props.fileId) {\n      this.loadFileInfo(this.props.fileId)\n    } else if (routerFileId) {\n      this.loadFileInfo(routerFileId)\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.fileId !== this.props.fileId) {\n      return this.loadFileInfo(this.props.fileId)\n    }\n    const previousRouterFileId = get(prevProps, 'routeParams.fileId')\n    const routerFileId = get(this.props, 'routeParams.fileId')\n    if (previousRouterFileId !== routerFileId) {\n      return this.loadFileInfo(routerFileId)\n    }\n  }\n  async loadFileInfo(id) {\n    try {\n      this.setState({ fileNotFound: false })\n      const resp = await cozy.client.files.statById(id, false)\n      const file = { ...resp, ...resp.attributes, id: resp._id }\n      this.setState({ file, loading: false })\n    } catch (e) {\n      this.setState({ fileNotFound: true, loading: false })\n      Alerter.error('alert.could_not_open_file')\n    }\n  }\n\n  navigateToDrive = () => {\n    const parentDir = get(this.state, 'file.dir_id', '')\n    this.props.router.push(`/folder/${parentDir}`)\n  }\n\n  render() {\n    const { file, loading, fileNotFound } = this.state\n    const { withCloseButtton = true } = this.props\n\n    return (\n      <div className={styles['viewer-wrapper-with-bar']}>\n        {loading && <Spinner size=\"xxlarge\" loadingType=\"message\" middle />}\n        {fileNotFound && <FileNotFoundError />}\n        {!loading &&\n          !fileNotFound && (\n            <Viewer\n              files={[file]}\n              currentIndex={0}\n              onChange={doNothing}\n              onClose={withCloseButtton ? this.navigateToDrive : null}\n            />\n          )}\n      </div>\n    )\n  }\n}\n\nFileOpener.propTypes = {\n  router: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n    params: PropTypes.shape({\n      fileId: PropTypes.string.isRequired\n    }).isRequired\n  }),\n  routeParams: PropTypes.shape({\n    fileId: PropTypes.string\n  }),\n  fileId: PropTypes.string,\n  withCloseButtton: PropTypes.bool\n}\n\nexport default translate()(withRouter(FileOpener))\n","import manifest from 'drive/targets/manifest.webapp'\n\nconst appMetadata = {\n  slug: manifest.name,\n  version: manifest.version\n}\n\nexport default appMetadata\n","import React from 'react'\nimport { translate } from 'cozy-ui/react/I18n'\nimport { SharingTooltip, TooltipRecipientList } from './Tooltip'\nimport cx from 'classnames'\nimport Icon from 'cozy-ui/react/Icon'\n\nimport { Contact } from 'models'\nimport styles from './status.styl'\nimport linkIcon from '../assets/icons/icon-link.svg'\n\nconst SharedStatus = ({ className, docId, recipients, link, t }) => (\n  <span className={cx(className, styles['shared-status'])}>\n    {recipients.length > 1 && (\n      <a\n        data-tip\n        data-for={`members${docId}`}\n        className={styles['shared-status-label']}\n      >\n        {t('Share.members.count', { smart_count: recipients.length })}\n      </a>\n    )}\n    {recipients.length > 1 && (\n      <SharingTooltip id={`members${docId}`}>\n        <TooltipRecipientList\n          recipientNames={recipients.map(recipient =>\n            Contact.getDisplayName(recipient)\n          )}\n        />\n      </SharingTooltip>\n    )}\n    {link && <Icon icon={linkIcon} />}\n  </span>\n)\n\nexport default translate()(SharedStatus)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport classNames from 'classnames'\nimport { translate } from 'cozy-ui/react/I18n'\nimport { ActionMenu, MenuItem } from 'cozy-ui/react'\n\nimport {\n  sortFolder,\n  getSort,\n  getOpenedFolderId\n} from 'drive/web/modules/navigation/duck'\n\nimport styles from 'drive/styles/filelist.styl'\n\nconst SORTABLE_ATTRIBUTES = [\n  { label: 'name', attr: 'name', css: 'file', defaultOrder: 'asc' },\n  { label: 'update', attr: 'updated_at', css: 'date', defaultOrder: 'desc' }\n  // TODO: activate sorting by size when it's ready on the back side\n  // { label: 'size', attr: 'size', css: 'size', defaultOrder: 'desc' }\n]\nconst DEFAULT_SORT = { attribute: 'name', order: 'asc' }\n\nconst HeaderCell = ({ t, label, css }) => (\n  <div\n    className={classNames(\n      styles['fil-content-header'],\n      styles[`fil-content-${css}`]\n    )}\n  >\n    {t(`table.head_${label}`)}\n  </div>\n)\n\nconst SortableHeaderCell = ({\n  t,\n  label,\n  attr,\n  css,\n  order = null,\n  defaultOrder,\n  onSort\n}) => (\n  <div\n    onClick={() =>\n      onSort(attr, order ? (order === 'asc' ? 'desc' : 'asc') : defaultOrder)\n    }\n    className={classNames(\n      styles['fil-content-header'],\n      styles[`fil-content-${css}`],\n      {\n        [styles['fil-content-header-sortableasc']]:\n          order === null && defaultOrder === 'asc',\n        [styles['fil-content-header-sortabledesc']]:\n          order === null && defaultOrder === 'desc',\n        [styles['fil-content-header-sortasc']]: order === 'asc',\n        [styles['fil-content-header-sortdesc']]: order === 'desc'\n      }\n    )}\n  >\n    {t(`table.head_${label}`)}\n  </div>\n)\n\nconst MobileSortMenu = ({ t, sort, onSort, onClose }) => (\n  <ActionMenu onClose={onClose}>\n    <div className={styles['fil-sort-menu']}>\n      {SORTABLE_ATTRIBUTES.map(({ attr }) => [\n        { attr, order: 'asc' },\n        { attr, order: 'desc' }\n      ])\n        .reduce((acc, val) => [...acc, ...val], [])\n        .map(({ attr, order }) => (\n          <MenuItem\n            key={`key_${attr}_${order}`}\n            className={classNames(styles['fil-sort-menu-item'], {\n              [styles['fil-sort-menu-item-selected']]:\n                sort.order === order && sort.attribute === attr\n            })}\n            onClick={() => {\n              onSort(attr, order)\n              onClose()\n            }}\n          >\n            {t(`table.mobile.head_${attr}_${order}`)}\n          </MenuItem>\n        ))}\n    </div>\n  </ActionMenu>\n)\n\nclass MobileHeader extends Component {\n  state = {\n    showSortMenu: false\n  }\n\n  showSortMenu = () => this.setState({ showSortMenu: true })\n  hideSortMenu = () => this.setState({ showSortMenu: false })\n\n  render() {\n    const { t, folderId, canSort, sort, onFolderSort } = this.props\n    if (!canSort) return null\n    const actualSort = sort || DEFAULT_SORT\n    return (\n      <div\n        className={classNames(\n          styles['fil-content-mobile-head'],\n          styles['fil-content-row-head']\n        )}\n      >\n        <div\n          onClick={this.showSortMenu}\n          className={classNames(styles['fil-content-mobile-header'], {\n            [styles['fil-content-header-sortasc']]: actualSort.order === 'asc',\n            [styles['fil-content-header-sortdesc']]: actualSort.order === 'desc'\n          })}\n        >\n          {t(`table.mobile.head_${actualSort.attribute}_${actualSort.order}`)}\n        </div>\n        {this.state.showSortMenu && (\n          <MobileSortMenu\n            t={t}\n            sort={actualSort}\n            onClose={this.hideSortMenu}\n            onSort={(attr, order) => onFolderSort(folderId, attr, order)}\n          />\n        )}\n      </div>\n    )\n  }\n}\n\nconst FileListHeader = ({ t, folderId, canSort, sort, onFolderSort }) => {\n  const actualSort = sort || DEFAULT_SORT\n  return (\n    <div\n      className={classNames(\n        styles['fil-content-head'],\n        styles['fil-content-row-head']\n      )}\n    >\n      <div\n        className={classNames(\n          styles['fil-content-header'],\n          styles['fil-content-file-select']\n        )}\n      />\n      {SORTABLE_ATTRIBUTES.map((props, index) => {\n        if (!canSort) {\n          return <HeaderCell {...props} t={t} key={index} />\n        }\n        const isActive = actualSort && actualSort.attribute === props.attr\n        return (\n          <SortableHeaderCell\n            key={`key_cell_${index}`}\n            {...props}\n            t={t}\n            order={isActive ? actualSort.order : null}\n            onSort={(attr, order) => onFolderSort(folderId, attr, order)}\n          />\n        )\n      })}\n      <div\n        className={classNames(\n          styles['fil-content-header'],\n          styles['fil-content-size']\n        )}\n      >\n        {t('table.head_size')}\n      </div>\n      <div\n        className={classNames(\n          styles['fil-content-header'],\n          styles['fil-content-header-status']\n        )}\n      >\n        {t('table.head_status')}\n      </div>\n      <div\n        className={classNames(\n          styles['fil-content-header'],\n          styles['fil-content-header-action']\n        )}\n      />\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  sort: getSort(state),\n  folderId: getOpenedFolderId(state)\n})\nconst mapDispatchToProps = dispatch => ({\n  onFolderSort: (folderId, attr, order) =>\n    dispatch(sortFolder(folderId, attr, order))\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(translate()(FileListHeader))\nexport const MobileFileListHeader = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(translate()(MobileHeader))\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-type-folder_f49493c812ab389aaac1e61434f7995f\",\n  \"use\": \"icon-type-folder_f49493c812ab389aaac1e61434f7995f-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-type-folder_f49493c812ab389aaac1e61434f7995f\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(0 2)\\\">\\n    <rect width=\\\"32\\\" height=\\\"26\\\" y=\\\"2\\\" fill=\\\"#B2D3FF\\\" rx=\\\"2\\\" />\\n    <path fill=\\\"#197BFF\\\" d=\\\"M0,0.990777969 C0,0.443586406 0.449948758,0 1.00684547,0 L12.9931545,0 C13.5492199,0 14.3125,0.3125 14.7107565,0.71075654 L15.2892435,1.28924346 C15.6817835,1.68178346 16.4446309,2 17.0008717,2 L30.0059397,2 C31.1072288,2 32,2.89470506 32,4 L32,4 L17.0008717,4 C16.4481055,4 15.6875,4.3125 15.2892435,4.71075654 L14.7107565,5.28924346 C14.3182165,5.68178346 13.5500512,6 12.9931545,6 L1.00684547,6 C0.450780073,6 0,5.54902482 0,5.00922203 L0,0.990777969 Z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react'\n\nimport FileListHeader, {\n  MobileFileListHeader\n} from 'drive/web/modules/filelist/FileListHeader'\nimport FileListBody from 'drive/web/modules/filelist/FileListBody'\n\nimport styles from 'drive/styles/filelist.styl'\n\nconst FileList = ({\n  canSort,\n  fileActions,\n  withSelectionCheckbox = true,\n  children,\n  files,\n  fileCount,\n  fetchMoreFiles,\n  displayedFolder,\n  onFolderOpen,\n  onFileOpen,\n  withFilePath,\n  withSharedBadge,\n  isRenaming,\n  renamingFile\n}) => (\n  <div className={styles['fil-content-table']} role=\"table\">\n    <MobileFileListHeader canSort={canSort} />\n    <FileListHeader canSort={canSort} />\n    {React.Children.count(children) > 0 ? (\n      children\n    ) : (\n      <FileListBody\n        fileActions={fileActions}\n        withSelectionCheckbox={withSelectionCheckbox}\n        files={files}\n        fileCount={fileCount}\n        fetchMoreFiles={fetchMoreFiles}\n        displayedFolder={displayedFolder}\n        onFolderOpen={onFolderOpen}\n        onFileOpen={onFileOpen}\n        withFilePath={withFilePath}\n        withSharedBadge={withSharedBadge}\n        isRenaming={isRenaming}\n        renamingFile={renamingFile}\n      />\n    )}\n  </div>\n)\n\nexport default FileList\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-type-text_e665c2558003a9b72fa156bcef81b180\",\n  \"use\": \"icon-type-text_e665c2558003a9b72fa156bcef81b180-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-type-text_e665c2558003a9b72fa156bcef81b180\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(3)\\\">\\n    <path fill=\\\"#B2D3FF\\\" d=\\\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\\\" />\\n    <path fill=\\\"#197BFF\\\" d=\\\"M18.5.57092175e-14C18.2238576.33045111e-13 18 .230796814 18 .500435829L18 8 25.4995642 8C25.7759472 8 26 7.76806641 26 7.5L26 7 19 0 18.5.57092175e-14zM6 11L20 11 20 13 6 13 6 11zM6 15L18 15 18 17 6 17 6 15zM6 19L20 19 20 21 6 21 6 19zM6 23L16 23 16 25 6 25 6 23z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React, { Component } from 'react'\nimport ReactDOM from 'react-dom'\nimport cx from 'classnames'\nimport PopperJS from 'popper.js'\nimport { translate } from 'cozy-ui/react/I18n'\nimport { Overlay } from 'cozy-ui/react'\nimport MenuItem from './MenuItem'\n\nimport styles from 'drive/styles/actionmenu.styl'\n\nclass Menu extends Component {\n  componentDidMount() {\n    const { reference } = this.props\n    // eslint-disable-next-line react/no-find-dom-node\n    const anchorEl = ReactDOM.findDOMNode(reference)\n    // eslint-disable-next-line react/no-find-dom-node\n    const menuEl = ReactDOM.findDOMNode(this.menuEl)\n    this.popper = new PopperJS(anchorEl, menuEl)\n  }\n\n  componentWillUnmount() {\n    if (this.popper !== undefined) {\n      this.popper.destroy()\n    }\n  }\n\n  render() {\n    const { t, file, actions, onClose } = this.props\n    const actionNames = Object.keys(actions).filter(actionName => {\n      const action = actions[actionName]\n      // TODO: is it really necessary?\n      return (\n        action.displayCondition === undefined || action.displayCondition([file])\n      )\n    })\n    return (\n      <div className={styles['fil-actionmenu']}>\n        <Overlay\n          onClick={onClose}\n          onEscape={onClose}\n          className={styles['fil-actionmenu-overlay']}\n        />\n        <div\n          data-test-id=\"fil-actionmenu-inner\"\n          className={styles['fil-actionmenu-inner']}\n          ref={el => {\n            this.menuEl = el\n          }}\n        >\n          {actionNames.map(actionName => {\n            const Component = actions[actionName].Component || MenuItem\n            const action = actions[actionName].action\n            const onClick = !action\n              ? undefined\n              : () => {\n                  const promise = action([file])\n                  onClose()\n                  return promise\n                }\n            return (\n              <Component\n                key={actionName}\n                className={cx(\n                  styles['fil-action'],\n                  styles[`fil-action-${actionName}`]\n                )}\n                onClick={onClick}\n                files={[file]}\n              >\n                {t(`SelectionBar.${actionName}`)}\n              </Component>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default translate()(Menu)\n","import React from 'react'\nimport classNames from 'classnames'\nimport PropTypes from 'prop-types'\nimport { withBreakpoints } from 'cozy-ui/react'\n\nimport styles from 'drive/styles/filelist.styl'\n\n// using a seeded PRNG to prevent re-renders from changing the results\nconst seededRandom = seed => {\n  const x = Math.sin(seed) * 10000\n  return x - Math.floor(x)\n}\nconst seededRandomBetween = (min, max, seed) =>\n  min + seededRandom(seed) * (max - min)\n\nconst PlaceholderBlock = ({ width }) => (\n  <div className={styles['fil-content-file-placeholder']} style={{ width }} />\n)\n\nPlaceholderBlock.propTypes = {\n  width: PropTypes.string\n}\n\nPlaceholderBlock.defaultProps = {\n  width: '100%'\n}\n\nconst FilePlaceholder = ({ index, breakpoints: { isMobile } }) => (\n  <div className={styles['fil-content-row']}>\n    <div\n      className={classNames(\n        styles['fil-content-cell'],\n        styles['fil-content-file-select']\n      )}\n    />\n    <div\n      className={classNames(\n        styles['fil-content-cell'],\n        styles['fil-file-thumbnail'],\n        { 'u-pl-0': !isMobile }\n      )}\n    >\n      <PlaceholderBlock width=\"2rem\" />\n    </div>\n    <div\n      className={classNames(\n        styles['fil-content-cell'],\n        styles['fil-content-file']\n      )}\n    >\n      <PlaceholderBlock width={`${seededRandomBetween(3, 12, index)}rem`} />\n    </div>\n    <div\n      className={classNames(\n        styles['fil-content-cell'],\n        styles['fil-content-date']\n      )}\n    >\n      <PlaceholderBlock width=\"5rem\" />\n    </div>\n    <div\n      className={classNames(\n        styles['fil-content-cell'],\n        styles['fil-content-size']\n      )}\n    >\n      <PlaceholderBlock width={`${seededRandomBetween(3.75, 5, index)}rem`} />\n    </div>\n    <div\n      className={classNames(\n        styles['fil-content-cell'],\n        styles['fil-content-status']\n      )}\n    >\n      <PlaceholderBlock width=\"1.25rem\" />\n    </div>\n  </div>\n)\n\nFilePlaceholder.propTypes = {\n  index: PropTypes.number\n}\n\nFilePlaceholder.defaultProps = {\n  index: 1\n}\n\nexport default withBreakpoints()(FilePlaceholder)\n","import SpriteSymbol from \"svg-baker-runtime/browser-symbol\";\nimport sprite from \"svg-sprite-loader/runtime/browser-sprite.build\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"icon-type-sheet_8dd87cb4c33c98d3014c32cd9c675e90\",\n  \"use\": \"icon-type-sheet_8dd87cb4c33c98d3014c32cd9c675e90-usage\",\n  \"viewBox\": \"0 0 32 32\",\n  \"content\": \"<symbol xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\" id=\\\"icon-type-sheet_8dd87cb4c33c98d3014c32cd9c675e90\\\">\\n  <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" transform=\\\"translate(3)\\\">\\n    <path fill=\\\"#9FE6A2\\\" d=\\\"M0,2.00174332 C0,0.89621101 0.890925393,0 1.99742191,0 L19,0 L26,7 L26,29.9964051 C26,31.10296 25.1050211,32 24.0029953,32 L1.99700466,32 C0.89408944,32 0,31.1107383 0,29.9982567 L0,2.00174332 Z\\\" />\\n    <path fill=\\\"#0FC016\\\" d=\\\"M18.5.57092175e-14C18.2238576.33045111e-13 18 .230796814 18 .500435829L18 8 25.4995642 8C25.7759472 8 26 7.76806641 26 7.5L26 7 19 0 18.5.57092175e-14zM5 9L9 9 9 11 5 11 5 9zM5 5L9 5 9 7 5 7 5 5zM5 13L9 13 9 15 5 15 5 13zM5 17L9 17 9 19 5 19 5 17zM5 21L9 21 9 23 5 23 5 21zM5 25L9 25 9 27 5 27 5 25zM11 9L15 9 15 11 11 11 11 9zM11 5L15 5 15 7 11 7 11 5zM11 13L15 13 15 15 11 15 11 13zM11 17L15 17 15 19 11 19 11 17zM11 21L15 21 15 23 11 23 11 21zM11 25L15 25 15 27 11 27 11 25zM17 13L21 13 21 15 17 15 17 13zM17 17L21 17 21 19 17 19 17 17zM17 21L21 21 21 23 17 23 17 21zM17 25L21 25 21 27 17 27 17 25z\\\" />\\n  </g>\\n</symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","// extracted by mini-css-extract-plugin\nmodule.exports = {\"viewer-wrapper-with-bar\":\"viewer-wrapper-with-bar---1EQs\"};","export { default } from './Viewer'\n","export {\n  default,\n  isNavigating,\n  getVisibleFiles,\n  getFileById,\n  getOpenedFolderId,\n  getFolderIdFromRoute,\n  getFolderUrl,\n  getSort\n} from './reducer'\n\nexport {\n  openFiles,\n  openRecent,\n  openTrash,\n  openFolder,\n  sortFolder,\n  fetchMoreFiles,\n  fetchRecentFiles,\n  addFile,\n  updateFile,\n  deleteFile,\n  getFileDownloadUrl,\n  uploadFiles,\n  createFolder,\n  trashFiles,\n  downloadFiles,\n  exportFilesNative,\n  openFileWith\n} from './actions'\n","import { Contact, Group } from 'models'\n\nexport const DOCTYPE_FILES = 'io.cozy.files'\nexport const DOCTYPE_ALBUMS = 'io.cozy.photos.albums'\nexport const DOCTYPE_PHOTOS_SETTINGS = 'io.cozy.photos.settings'\nexport const DOCTYPE_APPS = 'io.cozy.apps'\nexport const DOCTYPE_CONTACTS_VERSION = 2\n\nexport const schema = {\n  files: { doctype: DOCTYPE_FILES },\n  contacts: {\n    doctype: Contact.doctype,\n    doctypeVersion: DOCTYPE_CONTACTS_VERSION\n  },\n  groups: { doctype: Group.doctype }\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport FilePlaceholder from 'drive/web/modules/filelist/FilePlaceholder'\n\nconst FileListPlaceholder = ({ rows }) => (\n  <div>\n    {[...new Array(rows)].map((value, index) => (\n      <FilePlaceholder index={index} key={`key_file_placeholder_${index}`} />\n    ))}\n  </div>\n)\n\nFileListPlaceholder.propTypes = {\n  rows: PropTypes.number\n}\n\nFileListPlaceholder.defaultProps = {\n  rows: 8\n}\n\nexport default FileListPlaceholder\n","import React from 'react'\nimport classNames from 'classnames'\nimport { Button } from 'cozy-ui/react'\n\nimport styles from './button.styl'\n\nexport const ShareButton = ({ label, onClick, className, ...props }) => (\n  <Button\n    data-test-id=\"share-button\"\n    theme=\"secondary\"\n    className={className}\n    onClick={() => onClick()}\n    icon=\"share\"\n    label={label}\n    {...props}\n  />\n)\n\nexport const SharedByMeButton = ({ label, onClick, className, ...props }) => (\n  <Button\n    data-test-id=\"share-by-me-button\"\n    className={classNames(styles['coz-btn-shared'], className)}\n    onClick={() => onClick()}\n    icon=\"share\"\n    label={label}\n    {...props}\n  />\n)\n\nexport const SharedWithMeButton = ({ label, onClick, className, ...props }) => (\n  <Button\n    className={classNames(styles['coz-btn-sharedWithMe'], className)}\n    onClick={() => onClick()}\n    icon=\"share\"\n    label={label}\n    {...props}\n  />\n)\n\nexport default ShareButton\n"],"sourceRoot":""}