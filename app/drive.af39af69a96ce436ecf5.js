!function(e){function t(t){for(var r,o,c=t[0],u=t[1],l=t[2],f=0,d=[];f<c.length;f++)o=c[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(s&&s(t);d.length;)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==a[u]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={1:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var s=u;i.push([12,0]),n()}({"/GQe":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q3u0"),a=n("QCzH"),i=function(){if(void 0===a.a){var e=Object(r.b)();Object(a.c)(e,(function(e){return n("tqYW")("./".concat(e))}))}return a.a.t.bind(a.a)}},"/OCp":function(e,t,n){e.exports={oops:"oops--O8MK8"}},0:function(e,t){},"0YMz":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return s}));var r=n("V4z/"),a=function(){var e=Object(r.p)().fileId;return e||null},i=n("Z7XG"),o=function(){var e=Object(r.p)().folderId,t=Object(r.l)().pathname;return e||("/folder"===t?i.b:"/trash"===t?i.d:null)},c=n("SH7X"),u=n("z6Q1"),l=function(){var e=Object(c.useClient)(),t=o();return t?e.getDocumentFromState(u.c,t):null},s=function(e){var t=Object(c.useClient)();return e?t.getDocumentFromState(u.c,e):null}},"0f7X":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("o0o1"),o=n.n(i),c=n("yXPU"),u=n.n(c),l=n("J4zp"),s=n.n(l),f=n("SH7X"),d=n("mwIZ"),m=n.n(d),p=n("T//5"),h=function(){var e=u()(o.a.mark((function e(t){var n,r,a,i,c,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.folderId,a=Object(p.g)(r),i=a.options,c=a.definition,e.next=5,n.fetchQueryAndGetFromState({definition:c(),options:i});case 5:return u=e.sent,e.abrupt("return",m()(u,"data[0]"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=n("Vggm"),y=n.n(b),v=n("uty3"),g=n("17x9"),w=n.n(g),O=function(e){var t=e.currentFolderId,n=e.navigateToFolder,i=function(e){var t=e.currentFolderId,n=e.rootBreadcrumbPath,a=e.sharedDocumentIds,i=Object(f.useClient)(),c=Object(r.useState)([]),l=s()(c,2),d=l[0],m=l[1];return Object(r.useEffect)((function(){var e=function(e){return!a||!a.includes(e)},r=!0,c=[];return function(){var a=u()(o.a.mark((function a(){var u,l;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:u=t;case 1:if(!u||u===n.id){a.next=8;break}return a.next=4,h({client:i,folderId:u});case 4:(l=a.sent)?(c.unshift({name:l.name,id:l.id}),u=e(l.id)?l.dir_id:void 0):u=void 0,a.next=1;break;case 8:r&&("Public"!==n.name&&c.unshift(n),m(c));case 9:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()().catch((function(e){n&&"Public"===n.name?r&&m(c):y()("error","Error while fetching folder for breadcrumbs of folder id: ".concat(t,", here is the error: ").concat(e))})),function(){r=!1}}),[t,i,a,n]),d}({currentFolderId:t,rootBreadcrumbPath:e.rootBreadcrumbPath,sharedDocumentIds:e.sharedDocumentIds}),c=Object(r.useCallback)((function(e){var t=e.id;return n(t)}),[n]);return i&&i.length>0?a.a.createElement(v.a,{path:i,onBreadcrumbClick:c,opening:!1}):null};O.propTypes={currentFolderId:w.a.string.isRequired,navigateToFolder:w.a.func.isRequired,rootBreadcrumbPath:w.a.exact({id:w.a.string,name:w.a.string}).isRequired,sharedDocumentIds:w.a.array};t.a=O},"0wbi":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("17x9"),o=n.n(i),c=n("SH7X"),u=n("UmWK"),l=n("buk/"),s=n("1I/2"),f=n("Bkvo"),d=n("yRR6"),m=n("cV3X"),p=function(e){var t=e.client,n=e.lang,r=e.polyglot,i=e.dictRequire,o=e.children;return a.a.createElement(l.I18n,{lang:n,polyglot:r,dictRequire:i},a.a.createElement(c.CozyProvider,{client:t},a.a.createElement(f.a,{cozyClient:t},a.a.createElement(f.c,null,a.a.createElement(u.a,{doctype:"io.cozy.files",documentType:"Files"},a.a.createElement(s.a,null,a.a.createElement(f.b,null),a.a.createElement(d.b,null,a.a.createElement(m.a,null,o))))))))};p.propTypes={client:o.a.object.isRequired,lang:o.a.string.isRequired,polyglot:o.a.object,dictRequire:o.a.func},t.a=p},1:function(e,t){},12:function(e,t,n){n("55Il"),e.exports=n("K65c")},"1HFg":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("17x9"),o=n.n(i),c=n("CxWN"),u=n("KOJc"),l=n("zLPI"),s=function(e){var t=e.fetchStatus,n=e.hasNoData,r=e.children;return"loading"===t?a.a.createElement(l.a,null):"failed"===t?a.a.createElement(c.a,null):"loaded"===t&&n?a.a.createElement(u.a,{canUpload:!1}):r};s.propTypes={fetchStatus:o.a.string.isRequired,hasNoData:o.a.bool,children:o.a.node},t.a=s},"1eh9":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d}));var r=n("o0o1"),a=n.n(r),i=n("yXPU"),o=n.n(i),c=n("oAJy"),u=n.n(c),l=n("OTOu"),s=function(){var e=o()(a.a.mark((function e(t){var n,r,i,o,c,s,f,d,m,p,h,b,y;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.settings,r=n.client,i=n.offline,o=t.mobile.settings,c=o.authorized,s=o.token,f=o.serverUrl,d=o.backupImages,m=o.analytics,p=o.wifiOnly,h=t.mobile.authorization||{revoked:!1},b=h.revoked,y={mobile:{authorization:{authorized:c,revoked:b,client:r,token:s},settings:{offline:i,serverUrl:f,backupImages:d,analytics:m,wifiOnly:p},mediaBackup:t.mobile.mediaBackup},availableOffline:t.availableOffline},e.next=6,u.a.setItem("state",y);case 6:return l.a.info("Migrated persisted settings"),l.a.info("Previously persisted state: ",t),l.a.info("New persisted state: ",y),e.abrupt("return",y);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=o()(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.getItem("state");case 3:if(null!==(t=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(!t.hasOwnProperty("settings")){e.next=12;break}return l.a.warn("Migrating persisted settings"),e.next=10,s(t);case 10:return n=e.sent,e.abrupt("return",n);case 12:return e.abrupt("return",t);case 15:return e.prev=15,e.t0=e.catch(0),l.a.warn(e.t0),e.abrupt("return",void 0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),d=function(){return u.a.clear()}},2:function(e,t){},"2U19":function(e,t,n){"use strict";n.d(t,"h",(function(){return W})),n.d(t,"b",(function(){return X})),n.d(t,"g",(function(){return K})),n.d(t,"f",(function(){return re})),n.d(t,"d",(function(){return ae})),n.d(t,"e",(function(){return ie}));var r=n("o0o1"),a=n.n(r),i=n("yXPU"),o=n.n(i),c=n("RIqP"),u=n.n(c),l=n("lSNA"),s=n.n(l),f=n("fvjX"),d=n("OTOu"),m=n("OjRq"),p=n("qxHO"),h=n("trYA");n.d(t,"a",(function(){return h.b}));var b=n("H57K"),y=n("z6Q1"),v=n("mgfL"),g=n.n(v),w=n("SH7X");function O(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=w.models.file,C=k.doMobileUpload,_=k.readMobileFile,S=k.uploadFileWithConflictStrategy,z="created",I="updated",F=function(e){return j(j({},e),{},{status:"pending",progress:null})},P=function(e,t){switch(t.type){case"UPLOAD_FILE":return"loading";case"RECEIVE_UPLOAD_SUCCESS":return t.isUpdate?I:z;case"RECEIVE_UPLOAD_ERROR":return t.status;default:return e}},D=[],T=void 0,N=void 0,R=function(e,t){if("RECEIVE_UPLOAD_SUCCESS"==t.type)return null;if("UPLOAD_PROGRESS"===t.type){var n=e?function(e,t){var n=e.loaded,r=e.lastUpdated,a=t.date;return(t.loaded-n)/(a-r)*1e3}(e,t):null,r=t.loaded,a=t.total,i=n&&a&&r?(a-r)/n:null;return T||(T=i),i&&D.push(i),N||(N=setTimeout((function(){T=D.reduce((function(e,t){return e+t}),0)/D.length,clearTimeout(N),N=void 0,D=[]}),3e3)),{loaded:r,total:a,lastUpdated:t.date,speed:n,remainingTime:T}}return"RECEIVE_UPLOAD_ERROR"===t.type?null:e},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isUpdate:!1};return j(j({},e),{},{status:P(e.status,t),progress:R(e.progress,t)})};t.c=Object(f.combineReducers)({queue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_UPLOAD_QUEUE":return[].concat(u()(e.filter((function(e){return e.status!==z}))),u()(t.files.map((function(e){return F(e)}))));case"PURGE_UPLOAD_QUEUE":return[];case"UPLOAD_FILE":case"RECEIVE_UPLOAD_SUCCESS":case"RECEIVE_UPLOAD_ERROR":case"UPLOAD_PROGRESS":return e.map((function(e){return e.file.name!==t.file.name?e:M(e,t)}));default:return e}}});var A=function(e,t,n){return{type:"UPLOAD_PROGRESS",file:e,loaded:t.loaded,total:t.total,date:n||Date.now()}},L=function e(t,n,r,i,c){var u=c.client,l=c.vaultClient;return function(){var c=o()(a.a.mark((function o(c,s){var f,h,y,v,w,O,x,E,k,C,_,S;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(f=null,u){a.next=3;break}throw new Error("Upload module needs a cozy-client instance to work. This instance should be made available by using the extraArgument function of redux-thunk");case 3:if(h=re(s()).find((function(e){return"pending"===e.status}))){a.next=6;break}return a.abrupt("return",c(G(n)));case 6:if(y=h.file,v=h.entry,w=h.isDirectory,!g()("drive.enable-encryption")){a.next=13;break}return a.next=10,Object(b.f)(u,r);case 10:a.t0=a.sent,a.next=14;break;case 13:a.t0=null;case 14:if(O=a.t0,a.prev=15,c({type:"UPLOAD_FILE",file:y}),!v||!w){a.next=24;break}return a.next=20,q(u,v,r,{vaultClient:l,encryptionKey:O});case 20:x=a.sent,t(x),a.next=29;break;case 24:return E={onUploadProgress:function(e){c(A(y,e))}},a.next=27,Q(u,y,r,j({vaultClient:l,encryptionKey:O},E));case 27:k=a.sent,t(k);case 29:c({type:"RECEIVE_UPLOAD_SUCCESS",file:y}),a.next=52;break;case 32:if(a.prev=32,a.t1=a.catch(15),f=a.t1,409!==a.t1.status){a.next=51;break}return a.prev=36,a.next=39,m.b.getFullpath(r,y.name);case 39:return C=a.sent,a.next=42,V(u,y,C,{onUploadProgress:function(e){c(A(y,e))}});case 42:_=a.sent,t(_),c({type:"RECEIVE_UPLOAD_SUCCESS",file:y,isUpdate:!0}),f=null,a.next=51;break;case 48:a.prev=48,a.t2=a.catch(36),f=a.t2;case 51:f&&(d.a.warn(f),Object(p.b)("Upload module catches an error when executing processNextFile(): ".concat(f)),S={409:"conflict",413:"quota"}[f.status]||/Failed to fetch$/.exec(f.toString())&&"network"||"failed",c({type:"RECEIVE_UPLOAD_ERROR",file:y,status:S}));case 52:c(e(t,n,r,i,{client:u,vaultClient:l}));case 53:case"end":return a.stop()}}),o,null,[[15,32],[36,48]])})));return function(e,t){return c.apply(this,arguments)}}()},B=function(e){return new Promise((function(t){return e.file(t)}))},q=function(){var e=o()(a.a.mark((function e(t,n,r,i){var c,u,l,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=i.vaultClient,u=i.encryptionKey,e.next=3,U(t,n.name,r);case 3:return l=e.sent,s=n.createReader(),e.abrupt("return",new Promise((function(e){var n=function(){var n=o()(a.a.mark((function n(r){var i,o,s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=0;case 1:if(!(i<r.length)){n.next=17;break}if(!(o=r[i]).isFile){n.next=11;break}return n.next=6,B(o);case 6:return s=n.sent,n.next=9,Q(t,s,l.id,{vaultClient:c,encryptionKey:u});case 9:n.next=14;break;case 11:if(!o.isDirectory){n.next=14;break}return n.next=14,q(t,o,l.id,{vaultClient:c,encryptionKey:u});case 14:i+=1,n.next=1;break;case 17:e(l);case 18:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();s.readEntries(n)})));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),U=function(){var e=o()(a.a.mark((function e(t,n,r){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collection(y.c).createDirectory({name:n,dirId:r});case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Q=function(){var e=o()(a.a.mark((function e(t,n,r){var i,c,u,l,s,f,d,m,p,h=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=h.length>3&&void 0!==h[3]?h[3]:{},!window.chrome){e.next=11;break}return e.next=4,t.getStackClient().fetchJSON("GET","/settings/disk-usage");case 4:if(c=e.sent,!(u=c.data).attributes.quota){e.next=11;break}if(!(parseInt(u.attributes.used)+parseInt(n.size)>parseInt(u.attributes.quota))){e.next=11;break}throw(l=new Error("Payload Too Large")).status=413,l;case 11:if(s=i.onUploadProgress,f=i.encryptionKey,d=i.vaultClient,!f||!d){e.next=18;break}(m=new FileReader).onloadend=o()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(b.d)(t,d,{file:m.result,encryptionKey:f,fileOptions:{name:n.name,dirID:r,onUploadProgress:s}}));case 1:case"end":return e.stop()}}),e)}))),m.readAsArrayBuffer(n),e.next=22;break;case 18:return e.next=20,t.collection(y.c).createFile(n,{dirId:r,onUploadProgress:s});case 20:return p=e.sent,e.abrupt("return",p.data);case 22:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),V=function(){var e=o()(a.a.mark((function e(t,n,r){var i,o,c,u,l,s,f=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=f.length>3&&void 0!==f[3]?f[3]:{},e.next=3,t.collection(y.c).statByPath(r);case 3:return o=e.sent,c=o.data,u=c.id,l=c.dir_id,e.next=7,t.collection(y.c).updateFile(n,{dirId:l,fileId:u,options:i});case 7:return s=e.sent,e.abrupt("return",s.data);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),W=function(e,t,n,r){var i=r.client,c=r.vaultClient;return function(){var r=o()(a.a.mark((function r(o){var u,l,s,f,m,p,h;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o({type:"ADD_TO_UPLOAD_QUEUE",files:e}),r.next=3,Object(b.f)(i,t);case 3:u=r.sent,l=O(e),r.prev=5,l.s();case 7:if((s=l.n()).done){r.next=32;break}if(f=s.value,r.prev=9,m={name:f.file.name,dirId:t,conflictStrategy:"rename"},!u){r.next=22;break}return r.next=14,_(f.file.fileUrl);case 14:return p=r.sent,r.next=17,c.encryptFile(p,u);case 17:return h=r.sent,r.next=20,S(i,h,j(j({},m),{},{contentType:f.file.type}));case 20:r.next=24;break;case 22:return r.next=24,C(i,f.file.fileUrl,j(j({},m),{},{contentType:f.file.type}));case 24:o(H(f.file)),r.next=30;break;case 27:r.prev=27,r.t0=r.catch(9),d.a.error("Uploading files from native failed with file ".concat(f.file,": ").concat(r.t0));case 30:r.next=7;break;case 32:r.next=37;break;case 34:r.prev=34,r.t1=r.catch(5),l.e(r.t1);case 37:return r.prev=37,l.f(),r.finish(37);case 40:n&&n();case 41:case"end":return r.stop()}}),r,null,[[5,34,37,40],[9,27]])})));return function(e){return r.apply(this,arguments)}}()},H=function(e){return function(){var t=o()(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"RECEIVE_UPLOAD_SUCCESS",file:e,isUpdate:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},X=function(e,t,n,r,i,c){var u=c.client,l=c.vaultClient;return function(){var c=o()(a.a.mark((function o(c){return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:c({type:"ADD_TO_UPLOAD_QUEUE",files:oe(e)}),c(L(r,i,t,n,{client:u,vaultClient:l}));case 2:case"end":return a.stop()}}),o)})));return function(e){return c.apply(this,arguments)}}()},K=function(){return{type:"PURGE_UPLOAD_QUEUE"}},G=function(e){return function(t,n){var r=re(n()),a=$(r),i=J(r),o=te(r),c=ne(r),u=ee(r),l=Z(r);return e(o,a,i,u,l,c)}},Y=function(e,t){return e.filter((function(e){return e.status===t}))},J=function(e){return Y(e,"conflict")},Z=function(e){return Y(e,"failed")},$=function(e){return Y(e,"quota")},ee=function(e){return Y(e,"network")},te=function(e){return Y(e,z)},ne=function(e){return Y(e,I)},re=function(e){return e.upload.queue},ae=function(e){return re(e).filter((function(e){return"pending"!==e.status}))},ie=function(e){return re(e).filter((function(e){return[z,I].includes(e.status)}))},oe=function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e[n];if(null!=r.webkitGetAsEntry&&r.webkitGetAsEntry()){var a=r.webkitGetAsEntry();t.push({file:r.getAsFile(),isDirectory:!0===a.isDirectory,entry:a})}else t.push({file:r,isDirectory:!1,entry:null})}return 0===t.length&&d.a.warn("Upload module files entries extraction: no file entry"),t}},3:function(e,t){},"32XB":function(e,t,n){e.exports={"CozyTheme--inverted":"CozyTheme--inverted--22dSU","CozyTheme--normal":"CozyTheme--normal--1Ee94","fil-actionmenu-inner":"fil-actionmenu-inner--3JhFX","fil-actionmenu-recipients":"fil-actionmenu-recipients--28pEX","fil-action":"fil-action--3huaS","fil-actionmenu-overlay":"fil-actionmenu-overlay--1o4R9","fil-mobileactionmenu":"fil-mobileactionmenu--2J9Kc","fil-mobileactionmenu-header":"fil-mobileactionmenu-header--j3KI4","fil-mobileactionmenu-file-name":"fil-mobileactionmenu-file-name--3VXSo","fil-mobileactionmenu-file-ext":"fil-mobileactionmenu-file-ext--2sio1","fil-mobileactionmenu-category":"fil-mobileactionmenu-category--34XX7"}},"37ak":function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return d}));var r=n("lSNA"),a=n.n(r);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(){return{type:"SHOW_NEW_FOLDER_INPUT"}},u=function(){return{type:"HIDE_NEW_FOLDER_INPUT"}},l=function(){return{type:"IS_ENCRYPTED_FILE"}},s={isTypingNewFolderName:!1,isEncryptedFolder:!1};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_NEW_FOLDER_INPUT":return o(o({},e),{},{isTypingNewFolderName:!0});case"HIDE_NEW_FOLDER_INPUT":return o(o({},e),{},{isTypingNewFolderName:!1});case"IS_ENCRYPTED_FILE":return o(o({},e),{},{isEncryptedFolder:!0});default:return e}};var f=function(e){return e.filelist.isTypingNewFolderName},d=function(e){return e.filelist.isEncryptedFolder}},"3Cim":function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),i=n("QILm"),o=n.n(i),c=n("o0o1"),u=n.n(c),l=n("yXPU"),s=n.n(l),f=n("J4zp"),d=n.n(f),m=n("q1tI"),p=n.n(m),h=n("SH7X"),b=n("e5eR"),y=n("KXWi"),v=n("T//5"),g=n("LNIv"),w=n("y6ex"),O=n("X+Uv"),x=n("buk/"),E=n("AJ6E"),j=n("sHCi"),k=n("MFii"),C=n("z6Q1"),_=["files"],S=function(e){var t=e.type,n=e.fileCount,r="referenced"===t?"album":"shared"===t?"share":t,a=Object(x.useI18n)().t;return p.a.createElement(g.c,null,p.a.createElement(g.b,null,p.a.createElement(w.a,{icon:r,color:"var(--coolGrey)"})),p.a.createElement(g.a,{className:"u-pl-1-half"},a("deleteconfirmation.".concat(t),n)))},z=function(e){var t=e.files,n=e.afterConfirmation,r=e.onClose,a=e.children,i=Object(x.useI18n)().t,o=t.length,c=Object(h.useClient)(),l=Object(m.useState)(!1),f=d()(l,2),g=f[0],w=f[1],E=Object(m.useState)(!1),j=d()(E,2),_=j[0],z=j[1];Object(m.useEffect)((function(){(function(){var e=s()(u.a.mark((function e(){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.flatMap((function(e){return(e&&e.relationships&&e.relationships.referenced_by&&e.relationships.referenced_by.data||[]).filter((function(e){return e.type===C.a})).map((function(e){return e.id}))})),e.next=3,Promise.all(n.map((function(e){var t=Object(v.a)(e);return c.fetchQueryAndGetFromState({definition:t.definition,options:t.options})})));case 3:r=e.sent,z(!!r.filter((function(e){return e&&e.data&&!e.data.auto})).length);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c,t]);var I=Object(m.useCallback)(s()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,Object(k.g)(c,t);case 3:n(),r();case 5:case"end":return e.stop()}}),e)}))),[c,t,n,r]);return p.a.createElement(b.a,{open:!0,onClose:r,title:i("deleteconfirmation.title",o),content:p.a.createElement(O.a,null,p.a.createElement(S,{type:"trash",fileCount:o}),p.a.createElement(S,{type:"restore",fileCount:o}),_&&p.a.createElement(S,{type:"referenced",fileCount:o}),a),actions:p.a.createElement(p.a.Fragment,null,p.a.createElement(y.c,{theme:"secondary",onClick:r,label:i("deleteconfirmation.cancel")}),p.a.createElement(y.c,{busy:g,theme:"danger",label:i("deleteconfirmation.delete"),onClick:I}))})};t.a=function(e){var t=e.files,n=o()(e,_);return 1!==t.length?p.a.createElement(z,a()({files:t},n)):p.a.createElement(E.a,{docId:t[0].id},(function(e){var r=e.isSharedByMe,i=e.link,o=e.recipients;return p.a.createElement(z,a()({files:t},n),r&&i&&p.a.createElement(S,{type:"link",fileCount:t.length}),r&&o.length>0&&p.a.createElement(S,{type:"shared",fileCount:t.length}),r&&o.length>0&&p.a.createElement(j.a,{className:"u-ml-1",docId:t[0].id}))}))}},"3cuQ":function(e,t,n){e.exports={"share--button":"share--button--3SDLg"}},"3p5Y":function(e,t,n){var r={"./en.json":"g/Gl","./fr.json":"HAg9"};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id="3p5Y"},4:function(e,t){},5:function(e,t){},6:function(e,t){},"6IK3":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=[{label:"name",attr:"name",css:"file",defaultOrder:"asc"},{label:"update",attr:"updated_at",css:"date",defaultOrder:"desc"}],a={attribute:"name",order:"asc"}},"6Ksc":function(e,t,n){"use strict";n.d(t,"a",(function(){return Ne}));var r=n("J4zp"),a=n.n(r),i=n("q1tI"),o=n.n(i),c=n("V4z/"),u=n("6CTP"),l=n("1I/2"),s=n("mgfL"),f=n.n(s),d=n("6HsW"),m=n("lSNA"),p=n.n(m),h=n("SH7X"),b=n("PSql"),y=n.n(b),v=n("AT0p");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(){var e=Object(i.useContext)(Ne),t=e.fileId,n=e.setIsEditorReady,r=e.isPublic,o=e.username,c=e.isFromSharing,u=e.editorMode,s=e.isEditorModeView,f=Object(h.useClient)().getStackClient().uri,d=Object(i.useState)(),m=a()(d,2),p=m[0],b=m[1],g=Object(i.useState)("loading"),O=a()(g,2),x=O[0],E=O[1],j=y()("GET","/office/".concat(t,"/open")),k=j.data,C=j.fetchStatus,_=Object(l.b)().isDesktop;return Object(i.useEffect)((function(){E(C)}),[C]),Object(i.useEffect)((function(){b()}),[s]),Object(i.useEffect)((function(){if(!Object(h.isQueryLoading)(j)&&"error"!==C&&!p)if(Object(v.j)(k,f)){var e=k.data.attributes,t=e.protocol,a=e.instance,i=e.document_id,l=e.subdomain,s=e.sharecode,d=e.public_name,m=[["sharecode",s]];m.push(["isOnlyOfficeDocShared",!0]),m.push(["onlyOfficeDocId",i]),d&&m.push(["username",d]);var y=Object(h.generateWebLink)({cozyUrl:"".concat(t,"://").concat(a),searchParams:m,pathname:"/public/",slug:"drive",subDomainType:l});window.location=y}else if(Object(v.c)(_)){var g=k.data.attributes,O=g.onlyoffice,x=g.public_name,S=Object(v.f)({isPublic:r,isFromSharing:c,username:o,public_name:x}),z=O.url,I="".concat(z,"/web-apps/apps/api/documents/api.js"),F={document:O.document,editorConfig:w(w({},O.editor),{},{mode:"edit"===O.editor.mode?u:"view",user:{name:S}}),token:O.token,documentType:O.documentType,events:{onAppReady:function(){return n(!0)}}};b({serverUrl:z,apiUrl:I,docEditorConfig:F})}else E("error")}),[u,j,C,k,p,b,n,r,o,c,f,_]),{config:p,status:x}},x=n("17x9"),E=n.n(x),j=n("V2U0"),k=n("3YpY"),C=n("B9Y0"),_=n("s0VD"),S=n("buk/"),z=n("TBZM"),I=n("/dzn"),F=n("EhdM"),P=n("CxWN"),D=n("T//5"),T=o.a.memo((function(){var e=Object(S.useI18n)().t,t=Object(i.useContext)(Ne).fileId,n=Object(i.useCallback)((function(){return window.history.back()}),[]),r=Object(i.useMemo)((function(){return Object(D.e)(t)}),[t]),a=Object(h.useQuery)(r.definition,r.options),c=Object(i.useMemo)((function(){return[a.data]}),[a]);return Object(h.isQueryLoading)(a)?o.a.createElement(j.b,{className:"u-flex u-flex-items-center u-flex-justify-center u-flex-grow-1",size:"xxlarge"}):"failed"===a.fetchStatus?o.a.createElement(P.a,{title:e("error.open_file")}):o.a.createElement(k.a,null,o.a.createElement(C.a,null,o.a.createElement(_.a,{files:c,currentIndex:0,onCloseRequest:n},o.a.createElement(z.a,null,o.a.createElement(F.a,null),o.a.createElement(I.a,null)))))})),N=n("pVnL"),R=n.n(N),M=n("y6ex"),A=n("Tgut"),L=n("hE6O"),B=n("15jN"),q=n("Om6k"),U=o.a.memo((function(){var e=Object(c.n)(),t=Object(S.useI18n)().t,n=Object(l.b)().isMobile,r=Object(i.useContext)(Ne),a=r.isEditorModeView,u=r.editorMode,s=r.setEditorMode,f=Object(i.useCallback)((function(){Object(v.a)()?s("view"===u?"edit":"view"):e("./paywall")}),[u,s,e]),d=t(a?"OnlyOffice.actions.edit":"OnlyOffice.actions.validate"),m=n?{"aria-label":d}:{variant:"extended"},p=Object(q.a)({right:n?"1rem":"30px",bottom:n?"1rem":"55px"});return o.a.createElement(B.a,R()({className:p.root,color:"primary",onClick:f},m),o.a.createElement(M.a,{icon:a?A.a:L.a,className:n?"":"u-mr-half","aria-hidden":"true"}),!n&&d)})),Q=function(e){var t=document.getElementsByName("frameEditor")[0];t&&(t.style.height=e)},V=function(e){var t=e.id,n=e.apiUrl,r=e.docEditorConfig,c=Object(i.useState)(!1),u=a()(c,2),s=u[0],f=u[1],d=Object(i.useContext)(Ne),m=d.isEditorReady,p=d.isReadOnly,h=d.isEditorModeView,b=Object(l.b)(),y=b.isMobile,g=b.isDesktop,w=Object(i.useCallback)((function(){new window.DocsAPI.DocEditor("onlyOfficeEditor",r),Q("0")}),[r]),O=Object(i.useCallback)((function(){var e=document.getElementById(t);e&&e.remove(),f(!0)}),[f,t]);Object(i.useEffect)((function(){if(document.getElementById(t))return w();var e=document.createElement("script");e.id=t,e.src=n,e.async=!0,e.onload=function(){return w()},e.onerror=function(){return O()},document.body.appendChild(e)}),[t,n,w,O]),Object(i.useEffect)((function(){m&&Q("100%")}),[m]);var x=m&&!p&&Object(v.b)(g)&&(y||h);return s?o.a.createElement(T,null):o.a.createElement(o.a.Fragment,null,!m&&o.a.createElement(j.b,{className:"u-flex u-flex-items-center u-flex-justify-center u-flex-grow-1",size:"xxlarge"}),o.a.createElement("div",{id:"onlyOfficeEditor"}),x&&o.a.createElement(U,null))};V.propTypes={id:E.a.string.isRequired,apiUrl:E.a.string.isRequired,docEditorConfig:E.a.object.isRequired};var W=o.a.memo(V),H=function(){return o.a.createElement(d.a,{className:"u-flex u-flex-items-center u-flex-justify-center"},o.a.createElement("span",{"data-testid":"onlyoffice-content-spinner"},o.a.createElement(j.b,{size:"xxlarge"})))},X=n("R/WZ"),K=n("95Bo"),G=n("Qscq"),Y=n("MSWZ"),J=n("z6Q1"),Z=n("tt8A"),$=function(){var e=Object(h.useClient)();return o.a.createElement("div",{className:"u-h-2 u-w-2 u-ml-1"},o.a.createElement("img",{className:"u-w-100 u-h-100 u-maw-2 u-mah-2",src:"".concat(e.getStackClient().uri,"/assets/images/icon-cozy-home.svg")}))},ee=n("sCMN"),te=function(e){var t=e.children,n=Object(S.useI18n)().t,r=Object(h.useClient)(),a=Object(D.b)(),i=Object(D.m)("context"),c=Object(h.useQuery)(a.definition,a.options),u=Object(h.useQuery)(i.definition,i.options);if(Object(h.isQueryLoading)(c)||Object(h.isQueryLoading)(u))return o.a.createElement(o.a.Fragment,null,t);var l=function(e){var t=e.apps,n=e.context,r=n&&n.attributes&&n.attributes.default_redirection,a=null;if(r){var i=r.match(/^([^/]+)\/.*/),o=i&&i[1];a=t.find((function(e){return e.slug===o}))}else a=t.find((function(e){return"home"===e.slug}));return a}({apps:c.data,context:u.data}),s=Object(h.generateWebLink)({cozyUrl:r.getStackClient().uri,slug:l.slug,pathname:"/",subDomainType:r.getInstanceOptions().subdomain});return o.a.createElement(ee.a,{app:l,href:s},(function(e){var r=e.onClick,a=e.href;return o.a.createElement("a",{href:a,onClick:r,"aria-label":n("OnlyOffice.toolbar.goToHome")},t)}))},ne=n("c7Cj"),re=n.n(ne),ae=function(){return o.a.createElement("span",{className:re.a.separator})},ie=n("lEaz"),oe=n("SjAl"),ce=o.a.memo((function(e){var t=e.onClick;return o.a.createElement(ie.a,{"data-testid":"onlyoffice-backButton",className:"u-ml-half-s",onClick:t,size:"medium"},o.a.createElement(M.a,{icon:oe.a}))})),ue=function(e){var t=e.fileClass;return o.a.createElement(M.a,{className:"u-ml-half",icon:Object(v.h)(t),size:32})};ue.propTypes={fileClass:E.a.string.isRequired};var le=ue,se=n("SOjZ"),fe=n("TSYQ"),de=n.n(fe),me=n("c8ah"),pe=n("F+Nm"),he=n("D2Hl"),be=n("QmKc"),ye=n.n(be),ve=Object(X.a)((function(e){return{name:{margin:"1px 0 3px 1px"},renamable:{"&:hover":{margin:"0 0 2px",border:"1px solid ".concat(e.palette.text.secondary),borderRadius:"2px",cursor:"text"}}}})),ge=function(e){var t=e.fileWithPath,n=ve(),r=Object(l.b)().isMobile,c=Object(i.useContext)(Ne).isReadOnly,u=Object(i.useState)(!1),s=a()(u,2),f=s[0],d=s[1],m=Object(i.useCallback)((function(){return d(!0)}),[d]),h=Object(i.useCallback)((function(){return d(!1)}),[d]);return o.a.createElement("div",{className:"".concat(re.a.fileName," u-mh-1 u-mh-half-s u-ellipsis u-flex-grow-1")},f?o.a.createElement(me.a,{variant:"h6",noWrap:!0},o.a.createElement(he.a,{className:re.a["filename-renameInput"],file:t,withoutExtension:!0,refreshFolderContent:h,onAbort:h})):o.a.createElement(me.a,{className:de()(n.name,p()({},"".concat(n.renamable),!c)),variant:"h6",noWrap:!0,onClick:c?void 0:m},t.name),t.displayedPath&&!r&&o.a.createElement(se.b,{"data-testid":"onlyoffice-filename-path",to:"/folder/".concat(t.dir_id),className:ye.a["fil-file-path"]},o.a.createElement(me.a,{variant:"caption"},o.a.createElement(pe.a,{text:t.displayedPath}))))};ge.propTypes={fileWithPath:E.a.object.isRequired};var we=o.a.memo(ge),Oe=n("TBeR"),xe=n("SOfb"),Ee=function(){var e=Object(S.useI18n)().t;return Object(l.b)().isMobile?o.a.createElement("div",{className:"u-flex u-mr-1"},o.a.createElement(M.a,{"data-testid":"onlyoffice-readonly-icon-only",icon:Oe.a,color:"var(--secondaryTextColor)"})):o.a.createElement(xe.a,{title:e("OnlyOffice.readOnly.tooltip")},o.a.createElement("span",{className:"u-flex u-mr-1"},o.a.createElement(M.a,{"data-testid":"onlyoffice-readonly-icon",icon:Oe.a,className:"u-mr-half",color:"var(--secondaryTextColor)"}),o.a.createElement(me.a,{"data-testid":"onlyoffice-readonly-text",variant:"body1",color:"textSecondary",className:"u-c-default"},e("OnlyOffice.readOnly.title"))))},je=n("FFOw"),ke=n("9jN0"),Ce=n("DA+R"),_e=n("lXO7"),Se=o.a.memo((function(e){var t=e.fileWithPath,n=Object(i.useState)(!1),r=a()(n,2),c=r[0],u=r[1],s=Object(l.b)().isMobile,f=Object(i.useCallback)((function(){return u((function(e){return!e}))}),[u]);return o.a.createElement(o.a.Fragment,null,s?o.a.createElement(ie.a,{"data-testid":"onlyoffice-sharing-icon",onClick:f,size:"medium"},o.a.createElement(M.a,{icon:_e.a})):o.a.createElement(o.a.Fragment,null,o.a.createElement(je.a,{docId:t.id,size:32,onClick:f}),o.a.createElement(ke.a,{"data-testid":"onlyoffice-sharing-button",docId:t.id,onClick:f})),c&&o.a.createElement(Ce.a,{document:t,documentType:"Files",sharingDesc:t.name,onClose:f}))})),ze=o.a.memo((function(){var e=Object(l.b)().isMobile,t=Object(i.useContext)(Ne),n=t.fileId,r=t.isPublic,a=t.isFromSharing,u=t.isReadOnly,s=t.isEditorReady,f=t.isFromCreate,d=Object(Z.a)(n).data,m=Object(c.n)(),p=Object(i.useMemo)((function(){return a||f}),[a,f]),b=Object(i.useMemo)((function(){return p?window.history.length>2:window.history.length>1}),[p]),y=Object(i.useCallback)((function(){return m(p?"../../":"../")}),[p,m]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(h.RealTimeQueries,{doctype:J.c}),o.a.createElement("div",{className:"u-flex u-flex-items-center u-flex-grow-1 u-ellipsis"},!e&&o.a.createElement(o.a.Fragment,null,r?o.a.createElement($,null):o.a.createElement(te,null,o.a.createElement($,null)),o.a.createElement(ae,null)),b&&o.a.createElement(ce,{onClick:y}),!e&&d.class&&o.a.createElement(le,{fileClass:d.class}),o.a.createElement(we,{fileWithPath:d})),u&&o.a.createElement(Ee,null),!r&&s&&o.a.createElement(Se,{fileWithPath:d}))})),Ie=Object(X.a)((function(e){return{root:{width:"100%",height:"3.5rem",backgroundColor:e.palette.background.paper}}})),Fe=o.a.memo((function(){var e=Object(l.b)().isMobile,t=Object(i.useContext)(Ne),n=t.isPublic,r=t.isFromSharing,a=t.isInSharedFolder,c=t.isEditorModeView,u=Ie(),s=Object(i.useMemo)((function(){return Object(v.k)({isPublic:n,isFromSharing:r,isInSharedFolder:a})}),[n,r,a]),f=c||!e;return o.a.createElement("div",{style:{zIndex:"var(--zIndex-nav)"}},f&&o.a.createElement(o.a.Fragment,null,o.a.createElement(G.a,{"data-testid":"onlyoffice-title",disableTypography:!0,className:"u-ellipsis u-flex u-flex-items-center u-p-0 u-pr-1",classes:u},o.a.createElement(ze,null)),o.a.createElement(Y.a,null)),s&&o.a.createElement(K.a,null))})),Pe=n("snfs"),De=function(){var e=O(),t=e.config,n=e.status,r=Object(i.useContext)(Ne).isEditorModeView;if("error"===n)return o.a.createElement(T,null);if("loaded"!==n||!t)return o.a.createElement(H,null);var a,c=t.serverUrl,u=t.apiUrl,l=t.docEditorConfig,s=(a=f()("drive.onlyoffice.editorToolbarHeight"),Number.isInteger(a)?a:Object(Pe.isIOS)()?68:32);return o.a.createElement(o.a.Fragment,null,o.a.createElement(Fe,null),o.a.createElement(d.a,{style:r?{marginTop:"-".concat(s,"px")}:void 0,className:"u-flex u-flex-column u-p-0"},o.a.createElement(W,{id:new URL(c).hostname,apiUrl:u,docEditorConfig:l})))},Te=n("nb+A"),Ne=Object(i.createContext)(),Re=function(e){var t=e.fileId,n=e.isPublic,r=e.isReadOnly,u=e.isFromSharing,s=e.username,f=e.isInSharedFolder,d=e.children,m=Object(l.b)(),p=m.isDesktop,h=m.isMobile,b=Object(c.l)().pathname,y=Object(i.useState)(!1),g=a()(y,2),w=g[0],O=g[1],x=Object(i.useState)(Object(v.i)(p,h)),E=a()(x,2),j=E[0],k=E[1],C=Object(i.useMemo)((function(){return"view"===j}),[j]),_=Object(i.useMemo)((function(){return b.endsWith("/fromCreate")}),[b]);return Object(i.useEffect)((function(){_&&k("edit")}),[_]),o.a.createElement(Ne.Provider,{value:{fileId:t,isPublic:n,isReadOnly:r,isFromSharing:u,username:s,isInSharedFolder:f,isEditorReady:w,setIsEditorReady:O,editorMode:j,setEditorMode:k,isEditorModeView:C,isFromCreate:_}},d)};t.b=function(e){var t=e.isPublic,n=e.isReadOnly,r=void 0!==n&&n,a=e.isFromSharing,i=e.username,l=e.isInSharedFolder,s=e.children,f=Object(c.p)().fileId;return Object(Te.a)(),o.a.createElement(u.a,{open:!0,fullScreen:!0,transitionDuration:0},o.a.createElement(Re,{fileId:f,isPublic:t,isReadOnly:r,isFromSharing:a,username:i,isInSharedFolder:l},o.a.createElement(De,null),s))}},"6TdX":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return f}));var r=n("RIqP"),a=n.n(r),i=n("J4zp"),o=n.n(i),c=n("q1tI"),u=n.n(c),l=u.a.createContext(),s=function(e){var t=e.children,n=Object(c.useState)([]),r=o()(n,2),i=r[0],s=r[1],f=Object(c.useCallback)((function(e){i.push(e),s(a()(i))}),[i]),d=Object(c.useCallback)((function(){i.pop(),s(a()(i))}),[i]);return u.a.createElement(l.Provider,{value:{modalStack:i,pushModal:f,popModal:d}},t)},f=function(){var e=Object(c.useContext)(l).modalStack;return 0===e.length?null:e[e.length-1]}},"6WMq":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("17x9"),o=n.n(i),c=n("LNIv"),u=n("yumz"),l=n("4sje"),s=n("y6ex"),f=n("c8ah"),d=n("xrMM"),m=n("buk/"),p=n("o+ty"),h=function(e){var t=e.count;return t>1?a.a.createElement(u.b,null,a.a.createElement(l.a,{count:t})):a.a.createElement(s.a,{icon:p.a,size:32})},b={marginLeft:"2rem",marginRight:"4rem",marginTop:"1rem",marginBottom:"1rem"},y=function(e){var t=e.entries,n=e.title,r=e.subTitle,i=Object(m.useI18n)().t,o=n||i("Move.title",{smart_count:t.length}),u=r||i("Move.to");return a.a.createElement(d.a,{inset:!0,className:"u-bg-paleGrey",style:b},a.a.createElement(c.c,null,a.a.createElement(c.b,{className:"u-mr-1"},a.a.createElement(h,{count:t.length})),a.a.createElement(c.a,null,a.a.createElement(f.a,{variant:"h6",noWrap:!0},1!==t.length?o:t[0].name),a.a.createElement(f.a,{variant:"caption",color:"textSecondary",noWrap:!0},u))))};y.propTypes={entries:o.a.arrayOf(o.a.shape({name:o.a.string})).isRequired,title:o.a.string,subTitle:o.a.string},t.a=y},7:function(e,t){},"7TaF":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("SH7X"),o=n("y6ex"),c=n("7jrE"),u=n.n(c),l=n("Sacj");t.a=function(e){var t=e.file,n=e.size,r=void 0===n?32:n,c=Object(i.useClient)(),s=Object(i.useFetchShortcut)(c,t.id).shortcutImg;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{display:s?"block":"none"}},a.a.createElement("img",{src:s,width:r,height:r})),a.a.createElement("div",{style:{display:s?"none":"block"}},a.a.createElement(o.a,{icon:l.a,size:r,color:u.a.coolGrey})))}},"7oMs":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"g",(function(){return h}));var r=n("lSNA"),a=n.n(r),i=n("fvjX"),o=n("Puqe"),c=n.n(o);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=function(e,t){return void 0!==e.selection.selected[t.id]},f=function(e){return 0!==Object.keys(e.selection.selected).length||e.selection.isSelectionBarOpened},d=function(e){return Object.values(e.selection.selected)},m=function(){return{type:"SHOW_SELECTION_BAR"}},p=function(){return{type:"HIDE_SELECTION_BAR"}},h=function(e,t){return{type:t?"UNSELECT_ITEM":"SELECT_ITEM",file:e}};t.a=Object(i.combineReducers)({selected:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.meta&&t.meta.cancelSelection)return{};switch(t.type){case"SELECT_ITEM":return l(l({},e),{},a()({},t.file.id,t.file));case"UNSELECT_ITEM":return c()(e,[t.file.id]);case"HIDE_SELECTION_BAR":return{};default:return e}},isSelectionBarOpened:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(t.meta&&t.meta.cancelSelection)return!1;switch(t.type){case"TOGGLE_SELECTION_BAR":return!e;case"SHOW_SELECTION_BAR":return!0;case"HIDE_SELECTION_BAR":return!1;default:return e}}})},8:function(e,t){},"8IyR":function(e,t,n){e.exports={"CozyTheme--inverted":"CozyTheme--inverted--1WDLQ","CozyTheme--normal":"CozyTheme--normal--3EyF1","u-elevation-1":"u-elevation-1--17n0l","u-visuallyhidden":"u-visuallyhidden--3FX6x","u-hide":"u-hide--3mtaG","u-hide--mob":"u-hide--mob--3kmpm","u-hide--tablet":"u-hide--tablet--it1ws","u-hide--desk":"u-hide--desk--3Q41O","u-dn":"u-dn--yykwu","u-di":"u-di--2TTN0","u-db":"u-db--1mdvJ","u-dib":"u-dib--8uxgX","u-dit":"u-dit--1LNm_","u-dt":"u-dt--lceRG","u-dtc":"u-dtc--Sa8U4","u-dt-row":"u-dt-row--2PRFY","u-dt-row-group":"u-dt-row-group--2NpwX","u-dt-column":"u-dt-column--1OS0a","u-dt-column-group":"u-dt-column-group--3THd0","u-dn-t":"u-dn-t--ppOHr","u-di-t":"u-di-t--De5tT","u-db-t":"u-db-t--3vcWe","u-dib-t":"u-dib-t--3Wk2I","u-dit-t":"u-dit-t--33MBp","u-dt-t":"u-dt-t--3wm8x","u-dtc-t":"u-dtc-t--2SaSj","u-dt-row-t":"u-dt-row-t--3nYHS","u-dt-row-group-t":"u-dt-row-group-t--3HF5g","u-dt-column-t":"u-dt-column-t--1yp44","u-dt-column-group-t":"u-dt-column-group-t--33wl4","u-dn-s":"u-dn-s--JKICl","u-di-s":"u-di-s--1TbVH","u-db-s":"u-db-s--3O1lF","u-dib-s":"u-dib-s--1xu5Z","u-dit-s":"u-dit-s--3XRiB","u-dt-s":"u-dt-s--8ju-3","u-dtc-s":"u-dtc-s--8LiK_","u-dt-row-s":"u-dt-row-s--399p5","u-dt-row-group-s":"u-dt-row-group-s--2CNMD","u-dt-column-s":"u-dt-column-s--3LFG6","u-dt-column-group-s":"u-dt-column-group-s--3q85y","u-dn-m":"u-dn-m--3UWJk","u-di-m":"u-di-m--22PJf","u-db-m":"u-db-m--1wi0g","u-dib-m":"u-dib-m--2yuQi","u-dit-m":"u-dit-m--3cu6X","u-dt-m":"u-dt-m--GCbde","u-dtc-m":"u-dtc-m--2QsFk","u-dt-row-m":"u-dt-row-m--3UAYx","u-dt-row-group-m":"u-dt-row-group-m--1ryRS","u-dt-column-m":"u-dt-column-m--2gVAX","u-dt-column-group-m":"u-dt-column-group-m--Jb0Zt","u-black":"u-black--20iIC","u-charcoalGrey":"u-charcoalGrey--2ywEx","u-coolGrey":"u-coolGrey--2KB2H","u-silver":"u-silver--1UhNT","u-slateGrey":"u-slateGrey--36izp","u-lightishPurple":"u-lightishPurple--16y_F","u-dodgerBlue":"u-dodgerBlue--1FdZQ","u-overlay":"u-overlay--2eZxG","u-paleGrey":"u-paleGrey--2iADC","u-monza":"u-monza--2xQ__","u-pomegranate":"u-pomegranate--1PJtm","u-primaryBackgroundLight":"u-primaryBackgroundLight--3_xNP","u-primaryColor":"u-primaryColor--35V12","u-primaryColorLight":"u-primaryColorLight--1PJZn","u-primaryContrastTextColor":"u-primaryContrastTextColor--_cBQI","u-error":"u-error--2tZHf","u-errorBackground":"u-errorBackground--3P1Tn","u-success":"u-success--3ldvC","u-warning":"u-warning--OG6wv","u-info":"u-info--guXOO","u-weirdGreen":"u-weirdGreen--3wj6h","u-white":"u-white--2hPof","u-breakword":"u-breakword--1dSPn","u-ellipsis":"u-ellipsis--3K9KZ","u-spacellipsis":"u-spacellipsis--9Qkf_","u-spacellipsis-t":"u-spacellipsis-t--2aI4J","u-spacellipsis-s":"u-spacellipsis-s--3Nd-x","u-spacellipsis-m":"u-spacellipsis-m--1fTdv","u-midellipsis":"u-midellipsis--nnaGL","u-link":"u-link--1exGi","u-lh-tiny":"u-lh-tiny--2W_JG","u-lh-xsmall":"u-lh-xsmall--25ICU","u-lh-small":"u-lh-small--2XodP","u-lh-medium":"u-lh-medium--i338e","u-lh-large":"u-lh-large--iVt9k","u-lh-xlarge":"u-lh-xlarge--34JQd","u-fz-tiny":"u-fz-tiny--1OB-f","u-fz-xsmall":"u-fz-xsmall--1nB_w","u-fz-small":"u-fz-small--15YLO","u-fz-medium":"u-fz-medium--1yhWq","u-fz-large":"u-fz-large--33rAQ","u-fz-tiny-t":"u-fz-tiny-t--23UrO","u-fz-xsmall-t":"u-fz-xsmall-t--3ztHy","u-fz-small-t":"u-fz-small-t--Ued-S","u-fz-medium-t":"u-fz-medium-t--2f1aG","u-fz-large-t":"u-fz-large-t--NUIyb","u-fz-tiny-s":"u-fz-tiny-s--3j4yv","u-fz-xsmall-s":"u-fz-xsmall-s--2Sx3Y","u-fz-small-s":"u-fz-small-s--1LSIx","u-fz-medium-s":"u-fz-medium-s--2SxEA","u-fz-large-s":"u-fz-large-s--2YJ_G","u-fz-tiny-m":"u-fz-tiny-m--ewjQv","u-fz-xsmall-m":"u-fz-xsmall-m--xU7Y9","u-fz-small-m":"u-fz-small-m--1MrLy","u-fz-medium-m":"u-fz-medium-m--2uQX-","u-fz-large-m":"u-fz-large-m--ORypW","u-ta-left":"u-ta-left--1bUaA","u-ta-right":"u-ta-right--3D_QU","u-ta-center":"u-ta-center--34Tyd","u-ta-justify":"u-ta-justify--3iXNK","u-ta-left-t":"u-ta-left-t--pyg5a","u-ta-right-t":"u-ta-right-t--fejRN","u-ta-center-t":"u-ta-center-t--f8vf3","u-ta-justify-t":"u-ta-justify-t--2Znj-","u-ta-left-s":"u-ta-left-s--1Rk0h","u-ta-right-s":"u-ta-right-s--2H6yP","u-ta-center-s":"u-ta-center-s--2eLks","u-ta-justify-s":"u-ta-justify-s--2dbmf","u-ta-left-m":"u-ta-left-m--2xAxr","u-ta-right-m":"u-ta-right-m--MMP4S","u-ta-center-m":"u-ta-center-m--2pb6b","u-ta-justify-m":"u-ta-justify-m--1Gf3S","u-fs-normal":"u-fs-normal--2lCRF","u-fs-italic":"u-fs-italic--rEFJk","u-fs-normal-t":"u-fs-normal-t--MRfLT","u-fs-italic-t":"u-fs-italic-t--2iV9b","u-fs-normal-s":"u-fs-normal-s--159Lr","u-fs-italic-s":"u-fs-italic-s--23qYl","u-fs-normal-m":"u-fs-normal-m--Urjhm","u-fs-italic-m":"u-fs-italic-m--2gzsV","u-fw-normal":"u-fw-normal--3SD6C","u-fw-bold":"u-fw-bold--2jLyP","u-fw-normal-t":"u-fw-normal-t--3U6n6","u-fw-bold-t":"u-fw-bold-t--3gpb8","u-fw-normal-s":"u-fw-normal-s--bdpJR","u-fw-bold-s":"u-fw-bold-s--wjZ1u","u-fw-normal-m":"u-fw-normal-m--2xKVw","u-fw-bold-m":"u-fw-bold-m--25w4h","c-btn":"c-btn--3UA-V","c-btn--regular":"c-btn--regular--PwZpe","c-btn-client":"c-btn-client--2tQwf","c-btn-client-mobile":"c-btn-client-mobile--qCtpH","c-btn--ghost":"c-btn--ghost--2_lgT","c-btn--highlight":"c-btn--highlight--3vafy","c-btn--alpha":"c-btn--alpha--2q43H","c-btn--action":"c-btn--action--kLpJs","c-btn--close":"c-btn--close--3kuo8","c-btn--danger":"c-btn--danger--2XQh4","c-btn--secondary":"c-btn--secondary--urTR1","c-btn--danger-outline":"c-btn--danger-outline--ELeOr","c-btn--text":"c-btn--text--mmLkW","c-btn-alert":"c-btn-alert--22GlB","c-btn-alert--error":"c-btn-alert--error--1BaFH","c-btn-alert--info":"c-btn-alert--info--3X_r7","c-btn-alert--success":"c-btn-alert--success--2VaBQ","c-btn--left":"c-btn--left--3OD3h","c-btn--center":"c-btn--center--2of3J","c-btn--right":"c-btn--right--2l-9g","c-btn--tiny":"c-btn--tiny--2rzhV","c-btn--small":"c-btn--small--3zq7D","c-btn--large":"c-btn--large--2gEik","c-btn--full":"c-btn--full--GBaOx","c-btn--narrow":"c-btn--narrow--30Rqf","c-btn--round":"c-btn--round--_aX03","c-btn--subtle":"c-btn--subtle--3D_uR","c-label":"c-label--2qBFO","is-error":"is-error--1sgd0","c-label--block":"c-label--block--4NI1H","c-input-text":"c-input-text--1a2pY","c-textarea":"c-textarea--1tr4M","c-select":"c-select--3Umuy","wizard-select":"wizard-select--1SIu0","c-input-text--tiny":"c-input-text--tiny--1H28g","c-textarea--tiny":"c-textarea--tiny--GgwpO","c-select--tiny":"c-select--tiny--2jx9I","c-input-text--medium":"c-input-text--medium--1D6tS","c-textarea--medium":"c-textarea--medium--2K6B5","c-select--medium":"c-select--medium--3MGmK","wizard-select--medium":"wizard-select--medium--oQoal","c-input-text--large":"c-input-text--large--3xPjf","c-input-text--fullwidth":"c-input-text--fullwidth--MMc36","c-textarea--fullwidth":"c-textarea--fullwidth--2CxEM","c-select--fullwidth":"c-select--fullwidth--5j0Zo","c-input-checkbox":"c-input-checkbox--rpPFH","c-input-radio":"c-input-radio--2-8ai","c-input-checkbox--noGutter":"c-input-checkbox--noGutter--25Wdz","c-input-radio--noGutter":"c-input-radio--noGutter--3r_Z9","o-field":"o-field--2OEF5","o-field-inline":"o-field-inline--2saLK","c-double-field":"c-double-field--3q70t","c-double-field--with-button":"c-double-field--with-button--3tMaK","c-double-field-label":"c-double-field-label--z4waM","c-double-field-button":"c-double-field-button--25ta4","c-double-field-wrapper":"c-double-field-wrapper--30B0F","c-double-field-input":"c-double-field-input--adEwN","wizard-wrapper":"wizard-wrapper--2nycg","wizard-main":"wizard-main--wXCWj","wizard-header":"wizard-header--1SbfB","wizard-footer":"wizard-footer--3nLGi","o-layout":"o-layout--b6QtC","o-layout-2panes":"o-layout-2panes--3JD2K","u-media":"u-media--3Djvn","u-media-top":"u-media-top--3V4Ea","u-media-bottom":"u-media-bottom--3l3_d","u-media-grow":"u-media-grow--Upl9-","u-media-fixed":"u-media-fixed--35gfP","o-sidebar":"o-sidebar--3pkob","c-avatar":"c-avatar--2i9nQ","c-avatar-image":"c-avatar-image--1BnKZ","u-card":"u-card--1LcFr","c-chip":"c-chip--3cHDn","c-chip--round":"c-chip--round--1RN3N","c-chip--tinySize":"c-chip--tinySize--1PPjs","c-chip--smallSize":"c-chip--smallSize--1Ch-7","c-chip--normalSize":"c-chip--normalSize--4X-LH","c-chip--outlinedVariant":"c-chip--outlinedVariant--3kHV8","c-chip--dashedVariant":"c-chip--dashedVariant--1m7j7","c-chip--normalTheme":"c-chip--normalTheme--3N2fw","c-chip--primaryTheme":"c-chip--primaryTheme--jjGlD","c-chip--errorTheme":"c-chip--errorTheme--2xix4","c-chip--hoverableNormalTheme":"c-chip--hoverableNormalTheme--3-Awt","c-chip--hoverablePrimaryTheme":"c-chip--hoverablePrimaryTheme--ozFPG","c-chip--normalPrimaryTheme":"c-chip--normalPrimaryTheme--2lzBw","c-chip--hoverableErrorTheme":"c-chip--hoverableErrorTheme--2hU7F","c-chip--outlinedNormalTheme":"c-chip--outlinedNormalTheme--pqiX7","c-chip--clickable":"c-chip--clickable--J0A_M","c-chip-separator":"c-chip-separator--2DLA2","c-chip-button":"c-chip-button--34nIU","c-chip-button--disabled":"c-chip-button--disabled--3_aON","c-avatar--xsmall":"c-avatar--xsmall--9VmMk","c-avatar--small":"c-avatar--small--31FDG","c-avatar--large":"c-avatar--large--1aC96","c-avatar--xlarge":"c-avatar--xlarge--ILibE","c-avatar-initials":"c-avatar-initials--3iExZ","c-nav":"c-nav--MAJhZ","c-nav-item":"c-nav-item--18dm5","c-nav-icon":"c-nav-icon--1eL3E","is-active":"is-active--3_GzD","c-nav-text":"c-nav-text--MK8-L","c-nav-link":"c-nav-link--1VBtf","c-nav-item-secondary":"c-nav-item-secondary--1hMzD","u-p-0":"u-p-0--y8Xrr","u-pt-0":"u-pt-0--b3ok9","u-pb-0":"u-pb-0--3joTR","u-pl-0":"u-pl-0--_7viJ","u-pr-0":"u-pr-0--2y4IV","u-pv-0":"u-pv-0--XTdBE","u-ph-0":"u-ph-0--AHFmn","u-p-1":"u-p-1--hpKTc","u-pt-1":"u-pt-1--3FKBS","u-pb-1":"u-pb-1--2quYJ","u-pl-1":"u-pl-1--10D92","u-pr-1":"u-pr-1--2DDXw","u-pv-1":"u-pv-1--idfta","u-ph-1":"u-ph-1--1PTVh","u-p-2":"u-p-2--NlLU8","u-pt-2":"u-pt-2--MWHfO","u-pb-2":"u-pb-2--iUhsi","u-pl-2":"u-pl-2--UNmzz","u-pr-2":"u-pr-2--3shOe","u-pv-2":"u-pv-2--2Zj4A","u-ph-2":"u-ph-2--3cDpk","u-p-3":"u-p-3--2L9z6","u-pt-3":"u-pt-3--zx4zU","u-pb-3":"u-pb-3--1zUAl","u-pl-3":"u-pl-3--1YOvL","u-pr-3":"u-pr-3--3WdTS","u-pv-3":"u-pv-3--CHw8y","u-ph-3":"u-ph-3--3ZyVQ","u-p-auto":"u-p-auto--2yYME","u-pt-auto":"u-pt-auto--2mMOx","u-pb-auto":"u-pb-auto--1dxzL","u-pl-auto":"u-pl-auto--2wEQU","u-pr-auto":"u-pr-auto--31ggn","u-pv-auto":"u-pv-auto--11hBU","u-ph-auto":"u-ph-auto--2fP8f","u-p-half":"u-p-half--2J7M_","u-pt-half":"u-pt-half--3kpiC","u-pb-half":"u-pb-half--38LQ9","u-pl-half":"u-pl-half--fGFSm","u-pr-half":"u-pr-half--64oQe","u-pv-half":"u-pv-half--1mqRV","u-ph-half":"u-ph-half--PgHST","u-p-1-half":"u-p-1-half--28RpX","u-pt-1-half":"u-pt-1-half--2mf_v","u-pb-1-half":"u-pb-1-half--2n8_e","u-pl-1-half":"u-pl-1-half--3EhRb","u-pr-1-half":"u-pr-1-half--1J-5k","u-pv-1-half":"u-pv-1-half--uWGwH","u-ph-1-half":"u-ph-1-half--3E4Nt","u-p-2-half":"u-p-2-half--2NuXX","u-pt-2-half":"u-pt-2-half--3XZoy","u-pb-2-half":"u-pb-2-half--1NM3c","u-pl-2-half":"u-pl-2-half--141Zm","u-pr-2-half":"u-pr-2-half--1RXqW","u-pv-2-half":"u-pv-2-half--1r9QA","u-ph-2-half":"u-ph-2-half--2WlBv","u-m-0":"u-m-0--nxwkH","u-mt-0":"u-mt-0--3WEQ6","u-mb-0":"u-mb-0--1uCnW","u-ml-0":"u-ml-0--1NrZO","u-mr-0":"u-mr-0--21TvT","u-mv-0":"u-mv-0--xDRm6","u-mh-0":"u-mh-0--1HCFo","u-m-1":"u-m-1--14N2c","u-mt-1":"u-mt-1--1PAGV","u-mb-1":"u-mb-1--3QUNm","u-ml-1":"u-ml-1--5w57C","u-mr-1":"u-mr-1--1iET2","u-mv-1":"u-mv-1--1dYuF","u-mh-1":"u-mh-1--2QaJJ","u-m-2":"u-m-2--3ghrR","u-mt-2":"u-mt-2--3z6rm","u-mb-2":"u-mb-2--3FMsz","u-ml-2":"u-ml-2--1QFyq","u-mr-2":"u-mr-2--1hDmH","u-mv-2":"u-mv-2--8_vXa","u-mh-2":"u-mh-2--1WTwI","u-m-3":"u-m-3--3kDfD","u-mt-3":"u-mt-3--1L_AE","u-mb-3":"u-mb-3--QFxTQ","u-ml-3":"u-ml-3--2iMXf","u-mr-3":"u-mr-3--TFRUN","u-mv-3":"u-mv-3--3_YTm","u-mh-3":"u-mh-3--3txta","u-m-auto":"u-m-auto--1W2QC","u-mt-auto":"u-mt-auto--3tir0","u-mb-auto":"u-mb-auto--2xLQw","u-ml-auto":"u-ml-auto--2R7Ia","u-mr-auto":"u-mr-auto--T8VYp","u-mv-auto":"u-mv-auto--1fqvt","u-mh-auto":"u-mh-auto--1hVPT","u-m-half":"u-m-half--3KCqa","u-mt-half":"u-mt-half--1GT2C","u-mb-half":"u-mb-half--3mvG9","u-ml-half":"u-ml-half--bWq9v","u-mr-half":"u-mr-half--1-rBC","u-mv-half":"u-mv-half--24ac8","u-mh-half":"u-mh-half--2fKJD","u-m-1-half":"u-m-1-half--2Hdxz","u-mt-1-half":"u-mt-1-half--3LMGU","u-mb-1-half":"u-mb-1-half--3kWkf","u-ml-1-half":"u-ml-1-half--u_QKP","u-mr-1-half":"u-mr-1-half--3YtZU","u-mv-1-half":"u-mv-1-half--1sbtC","u-mh-1-half":"u-mh-1-half--35_aD","u-m-2-half":"u-m-2-half--3VY8-","u-mt-2-half":"u-mt-2-half--3l47x","u-mb-2-half":"u-mb-2-half--3hXpG","u-ml-2-half":"u-ml-2-half--3K2Ir","u-mr-2-half":"u-mr-2-half--1LyDZ","u-mv-2-half":"u-mv-2-half--ZGTUL","u-mh-2-half":"u-mh-2-half--1RFpa","u-p-0-t":"u-p-0-t--2QvQm","u-pt-0-t":"u-pt-0-t--3wAjV","u-pb-0-t":"u-pb-0-t--3ULGs","u-pl-0-t":"u-pl-0-t--bu3GD","u-pr-0-t":"u-pr-0-t--22Xba","u-pv-0-t":"u-pv-0-t--2lkmW","u-ph-0-t":"u-ph-0-t--2MrDj","u-p-1-t":"u-p-1-t--1pNOa","u-pt-1-t":"u-pt-1-t--2csHL","u-pb-1-t":"u-pb-1-t--1gadZ","u-pl-1-t":"u-pl-1-t--1hZ5g","u-pr-1-t":"u-pr-1-t--Ib5v4","u-pv-1-t":"u-pv-1-t--UObIs","u-ph-1-t":"u-ph-1-t--D21wD","u-p-2-t":"u-p-2-t--3touZ","u-pt-2-t":"u-pt-2-t--2iNHv","u-pb-2-t":"u-pb-2-t--3olEr","u-pl-2-t":"u-pl-2-t--1bLCM","u-pr-2-t":"u-pr-2-t--16lTE","u-pv-2-t":"u-pv-2-t--1ujed","u-ph-2-t":"u-ph-2-t--TQEPS","u-p-3-t":"u-p-3-t--3fTr4","u-pt-3-t":"u-pt-3-t--1RHBV","u-pb-3-t":"u-pb-3-t--3t8Yy","u-pl-3-t":"u-pl-3-t--IiPy7","u-pr-3-t":"u-pr-3-t--2YNxB","u-pv-3-t":"u-pv-3-t--1hhbs","u-ph-3-t":"u-ph-3-t--3DB2q","u-p-auto-t":"u-p-auto-t--2mEtM","u-pt-auto-t":"u-pt-auto-t--3j9P3","u-pb-auto-t":"u-pb-auto-t--3QDHL","u-pl-auto-t":"u-pl-auto-t--2qm17","u-pr-auto-t":"u-pr-auto-t--2n4xI","u-pv-auto-t":"u-pv-auto-t--3FNQ-","u-ph-auto-t":"u-ph-auto-t--26EGK","u-p-half-t":"u-p-half-t--3A2po","u-pt-half-t":"u-pt-half-t--DuGPy","u-pb-half-t":"u-pb-half-t--2LOfK","u-pl-half-t":"u-pl-half-t--33tnU","u-pr-half-t":"u-pr-half-t--2L8e4","u-pv-half-t":"u-pv-half-t--efcaW","u-ph-half-t":"u-ph-half-t--1Ve9R","u-p-1-half-t":"u-p-1-half-t--Do2ub","u-pt-1-half-t":"u-pt-1-half-t--1UTKD","u-pb-1-half-t":"u-pb-1-half-t--21qzv","u-pl-1-half-t":"u-pl-1-half-t--3HLDe","u-pr-1-half-t":"u-pr-1-half-t--1tGOg","u-pv-1-half-t":"u-pv-1-half-t--3pkNB","u-ph-1-half-t":"u-ph-1-half-t--1nFkO","u-p-2-half-t":"u-p-2-half-t--2ISfu","u-pt-2-half-t":"u-pt-2-half-t--SbBZG","u-pb-2-half-t":"u-pb-2-half-t--1q6in","u-pl-2-half-t":"u-pl-2-half-t--LZP3T","u-pr-2-half-t":"u-pr-2-half-t--3C5vd","u-pv-2-half-t":"u-pv-2-half-t--9QZ6i","u-ph-2-half-t":"u-ph-2-half-t--1LiYX","u-m-0-t":"u-m-0-t--3QA3z","u-mt-0-t":"u-mt-0-t--3YoXS","u-mb-0-t":"u-mb-0-t--2-e9t","u-ml-0-t":"u-ml-0-t--zDvCi","u-mr-0-t":"u-mr-0-t--w7o6v","u-mv-0-t":"u-mv-0-t--3hLKW","u-mh-0-t":"u-mh-0-t--2JKES","u-m-1-t":"u-m-1-t--1AHzF","u-mt-1-t":"u-mt-1-t--jm_tC","u-mb-1-t":"u-mb-1-t--1IpQZ","u-ml-1-t":"u-ml-1-t--3OWq6","u-mr-1-t":"u-mr-1-t--3AGBB","u-mv-1-t":"u-mv-1-t--1TK_C","u-mh-1-t":"u-mh-1-t--15nBw","u-m-2-t":"u-m-2-t--3-xx9","u-mt-2-t":"u-mt-2-t--1jtnZ","u-mb-2-t":"u-mb-2-t--1VouU","u-ml-2-t":"u-ml-2-t--3SgvZ","u-mr-2-t":"u-mr-2-t--2uVnw","u-mv-2-t":"u-mv-2-t--LD1VD","u-mh-2-t":"u-mh-2-t--DIKso","u-m-3-t":"u-m-3-t--3rxLu","u-mt-3-t":"u-mt-3-t--3Y5oD","u-mb-3-t":"u-mb-3-t--1z1MA","u-ml-3-t":"u-ml-3-t--26LDt","u-mr-3-t":"u-mr-3-t--zCI_b","u-mv-3-t":"u-mv-3-t--qD6jm","u-mh-3-t":"u-mh-3-t--2V_Cy","u-m-auto-t":"u-m-auto-t--3O13t","u-mt-auto-t":"u-mt-auto-t--HQdIe","u-mb-auto-t":"u-mb-auto-t--3Q7y6","u-ml-auto-t":"u-ml-auto-t--18Mob","u-mr-auto-t":"u-mr-auto-t--3x5Qy","u-mv-auto-t":"u-mv-auto-t--261wG","u-mh-auto-t":"u-mh-auto-t--2xHVA","u-m-half-t":"u-m-half-t--3BBEX","u-mt-half-t":"u-mt-half-t--1684f","u-mb-half-t":"u-mb-half-t--3omhK","u-ml-half-t":"u-ml-half-t--2sdGI","u-mr-half-t":"u-mr-half-t--3HkTd","u-mv-half-t":"u-mv-half-t--2SN5V","u-mh-half-t":"u-mh-half-t--263h5","u-m-1-half-t":"u-m-1-half-t--9r0RJ","u-mt-1-half-t":"u-mt-1-half-t--jOR6l","u-mb-1-half-t":"u-mb-1-half-t--4uDMs","u-ml-1-half-t":"u-ml-1-half-t--1ngj6","u-mr-1-half-t":"u-mr-1-half-t--3VL_h","u-mv-1-half-t":"u-mv-1-half-t--2RlZy","u-mh-1-half-t":"u-mh-1-half-t--C1wpt","u-m-2-half-t":"u-m-2-half-t--2P3Oz","u-mt-2-half-t":"u-mt-2-half-t--PfsuH","u-mb-2-half-t":"u-mb-2-half-t--1rFT1","u-ml-2-half-t":"u-ml-2-half-t--1O81G","u-mr-2-half-t":"u-mr-2-half-t--qn3JM","u-mv-2-half-t":"u-mv-2-half-t--299qN","u-mh-2-half-t":"u-mh-2-half-t--1rwCl","u-p-0-s":"u-p-0-s--1MSe5","u-pt-0-s":"u-pt-0-s--1WoRg","u-pb-0-s":"u-pb-0-s--2OtJJ","u-pl-0-s":"u-pl-0-s--3YYXR","u-pr-0-s":"u-pr-0-s--3rplb","u-pv-0-s":"u-pv-0-s--2jfRk","u-ph-0-s":"u-ph-0-s--xxUY8","u-p-1-s":"u-p-1-s--39988","u-pt-1-s":"u-pt-1-s--2FQZ8","u-pb-1-s":"u-pb-1-s--3oluM","u-pl-1-s":"u-pl-1-s--1DTew","u-pr-1-s":"u-pr-1-s--3Imwo","u-pv-1-s":"u-pv-1-s--3JlIO","u-ph-1-s":"u-ph-1-s--WphZd","u-p-2-s":"u-p-2-s--2aJ6L","u-pt-2-s":"u-pt-2-s--2RjCz","u-pb-2-s":"u-pb-2-s--TXwMq","u-pl-2-s":"u-pl-2-s--1joNm","u-pr-2-s":"u-pr-2-s--LaO4X","u-pv-2-s":"u-pv-2-s--1OBPg","u-ph-2-s":"u-ph-2-s--1oEfr","u-p-3-s":"u-p-3-s--2b-aZ","u-pt-3-s":"u-pt-3-s--3Mb8s","u-pb-3-s":"u-pb-3-s--LRlYx","u-pl-3-s":"u-pl-3-s--3fhIN","u-pr-3-s":"u-pr-3-s--1V7_j","u-pv-3-s":"u-pv-3-s--QqLeV","u-ph-3-s":"u-ph-3-s--1A2sL","u-p-auto-s":"u-p-auto-s--1qQQ4","u-pt-auto-s":"u-pt-auto-s--38U0g","u-pb-auto-s":"u-pb-auto-s--12692","u-pl-auto-s":"u-pl-auto-s--3mGCK","u-pr-auto-s":"u-pr-auto-s--2wgwJ","u-pv-auto-s":"u-pv-auto-s--2nOsL","u-ph-auto-s":"u-ph-auto-s--1U-PH","u-p-half-s":"u-p-half-s--FJ3kC","u-pt-half-s":"u-pt-half-s--7uxyd","u-pb-half-s":"u-pb-half-s--24NkQ","u-pl-half-s":"u-pl-half-s--D8iRP","u-pr-half-s":"u-pr-half-s--2boI3","u-pv-half-s":"u-pv-half-s--S1xZC","u-ph-half-s":"u-ph-half-s--2KVF1","u-p-1-half-s":"u-p-1-half-s--3ystf","u-pt-1-half-s":"u-pt-1-half-s--2VXv-","u-pb-1-half-s":"u-pb-1-half-s--ekRma","u-pl-1-half-s":"u-pl-1-half-s--32N21","u-pr-1-half-s":"u-pr-1-half-s--2M-9d","u-pv-1-half-s":"u-pv-1-half-s--1enXo","u-ph-1-half-s":"u-ph-1-half-s--1qaze","u-p-2-half-s":"u-p-2-half-s--2sFyi","u-pt-2-half-s":"u-pt-2-half-s--3i5rV","u-pb-2-half-s":"u-pb-2-half-s--XDUga","u-pl-2-half-s":"u-pl-2-half-s--3J-rK","u-pr-2-half-s":"u-pr-2-half-s--XoTtz","u-pv-2-half-s":"u-pv-2-half-s--3GoC7","u-ph-2-half-s":"u-ph-2-half-s--2aaKX","u-m-0-s":"u-m-0-s--1SpyQ","u-mt-0-s":"u-mt-0-s--1jF8_","u-mb-0-s":"u-mb-0-s--3XKF3","u-ml-0-s":"u-ml-0-s--y9g4h","u-mr-0-s":"u-mr-0-s--3SzNU","u-mv-0-s":"u-mv-0-s--1wpIB","u-mh-0-s":"u-mh-0-s--364eB","u-m-1-s":"u-m-1-s--cSJEs","u-mt-1-s":"u-mt-1-s--2fP-b","u-mb-1-s":"u-mb-1-s--2qEkz","u-ml-1-s":"u-ml-1-s--3W7c2","u-mr-1-s":"u-mr-1-s--GBr0i","u-mv-1-s":"u-mv-1-s--3Fc_m","u-mh-1-s":"u-mh-1-s--1f4QQ","u-m-2-s":"u-m-2-s--1e4k7","u-mt-2-s":"u-mt-2-s--2J2VI","u-mb-2-s":"u-mb-2-s--2LiRf","u-ml-2-s":"u-ml-2-s--1gL2R","u-mr-2-s":"u-mr-2-s--2-DUg","u-mv-2-s":"u-mv-2-s--Z8REp","u-mh-2-s":"u-mh-2-s--2Q8gT","u-m-3-s":"u-m-3-s--1GQRB","u-mt-3-s":"u-mt-3-s--3_Pgs","u-mb-3-s":"u-mb-3-s--1GZAN","u-ml-3-s":"u-ml-3-s--WyyjT","u-mr-3-s":"u-mr-3-s--2WVTU","u-mv-3-s":"u-mv-3-s--3JCA0","u-mh-3-s":"u-mh-3-s--1F1FW","u-m-auto-s":"u-m-auto-s--3Ok4o","u-mt-auto-s":"u-mt-auto-s--VOH6X","u-mb-auto-s":"u-mb-auto-s--rsaq1","u-ml-auto-s":"u-ml-auto-s--1wkpx","u-mr-auto-s":"u-mr-auto-s--vL9Ea","u-mv-auto-s":"u-mv-auto-s--3DbDS","u-mh-auto-s":"u-mh-auto-s--3FbF1","u-m-half-s":"u-m-half-s--2tUoH","u-mt-half-s":"u-mt-half-s--jA_pB","u-mb-half-s":"u-mb-half-s--14tWO","u-ml-half-s":"u-ml-half-s--7ENf9","u-mr-half-s":"u-mr-half-s--2Jp6R","u-mv-half-s":"u-mv-half-s--2uOKM","u-mh-half-s":"u-mh-half-s--1VIXW","u-m-1-half-s":"u-m-1-half-s--2nzte","u-mt-1-half-s":"u-mt-1-half-s--3HPhw","u-mb-1-half-s":"u-mb-1-half-s--3dIp8","u-ml-1-half-s":"u-ml-1-half-s--3xGIv","u-mr-1-half-s":"u-mr-1-half-s--3lcMx","u-mv-1-half-s":"u-mv-1-half-s--WmVLs","u-mh-1-half-s":"u-mh-1-half-s--2V0qx","u-m-2-half-s":"u-m-2-half-s--Oemtk","u-mt-2-half-s":"u-mt-2-half-s--15vM2","u-mb-2-half-s":"u-mb-2-half-s--sqESr","u-ml-2-half-s":"u-ml-2-half-s--nLmJf","u-mr-2-half-s":"u-mr-2-half-s--3tYQl","u-mv-2-half-s":"u-mv-2-half-s--3VTR0","u-mh-2-half-s":"u-mh-2-half-s--1c_UP","u-p-0-m":"u-p-0-m--dAQKV","u-pt-0-m":"u-pt-0-m--D38Sx","u-pb-0-m":"u-pb-0-m--35g3C","u-pl-0-m":"u-pl-0-m--3iTGR","u-pr-0-m":"u-pr-0-m--j2hP4","u-pv-0-m":"u-pv-0-m--3BB4R","u-ph-0-m":"u-ph-0-m--3ZG_b","u-p-1-m":"u-p-1-m--221Fn","u-pt-1-m":"u-pt-1-m--2ytb0","u-pb-1-m":"u-pb-1-m--31K8o","u-pl-1-m":"u-pl-1-m--AWGeh","u-pr-1-m":"u-pr-1-m--2w1Yf","u-pv-1-m":"u-pv-1-m--2C4Os","u-ph-1-m":"u-ph-1-m--1IJ92","u-p-2-m":"u-p-2-m--1vG0b","u-pt-2-m":"u-pt-2-m--3DUrj","u-pb-2-m":"u-pb-2-m--1sTF_","u-pl-2-m":"u-pl-2-m--3pKjH","u-pr-2-m":"u-pr-2-m--27mu1","u-pv-2-m":"u-pv-2-m--o2buk","u-ph-2-m":"u-ph-2-m--doo63","u-p-3-m":"u-p-3-m--2pP3t","u-pt-3-m":"u-pt-3-m--2gZWa","u-pb-3-m":"u-pb-3-m--1HElb","u-pl-3-m":"u-pl-3-m--2P5i2","u-pr-3-m":"u-pr-3-m--26KCi","u-pv-3-m":"u-pv-3-m--nHM6K","u-ph-3-m":"u-ph-3-m--24Izv","u-p-auto-m":"u-p-auto-m--9dnBJ","u-pt-auto-m":"u-pt-auto-m--3XnS6","u-pb-auto-m":"u-pb-auto-m--3l1eN","u-pl-auto-m":"u-pl-auto-m--2v9ru","u-pr-auto-m":"u-pr-auto-m--185m_","u-pv-auto-m":"u-pv-auto-m--2TN8e","u-ph-auto-m":"u-ph-auto-m--zokL4","u-p-half-m":"u-p-half-m--lv8Ph","u-pt-half-m":"u-pt-half-m--3fcJI","u-pb-half-m":"u-pb-half-m--3_uz_","u-pl-half-m":"u-pl-half-m--15BRi","u-pr-half-m":"u-pr-half-m--27L1r","u-pv-half-m":"u-pv-half-m--7n07P","u-ph-half-m":"u-ph-half-m--kOrxo","u-p-1-half-m":"u-p-1-half-m--ntym-","u-pt-1-half-m":"u-pt-1-half-m--3_7pE","u-pb-1-half-m":"u-pb-1-half-m--135Lv","u-pl-1-half-m":"u-pl-1-half-m--2QOYo","u-pr-1-half-m":"u-pr-1-half-m--iuR1o","u-pv-1-half-m":"u-pv-1-half-m--2BOOJ","u-ph-1-half-m":"u-ph-1-half-m--Fzqqk","u-p-2-half-m":"u-p-2-half-m--3Q4S1","u-pt-2-half-m":"u-pt-2-half-m--37FuK","u-pb-2-half-m":"u-pb-2-half-m--3VgUF","u-pl-2-half-m":"u-pl-2-half-m--1SMDl","u-pr-2-half-m":"u-pr-2-half-m--2yQCL","u-pv-2-half-m":"u-pv-2-half-m--2j0KP","u-ph-2-half-m":"u-ph-2-half-m--3xqBu","u-m-0-m":"u-m-0-m--1Wvne","u-mt-0-m":"u-mt-0-m--16sTY","u-mb-0-m":"u-mb-0-m--2D-l-","u-ml-0-m":"u-ml-0-m--5MhDz","u-mr-0-m":"u-mr-0-m--3q64u","u-mv-0-m":"u-mv-0-m--2iAt_","u-mh-0-m":"u-mh-0-m--3dO8A","u-m-1-m":"u-m-1-m--37X8G","u-mt-1-m":"u-mt-1-m--5IiFO","u-mb-1-m":"u-mb-1-m--17-rf","u-ml-1-m":"u-ml-1-m--12WO2","u-mr-1-m":"u-mr-1-m--2l5Hs","u-mv-1-m":"u-mv-1-m--1fVsj","u-mh-1-m":"u-mh-1-m--1x3nT","u-m-2-m":"u-m-2-m--2pWTK","u-mt-2-m":"u-mt-2-m--1vpEs","u-mb-2-m":"u-mb-2-m--3dBW1","u-ml-2-m":"u-ml-2-m--22Xg5","u-mr-2-m":"u-mr-2-m--2JMMm","u-mv-2-m":"u-mv-2-m--3cqFT","u-mh-2-m":"u-mh-2-m--lCJa8","u-m-3-m":"u-m-3-m--2khpK","u-mt-3-m":"u-mt-3-m--3SQCl","u-mb-3-m":"u-mb-3-m--ISeE0","u-ml-3-m":"u-ml-3-m--3VpFr","u-mr-3-m":"u-mr-3-m--39RHD","u-mv-3-m":"u-mv-3-m--3Iohe","u-mh-3-m":"u-mh-3-m--2fQ9W","u-m-auto-m":"u-m-auto-m--78amG","u-mt-auto-m":"u-mt-auto-m--12Gk7","u-mb-auto-m":"u-mb-auto-m--3M7bR","u-ml-auto-m":"u-ml-auto-m--37-5v","u-mr-auto-m":"u-mr-auto-m--1aZX2","u-mv-auto-m":"u-mv-auto-m--3bIsu","u-mh-auto-m":"u-mh-auto-m--1DLUS","u-m-half-m":"u-m-half-m--3OQBA","u-mt-half-m":"u-mt-half-m--c5HzS","u-mb-half-m":"u-mb-half-m--2dT1f","u-ml-half-m":"u-ml-half-m--36adF","u-mr-half-m":"u-mr-half-m--3_rMb","u-mv-half-m":"u-mv-half-m--2Muh9","u-mh-half-m":"u-mh-half-m--1xfqd","u-m-1-half-m":"u-m-1-half-m--2nZvc","u-mt-1-half-m":"u-mt-1-half-m--2VXOO","u-mb-1-half-m":"u-mb-1-half-m--2pOVs","u-ml-1-half-m":"u-ml-1-half-m--3o1va","u-mr-1-half-m":"u-mr-1-half-m--3TW7w","u-mv-1-half-m":"u-mv-1-half-m--2TFt9","u-mh-1-half-m":"u-mh-1-half-m--20v92","u-m-2-half-m":"u-m-2-half-m--1T6Zi","u-mt-2-half-m":"u-mt-2-half-m--pAI5a","u-mb-2-half-m":"u-mb-2-half-m--2DfwS","u-ml-2-half-m":"u-ml-2-half-m--1rmzt","u-mr-2-half-m":"u-mr-2-half-m--1DqqY","u-mv-2-half-m":"u-mv-2-half-m--2uiaw","u-mh-2-half-m":"u-mh-2-half-m--Ln-2e","c-table-divider":"c-table-divider--1-81j","c-table":"c-table--2Eigo","c-table-head":"c-table-head--2VeAw","c-table-body":"c-table-body--3nvCe","c-table-row":"c-table-row--311a2","c-table-row-head":"c-table-row-head--2GHNy","is-selected":"is-selected--3F0-n","c-table-cell":"c-table-cell--11LuC","c-table-header":"c-table-header--37EzI","c-table-cell--primary":"c-table-cell--primary--1npa2","c-table-ellipsis":"c-table-ellipsis--1Htlg",wizard:"wizard--1RApT","wizard--waiting":"wizard--waiting--17YH2","wizard--scroll":"wizard--scroll--PoXiu","wizard--dual":"wizard--dual--2WWvA","wizard-wrapper--center":"wizard-wrapper--center--2EjZf","wizard-wrapper--bleed":"wizard-wrapper--bleed--ust6d","wizard-wrapper--dual":"wizard-wrapper--dual--D42F4","wizard-dual":"wizard-dual--1Ueqc","wizard-errors":"wizard-errors--1ZQw7","wizard--welcome":"wizard--welcome--1tusZ","wizard-logo":"wizard-logo--1g-b4","wizard-logo-img":"wizard-logo-img--1Y_SU","wizard-logo-badge":"wizard-logo-badge--KO9eE","wizard-header-help":"wizard-header-help--1wEAp","wizard-disclaimer":"wizard-disclaimer--3IY-e","wizard-desc":"wizard-desc--3Sshm","wizard-desc--footer":"wizard-desc--footer--2N90G","wizard-header-fixed":"wizard-header-fixed--2ArSg","wizard-previous":"wizard-previous--O0PvA","wizard-brand":"wizard-brand--1LZMr","wizard-brand--invert":"wizard-brand--invert--3R7j9","wizard-next":"wizard-next--oEVru","wizard-button":"wizard-button--HFMZ3","wizard-buttonlink":"wizard-buttonlink--2TOVt","wizard-input":"wizard-input--3J4hO","wizard-dual-btn":"wizard-dual-btn--1WFGQ","wizard-waiting-icon":"wizard-waiting-icon--21pc5","wizard-dual-icon":"wizard-dual-icon--3KuEc","wizard-title":"wizard-title--e7zpM","wizard-dual-title":"wizard-dual-title--BRshb","wizard-title-sub":"wizard-title-sub--yvHxu","wizard-subtitle":"wizard-subtitle--3A474","wizard-dual-subtitle":"wizard-dual-subtitle--2boJm","wizard-showbutton":"wizard-showbutton--1hdHS","wizard-dualfield":"wizard-dualfield--1kOSV","wizard-dualfield--focus":"wizard-dualfield--focus--1XLSK","wizard-dualfield--error":"wizard-dualfield--error--MYtFf","wizard-dualfield-wrapper":"wizard-dualfield-wrapper--3zWkB","wizard-dualfield-input":"wizard-dualfield-input--gu6Aw","wizard-protocol":"wizard-protocol--1fKHM","wizard-domain":"wizard-domain--3gcWA","wizard-requirements":"wizard-requirements--yFMf0","wizard-agreements":"wizard-agreements--3CX_2","wizard-agreements-item":"wizard-agreements-item--LJFNQ","wizard-agreements-desc":"wizard-agreements-desc--2ZuUF","wizard-agreements-icon":"wizard-agreements-icon--4JydE","wizard-updated":"wizard-updated--328d9","wizard-progress":"wizard-progress--3wxvO","wizard-progress-bar":"wizard-progress-bar--36RhA","wizard-notice":"wizard-notice--1hNNz","wizard-notice--lost":"wizard-notice--lost--32RE6","u-bg-black":"u-bg-black--26wgT","u-bg-charcoalGrey":"u-bg-charcoalGrey--1TFsy","u-bg-coolGrey":"u-bg-coolGrey--2naDm","u-bg-silver":"u-bg-silver--3mlXP","u-bg-slateGrey":"u-bg-slateGrey--1AA4F","u-bg-lightishPurple":"u-bg-lightishPurple--2z5j3","u-bg-dodgerBlue":"u-bg-dodgerBlue--3IFjS","u-bg-overlay":"u-bg-overlay--CPwTV","u-bg-paleGrey":"u-bg-paleGrey--3UNhV","u-bg-monza":"u-bg-monza--W5jPB","u-bg-pomegranate":"u-bg-pomegranate--1JyDt","u-bg-primaryBackgroundLight":"u-bg-primaryBackgroundLight--2O72w","u-bg-primaryColor":"u-bg-primaryColor--9ZCba","u-bg-primaryColorLight":"u-bg-primaryColorLight--1tVp2","u-bg-primaryContrastTextColor":"u-bg-primaryContrastTextColor--2lvm-","u-bg-error":"u-bg-error--3UT2L","u-bg-errorBackground":"u-bg-errorBackground--34Vi6","u-bg-success":"u-bg-success--2FMWy","u-bg-warning":"u-bg-warning--1_YFR","u-bg-info":"u-bg-info--2j-5d","u-bg-weirdGreen":"u-bg-weirdGreen--2iT3M","u-bg-white":"u-bg-white--1eLGZ","u-bdrs-0":"u-bdrs-0--3AzKd","u-bdrs-1":"u-bdrs-1--23qwH","u-bdrs-2":"u-bdrs-2--28Fa3","u-bdrs-3":"u-bdrs-3--3sAI5","u-bdrs-4":"u-bdrs-4--MrM_B","u-bdrs-circle":"u-bdrs-circle--2D8l-","u-bdw-0":"u-bdw-0--M7j1G","u-bdw-1":"u-bdw-1--2hQbJ","u-bdrs-0-t":"u-bdrs-0-t--12o2i","u-bdrs-1-t":"u-bdrs-1-t--10ahd","u-bdrs-2-t":"u-bdrs-2-t--3Tx4t","u-bdrs-3-t":"u-bdrs-3-t--1Pty7","u-bdrs-4-t":"u-bdrs-4-t--3XIaA","u-bdrs-circle-t":"u-bdrs-circle-t--3PE9R","u-bdw-0-t":"u-bdw-0-t--1KCmg","u-bdw-1-t":"u-bdw-1-t--3Df5l","u-bdrs-0-s":"u-bdrs-0-s--3q0TZ","u-bdrs-1-s":"u-bdrs-1-s--1TIth","u-bdrs-2-s":"u-bdrs-2-s--3d7tn","u-bdrs-3-s":"u-bdrs-3-s--2F0g-","u-bdrs-4-s":"u-bdrs-4-s--3mPSF","u-bdrs-circle-s":"u-bdrs-circle-s--3cf01","u-bdw-0-s":"u-bdw-0-s--HYOam","u-bdw-1-s":"u-bdw-1-s--3MqXR","u-bdrs-0-m":"u-bdrs-0-m--2CI6A","u-bdrs-1-m":"u-bdrs-1-m--dWJJK","u-bdrs-2-m":"u-bdrs-2-m--29O4y","u-bdrs-3-m":"u-bdrs-3-m--TPM9n","u-bdrs-4-m":"u-bdrs-4-m--1wnEi","u-bdrs-circle-m":"u-bdrs-circle-m--2iN6B","u-bdw-0-m":"u-bdw-0-m--3U7PJ","u-bdw-1-m":"u-bdw-1-m--QQonZ","u-bxz":"u-bxz--syplv","u-c-default":"u-c-default--2YMoo","u-c-help":"u-c-help--31Fz5","u-c-pointer":"u-c-pointer--tnNsg","u-c-wait":"u-c-wait--2jqRs","u-c-not-allowed":"u-c-not-allowed--1qxkJ","u-debug":"u-debug--3-k7H","u-miw-1":"u-miw-1--pcCHD","u-maw-1":"u-maw-1--iXa4d","u-mih-1":"u-mih-1--3ouqA","u-mah-1":"u-mah-1--2rEuh","u-miw-2":"u-miw-2--2nWbO","u-maw-2":"u-maw-2--1i9Dh","u-mih-2":"u-mih-2--1nGAH","u-mah-2":"u-mah-2--3FkMl","u-miw-3":"u-miw-3--2nUDK","u-maw-3":"u-maw-3--3TJDM","u-mih-3":"u-mih-3--2YbJw","u-mah-3":"u-mah-3--3kLYn","u-miw-4":"u-miw-4--1jqWA","u-maw-4":"u-maw-4--33z3B","u-mih-4":"u-mih-4--1aHyl","u-mah-4":"u-mah-4--3vz5M","u-miw-5":"u-miw-5--T4Pc2","u-maw-5":"u-maw-5--2Pd-w","u-mih-5":"u-mih-5--3z2JH","u-mah-5":"u-mah-5--1VJHf","u-miw-6":"u-miw-6--2Zt8U","u-maw-6":"u-maw-6--23bfp","u-mih-6":"u-mih-6--3FqZr","u-mah-6":"u-mah-6--13Rts","u-miw-7":"u-miw-7--2sVxg","u-maw-7":"u-maw-7--dhGR5","u-mih-7":"u-mih-7--2eweX","u-mah-7":"u-mah-7--1XiRk","u-miw-8":"u-miw-8--5pt2M","u-maw-8":"u-maw-8--2iGjD","u-mih-8":"u-mih-8--1v5_r","u-mah-8":"u-mah-8--1bezJ","u-miw-9":"u-miw-9--3LEyn","u-maw-9":"u-maw-9--hLdHH","u-mih-9":"u-mih-9--2tEr-","u-mah-9":"u-mah-9--1i9F9","u-miw-100":"u-miw-100--2Aslb","u-maw-100":"u-maw-100--2iuiy","u-mih-100":"u-mih-100--1wRjQ","u-mah-100":"u-mah-100--3hTbn","u-maw-none":"u-maw-none--bNAsg","u-mah-none":"u-mah-none--1r0Ny","u-miw-auto":"u-miw-auto--1QoTf","u-mih-auto":"u-mih-auto--1DYRt","u-miw-half":"u-miw-half--1J7CZ","u-maw-half":"u-maw-half--3plSd","u-mih-half":"u-mih-half--3JiUV","u-mah-half":"u-mah-half--1upzr","u-miw-1-half":"u-miw-1-half--Z8B3P","u-maw-1-half":"u-maw-1-half--SlSbf","u-mih-1-half":"u-mih-1-half--3s_KL","u-mah-1-half":"u-mah-1-half--1RLHK","u-miw-2-half":"u-miw-2-half--3hnNo","u-maw-2-half":"u-maw-2-half--1DuHs","u-mih-2-half":"u-mih-2-half--1-Cm5","u-mah-2-half":"u-mah-2-half--1QMvH","u-miw-1-t":"u-miw-1-t--1ep4R","u-maw-1-t":"u-maw-1-t--239oa","u-mih-1-t":"u-mih-1-t--39c-O","u-mah-1-t":"u-mah-1-t--2Cwu5","u-miw-2-t":"u-miw-2-t--3P--o","u-maw-2-t":"u-maw-2-t--2SpUX","u-mih-2-t":"u-mih-2-t--A9N5y","u-mah-2-t":"u-mah-2-t--3hKOY","u-miw-3-t":"u-miw-3-t--3CbGP","u-maw-3-t":"u-maw-3-t--3g3GT","u-mih-3-t":"u-mih-3-t--1Okno","u-mah-3-t":"u-mah-3-t--2MazG","u-miw-4-t":"u-miw-4-t--3PPRP","u-maw-4-t":"u-maw-4-t--2hVE_","u-mih-4-t":"u-mih-4-t---IyJr","u-mah-4-t":"u-mah-4-t--1k-bX","u-miw-5-t":"u-miw-5-t--3DRcz","u-maw-5-t":"u-maw-5-t--3fiZX","u-mih-5-t":"u-mih-5-t--2E2oy","u-mah-5-t":"u-mah-5-t--2of2l","u-miw-6-t":"u-miw-6-t--2opwp","u-maw-6-t":"u-maw-6-t--1qniv","u-mih-6-t":"u-mih-6-t--GYpGD","u-mah-6-t":"u-mah-6-t--ZKMJS","u-miw-7-t":"u-miw-7-t--I4JTt","u-maw-7-t":"u-maw-7-t--1fF_f","u-mih-7-t":"u-mih-7-t--3VwVH","u-mah-7-t":"u-mah-7-t--2A_0-","u-miw-8-t":"u-miw-8-t--1Y-iv","u-maw-8-t":"u-maw-8-t--3FW89","u-mih-8-t":"u-mih-8-t--30z09","u-mah-8-t":"u-mah-8-t--3HZ5s","u-miw-9-t":"u-miw-9-t--11B1w","u-maw-9-t":"u-maw-9-t--3HXNq","u-mih-9-t":"u-mih-9-t--30ib2","u-mah-9-t":"u-mah-9-t--RLCjB","u-miw-100-t":"u-miw-100-t--toR5s","u-maw-100-t":"u-maw-100-t--2UZFf","u-mih-100-t":"u-mih-100-t--1Cdox","u-mah-100-t":"u-mah-100-t--2tJ06","u-maw-none-t":"u-maw-none-t--2hw7F","u-mah-none-t":"u-mah-none-t--3DtRx","u-miw-auto-t":"u-miw-auto-t--10PdC","u-mih-auto-t":"u-mih-auto-t--Urlt9","u-miw-half-t":"u-miw-half-t--3O3_g","u-maw-half-t":"u-maw-half-t--D6tKG","u-mih-half-t":"u-mih-half-t--2pmEz","u-mah-half-t":"u-mah-half-t--2aXbJ","u-miw-1-half-t":"u-miw-1-half-t--2E-Nw","u-maw-1-half-t":"u-maw-1-half-t--j4J_9","u-mih-1-half-t":"u-mih-1-half-t--3xLfY","u-mah-1-half-t":"u-mah-1-half-t--2rjKx","u-miw-2-half-t":"u-miw-2-half-t--erR_5","u-maw-2-half-t":"u-maw-2-half-t--3CN80","u-mih-2-half-t":"u-mih-2-half-t--34EYt","u-mah-2-half-t":"u-mah-2-half-t--1U8VT","u-miw-1-s":"u-miw-1-s--3htCe","u-maw-1-s":"u-maw-1-s--1SvV1","u-mih-1-s":"u-mih-1-s--2UOyr","u-mah-1-s":"u-mah-1-s--jpb_1","u-miw-2-s":"u-miw-2-s--1Jszk","u-maw-2-s":"u-maw-2-s--1_Gzt","u-mih-2-s":"u-mih-2-s--1WrA_","u-mah-2-s":"u-mah-2-s--2DsY4","u-miw-3-s":"u-miw-3-s--DD44j","u-maw-3-s":"u-maw-3-s---xavh","u-mih-3-s":"u-mih-3-s--1Qh1E","u-mah-3-s":"u-mah-3-s--V-T1c","u-miw-4-s":"u-miw-4-s--kld3T","u-maw-4-s":"u-maw-4-s--WF9uP","u-mih-4-s":"u-mih-4-s--27mz4","u-mah-4-s":"u-mah-4-s--2-69d","u-miw-5-s":"u-miw-5-s--3pogj","u-maw-5-s":"u-maw-5-s--epTn_","u-mih-5-s":"u-mih-5-s--3DLqW","u-mah-5-s":"u-mah-5-s--CBchG","u-miw-6-s":"u-miw-6-s--3EhEY","u-maw-6-s":"u-maw-6-s--15A6t","u-mih-6-s":"u-mih-6-s--if4k2","u-mah-6-s":"u-mah-6-s--3QntL","u-miw-7-s":"u-miw-7-s--I70-y","u-maw-7-s":"u-maw-7-s--25N1i","u-mih-7-s":"u-mih-7-s--2Gqi3","u-mah-7-s":"u-mah-7-s--2rDps","u-miw-8-s":"u-miw-8-s--151Rv","u-maw-8-s":"u-maw-8-s--2WVkX","u-mih-8-s":"u-mih-8-s--2-z4s","u-mah-8-s":"u-mah-8-s--3-4Mh","u-miw-9-s":"u-miw-9-s--3mMpB","u-maw-9-s":"u-maw-9-s--IVDj0","u-mih-9-s":"u-mih-9-s--3cgEZ","u-mah-9-s":"u-mah-9-s--3pkZw","u-miw-100-s":"u-miw-100-s--2FN9E","u-maw-100-s":"u-maw-100-s--3NH0D","u-mih-100-s":"u-mih-100-s--3CvGV","u-mah-100-s":"u-mah-100-s--2SM8s","u-maw-none-s":"u-maw-none-s--1B77n","u-mah-none-s":"u-mah-none-s--Qz1rb","u-miw-auto-s":"u-miw-auto-s--1WbjD","u-mih-auto-s":"u-mih-auto-s--2eTUN","u-miw-half-s":"u-miw-half-s--2DNHH","u-maw-half-s":"u-maw-half-s--4LmaY","u-mih-half-s":"u-mih-half-s--2TD6h","u-mah-half-s":"u-mah-half-s--1ob87","u-miw-1-half-s":"u-miw-1-half-s--1oDzq","u-maw-1-half-s":"u-maw-1-half-s--18bb8","u-mih-1-half-s":"u-mih-1-half-s--1PLyw","u-mah-1-half-s":"u-mah-1-half-s--vP5TD","u-miw-2-half-s":"u-miw-2-half-s--238uv","u-maw-2-half-s":"u-maw-2-half-s--3cl2R","u-mih-2-half-s":"u-mih-2-half-s--2UPIn","u-mah-2-half-s":"u-mah-2-half-s--3POxh","u-miw-1-m":"u-miw-1-m--2yuzO","u-maw-1-m":"u-maw-1-m--3q840","u-mih-1-m":"u-mih-1-m--2hhlS","u-mah-1-m":"u-mah-1-m--38QjT","u-miw-2-m":"u-miw-2-m--11Xxh","u-maw-2-m":"u-maw-2-m--34NKm","u-mih-2-m":"u-mih-2-m--1nQX5","u-mah-2-m":"u-mah-2-m--2tki1","u-miw-3-m":"u-miw-3-m--2gG-i","u-maw-3-m":"u-maw-3-m--1WgTV","u-mih-3-m":"u-mih-3-m--1-O73","u-mah-3-m":"u-mah-3-m--3tKhJ","u-miw-4-m":"u-miw-4-m--3diPf","u-maw-4-m":"u-maw-4-m--10erG","u-mih-4-m":"u-mih-4-m--3Wox5","u-mah-4-m":"u-mah-4-m--3ilhH","u-miw-5-m":"u-miw-5-m--_YM0x","u-maw-5-m":"u-maw-5-m--3wCQ5","u-mih-5-m":"u-mih-5-m--2PDtZ","u-mah-5-m":"u-mah-5-m--1yS-8","u-miw-6-m":"u-miw-6-m--C4Ku1","u-maw-6-m":"u-maw-6-m--U9jea","u-mih-6-m":"u-mih-6-m--3xRY9","u-mah-6-m":"u-mah-6-m--2Fks3","u-miw-7-m":"u-miw-7-m--DEaEQ","u-maw-7-m":"u-maw-7-m--CSMBv","u-mih-7-m":"u-mih-7-m--3LeUa","u-mah-7-m":"u-mah-7-m--jcbUJ","u-miw-8-m":"u-miw-8-m--HC3xv","u-maw-8-m":"u-maw-8-m--3-WHa","u-mih-8-m":"u-mih-8-m--3GLHZ","u-mah-8-m":"u-mah-8-m--1SICL","u-miw-9-m":"u-miw-9-m--16gj1","u-maw-9-m":"u-maw-9-m--1m7M7","u-mih-9-m":"u-mih-9-m--20ZE4","u-mah-9-m":"u-mah-9-m--3RJ8m","u-miw-100-m":"u-miw-100-m--mhK9T","u-maw-100-m":"u-maw-100-m--3fwGm","u-mih-100-m":"u-mih-100-m--2zixh","u-mah-100-m":"u-mah-100-m--1HKNy","u-maw-none-m":"u-maw-none-m--3yd6n","u-mah-none-m":"u-mah-none-m--1sG3f","u-miw-auto-m":"u-miw-auto-m--31pbI","u-mih-auto-m":"u-mih-auto-m--3eKnT","u-miw-half-m":"u-miw-half-m--3OydP","u-maw-half-m":"u-maw-half-m--1vW9J","u-mih-half-m":"u-mih-half-m--23H0B","u-mah-half-m":"u-mah-half-m--3x1fi","u-miw-1-half-m":"u-miw-1-half-m--3cmvV","u-maw-1-half-m":"u-maw-1-half-m--2TJUP","u-mih-1-half-m":"u-mih-1-half-m--34HHu","u-mah-1-half-m":"u-mah-1-half-m--3eiFR","u-miw-2-half-m":"u-miw-2-half-m--3Vz9m","u-maw-2-half-m":"u-maw-2-half-m--f-hJS","u-mih-2-half-m":"u-mih-2-half-m--ypMQS","u-mah-2-half-m":"u-mah-2-half-m--2MFqE","u-w-1":"u-w-1--3VH0u","u-h-1":"u-h-1--8lBKM","u-w-2":"u-w-2--39x3l","u-h-2":"u-h-2--19u91","u-w-3":"u-w-3--1nxYM","u-h-3":"u-h-3--Eaqkv","u-w-4":"u-w-4--2aJSh","u-h-4":"u-h-4--2hH6X","u-w-5":"u-w-5--d58zs","u-h-5":"u-h-5--22TfM","u-w-6":"u-w-6--1K2ws","u-h-6":"u-h-6--1oaCr","u-w-7":"u-w-7--b19H1","u-h-7":"u-h-7--2L4Sk","u-w-8":"u-w-8--2z1Kx","u-h-8":"u-h-8--1S7jV","u-w-9":"u-w-9--2-r_m","u-h-9":"u-h-9--2lKoV","u-w-100":"u-w-100--ACXhw","u-h-100":"u-h-100--1wLjF","u-w-auto":"u-w-auto--3FORA","u-h-auto":"u-h-auto--DPkbz","u-w-half":"u-w-half--2TqeR","u-h-half":"u-h-half--3kjT4","u-w-1-half":"u-w-1-half--33E64","u-h-1-half":"u-h-1-half--2YlfG","u-w-2-half":"u-w-2-half--1633y","u-h-2-half":"u-h-2-half--2dwgW","u-w-1-t":"u-w-1-t--3oY-3","u-h-1-t":"u-h-1-t--YEPLy","u-w-2-t":"u-w-2-t--332tV","u-h-2-t":"u-h-2-t--3-2Jx","u-w-3-t":"u-w-3-t--1dQWV","u-h-3-t":"u-h-3-t--yba2Z","u-w-4-t":"u-w-4-t--3CsIY","u-h-4-t":"u-h-4-t--3Ux0e","u-w-5-t":"u-w-5-t--31qUY","u-h-5-t":"u-h-5-t--MV-M2","u-w-6-t":"u-w-6-t--1LsmJ","u-h-6-t":"u-h-6-t--3mfjl","u-w-7-t":"u-w-7-t--DUDUu","u-h-7-t":"u-h-7-t--2XhNh","u-w-8-t":"u-w-8-t--3p43s","u-h-8-t":"u-h-8-t--4W1ot","u-w-9-t":"u-w-9-t--1LCzR","u-h-9-t":"u-h-9-t--QbDMF","u-w-100-t":"u-w-100-t--3Lyij","u-h-100-t":"u-h-100-t--34Gbi","u-w-auto-t":"u-w-auto-t--H5HPc","u-h-auto-t":"u-h-auto-t--TqO6m","u-w-half-t":"u-w-half-t--N0fxN","u-h-half-t":"u-h-half-t--tVBiA","u-w-1-half-t":"u-w-1-half-t--1ojFO","u-h-1-half-t":"u-h-1-half-t--2JMf_","u-w-2-half-t":"u-w-2-half-t--3BjY6","u-h-2-half-t":"u-h-2-half-t--2N1p6","u-w-1-s":"u-w-1-s--3f124","u-h-1-s":"u-h-1-s--2hul0","u-w-2-s":"u-w-2-s--100Cj","u-h-2-s":"u-h-2-s--ecToI","u-w-3-s":"u-w-3-s--25EQa","u-h-3-s":"u-h-3-s--1xU7M","u-w-4-s":"u-w-4-s--1-5HO","u-h-4-s":"u-h-4-s--1PiwS","u-w-5-s":"u-w-5-s--1A6nl","u-h-5-s":"u-h-5-s--310oO","u-w-6-s":"u-w-6-s--2ImB6","u-h-6-s":"u-h-6-s--ZfY8m","u-w-7-s":"u-w-7-s--XlUqZ","u-h-7-s":"u-h-7-s--z0dty","u-w-8-s":"u-w-8-s--3zpeE","u-h-8-s":"u-h-8-s--3uHN4","u-w-9-s":"u-w-9-s--tNmXs","u-h-9-s":"u-h-9-s--24gYC","u-w-100-s":"u-w-100-s--TGFKu","u-h-100-s":"u-h-100-s--1UNRx","u-w-auto-s":"u-w-auto-s--1syVB","u-h-auto-s":"u-h-auto-s--2tvot","u-w-half-s":"u-w-half-s--dRpUq","u-h-half-s":"u-h-half-s--3wK05","u-w-1-half-s":"u-w-1-half-s--xm9yH","u-h-1-half-s":"u-h-1-half-s--2nyrh","u-w-2-half-s":"u-w-2-half-s--2xeIl","u-h-2-half-s":"u-h-2-half-s--3uvmX","u-w-1-m":"u-w-1-m--1fPk1","u-h-1-m":"u-h-1-m--aA2U6","u-w-2-m":"u-w-2-m--1oexe","u-h-2-m":"u-h-2-m--3QCwm","u-w-3-m":"u-w-3-m--1RRxK","u-h-3-m":"u-h-3-m--3ptj9","u-w-4-m":"u-w-4-m--11Zpc","u-h-4-m":"u-h-4-m--20rW7","u-w-5-m":"u-w-5-m--3Zsj1","u-h-5-m":"u-h-5-m--1ddoO","u-w-6-m":"u-w-6-m--37zQR","u-h-6-m":"u-h-6-m--hTuca","u-w-7-m":"u-w-7-m--10pP3","u-h-7-m":"u-h-7-m--2tHwk","u-w-8-m":"u-w-8-m--3lZUN","u-h-8-m":"u-h-8-m--fwere","u-w-9-m":"u-w-9-m--6RE2o","u-h-9-m":"u-h-9-m--y3fiN","u-w-100-m":"u-w-100-m--Lu-Xj","u-h-100-m":"u-h-100-m--1WuGH","u-w-auto-m":"u-w-auto-m--3ziIe","u-h-auto-m":"u-h-auto-m--jh31R","u-w-half-m":"u-w-half-m--1SHef","u-h-half-m":"u-h-half-m--1d-Qm","u-w-1-half-m":"u-w-1-half-m--uB7-h","u-h-1-half-m":"u-h-1-half-m--3hYjR","u-w-2-half-m":"u-w-2-half-m--3ty43","u-h-2-half-m":"u-h-2-half-m--1Rquw","u-shake":"u-shake--3X0rg",shake:"shake--Dso-n","u-filter-gray-100":"u-filter-gray-100--TUiXk","u-flex":"u-flex--1Jo2E","u-inline-flex":"u-inline-flex--3Q8J5","u-flex-none":"u-flex-none--2VWxS","u-flex-column":"u-flex-column--2s4iH","u-flex-row":"u-flex-row--2V77z","u-flex-wrap":"u-flex-wrap--2cQ2O","u-flex-nowrap":"u-flex-nowrap--n247O","u-flex-wrap-reverse":"u-flex-wrap-reverse--YjBSy","u-flex-column-reverse":"u-flex-column-reverse--2PDG-","u-flex-row-reverse":"u-flex-row-reverse--Z9QuU","u-flex-auto":"u-flex-auto--3kbE8","u-flex-items-start":"u-flex-items-start--21v8M","u-flex-items-end":"u-flex-items-end--2vpQQ","u-flex-items-center":"u-flex-items-center--23IR3","u-flex-items-baseline":"u-flex-items-baseline--3yFBu","u-flex-items-stretch":"u-flex-items-stretch--NBoVs","u-flex-self-start":"u-flex-self-start--2SefM","u-flex-self-end":"u-flex-self-end--2sE6S","u-flex-self-center":"u-flex-self-center--3mQqU","u-flex-self-baseline":"u-flex-self-baseline--3_qpc","u-flex-self-stretch":"u-flex-self-stretch--zx-3B","u-flex-justify-start":"u-flex-justify-start--311kB","u-flex-justify-end":"u-flex-justify-end--2hr0W","u-flex-justify-center":"u-flex-justify-center--wBzbs","u-flex-justify-between":"u-flex-justify-between--2Q8ZS","u-flex-justify-around":"u-flex-justify-around--3RClL","u-flex-content-start":"u-flex-content-start--36ecT","u-flex-content-end":"u-flex-content-end--1Sly7","u-flex-content-center":"u-flex-content-center--1ifW1","u-flex-content-between":"u-flex-content-between--pJiz4","u-flex-content-around":"u-flex-content-around--3FiFF","u-flex-content-stretch":"u-flex-content-stretch--174IP","u-flex-order-0":"u-flex-order-0--2suRo","u-flex-order-1":"u-flex-order-1--1Xhhp","u-flex-order-2":"u-flex-order-2--Ffvgx","u-flex-order-3":"u-flex-order-3--wvilB","u-flex-order-4":"u-flex-order-4--1nt9T","u-flex-order-5":"u-flex-order-5--3aNh3","u-flex-order-6":"u-flex-order-6--3Vyxt","u-flex-order-7":"u-flex-order-7--wh9ld","u-flex-order-8":"u-flex-order-8--3GoA0","u-flex-order-last":"u-flex-order-last--iycIu","u-flex-grow-0":"u-flex-grow-0--1p6gS","u-flex-grow-1":"u-flex-grow-1--3MO3C","u-flex-shrink-0":"u-flex-shrink-0--2XX2K","u-flex-shrink-1":"u-flex-shrink-1--3GwWh","u-flex-t":"u-flex-t--3bx5k","u-inline-flex-t":"u-inline-flex-t--19qEj","u-flex-none-t":"u-flex-none-t--1mAKW","u-flex-column-t":"u-flex-column-t--3kLMl","u-flex-row-t":"u-flex-row-t--2XMcM","u-flex-wrap-t":"u-flex-wrap-t--1vdOn","u-flex-nowrap-t":"u-flex-nowrap-t--tNGMy","u-flex-wrap-reverse-t":"u-flex-wrap-reverse-t--1clSz","u-flex-column-reverse-t":"u-flex-column-reverse-t--3HF6H","u-flex-row-reverse-t":"u-flex-row-reverse-t--3hrHN","u-flex-auto-t":"u-flex-auto-t--2UDlP","u-flex-items-start-t":"u-flex-items-start-t--3XzjB","u-flex-items-end-t":"u-flex-items-end-t--3lGH8","u-flex-items-center-t":"u-flex-items-center-t--1lgqA","u-flex-items-baseline-t":"u-flex-items-baseline-t--3vbbI","u-flex-items-stretch-t":"u-flex-items-stretch-t--HwhzZ","u-flex-self-start-t":"u-flex-self-start-t--1TiAD","u-flex-self-end-t":"u-flex-self-end-t--1wSzs","u-flex-self-center-t":"u-flex-self-center-t--2hIdR","u-flex-self-baseline-t":"u-flex-self-baseline-t--3MZz-","u-flex-self-stretch-t":"u-flex-self-stretch-t--2V-eb","u-flex-justify-start-t":"u-flex-justify-start-t--3ykDq","u-flex-justify-end-t":"u-flex-justify-end-t--3kzy0","u-flex-justify-center-t":"u-flex-justify-center-t--2tT9W","u-flex-justify-between-t":"u-flex-justify-between-t--R61QL","u-flex-justify-around-t":"u-flex-justify-around-t--3cj88","u-flex-content-start-t":"u-flex-content-start-t--2Fe7T","u-flex-content-end-t":"u-flex-content-end-t--1MuYO","u-flex-content-center-t":"u-flex-content-center-t--2EinK","u-flex-content-between-t":"u-flex-content-between-t--3AUVq","u-flex-content-around-t":"u-flex-content-around-t--HljdH","u-flex-content-stretch-t":"u-flex-content-stretch-t--qWtlO","u-flex-order-0-t":"u-flex-order-0-t--2xCTQ","u-flex-order-1-t":"u-flex-order-1-t--2__ro","u-flex-order-2-t":"u-flex-order-2-t--3rAx8","u-flex-order-3-t":"u-flex-order-3-t--7d9Fz","u-flex-order-4-t":"u-flex-order-4-t--2UG07","u-flex-order-5-t":"u-flex-order-5-t--79iKS","u-flex-order-6-t":"u-flex-order-6-t--1SVqM","u-flex-order-7-t":"u-flex-order-7-t--1tqFg","u-flex-order-8-t":"u-flex-order-8-t--1tzS7","u-flex-order-last-t":"u-flex-order-last-t--3snHd","u-flex-grow-0-t":"u-flex-grow-0-t--38wdB","u-flex-grow-1-t":"u-flex-grow-1-t--1_llt","u-flex-shrink-0-t":"u-flex-shrink-0-t--1wp__","u-flex-shrink-1-t":"u-flex-shrink-1-t--2ANEM","u-flex-s":"u-flex-s--bRNZe","u-inline-flex-s":"u-inline-flex-s--1_4en","u-flex-none-s":"u-flex-none-s--1L_69","u-flex-column-s":"u-flex-column-s--12htc","u-flex-row-s":"u-flex-row-s--1YR08","u-flex-wrap-s":"u-flex-wrap-s--3kX0q","u-flex-nowrap-s":"u-flex-nowrap-s--5cJwP","u-flex-wrap-reverse-s":"u-flex-wrap-reverse-s--1O56z","u-flex-column-reverse-s":"u-flex-column-reverse-s--2z3o9","u-flex-row-reverse-s":"u-flex-row-reverse-s--3lMxz","u-flex-auto-s":"u-flex-auto-s--2rxun","u-flex-items-start-s":"u-flex-items-start-s--hR4LX","u-flex-items-end-s":"u-flex-items-end-s--2aYmW","u-flex-items-center-s":"u-flex-items-center-s--1SHPV","u-flex-items-baseline-s":"u-flex-items-baseline-s--2W_ZX","u-flex-items-stretch-s":"u-flex-items-stretch-s--2N5XH","u-flex-self-start-s":"u-flex-self-start-s--30pwR","u-flex-self-end-s":"u-flex-self-end-s--1b8fR","u-flex-self-center-s":"u-flex-self-center-s--3TRR5","u-flex-self-baseline-s":"u-flex-self-baseline-s--2hBRK","u-flex-self-stretch-s":"u-flex-self-stretch-s--dFk9R","u-flex-justify-start-s":"u-flex-justify-start-s--1CCGA","u-flex-justify-end-s":"u-flex-justify-end-s--1HhsX","u-flex-justify-center-s":"u-flex-justify-center-s--1utWe","u-flex-justify-between-s":"u-flex-justify-between-s--GZoki","u-flex-justify-around-s":"u-flex-justify-around-s--3Dgtv","u-flex-content-start-s":"u-flex-content-start-s--3_7Og","u-flex-content-end-s":"u-flex-content-end-s--3tBex","u-flex-content-center-s":"u-flex-content-center-s--2qbo0","u-flex-content-between-s":"u-flex-content-between-s--2YJoe","u-flex-content-around-s":"u-flex-content-around-s--2fj5A","u-flex-content-stretch-s":"u-flex-content-stretch-s--3BOsM","u-flex-order-0-s":"u-flex-order-0-s--60dJ2","u-flex-order-1-s":"u-flex-order-1-s--3JQo2","u-flex-order-2-s":"u-flex-order-2-s--1p8RM","u-flex-order-3-s":"u-flex-order-3-s--30Mki","u-flex-order-4-s":"u-flex-order-4-s--24Wt7","u-flex-order-5-s":"u-flex-order-5-s--y9Epz","u-flex-order-6-s":"u-flex-order-6-s--_nIxn","u-flex-order-7-s":"u-flex-order-7-s--2S-EJ","u-flex-order-8-s":"u-flex-order-8-s--3A_d1","u-flex-order-last-s":"u-flex-order-last-s--2PeQT","u-flex-grow-0-s":"u-flex-grow-0-s--3YUDp","u-flex-grow-1-s":"u-flex-grow-1-s--FLqvm","u-flex-shrink-0-s":"u-flex-shrink-0-s--SvoWo","u-flex-shrink-1-s":"u-flex-shrink-1-s--P84ev","u-flex-m":"u-flex-m--1Y3Er","u-inline-flex-m":"u-inline-flex-m--35LYV","u-flex-none-m":"u-flex-none-m--22TN5","u-flex-column-m":"u-flex-column-m--3Q_9D","u-flex-row-m":"u-flex-row-m--Up1oP","u-flex-wrap-m":"u-flex-wrap-m--2TD_s","u-flex-nowrap-m":"u-flex-nowrap-m--38LMk","u-flex-wrap-reverse-m":"u-flex-wrap-reverse-m--2iSic","u-flex-column-reverse-m":"u-flex-column-reverse-m--1SE83","u-flex-row-reverse-m":"u-flex-row-reverse-m--1hh5_","u-flex-auto-m":"u-flex-auto-m--LkF1x","u-flex-items-start-m":"u-flex-items-start-m--8Tp6J","u-flex-items-end-m":"u-flex-items-end-m--Dex4S","u-flex-items-center-m":"u-flex-items-center-m--2lZuF","u-flex-items-baseline-m":"u-flex-items-baseline-m--2XzRV","u-flex-items-stretch-m":"u-flex-items-stretch-m--285gK","u-flex-self-start-m":"u-flex-self-start-m--1dLa7","u-flex-self-end-m":"u-flex-self-end-m--3v-s2","u-flex-self-center-m":"u-flex-self-center-m--32ILF","u-flex-self-baseline-m":"u-flex-self-baseline-m--2NPnA","u-flex-self-stretch-m":"u-flex-self-stretch-m--2ssUS","u-flex-justify-start-m":"u-flex-justify-start-m--17_4p","u-flex-justify-end-m":"u-flex-justify-end-m--1UJG-","u-flex-justify-center-m":"u-flex-justify-center-m--2WuOM","u-flex-justify-between-m":"u-flex-justify-between-m--6sNpY","u-flex-justify-around-m":"u-flex-justify-around-m--S1Mtb","u-flex-content-start-m":"u-flex-content-start-m--3EPkS","u-flex-content-end-m":"u-flex-content-end-m--2n1W7","u-flex-content-center-m":"u-flex-content-center-m--3zFFn","u-flex-content-between-m":"u-flex-content-between-m--2m-yz","u-flex-content-around-m":"u-flex-content-around-m--1-pLV","u-flex-content-stretch-m":"u-flex-content-stretch-m--3P3KS","u-flex-order-0-m":"u-flex-order-0-m--14kGe","u-flex-order-1-m":"u-flex-order-1-m--2fQ0L","u-flex-order-2-m":"u-flex-order-2-m--18wWP","u-flex-order-3-m":"u-flex-order-3-m--2SkKY","u-flex-order-4-m":"u-flex-order-4-m--3Uy-J","u-flex-order-5-m":"u-flex-order-5-m--3aCE_","u-flex-order-6-m":"u-flex-order-6-m--3vF4-","u-flex-order-7-m":"u-flex-order-7-m--3wAiY","u-flex-order-8-m":"u-flex-order-8-m--1yOzx","u-flex-order-last-m":"u-flex-order-last-m--19U6a","u-flex-grow-0-m":"u-flex-grow-0-m--2Q7VJ","u-flex-grow-1-m":"u-flex-grow-1-m--eTqOm","u-flex-shrink-0-m":"u-flex-shrink-0-m--KXk7-","u-flex-shrink-1-m":"u-flex-shrink-1-m--20926","u-nolist":"u-nolist--3F7JW","u-nolist-t":"u-nolist-t--3BxA6","u-nolist-s":"u-nolist-s--1ZOyZ","u-nolist-m":"u-nolist-m--3Bkyb","u-o-100":"u-o-100--2qad-","u-o-90":"u-o-90--NuNtO","u-o-80":"u-o-80--18KvO","u-o-70":"u-o-70--mkgyE","u-o-60":"u-o-60--2a_eL","u-o-50":"u-o-50--2pxWq","u-o-40":"u-o-40--27sIg","u-o-30":"u-o-30--2i4gP","u-o-20":"u-o-20--1pDqb","u-o-10":"u-o-10--1mUpe","u-o-05":"u-o-05--1H0uD","u-o-025":"u-o-025--22NxD","u-o-0":"u-o-0--7GTd2","u-ov-visible":"u-ov-visible--5lv2P","u-ov-hidden":"u-ov-hidden--sWwpY","u-ov-scroll":"u-ov-scroll--3HLgf","u-ov-auto":"u-ov-auto--1O4II","u-pos-absolute":"u-pos-absolute--zocdo","u-pos-relative":"u-pos-relative--2MWm8","u-pos-fixed":"u-pos-fixed--1vQ4F","u-pos-sticky":"u-pos-sticky--XmUk9","u-pos-static":"u-pos-static--1dFKE","u-pos-absolute-t":"u-pos-absolute-t--1-4su","u-pos-relative-t":"u-pos-relative-t--15QQT","u-pos-fixed-t":"u-pos-fixed-t--3m6ti","u-pos-sticky-t":"u-pos-sticky-t--3d2mX","u-pos-static-t":"u-pos-static-t--2Zetg","u-pos-absolute-s":"u-pos-absolute-s--1Vcmz","u-pos-relative-s":"u-pos-relative-s--3R2IX","u-pos-fixed-s":"u-pos-fixed-s--gCWNg","u-pos-sticky-s":"u-pos-sticky-s--2c00g","u-pos-static-s":"u-pos-static-s--3iDSN","u-pos-absolute-m":"u-pos-absolute-m--3LduC","u-pos-relative-m":"u-pos-relative-m--3kk8R","u-pos-fixed-m":"u-pos-fixed-m--KHSz6","u-pos-sticky-m":"u-pos-sticky-m--YaMoQ","u-pos-static-m":"u-pos-static-m--1tuql","u-top-m":"u-top-m--26C5S","u-top-xs":"u-top-xs--1JcbL","u-top-s":"u-top-s--2QQsh","u-top-l":"u-top-l--sZal9","u-top-xl":"u-top-xl--Dwf9M","u-top-xxl":"u-top-xxl--2dsr2","u-top-0":"u-top-0--3BCLN","u-bottom-m":"u-bottom-m--w1kt7","u-bottom-xs":"u-bottom-xs--1rEKy","u-bottom-s":"u-bottom-s--1L52A","u-bottom-l":"u-bottom-l--342ze","u-bottom-xl":"u-bottom-xl--5C-n3","u-bottom-xxl":"u-bottom-xxl--zwlm4","u-bottom-0":"u-bottom-0--1BsqT","u-left-m":"u-left-m--36gt5","u-left-xs":"u-left-xs--2aVvu","u-left-s":"u-left-s--3kE3j","u-left-l":"u-left-l--2d-h1","u-left-xl":"u-left-xl--3hFrA","u-left-xxl":"u-left-xxl--gz965","u-left-0":"u-left-0--29kP6","u-right-m":"u-right-m--2Abg7","u-right-xs":"u-right-xs--17vUt","u-right-s":"u-right-s--3g3Lq","u-right-l":"u-right-l--1J_yB","u-right-xl":"u-right-xl--1SaBe","u-right-xxl":"u-right-xxl--3DXPa","u-right-0":"u-right-0--2tFkX","u-stack-m":"u-stack-m--MWFXD","u-stack-xs":"u-stack-xs--1Y_AK","u-stack-s":"u-stack-s--1drmi","u-stack-l":"u-stack-l--2KZ1g","u-stack-xl":"u-stack-xl--3WkaE","u-stack-xxl":"u-stack-xxl--alb2_","u-row-m":"u-row-m--33TEs","u-row-xs":"u-row-xs--1dOFb","u-row-s":"u-row-s--2UJdF","u-row-l":"u-row-l--Xlnil","u-row-xl":"u-row-xl--1fYA-","u-row-xxl":"u-row-xxl--8R_K7","u-title-h1":"u-title-h1--1SAE6","u-title-h2":"u-title-h2--2bUL8","u-title-h3":"u-title-h3--3yxk1","u-title-h4":"u-title-h4--2gAs1","u-text":"u-text--3RI5Y","u-caption":"u-caption--d81VX","u-subtitle":"u-subtitle--Hd3Qa","u-uppercase":"u-uppercase--3k7q5","u-lowercase":"u-lowercase--1AhRN","c-input-checkbox--svg":"c-input-checkbox--svg--Bogch","c-input-checkbox-icon":"c-input-checkbox-icon--30X0Q","c-avatar--text":"c-avatar--text--2Sn9p","c-avatar--disabled":"c-avatar--disabled--1cKJH","c-avatar--image":"c-avatar--image--2_e_N","c-avatar--ghost":"c-avatar--ghost--1iV59","fil-content":"fil-content--3-eRD","center-layout":"center-layout--3HlJJ",spin:"spin--3dzoz"}},9:function(e,t){},"9Etc":function(e,t,n){"use strict";var r=n("o0o1"),a=n.n(r),i=n("yXPU"),o=n.n(i),c=n("lwsE"),u=n.n(c),l=n("W8MJ"),s=n.n(l),f=n("PJYZ"),d=n.n(f),m=n("7W2i"),p=n.n(m),h=n("a1gu"),b=n.n(h),y=n("Nsbk"),v=n.n(y),g=n("lSNA"),w=n.n(g),O=n("q1tI"),x=n.n(O),E=n("TSYQ"),j=n.n(E),k=n("OjRq"),C=n("V2U0"),_=n("qFRD"),S=n("KXWi"),z=n("buk/"),I=n("gqi3"),F=n("mdCN"),P=n.n(F);function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var T=function(e){return""===e.toString()},N=function(e){p()(n,e);var t=D(n);function n(e){var r;return u()(this,n),r=t.call(this,e),w()(d()(r),"save",o()(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.props.onSubmit,n=r.state.value,t){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,t(n);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),r.setState({working:!1,error:!0});case 12:case"end":return e.stop()}}),e,null,[[4,9]])})))),r.textInput=x.a.createRef(),r.state={value:e.name||"",working:!1,error:!1,hasBeenSubmitedOrAborted:!1,isModalOpened:!1},r.fileNameOnMount=e.name,r.abort=r.abort.bind(d()(r)),r.save=r.save.bind(d()(r)),r}return s()(n,[{key:"handleKeyDown",value:function(e){var t=this.state.value;13!==e.keyCode||T(t)?27===e.keyCode&&(this.setState({hasBeenSubmitedOrAborted:!0}),this.abort()):(this.setState({hasBeenSubmitedOrAborted:!0}),this.submit())}},{key:"handleChange",value:function(e){var t=this.props.onChange,n=e.target.value;this.setState({value:n}),t&&t(n)}},{key:"handleBlur",value:function(){var e=this.state,t=e.hasBeenSubmitedOrAborted,n=e.value;t||(T(n)?this.abort(!0):this.submit())}},{key:"submit",value:function(){var e=this.state.value,t=this.props.file;if(this.setState({working:!0,error:!1}),!this.fileNameOnMount)return this.save();t&&!Object(I.isDirectory)(t)?k.b.splitFilename({name:this.fileNameOnMount,type:"file"}).extension!==k.b.splitFilename({name:e,type:"file"}).extension?this.setState({isModalOpened:!0}):this.save():this.save()}},{key:"abort",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state.isModalOpened,n=this.props.onAbort;t&&this.setState({isModalOpened:!1}),n&&n(e)}},{key:"handleFocus",value:function(){var e=this,t=this.props,n=t.name,r=t.file,a=k.b.splitFilename({name:n,type:"file"}).filename;setTimeout((function(){e.textInput.current&&e.textInput.current.setSelectionRange(0,Object(I.isDirectory)(r)?n.length:a.length)}),5)}},{key:"render",value:function(){var e=this,t=this.state,n=t.value,r=t.working,a=t.error,i=t.isModalOpened,o=this.props,c=o.t,u=o.className;return x.a.createElement("div",{"data-testid":"name-input",className:j()(P.a["fil-file-name-input"],u)},x.a.createElement("input",{type:"text",value:n,ref:this.textInput,disabled:r,onChange:function(t){return e.handleChange(t)},onFocus:function(){return e.handleFocus()},onBlur:function(){return e.handleBlur()},onKeyDown:function(t){return e.handleKeyDown(t)},className:a?P.a.error:null,autoFocus:"autofocus"}),r&&x.a.createElement(C.b,null),x.a.createElement(_.a,{onClose:this.abort,open:i,title:c("RenameModal.title"),content:c("RenameModal.description"),actions:x.a.createElement(x.a.Fragment,null," ",x.a.createElement(S.c,{theme:"secondary",onClick:this.abort,label:c("RenameModal.cancel")}),x.a.createElement(S.c,{theme:"primary",label:c("RenameModal.continue"),onClick:this.save})),actionsLayout:"row"}))}}]),n}(O.Component);t.a=Object(z.translate)()(N)},"9j6G":function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),i=n("Vg22"),o=n("7oMs");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e,t){if(!e.action)return e;var n=e.action;return u(u({},e),{},{action:function(){n.apply(void 0,arguments),t(Object(o.c)())}})};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(i.useDispatch)(),r=[];return e.map((function(e){var i=l(e(t),n);r.push(a()({},i.name,i))})),r}},AT0p:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"i",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"g",(function(){return m})),n.d(t,"j",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return y})),n.d(t,"k",(function(){return v})),n.d(t,"f",(function(){return g}));var r=n("mgfL"),a=n.n(r),i=n("snfs"),o=n("S+Db"),c=n("Fmzl"),u=n("JXEA"),l=function(e){var t=a()("drive.office.".concat(!e||Object(i.isMobile)()?"touchScreen.":"","enabled"));return null!==t?t:!!a()("drive.onlyoffice.enabled")};function s(){var e=a()("drive.office.write");return null!==e?e:!!a()("drive.onlyoffice.enabled")}function f(e,t){if(!e&&a()("drive.office.touchScreen.readOnly"))return"view";var n=s(),r=a()("drive.office.mobile.defaultMode");if(t&&n&&null!==r)return r;var i=a()("drive.office.defaultMode");return n&&null!==i?i:"view"}var d=function(e){return!!l(e)&&!((!e||Object(i.isMobile)())&&a()("drive.office.touchScreen.readOnly"))},m=function(e,t){return t?"/onlyoffice/".concat(e.id):"/#/onlyoffice/".concat(e.id)},p=function(e,t){var n=e.data;return!!t&&!t.includes(n.attributes.instance)},h=function(e){return{spreadsheet:o.a,slide:c.a,text:u.a}[e]},b=function(e){return{text:"docx",spreadsheet:"xlsx",slide:"pptx"}[e]},y=function(e){return{text:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",spreadsheet:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",slide:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}[e]},v=function(e){var t=e.isFromSharing,n=e.isPublic,r=e.isInSharedFolder;return!t&&n&&(r?window.history.length<=1:window.history.length<=2)},g=function(e){var t=e.isPublic,n=e.isFromSharing,r=e.username,a=e.public_name;return t&&!n?void 0:r||a}},AnwN:function(e,t,n){"use strict";var r=n("4BeY"),a=n.n(r),i=n("IaFt"),o=n.n(i),c=new a.a({id:"icon-list_eb4be84b8e983bfc674592d4a3cf78da",use:"icon-list_eb4be84b8e983bfc674592d4a3cf78da-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-list_eb4be84b8e983bfc674592d4a3cf78da">\n    <path fill-rule="evenodd" d="M0 0h4v4H0V0zm6 0h10v4H6V0zM0 6h4v4H0V6zm6 0h10v4H6V6zm-6 6h4v4H0v-4zm6 0h10v4H6v-4z" />\n</symbol>'});o.a.add(c);t.a=c},AzIT:function(e,t,n){e.exports={"coz-banner-client":"coz-banner-client--xEL17"}},B6p6:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n("q1tI"),a=n.n(r),i=(n("V4z/"),n("pVnL")),o=n.n(i),c=n("lwsE"),u=n.n(c),l=n("W8MJ"),s=n.n(l),f=n("PJYZ"),d=n.n(f),m=n("7W2i"),p=n.n(m),h=n("a1gu"),b=n.n(h),y=n("Nsbk"),v=n.n(y),g=n("jyPq"),w=n.n(g),O=function(e){for(var t=e.currentStep,n=e.totalSteps,r=[],i=0;i<n;i++){var o="";o=i+1===t?w.a["onboarding-breadcrumb-element-active"]:w.a["onboarding-breadcrumb-element"],r[i]=a.a.createElement("div",{className:o,key:"step".concat(i)})}return a.a.createElement("div",{className:w.a["onboarding-breadcrumb"]},r.map((function(e){return e})))};function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}r.Component;var E=n("Vg22"),j=n("TSYQ"),k=n.n(j),C=n("buk/"),_=n("KXWi"),S=Object(C.translate)()((function(e){var t=e.t,n=e.breadcrumbs,r=e.onActivate,i=e.onSkip,o=e.stepName;return a.a.createElement("div",{className:k()(w.a.wizard,w.a["photos-backup"])},a.a.createElement("header",{className:w.a["wizard-header"]},i&&a.a.createElement("a",{className:w.a.skipLink,onClick:i},t("mobile.onboarding.step.skip"))),a.a.createElement("div",{className:w.a["wizard-main"]},a.a.createElement("div",{className:k()(w.a.illustration,w.a["illustration-"+o])}),a.a.createElement("h1",{className:w.a.title},t("mobile.onboarding."+o+".title")),a.a.createElement("p",{className:w.a.description},t("mobile.onboarding."+o+".description"))),a.a.createElement("footer",{className:w.a["wizard-footer"]},a.a.createElement(_.a,{onClick:r,label:t(i?"mobile.onboarding.step.button":"mobile.onboarding.step.next")}),n))})),z=(Object(E.connect)(null,(function(e,t){return{onActivate:function(){t.nextStep()}}}))((function(e){var t=e.onActivate,n=e.breadcrumbs;return a.a.createElement(S,{onActivate:t,stepName:"files",breadcrumbs:n})})),n("o0o1")),I=n.n(z),F=n("yXPU"),P=n.n(F),D=n("NMd3"),T=(Object(E.connect)(null,(function(e,t){return{onActivate:(n=P()(I.a.mark((function n(){return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(Object(D.a)(!0));case 2:t.nextStep();case 3:case"end":return n.stop()}}),n)}))),function(){return n.apply(this,arguments)}),onSkip:function(){e(Object(D.a)(!1)),t.nextStep()}};var n}))((function(e){var t=e.onActivate,n=e.onSkip,r=e.breadcrumbs;return a.a.createElement(S,{onActivate:t,onSkip:n,stepName:"photos",breadcrumbs:r})})),Object(E.connect)(null,(function(e,t){return{onActivate:function(){t.nextStep()},onSkip:function(){t.nextStep()}}}))((function(e){var t=e.onActivate,n=e.onSkip,r=e.breadcrumbs;return a.a.createElement(S,{onActivate:t,onSkip:n,stepName:"analytics",breadcrumbs:r})})),n("oAJy"),"ONBOARDED")},BIwB:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("Vg22"),o=n("17x9"),c=n.n(o),u=n("0wbi"),l=n("EM1p"),s=n("6TdX"),f=n("Lknf"),d=n("qvEe"),m=n("IFYe"),p=function(e){var t=e.store,n=e.client,r=e.lang,o=e.polyglot,c=e.children;return a.a.createElement(d.WebviewIntentProvider,{setBarContext:m.a.setWebviewContext},a.a.createElement(i.Provider,{store:t},a.a.createElement(u.a,{client:n,lang:r,polyglot:o},a.a.createElement(f.a,null,a.a.createElement(l.b,null,a.a.createElement(s.b,null,c))))))};p.propTypes={store:c.a.object,lang:c.a.string,polyglot:c.a.object,client:c.a.object},t.a=p},CSZ4:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("q1tI"),a=n("SH7X"),i=n("zUXI");function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e){var t=e.columnsNames,n=e.queryBuilder,c=e.conditionBuilder,u=e.currentFolderId,l=e.sharedDocumentIds,s=e.files,f=Object(a.useClient)(),d=Object(r.useMemo)((function(){return t.map((function(e){return i.b[e]}))}),[t]);return Object(r.useEffect)((function(){if(n){var e,t=o(d);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(r.query){var a={queryBuilder:n,currentFolderId:u,sharedDocumentIds:l,attribute:r.label},i=r.query(a).definition();f.query(i,r.query(a).options)}}}catch(c){t.e(c)}finally{t.f()}}}),[f,d,u,l,n]),d.filter((function(e){if(c){var t={conditionBuilder:c,files:s,attribute:e.label};return e.condition(t)}if(n){var r={queryBuilder:n,currentFolderId:u,sharedDocumentIds:l,attribute:e.label},a=f.getQueryFromState(e.query(r).options.as),i=a.fetchStatus,o=a.data;return"loaded"===i&&o.length>0}throw new Error("useExtraColumns must have queryBuilder or conditionBuilder")}))}},CXDI:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),i=n("q1tI"),o=n.n(i);t.a=function(e){return o.a.createElement("svg",a()({viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o.a.createElement("path",{opacity:"0.34",fillRule:"evenodd",clipRule:"evenodd",d:"M12.9657 1C13.5206 1 14.2876 1.3125 14.6803 1.6995L16 3H30.0059C31.1072 3 32 3.89498 32 4.997V27.003C32 28.1059 31.1107 29 29.9983 29H2.00174C0.896211 29 0 28.1001 0 27.0088V1.99653C0 1.44616 0.448999 1 1.00472 1H12.9657Z",fill:"#297EF2"}),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 1C0.447715 1 0 1.44772 0 2V6C0 6.55228 0.447716 7 1 7H13.5858C13.851 7 14.1054 6.89464 14.2929 6.70711L15.7071 5.29289C15.8946 5.10536 16.149 5 16.4142 5H32C32 3.89543 31.1046 3 30 3H16.4142C16.149 3 15.8946 2.89464 15.7071 2.70711L14.2929 1.29289C14.1054 1.10536 13.851 1 13.5858 1H1ZM10 15.9954V24.0046C10 24.5543 10.4558 25 11.0025 25H20.9975C21.5512 25 22 24.5443 22 24.0046V15.9954C22 15.4457 21.5561 15 21 15H20V13C20 10.794 18.2053 9 16 9C13.794 9 12 10.794 12 13V15H11C10.4477 15 10 15.4557 10 15.9954ZM16 11C14.8968 11 14 12.1215 14 13.5V15H18V13.5C18 12.1215 17.1028 11 16 11ZM17.5 19C17.5 18.172 16.8265 17.5 16 17.5C15.172 17.5 14.5 18.172 14.5 19C14.5 19.552 14.803 20.032 15.25 20.29V22.75C15.25 23.1625 15.586 23.5 16 23.5C16.4125 23.5 16.75 23.1625 16.75 22.75V20.29C17.1955 20.032 17.5 19.552 17.5 19Z",fill:"#297EF2"}))}},CxWN:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("17x9"),o=n.n(i),c=n("buk/"),u=n("GoJ1"),l=n("KXWi"),s=n("Xbs7"),f=n("/OCp"),d=n.n(f),m=function(){window.location.reload()},p=function(e){var t=e.title,n=e.icon,r=Object(c.useI18n)().t;return a.a.createElement(u.a,{title:t||r("error.open_folder"),icon:n||s.a,className:d.a.oops},a.a.createElement(l.c,{onClick:m,label:r("error.button.reload")}))};p.propTypes={title:o.a.string,icon:o.a.node},t.a=p},D2Hl:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n("o0o1"),a=n.n(r),i=n("lSNA"),o=n.n(i),c=n("yXPU"),u=n.n(c),l=n("q1tI"),s=n.n(l),f=n("Vg22"),d=n("SH7X"),m=n("67rm"),p=n("Jl/m"),h=n("OjRq"),b=n("9Etc"),y=n("JZSQ");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(){var e=u()(a.a.mark((function e(t,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.save(g(g({},n),{},{name:r,_rev:n._rev||n.meta.rev})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),O=function(e){var t=e.onAbort,n=e.file,r=e.refreshFolderContent,i=e.className,o=e.withoutExtension,c=Object(d.useClient)(),l=h.b.splitFilename(n),f=l.filename,y=l.extension,v=o?f:n.name,g=Object(p.a)();return s.a.createElement(b.a,{className:i,name:v,file:n,onSubmit:function(){var e=u()(a.a.mark((function e(i){var u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=o?i+y:i,e.prev=1,!g){e.next=6;break}m.a.error("alert.offline"),e.next=9;break;case 6:return e.next=8,w(c,n,u);case 8:r&&r();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0.message.includes("NetworkError when attempting to fetch resource.")?m.a.error("upload.alert.network"):e.t0.message.includes("Invalid filename containing illegal character(s):")?m.a.error("alert.file_name_illegal_characters",{fileName:u,characters:e.t0.message.split("Invalid filename containing illegal character(s): ")[1]},{duration:2e3}):e.t0.message.includes("Invalid filename:")?m.a.error("alert.file_name_illegal_name",{fileName:u}):e.t0.message.includes("Missing name argument")?m.a.error("alert.file_name_missing"):m.a.error("alert.file_name",{fileName:u});case 14:return e.prev=14,t(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}(),onAbort:t})};t.b=Object(f.connect)(null,(function(e){return{onAbort:function(){return e(Object(y.a)())}}}))(O)},E3qw:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("buk/"),o=n("qVrW"),c=n("y6ex"),u=n("/NT0"),l=n("Vg22"),s=n("7oMs"),f=function(){return{}},d=function(e){return{showSelectionBar:function(){return e(Object(s.f)())}}},m=function(e){return Object(l.connect)(f,d)(e)};t.a=m(Object(i.translate)()((function(e){var t=e.t,n=e.showSelectionBar;return a.a.createElement(o.a,{left:a.a.createElement(c.a,{icon:u.a}),onClick:n},t("toolbar.menu_select"))})))},EGzn:function(e,t,n){e.exports={"file-opener":"file-opener--1sIzy","file-opener__a":"file-opener__a--ZWfuw"}},EM1p:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n("J4zp"),a=n.n(r),i=n("q1tI"),o=n.n(i),c=o.a.createContext(),u=function(e){var t=e.children,n=Object(i.useState)(!1),r=a()(n,2),u=r[0],l=r[1],s=Object(i.useCallback)((function(){return l(!u)}),[u,l]);return o.a.createElement(c.Provider,{value:{isBigThumbnail:u,toggleThumbnailSize:s}},t)}},FKqX:function(e){e.exports=JSON.parse('{"promoteDesktop":{"isActivated":true}}')},Fczp:function(e,t,n){"use strict";var r=n("4BeY"),a=n.n(r),i=n("IaFt"),o=n.n(i),c=new a.a({id:"icon-list-min_b90fb9f20d1fd4118bc6735785b3db57",use:"icon-list-min_b90fb9f20d1fd4118bc6735785b3db57-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-list-min_b90fb9f20d1fd4118bc6735785b3db57">\n    <path fill-rule="evenodd" d="M2 13v2H0v-2h2zm14 0v2H4v-2h12zM2 9v2H0V9h2zm14 0v2H4V9h12zM2 5v2H0V5h2zm14 0v2H4V5h12zM2 1v2H0V1h2zm14 0v2H4V1h12z" />\n</symbol>'});o.a.add(c);t.a=c},"G0/2":function(e,t,n){var r={"./en.json":"6wRk","./fr.json":"wNxD"};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id="G0/2"},GpAf:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("Vg22"),o=n("Yo2A"),c=n("DA+R"),u=function(e){return{share:function(t){return e(Object(o.d)(a.a.createElement(c.a,{document:t,documentType:"Files",sharingDesc:t.name})))}}};t.a=function(e){return Object(i.connect)(null,u)(e)}},H57K:function(e,t,n){"use strict";n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return b})),n.d(t,"g",(function(){return v})),n.d(t,"f",(function(){return g})),n.d(t,"a",(function(){return w})),n.d(t,"d",(function(){return O})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return j})),n.d(t,"e",(function(){return k}));var r=n("o0o1"),a=n.n(r),i=n("yXPU"),o=n.n(i),c=n("mwIZ"),u=n.n(c),l=n("mgfL"),s=n.n(l),f=n("z6Q1"),d=n("T//5"),m=n("SH7X"),p=m.models.file.isEncrypted,h=function(e){return b(e)||v(e)},b=function(e){return!!y(e)},y=function(e){return u()(e,"referenced_by",[]).find((function(e){return e.type===f.d}))},v=function(e){return p(e)},g=function(){var e=o()(a.a.mark((function e(t,n){var r,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s()("drive.enable-encryption")){e.next=2;break}return e.abrupt("return",null);case 2:return r="".concat(f.c,"/").concat(n),i=Object(d.d)(r),e.next=6,t.query(i.definition,{options:i.options});case 6:return o=e.sent,e.abrupt("return",o&&o.data?o.data.key:null);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=o()(a.a.mark((function e(t,n,r){var i,o,c,u,l,s,d,m,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.name,o=r.dirID,e.next=3,t.create(f.c,{name:i,dirId:o,type:"directory"});case 3:return c=e.sent,u=c.data,l="".concat(f.c,"/").concat(u._id),e.next=8,n.generateEncryptionKey();case 8:return s=e.sent,e.next=11,t.create(f.d,{_id:l,key:s.encryptedKey.encryptedString});case 11:return d=e.sent,m=d.data,p=t.hydrateDocument(u),e.abrupt("return",p.encryption.addById(m._id));case 15:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),O=function(){var e=o()(a.a.mark((function e(t,n,r){var i,o,c,u,l,s,d,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.file,o=r.encryptionKey,c=r.fileOptions,u=c.name,l=c.dirID,s=c.onUploadProgress,e.next=4,n.encryptFile(i,o);case 4:return d=e.sent,e.next=7,t.collection(f.c).createFile(d,{name:u,dirId:l,onUploadProgress:s,encrypted:!0});case 7:return m=e.sent,e.abrupt("return",m.data);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),x=function(){var e=o()(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collection(f.c).fetchFileContentById(n);case 2:return r=e.sent,e.abrupt("return",r.arrayBuffer());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=o()(a.a.mark((function e(t,n,r){var i,o,c,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.file,o=r.encryptionKey,e.next=3,x(t,i._id);case 3:return c=e.sent,e.next=6,n.decryptFile(c,o);case 6:return u=e.sent,e.abrupt("return",new Blob([u],{type:i.type}));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),j=function(){var e=o()(a.a.mark((function e(t,n,r){var i,o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.file,o=r.encryptionKey,e.next=3,k(t,n,{file:i,encryptionKey:o});case 3:return c=e.sent,e.abrupt("return",t.collection(f.c).forceFileDownload(c,i.name));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),k=function(){var e=o()(a.a.mark((function e(t,n,r){var i,o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.file,o=r.encryptionKey,e.next=3,E(t,n,{file:i,encryptionKey:o});case 3:return c=e.sent,e.abrupt("return",URL.createObjectURL(c));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},HK68:function(e,t,n){"use strict";var r=n("fvjX"),a=n("mgfL"),i=n.n(a),o=n("1mXj"),c=(n("5yeP"),n("sINF")),u=n("lSNA"),l=n.n(u),s=n("yEaX"),f=n("7oMs"),d=n("37ak"),m=n("JZSQ"),p=n("2U19"),h=n("iTW1"),b=n("Yo2A"),y=n("cSBT"),v=n("NMd3"),g=n("QDdI");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){var t={ui:b.b,view:s.b,filelist:d.a,upload:p.c,selection:f.a,rename:m.b,availableOffline:h.a},n=(Object(r.combineReducers)({authorization:g.b,settings:y.a,mediaBackup:v.c}),O(O({},t),{},{cozy:e.reducer()}));var a=Object(r.combineReducers)(n);return function(e,t){return t.type===g.a&&(e=void 0),a(e,t)}},E=(n("qxHO"),function(){return{level:{prevState:!1,nextState:!1}}});t.a=function(e){var t=e.client,n=e.t,a=e.initialState,u=void 0===a?{}:a,l=[c.default.withExtraArgument({client:t,t:n})];i()("drive.logger")&&l.push(Object(o.createLogger)(E()));var s=r.compose,f=x(t),d=Object(r.createStore)(f,u,s(r.applyMiddleware.apply(void 0,l)));return t.setStore(d),d}},I9wM:function(e,t){e.exports=cozy},IFEr:function(e,t,n){"use strict";n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return b}));var r=n("o0o1"),a=n.n(r),i=n("yXPU"),o=n.n(i),c=n("mwIZ"),u=n.n(c),l=n("SH7X"),s=n.n(l),f=function(){return window.navigator&&-1===window.navigator.appVersion.indexOf("Win")&&-1===window.navigator.appVersion.indexOf("Mac")},d=function(){return window.navigator.userAgent&&window.navigator.userAgent.indexOf("Android")>=0},m=function(){return window.navigator.userAgent&&/iPad|iPhone|iPod/.test(window.navigator.userAgent)},p="desktop_banner",h="noviewer_desktop_cta",b=function(){var e=o()(a.a.mark((function e(t){var n,r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={definition:Object(l.Q)("io.cozy.settings").getById("clients"),options:{as:"io.cozy.settings/clients",fetchPolicy:s.a.fetchPolicies.olderThan(3e4),singleDocData:!0}},e.next=3,t.fetchQueryAndGetFromState(n);case 3:return r=e.sent,i=r.data,e.abrupt("return",Object.values(i).some((function(e){return"github.com/cozy-labs/cozy-desktop"===u()(e,"attributes.software_id")})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},IFYe:function(e,t,n){"use strict";var r=n("9jFK");n("ZsPO");t.a=r},J3YJ:function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),i=n("q1tI"),o=n.n(i),c=n("TSYQ"),u=n.n(c),l=n("XxWZ"),s=n.n(l);t.a=function(e){var t,n=e.children,r=e.hideOnMobile,i=void 0===r||r;return o.a.createElement("div",{className:u()(s.a["fil-topbar"],(t={},a()(t,s.a.mobile,!1),a()(t,s.a["hidden-mobile"],i),t))},n)}},JZSQ:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return b}));var r=n("o0o1"),a=n.n(r),i=n("yXPU"),o=n.n(i),c=n("lSNA"),u=n.n(c);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={file:null,name:null};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_RENAMING":return s(s({},e),{},{file:t.file,name:t.file.name});case"ABORT_RENAMING":return f;default:return e}};var d=function(e){return e.rename!==f},m=function(e){return e.rename.file},p=function(e){return{type:"START_RENAMING",file:e}},h=function(){return{type:"ABORT_RENAMING"}},b=function(e){return function(){var t=o()(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(p(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},K65c:function(e,t,n){"use strict";n.r(t);n("/8/d"),n("8IyR"),n("bZMm");var r=n("q1tI"),a=n.n(r),i=n("i8i4"),o=n("SOjZ"),c=n("mgfL"),u=n.n(c),l=n("V4z/"),s=n("lwsE"),f=n.n(s),d=n("W8MJ"),m=n.n(d),p=n("PJYZ"),h=n.n(p),b=n("7W2i"),y=n.n(b),v=n("a1gu"),g=n.n(v),w=n("Nsbk"),O=n.n(w),x=n("lSNA"),E=n.n(x),j=n("buk/"),k=n("67rm"),C=n("SH7X"),_=n.n(C),S=n("vX5W"),z=n("Vg22"),I=n("KXWi"),F=n("m0K1"),P=n("c8ah"),D=n("qxHO"),T=n("cSBT"),N=Object(z.connect)((function(e){return{offline:Object(T.d)(e)}}),(function(e){return{setOffline:function(t){return e(Object(T.g)(t.target.checked))}}}))((function(e){var t=e.offline,n=e.setOffline;return a.a.createElement("div",null,a.a.createElement(P.a,{variant:"h4",gutterBottom:!0},"Sentry"),a.a.createElement(I.a,{onClick:function(){return Object(D.b)("a debug exception")},label:"send exception"}),a.a.createElement(I.a,{onClick:function(){return Object(D.c)("a debug message")},label:"send message"}),a.a.createElement(P.a,{variant:"h4",className:"u-mt-1",gutterBottom:!0},"Offline"),a.a.createElement(F.a,{label:"Offline",value:t,onChange:n,checked:t}),a.a.createElement(P.a,{variant:"h4",className:"u-mt-1",gutterBottom:!0,onClick:function(){var e=JSON.parse(window.localStorage.getItem("cozy-client-pouch-link-synced"));alert(e)}},"Doctypes Persists (aka synchroniss au moins une fois)"),a.a.createElement(P.a,{variant:"h4",className:"u-mt-1",gutterBottom:!0,onClick:function(){var e=window.localStorage.getItem("cozy-client-pouch-link-warmupedqueries");alert(e)}},"Queries de prchauffe (si listes, dj excutes)"),a.a.createElement("hr",null))})),R=n("17x9"),M=n.n(R),A=n("yTXx"),L=n("Vmsy"),B=n("rH+U"),q=n.n(B),U=function(e){var t=e.title,n=e.elements;return a.a.createElement("div",{className:q.a.settings__category},a.a.createElement("h3",{className:q.a["settings__category-title"]},t),n.map((function(e,t){return!1===e.display?"":a.a.createElement("div",{key:t},e.title&&a.a.createElement("h4",{className:q.a["settings__subcategory-title"]},e.title),e.description&&a.a.createElement("p",{className:q.a.settings__subcategory__label},e.description),"ELEMENT_TEXT"===e.type&&a.a.createElement("div",{className:q.a.settings__subcategory},a.a.createElement("p",{className:q.a.settings__subcategory__label},e.label),a.a.createElement("p",{className:q.a.settings__subcategory__item,onClick:e.onClick},e.value)),"ELEMENT_CHECKBOX"===e.type&&a.a.createElement("div",{className:q.a.settings__subcategory},a.a.createElement("label",{htmlFor:e.id,className:q.a.settings__subcategory__label},e.label),a.a.createElement("label",{htmlFor:e.id,className:q.a.settings__subcategory__item},a.a.createElement(L.a,{id:e.id,checked:e.checked,onToggle:e.onChange}))),"ELEMENT_BUTTON"===e.type&&a.a.createElement(I.a,{busy:e.busy,theme:e.theme,onClick:e.onClick,className:q.a.settings__button,label:e.text}))})))};function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var V=function(e){y()(n,e);var t=Q(n);function n(){return f()(this,n),t.apply(this,arguments)}return m()(n,[{key:"componentDidMount",value:function(){this.gesturesHandler=new A.a.Manager(this.versionNumber),this.gesturesHandler.add(new A.a.Tap({event:"singletap"})),this.gesturesHandler.on("singletap",this.props.onTap)}},{key:"componentWillUnmount",value:function(){this.gesturesHandler&&this.gesturesHandler.destroy()}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,r=t.version,i=t.serverUrl;return a.a.createElement(U,{title:n("mobile.settings.about.title"),elements:[{type:"ELEMENT_TEXT",label:n("mobile.settings.about.account"),value:a.a.createElement("a",{href:i},i)},{type:"ELEMENT_TEXT",label:n("mobile.settings.about.app_version"),value:a.a.createElement("span",{ref:function(t){e.versionNumber=t}},r)}]})}}]),n}(r.Component);E()(V,"contextTypes",{t:M.a.func.isRequired}),V.propTypes={t:M.a.func.isRequired,version:M.a.string.isRequired,serverUrl:M.a.string.isRequired};var W=Object(z.connect)((function(e){return{version:window.navigator.appInfo?window.navigator.appInfo.version:"dev",serverUrl:Object(T.b)(e)}}))(Object(j.translate)()(V)),H=n("o0o1"),X=n.n(H),K=n("yXPU"),G=n.n(K),Y=n("nfx8"),J=Object(z.connect)((function(e){return{serverUrl:Object(T.b)(e)}}))(Object(j.translate)()((function(e){var t,n=e.t,r=e.isDebug,i=e.serverUrl,o=e.sendFeedback;return a.a.createElement(U,{title:n("mobile.settings.support.title"),elements:[{type:"ELEMENT_CHECKBOX",title:n("mobile.settings.support.analytics.title"),label:n("mobile.settings.support.analytics.label"),id:"analytics_checkbox"},{type:"ELEMENT_BUTTON",display:r,title:n("mobile.settings.support.logs.title"),description:n("mobile.settings.support.logs.description"),text:n("mobile.settings.support.logs.button"),theme:"regular",onClick:(t=G()(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(Y.a)()){e.next=12;break}return e.prev=1,e.next=4,Object(D.c)(n("mobile.settings.support.logs.title"),i);case 4:k.a.info("mobile.settings.support.logs.success"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),k.a.error("mobile.settings.support.logs.error");case 10:e.next=13;break;case 12:k.a.error("alert.offline");case 13:case"end":return e.stop()}}),e,null,[[1,7]])}))),function(){return t.apply(this,arguments)})},{type:"ELEMENT_BUTTON",title:n("mobile.settings.support.feedback.title"),description:n("mobile.settings.support.feedback.description"),text:n("mobile.settings.support.feedback.button"),theme:"regular",onClick:function(){o()}}]})}))),Z=n("NMd3"),$=Object(z.connect)((function(e){return{backupImages:Object(T.c)(e),wifiOnly:Object(T.e)(e),mediaUploading:e.mobile.mediaBackup.uploading}}),(function(e){return{setBackupImages:function(t){!1===t?(e(Object(Z.b)()),e(Object(Z.a)(!1,!0))):e(Object(Z.a)(t))},setWifiOnly:(t=G()(X.a.mark((function t(n){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Object(T.h)(n));case 2:e(Object(Z.a)());case 3:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)}),toggleBackup:function(t){e(t?Object(Z.d)(!0):Object(Z.b)())}};var t}))(Object(j.translate)()((function(e){var t=e.t,n=e.backupImages,r=e.setBackupImages,i=e.wifiOnly,o=e.setWifiOnly,c=e.toggleBackup,u=e.mediaUploading;return a.a.createElement(U,{title:t("mobile.settings.media_backup.title"),elements:[{type:"ELEMENT_CHECKBOX",title:t("mobile.settings.media_backup.images.title"),label:t("mobile.settings.media_backup.images.label"),id:"backup_images_checkbox",checked:n,onChange:r},{type:"ELEMENT_CHECKBOX",title:t("mobile.settings.media_backup.wifi.title"),label:t("mobile.settings.media_backup.wifi.label"),id:"backup_only_wifi_checkbox",checked:i,onChange:o},{type:"ELEMENT_BUTTON",text:a.a.createElement("span",null,!u&&t("mobile.settings.media_backup.launch"),u&&t("mobile.settings.media_backup.stop")),busy:u,theme:"regular",onClick:function(){return c(!u)}}]})}))),ee=n("QDdI"),te=function(e){var t=e.unlink,n=e.clientSettings,r=Object(j.useI18n)().t,i=Object(C.useClient)(),o=Object(l.n)();return a.a.createElement("div",null,a.a.createElement(U,{title:r("mobile.settings.unlink.title"),elements:[{type:"ELEMENT_BUTTON",description:r("mobile.settings.unlink.description"),text:r("mobile.settings.unlink.button"),theme:"danger-outline",onClick:function(){return t(i,n,o)}}]}))};te.propTypes={unlink:M.a.func,clientSettings:M.a.object};var ne=Object(z.connect)((function(e){return{clientSettings:Object(ee.c)(e)}}),(function(e){return{unlink:function(t,n,r){e(Object(ee.d)(t,n)),r("/onboarding",{replace:!0})}}}))(te),re=n("BJ98"),ae=n.n(re),ie=n("e5eR"),oe=n("unzg");function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var ue=function(e){y()(n,e);var t=ce(n);function n(){var e;f()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(h()(e),"state",{sending:!1}),E()(h()(e),"submitForm",function(){var t=G()(X.a.mark((function t(n){var r,a,i,o,c,u,l;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=e.props,a=r.t,i=r.client,o="Cozy Drive Mobile v".concat(oe.a.version)+"\nOn ".concat(navigator.platform)+"\nFrom ".concat(navigator.vendor)+"\n".concat(navigator.userAgent),c=e.textarea.value.toString()+"\n_______________\n"+o,u={mode:"from",to:[{name:"Support",email:"contact@cozycloud.cc"}],subject:a("mobile.rating.email.subject"),parts:[{type:"text/plain",body:c}]},t.prev=5,e.setState({sending:!0}),Object(D.c)("feedback logs: ".concat(e.textarea.value.toString().substr(0,40)),i.stackClient.uri),l=i.collection("io.cozy.jobs"),t.next=11,l.create("sendmail",u);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),console.error(t.t0);case 16:e.clearInput(),e.setState({sending:!1}),e.props.onClose(!0);case 19:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e){return t.apply(this,arguments)}}()),e}return m()(n,[{key:"registerElement",value:function(e){this.textarea=e}},{key:"clearInput",value:function(){this.textarea.value=""}},{key:"render",value:function(){var e=this,t=this.props,n=t.onClose,r=t.t,i=this.state.sending;return a.a.createElement(ie.a,{open:!0,onClose:function(){e.clearInput(),n(!1)},title:r("mobile.rating.feedback.title"),content:a.a.createElement("form",{className:"".concat(q.a["feedback-form"]," u-mt-0"),onSubmit:this.submitForm},a.a.createElement("textarea",{className:"".concat(q.a["feedback-text"]," u-bxz u-p-1 u-mb-1 u-w-100"),placeholder:r("mobile.rating.email.placeholder"),ref:this.registerElement.bind(this)}),a.a.createElement("div",{className:"u-flex"},a.a.createElement(I.a,{theme:"secondary",extension:"full",className:"u-mr-half",onClick:function(t){t.preventDefault(),e.clearInput(),n(!1)},label:r("mobile.rating.feedback.no")}),a.a.createElement(I.a,{busy:i,extension:"full",className:"u-ml-half",label:r("mobile.rating.feedback.yes")})))})}}]),n}(r.Component);ue.propTypes={onClose:M.a.func.isRequired};var le=ae()(C.withClient,Object(j.translate)())(ue);function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var fe=function(e){y()(n,e);var t=se(n);function n(){return f()(this,n),t.apply(this,arguments)}return m()(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){return null}}]),n}(a.a.Component),de=n("xyDR");function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var be=function(e){y()(n,e);var t=he(n);function n(){var e;f()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(h()(e),"state",{tapCount:0,displayFeedback:!1}),E()(h()(e),"incrementTapCount",(function(){e.setState((function(e){return{tapCount:e.tapCount+1}}))})),E()(h()(e),"displayFeedbackForm",(function(){e.setState((function(e){return pe(pe({},e),{},{displayFeedback:!0})}))})),E()(h()(e),"hideFeedbackForm",(function(t){e.setState((function(e){return pe(pe({},e),{},{displayFeedback:!1})})),t&&k.a.info("mobile.rating.alert.feedback")})),e}return m()(n,[{key:"render",value:function(){var e=this.props.t,t=this.state.tapCount>=3;return a.a.createElement(S.a,null,a.a.createElement(fe,null),a.a.createElement(C.RealTimeQueries,{doctype:"io.cozy.files"}),a.a.createElement(de.a,null,a.a.createElement("h2",{className:q.a.settings__title},e("mobile.settings.title"))),a.a.createElement("div",null,a.a.createElement("div",{className:q.a.settings},a.a.createElement($,null),a.a.createElement(J,{isDebug:t,sendFeedback:this.displayFeedbackForm}),a.a.createElement(W,{onTap:this.incrementTapCount}),a.a.createElement(ne,null),t&&[a.a.createElement("hr",{key:1}),a.a.createElement("h3",{key:2},"Debug Zone"),a.a.createElement(N,{key:3})]),this.state.displayFeedback&&a.a.createElement(le,{onClose:this.hideFeedbackForm})))}}]),n}(r.Component),ye=(Object(j.translate)()(be),n("B6p6"),n("jDpt")),ve=n("9VR2"),ge=n("oON/"),we=n.n(ge),Oe=function(){u()("switcher",!0),u()("debug"),u()("drive.onlyoffice.editorToolbarHeight"),u()("drive.logger"),u()("drive.enable-encryption"),u()("drive.dacc-files-size-by-slug"),u()("drive.breadcrumb.showCompleteBreadcrumbOnPublicPage"),u()("drive.thumbnails-pdf.enabled")},xe=n("J4zp"),Ee=n.n(xe),je=n("TSYQ"),ke=n.n(je),Ce=n("fSd/"),_e=function(e){var t=e.children,n=e.to,r=e.rx,i=Ee()(e.clickState,2),o=i[0],c=i[1],u=Object(l.l)(),s=o||u.pathname,f=function(e,t,n){return e?e.test(n):n.slice(1)===t}(r,n,s);return a.a.createElement("a",{style:{outline:"none"},onClick:function(){return c(n)},href:"#".concat(n),className:ke()(Ce.c.className,f?Ce.c.activeClassName:null)},t)},Se=function(e){var t=e.items,n=Object(r.useState)(null);return a.a.createElement(a.a.Fragment,null,t.map((function(e,t){return e?a.a.createElement(Ce.b,{key:t,secondary:e.secondary},a.a.createElement(_e,{to:e.to,rx:e.rx,clickState:n},e.icon?a.a.createElement(Ce.a,{icon:e.icon}):null,a.a.createElement(Ce.d,null,e.label))):null})))},ze=/\/folder(\/.*)?/,Ie=/\/recent(\/.*)?/,Fe=/\/sharings(\/.*)?/,Pe=/\/trash(\/.*)?/,De=function(){var e=Object(j.useI18n)().t,t=[{to:"/folder",icon:"folder",label:e("Nav.item_drive"),rx:ze},{to:"/recent",icon:"clock",label:e("Nav.item_recent"),rx:Ie},{to:"/sharings",icon:"share",label:e("Nav.item_sharings"),rx:Fe},{to:"/trash",icon:"trash",label:e("Nav.item_trash"),rx:Pe}];return a.a.createElement(Ce.e,null,a.a.createElement(Se,{items:t}))},Te=n("oAJy"),Ne=n.n(Te),Re=n("GnT2"),Me=n("snfs"),Ae=n("IFEr"),Le=n("FKqX");function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var Qe=function(e){y()(r,e);var t,n=Ue(r);function r(){var e;f()(this,r);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),E()(h()(e),"state",{mustShow:!1}),e}return m()(r,[{key:"UNSAFE_componentWillMount",value:(t=G()(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===Le.promoteDesktop.isActivated&&!Object(Me.isFlagshipApp)()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ne.a.getItem(Ae.a);case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0=!1;case 7:if(!e.t0){e.next=13;break}return e.next=11,Object(Ae.d)(this.props.client);case 11:!e.sent&&this.setState((function(e){return qe(qe({},e),{},{mustShow:!0})}));case 13:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){if(!0!==Le.promoteDesktop.isActivated||!this.state.mustShow||Object(Me.isFlagshipApp)())return null;var e=this.props.t;return a.a.createElement(Re.a,{label:e("Nav.btn-client"),href:e(Object(Ae.f)()?"Nav.link-client":"Nav.link-client-desktop"),className:"u-m-1 u-dn-m"})}}]),r}(r.Component),Ve=Object(j.translate)()(Object(C.withClient)(Qe)),We=n("mwIZ"),He=n.n(We),Xe=n("X+Uv"),Ke=function(e){var t=Object(r.useState)(null),n=Ee()(t,2),a=n[0],i=n[1],o=Object(r.useState)(null),c=Ee()(o,2),u=c[0],l=c[1];return Object(r.useEffect)((function(){(function(){var t=G()(X.a.mark((function t(){var n,r,a,o,c,u,s;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.getStackClient().fetchJSON("GET","/settings/instance"),r=e.getStackClient().fetchJSON("GET","/settings/context"),a=[n,r],t.next=6,Promise.all(a.map((function(e){return e.catch((function(e){return e}))})));case 6:o=t.sent,c=Ee()(o,2),u=c[0],s=c[1],u instanceof Error||i(u),s instanceof Error||l(s),t.next=16;break;case 14:t.prev=14,t.t0=t.catch(0);case 16:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(){return t.apply(this,arguments)}})()()}),[e]),{instance:a,context:u}},Ge=function(e){var t=Object(r.useState)(),n=Ee()(t,2),a=n[0],i=n[1];return Object(r.useEffect)((function(){(function(){var t=G()(X.a.mark((function t(){var n;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getStackClient().fetchJSON("GET","/settings/disk-usage");case 3:n=t.sent,i(n),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()}),[e]),a},Ye=n("ce8z"),Je=n.n(Ye),Ze=function(e,t){return"".concat(t,"/cozy/instances/").concat(e,"/premium")},$e=Object(j.translate)()(Object(C.withClient)((function(e){var t=e.t,n=e.client;if(Object(Me.isMobileApp)()||Object(Me.isFlagshipApp)())return null;var r=Ke(n),i=He()(r,"instance.data.attributes.uuid"),o=He()(r,"context.data.attributes.manager_url"),c=He()(r,"context.data.attributes.enable_premium_links"),u=Ge(n),l=He()(u,"data.attributes.quota",!1);return c&&o&&i&&l&&parseInt(l)<=5e10?a.a.createElement(Xe.a,{className:Je.a.SupportUs__wrapper,spacing:"s"},a.a.createElement(P.a,{variant:"caption",className:Je.a.SupportUs__description},t("Nav.support-us-description")),a.a.createElement(I.b,{size:"tiny",href:Ze(i,o),target:"_blank",label:t("Nav.support-us"),className:Je.a.Supportus__button,theme:"secondary"})):null}))),et=n("2U19"),tt=n("pVnL"),nt=n.n(tt),rt=n("7N6H"),at=n("y6ex"),it=n("4BeY"),ot=n.n(it),ct=n("IaFt"),ut=n.n(ct),lt=new ot.a({id:"icon-tos_15eed903c66da8b4dd143b302f80cb56",use:"icon-tos_15eed903c66da8b4dd143b302f80cb56-usage",viewBox:"0 0 70.58 66.63",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70.58 66.63" id="icon-tos_15eed903c66da8b4dd143b302f80cb56"><defs><style>#icon-tos_15eed903c66da8b4dd143b302f80cb56 .cls-1{fill:#cbf7d8}#icon-tos_15eed903c66da8b4dd143b302f80cb56 .cls-2{fill:#35ce68}#icon-tos_15eed903c66da8b4dd143b302f80cb56 .cls-3{fill:#9fe6a2}#icon-tos_15eed903c66da8b4dd143b302f80cb56 .cls-4{fill:#288afc}</style></defs><path class="cls-1" d="M41.2 9.05a15 15 0 0 0-2.69-4.68c-2-2.2-4.82-1.85-7.64-.7a30.66 30.66 0 0 0-3.63 1.75C21.9 8.23 2.75 18 2.17 18.42c-2.8 1.87-2.5 4.23-1.28 6.74.11.42 16.46 35.33 17.45 37.14 1.36 2.47 3.19 4.56 5.75 4.31s31.44-14.89 32.76-15.69C58.46 50 59 48.81 59 47.59a4.3 4.3 0 0 0-.43-2.27C57.71 43 43.69 12.93 41.2 9.05z" /><path class="cls-2" d="M51.46 8.47a14.84 14.84 0 0 0-1.83-5.07C48 .87 45.21.74 42.22 1.38a32.44 32.44 0 0 0-3.88 1.09C32.6 4.31 12 10.64 11.4 10.92c-3.09 1.36-3.19 3.73-2.4 6.42C9 17.77 19 55 19.71 57c.9 2.66 2.34 5 4.91 5.24s33.55-9.21 35-9.76c1.75-.68 2.52-1.71 2.68-2.92a4.43 4.43 0 0 0 0-2.31c-.47-2.47-9.06-34.53-10.84-38.78z" /><path class="cls-1" d="M61.21 8.6a15 15 0 0 0-.93-5.31C59.11.52 56.39-.1 53.34 0a30.7 30.7 0 0 0-4 .41c-6 .81-27.32 3.47-28 3.64-3.27.8-3.79 3.12-3.51 5.89 0 .45 3.38 38.83 3.7 40.88.43 2.78 1.43 5.37 3.93 6s34.63-3.22 36.14-3.51c1.84-.36 2.78-1.24 3.14-2.41a4.32 4.32 0 0 0 .37-2.28c0-2.46-2.88-35.52-3.9-40.02z" /><path class="cls-2" d="M32.25 24.76l.41 5-5 .41-.41-5 5-.42m.46-1.54h-.08l-6 .49a1 1 0 0 0-.92 1.08l.5 6a1 1 0 0 0 1 .92h.08l6-.49a1 1 0 0 0 .92-1.08l-.5-6a1 1 0 0 0-1-.92z" /><path class="cls-3" d="M39.93 29.64a3 3 0 0 1-.25-6l16.2-1.34a3 3 0 1 1 .49 6l-16.19 1.33zM38.94 17.68a3 3 0 0 1-.24-6l16.19-1.34a3 3 0 1 1 .49 6l-16.19 1.33z" /><path class="cls-2" d="M31.51 15.79l.16 2-5 .41-.41-5 2-.17-.12-1.49-2.49.2a1 1 0 0 0-.92 1.08l.5 6a1 1 0 0 0 1 .92h.09l6-.5a1 1 0 0 0 .91-1.08L33 15.67z" /><path class="cls-2" d="M28.89 16.92l-1.81-1.54.97-1.14.67.57 3.03-3.58 1.15.97-4.01 4.72z" /><path class="cls-4" d="M62.58 64.44c1.78 4.51 1.34-.48 1.77-3.67 1.72.7 8 3.26 4.38.41s-5.29-8.49-6.41-10.42c-.32-.53-.36-1.2-1-1.27a4.57 4.57 0 0 0-2.8.61c-.86.47-1.74 1.17-2.87.75a.55.55 0 0 0-.8.31 1.24 1.24 0 0 0-.1 1.73c2.4 3.42 6.04 7.04 7.83 11.55z" /><path class="cls-4" d="M59.53 52.89a1.23 1.23 0 0 0-.09-1.73.56.56 0 0 0-.81-.31c-1.12.42-2-.28-2.87-.75a4.52 4.52 0 0 0-2.76-.61c-.62.07-.67.74-1 1.27-1.12 1.93-2.76 7.57-6.42 10.42s2.67.29 4.38-.41c.44 3.19 0 8.18 1.78 3.67s5.41-8.13 7.79-11.55z" /><path d="M69.62 44.36a3 3 0 0 0 .42-4 2.55 2.55 0 0 0-1.42-1.13c-1.86-.4-2.4-1.8-3-3.62s-2.8-1.16-3.94-.62c-2.69 1.28-2.11-3-4.7-2.35a5.92 5.92 0 0 0-2.14 1.66c-.26.25-2-1.3-2.48-1.55-1.46-.78-2.27 2-2.5 3.07-.32 1.49-3.18.38-4.18 2.21-.87 1.59 0 3.69.52 5.56-1.31 1.9-3.15 2.27-2.67 5.48a4.22 4.22 0 0 0 1.12 2.7c.79 1.11 3-.21 3 2.26 0 2.07.87 3.28 2.45 3.53 1.18.18 3.5-2.35 4.46-1 .6.86 1 2 2.07 2.06 2.44.21 3.17-2.48 5.74-1.49 1.65.63 2.47-.17 3.23-2.06.65-1.59.29-2.36 2-2.9a2.88 2.88 0 0 0 1.76-1.74c1.41-2.66-2.36-3.98.26-6.07z" fill="#bbd9fd" /><path class="cls-4" d="M49.34 48.9a9.15 9.15 0 0 0 4 4.78c3.93 2 9.27.72 11.42-3.17s2.07-9.77-3.88-12.51c-5.07-2.34-10.75 1.32-11.81 6.58a8.38 8.38 0 0 0 .27 4.32z" /><path d="M64.07 46.84a3.21 3.21 0 0 0-.87-1.9 3.49 3.49 0 0 0-2.13-1.13 3.41 3.41 0 0 0-2.51-2.89 2.84 2.84 0 0 0-.81-.12 2.84 2.84 0 0 0-.81.12 3.4 3.4 0 0 0-2.51 2.89 3.49 3.49 0 0 0-2.13 1.13 3.21 3.21 0 0 0-.87 1.9 2.56 2.56 0 0 0 0 .73 3.75 3.75 0 0 0 .41 1.19 3.56 3.56 0 0 0 2.72 1.59 16.81 16.81 0 0 0 3.09.18h.12a16.81 16.81 0 0 0 3.09-.18 3.56 3.56 0 0 0 2.72-1.59 3.75 3.75 0 0 0 .42-1.19 2.56 2.56 0 0 0 .07-.73z" fill="#fff" /><path class="cls-4" d="M57.75 50.83h-.06a17.17 17.17 0 0 1-3.14-.19 3.51 3.51 0 0 1-3.37-3 3.15 3.15 0 0 1 0-.81 3.47 3.47 0 0 1 1-2.07 3.85 3.85 0 0 1 2.08-1.19 3.69 3.69 0 0 1 2.69-2.92 5 5 0 0 1 .86-.13h.06a4.71 4.71 0 0 1 .85.13 3.69 3.69 0 0 1 2.7 2.92 3.85 3.85 0 0 1 2.08 1.19 3.47 3.47 0 0 1 1 2.07 3.15 3.15 0 0 1 0 .81 3.51 3.51 0 0 1-3.37 3 17.17 17.17 0 0 1-3.14.19h-.06zm0-9.74a2.93 2.93 0 0 0-.73.11 3.1 3.1 0 0 0-2.3 2.65.3.3 0 0 1-.27.25 3.2 3.2 0 0 0-1.93 1 2.89 2.89 0 0 0-.8 1.72 2.1 2.1 0 0 0 0 .66 2.93 2.93 0 0 0 2.89 2.53 15.15 15.15 0 0 0 3 .18h.12a15.3 15.3 0 0 0 3-.18 2.93 2.93 0 0 0 2.89-2.53 2.1 2.1 0 0 0 0-.66 2.89 2.89 0 0 0-.8-1.72 3.2 3.2 0 0 0-1.93-1 .3.3 0 0 1-.27-.25 3.1 3.1 0 0 0-2.3-2.65 2.93 2.93 0 0 0-.57-.11zm0-.3z" /><path class="cls-4" d="M60 47c-.13-.09-.29-.29-.28-.38a.25.25 0 0 0-.12-.24.3.3 0 0 0-.29 0 .29.29 0 0 0-.15.23.76.76 0 0 0 .1.37 3.15 3.15 0 0 1-3-.06.7.7 0 0 0 .07-.39.3.3 0 0 0-.32-.25.24.24 0 0 0-.22.28c0 .17-.12.28-.3.42a.29.29 0 0 0-.11.26.27.27 0 0 0 .16.22.15.15 0 0 0 .09 0 .3.3 0 0 0 .16-.05l.15-.12a3.6 3.6 0 0 0 1.86.5 3.64 3.64 0 0 0 1.75-.44l.12.11a.3.3 0 0 0 .16 0 .24.24 0 0 0 .2-.11A.29.29 0 0 0 60 47z" /></symbol>'}),st=(ut.a.add(lt),lt);function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var dt=Object(j.translate)()((function(e){var t=e.t,n=e.newTosLink,r=e.onAccept,i=e.onRefuse,o=Object(rt.a)(t("TOS.updated.detail",{link:n}));return a.a.createElement(ie.a,{open:!0,content:a.a.createElement(a.a.Fragment,null,a.a.createElement(P.a,{align:"center",paragraph:!0},a.a.createElement(at.a,{icon:st,width:96,height:96})),a.a.createElement(P.a,{variant:"h3",align:"center",paragraph:!0},t("TOS.updated.title")),a.a.createElement(P.a,{variant:"body1",paragraph:!0},a.a.createElement("div",{dangerouslySetInnerHTML:{__html:o}}))),actionsLayout:"column",actions:a.a.createElement(a.a.Fragment,null,a.a.createElement(I.c,{subtle:!0,size:"small",className:"u-mt-1",label:t("TOS.updated.disconnect"),onClick:i}),a.a.createElement(I.c,{label:t("TOS.updated.cta"),onClick:r}))})})),mt=function(e){y()(n,e);var t=ft(n);function n(){var e;f()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(h()(e),"state",{warnings:[]}),E()(h()(e),"checkIfUserActionIsRequired",G()(X.a.mark((function t(){var n,r;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.context.client,r=e.props.navigate,t.prev=2,t.next=5,n.getStackClient().fetch("GET","/data/");case 5:0!==e.state.warnings.length&&(e.setState({warnings:[]}),r("/")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),402===t.t0.status&&e.setState({warnings:t.t0.reason});case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))),E()(h()(e),"acceptUpdatedTos",G()(X.a.mark((function t(){var n,r;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.context.client,r=e.props.navigate,t.prev=2,t.next=5,n.getClient().fetch("PUT","/settings/instance/sign_tos");case 5:e.setState({warnings:e.state.warnings.filter((function(e){return"tos-updated"!==e.code}))}),r("/"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),k.a.error("TOS.updated.error");case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))),E()(h()(e),"disconnect",G()(X.a.mark((function t(){var n,r,a,i,o;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.context.client,r=e.props,a=r.unlink,i=r.clientSettings,o=r.navigate,a(n,i),o("/onboarding");case 4:case"end":return t.stop()}}),t)})))),e}return m()(n,[{key:"componentDidMount",value:function(){0}},{key:"componentWillUnmount",value:function(){0}},{key:"render",value:function(){var e=this.state.warnings;if(0===e.length)return null;var t=e.find((function(e){return"tos-updated"===e.code}));return t?a.a.createElement(dt,{newTosLink:t.links.self,onAccept:this.acceptUpdatedTos,onRefuse:this.disconnect}):void 0}}]),n}(r.Component);E()(mt,"contextTypes",{client:M.a.object.isRequired,router:M.a.object.isRequired});Object(z.connect)((function(e){return{clientSettings:Object(ee.c)(e)}}),(function(e){return{unlink:function(t,n){return e(Object(ee.d)(t,n))}}}))((function(e){var t=e.props,n=Object(l.n)();return a.a.createElement(mt,nt()({},t,{navigate:n}))}));var pt,ht,bt=n("le8I");pt=!0===u()("switcher"),ht=new URL(window.location).searchParams,pt||null===ht.get("flags")||(pt=!0),pt&&Oe();var yt=Object(j.translate)()((function(e){var t=e.t,n=e.children;return a.a.createElement(ye.b,null,a.a.createElement(we.a,null),a.a.createElement(ve.a,{className:"u-flex-justify-between"},a.a.createElement(De,null),a.a.createElement("div",null,a.a.createElement($e,null),a.a.createElement(Ve,null))),a.a.createElement(k.a,{t:t}),a.a.createElement(et.a,null),!1,n,a.a.createElement(bt.a,null))})),vt=n("udIP"),gt=n("T6Hw"),wt=n("fvjX"),Ot=n("Bkvo"),xt=n("GLV4"),Et=n("Z7XG"),jt=n("6WMq"),kt=n("rR5K"),Ct=n("w2zn"),_t=n("1HFg"),St=n("XetN"),zt=n("NQEN"),It=n("tLSP"),Ft=n("T//5");function Pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var Dt=function(e){var t=[];return e.map((function(e){t.push({file:e,isDirectory:!1})})),t},Tt=function(e){y()(i,e);var t,n,r=Pt(i);function i(){var e;f()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),E()(h()(e),"state",{items:[],folder:{_id:Et.b}}),E()(h()(e),"callbackSuccess",(function(){var t=e.state.items,n=e.props,r=n.t,a=n.startMediaBackup;k.a.success(r("ImportToDrive.success",{smart_count:t.length})),Ne.a.removeItem("importedFiles"),a()})),E()(h()(e),"navigateTo",(function(t){e.setState({folder:t||{_id:Et.b}})})),E()(h()(e),"onClose",(function(){var t=e.props.navigate;Ne.a.removeItem("importedFiles"),t("/")})),e}return m()(i,[{key:"componentDidMount",value:(n=G()(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,this.props.stopMediaBackup)(),e.next=4,Ne.a.getItem("importedFiles");case 4:t=e.sent,this.setState({items:t||[]});case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"uploadFiles",value:(t=G()(X.a.mark((function e(){var t,n,r,a,i,o,c,u,l;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state,n=t.items,r=t.folder,a=this.props,i=a.navigate,o=a.uploadFilesFromNative,c=a.client,u=a.vaultClient,l=Dt(n),o(l,r._id,this.callbackSuccess,{client:c,vaultClient:u}),setTimeout((function(){return i("/folder/".concat(r._id))}),50);case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,n=t.items,r=t.folder,i=t.uploadInProgress,o=this.props.t,c=Object(Ft.h)(r._id),u=Object(Ft.i)(r._id);return a.a.createElement(xt.a,{open:!0,onClose:this.onClose,size:"large",classes:{paper:"u-h-100"},title:a.a.createElement(a.a.Fragment,null,a.a.createElement(jt.a,{entries:n,title:o("ImportToDrive.title",{smart_count:n.length}),subTitle:o("ImportToDrive.to")}),a.a.createElement(C.Query,{query:u.definition(),fetchPolicy:u.options.fetchPolicy,as:u.options.as,key:"breadcrumb-".concat(r._id)},(function(t){var n=t.data,r=t.fetchStatus;return a.a.createElement(It.a,{navigateTo:e.navigateTo,currentDir:n,fetchStatus:r})}))),content:a.a.createElement(C.Query,{key:"content-".concat(r._id),query:c.definition(),fetchPolicy:c.options.fetchPolicy,as:c.options.as},(function(t){var i=t.data,o=t.fetchStatus,c=t.hasMore,u=t.fetchMore;return a.a.createElement(kt.a,null,a.a.createElement(_t.a,{fetchStatus:o,hasNoData:0===i.length},a.a.createElement("div",null,a.a.createElement(Ct.a,{folder:r,files:i,targets:n,navigateTo:e.navigateTo}),a.a.createElement(St.a,{hasMore:c,fetchMore:u}))))})),actions:a.a.createElement(zt.a,{onConfirm:function(){return e.uploadFiles()},onClose:this.onClose,targets:n,currentDirId:r._id,isMoving:i,primaryTextAction:o("ImportToDrive.action"),secondaryTextAction:o("ImportToDrive.cancel")})})}}]),i}(r.Component);Tt.propTypes={t:M.a.func.isRequired,router:M.a.func.isRequired,uploadFilesFromNative:M.a.func.isRequired};Object(wt.compose)(Object(j.translate)(),C.withClient,Ot.g,Object(z.connect)(null,(function(e){return{uploadFilesFromNative:function(t,n,r,a){var i=a.client,o=a.vaultClient;return e(Object(et.h)(t,n,r,{client:i,vaultClient:o}))},stopMediaBackup:function(){return e(Object(Z.b)())},startMediaBackup:function(){return e(Object(Z.d)())}}})))((function(e){var t=e.props,n=Object(l.n)();return a.a.createElement(Tt,nt()({},t,{navigate:n}))}));var Nt=n("W4HF"),Rt=n("yEaX"),Mt=n("Lknf"),At=function(){var e=G()(X.a.mark((function e(t){var n,r,a,i,o;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.sharingId,a=t.sharingsValue,e.next=3,n.query(Object(C.Q)("io.cozy.sharings").getById(r));case 3:return i=e.sent,o=Object.assign(E()({},"".concat(i.data.id),i.data),a),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Lt=function(){var e=G()(X.a.mark((function e(t){var n,r,a,i,o,c,u,l,s,f,d,m;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.client,r=t.sharingsValue,a=t.setSharingsValue,i=t.setFileValue,o=t.navigate,c=t.sharingId){e.next=3;break}return e.abrupt("return",o("/folder",{replace:!0}));case 3:return e.prev=3,e.next=6,n.collection("io.cozy.files").findReferencedBy({_type:"io.cozy.sharings",_id:c});case 6:if(u=e.sent,l=u.included,s=l.length>=1,f=s?l[0]:null,(d=!!s&&C.models.file.isSharingShortcut(f))&&i(f),s&&!d){e.next=17;break}return e.next=15,At({client:n,sharingId:c,sharingsValue:r});case 15:m=e.sent,a(m);case 17:if(s){e.next=19;break}return e.abrupt("return",o("/folder/".concat(Et.c),{replace:!0}));case 19:return e.abrupt("return",o("/folder/".concat(f.dir_id),{replace:!0}));case 22:return e.prev=22,e.t0=e.catch(3),console.warn("fetchSharing error : ".concat(e.t0,". Redirect to /folder/").concat(Et.c)),e.abrupt("return",o("/folder/".concat(Et.c),{replace:!0}));case 26:case"end":return e.stop()}}),e,null,[[3,22]])})));return function(t){return e.apply(this,arguments)}}(),Bt=function(){var e=Object(C.useClient)(),t=Object(l.n)(),n=Object(r.useContext)(Mt.b),a=n.sharingsValue,i=n.setFileValue,o=n.setSharingsValue,c=Object(Rt.c)(window.location);return Object(r.useEffect)((function(){Lt({client:e,sharingsValue:a,setSharingsValue:o,navigate:t,sharingId:c,setFileValue:i})}),[e,c,t,o,i,a]),null},qt=n("PHaL"),Ut=n("1I/2"),Qt=n("yzbm"),Vt=n("W9Ej"),Wt=n.n(Vt),Ht=n("abL+"),Xt=n("7jrE"),Kt=n.n(Xt),Gt=Object(j.translate)()((function(e){var t=e.t,n=e.currentFolder;return a.a.createElement("div",{className:Wt.a["fil-dropzone-teaser"]},a.a.createElement("div",{className:Wt.a["fil-dropzone-teaser-claudy"]},a.a.createElement(at.a,{icon:"cloud",size:40,color:Kt.a.white})),a.a.createElement("div",{className:Wt.a["fil-dropzone-teaser-content"]},a.a.createElement("p",null,t("Files.dropzone.teaser")),a.a.createElement("span",{className:Wt.a["fil-dropzone-teaser-folder"]},n&&n.name||"Drive")))}));function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var $t=function(e){y()(n,e);var t=Zt(n);function n(){var e;f()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(h()(e),"state",{dropzoneActive:!1}),E()(h()(e),"onDragEnter",(function(t){tn(t)&&e.setState((function(e){return Jt(Jt({},e),{},{dropzoneActive:!0})}))})),E()(h()(e),"onDragLeave",(function(){return e.setState((function(e){return Jt(Jt({},e),{},{dropzoneActive:!1})}))})),E()(h()(e),"onDrop",function(){var t=G()(X.a.mark((function t(n,r,a){var i,o,c,u,l;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.props,o=i.uploadFiles,c=i.client,u=i.vaultClient,e.setState((function(e){return Jt(Jt({},e),{},{dropzoneActive:!1})})),tn(a)){t.next=4;break}return t.abrupt("return");case 4:l=en(a)?a.dataTransfer.items:n,o(l,{client:c,vaultClient:u});case 6:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()),e}return m()(n,[{key:"render",value:function(){var e=this.state.dropzoneActive,t=this.props,n=t.displayedFolder,r=t.children,i=t.disabled,o=t.role;return a.a.createElement(Qt.a,{disabled:i,role:o,className:e?Wt.a["fil-dropzone-active"]:"",disableClick:!0,style:{},onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave},e&&a.a.createElement(Gt,{currentFolder:n}),r)}}]),n}(r.Component),en=function(e){if(!e.dataTransfer)return!1;var t=e.dataTransfer;return t.items&&t.items.length&&null!=t.items[0].webkitGetAsEntry},tn=function(e){for(var t=e.dataTransfer.items,n=0;n<t.length;n+=1)if("file"!==t[n].kind)return!1;return!0},nn=Object(wt.compose)(Ht.a,C.withClient,Ot.g,Object(z.connect)(null,(function(e,t){var n=t.displayedFolder,r=t.sharingState;return{uploadFiles:function(t,a){var i=a.client,o=a.vaultClient;return e(Object(Rt.f)(t,n.id,r,(function(){return null}),{client:i,vaultClient:o}))}}})))($t),rn=n("6TdX"),an=n("9j6G"),on=n("PGBS"),cn=n("UmWK"),un=n("AJ6E"),ln=n("ufaa"),sn=n("7oMs"),fn=n("0YMz"),dn=n("Tdi7"),mn=n("d1FT"),pn=n("hO92"),hn=n("9jN0"),bn=n("GpAf"),yn=n("3cuQ"),vn=n.n(yn),gn=Object(bn.a)((function(e){var t=e.share,n=e.isDisabled,r=Object(fn.c)();return a.a.createElement(hn.a,{docId:r.id,disabled:n,onClick:function(){return t(r)},className:ke()("u-hide--mob",vn.a["share--button"])})})),wn=n("FFOw"),On=Object(bn.a)((function(e){var t=e.share,n=Object(fn.c)();return a.a.createElement(wn.a,{docId:n&&n.id,onClick:function(){return t(n)}})})),xn=n("On/j"),En=n("lEaz"),jn=n("BHCG"),kn=function(e){var t=e.navigate,n=e.pathname,i=Object(j.useI18n)().t,o=Object(r.useCallback)((function(){t("/search?returnPath=".concat(n))}),[t,n]);return a.a.createElement(En.a,{onClick:o,"aria-label":i("search.action")},a.a.createElement(at.a,{icon:jn.a}))},Cn=n("z+SL"),_n=n.n(Cn);function Sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var zn=function(e){y()(n,e);var t=Sn(n);function n(){return f()(this,n),t.apply(this,arguments)}return m()(n,[{key:"shouldComponentUpdate",value:function(e){return e.disabled!==this.props.disabled||e.selectionModeActive!==this.props.selectionModeActive||e.canUpload!==this.props.canUpload||e.canCreateFolder!==this.props.canCreateFolder||e.hasWriteAccess!==this.props.hasWriteAccess||e.isShared!==this.props.isShared||e.breakpoints.isMobile!==this.props.breakpoints.isMobile}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.selectionModeActive,r=e.canUpload,i=e.canCreateFolder,o=e.hasWriteAccess,c=e.breakpoints.isMobile,u=e.navigate,l=e.pathname,s=e.params,f=e.folderId,d=e.displayedFolder,m=t||n;return t?null:a.a.createElement("div",{"data-testid":"fil-toolbar-files",className:ke()(_n.a["fil-toolbar-files"],"u-flex-items-center"),role:"toolbar"},a.a.createElement(mn.a,{displayedFolder:d,folderId:f},a.a.createElement(On,null)),a.a.createElement(mn.a,{displayedFolder:d,folderId:f},a.a.createElement(gn,{isDisabled:m})),o&&a.a.createElement(xn.b,{canCreateFolder:i,canUpload:r,disabled:m,navigate:u,params:s,displayedFolder:d},a.a.createElement(dn.a,null)),a.a.createElement(de.c,{store:this.context.store},c&&a.a.createElement(kn,{navigate:u,pathname:l}),a.a.createElement(cn.a,{doctype:"io.cozy.files",documentType:"Files"},a.a.createElement(pn.b,{isDisabled:m,hasWriteAccess:o,canCreateFolder:i,canUpload:r,navigate:u,params:s,folderId:f,displayedFolder:d}))))}}]),n}(r.Component);E()(zn,"contextTypes",{store:M.a.object.isRequired}),E()(zn,"defaultProps",{canUpload:!1,canCreateFolder:!1,hasWriteAccess:!1});var In=function(e){var t=Object(fn.b)(),n=Object(l.n)(),r=Object(l.l)().pathname,i=Object(l.p)(),o=Object(fn.c)();return t?a.a.createElement(un.a,{docId:t},(function(c){var u=c.hasWriteAccess;return a.a.createElement(zn,nt()({},e,{hasWriteAccess:u,navigate:n,pathname:r,params:i,displayedFolder:o,folderId:t}))})):a.a.createElement(zn,nt()({},e,{navigate:n,pathname:r,params:i,displayedFolder:o,folderId:t}))};In.displayName="ToolbarWithSharingContext";var Fn=Object(wt.compose)(Object(z.connect)((function(e){return{selectionModeActive:Object(sn.e)(e)}}),null),Object(ln.a)())(In),Pn=n("gYZU"),Dn=n("7Zso"),Tn=function(e){var t=e.t,n=e.current,r=e.total,i=e.progress;return a.a.createElement(Pn.a,{icon:a.a.createElement(at.a,{icon:Dn.a}),text:t("mobile.settings.media_backup.media_upload",{smart_count:r-n}),value:i})};Tn.propTypes={current:M.a.number.isRequired,total:M.a.number.isRequired,progress:M.a.number,t:M.a.func.isRequired};var Nn=Tn,Rn=new ot.a({id:"icon-upload-waiting_d66663211eddc1779aa368699f04c0ab",use:"icon-upload-waiting_d66663211eddc1779aa368699f04c0ab-usage",viewBox:"0 0 32 32",content:'<symbol viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-upload-waiting_d66663211eddc1779aa368699f04c0ab">\r\n    \x3c!-- Generator: Sketch 47.1 (45422) - http://www.bohemiancoding.com/sketch --\x3e\r\n    <title>icons/32/upload-waiting</title>\r\n    <desc>Created with Sketch.</desc>\r\n    <defs>\r\n        <path d="M6,0 C2.69,0 0,2.691 0,6 C0,9.309 2.69,12 6,12 C9.309,12 12,9.309 12,6 C12,2.691 9.309,0 6,0 M7.7,7.5 L5.9,7.5 C5.4014,7.5 5,7.0968 5,6.6 L5,3.9 C5,3.4032 5.4014,3 5.9,3 C6.3977,3 6.8,3.4032 6.8,3.9 L6.8,5.7 L8.6,5.7 C9.0977,5.7 9.5,6.1032 9.5,6.6 C9.5,7.0968 9.0977,7.5 8.6,7.5" id="icon-upload-waiting_d66663211eddc1779aa368699f04c0ab_path-1" />\r\n    </defs>\r\n    <g id="icon-upload-waiting_d66663211eddc1779aa368699f04c0ab_-icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\r\n        <g id="icon-upload-waiting_d66663211eddc1779aa368699f04c0ab_icons/32/upload-waiting">\r\n            <g id="icon-upload-waiting_d66663211eddc1779aa368699f04c0ab_icon-foto-wait">\r\n                <g id="icon-upload-waiting_d66663211eddc1779aa368699f04c0ab_Fill-547-+-Fill-548-+-Fill-549" transform="translate(0.000000, 4.000000)" fill="#95999D">\r\n                    <path d="M4.29375672,6.44063508 C3.70229173,6.44063508 3.22031754,6.92260927 3.22031754,7.51407425 C3.22031754,8.10661268 3.70229173,8.58751343 4.29375672,8.58751343 C4.8852217,8.58751343 5.3671959,8.10661268 5.3671959,7.51407425 C5.3671959,6.92260927 4.8852217,6.44063508 4.29375672,6.44063508" id="icon-upload-waiting_d66663211eddc1779aa368699f04c0ab_Fill-547" />\r\n                    <path d="M15.3649998,13.9404978 C13.4871099,13.9404978 11.9594999,12.4128879 11.9594999,10.5349979 C11.9594999,8.65710803 13.4871099,7.1294981 15.3649998,7.1294981 C17.2428897,7.1294981 18.7704996,8.65710803 18.7704996,10.5349979 C18.7704996,12.4128879 17.2428897,13.9404978 15.3649998,13.9404978 M15.3649998,5.66999817 C12.6824389,5.66999817 10.5,7.85243707 10.5,10.5349979 C10.5,13.2175588 12.6824389,15.3999977 15.3649998,15.3999977 C18.0475606,15.3999977 20.2299995,13.2175588 20.2299995,10.5349979 C20.2299995,7.85243707 18.0475606,5.66999817 15.3649998,5.66999817" id="icon-upload-waiting_d66663211eddc1779aa368699f04c0ab_Fill-548" />\r\n                    <path d="M15.3600001,16.4699965 C12.0840901,16.4699965 9.42000008,13.8059064 9.42000008,10.5299964 C9.42000008,7.25408636 12.0840901,4.58999634 15.3600001,4.58999634 C18.6349202,4.58999634 21.3000002,7.25408636 21.3000002,10.5299964 C21.3000002,13.8059064 18.6349202,16.4699965 15.3600001,16.4699965 M4.29375672,9.66095261 C3.1097533,9.66095261 2.14687836,8.69915111 2.14687836,7.51407425 C2.14687836,6.33114428 3.1097533,5.3671959 4.29375672,5.3671959 C5.47776013,5.3671959 6.44063508,6.33114428 6.44063508,7.51407425 C6.44063508,8.69915111 5.47776013,9.66095261 4.29375672,9.66095261 M21.2637567,3.22031754 L20.3384521,1.36970839 L20.3051755,1.31281612 C19.7416199,0.466946043 19.0106079,0 18.248466,0 L12.8812702,0 C12.1191283,0 11.3891897,0.466946043 10.8417357,1.28812702 L9.39259282,3.22031754 L6.44063508,3.22031754 L6.44063508,2.68359795 C6.44063508,1.82592004 5.66024479,1.07343918 4.77036371,1.07343918 L3.75703713,1.07343918 C2.91546081,1.07343918 2.17693466,1.82592004 2.17693466,2.6685698 L2.16083307,3.25037383 C0.395025618,3.44251945 0,4.61042127 0,5.60657283 L0,16.757459 C0,18.3880131 0.999371876,19.3219052 2.74371054,19.3219052 L21.0188298,19.3219052 C22.7631684,19.3219052 25.7625403,16.3880131 25.7625403,14.757459 L25.7625403,5.60657283 C25.7625403,4.51810551 25.2870067,3.22031754 23.0188298,3.22031754 L21.2637567,3.22031754 Z" id="icon-upload-waiting_d66663211eddc1779aa368699f04c0ab_Fill-549" />\r\n                </g>\r\n                <g id="icon-upload-waiting_d66663211eddc1779aa368699f04c0ab_--icon" transform="translate(20.000000, 18.000000)">\r\n                    <mask id="icon-upload-waiting_d66663211eddc1779aa368699f04c0ab_mask-2" fill="white">\r\n                        <use xlink:href="#icon-upload-waiting_d66663211eddc1779aa368699f04c0ab_path-1" />\r\n                    </mask>\r\n                    <use id="icon-upload-waiting_d66663211eddc1779aa368699f04c0ab_Mask" fill="#000000" xlink:href="#icon-upload-waiting_d66663211eddc1779aa368699f04c0ab_path-1" />\r\n                    <g id="icon-upload-waiting_d66663211eddc1779aa368699f04c0ab_mixin/fill/primary" mask="url(#icon-upload-waiting_d66663211eddc1779aa368699f04c0ab_mask-2)" fill="#297EF1">\r\n                        <rect id="icon-upload-waiting_d66663211eddc1779aa368699f04c0ab_background" x="0" y="0" width="12" height="12" />\r\n                    </g>\r\n                </g>\r\n            </g>\r\n        </g>\r\n    </g>\r\n</symbol>'}),Mn=(ut.a.add(Rn),Rn),An=function(e){var t=e.t;return a.a.createElement(Pn.a,{icon:a.a.createElement(at.a,{icon:Mn}),text:t("mobile.settings.media_backup.no_wifi"),progressBar:!1})};An.propTypes={t:M.a.func.isRequired};var Ln=An,Bn=n("nH/u"),qn=new ot.a({id:"icon-upload-error_c3951f4528f5d161acb755df6dbaad3e",use:"icon-upload-error_c3951f4528f5d161acb755df6dbaad3e-usage",viewBox:"0 0 32 32",content:'<symbol viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-upload-error_c3951f4528f5d161acb755df6dbaad3e">\r\n    \x3c!-- Generator: Sketch 47.1 (45422) - http://www.bohemiancoding.com/sketch --\x3e\r\n    <title>icons/32/upload-error</title>\r\n    <desc>Created with Sketch.</desc>\r\n    <defs>\r\n        <path d="M26.9804108,24 L28.7969503,22.1834606 C29.0676832,21.9127276 29.0676832,21.4737827 28.7969503,21.2030497 C28.5262173,20.9323168 28.0872724,20.9323168 27.8165394,21.2030497 L26,23.0195892 L24.1834606,21.2030497 C23.9127276,20.9323168 23.4737827,20.9323168 23.2030497,21.2030497 C22.9323168,21.4737827 22.9323168,21.9127276 23.2030497,22.1834606 L25.0195892,24 L23.2030497,25.8165394 C22.9323168,26.0872724 22.9323168,26.5262173 23.2030497,26.7969503 C23.4737827,27.0676832 23.9127276,27.0676832 24.1834606,26.7969503 L26,24.9804108 L27.8165394,26.7969503 C28.0872724,27.0676832 28.5262173,27.0676832 28.7969503,26.7969503 C29.0676832,26.5262173 29.0676832,26.0872724 28.7969503,25.8165394 L26.9804108,24 Z M26,18 C29.309,18 32,20.691 32,24 C32,27.309 29.309,30 26,30 C22.69,30 20,27.309 20,24 C20,20.691 22.69,18 26,18 Z" id="icon-upload-error_c3951f4528f5d161acb755df6dbaad3e_path-1" />\r\n    </defs>\r\n    <g id="icon-upload-error_c3951f4528f5d161acb755df6dbaad3e_-icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\r\n        <g id="icon-upload-error_c3951f4528f5d161acb755df6dbaad3e_icons/32/upload-error">\r\n            <g id="icon-upload-error_c3951f4528f5d161acb755df6dbaad3e_icon-foto-error">\r\n                <path d="M4.29375672,10.4406351 C3.70229173,10.4406351 3.22031754,10.9226093 3.22031754,11.5140743 C3.22031754,12.1066127 3.70229173,12.5875134 4.29375672,12.5875134 C4.8852217,12.5875134 5.3671959,12.1066127 5.3671959,11.5140743 C5.3671959,10.9226093 4.8852217,10.4406351 4.29375672,10.4406351" id="icon-upload-error_c3951f4528f5d161acb755df6dbaad3e_Fill-547" fill="#95999D" />\r\n                <path d="M15.3649998,17.9404978 C13.4871099,17.9404978 11.9594999,16.4128879 11.9594999,14.5349979 C11.9594999,12.657108 13.4871099,11.1294981 15.3649998,11.1294981 C17.2428897,11.1294981 18.7704996,12.657108 18.7704996,14.5349979 C18.7704996,16.4128879 17.2428897,17.9404978 15.3649998,17.9404978 M15.3649998,9.66999817 C12.6824389,9.66999817 10.5,11.8524371 10.5,14.5349979 C10.5,17.2175588 12.6824389,19.3999977 15.3649998,19.3999977 C18.0475606,19.3999977 20.2299995,17.2175588 20.2299995,14.5349979 C20.2299995,11.8524371 18.0475606,9.66999817 15.3649998,9.66999817" id="icon-upload-error_c3951f4528f5d161acb755df6dbaad3e_Fill-548" fill="#95999D" />\r\n                <path d="M15.3600001,20.4699965 C12.0840901,20.4699965 9.42000008,17.8059064 9.42000008,14.5299964 C9.42000008,11.2540864 12.0840901,8.58999634 15.3600001,8.58999634 C18.6349202,8.58999634 21.3000002,11.2540864 21.3000002,14.5299964 C21.3000002,17.8059064 18.6349202,20.4699965 15.3600001,20.4699965 M4.29375672,13.6609526 C3.1097533,13.6609526 2.14687836,12.6991511 2.14687836,11.5140743 C2.14687836,10.3311443 3.1097533,9.3671959 4.29375672,9.3671959 C5.47776013,9.3671959 6.44063508,10.3311443 6.44063508,11.5140743 C6.44063508,12.6991511 5.47776013,13.6609526 4.29375672,13.6609526 M21.2637567,7.22031754 L20.3384521,5.36970839 L20.3051755,5.31281612 C19.7416199,4.46694604 19.0106079,4 18.248466,4 L12.8812702,4 C12.1191283,4 11.3891897,4.46694604 10.8417357,5.28812702 L9.39259282,7.22031754 L6.44063508,7.22031754 L6.44063508,6.68359795 C6.44063508,5.82592004 5.66024479,5.07343918 4.77036371,5.07343918 L3.75703713,5.07343918 C2.91546081,5.07343918 2.17693466,5.82592004 2.17693466,6.6685698 L2.16083307,7.25037383 C0.395025618,7.44251945 0,8.61042127 0,9.60657283 L0,20.757459 C0,22.3880131 0.999371876,23.3219052 2.74371054,23.3219052 L21.0188298,23.3219052 C21.0188298,22.5 22.5,20 25.7625403,19.757459 L25.7625403,9.60657283 C25.7625403,8.51810551 25.2870067,7.22031754 23.0188298,7.22031754 L21.2637567,7.22031754 Z" id="icon-upload-error_c3951f4528f5d161acb755df6dbaad3e_Fill-549" fill="#95999D" />\r\n                <mask id="icon-upload-error_c3951f4528f5d161acb755df6dbaad3e_mask-2" fill="white">\r\n                    <use xlink:href="#icon-upload-error_c3951f4528f5d161acb755df6dbaad3e_path-1" />\r\n                </mask>\r\n                <use id="icon-upload-error_c3951f4528f5d161acb755df6dbaad3e_Mask" fill="#197BFF" xlink:href="#icon-upload-error_c3951f4528f5d161acb755df6dbaad3e_path-1" />\r\n                <g id="icon-upload-error_c3951f4528f5d161acb755df6dbaad3e_mixin/fill/danger" mask="url(#icon-upload-error_c3951f4528f5d161acb755df6dbaad3e_mask-2)" fill="#F52D2D">\r\n                    <g transform="translate(20.000000, 18.000000)" id="icon-upload-error_c3951f4528f5d161acb755df6dbaad3e_background">\r\n                        <rect x="0" y="0" width="12" height="12" />\r\n                    </g>\r\n                </g>\r\n            </g>\r\n        </g>\r\n    </g>\r\n</symbol>'}),Un=(ut.a.add(qn),qn),Qn=function(e){var t=e.t,n=e.url;return a.a.createElement(Pn.a,{icon:a.a.createElement(at.a,{icon:Un}),text:t("mobile.settings.media_backup.quota"),button:a.a.createElement(I.c,{theme:"text",icon:Bn.a,label:t("mobile.settings.media_backup.quota_contact"),onClick:function(){return window.open(n,"_system")}}),progressBar:!1})};Qn.propTypes={t:M.a.func.isRequired,url:M.a.string.isRequired};var Vn=Qn,Wn=new ot.a({id:"icon-upload-OK_1931790616dc155a22aa8144c084cc70",use:"icon-upload-OK_1931790616dc155a22aa8144c084cc70-usage",viewBox:"0 0 32 32",content:'<symbol viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-upload-OK_1931790616dc155a22aa8144c084cc70">\r\n    \x3c!-- Generator: Sketch 47.1 (45422) - http://www.bohemiancoding.com/sketch --\x3e\r\n    <title>icons/32/upload-OK</title>\r\n    <desc>Created with Sketch.</desc>\r\n    <defs>\r\n        <path d="M26,18 C29.309,18 32,20.691 32,24 C32,27.309 29.309,30 26,30 C22.69,30 20,27.309 20,24 C20,20.691 22.69,18 26,18 Z M23.1421339,24.1215689 C22.880855,23.8603403 22.4572381,23.8603403 22.1959592,24.1215689 C21.9346803,24.3827976 21.9346803,24.8063329 22.1959592,25.0675615 L24.2030989,27.0743149 C24.4643778,27.3355435 24.8879946,27.3355435 25.1492736,27.0743149 L29.8040408,22.6419141 C30.0653197,22.3806854 30.0653197,21.9571501 29.8040408,21.6959215 C29.5427619,21.4346928 29.119145,21.4346928 28.8578661,21.6959215 L24.6761862,25.655326 L23.1421339,24.1215689 Z" id="icon-upload-OK_1931790616dc155a22aa8144c084cc70_path-1" />\r\n    </defs>\r\n    <g id="icon-upload-OK_1931790616dc155a22aa8144c084cc70_-icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\r\n        <g id="icon-upload-OK_1931790616dc155a22aa8144c084cc70_icons/32/upload-OK">\r\n            <g id="icon-upload-OK_1931790616dc155a22aa8144c084cc70_icon-foto-OK">\r\n                <g id="icon-upload-OK_1931790616dc155a22aa8144c084cc70_Fill-547-+-Fill-548-+-Fill-549" transform="translate(0.000000, 4.000000)" fill="#95999D">\r\n                    <path d="M4.29375672,6.44063508 C3.70229173,6.44063508 3.22031754,6.92260927 3.22031754,7.51407425 C3.22031754,8.10661268 3.70229173,8.58751343 4.29375672,8.58751343 C4.8852217,8.58751343 5.3671959,8.10661268 5.3671959,7.51407425 C5.3671959,6.92260927 4.8852217,6.44063508 4.29375672,6.44063508" id="icon-upload-OK_1931790616dc155a22aa8144c084cc70_Fill-547" />\r\n                    <path d="M15.3649998,13.9404978 C13.4871099,13.9404978 11.9594999,12.4128879 11.9594999,10.5349979 C11.9594999,8.65710803 13.4871099,7.1294981 15.3649998,7.1294981 C17.2428897,7.1294981 18.7704996,8.65710803 18.7704996,10.5349979 C18.7704996,12.4128879 17.2428897,13.9404978 15.3649998,13.9404978 M15.3649998,5.66999817 C12.6824389,5.66999817 10.5,7.85243707 10.5,10.5349979 C10.5,13.2175588 12.6824389,15.3999977 15.3649998,15.3999977 C18.0475606,15.3999977 20.2299995,13.2175588 20.2299995,10.5349979 C20.2299995,7.85243707 18.0475606,5.66999817 15.3649998,5.66999817" id="icon-upload-OK_1931790616dc155a22aa8144c084cc70_Fill-548" />\r\n                    <path d="M15.3600001,16.4699965 C12.0840901,16.4699965 9.42000008,13.8059064 9.42000008,10.5299964 C9.42000008,7.25408636 12.0840901,4.58999634 15.3600001,4.58999634 C18.6349202,4.58999634 21.3000002,7.25408636 21.3000002,10.5299964 C21.3000002,13.8059064 18.6349202,16.4699965 15.3600001,16.4699965 M4.29375672,9.66095261 C3.1097533,9.66095261 2.14687836,8.69915111 2.14687836,7.51407425 C2.14687836,6.33114428 3.1097533,5.3671959 4.29375672,5.3671959 C5.47776013,5.3671959 6.44063508,6.33114428 6.44063508,7.51407425 C6.44063508,8.69915111 5.47776013,9.66095261 4.29375672,9.66095261 M23.0188298,3.22031754 L21.2637567,3.22031754 L20.3384521,1.36970839 L20.3051755,1.31281612 C19.7416199,0.466946043 19.0106079,0 18.248466,0 L12.8812702,0 C12.1191283,0 11.3891897,0.466946043 10.8417357,1.28812702 L9.39259282,3.22031754 L6.44063508,3.22031754 L6.44063508,2.68359795 C6.44063508,1.82592004 5.66024479,1.07343918 4.77036371,1.07343918 L3.75703713,1.07343918 C2.91546081,1.07343918 2.17693466,1.82592004 2.17693466,2.6685698 L2.16083307,3.25037383 C0.395025618,3.44251945 0,4.61042127 0,5.60657283 L0,16.757459 C0,18.3880131 0.999371876,19.3219052 2.74371054,19.3219052 L23.0188298,19.3219052 C24.7631684,19.3219052 25.7625403,18.3880131 25.7625403,16.757459 L25.7625403,5.60657283 C25.7625403,4.51810551 25.2870067,3.22031754 23.0188298,3.22031754" id="icon-upload-OK_1931790616dc155a22aa8144c084cc70_Fill-549" />\r\n                </g>\r\n                <mask id="icon-upload-OK_1931790616dc155a22aa8144c084cc70_mask-2" fill="white">\r\n                    <use xlink:href="#icon-upload-OK_1931790616dc155a22aa8144c084cc70_path-1" />\r\n                </mask>\r\n                <use id="icon-upload-OK_1931790616dc155a22aa8144c084cc70_Mask" fill="#197BFF" xlink:href="#icon-upload-OK_1931790616dc155a22aa8144c084cc70_path-1" />\r\n                <g id="icon-upload-OK_1931790616dc155a22aa8144c084cc70_mixin/fill/highlight" mask="url(#icon-upload-OK_1931790616dc155a22aa8144c084cc70_mask-2)" fill="#35CE68">\r\n                    <g transform="translate(20.000000, 18.000000)" id="icon-upload-OK_1931790616dc155a22aa8144c084cc70_background">\r\n                        <rect x="0" y="0" width="12" height="12" />\r\n                    </g>\r\n                </g>\r\n            </g>\r\n        </g>\r\n    </g>\r\n</symbol>'}),Hn=(ut.a.add(Wn),Wn),Xn=function(e){var t=e.t;return a.a.createElement(Pn.a,{icon:a.a.createElement(at.a,{icon:Hn}),text:t("mobile.settings.media_backup.media_uptodate"),progressBar:!1})};Xn.propTypes={t:M.a.func.isRequired};var Kn=Xn,Gn=function(e){var t=e.t;return a.a.createElement(Pn.a,{icon:a.a.createElement(at.a,{icon:Mn}),text:t("mobile.settings.media_backup.preparing")})};Gn.propTypes={t:M.a.func.isRequired};var Yn=Gn,Jn=n("aNx5");function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var $n=function(e){var t=e.isEnabled,n=e.isPreparing,r=e.isUploading,i=e.isAborted,o=e.isQuotaReached,c=e.t,u=e.current,l=e.total,s=e.progress,f=e.serverUrl,d=f?f.replace(/(\w+)\./,"$1-settings.")+"/#/storage":"";return t?n?a.a.createElement(Yn,{t:c}):r?a.a.createElement(Nn,{t:c,current:u,total:l,progress:s}):i?a.a.createElement(Ln,{t:c}):o?a.a.createElement(Vn,{t:c,url:d}):a.a.createElement(Kn,{t:c}):null};$n.propTypes={t:M.a.func.isRequired,current:M.a.number,total:M.a.number,progress:M.a.number,isEnabled:M.a.bool,isPreparing:M.a.bool,isUploading:M.a.bool,isAborted:M.a.bool,isQuotaReached:M.a.bool,serverUrl:M.a.string};Object(z.connect)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({serverUrl:Object(T.b)(e),isEnabled:Object(T.c)(e),isPreparing:Object(Jn.l)(e),isUploading:Object(Jn.n)(e),isAborted:Object(Jn.k)(e),isQuotaReached:Object(Jn.m)(e)},Object(Jn.j)(e))}))(Object(j.translate)()($n));var er=n("iWIM"),tr=n.n(er),nr=n("gfRN");function rr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var ar=function(e,t){var n=function(e){y()(a,e);var n,r=rr(a);function a(e){var t;return f()(this,a),(t=r.call(this,e)).persistedStatePromise=null,t.setItemPromise=null,t}return m()(a,[{key:"componentWillMount",value:(n=G()(X.a.mark((function e(){var n,r=this;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.persistedStatePromise=Object(nr.cancelable)(Ne.a.getItem(t)),e.next=4,this.persistedStatePromise;case 4:n=e.sent,this.setState((function(e){return n||e}),(function(){tr()(O()(a.prototype),"componentStateRestored",r)&&tr()(O()(a.prototype),"componentStateRestored",r).call(r)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),!0!==e.t0.canceled&&console.log("error",e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return n.apply(this,arguments)})},{key:"componentWillUpdate",value:function(e,n){try{tr()(O()(a.prototype),"componentWillUpdate",this)&&tr()(O()(a.prototype),"componentWillUpdate",this).call(this,e,n),this.setItemPromise=Object(nr.cancelable)(Ne.a.setItem(t,n))}catch(r){!0!==r.canceled&&console.log("error",r)}}},{key:"componentWillUnmount",value:function(){this.setItemPromise&&this.setItemPromise.cancel(),this.persistedStatePromise.cancel()}}]),a}(e);return n.displayName="WithPersistentState(".concat(e.displayName||e.name||"Component",")"),n},ir=n("Ow0/");function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var lr=function(e){y()(n,e);var t=ur(n);function n(){var e;f()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(h()(e),"state",{screen:"SCREEN_ENJOY"}),E()(h()(e),"onUserReply",function(){var t=G()(X.a.mark((function t(n){var r,a;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=15;break}return t.prev=1,r=e.props.t,t.next=5,hr({title:r("mobile.rating.rate.title"),message:"",yes:r("mobile.rating.rate.yes"),no:r("mobile.rating.rate.no"),later:r("mobile.rating.rate.later"),appMarketID:ir.a,appStoreID:ir.b,softwareName:ir.e});case 5:2===(a=t.sent)?(k.a.info("mobile.rating.alert.later"),e.props.showLater()):1===a?(k.a.info("mobile.rating.alert.rated"),e.props.dontShowAgain()):(k.a.info("mobile.rating.alert.declined"),e.props.dontShowAgain()),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(1),e.props.dontShowAgain(),t.t0;case 13:t.next=16;break;case 15:e.setState({screen:"SCREEN_FEEDBACK"});case 16:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()),E()(h()(e),"onCloseFeedback",(function(t){t&&k.a.info("mobile.rating.alert.feedback"),e.props.dontShowAgain()})),e}return m()(n,[{key:"render",value:function(){var e=this.props.t;return"SCREEN_ENJOY"===this.state.screen?a.a.createElement(sr,{onReply:this.onUserReply,t:e}):a.a.createElement(le,{onClose:this.onCloseFeedback,t:e})}}]),n}(r.Component);lr.propTypes={dontShowAgain:M.a.func.isRequired,showLater:M.a.func.isRequired};var sr=function(e){var t=e.onReply,n=e.t;return a.a.createElement(ie.a,{open:!0,title:n("mobile.rating.enjoy.title"),actions:a.a.createElement(a.a.Fragment,null,a.a.createElement(I.c,{theme:"secondary",extension:"full",onClick:function(){return t(!1)},label:n("mobile.rating.enjoy.no")}),a.a.createElement(I.c,{extension:"full",onClick:function(){return t(!0)},label:n("mobile.rating.enjoy.yes")}))})};sr.propTypes={onReply:M.a.func.isRequired};var fr,dr,mr,pr,hr=function(){var e=G()(X.a.mark((function e(t){var n,r,a,i,o,c,u,l;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,r=t.message,a=t.yes,i=t.no,o=t.later,c=t.softwareName,u=t.appMarketID,l=t.appStoreID,e.abrupt("return",new Promise((function(e,t){window.AppRate||t(new Error("No AppRate found"));try{window.AppRate.preferences={displayAppName:c,inAppReview:!0,storeAppURL:{ios:l,android:u},customLocale:{title:n,message:r,cancelButtonLabel:i,laterButtonLabel:o,rateButtonLabel:a,yesButtonLabel:a,noButtonLabel:i},callbacks:{onButtonClicked:e}},window.AppRate.promptForRating()}catch(s){t(s)}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();ar((fr=Object(j.translate)()(lr),dr=10,mr=!1,(pr=function(e){y()(n,e);var t=ur(n);function n(){var e;f()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),E()(h()(e),"state",{bootCount:0,promptAfter:(new Date).getTime()+6048e5,prompted:!1}),E()(h()(e),"dontShowAgain",(function(){e.setState((function(e){return cr(cr({},e),{},{prompted:!0})}))})),E()(h()(e),"showLater",(function(){e.setState((function(e){return cr(cr({},e),{},{bootCount:0,prompted:!1})}))})),e}return m()(n,[{key:"componentStateRestored",value:function(){mr||(this.setState((function(e){return{bootCount:++e.bootCount}})),mr=!0)}},{key:"render",value:function(){var e=this.state,t=e.bootCount,n=e.promptAfter,r=e.prompted,i=n-(new Date).getTime();return!1===r&&t>=dr&&i<=0&&a.a.createElement(fr,nt()({dontShowAgain:this.dontShowAgain,showLater:this.showLater},this.props))}}]),n}(r.Component)).displayName="WithBootDelay(".concat(fr.displayName||fr.name||"Component",")"),pr),"DelayedRatingModal");function br(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var yr=ar(function(e){return function(t){y()(r,t);var n=br(r);function r(e){var t;return f()(this,r),t=n.call(this,e),E()(h()(t),"markAsViewed",(function(){t.setState({viewed:!0})})),t.restored=!1,t.state={viewed:!1},t}return m()(r,[{key:"componentStateRestored",value:function(){this.restored=!0,this.setState((function(e){return e}))}},{key:"render",value:function(){if(!this.restored)return null;var t=this.props.uploading,n=this.state.viewed;return t&&!n?a.a.createElement(e,nt()({},this.props,{onClose:this.markAsViewed})):null}}]),r}(r.Component)}(Object(j.translate)()((function(e){var t=e.t,n=e.onClose;return a.a.createElement(ie.a,{open:!0,onClose:n,title:t("mobile.first_sync.title"),content:a.a.createElement(a.a.Fragment,null,a.a.createElement(P.a,{variant:"h6"},t("mobile.first_sync.tips")),a.a.createElement(P.a,{variant:"body1",paragraph:!0},a.a.createElement("ul",null,a.a.createElement("li",null,t("mobile.first_sync.tip_wifi")),a.a.createElement("li",null,t("mobile.first_sync.tip_bed")),Object(Me.isIOSApp)()&&a.a.createElement("li",null,t("mobile.first_sync.tip_lock")))),a.a.createElement(P.a,{variant:"body1",paragraph:!0},t("mobile.first_sync.result"))),actions:a.a.createElement(I.c,{onClick:n,extension:"full",label:t("mobile.first_sync.button")})})}))),"OnlyOnceFirstUploadModal"),vr=(Object(z.connect)((function(e){var t=e.mobile.mediaBackup,n=t.uploading,r=void 0!==n&&n,a=t.currentUpload,i=(void 0===a?{messageData:{total:0}}:a).messageData;return{uploading:r&&i.total>=50}}))(yr),n("CSZ4")),gr=n("zUXI"),wr=n("yRR6"),Or=n("Yo2A"),xr=a.a.memo((function(e){var t=e.children;return a.a.createElement(S.a,null,a.a.createElement(C.RealTimeQueries,{doctype:"io.cozy.files"}),a.a.createElement(rn.c,null),a.a.createElement(Or.a,null),t)})),Er=n("R6Il"),jr=n("kvbT"),kr=n("0f7X"),Cr=n("msjc"),_r=n("nb+A"),Sr=["carbonCopy","electronicSafe"],zr=[],Ir=function(){var e=Object(l.n)(),t=Object(l.l)().pathname,n=Object(l.p)(),i=Object(fn.b)()||Et.b;Object(_r.a)();var o=Object(Ut.b)().isMobile,c=Object(r.useContext)(wr.a),u=c.isFabDisplayed,s=c.setIsFabDisplayed,f=Object(gr.c)({isMobile:o,desktopExtraColumnsNames:Sr,mobileExtraColumnsNames:zr}),d=Object(vr.a)({columnsNames:f,queryBuilder:Ft.f,currentFolderId:i}),m=Object(Ft.i)(i),p=Object(C.useQuery)(m.definition,m.options).data;!function(e){var t=Object(l.n)();Object(r.useEffect)((function(){e&&e.path.startsWith(Et.e)&&t("/trash/"+e.id)}),[t,e])}(p);var h=Object(Rt.g)(i),b=Ee()(h,1)[0],y=Object(Ft.c)({currentFolderId:i,type:"directory",sortAttribute:b.attribute,sortOrder:b.order}),v=Object(Ft.c)({currentFolderId:i,type:"file",sortAttribute:b.attribute,sortOrder:b.order}),g=Object(C.useQuery)(y.definition,y.options),w=Object(C.useQuery)(v.definition,v.options),O=[g,w],x=O.some((function(e){return"failed"===e.fetchStatus})),E=O.some((function(e){return"loading"===e.fetchStatus&&!e.lastUpdate})),k=O.some((function(e){return"pending"===e.fetchStatus})),_=Object(r.useCallback)((function(t){e("/folder/".concat(t))}),[e]),S=Object(r.useCallback)((function(t){e("/folder/".concat(i,"/file/").concat(t.id))}),[e,i]),I=Object(r.useContext)(qt.a).hasWriteAccess,F=Object(C.useClient)(),P=Object(Ot.e)(),D=Object(r.useContext)(rn.a),T=D.pushModal,N=D.popModal,R=Object(r.useContext)(qt.a).refresh,M=Object(z.useDispatch)(),A=I(i),L={client:F,vaultClient:P,pushModal:T,popModal:N,refresh:R,dispatch:M,navigate:e,pathname:t,hasWriteAccess:A,canMove:!0,isPublic:!1},B=Object(an.a)([on.k,on.b,on.d,on.h,on.i,on.e,on.c,on.d,on.f,on.g,on.m,on.d,on.l],L),q=Object(j.useI18n)().t,U={id:Et.b,name:q("breadcrumb.title_drive")};return Object(r.useEffect)((function(){if(A)return s(o),function(){s(!1)}}),[s,o,A]),a.a.createElement(xr,null,a.a.createElement(Er.a,null,i&&a.a.createElement(kr.a,{rootBreadcrumbPath:U,currentFolderId:i,navigateToFolder:_}),a.a.createElement(Fn,{canUpload:!0,canCreateFolder:!0,disabled:E||x||k})),!1,a.a.createElement(nn,{role:"main",disabled:!A,displayedFolder:p},a.a.createElement(jr.a,{navigateToFolder:_,navigateToFile:S,actions:B,queryResults:[g,w],canSort:!0,currentFolderId:i,displayedFolder:p,extraColumns:d}),u&&a.a.createElement(xn.b,{canCreateFolder:!0,canUpload:!0,disabled:E||x||k,navigate:e,params:n,displayedFolder:p},a.a.createElement(Cr.a,null)),a.a.createElement(l.b,null)))},Fr=n("3YpY"),Pr=n("OTOu"),Dr=n("B9Y0"),Tr=n("V2U0"),Nr=n("s0VD"),Rr=n("TBZM"),Mr=n("/dzn"),Ar=n("EhdM"),Lr=n("wKlF"),Br=n("AT0p"),qr=n("H57K"),Ur=function(){return a.a.createElement(Dr.a,null,a.a.createElement(Tr.b,{size:"xxlarge",middle:!0,noMargin:!0,color:Kt.a.white}))},Qr=function(e){window.StatusBar&&Object(Me.isIOSApp)()&&(e?(window.StatusBar.backgroundColorByHexString("#32363F"),window.StatusBar.styleLightContent()):(window.StatusBar.backgroundColorByHexString("#FFFFFF"),window.StatusBar.styleDefault()))},Vr=a.a.memo((function(e){var t=e.filesQuery,n=e.files,i=e.onClose,o=e.onChange,c=Object(Ut.b)().isDesktop,u=Object(fn.a)(),s=Object(r.useState)(null),f=Ee()(s,2),d=f[0],m=f[1],p=Object(r.useState)(null),h=Ee()(p,2),b=h[0],y=h[1],v=Object(r.useState)(!1),g=Ee()(v,2),w=g[0],O=g[1],x=Object(C.useClient)(),E=Object(j.useI18n)().t,k=Object(Ot.e)(),_=Object(l.n)(),S=Object(r.useCallback)((function(){i&&i()}),[i]),z=Object(r.useCallback)((function(e){o&&o(e.id)}),[o]),I=Object(r.useCallback)((function(){return n.findIndex((function(e){return e.id===u}))}),[n,u]),F=Object(r.useMemo)((function(){return I()}),[I]),P=Object(r.useMemo)((function(){return-1!=F}),[F]),D=Object(r.useMemo)((function(){return P?n:[d]}),[P,n,d]);Object(r.useEffect)((function(){return Qr(!0),function(){Qr(!1)}}),[]),Object(r.useEffect)((function(){var e=!0;return function(){var t=G()(X.a.mark((function t(){var n,r;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(-1===I()){t.next=2;break}return t.abrupt("return");case 2:return d&&e&&m(null),t.prev=3,t.next=6,x.query(Object(C.Q)("io.cozy.files").getById(u));case 6:n=t.sent,r=n.data,e&&m(r),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),Pr.a.warn("can't find the file"),S();case 15:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!1}}),[]),Object(r.useEffect)((function(){(function(){var e=G()(X.a.mark((function e(){var t,r,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n[F])||!Object(qr.g)(t)){e.next=9;break}return e.next=4,Object(qr.f)(x,t.dir_id);case 4:return r=e.sent,e.next=7,Object(qr.e)(x,k,{file:t,encryptionKey:r});case 7:a=e.sent,y(a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[F]),Object(r.useEffect)((function(){var e=!0;return function(){var r=G()(X.a.mark((function r(){var a,i;return X.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!w){r.next=2;break}return r.abrupt("return");case 2:if(O(!0),r.prev=3,a=t.count,i=n.findIndex((function(e){return e.id===u})),!(n.length!==a&&n.length-i<=5&&e)){r.next=9;break}return r.next=9,t.fetchMore();case 9:return r.prev=9,O(!1),r.finish(9);case 12:case"end":return r.stop()}}),r,null,[[3,,9,12]])})));return function(){return r.apply(this,arguments)}}()(),function(){e=!1}}),[w,t,n,u]);var T=Object(r.useMemo)((function(){return P?F:0}),[P,F]);return-1!==F||d?a.a.createElement(Fr.a,null,a.a.createElement(Dr.a,null,a.a.createElement(Nr.a,{files:D,currentURL:b,currentIndex:T,onChangeRequest:z,onCloseRequest:S,renderFallbackExtraContent:function(e){return a.a.createElement(Lr.a,{file:e,t:E})},componentsProps:{OnlyOfficeViewer:{isEnabled:Object(Br.c)(c),opener:function(e){return _(Object(Br.g)(e,!0))}}}},a.a.createElement(Rr.a,null,a.a.createElement(Ar.a,null),a.a.createElement(Mr.a,null))))):a.a.createElement(Ur,null)})),Wr=function(e){return"/folder/".concat(e)},Hr=function(e){var t=Object(l.n)(),n=Object(Rt.g)(),r=Ee()(n,1)[0],i=Object(fn.b)(),o=Object(Ft.c)({currentFolderId:i,type:"file",sortAttribute:r.attribute,sortOrder:r.order}),c=Object(C.useQuery)(o.definition,o.options);if(c.data){var u=c.data;return a.a.createElement(Vr,nt()({},e,{files:u,filesQuery:c,onClose:function(){return t(Wr(i))},onChange:function(e){return t("".concat(Wr(i),"/file/").concat(e))}}))}return a.a.createElement(Ur,null)},Xr=n("uty3"),Kr=n("tt8A"),Gr=["carbonCopy","electronicSafe"],Yr=[],Jr=function(){var e=Object(l.n)(),t=Object(l.l)().pathname,n=Object(j.useI18n)().t,i=Object(Ut.b)().isMobile;Object(_r.a)();var o=Object(gr.c)({isMobile:i,desktopExtraColumnsNames:Gr,mobileExtraColumnsNames:Yr}),c=Object(vr.a)({columnsNames:o,queryBuilder:Ft.l}),u=Object(Ft.k)(),s=Object(Kr.b)(u),f=Object(r.useCallback)((function(t){e("/folder/".concat(t))}),[e]),d=Object(r.useCallback)((function(t){e("/recent/file/".concat(t.id))}),[e]),m=Object(C.useClient)(),p=Object(r.useContext)(rn.a),h={client:m,pushModal:p.pushModal,popModal:p.popModal,refresh:Object(r.useContext)(qt.a).refresh,dispatch:Object(z.useDispatch)(),navigate:e,pathname:t,hasWriteAccess:!0,canMove:!0,isPublic:!1},b=Object(an.a)([on.k,on.b,on.d,on.h,on.i,on.e,on.c,on.d,on.f,on.g,on.m,on.d,on.l],h);return a.a.createElement(xr,null,a.a.createElement(Er.a,null,a.a.createElement(Xr.a,{path:[{name:n("breadcrumb.title_recent")}]}),a.a.createElement(Fn,{canUpload:!1,canCreateFolder:!1})),a.a.createElement(jr.a,{navigateToFolder:f,navigateToFile:d,actions:b,queryResults:[s],canSort:!1,withFilePath:!0,extraColumns:c}),a.a.createElement(l.b,null))},Zr=function(e){var t=Object(fn.b)(),n=Object(Rt.g)(t),r=Ee()(n,1)[0],i=Object(l.n)(),o=Object(Ft.p)({currentFolderId:t,type:"file",sortAttribute:r.attribute,sortOrder:r.order}),c=Object(C.useQuery)(o.definition,o.options);if(c.data){var u=c.data;return a.a.createElement(Vr,nt()({},e,{files:u,filesQuery:c,onClose:function(){return i("/trash/".concat(e.currentFolderId))},onChange:function(t){return i("/trash/".concat(e.currentFolderId,"/file/").concat(t))}}))}return a.a.createElement(Ur,null)},$r=n("UxX4"),ea=n("qVrW"),ta=n("46CF"),na=n("MFii"),ra=n("E3qw"),aa=n("SvPG"),ia=n("ldF/"),oa=Object(j.translate)()((function(e){var t=e.t,n=e.onConfirm,r=e.onClose;return a.a.createElement(ie.a,{open:!0,onClose:r,title:t("emptytrashconfirmation.title"),content:a.a.createElement(Xe.a,null,a.a.createElement(ia.a,{icon:"forbidden",text:t("emptytrashconfirmation.forbidden")}),a.a.createElement(ia.a,{icon:"restore",text:t("emptytrashconfirmation.restore")})),actions:a.a.createElement(a.a.Fragment,null,a.a.createElement(I.c,{theme:"secondary",onClick:r,label:t("emptytrashconfirmation.cancel")}),a.a.createElement(I.c,{theme:"danger",label:t("emptytrashconfirmation.delete"),onClick:G()(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:r();case 3:case"end":return e.stop()}}),e)})))}))})})),ca=Object(wt.compose)(Object(j.translate)(),Object(ln.a)(),Object(z.connect)((function(e){return{selectionModeActive:Object(sn.e)(e)}}),null))((function(e){var t=e.t,n=e.disabled,i=e.selectionModeActive,o=e.breakpoints.isMobile,c=Object(C.useClient)(),u=Object(l.n)(),s=Object(l.l)().pathname,f=Object(r.useState)(!1),d=Ee()(f,2),m=d[0],p=d[1],h=a.a.createRef(),b=Object(r.useCallback)((function(){return p(!0)}),[p]),y=Object(r.useCallback)((function(){return p(!1)}),[p]),v=Object(r.useContext)(rn.a),g=v.pushModal,w=v.popModal,O=Object(r.useCallback)((function(){g(a.a.createElement(oa,{onClose:w,onConfirm:function(){Object(na.c)(c)}}))}),[g,w,c]),x=a.a.createElement("div",null,a.a.createElement("div",{ref:h},a.a.createElement(aa.a,{onClick:b})),m&&a.a.createElement($r.a,{popperOptions:{placement:"bottom-end"},anchorElRef:h,onClose:y,autoclose:!0},o&&a.a.createElement(a.a.Fragment,null,a.a.createElement(ea.a,{onClick:O,left:a.a.createElement(at.a,{icon:ta.a,color:"var(--errorColor)"})},a.a.createElement("span",{className:"u-error"},t("toolbar.empty_trash"))),a.a.createElement("hr",null)),a.a.createElement(ra.a,null)));return a.a.createElement("div",{"data-testid":"empty-trash",className:_n.a["fil-toolbar-trash"],role:"toolbar"},!o&&a.a.createElement(I.c,{theme:"danger-outline",onClick:O,disabled:n||i,icon:ta.a,label:t("toolbar.empty_trash")}),a.a.createElement(de.c,null,o&&a.a.createElement(kn,{navigate:u,pathname:s}),x))}));function ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function la(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sa=["carbonCopy","electronicSafe"],fa=[],da=function(e){var t=e.currentFolderId,n=Object(Ut.b)().isMobile,i=Object(l.n)();Object(_r.a)();var o=Object(Ft.i)(t),c=Object(C.useQuery)(o.definition,la(la({},o.options),{},{enabled:!!t})).data,u=Object(gr.c)({isMobile:n,desktopExtraColumnsNames:sa,mobileExtraColumnsNames:fa}),s=Object(vr.a)({columnsNames:u,queryBuilder:Ft.f,currentFolderId:t}),f=Object(Rt.g)(t),d=Ee()(f,1)[0],m=Object(Ft.p)({currentFolderId:t,type:"directory",sortAttribute:d.attribute,sortOrder:d.order}),p=Object(Ft.p)({currentFolderId:t,type:"file",sortAttribute:d.attribute,sortOrder:d.order,limit:50}),h=Object(C.useQuery)(m.definition,m.options),b=Object(C.useQuery)(p.definition,p.options),y=Object(r.useCallback)((function(e){i("/trash/".concat(e))}),[i]),v=Object(r.useCallback)((function(e){i("/trash/".concat(t,"/file/").concat(e.id))}),[i,t]),g=Object(r.useContext)(qt.a).refresh,w=Object(C.useClient)(),O=Object(r.useContext)(rn.a),x={client:w,refresh:g,pushModal:O.pushModal,popModal:O.popModal},E=Object(an.a)([on.j,on.a],x),k=Object(j.useI18n)().t,_={id:Et.d,name:k("breadcrumb.title_trash")};return a.a.createElement(xr,null,a.a.createElement(Er.a,null,t&&a.a.createElement(kr.a,{rootBreadcrumbPath:_,currentFolderId:t,navigateToFolder:y}),a.a.createElement(ca,null)),a.a.createElement(jr.a,{currentFolderId:t,displayedFolder:c,navigateToFolder:y,navigateToFile:v,actions:E,queryResults:[h,b],canSort:!0,extraColumns:s}),a.a.createElement(l.b,null))},ma=function(){var e=Object(fn.b)();return e?a.a.createElement(da,{currentFolderId:e}):null},pa=n("aJ9m"),ha=function(e){var t=function(t){return a.a.createElement(pa.a,null,(function(n){var r=n.sharedDocuments,i=n.allLoaded;return a.a.createElement(e,nt()({},t,{sharedDocumentIds:r,allLoaded:i}))}))};return t.displayName="withSharedDocumentIds(".concat(e.displayName,")"),t},ba=n("zLPI"),ya=["carbonCopy","electronicSafe"],va=[],ga=ha((function(e){var t=e.sharedDocumentIds,n=void 0===t?[]:t,i=e.allLoaded,o=void 0===i||i,c=Object(l.n)(),u=Object(l.l)().pathname,s=Object(j.useI18n)().t,f=Object(Ut.b)().isMobile;Object(_r.a)();var d=Object(gr.c)({isMobile:f,desktopExtraColumnsNames:ya,mobileExtraColumnsNames:va}),m=Object(vr.a)({columnsNames:d,queryBuilder:Ft.o,sharedDocumentIds:n}),p=Object(r.useMemo)((function(){return Object(Ft.n)({ids:n,enabled:o})}),[n,o]),h=Object(Kr.b)(p),b=Object(r.useCallback)((function(e){c("/sharings/".concat(e))}),[c]),y=Object(r.useCallback)((function(e){c("/sharings/file/".concat(e.id))}),[c]),v=Object(C.useClient)(),g=Object(r.useContext)(rn.a),w={client:v,pushModal:g.pushModal,popModal:g.popModal,refresh:Object(r.useContext)(qt.a).refresh,dispatch:Object(z.useDispatch)(),navigate:c,pathname:u,hasWriteAccess:!0,canMove:!0,isPublic:!1},O=Object(an.a)([on.k,on.b,on.d,on.h,on.i,on.e,on.d,on.f,on.g,on.m],w);return a.a.createElement(xr,null,a.a.createElement(Er.a,null,a.a.createElement(Xr.a,{path:[{name:s("breadcrumb.title_sharings")}]}),a.a.createElement(Fn,{canUpload:!1,canCreateFolder:!1})),o&&Object(C.hasQueryBeenLoaded)(h)?a.a.createElement(a.a.Fragment,null,a.a.createElement(jr.a,{navigateToFolder:b,navigateToFile:y,actions:O,queryResults:[h],canSort:!1,withFilePath:!0,extraColumns:m}),a.a.createElement(l.b,null)):a.a.createElement(ba.a,null))})),wa=n("QILm"),Oa=n.n(wa),xa=["sharedDocumentIds"],Ea=ha((function(e){var t=e.sharedDocumentIds,n=Oa()(e,xa),r=Object(fn.b)(),i=Object(Ft.n)({ids:t}),o=Object(C.useQuery)(i.definition,i.options),c=Object(l.n)();if(o.data){var u=o.data.filter((function(e){return"directory"!==e.type})),s=r?"/sharings/".concat(r):"/sharings";return a.a.createElement(Vr,nt()({},n,{files:u,filesQuery:o,onClose:function(){return c(s)},onChange:function(e){return c("".concat(s,"/file/").concat(e))}}))}return a.a.createElement(Ur,null)})),ja=["carbonCopy","electronicSafe"],ka=[],Ca=function(e){var t=e.sharedDocumentIds,n=Object(l.n)(),i=Object(l.l)().pathname,o=Object(fn.b)(),c=Object(Ut.b)().isMobile;Object(_r.a)();var u=Object(gr.c)({isMobile:c,desktopExtraColumnsNames:ja,mobileExtraColumnsNames:ka}),s=Object(vr.a)({columnsNames:u,queryBuilder:Ft.f,currentFolderId:o}),f=Object(Rt.g)(o),d=Ee()(f,1)[0],m=Object(Ft.c)({currentFolderId:o,type:"directory",sortAttribute:d.attribute,sortOrder:d.order}),p=Object(Ft.c)({currentFolderId:o,type:"file",sortAttribute:d.attribute,sortOrder:d.order}),h=Object(C.useQuery)(m.definition,m.options),b=Object(C.useQuery)(p.definition,p.options),y=Object(r.useCallback)((function(e){n(e?"/sharings/".concat(e):"/sharings")}),[n]),v=Object(r.useCallback)((function(e){n("/sharings/".concat(o,"/file/").concat(e.id))}),[n,o]),g=Object(C.useClient)(),w=Object(r.useContext)(qt.a).hasWriteAccess,O=Object(r.useContext)(rn.a),x={client:g,pushModal:O.pushModal,popModal:O.popModal,refresh:Object(r.useContext)(qt.a).refresh,dispatch:Object(z.useDispatch)(),navigate:n,pathname:i,hasWriteAccess:w(o),canMove:!0},E=Object(an.a)([on.k,on.b,on.l,on.g,on.i,on.e,on.h,on.m,on.f],x),k={name:(0,Object(j.useI18n)().t)("breadcrumb.title_sharings")};return a.a.createElement(xr,null,a.a.createElement(Er.a,null,o&&a.a.createElement(kr.a,{sharedDocumentIds:t,rootBreadcrumbPath:k,currentFolderId:o,navigateToFolder:y}),a.a.createElement(Fn,{canUpload:w,canCreateFolder:w})),a.a.createElement(jr.a,{navigateToFolder:y,navigateToFile:v,actions:E,queryResults:[h,b],canSort:!0,extraColumns:s}),a.a.createElement(l.b,null))},_a=function(e){return a.a.createElement(pa.a,null,(function(t){var n=t.sharedDocuments;return a.a.createElement(Ca,nt()({},e,{sharedDocumentIds:n}))}))},Sa=n("6Ksc"),za=n("Yhqx"),Ia=n("zA8p"),Fa=n("cbAs"),Pa=n("qvEe"),Da=n("ZLzk"),Ta=n("KpV2"),Na=n("C9yA");function Ra(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ma(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function Ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Aa=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];f()(this,e),this.files=t,this.previousQuery=[],this.previousSuggestions=t}return m()(e,[{key:"search",value:function(e){if(!e)return[];var t,n=Object(Na.remove)(e.replace(/\//g," ").trim().toLowerCase()).split(" ").map((function(e){return{word:e,isAugmentedWord:!1,isNewWord:!0}})),r=this.isAugmentingPreviousQuery(n),a=r?this.sortQueryByRevelance(n):this.sortQuerybyLength(n);return t=r&&0!==this.previousSuggestions.length?this.filterAndScore(this.previousSuggestions,a.map((function(e){return e.word}))):this.filterAndScore(this.files,a.map((function(e){return e.word}))),this.previousQuery=a,this.previousSuggestions=t,t}},{key:"isAugmentingPreviousQuery",value:function(e){var t,n=Ra(e);try{for(n.s();!(t=n.n()).done;){var r,a=t.value,i=!1,o=Ra(this.previousQuery);try{for(o.s();!(r=o.n()).done;){var c=r.value;if(a.word.includes(c.word)){i=!0;break}}}catch(u){o.e(u)}finally{o.f()}if(!1===i)return!1}}catch(u){n.e(u)}finally{n.f()}return!0}},{key:"sortQueryByRevelance",value:function(e){var t,n=[],r=[],a=Ra(e);try{for(a.s();!(t=a.n()).done;){var i,o=t.value,c=!1,u=Ra(this.previousQuery);try{for(u.s();!(i=u.n()).done;){var l=i.value;o.word.includes(l.word)&&(o.word!==l.word?(o.isAugmentedWord=!0,n.push(o)):(o.isNewWord=!1,r.push(o)),c=!0)}}catch(s){u.e(s)}finally{u.f()}c||n.push(o)}}catch(s){a.e(s)}finally{a.f()}return this.sortQuerybyLength(n).concat(this.sortQuerybyLength(r))}},{key:"sortQuerybyLength",value:function(e){return e.sort((function(e,t){return t.word.length-e.word.length}))}},{key:"filterAndScore",value:function(e,t){var n=[];return e.forEach((function(e){var r,a=0,i=Object(Na.remove)((e.path+"/"+e.name).toLowerCase()).split("/").filter((function(e){return!!e})),o=Ra(t);try{for(o.s();!(r=o.n()).done;){for(var c=r.value,u=0,l=1e4,s=!0,f=i.length,d=0;d<f;++d){var m=i[d];m.includes(c)?(s?(u+=(l=52428800)/2*(1+c.length/m.length),s=!1):u-=l*(1-c.length/m.length),l/=2):(u-=l,l/=2,d===f-1&&(u/=2)),l/=2}if(u<0)return;a+=u}}catch(p){o.e(p)}finally{o.f()}a>0&&n.push({file:e,score:a})})),n.sort((function(e,t){var n=t.score-e.score;return 0!==n?n:e.file.path.localeCompare(t.file.path)})),n.map((function(e){return e.file}))}}]),e}();function La(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ba(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?La(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):La(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qa=function(e){return e.toString().toLowerCase().replace(/\//g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" ")},Ua=function(e,t,n){var r,a,i,o="directory"===n.type,c=o?n._id:n.dir_id,u="/folder/".concat(c),l="drive";if(o)r=n.path,a=u,i=u;else{var s=t.find((function(e){return e._id===n.dir_id}));r=s&&s.path?s.path:"",i=s&&s._id?"/folder/".concat(s._id):"",C.models.file.isNote(n)?(a="/n/".concat(n.id),l="notes"):a=C.models.file.shouldBeOpenedByOnlyOffice(n)?Object(Br.g)(n,!0):"".concat(u,"/file/").concat(n._id)}return{id:n._id,type:n.type,name:n.name,mime:n.mime,class:n.class,path:r,url:a,parentUrl:i,openOn:l,isEncrypted:Object(qr.i)(n)}},Qa=function(){var e=G()(X.a.mark((function e(t){var n,r,a,i,o,c,u,l;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getStackClient().fetchJSON("GET","/data/io.cozy.files/_all_docs?Fields=_id,trashed,dir_id,name,path,type,mime,class,metadata.title,metadata.version&DesignDocs=false&include_docs=true");case 2:return n=e.sent,r=n.rows.map((function(e){return Ba({id:e.id},e.doc)})),a=r.filter((function(e){return"directory"===e.type})),i=function(e){return!e.trashed&&!/^\/\.cozy_trash/.test(e.path)},o=function(e){return void 0!==a.find((function(t){return t._id===e.dir_id}))},c=function(e){return e._id!==Et.b},u=r.filter((function(e){return i(e)&&o(e)&&c(e)})),l=u.map((function(e){return Ua(0,a,e)})),e.abrupt("return",new Aa(l));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Va=function(e,t){var n=t.delay,a=t.ignore,i=Object(r.useState)(e),o=Ee()(i,2),c=o[0],u=o[1];return Object(r.useEffect)((function(){if(a)return u(e);var t=setTimeout((function(){u(e)}),n);return function(){clearTimeout(t)}}),[e,n,a]),c},Wa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.limit,a=void 0===n?10:n,i=Object(C.useClient)(),o=Object(r.useState)([]),c=Ee()(o,2),u=c[0],l=c[1],s=Object(r.useState)([]),f=Ee()(s,2),d=f[0],m=f[1],p=Object(r.useState)(null),h=Ee()(p,2),b=h[0],y=h[1],v=Object(r.useState)(!0),g=Ee()(v,2),w=g[0],O=g[1],x=Object(r.useState)(""),E=Ee()(x,2),j=E[0],k=E[1],_=Va(e,{delay:500,ignore:""===e}),S=function(){var e=G()(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=b){e.next=6;break}return e.t0=y,e.next=4,Qa(i);case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){""!==_?function(){var e=G()(X.a.mark((function e(t){var n,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!0),null!=(n=b)){e.next=7;break}return e.next=5,Qa(i);case 5:n=e.sent,y(n);case 7:r=n.search(t).map((function(e){return{id:e.id,title:e.name,subtitle:e.path,url:e.url,parentUrl:e.parentUrl,openOn:e.openOn,type:e.type,mime:e.mime,isEncrypted:e.isEncrypted,class:e.class}})),O(""===t),k(t),l(r),m(r.slice(0,a));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(_):P()}),[i,_,b,a]);var z=Object(r.useMemo)((function(){return d.length>0}),[d]),I=Object(r.useMemo)((function(){return d.length<u.length}),[d,u]),F=function(){var e=G()(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(u.slice(0,d.length+a));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){O(!0),k(""),l([]),m([])};return{suggestions:d,hasSuggestions:z,hasMore:I,isBusy:w,query:j,makeIndexes:S,fetchMore:F}},Ha=n("gPjO"),Xa=n("aN1g"),Ka=n("vEVt"),Ga=n("SICK"),Ya=n("7TaF");function Ja(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Za(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ja(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ja(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $a=function(e){var t=function(e,t){var n=qa(t),r=qa(e),i=[],o=0;r.forEach((function(e){n.forEach((function(t){var n=e.indexOf(t);n>=0&&i.push({from:o+n,to:o+n+t.length})})),o+=e.length+1}));for(var c=i.sort((function(e,t){return e.from>t.from})).reduce((function(e,t){return 0===e.length||e[e.length-1].to<t.from?e.push(t):e[e.length-1].to<t.to&&(e[e.length-1].to=t.to),e}),[]),u=c.length>0?[a.a.createElement("span",{key:"0"},e.slice(0,c[0].from))]:e,l=0,s=c.length;l<s;++l)u.push(a.a.createElement("span",{className:"u-primaryColor"},e.slice(c[l].from,c[l].to))),l+1<s&&u.push(a.a.createElement("span",null,e.slice(c[l].to,c[l+1].from)));return c.length>0&&u.push(a.a.createElement("span",null,e.slice(c[c.length-1].to,e.length))),u}(e.text,e.query);return Array.isArray(t)?t.map((function(e,t){return Za(Za({},e),{},{key:t})})):t},ei=n("AHTZ"),ti=n("sCMN"),ni=n("z8gv"),ri=n.n(ni),ai=function(e){var t=e.text,n=e.query,r=e.url,i=e.onOpened,o=e.isMobile,c=Object(C.useClient)();if(o)return a.a.createElement($a,{text:t,query:n});var u={slug:"drive"},l=c.getInstanceOptions().subdomain,s=Object(Me.isFlagshipApp)()?ei.a:C.generateWebLink,f=u&&s({slug:"drive",cozyUrl:c.getStackClient().uri,subDomainType:l,nativePath:r,pathname:"/",hash:r});return a.a.createElement(ti.a,{app:u,href:f},(function(e){var r=e.onClick,o=e.href;return a.a.createElement("a",{className:ri.a["suggestion-item-parent-link"],href:o,onClick:function(e){e.stopPropagation(),"function"==typeof i&&i(e),"function"==typeof r&&r(e)}},a.a.createElement($a,{text:t,query:n}))}))},ii=function(e){var t=e.suggestion,n=e.query,i=e.onClick,o=e.onParentOpened,c=e.isMobile,u=void 0!==c&&c,l=Object(r.useCallback)((function(){"function"==typeof i&&i(t)}),[t,i]),s={class:t.class,type:t.type,mime:t.mime,name:t.title};return a.a.createElement(Ha.b,{button:!0,onClick:l},a.a.createElement(Xa.a,null,"shortcut"===s.class?a.a.createElement(Ya.a,{file:s}):a.a.createElement(Ga.a,{file:s,isEncrypted:t.isEncrypted})),a.a.createElement(Ka.a,{primary:a.a.createElement($a,{text:t.title,query:n}),secondary:a.a.createElement(ai,{text:t.subtitle,url:t.parentUrl,query:n,onOpened:o,isMobile:u})}))},oi=n("znfj"),ci=function(){return a.a.createElement(Ha.b,null,a.a.createElement(Xa.a,null,a.a.createElement(oi.a,{width:32,height:32,variant:"rect",animation:"wave",className:"u-bdrs-4"})),a.a.createElement(Ka.a,{primary:a.a.createElement(oi.a,{width:196,height:8,variant:"rect",animation:"wave",className:"u-bdrs-3 u-mb-half"}),secondary:a.a.createElement(oi.a,{width:96,height:8,variant:"rect",animation:"wave",className:"u-bdrs-3"})}))},ui=function(e){var t=e.count;return a.a.createElement(Fa.a,null,Array(t||4).fill(1).map((function(e,t){return a.a.createElement(ci,{key:t})})))},li=n("ykoP"),si=n("fdJI"),fi=function(e){var t=e.children,n=e.isMobile,r=e.onClean,i=e.isInputNotEmpty;return a.a.createElement(li.a,{fullwidth:!0,className:ri.a["bar-search-input-group"],prepend:n?null:a.a.createElement(at.a,{icon:jn.a,className:ri.a["bar-search-input-group-append"],"aria-hidden":"true"}),append:i?a.a.createElement(En.a,{size:"medium",onClick:r},a.a.createElement(at.a,{icon:si.a})):null},t)},di=n("COzu"),mi=new ot.a({id:"icon-search-empty_d29026c1719e6024364b819ae75a63d5",use:"icon-search-empty_d29026c1719e6024364b819ae75a63d5-usage",viewBox:"0 0 96 96",content:'<symbol viewBox="0 0 96 96" fill="none" xmlns="http://www.w3.org/2000/svg" id="icon-search-empty_d29026c1719e6024364b819ae75a63d5">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M66.9629 43.145C66.9629 56.1807 56.3499 66.7502 43.2582 66.7502C30.1675 66.7502 19.5555 56.1807 19.5555 43.145C19.5555 30.1092 30.1675 19.5407 43.2582 19.5407C56.3499 19.5407 66.9629 30.1092 66.9629 43.145Z" fill="#BBD9FD" />\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M42.6662 22.077C31.328 22.077 22.1023 31.2633 22.1023 42.5564C22.1023 53.8474 31.328 63.0337 42.6662 63.0337C54.0053 63.0337 63.231 53.8474 63.231 42.5564C63.231 31.2633 54.0053 22.077 42.6662 22.077ZM42.6662 69.1107C27.9626 69.1107 16 57.1988 16 42.5564C16 27.9129 27.9626 16 42.6662 16C57.3707 16 69.3333 27.9129 69.3333 42.5564C69.3333 57.1988 57.3707 69.1107 42.6662 69.1107Z" fill="#3281EE" />\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M73.837 77.3724C72.2603 77.3724 70.6826 76.7729 69.4798 75.5751L59.2874 65.4255C56.8797 63.0288 56.8797 59.1427 59.2863 56.7459C61.694 54.3482 65.5951 54.3492 68.0017 56.7449L78.1942 66.8944C80.6018 69.2922 80.6018 73.1773 78.1952 75.574C76.9914 76.7729 75.4137 77.3724 73.837 77.3724Z" fill="#3281EE" />\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M23.6373 93.174C25.6314 94.0474 30.7465 94.8038 34.8713 95.1076C46.1285 95.9345 61.861 95.4937 68.5284 93.9777C75.247 92.4509 75.5464 90.1362 58.4645 88.9838C43.9219 88.0025 26.9475 89.3898 23.3174 91.4596C22.3433 92.015 22.3979 92.6327 23.6373 93.174Z" fill="#BBD9FD" />\n</symbol>'}),pi=(ut.a.add(mi),mi),hi=function(e){var t=e.query,n=Object(j.useI18n)().t;return a.a.createElement(di.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",className:"u-m-auto u-maw-5 u-ta-center",spacing:1},a.a.createElement(di.a,{item:!0},a.a.createElement(at.a,{width:96,height:96,icon:pi,"aria-hidden":"true"})),a.a.createElement(di.a,{item:!0},a.a.createElement(P.a,{variant:"h3"},n("search.empty.title",{query:t}))),a.a.createElement(di.a,{item:!0},a.a.createElement(P.a,{variant:"body1",color:"textSecondary"},n("search.empty.subtitle",{query:t}))))},bi=function(){var e=Object(Pa.useWebviewIntent)(),t=Object(l.l)().search,n=Object(l.n)(),i=Object(Ut.b)().isMobile,o=Object(C.useClient)(),c=Object(r.useState)(""),u=Ee()(c,2),s=u[0],f=u[1],d=Object(j.useI18n)().t,m=Wa(s,{limit:25}),p=m.isBusy,h=m.suggestions,b=m.hasSuggestions,y=m.query,v=m.makeIndexes,g=m.hasMore,w=m.fetchMore;Object(r.useEffect)((function(){v()}),[]);var O=Object(r.useCallback)((function(){var e=new URLSearchParams(t).get("returnPath");n(e||"/")}),[n,t]),x=Object(r.useCallback)(function(){var t=G()(X.a.mark((function t(r){var a;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("drive"!==r.openOn){t.next=4;break}n(r.url),t.next=12;break;case 4:if("notes"!==r.openOn){t.next=11;break}return t.next=7,C.models.note.fetchURL(o,{id:r.url.substr(3)});case 7:a=t.sent,Object(Me.isFlagshipApp)()?e.call("openApp",a,{slug:"notes"}):window.location.assign(a),t.next=12;break;case 11:console.error("openSuggestion (".concat(r.name,") could not be executed"));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[n,e,o]),E=""!==s&&!b;return a.a.createElement(a.a.Fragment,null,i&&a.a.createElement(de.b,null,a.a.createElement(Ta.a,{onClick:O,t:d})),a.a.createElement(de.d,null,a.a.createElement("div",{className:ke()(ri.a["bar-search-container"],i?ri.a.mobile:""),role:"search"},a.a.createElement(fi,{isMobile:i,isInputNotEmpty:""!==s,onClean:function(){f("")}},a.a.createElement(Ia.a,{fullwidth:!0,value:s,onChange:function(e){f(e.target.value)},placeholder:d("searchbar.placeholder"),autoFocus:!0})))),a.a.createElement("div",{className:"u-flex u-flex-column u-w-100 u-ov-auto"},b&&a.a.createElement(Fa.a,null,h.map((function(e){return a.a.createElement(ii,{suggestion:e,query:y,key:e.id,onClick:x,isMobile:i})}))),g&&a.a.createElement("div",{className:"u-flex u-flex-justify-center"},a.a.createElement(Da.a,{label:d("table.load_more"),fetchMore:w})),E&&!p&&a.a.createElement(hi,{query:y}),E&&p&&a.a.createElement(ui,{count:10})))},yi=n("tHeH"),vi=function(e){var t=Object(Ft.k)(),n=Object(C.useQuery)(t.definition,t.options),r=Object(l.n)();if(n.data){var i=n.data;return a.a.createElement(Vr,nt()({},e,{files:i,filesQuery:n,onClose:function(){return r("/recent")},onChange:function(e){return r("/recent/file/".concat(e))}}))}return a.a.createElement(Ur,null)},gi=function(){var e=Object(l.p)().folderId;return a.a.createElement(l.a,{to:"/folder/".concat(e),replace:!0})},wi=function(){return a.a.createElement(yt,null,a.a.createElement(l.b,null))},Oi=function(){return a.a.createElement(l.e,null,a.a.createElement(l.c,{path:"external/:fileId",element:a.a.createElement(Nt.a,null)}),a.a.createElement(l.c,{element:a.a.createElement(wi,null)},!1,a.a.createElement(l.c,{path:"/files/:folderId",element:a.a.createElement(gi,null)}),a.a.createElement(l.c,{path:"/",element:a.a.createElement(Bt,null)}),a.a.createElement(l.c,{path:"folder",element:a.a.createElement(Ir,null)},a.a.createElement(l.c,{path:":folderId"},a.a.createElement(l.c,{path:"file/:fileId",element:a.a.createElement(Hr,null)}),a.a.createElement(l.c,{path:"file/:fileId/revision",element:a.a.createElement(gt.a,null)}),a.a.createElement(l.c,{path:"paywall",element:a.a.createElement(yi.a,null)})),a.a.createElement(l.c,{path:"file/:fileId",element:a.a.createElement(Hr,null)}),a.a.createElement(l.c,{path:"file/:fileId/revision",element:a.a.createElement(gt.a,null)})),a.a.createElement(l.c,{path:"recent",element:a.a.createElement(Jr,null)},a.a.createElement(l.c,{path:"file/:fileId",element:a.a.createElement(vi,null)}),a.a.createElement(l.c,{path:"file/:fileId/revision",element:a.a.createElement(gt.a,null)})),a.a.createElement(l.c,{path:"trash"},a.a.createElement(l.c,{index:!0,element:a.a.createElement(ma,null)}),a.a.createElement(l.c,{path:":folderId",element:a.a.createElement(ma,null)},a.a.createElement(l.c,{path:"file/:fileId",element:a.a.createElement(Zr,null)}),a.a.createElement(l.c,{path:"file/:fileId/revision",element:a.a.createElement(gt.a,null)}))),a.a.createElement(l.c,{path:"sharings"},a.a.createElement(l.c,{index:!0,element:a.a.createElement(ga,null)}),a.a.createElement(l.c,{element:a.a.createElement(ga,null)},a.a.createElement(l.c,{path:"file/:fileId",element:a.a.createElement(Ea,null)}),a.a.createElement(l.c,{path:"file/:fileId/revision",element:a.a.createElement(gt.a,null)})),a.a.createElement(l.c,{path:":folderId",element:a.a.createElement(_a,null)},a.a.createElement(l.c,{path:"file/:fileId",element:a.a.createElement(Ea,null)}),a.a.createElement(l.c,{path:"file/:fileId/revision",element:a.a.createElement(gt.a,null)}))),a.a.createElement(l.c,{path:"onlyoffice/:fileId",element:a.a.createElement(Sa.b,null)},a.a.createElement(l.c,{path:"paywall",element:a.a.createElement(yi.a,null)})),a.a.createElement(l.c,{path:"onlyoffice/:fileId/fromCreate",element:a.a.createElement(Sa.b,null)}),a.a.createElement(l.c,{path:"onlyoffice/create/:folderId/:fileClass",element:a.a.createElement(za.a,null)}),!1,a.a.createElement(l.c,{path:"file/:fileId",element:a.a.createElement(vt.a,null)}),a.a.createElement(l.c,{path:"search",element:a.a.createElement(bi,null)})),!1)},xi=n("1h/R"),Ei=n.n(xi),ji=function(e){var t=e.t,n=Object(Pa.useWebviewIntent)(),i=Object(C.useClient)(),o=Object(r.useState)(""),c=Ee()(o,2),u=c[0],l=c[1],s=Object(r.useState)(""),f=Ee()(s,2),d=f[0],m=f[1],p=Wa(d),h=p.suggestions,b=p.hasSuggestions,y=p.isBusy,v=p.query,g=p.makeIndexes,w=Object(r.useState)(!1),O=Ee()(w,2),x=O[0],E=O[1],j={container:"u-w-100",suggestionsContainer:ri.a["bar-search-autosuggest-suggestions-container"],suggestionsContainerOpen:ri.a["bar-search-autosuggest-suggestions-container--open"],suggestionsList:ri.a["bar-search-autosuggest-suggestions-list"]},k=function(){l(""),m("")},_=function(){var e=G()(X.a.mark((function e(t,r){var a,o;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.suggestion,o="".concat(window.location.origin,"/#").concat(a.url),"notes"!==a.openOn){e.next=6;break}return e.next=5,C.models.note.fetchURL(i,{id:a.url.substr(3)});case 5:o=e.sent;case 6:o?Object(Me.isFlagshipApp)()?n.call("openApp",o,{slug:a.openOn}):window.location.assign(o):console.error("openSuggestion (".concat(a.name,") could not be executed")),k();case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S={placeholder:t("searchbar.placeholder"),value:u,onChange:function(e,t){var n=t.newValue;l(n)},onFocus:function(){g(),E(!0)},onBlur:function(){return E(!1)}},z=""!==d&&x&&!b;return a.a.createElement("div",{className:ri.a["bar-search-container"],role:"search"},a.a.createElement(Ei.a,{theme:j,suggestions:h,onSuggestionsFetchRequested:function(e){var t=e.value;m(t)},onSuggestionsClearRequested:function(){m("")},onSuggestionSelected:_,getSuggestionValue:function(e){return e.subtitle},renderSuggestion:function(e){return a.a.createElement(ii,{suggestion:e,query:v,onParentOpened:k})},renderInputComponent:function(e){return a.a.createElement(fi,{isInputNotEmpty:""!==u,onClean:k},a.a.createElement("input",e))},renderSuggestionsContainer:function(e){var t=e.containerProps,n=e.children;return a.a.createElement(Fa.a,t,n)},inputProps:S,focusInputOnSuggestionClick:!1}),z&&!y&&a.a.createElement("div",{className:ke()(ri.a["bar-search-autosuggest-status-container"],ri.a["--empty"])},t("searchbar.empty",{query:v})),z&&y&&a.a.createElement("div",{className:ri.a["bar-search-autosuggest-status-container"]},a.a.createElement(ui,null)))},ki=function(){var e=Object(j.useI18n)().t,t=Object(Ut.b)().isMobile;return a.a.createElement(de.d,null,!t&&a.a.createElement(ji,{t:e}))},Ci=n("BIwB"),_i=n("44Ds"),Si=n.n(_i),zi=n("QCzH"),Ii=n("LW8N"),Fi=n("HK68"),Pi=n("z6Q1"),Di=n("Le8U"),Ti=n("IFYe"),Ni=Si()((function(){var e=document.querySelector("[role=application]"),t=JSON.parse(e.dataset.cozy),r=window.location?window.location.protocol:"https:",a="".concat(r,"//").concat(t.domain);Object(D.a)(),Object(D.d)(a);var i=new _.a({uri:a,token:t.token,appMetadata:oe.a,schema:Pi.f,store:!1});Di.Document.cozyClient||Di.Document.registerClient(i);var o=t.locale;Object(Ii.a)(i);var c=Object(zi.c)(o,(function(e){return n("tqYW")("./".concat(e))})),u=Object(Fi.a)({client:i,t:c.t.bind(c)});return cozy.client.init({cozyURL:a,token:t.token}),Ti.a.init({appName:t.app.name,appEditor:t.app.editor,cozyClient:i,iconPath:t.app.icon,lang:t.locale,replaceTitleOnMobile:!1,appSlug:t.app.slug,appNamePrefix:t.app.prefix}),{locale:o,polyglot:c,client:i,store:u,root:e}}));var Ri=function(e){return a.a.createElement(Ci.a,e,a.a.createElement(ki,null),a.a.createElement(o.a,null,a.a.createElement(Oi,null)))};document.addEventListener("DOMContentLoaded",(function(){var e,t,n,r,o,c;e=Ni(),t=e.locale,n=e.polyglot,r=e.client,o=e.store,c=e.root,Object(i.render)(a.a.createElement(Ri,{lang:t,polyglot:n,client:r,store:o}),c)}))},KOJc:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return w}));var r=n("pVnL"),a=n.n(r),i=n("q1tI"),o=n.n(i),c=n("TSYQ"),u=n.n(c),l=n("buk/"),s=n("GoJ1"),f=n("o+ty"),d=n("46CF"),m=n("7Zso"),p=n("CXDI"),h=n("lJfM"),b=n.n(h),y={drive:f.a,encrypted:p.a,photos:m.a,trash:d.a},v=function(e){var t=e.type,n=e.canUpload,r=e.localeKey,a=Object(l.useI18n)().t;return o.a.createElement(s.a,{"data-testid":"empty-folder",icon:y[t],title:a(r?"empty.".concat(r,"_title"):"empty.title"),text:r&&a("empty.".concat(r,"_text"))||n&&a("empty.text"),className:u()(b.a.empty,"u-mh-2")})},g=function(e){return e.isEncrypted?o.a.createElement(v,a()({type:"encrypted"},e)):o.a.createElement(v,a()({type:"drive"},e))},w=function(e){return o.a.createElement(v,a()({type:"trash",localeKey:"trash"},e))}},KpV2:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),i=n("QILm"),o=n.n(i),c=n("q1tI"),u=n.n(c),l=n("lEaz"),s=n("y6ex"),f=n("SjAl"),d=["onClick","t"];t.a=function(e){var t=e.onClick,n=e.t,r=o()(e,d);return u.a.createElement(l.a,a()({onClick:t},r,{"aria-label":n("button.back")}),u.a.createElement(s.a,{icon:f.a}))}},LW8N:function(e,t,n){"use strict";var r=n("mgfL"),a=n.n(r),i=n("oJ5p");t.a=function(e){e.registerPlugin(i.RealtimePlugin),e.registerPlugin(a.a.plugin)}},Lknf:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("J4zp"),a=n.n(r),i=n("q1tI"),o=n.n(i),c=Object(i.createContext)(),u=function(e){var t=e.children,n=Object(i.useState)({}),r=a()(n,2),u=r[0],l=r[1],s=Object(i.useState)(),f=a()(s,2),d={sharingsValue:u,setSharingsValue:l,fileValue:f[0],setFileValue:f[1]};return o.a.createElement(c.Provider,{value:d},t)};t.b=c},MFii:function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"g",(function(){return k})),n.d(t,"d",(function(){return C})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return S})),n.d(t,"a",(function(){return z})),n.d(t,"c",(function(){return I}));var r=n("lSNA"),a=n.n(r),i=n("o0o1"),o=n.n(i),c=n("yXPU"),u=n.n(c),l=n("hdTL"),s=n("gqi3"),f=n("KGD5"),d=n("snfs"),m=n("67rm"),p=n("H57K"),h=n("z6Q1");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=function(e){return 404===e.status},O=function(e){return w(e)?"error.download_file.missing":"error.download_file.offline"},x=function(e){return w(e)?"mobile.error.open_with.missing":"mobile.error.open_with.offline"},E=function(){var e=u()(o.a.mark((function e(t,n){var r,a,i,c,u,l,f=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>2&&void 0!==f[2]?f[2]:{},a=r.vaultClient,e.next=3,Object(p.f)(t,n[0].dir_id);case 3:if(i=e.sent,1!==n.length||Object(s.isDirectory)(n[0])){e.next=20;break}if(c=n[0],e.prev=6,u=c.name,!i){e.next=12;break}return e.abrupt("return",Object(p.c)(t,a,{file:c,encryptionKey:i}));case 12:return e.abrupt("return",t.collection(h.c).download(c,null,u));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),m.a.error(O(e.t0));case 18:e.next=27;break;case 20:if(!i){e.next=22;break}return e.abrupt("return",m.a.error("error.download_file.encryption_many"));case 22:if(!n.find((function(e){return Object(s.isDirectory)(e)&&Object(p.i)(e)}))){e.next=25;break}return e.abrupt("return",m.a.error("error.download_file.encryption_many"));case 25:return l=n.map((function(e){return e.id})),e.abrupt("return",t.collection(h.c).downloadArchive(l));case 27:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(t,n){return e.apply(this,arguments)}}(),j=function(e){var t=void 0!==e.reason?e.reason.errors:void 0;if(t){var n,r=v(t);try{for(r.s();!(n=r.n()).done;){if("File or directory is already in the trash"===n.value.detail)return!0}}catch(e){r.e(e)}finally{r.f()}}return!1},k=function(){var e=u()(o.a.mark((function e(t,n){var r,a,i,c,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=v(n),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=14;break}return i=a.value,e.next=8,t.collection(h.c).destroy(i);case 8:c=e.sent,u=c.data,t.store.dispatch(Object(f.receiveQueryResult)(null,{data:u})),t.collection("io.cozy.permissions").revokeSharingLink(i);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:m.a.success("alert.trash_file_success"),e.next=28;break;case 25:e.prev=25,e.t1=e.catch(0),j(e.t1)||m.a.error("alert.try_again");case 28:case"end":return e.stop()}}),e,null,[[0,25],[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=u()(o.a.mark((function e(t,n){var r,a,i,c,s,f=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.length>2&&void 0!==f[2]?f[2]:{},a=r.vaultClient,!Object(p.g)(n[0])){e.next=7;break}return e.next=4,Object(p.f)(t,n[0].dir_id);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=null;case 8:return i=e.t0,c=n.map(function(){var e=u()(o.a.mark((function e(n){var r,c,u,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=6;break}return e.next=3,Object(p.b)(t,a,{file:n,encryptionKey:i});case 3:r=e.sent,e.next=12;break;case 6:return e.next=8,t.collection(h.c).fetchFileContentById(n.id);case 8:return c=e.sent,e.next=11,c.blob();case 11:r=e.sent;case 12:return u=n.name,e.next=15,Object(l.saveFileWithCordova)(r,u);case 15:return s=e.sent,e.abrupt("return",s.nativeURL);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.prev=10,m.a.info("alert.preparing",{duration:Math.min(2e3*c.length,6e3)}),e.next=14,Promise.all(c);case 14:1===(s=e.sent).length&&Object(d.isIOS)()?window.plugins.socialsharing.shareWithOptions({url:s[0]},(function(e){!0===e.completed&&m.a.success("mobile.download.success")}),(function(e){throw e})):window.plugins.socialsharing.shareWithOptions({files:s},null,(function(e){throw e})),e.next=21;break;case 18:e.prev=18,e.t1=e.catch(10),m.a.error(O(e.t1));case 21:case"end":return e.stop()}}),e,null,[[10,18]])})));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=u()(o.a.mark((function e(t,n){var r,a,i,c,u,s,f=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.length>2&&void 0!==f[2]?f[2]:{},a=r.vaultClient,!Object(d.isMobileApp)()||!window.cordova.plugins.fileOpener2){e.next=36;break}if(c=n.mime,e.prev=3,!Object(p.g)(n)){e.next=14;break}return e.next=7,Object(p.f)(t,n.dir_id);case 7:return u=e.sent,e.next=10,Object(p.b)(t,a,{file:n,encryptionKey:u});case 10:i=e.sent,c=t.collection(h.c).getFileTypeFromName(n.name),e.next=20;break;case 14:return e.next=16,t.collection(h.c).fetchFileContentById(n.id);case 16:return s=e.sent,e.next=19,s.blob();case 19:i=e.sent;case 20:e.next=26;break;case 22:throw e.prev=22,e.t0=e.catch(3),m.a.error(x(e.t0)),e.t0;case 26:return e.prev=26,e.next=29,Object(l.saveAndOpenWithCordova)(i,y(y({},n),{},{mime:c}));case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(26),m.a.info("mobile.error.open_with.noapp",{fileMime:n.mime});case 34:e.next=37;break;case 36:m.a.info("mobile.error.open_with.noapp",{fileMime:n.mime});case 37:case"end":return e.stop()}}),e,null,[[3,22],[26,31]])})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=u()(o.a.mark((function e(t,n){var r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=v(n),e.prev=1,r.s();case 3:if((a=r.n()).done){e.next=9;break}return i=a.value,e.next=7,t.collection(h.c).restore(i.id);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r.e(e.t0);case 14:return e.prev=14,r.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e=u()(o.a.mark((function e(t,n){var r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=v(n),e.prev=1,r.s();case 3:if((a=r.n()).done){e.next=9;break}return i=a.value,e.next=7,t.collection(h.c).deleteFilePermanently(i.id);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r.e(e.t0);case 14:return e.prev=14,r.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=u()(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m.a.info("alert.empty_trash_progress"),e.prev=1,e.next=4,t.collection(h.c).emptyTrash();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),m.a.error("alert.try_again");case 9:m.a.info("alert.empty_trash_success");case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()},NMd3:function(e,t,n){"use strict";n.d(t,"b",(function(){return q})),n.d(t,"d",(function(){return V})),n.d(t,"a",(function(){return W})),n.d(t,"c",(function(){return N.i}));var r=n("o0o1"),a=n.n(r),i=n("yXPU"),o=n.n(i),c=n("q3u0"),u=n("qxHO"),l=n("snfs"),s=n("OTOu"),f=n("kiQV"),d=function(){return Object(l.isMobileApp)()&&void 0!==window.cordova.plugins&&void 0!==window.cordova.plugins.listLibraryItems},m=function(){var e=o()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d()){e.next=2;break}return e.abrupt("return",Promise.resolve(!1));case 2:return e.abrupt("return",new Promise((function(e){window.cordova.plugins.listLibraryItems.isAuthorized((function(){return e(!0)}),(function(){return e(!1)}))})));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=o()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d()){e.next=2;break}return e.abrupt("return",Promise.resolve(!1));case 2:return e.abrupt("return",new Promise((function(e){window.cordova.plugins.listLibraryItems.requestReadAuthorization((function(){return e(!0)}),(function(t){t.startsWith("Permission")||Object(u.b)("requestAuthorization error:",t),e(!1)}))})));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=o()(a.a.mark((function e(t){var n,r,i,o,u,l,s,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uri,r=t.file,i=t.method,o=void 0===i?"POST":i,u=t.id,l=void 0===u?void 0:u,e.next=3,Object(c.c)();case 3:return s=e.sent,d={id:l,serverUrl:n,libraryId:r.id,mimeType:r.mimeType,filePath:r.filePath,createdDate:r.creationDate,httpMethod:o,headers:{Authorization:"Bearer "+s,"Content-Type":r.mimeType,"User-Agent":"io.cozy.drive.mobile-".concat(f.a)}},e.abrupt("return",d);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e,t,n){return new Promise((function(r,a){window.cordova.plugins.listLibraryItems.uploadItem(e,(function(e){e.errors?a(e.errors):void 0!==e.progress?t(e.progress):e.thumbnail?n(e.thumbnail):r(e)}),a)}))},y=function(){var e=o()(a.a.mark((function e(t,n,r,i){var o,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d()){e.next=6;break}return o=Object(c.a)()+"/files/"+encodeURIComponent(t)+"?Name="+encodeURIComponent(n.fileName)+"&Type=file&Tags=library&Executable=false",e.next=4,h({id:t,file:n,uri:o});case 4:return u=e.sent,e.abrupt("return",b(u,r,i));case 6:return e.abrupt("return",Promise.resolve());case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),v=function(){var e=o()(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!d()){e.next=3;break}return e.abrupt("return",new Promise((function(e){window.cordova.plugins.listLibraryItems.listItems(!0,!0,!1,(function(t){return e(t.library)}),(function(n){s.a.warn(n),e(t)}))})));case 3:return e.abrupt("return",Promise.resolve(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=n("nfx8"),w=n("cSBT"),O=n("DzJC"),x=n.n(O),E=n("z6Q1"),j="".concat(E.b,"/photos"),k=("".concat(E.b,"/photos/upload"),"".concat(E.b,"/photos/mobile")),C=function(){var e=o()(a.a.mark((function e(t,n){var r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collection(E.c).findReferencedBy({_type:E.b,_id:n});case 2:return r=e.sent,i=r.included,e.abrupt("return",i.filter((function(e){return!1===/^\/\.cozy_trash/.test(e.attributes.path)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=o()(a.a.mark((function e(t,n,r){var i,o,c,u,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t,r);case 2:if(!(i=e.sent).length){e.next=7;break}return e.abrupt("return",i[0]);case 7:return o=t.collection(E.c),e.next=10,o.ensureDirectoryExists(n);case 10:return c=e.sent,e.next=13,o.addReferencesTo({_id:r,_type:E.b},[{_id:c}]);case 13:return e.next=15,o.get(c);case 15:return u=e.sent,l=u.data,e.abrupt("return",l);case 18:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),S=n("/GQe"),z=n("Z7XG"),I=n("OjRq"),F=function(e){var t=new RegExp("(_)([0-9]+)$"),n=e.match(t);if(n){var r=parseInt(n[2]);return r++,e.replace(new RegExp("(_)([0-9]+)$"),"_".concat(r))}return"".concat(e,"_1")},P=function(){var e=o()(a.a.mark((function e(t,n,r){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.collection("io.cozy.files").updateAttributes(n.id,{name:r});case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),!/Conflict/.test(e.t0.message)){e.next=11;break}return i=F(r),e.abrupt("return",P(t,n,i));case 11:throw e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r){return e.apply(this,arguments)}}(),D=function(){var e=o()(a.a.mark((function e(t,n,r,i){var o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.b.move(n.id,{folderId:r.data.id});case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),!/Conflict/.test(e.t0.message)){e.next=14;break}return o=F(i),e.next=12,P(t,n,o);case 12:return c=e.sent,e.abrupt("return",D(t,c,r,o));case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),T=function(){var e=o()(a.a.mark((function e(t,n){var r,i,o,c,u,l,s,f,d,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("mobile.settings.media_backup.backup_folder"===n.name){e.next=2;break}return e.abrupt("return",null);case 2:return r=Object(S.a)(),i="/".concat(r("mobile.settings.media_backup.media_folder")),o="/mobile.settings.media_backup.media_folder",c=r("mobile.settings.media_backup.backup_folder"),u=r("mobile.settings.media_backup.media_folder"),e.prev=7,e.next=10,t.collection("io.cozy.files").statByPath(i);case 10:l=e.sent,e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(7),e.next=17,t.collection("io.cozy.files").createDirectory({dirId:z.b,name:u});case 17:l=e.sent;case 18:return e.prev=18,s="".concat(i,"/").concat(c),e.next=22,t.collection("io.cozy.files").statByPath(s);case 22:if(f=e.sent,!!(!f.included||0!==f.included.length)){e.next=27;break}return e.next=27,t.collection("io.cozy.files").deleteFilePermanently(f.data.id);case 27:e.next=32;break;case 29:e.prev=29,e.t1=e.catch(18),console.warn("error",e.t1);case 32:return e.next=34,t.collection("io.cozy.files").updateAttributes(n.id,{name:c});case 34:return d=e.sent,e.next=37,D(t,d.data,l,c);case 37:return e.prev=37,e.next=40,t.collection("io.cozy.files").statByPath(o);case 40:return m=e.sent,e.next=43,t.collection("io.cozy.files").removeReferencedBy(m.data,[{_type:"io.cozy.apps",_id:j}]);case 43:e.next=48;break;case 45:e.prev=45,e.t2=e.catch(37),console.warn("error stat remove ref",e.t2);case 48:return e.next=50,_(t,i,j);case 50:case"end":return e.stop()}}),e,null,[[7,13],[18,29],[37,45]])})));return function(t,n){return e.apply(this,arguments)}}(),N=n("aNx5"),R=function(){var e=o()(a.a.mark((function e(t,n){var r,i,o,c,u,l,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t,k);case 2:if(!((r=e.sent).length>=1)){e.next=9;break}return e.next=6,T(t,r[0]);case 6:return e.abrupt("return",r[0]);case 9:return i=n("mobile.settings.media_backup.media_folder"),o=n("mobile.settings.media_backup.backup_folder"),c=n("mobile.settings.media_backup.legacy_backup_folder"),e.next=14,_(t,"/".concat(i),j);case 14:return e.prev=14,e.next=17,t.collection("io.cozy.files").statByPath("/".concat(i,"/").concat(c,"/plop"));case 17:return u=e.sent,l=u.data,e.next=21,_(t,"/".concat(i,"/").concat(c),k);case 21:return e.abrupt("return",l);case 24:if(e.prev=24,e.t0=e.catch(14),404!==e.t0.status){e.next=33;break}return e.next=29,_(t,"/".concat(i,"/").concat(o),k);case 29:return s=e.sent,e.abrupt("return",s);case 33:throw e.t0;case 34:case"end":return e.stop()}}),e,null,[[14,24]])})));return function(t,n){return e.apply(this,arguments)}}(),M=function(e){var t=e.id;return{type:N.h,id:t}},A=function(e,t,n,r){return function(){var i=o()(a.a.mark((function i(o){var c,l,f,d,m;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=e+"/"+n.fileName,a.next=4,r.collection("io.cozy.files").statByPath(c);case 4:return o(M(n)),a.abrupt("return");case 8:a.prev=8,a.t0=a.catch(0);case 10:return 1,1e3,6e4,3e5,l=setTimeout((function(){s.a.info(JSON.stringify(n)),Object(u.b)("Backup duration exceeded ".concat(3e5," milliseconds"))}),3e5),a.prev=15,f=function(e){o({type:N.b,progress:e})},d=function(){},a.next=20,y(t,n,x()(f,500),d);case 20:clearTimeout(l),o(M(n)),a.next=27;break;case 24:a.prev=24,a.t1=a.catch(15),a.t1.code&&413===parseInt(a.t1.code)?(clearTimeout(l),o({type:N.f})):(s.a.warn("startMediaBackup upload item error"),s.a.warn(JSON.stringify(a.t1)),s.a.info(JSON.stringify(n)),m=a.t1.message?a.t1.message:JSON.stringify(a.t1),Object(u.b)("Backup error: "+m,null,["backup error"]));case 27:case"end":return a.stop()}}),i,null,[[0,8],[15,24]])})));return function(e){return i.apply(this,arguments)}}()};function L(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q=function(){return{type:N.d}},U=function(e,t,n){return{type:N.a,media:e,messageData:{current:t,total:n}}},Q=function(e,t){var n=!t().mobile.settings.wifiOnly;return(e||t().mobile.settings.backupImages)&&(Object(g.b)()||n)},V=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(){var t=o()(a.a.mark((function t(n,r,i){var o,c,l,s,f,d,p,h,b,y,g,O,x,E,j,k;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=i.client,c=i.t,l=e,n({type:N.g}),o.getStackClient().fetchJSON("POST","/settings/synchronized"),t.next=6,m();case 6:if(t.sent){t.next=15;break}return s=l,t.next=10,H(s);case 10:if(f=t.sent,l&&!f&&(l=!1),!r().mobile.settings.backupImages||f){t.next=15;break}return t.next=15,n(Object(w.f)(!1));case 15:if(!Q(l,r)){t.next=59;break}return t.prev=16,t.next=19,v();case 19:if(d=t.sent,p=r().mobile.mediaBackup.uploaded,h=d.filter((function(e){return!p.includes(e.id)})),!((b=h.length)>0)){t.next=50;break}return t.next=26,R(o,c);case 26:y=t.sent,g=y._id,O=y.attributes.path,x=0,E=L(h),t.prev=31,E.s();case 33:if((j=E.n()).done){t.next=42;break}if(k=j.value,!r().mobile.mediaBackup.cancelMediaBackup&&!r().mobile.mediaBackup.diskQuotaReached&&Q(l,r)){t.next=37;break}return t.abrupt("break",42);case 37:return n(U(k,x++,b)),t.next=40,n(A(O,g,k,o));case 40:t.next=33;break;case 42:t.next=47;break;case 44:t.prev=44,t.t0=t.catch(31),E.e(t.t0);case 47:return t.prev=47,E.f(),t.finish(47);case 50:o.getStackClient().fetchJSON("POST","/settings/synchronized"),t.next=57;break;case 53:t.prev=53,t.t1=t.catch(16),n({type:N.c}),t.t1.message.match(/Failed to fetch/)||Object(u.b)("Unexpected error during the files backup (".concat(t.t1.message,")"));case 57:t.next=60;break;case 59:n({type:N.c});case 60:n({type:N.e});case 61:case"end":return t.stop()}}),t,null,[[16,53],[31,44,47,50]])})));return function(e,n,r){return t.apply(this,arguments)}}()},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var r=o()(a.a.mark((function r(i,o){var c,u,l;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!0!==o().mobile.mediaBackup.running||t){r.next=2;break}return r.abrupt("return");case 2:if(void 0!==(c=e)){r.next=7;break}c=o().mobile.settings.backupImages,r.next=9;break;case 7:return r.next=9,i(Object(w.f)(c));case 9:return r.next=11,H(c);case 11:return u=r.sent,c&&!u&&(c=u,i(Object(w.f)(c))),l=n("UQWb"),(0,l.updateStatusBackgroundService)(c),c&&i(V()),r.abrupt("return",c);case 17:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},H=function(){var e=o()(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t)){e.next=5;break}return e.next=4,p();case 4:n=e.sent;case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},NQEN:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("17x9"),o=n.n(i),c=n("KXWi"),u=function(e,t){return e.filter((function(e){return e.dir_id===t})).length===e.length},l=function(e,t){var n=e.onConfirm,r=e.onClose,i=e.targets,o=e.currentDirId,l=e.isMoving,s=e.primaryTextAction,f=e.secondaryTextAction,d=t.t,m=s||d("Move.action"),p=f||d("Move.cancel");return a.a.createElement(a.a.Fragment,null,a.a.createElement(c.c,{label:p,theme:"secondary",onClick:r}),a.a.createElement(c.c,{label:m,onClick:n,disabled:u(i,o)||l,busy:l}))};l.propTypes={onConfirm:o.a.func.isRequired,onClose:o.a.func.isRequired,targets:o.a.array.isRequired,currentDirId:o.a.string.isRequired,isMoving:o.a.bool,primaryTextAction:o.a.string,secondaryTextAction:o.a.string},l.contextTypes={t:o.a.func.isRequired},l.defaultProps={isMoving:!1},t.a=l},NirP:function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),i=n("q1tI"),o=n.n(i),c=n("Vg22"),u=n("TSYQ"),l=n.n(u),s=n("7YkG"),f=n("yRR6"),d=n("7oMs"),m=n("QmKc"),p=n.n(m);t.a=function(e){var t,n=e.className,r=e.children,u=Object(c.useSelector)(d.e),m=Object(i.useContext)(f.a).isFabDisplayed;return o.a.createElement(s.b,{"data-testid":"fil-content-body",className:l()(n,p.a["fil-content-body"],(t={},a()(t,p.a["fil-content-body--selectable"],u),a()(t,p.a["fil-content-body--withFabActive"],m),t))},r)}},ODMt:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),i=n("q1tI"),o=n.n(i),c=n("buk/"),u=n("qVrW"),l=n("y6ex"),s=n("/T4a"),f=n("On/j");t.a=function(){var e=Object(c.useI18n)().t,t=Object(i.useContext)(f.a),n=t.anchorRef,r=t.handleToggle,d=t.isDisabled,m=t.handleOfflineClick,p=t.isOffline,h=t.a11y;return o.a.createElement("div",{ref:n,onClick:p?m:void 0},o.a.createElement(u.a,a()({left:o.a.createElement(l.a,{icon:s.a}),disabled:d||p,icon:s.a,onClick:r},h),e("toolbar.menu_add_item")))}},OTOu:function(e,t,n){"use strict";var r=n("btPC"),a=n.n(r),i=a()("cozy-".concat("drive"));a.a.enable(),a.a.suggest.allow("cozy-".concat("drive"),"log"),a.a.suggest.allow("cozy-".concat("drive"),"info"),t.a=i},OZnT:function(e,t){e.exports="/img/app-icon.f49493c812ab389aaac1e61434f7995f.svg"},OjRq:function(e,t,n){"use strict";n.d(t,"b",(function(){return r.CozyFile})),n.d(t,"c",(function(){return r.Group})),n.d(t,"a",(function(){return b}));var r=n("Le8U"),a=n("lwsE"),i=n.n(a),o=n("W8MJ"),c=n.n(o),u=n("7W2i"),l=n.n(u),s=n("a1gu"),f=n.n(s),d=n("Nsbk"),m=n.n(d),p=n("FiiU");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var b=function(e){l()(n,e);var t=h(n);function n(){return i()(this,n),t.apply(this,arguments)}return c()(n,null,[{key:"getInitials",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(n.isContact(e))return Object(p.getInitials)(e);var r=e.public_name||e.name||e.email;return r&&r[0].toUpperCase()||t}},{key:"getDisplayName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n.isContact(e)?Object(p.getDisplayName)(e):e.public_name||e.name||e.email||t}}]),n}(r.Contact)},Om6k:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("R/WZ"),a=Object(r.a)((function(){return{root:{position:"fixed",right:function(e){var t=e.right;return t||"1rem"},bottom:function(e){var t=e.bottom;return t||"1rem"}}}}))},"On/j":function(e,t,n){"use strict";n.d(t,"a",(function(){return Ae}));var r=n("J4zp"),a=n.n(r),i=n("q1tI"),o=n.n(i),c=n("Vg22"),u=n("qxHO"),l=n("Jl/m"),s=n("67rm"),f=n("7oMs"),d=n("hO92"),m=n("pVnL"),p=n.n(m),h=n("QILm"),b=n.n(h),y=n("snfs"),v=n("1I/2"),g=n("buk/"),w=n("UxX4"),O=n("c8ah"),x=n("qVrW"),E=n("y6ex"),j=n("o+ty"),k=n("37ak"),C=Object(g.translate)()((function(e){var t=e.t,n=e.addFolder;return o.a.createElement(x.a,{"data-testid":"add-folder-link",onClick:n,left:o.a.createElement(E.a,{icon:j.a})},t("toolbar.menu_new_folder"))})),_=Object(c.connect)(null,(function(e){return{addFolder:function(){return e(Object(k.f)())}}}))(C),S=n("CXDI"),z=n("Bkvo"),I=Object(c.connect)(null,(function(e){return{addEncryptedFolder:function(){e(Object(k.b)()),e(Object(k.f)())}}}))((function(e){var t=e.addEncryptedFolder,n=Object(g.useI18n)().t,r=Object(z.f)().showUnlockForm;return o.a.createElement(x.a,{"data-testid":"add-encrypted-folder-link",onClick:function(){return r({onUnlock:t})},left:o.a.createElement(S.a,{width:16,height:16})},n("toolbar.menu_new_encrypted_folder"))})),F=n("o0o1"),P=n.n(F),D=n("yXPU"),T=n.n(D),N=n("mwIZ"),R=n.n(N),M=n("qvEe"),A=n("SH7X"),L=n("AHTZ"),B=n("idpt"),q=Object(g.translate)()(Object(A.withClient)((function(e){var t=e.client,n=e.t,r=e.displayedFolder,a=Object(A.useCapabilities)(t).capabilities,i=R()(a,"flat_subdomains"),c=Object(M.useWebviewIntent)(),u=void 0,l=!0,s=Object(A.useAppLinkWithStoreFallback)("notes",t),f=s.fetchStatus,d=s.url,m=s.isInstalled;"loaded"===f&&(u=d,l=m);var p="";return r&&(p=Object(y.isFlagshipApp)()&&c?Object(A.generateWebLink)({slug:"drive",cozyUrl:t.getStackClient().uri,subDomainType:i?"flat":"nested",pathname:"",hash:"/files/".concat(r.id)}):Object(L.a)({slug:"drive",cozyUrl:t.getStackClient().uri,subDomainType:i?"flat":"nested",nativePath:"/files/".concat(r.id)})),o.a.createElement(x.a,{"data-testid":"create-a-note",left:o.a.createElement(E.a,{icon:B.a}),onClick:T()(P.a.mark((function e(){var n,a,i;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==u){e.next=2;break}return e.abrupt("return");case 2:if(!l){e.next=15;break}return e.next=5,t.create("io.cozy.notes",{dir_id:r.id});case 5:return n=e.sent,a=n.data,e.next=9,A.models.note.generatePrivateUrl(u,a,{returnUrl:p});case 9:if(i=e.sent,!Object(y.isFlagshipApp)()||!c){e.next=12;break}return e.abrupt("return",c.call("openApp",i,{slug:"notes"}));case 12:window.location.href=i,e.next=16;break;case 15:window.location.href=u;case 16:case"end":return e.stop()}}),e)})))},n("toolbar.menu_create_note"))}))),U=n("Yo2A"),Q=n("QtnD"),V=n("GLV4"),W=n("KXWi"),H=n("ERmx"),X=n("P0cb"),K=n("X+Uv"),G=n("z6Q1"),Y=n("0YMz"),J=function(e){try{return new URL(e),!0}catch(t){return!1}},Z=function(e){var t=e.onClose,n=e.onCreated,r=Object(Y.c)(),c=Object(g.useI18n)().t,u=Object(i.useState)(""),f=a()(u,2),d=f[0],m=f[1],p=Object(i.useState)(""),h=a()(p,2),b=h[0],v=h[1],w=Object(A.useClient)(),O=Object(l.a)(),x=Object(i.useCallback)(T()(P.a.mark((function e(){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d&&b){e.next=3;break}return s.a.error(c("Shortcut.needs_info")),e.abrupt("return");case 3:if(a=J(i=b)?i:!!J("https://".concat(i))&&"https://".concat(i)){e.next=7;break}return s.a.error(c("Shortcut.url_badformat")),e.abrupt("return");case 7:if(e.prev=7,!O){e.next=12;break}s.a.error("alert.offline"),e.next=16;break;case 12:return e.next=14,w.save({_type:G.e,dir_id:r.id,name:d.endsWith(".url")?d:d+".url",url:a});case 14:s.a.success(c("Shortcut.created")),n&&n();case 16:t(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),e.t0.message.includes("NetworkError when attempting to fetch resource.")?s.a.error("upload.alert.network"):e.t0.message.includes("Invalid filename containing illegal character(s):")?s.a.error("alert.file_name_illegal_characters",{fileName:d,characters:e.t0.message.split("Invalid filename containing illegal character(s): ")[1]},{duration:2e3}):e.t0.message.includes("Invalid filename:")?s.a.error("alert.file_name_illegal_name",{fileName:d}):e.t0.message.includes("Missing name argument")?s.a.error("alert.file_name_missing"):s.a.error(c("Shortcut.errored"));case 22:case"end":return e.stop()}var i}),e,null,[[7,19]])}))),[w,d,t,n,c,b,r,O]),E=function(e){13===e.keyCode&&x()};return Object(i.useEffect)((function(){var e=setTimeout((function(){Object(y.isIOS)()&&window.scrollTo(0,0)}),30);return function(){return clearTimeout(e)}}),[]),o.a.createElement(V.a,{onClose:t,title:c("Shortcut.title_modal"),open:!0,content:o.a.createElement(K.a,null,o.a.createElement("div",null,o.a.createElement(H.a,{label:c("Shortcut.url"),id:"shortcuturl",variant:"outlined",onChange:function(e){return v(e.target.value)},onKeyDown:function(e){return E(e)},fullWidth:!0,margin:"normal",autoFocus:!0})),o.a.createElement("div",null,o.a.createElement(H.a,{label:c("Shortcut.filename"),id:"shortcutfilename",variant:"outlined",onChange:function(e){return m(e.target.value)},fullWidth:!0,margin:"normal",onKeyDown:function(e){return E(e)},InputProps:{endAdornment:o.a.createElement(X.a,{position:"end"},".url")}}))),actions:o.a.createElement(o.a.Fragment,null,o.a.createElement(W.c,{theme:"secondary",onClick:t,label:c("Shortcut.cancel")}),o.a.createElement(W.c,{theme:"primary",label:c("Shortcut.create"),onClick:x}))})},$=Object(c.connect)(null,(function(e,t){return{openModal:function(){return e(Object(U.d)(o.a.createElement(Z,{onCreated:t.onCreated})))}}}))((function(e){var t=e.openModal,n=Object(g.useI18n)().t;return o.a.createElement(x.a,{"data-testid":"create-a-shortcut",left:o.a.createElement(E.a,{icon:Q.a}),onClick:t},n("toolbar.menu_create_shortcut"))})),ee=n("fvjX"),te=n("abL+"),ne=n("asgm"),re=n("1soK"),ae=n("yEaX"),ie=Object(ee.compose)(te.a,Object(g.translate)(),Object(c.connect)(null,(function(e,t){var n=t.sharingState,r=t.onUploaded;return{onUpload:function(t,a,i,o){e(Object(ae.f)(i,o.id,n,r,{client:t,vaultClient:a}))}}})))((function(e){var t=e.t,n=e.isDisabled,r=e.onUpload,a=e.displayedFolder,i=Object(A.useClient)(),c=Object(z.e)();return o.a.createElement(ne.a,{label:t("toolbar.menu_upload"),disabled:n,multiple:!0,onChange:function(e){return r(i,c,e,a)},"data-testid":"upload-btn",value:[],onClick:function(e){return e.stopPropagation()}},o.a.createElement(x.a,{left:o.a.createElement(E.a,{icon:re.a}),onClick:function(e){return e.stopPropagation()}},t("toolbar.menu_upload")))})),oe=n("yUBE"),ce=n("66at"),ue=n("lwsE"),le=n.n(ue),se=n("W8MJ"),fe=n.n(se),de=n("7W2i"),me=n.n(de),pe=n("a1gu"),he=n.n(pe),be=n("Nsbk"),ye=n.n(be),ve=n("i8i4"),ge=n.n(ve),we=n("trYA");function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ye()(e);if(t){var a=ye()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return he()(this,n)}}var xe=function(e){me()(n,e);var t=Oe(n);function n(){return le()(this,n),t.apply(this,arguments)}return fe()(n,[{key:"render",value:function(){var e=this.props,t=e.file,n=e.doneCount,r=e.successCount,a=e.t,i=e.onClear;return ge.a.createPortal(o.a.createElement(we.a,{queue:t?[t]:[],doneCount:n,successCount:r,t:a,purgeQueue:i}),document.querySelector("[role=application]"))}}]),n}(i.Component),Ee=Object(g.translate)()(xe),je=n("xIbs"),ke=n("NMd3"),Ce=o.a.createContext(),_e=Object(c.connect)(null,(function(e){return{stopMediaBackup:function(){return e(Object(ke.b)())},startMediaBackup:function(){return e(Object(ke.d)())}}}))((function(e){var t=e.stopMediaBackup,n=e.startMediaBackup,r=e.children,a=e.displayedFolder;return Object(y.isMobileApp)()&&a?o.a.createElement(v.a,null,o.a.createElement(je.a,null,o.a.createElement(oe.c,{dirId:a.id,pluginConfig:{sourceType:1},generateName:function(){var e=new Date;return"Scan_".concat(e.toISOString().replace(/:/g,"-"),".jpg")},onConflict:"rename",onBeforeUpload:function(){return t()},onFinish:function(){n()}},(function(e){var t=e.status,n=e.error,a=e.startScanner,i=e.filename,c=e.onClear,u=e.online;return o.a.createElement(Ce.Provider,{value:{startScanner:a,status:t,error:n,online:u}},r,i&&o.a.createElement(Ee,{file:{file:{name:i,isDirectory:!1,status:t}},successCount:t===oe.a?1:0,doneCount:1,key:i,onClear:c}))})))):r})),Se=Object(g.translate)()((function(e){var t=e.t,n=Object(i.useContext)(Ce);if(!n)return null;var r=n.status,a=n.online,c=n.startScanner,u=function(){return alert(t("Scan.error.offline"))},l=function(){return alert(t("Scan.error.uploading"))},s=r===oe.b?l:a?c:u;return o.a.createElement(x.a,{onClick:function(){s()},left:o.a.createElement(E.a,{icon:ce.a})},t("Scan.scan_a_doc"))})),ze=n("Z7XG"),Ie=n("AT0p"),Fe=o.a.memo((function(e){var t=e.fileClass,n=e.navigate,r=e.params.folderId,a=void 0===r?ze.b:r,c=Object(g.useI18n)().t,u=Object(i.useCallback)((function(){Object(Ie.a)()?n("/onlyoffice/create/".concat(a,"/").concat(t)):n("/folder/".concat(a,"/paywall"))}),[t,a,n]),l=Object(i.useMemo)((function(){return Object(Ie.h)(t)}),[t]);return o.a.createElement(x.a,{onClick:u,left:o.a.createElement(E.a,{icon:l})},c("toolbar.menu_onlyOffice.".concat(t)))})),Pe=n("mgfL"),De=n.n(Pe),Te=["anchorRef","handleClose","isDisabled","canCreateFolder","canUpload","refreshFolderContent","isPublic","isEncryptedFolder","navigate","params","displayedFolder"],Ne=function(e){var t=e.isDisabled,n=e.canCreateFolder,r=e.canUpload,a=e.refreshFolderContent,i=e.isPublic,c=e.isEncryptedFolder,u=e.navigate,l=e.params,s=e.displayedFolder,f=Object(g.useI18n)().t,d=Object(v.b)(),m=d.isMobile,p=d.isDesktop;return o.a.createElement(o.a.Fragment,null,m&&o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{variant:"h6",className:"u-p-1"},f("toolbar.menu_add")),o.a.createElement("hr",null)),n&&!c&&o.a.createElement(_,null),n&&!i&&De()("drive.enable-encryption")&&o.a.createElement(I,null),!i&&!c&&o.a.createElement(q,{displayedFolder:s}),r&&Object(Ie.b)(p)&&!c&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Fe,{fileClass:"text",navigate:u,params:l}),o.a.createElement(Fe,{fileClass:"spreadsheet",navigate:u,params:l}),o.a.createElement(Fe,{fileClass:"slide",navigate:u,params:l})),!c&&o.a.createElement($,{onCreated:a}),r&&o.a.createElement("hr",null),r&&o.a.createElement(ie,{disabled:t,onUploaded:a,displayedFolder:s}),Object(y.isMobileApp)()&&r&&o.a.createElement(Se,{disabled:t}))},Re=function(e){var t=e.anchorRef,n=e.handleClose,r=e.isDisabled,a=e.canCreateFolder,i=e.canUpload,c=e.refreshFolderContent,u=e.isPublic,l=e.isEncryptedFolder,s=e.navigate,f=e.params,d=e.displayedFolder,m=b()(e,Te);return o.a.createElement(w.a,p()({anchorElRef:t,onClose:n,autoclose:!0,popperOptions:{strategy:"fixed"}},m),o.a.createElement(Ne,{isDisabled:r,canCreateFolder:a,canUpload:i,refreshFolderContent:c,isPublic:u,isEncryptedFolder:l,navigate:s,params:f,displayedFolder:d}))},Me=n("H57K"),Ae=Object(i.createContext)();t.b=o.a.memo((function(e){var t=e.disabled,n=e.canCreateFolder,r=e.canUpload,m=e.refreshFolderContent,p=e.children,h=e.isPublic,b=e.navigate,y=e.params,v=e.displayedFolder,g=Object(i.useState)(!1),w=a()(g,2),O=w[0],x=w[1],E=Object(c.useSelector)(f.e),j=Object(l.a)(),k=Object(i.useRef)(),C=Object(i.useCallback)((function(){return Object(d.a)(x)}),[x]),_=Object(i.useCallback)((function(){return Object(d.c)(O,x)}),[O,x]),S=Object(i.useMemo)((function(){return t||E}),[t,E]),z=Object(i.useMemo)((function(){return Object(Me.i)(v)}),[v]),I=Object(i.useCallback)((function(e){e.stopPropagation(),s.a.error("alert.offline"),Object(u.b)("Offline click on AddMenu button detected. Here is the value of window.navigator.onLine: ".concat(window.navigator.onLine))}),[]);return o.a.createElement(Ae.Provider,{value:{anchorRef:k,handleToggle:_,isDisabled:S,isOffline:j,handleOfflineClick:I,isPublic:h,a11y:{"aria-controls":O?"add-menu":void 0,"aria-haspopup":!0,"aria-expanded":!!O||void 0}}},p,o.a.createElement(_e,{displayedFolder:v},O&&o.a.createElement(Re,{id:"add-menu",anchorRef:k,handleClose:C,canCreateFolder:n,canUpload:r,refreshFolderContent:m,isPublic:h,isEncryptedFolder:z,navigate:b,params:y,displayedFolder:v})))}))},"Ow0/":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c}));var r="registry://drive",a="Cozy Drive",i="1224102389",o="market://details?id=io.cozy.drive.mobile",c="cozydrive://"},PGBS:function(e,t,n){"use strict";n.d(t,"k",(function(){return Qe})),n.d(t,"b",(function(){return Ve})),n.d(t,"d",(function(){return We})),n.d(t,"l",(function(){return He})),n.d(t,"g",(function(){return Xe})),n.d(t,"i",(function(){return Ke})),n.d(t,"e",(function(){return Ge})),n.d(t,"c",(function(){return Ye})),n.d(t,"h",(function(){return Je})),n.d(t,"m",(function(){return Ze})),n.d(t,"f",(function(){return $e})),n.d(t,"j",(function(){return et})),n.d(t,"a",(function(){return tt}));var r=n("o0o1"),a=n.n(r),i=n("yXPU"),o=n.n(i),c=n("pVnL"),u=n.n(c),l=n("QILm"),s=n.n(l),f=n("q1tI"),d=n.n(f),m=n("gqi3"),p=n("DA+R"),h=n("snfs"),b=n("YDfd"),y=n("qVrW"),v=n("y6ex"),g=n("sbrb"),w=n("46CF"),O=n("Tgut"),x=n("qXkR"),E=n("X2wl"),j=n("gr+E"),k=n("yOUz"),C=n("R9Yk"),_=n("ngVL"),S=n("7OZl"),z=n("FG0A"),I=n("L2cZ"),F=n("H57K"),P=n("3Cim"),D=n("lwsE"),T=n.n(D),N=n("W8MJ"),R=n.n(N),M=n("PJYZ"),A=n.n(M),L=n("7W2i"),B=n.n(L),q=n("a1gu"),U=n.n(q),Q=n("Nsbk"),V=n.n(Q),W=n("lSNA"),H=n.n(W),X=n("17x9"),K=n.n(X),G=n("fvjX"),Y=n("H2TA"),J=n("SH7X"),Z=n("OjRq"),$=n("OTOu"),ee=n("vpFq"),te=n("abL+"),ne=n("GLV4"),re=n("buk/"),ae=n("67rm"),ie=n("ufaa"),oe=n("Z7XG"),ce=n("6WMq"),ue=n("rR5K"),le=n("w2zn"),se=n("1HFg"),fe=n("XetN"),de=n("NQEN"),me=n("tLSP"),pe=n("0YMz"),he=n("T//5");function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=V()(e);if(t){var a=V()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return U()(this,n)}}var ye=function(e){B()(n,e);var t=be(n);function n(e){var r;T()(this,n),r=t.call(this,e),H()(A()(r),"navigateTo",(function(e){r.setState({folderId:e._id})})),H()(A()(r),"registerCancelable",(function(e){r.promises||(r.promises=[]);var t=Object(J.cancelable)(e);return r.promises.push(t),t})),H()(A()(r),"unregisterCancelables",(function(){r.promises.forEach((function(e){return e.cancel()})),r.promises=[]})),H()(A()(r),"moveEntries",function(){var e=o()(a.a.mark((function e(t){var n,i,c,u,l,s,f,d,m,p,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.props,i=n.client,c=n.entries,u=n.onClose,l=n.sharingState,s=n.t,f=l.sharedPaths,d=r.state.folderId,e.prev=3,r.setState({isMoveInProgress:!0}),m=[],e.next=8,Promise.all(c.map(function(){var e=o()(a.a.mark((function e(t){var n,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.registerCancelable(Z.b.getFullpath(d,t.name));case 2:return n=e.sent,i=!f.includes(n),e.next=6,r.registerCancelable(Z.b.move(t._id,{folderId:d},i));case 6:(o=e.sent).deleted&&m.push(o.deleted);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return e.next=10,r.registerCancelable(i.query(Object(J.Q)("io.cozy.files").getById(d)));case 10:p=e.sent,h=p.data.name||s("breadcrumb.title_drive"),ae.a.info("Move.success",{subject:1===c.length?c[0].name:"",target:h,smart_count:c.length,buttonText:s("Move.cancel"),buttonAction:function(){return r.cancelMove(c,m,t)}}),t&&t(),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),$.a.warn(e.t0),ae.a.error("Move.error",{smart_count:c.length});case 20:return e.prev=20,r.setState({isMoveInProgress:!1}),u({cancelSelection:!0}),e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[3,16,20,24]])})));return function(t){return e.apply(this,arguments)}}()),H()(A()(r),"cancelMove",function(){var e=o()(a.a.mark((function e(t,n,i){var o,c,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.props.client,e.prev=1,e.next=4,Promise.all(t.map((function(e){return r.registerCancelable(Z.b.move(e._id,{folderId:e.dir_id}))})));case 4:return c=o.collection(Z.b.doctype),u=0,e.next=8,Promise.all(n.map((function(e){try{r.registerCancelable(c.restore(e))}catch(t){u++}})));case 8:u?ae.a.info("Move.cancelledWithRestoreErrors",{subject:1===t.length?t[0].name:"",smart_count:t.length,restoreErrorsCount:u}):ae.a.info("Move.cancelled",{subject:1===t.length?t[0].name:"",smart_count:t.length}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),$.a.warn(e.t0),ae.a.error("Move.cancelled_error",{smart_count:t.length});case 15:return e.prev=15,i&&i(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,11,15,18]])})));return function(t,n,r){return e.apply(this,arguments)}}()),r.promises=[];var i=e.displayedFolder;return r.state={folderId:i?i._id:oe.b,isMoveInProgress:!1},r}return R()(n,[{key:"componentWillUnmount",value:function(){this.unregisterCancelables()}},{key:"render",value:function(){var e=this,t=this.props,n=t.onClose,r=t.entries,a=t.classes,i=t.breakpoints.isMobile,o=this.state,c=o.folderId,u=o.isMoveInProgress,l=Object(he.h)(c),s=Object(he.i)(c);return d.a.createElement(ne.a,{open:!0,onClose:i?void 0:n,size:"large",classes:{paper:a.paper},title:d.a.createElement(d.a.Fragment,null,d.a.createElement(ce.a,{entries:r}),d.a.createElement(J.Query,{query:s.definition(),fetchPolicy:s.options.fetchPolicy,as:s.options.as,key:"breadcrumb-".concat(c)},(function(t){var n=t.data,r=t.fetchStatus;return d.a.createElement(me.a,{navigateTo:e.navigateTo,currentDir:n,fetchStatus:r})}))),content:d.a.createElement(J.Query,{query:l.definition(),fetchPolicy:l.options.fetchPolicy,as:l.options.as,key:"content-".concat(c)},(function(t){var n=t.data,a=t.fetchStatus,i=t.hasMore,o=t.fetchMore;return d.a.createElement(ue.a,null,d.a.createElement(se.a,{fetchStatus:a,hasNoData:0===n.length},d.a.createElement(le.a,{files:n,targets:r,navigateTo:e.navigateTo}),d.a.createElement(fe.a,{hasMore:i,fetchMore:o})))})),actions:d.a.createElement(ee.a,null,(function(t){var a=t.refresh;return d.a.createElement(de.a,{onConfirm:function(){return e.moveEntries(a)},onClose:n,targets:r,currentDirId:c,isMoving:u})}))})}}]),n}(d.a.Component);ye.propTypes={client:K.a.object.isRequired,displayedFolder:K.a.object.isRequired,entries:K.a.array,t:K.a.func.isRequired,sharingState:K.a.object};var ve=Object(G.compose)(Object(re.translate)(),J.withClient,te.a,Object(Y.a)((function(e){return{paper:{height:"100%","& .MuiDialogContent-root":{padding:"0"},"& .MuiDialogTitle-root":H()({padding:"0"},e.breakpoints.down("sm"),{width:"100%",overflow:"visible","& .MuiButtonBase-root":{display:"none"}})}}})),Object(ie.a)())((function(e){var t=Object(pe.c)();return d.a.createElement(ye,u()({displayedFolder:t},e))})),ge=n("FFOw"),we=n("1I/2"),Oe=n("lXO7"),xe=n("32XB"),Ee=n.n(xe),je=function(e){var t=e.docId,n=e.onClick,r=Object(re.useI18n)().t,a=Object(we.b)().isMobile;return d.a.createElement(y.a,{onClick:n,left:d.a.createElement(v.a,{icon:Oe.a}),right:a?d.a.createElement(ge.a,{className:Ee.a["fil-actionmenu-recipients"],docId:t,size:"small"}):null},r("Files.share.cta"))},ke=n("Vg22"),Ce=n("R/WZ"),_e=n("Bkvo"),Se=n("+iqp"),ze=n("K19I"),Ie=n("iTW1"),Fe=["checked","toggleOfflineAvailability"],Pe=Object(Ce.a)((function(){return{sizeSmall:{marginTop:"-0.2rem"}}})),De=Object(ke.connect)((function(e,t){return{checked:Object(Ie.b)(e,t.file.id)}}),(function(e,t){return{toggleOfflineAvailability:function(n,r){return e(Object(Ie.e)(t.file,n,{vaultClient:r}))}}}))((function(e){var t=e.checked,n=e.toggleOfflineAvailability,r=s()(e,Fe),a=Object(re.useI18n)().t,i=Object(J.useClient)(),o=Object(_e.e)(),c=Pe(),l=Object(f.useCallback)((function(e){return e.stopPropagation(),n(i,o)}),[i,n,o]);return d.a.createElement(y.a,u()({},r,{left:d.a.createElement(v.a,{icon:ze.a}),right:d.a.createElement(Se.a,{id:"offline-switch",checked:t,onClick:function(e){return l(e)},size:"small",classes:{sizeSmall:c.sizeSmall}})}),a("SelectionBar.phone-download"))})),Te=n("e5eR"),Ne=n("KXWi"),Re=n("X+Uv"),Me=n("MFii"),Ae=n("ldF/"),Le=Object(re.translate)()((function(e){var t=e.t,n=e.files,r=e.onClose,i=Object(J.useClient)();return d.a.createElement(Te.a,{open:!0,onClose:r,title:t("destroyconfirmation.title",n.length),content:d.a.createElement(Re.a,null,d.a.createElement(Ae.a,{icon:"forbidden",text:t("destroyconfirmation.forbidden",n.length)}),d.a.createElement(Ae.a,{icon:"restore",text:t("destroyconfirmation.restore",n.length)})),actions:d.a.createElement(d.a.Fragment,null,d.a.createElement(Ne.c,{theme:"secondary",onClick:r,label:t("destroyconfirmation.cancel")}),d.a.createElement(Ne.c,{theme:"danger",label:t("destroyconfirmation.delete"),onClick:o()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Me.a)(i,n);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:return e.prev=7,r(),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[0,5,7,10]])})))}))})})),Be=n("JZSQ"),qe=["files"],Ue=["files"],Qe=function(e){var t=e.hasWriteAccess,n=e.pushModal,r=e.popModal;return{name:"share",icon:"share",displayCondition:function(e){return t&&1===e.length&&!Object(F.h)(e[0])},action:function(e){return n(d.a.createElement(p.a,{document:e[0],documentType:"Files",sharingDesc:e[0].name,onClose:r}))},Component:function(e){var t=e.files,n=s()(e,qe);return d.a.createElement(je,u()({docId:t[0].id},n))}}},Ve=function(e){var t=e.client,n=e.vaultClient;return Object(h.isMobileApp)()?{name:"forwardTo",icon:"download",displayCondition:function(e){return Object(h.isIOSApp)()?1===e.length&&Object(m.isFile)(e[0]):e.reduce((function(e,t){return e&&Object(m.isFile)(t)}),!0)},action:function(e){return Object(Me.d)(t,e,{vaultClient:n})},Component:function(e){var r=Object(re.useI18n)().t;return d.a.createElement(y.a,{onClick:function(){return Object(Me.d)(t,e.files,{vaultClient:n})},left:d.a.createElement(v.a,{icon:Object(h.isIOSApp)()?S.a:_.a})},r("SelectionBar.forwardTo"))}}:{name:"download",icon:"download",displayCondition:function(e){return!(e.some((function(e){return Object(F.i)(e)}))||e.length>1&&e.some((function(e){return Object(F.g)(e)})))},action:function(e){return Object(Me.b)(t,e,{vaultClient:n})},Component:function(e){var r=Object(re.useI18n)().t;return d.a.createElement(y.a,{onClick:function(){return Object(Me.b)(t,e.files,{vaultClient:n})},left:d.a.createElement(v.a,{icon:g.a})},r("SelectionBar.download"))}}},We=function(){return{name:"hr",icon:"hr",displayInSelectionBar:!1,Component:function(){return d.a.createElement("hr",null)}}},He=function(e){var t=e.pushModal,n=e.popModal,r=e.hasWriteAccess,a=e.refresh;return{name:"trash",icon:"trash",displayCondition:function(){return r},action:function(e){return t(d.a.createElement(P.a,{files:e,afterConfirmation:function(){a()},onClose:n}))},Component:function(e){var r=Object(re.useI18n)().t;return d.a.createElement(y.a,{onClick:function(){return t(d.a.createElement(P.a,{files:e.files,afterConfirmation:function(){a()},onClose:n}))},left:d.a.createElement(v.a,{icon:w.a,color:"var(--errorColor)"})},d.a.createElement("span",{className:"u-error"},r("SelectionBar.trash")))}}},Xe=function(e){var t=e.client,n=e.vaultClient;return{name:"openWith",icon:"openWith",displayCondition:function(e){return Object(h.isMobileApp)()&&1===e.length&&Object(m.isFile)(e[0])},action:function(e){return Object(Me.e)(t,e[0],{vaultClient:n})},Component:function(e){var r=Object(re.useI18n)().t;return d.a.createElement(y.a,{onClick:function(){return Object(Me.e)(t,e.files[0],{vaultClient:n})},left:d.a.createElement(v.a,{icon:Object(h.isIOSApp)()?I.a:z.a})},Object(h.isIOSApp)()?r("SelectionBar.applePreview"):r("SelectionBar.openWith"))}}},Ke=function(e){var t=e.hasWriteAccess,n=e.dispatch;return{name:"rename",icon:"rename",displayCondition:function(e){return t&&1===e.length},action:function(e){return n(Object(Be.e)(e[0]))},Component:function(e){var t=Object(re.useI18n)().t;return d.a.createElement(y.a,{onClick:function(){return n(Object(Be.e)(e.files[0]))},left:d.a.createElement(v.a,{icon:O.a})},t("SelectionBar.rename"))}}},Ge=function(e){var t=e.canMove,n=e.pushModal,r=e.popModal;return{name:"moveto",icon:"moveto",displayCondition:function(){return t},action:function(e){return n(d.a.createElement(ve,{entries:e,onClose:r}))},Component:function(e){var t=Object(re.useI18n)().t;return d.a.createElement(y.a,{onClick:function(){return n(d.a.createElement(ve,{entries:e.files,onClose:r}))},left:d.a.createElement(v.a,{icon:x.a})},t("SelectionBar.moveto"))}}},Ye=function(e){var t,n=e.client,r=e.hasWriteAccess,i=e.refresh,c=e.isPublic;return{name:"duplicate",icon:E.a,displayCondition:function(e){return 1===e.length&&Object(m.isFile)(e[0])&&r},action:(t=o()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.collection("io.cozy.files").copy(t[0].id);case 2:c&&i();case 3:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),Component:function(e){var t=Object(re.useI18n)().t;return d.a.createElement(y.a,{onClick:o()(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.collection("io.cozy.files").copy(e.files[0].id);case 2:c&&i();case 3:case"end":return t.stop()}}),t)}))),left:d.a.createElement(v.a,{icon:E.a})},t("SelectionBar.duplicate"))}}},Je=function(e){var t=e.pushModal,n=e.popModal;return{name:"qualify",icon:"qualify",displayCondition:function(e){return 1===e.length&&Object(m.isFile)(e[0])},action:function(e){return t(d.a.createElement(b.a,{document:e[0],onQualified:function(){n()},onClose:n}))},Component:function(e){var r=Object(re.useI18n)().t;return d.a.createElement(y.a,{onClick:function(){return t(d.a.createElement(b.a,{document:e.files[0],onQualified:function(){n()},onClose:n}))},left:d.a.createElement(v.a,{icon:j.a})},r("SelectionBar.qualify"))}}},Ze=function(e){var t=e.navigate,n=e.pathname;return{name:"history",icon:"history",displayCondition:function(e){return 1===e.length&&Object(m.isFile)(e[0])},action:function(e){return t("".concat(n).concat(n.endsWith("/")?"":"/","file/").concat(e[0].id,"/revision"))},Component:function(e){var r=Object(re.useI18n)().t;return d.a.createElement(y.a,{onClick:function(){return t("".concat(n).concat(n.endsWith("/")?"":"/","file/").concat(e.files[0].id,"/revision"))},left:d.a.createElement(v.a,{icon:k.a})},r("SelectionBar.history"))}}},$e=function(){return{name:"phone-download",icon:"phone-download",displayCondition:function(e){return Object(h.isMobileApp)()&&1===e.length&&Object(m.isFile)(e[0])},Component:function(e){var t=e.files,n=s()(e,Ue);return d.a.createElement(De,u()({file:t[0]},n))}}},et=function(e){var t,n=e.refresh,r=e.client;return{name:"restore",icon:"restore",action:(t=o()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Me.f)(r,t);case 2:n();case 3:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),Component:function(e){var t=Object(re.useI18n)().t;return d.a.createElement(y.a,{onClick:o()(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Me.f)(r,e.files);case 2:n();case 3:case"end":return t.stop()}}),t)}))),left:d.a.createElement(v.a,{icon:C.a})},t("SelectionBar.restore"))}}},tt=function(e){var t=e.pushModal,n=e.popModal;return{name:"destroy",icon:"trash",action:function(e){return t(d.a.createElement(Le,{files:e,onClose:n}))},Component:function(e){var r=Object(re.useI18n)().t;return d.a.createElement(y.a,{onClick:function(){return t(d.a.createElement(Le,{files:e.files,onClose:n}))},left:d.a.createElement(v.a,{icon:w.a,color:"var(--errorColor)"})},d.a.createElement("span",{className:"u-error"},r("SelectionBar.destroy")))}}}},PhqT:function(e,t,n){e.exports={"CozyTheme--inverted":"CozyTheme--inverted--3kiol","CozyTheme--normal":"CozyTheme--normal--3rdSw","pho-viewer-noviewer-cta":"pho-viewer-noviewer-cta--2RT0a","pho-viewer-noviewer-cta-cross":"pho-viewer-noviewer-cta-cross--1E-8f"}},QDdI:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return v}));var r=n("o0o1"),a=n.n(r),i=n("yXPU"),o=n.n(i),c=n("q3u0"),u=n("1eh9"),l="UNLINK",s=function(e,t){return function(){var n=o()(a.a.mark((function n(r){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.logout(),Object(c.e)(e,t),n.next=4,Object(u.b)();case 4:return n.abrupt("return",r({type:l}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},f=n("lSNA"),d=n.n(f);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={authorized:!1,revoked:!1,client:null,token:null},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CLIENT":return p(p({},e),{},{authorized:!0,revoked:!1,client:t.client});case"SET_TOKEN":return p(p({},e),{},{token:t.token});case"REVOKE":return p(p({},e),{},{revoked:!0});case"UNREVOKE":return p(p({},e),{},{revoked:!1});default:return e}},y=(n("cSBT"),function(e,t){if(e.mobile&&e.mobile.authorization&&void 0!==e.mobile.authorization[t])return e.mobile.authorization[t]}),v=function(e){return y(e,"client")}},QQky:function(e,t,n){"use strict";var r=n("mwIZ"),a=n.n(r),i=n("o+ty"),o=n("Qyrq"),c=n("yTY/"),u=n("xdaE"),l=n("hOHR"),s=n("7Zso"),f=n("9Vgm"),d=n("Fmzl"),m=n("S+Db"),p=n("JXEA"),h=n("Ln16"),b=n("XvEd"),y=n("idpt"),v=n("CXDI"),g=n("J4zp"),w=n.n(g),O=n("zB2q"),x=n.n(O),E=function(e){return x.a.lookup(e)||"application/octet-stream"},j={word:"text",text:"text",zip:"zip",pdf:"pdf",spreadsheet:"sheet",excel:"sheet",sheet:"sheet",presentation:"slide",powerpoint:"slide"},k=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r="application/octet-stream"===t?E(n.toLowerCase()):t,a=r.split("/"),i=w()(a,2),o=i[0],c=i[1];if(e[o])return o;if("application"===o){var u=c.match(Object.keys(j).join("|"));return u?j[u[0]]:void 0}}};t.a=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},g=r.isEncrypted,w=void 0!==g&&g;if(w)return v.a;if(e)return i.a;if(/\.cozy-note$/.test(t))return y.a;var O={audio:o.a,bin:c.a,code:u.a,image:s.a,pdf:f.a,slide:d.a,sheet:m.a,text:p.a,video:h.a,zip:b.a},x=k(O)(n,t);return a()(O,x,l.a)}},QmKc:function(e,t,n){e.exports={"fil-content-row-selected":"fil-content-row-selected--2YE0h","CozyTheme--inverted":"CozyTheme--inverted--1-cIB","CozyTheme--normal":"CozyTheme--normal--3iwbS","fil-content-cell":"fil-content-cell--HBfF4","fil-content-row":"fil-content-row--3tUJY","fil-content-file-select":"fil-content-file-select--3xRxR","fil-content-sharestatus":"fil-content-sharestatus--_2V0-","fil-content-row--center":"fil-content-row--center--38ZfS","fil-content-row-actioned":"fil-content-row-actioned--1ZmSl","fil-content-row-disabled":"fil-content-row-disabled--zwfeB","fil-content-row-bigger":"fil-content-row-bigger--1zkOs","fil-content-ext":"fil-content-ext--3vi7B","fil-content-header":"fil-content-header--2G5CB","fil-content-mobile-head":"fil-content-mobile-head--stPDy","fil-content-mobile-header":"fil-content-mobile-header--3J9WD","fil-content-header-sortableasc":"fil-content-header-sortableasc--3njaT","fil-content-header-sortabledesc":"fil-content-header-sortabledesc--n_RWE","fil-content-header-sortasc":"fil-content-header-sortasc--1wGfS","fil-content-header-sortdesc":"fil-content-header-sortdesc--HO-Uf","fil-content-file":"fil-content-file--2cyZM","fil-content-file-openable":"fil-content-file-openable--2I7DZ","fil-file-thumbnail":"fil-file-thumbnail--jxk48","fil-file-thumbnail--spinner":"fil-file-thumbnail--spinner--30wfg","fil-file-thumbnail-image":"fil-file-thumbnail-image--3UQvE","fil-content-shared":"fil-content-shared--nroRM","fil-content-date":"fil-content-date--269HK","fil-content-size":"fil-content-size--3keGT","fil-content-narrow":"fil-content-narrow--q5a7D","fil-content-status":"fil-content-status--1etSl","fil-content-header-status":"fil-content-header-status--2dAhY","fil-content-offline":"fil-content-offline--LQivN","fil-content-file-action":"fil-content-file-action--V70XH","fil-content-header-action":"fil-content-header-action--3l7K_","fil-content-body--selectable":"fil-content-body--selectable--10Pwu","fil-file":"fil-file--1wFvs","fil-file-filename":"fil-file-filename--17PQJ","fil-file-filename-wrapper":"fil-file-filename-wrapper--2l4sx","fil-file-filename-and-ext":"fil-file-filename-and-ext--3XCEN","fil-file-filename-spinner":"fil-file-filename-spinner--1h6S0","fil-file-description":"fil-file-description--1Ya2g","fil-file-description--path":"fil-file-description--path--3xdkn","fil-file-certifications":"fil-file-certifications--3fY3B","fil-file-certifications--separator":"fil-file-certifications--separator--mYPzV","fil-file-certifications--icon":"fil-file-certifications--icon--MX_0d","fil-file-path":"fil-file-path--1SRH0","fil-file-infos":"fil-file-infos--2LE_d","fil-content-file-placeholder":"fil-content-file-placeholder--wth58",placeHolderShimmer:"placeHolderShimmer--AXJs0","fil-content-sharestatus--disabled":"fil-content-sharestatus--disabled--2S3Ff","fil-content-file-action--disabled":"fil-content-file-action--disabled--2xhPK","fil-content-body":"fil-content-body--2o5N_","fil-content-table-selection":"fil-content-table-selection--YjKJI","fil-content-body--withFabActive":"fil-content-body--withFabActive--3wuS9","fil-content-head":"fil-content-head--3qU4k"}},R6Il:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("J3YJ");t.a=function(e){var t=e.children;return a.a.createElement(i.a,null,t)}},SICK:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("17x9"),o=n.n(i),c=n("gqi3"),u=n("y6ex"),l=n("H57K"),s=n("QQky"),f=function(e){var t=e.file,n=e.size,r=void 0===n?32:n,i=e.isEncrypted,o=void 0!==i&&i,f=Object(c.isDirectory)(t),d=o||c.isDirectory&&Object(l.i)(t);return a.a.createElement(u.a,{icon:Object(s.a)(f,t.name,t.mime,{isEncrypted:d}),size:r})};f.propTypes={file:o.a.shape({type:o.a.string,mime:o.a.string,name:o.a.string}).isRequired,size:o.a.number},t.a=f},SvPG:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("pVnL"),a=n.n(r),i=n("QILm"),o=n.n(i),c=n("q1tI"),u=n.n(c),l=n("buk/"),s=n("KXWi"),f=n("Pxjx"),d=n("swni"),m=n.n(d),p=["disabled","onClick"],h=function(e){var t=e.disabled,n=e.onClick,r=o()(e,p),i=Object(l.useI18n)().t;return u.a.createElement(s.a,a()({"data-testid":"more-button",className:m.a["dri-btn--more"],theme:"secondary",disabled:t,onClick:n,extension:"narrow",icon:f.a,iconOnly:!0,label:i("Toolbar.more")},r))},b=n("17x9"),y=n.n(b),v=n("Z7XG"),g=function(e){var t=e.className,n=Object(l.useI18n)().t;return u.a.createElement(s.b,{label:n("Share.create-cozy"),icon:"cloud",className:t,href:v.a,size:"normal"})};g.propTypes={from:y.a.string},g.defaultProps={from:""}},"T//5":function(e,t,n){"use strict";n.d(t,"r",(function(){return s})),n.d(t,"l",(function(){return p})),n.d(t,"o",(function(){return y})),n.d(t,"h",(function(){return g})),n.d(t,"q",(function(){return w})),n.d(t,"g",(function(){return O})),n.d(t,"i",(function(){return x})),n.d(t,"f",(function(){return E})),n.d(t,"e",(function(){return j})),n.d(t,"b",(function(){return k})),n.d(t,"m",(function(){return C})),n.d(t,"d",(function(){return _})),n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return d})),n.d(t,"k",(function(){return m})),n.d(t,"j",(function(){return h})),n.d(t,"n",(function(){return b})),n.d(t,"p",(function(){return v}));var r=n("lSNA"),a=n.n(r),i=n("SH7X"),o=n.n(i),c=n("Z7XG"),u=n("z6Q1"),l=o.a.fetchPolicies.olderThan(54e4),s=function(e){var t=e.split(" ");return 4!==t.length?null:{type:t[0],folderId:t[1],sortAttribute:t[2],sortOrder:t[3]}},f=function(e,t,n,r){return"".concat(e," ").concat(t," ").concat(n," ").concat(r)},d=function(e){var t=e.currentFolderId,n=e.type,r=e.sortAttribute,o=e.sortOrder;return{definition:function(){return Object(i.Q)("io.cozy.files").where(a()({dir_id:t,type:n},r,{$gt:null})).partialIndex({_id:{$ne:c.d}}).indexFields(["dir_id","type",r]).sortBy([{dir_id:o},{type:o},a()({},r,o)]).include(["encryption"]).limitBy(100)},options:{as:f(n,t,r,o),fetchPolicy:l}}},m=function(){return{definition:function(){return Object(i.Q)("io.cozy.files").where({type:"file",trashed:!1,updated_at:{$gt:null}}).indexFields(["type","trashed","updated_at"]).sortBy([{type:"desc"},{trashed:"desc"},{updated_at:"desc"}]).limitBy(50)},options:{as:"recent-view-query",fetchPolicy:l}}},p=function(e){var t=e.attribute;return{definition:function(){var e;return Object(i.Q)("io.cozy.files").where((e={type:"file",trashed:!1},a()(e,"metadata.".concat(t),!0),a()(e,"updated_at",{$gt:null}),e)).indexFields(["metadata.".concat(t),"type","trashed","updated_at"]).limitBy(1)},options:{as:"recent-view-query-with-".concat(t),fetchPolicy:l}}},h=function(e){return{definition:function(){return Object(i.Q)("io.cozy.files").getByIds(e)},options:{as:"parents-by-ids-".concat(e.join("")),fetchPolicy:l}}},b=function(e){var t=e.ids,n=e.enabled,r=void 0===n||n;return{definition:function(){return Object(i.Q)("io.cozy.files").getByIds(t).sortBy([{type:"asc"},{name:"asc"}])},options:{as:"sharings-by-ids-".concat(t.join("")),enabled:r,fetchPolicy:l}}},y=function(e){var t=e.sharedDocumentIds,n=e.attribute;return{definition:function(){return Object(i.Q)("io.cozy.files").getByIds(t).where(a()({},"metadata.".concat(n),!0)).limitBy(1)},options:{as:"sharings-by-ids-".concat(t.join(""),"-with-").concat(n),fetchPolicy:l}}},v=function(e){var t=e.currentFolderId,n=e.sortAttribute,r=e.sortOrder,c=e.type,u=e.limit;return{definition:function(){return Object(i.Q)("io.cozy.files").where(a()({dir_id:t,type:c},n,{$gt:null})).indexFields(["dir_id","type",n]).sortBy([{dir_id:r},{type:r},a()({},n,r)]).limitBy(u||100)},options:{as:"trash-".concat(f(c,t,n,r)),fetchPolicy:o.a.fetchPolicies.olderThan(54e4)}}},g=function(e){return{definition:function(){return Object(i.Q)("io.cozy.files").where({dir_id:e,type:{$gt:null},name:{$gt:null}}).partialIndex({_id:{$ne:c.d}}).indexFields(["dir_id","type","name"]).sortBy([{dir_id:"asc"},{type:"asc"},{name:"asc"}]).limitBy(100)},options:{as:"moveOrImport-".concat(e),fetchPolicy:o.a.fetchPolicies.olderThan(54e4)}}},w=function(e){var t=s(e),n=t.type,r=t.folderId,a=t.sortAttribute,i=t.sortOrder;return f("directory"===n?"file":"directory",r,a,i)},O=function(e){return{definition:function(){return Object(i.Q)("io.cozy.files").getById(e).include(["encryption","parent"])},options:{as:"folder-"+e,fetchPolicy:l}}},x=function(e){return{definition:function(){return Object(i.Q)("io.cozy.files").getById(e)},options:{as:"onlyfolder-"+e,fetchPolicy:l,singleDocData:!0}}},E=function(e){var t=e.currentFolderId,n=e.attribute;return{definition:function(){var e;return Object(i.Q)("io.cozy.files").where((e={dir_id:t},a()(e,"metadata.".concat(n),!0),a()(e,"type","file"),e)).indexFields(["dir_id","metadata.".concat(n),"type"]).limitBy(1)},options:{as:"specific-metadata-".concat(n,"-for-").concat(t),fetchPolicy:l}}},j=function(e){return{definition:function(){return Object(i.Q)("io.cozy.files").getById(e)},options:{as:"io.cozy.files/".concat(e),fetchPolicy:l,singleDocData:!0}}},k=function(){return{definition:Object(i.Q)("io.cozy.apps"),options:{as:"io.cozy.apps",fetchPolicy:l}}},C=function(e){return{definition:Object(i.Q)("io.cozy.settings").getById(e),options:{as:"io.cozy.settings/".concat(e),fetchPolicy:l,singleDocData:!0}}},_=function(e){return{definition:Object(i.Q)(u.d).getById(e),options:{as:e,fetchPolicy:l}}},S=function(e){return{definition:Object(i.Q)(u.a).getById(e),options:{as:"io.cozy.photos.albums/".concat(e),fetchPolicy:l,singleDocData:!0}}}},T6Hw:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("V4z/"),o=n("SH7X"),c=n("17x9"),u=n.n(c),l=n("mwIZ"),s=n.n(l),f=n("V2U0"),d=n("buk/"),m=n("c8ah"),p=n("H9Vh"),h=n("siNt"),b=n.n(h),y=n("OjRq"),v=n("snfs"),g=n("MFii"),w=n("qFRD"),O=function(e,t){return t(e,"DD MMMM - HH:mm")},x=function(e){var t=e.file,n=e.revisions,r=e.client,c=e.f,u=e.t,l=e.revisionsFetchStatus,d=r.collection("io.cozy.files"),h=Object(o.useCapabilities)(r),x=s()(h,"capabilities.file_versioning"),E=Object(i.n)();return a.a.createElement(w.a,{onClose:function(){return E("../")},open:!0,title:t.name,content:a.a.createElement(a.a.Fragment,null,a.a.createElement(m.a,{variant:"caption",className:b.a.HistoryRowCaption},"loading"===h.fetchStatus&&a.a.createElement("span",null,u("History.loading")),"loaded"===h.fetchStatus&&x&&a.a.createElement("span",null,u("History.description")),("failed"===h.fetchStatus||!x&&"loading"!==h.fetchStatus)&&a.a.createElement("span",null,u("History.noFileVersionEnabled"))),a.a.createElement(p.a,{tag:u("History.current_version"),primaryText:O(t.updated_at,c),secondaryText:d.getBeautifulSize(t),downloadLink:function(){Object(v.isMobileApp)()?Object(g.d)(r,[t],t.name):d.download(t)}}),"loading"===l&&a.a.createElement("div",{className:b.a.HistoryRowRevisionLoader},a.a.createElement(f.b,{size:"xxlarge"})),"loaded"===l&&n.map((function(e){return a.a.createElement(p.a,{primaryText:O(e.updated_at,c),secondaryText:d.getBeautifulSize(e),key:e._id,downloadLink:function(){Object(v.isMobileApp)()?Object(g.d)(r,[e],y.b.generateFileNameForRevision(t,e,c)):d.download(t,e.id,y.b.generateFileNameForRevision(t,e,c))}})})))})};x.propTypes={file:u.a.object.isRequired,revisions:u.a.array,client:u.a.object.isRequired,f:u.a.func.isRequired,t:u.a.func.isRequired,revisionsFetchStatus:u.a.string.isRequired};var E=Object(d.translate)()(Object(o.withClient)(x));t.a=function(){var e=Object(i.p)().fileId;return a.a.createElement(o.Query,{query:function(){return Object(o.Q)("io.cozy.files").getById(e)}},(function(t){var n=t.data,r=t.fetchStatus;return a.a.createElement(o.Query,{query:function(t){return t.all("io.cozy.files.versions").where({relationships:{file:{data:{_id:e}}},updated_at:{$gt:null}}).sortBy([{"relationships.file.data._id":"desc"},{updated_at:"desc"}]).indexFields(["relationships.file.data._id","updated_at"])}},(function(e){var t=e.data,i=e.fetchStatus;return"loaded"===r?a.a.createElement(E,{revisions:t,file:n,revisionsFetchStatus:i,fileFetchStatus:r}):null}))}))}},Tdi7:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),i=n("q1tI"),o=n.n(i),c=n("buk/"),u=n("KXWi"),l=n("/T4a"),s=n("On/j");t.a=o.a.memo((function(){var e=Object(c.useI18n)().t,t=Object(i.useContext)(s.a),n=t.anchorRef,r=t.handleToggle,f=t.isDisabled,d=t.handleOfflineClick,m=t.isOffline,p=t.a11y;return o.a.createElement("div",{ref:n,onClick:m?d:void 0},o.a.createElement(u.c,a()({onClick:r,disabled:f||m,icon:l.a,label:e("toolbar.menu_add")},p)))}))},UQWb:function(e,t,n){"use strict";n.r(t),n.d(t,"updateStatusBackgroundService",(function(){return h})),n.d(t,"startBackgroundService",(function(){return b})),n.d(t,"disableBackgroundService",(function(){return v}));var r=n("o0o1"),a=n.n(r),i=n("yXPU"),o=n.n(i),c=n("HK68"),u=n("1eh9"),l=n("NMd3"),s=n("q3u0"),f=n("qxHO"),d=n("OTOu"),m=n("/GQe"),p=n("snfs"),h=function(e){e?y():v()},b=function(){_()?I():O()?j():g()},y=function(){_()?S():O()?x():g()},v=function(){var e=o()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_()){e.next=4;break}z(),e.next=10;break;case 4:if(!O()){e.next=9;break}return e.next=7,E();case 7:e.next=10;break;case 9:g();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e="Background Service is not compatible with your platform.";d.a.warn(e),Object(p.isMobileApp)()&&(d.a.log(Object(p.getPlatform)()),Object(p.isIOSApp)()?d.a.log(window.BackgroundFetch):Object(p.isAndroidApp)()&&d.a.log(window.JSBackgroundService)),Object(f.b)(e)},w=function(){var e=o()(a.a.mark((function e(){var t,n,r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.a.log("BackgroundFetch initiated"),e.prev=1,e.next=4,Object(u.a)();case 4:return t=e.sent,n=t.mobile.settings.serverUrl,Object(f.a)(),e.next=9,Object(s.d)(n);case 9:return r=e.sent,i=Object(c.a)({client:r,t:Object(m.a)(),initialState:t}),e.abrupt("return",i.dispatch(Object(l.d)()));case 14:return e.prev=14,e.t0=e.catch(1),e.abrupt("return");case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}(),O=function(){return Object(p.isAndroidApp)()&&void 0!==window.JSBackgroundService},x=function(){var e=o()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:e.sent||(36e5,window.JSBackgroundService.setRepeating(36e5,(function(e){e&&(d.a.warn(e),Object(f.b)("enableAndroidBackgroundService error"))})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=o()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:e.sent&&window.JSBackgroundService.cancelRepeating((function(e){e&&(d.a.warn(e),Object(f.b)("disableAndroidBackgroundService error"))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){w().then((function(){k()}))},k=function(){window.service.workDone()},C=function(){return new Promise((function(e){window.JSBackgroundService.isRepeating((function(t,n){t&&(d.a.warn(t),Object(f.b)("isEnableAndroidBackgroundService error"),e(!1)),e(n)}))}))},_=function(){return Object(p.isIOSApp)()&&void 0!==window.BackgroundFetch},S=function(){window.BackgroundFetch.configure(I,(function(e){d.a.log("BackgroundFetch failed",e)}),{stopOnTerminate:!1})},z=function(){window.BackgroundFetch.stop()},I=function(){w().then((function(){F()}))},F=function(){window.BackgroundFetch.finish()}},W4HF:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("V4z/"),o=n("SH7X"),c=n("GoJ1"),u=n("le8I"),l=n("buk/"),s=n("Xbs7");t.a=Object(l.translate)()((function(e){var t=e.t,n=Object(i.p)().fileId,r=Object(o.useClient)(),l=Object(o.useFetchShortcut)(r,n),f=l.shortcutInfos,d=l.fetchStatus;return f&&(window.location.href=f.data.attributes.url),a.a.createElement(a.a.Fragment,null,a.a.createElement(u.a,null),"failed"===d&&a.a.createElement(c.a,{"data-testid":"empty-share",icon:s.a,title:t("External.redirection.title"),text:t("External.redirection.error")}),"failed"!==d&&a.a.createElement(c.a,{"data-testid":"empty-share",icon:"globe",title:t("External.redirection.title"),text:t("External.redirection.text")}))}))},W9Ej:function(e,t,n){e.exports={"CozyTheme--inverted":"CozyTheme--inverted--1aZtW","CozyTheme--normal":"CozyTheme--normal--1r6YT","fil-dropzone-active":"fil-dropzone-active--6mOTt","fil-dropzone-teaser":"fil-dropzone-teaser--HOFff","fil-dropzone-teaser-claudy":"fil-dropzone-teaser-claudy--NElRC",pulse:"pulse--sS0GG","fil-dropzone-teaser-content":"fil-dropzone-teaser-content--3YqGo","fil-dropzone-teaser-folder":"fil-dropzone-teaser-folder--2aWVM"}},"XA+M":function(e,t){e.exports={name:"Drive",name_prefix:"Cozy",slug:"drive",version:"1.55.0",type:"webapp",licence:"AGPL-3.0",icon:"public/app-icon.svg",categories:["cozy"],source:"https://github.com/cozy/cozy-drive",editor:"Cozy",developer:{name:"Cozy Cloud",url:"https://cozy.io"},locales:{en:{short_description:"Cozy Drive helps you to save, sync and secure your files on your Cozy.",long_description:"With Cozy Drive, you can easily:\n- Store your important files and keep them secure in your Cozy\n- Access to all your documents online & offline, from your desktop, and on your smartphone or tablet\n- Share links to files ans folders with who you like;\n- Automatically retrieve bills, payrolls, tax notices and other data from your main online services (internet, energy, retail, mobile, energy, travel...)\n- Upload files to your Cozy from your Android",screenshots:["screenshots/en/screenshot01.png","screenshots/en/screenshot02.png","screenshots/en/screenshot03.png","screenshots/en/screenshot04.png"]},fr:{short_description:"Cozy Drive est lapplication de sauvegarde, de synchronisation et de scurisation de tous vos fichiers sur Cozy.",long_description:"Avec Cozy Drive vous pourrez :\n- Sauvegarder et synchroniser gratuitement tous vos documents importants (carte didentit, photos de vacances, avis dimposition, fiches de salaires);\n- Accder  vos documents nimporte quand, nimporte ou mme en mode avion depuis votre bureau, votre smartphone ou tablette;\n- Partager vos fichiers et dossiers par lien avec qui vous le souhaitez;\n- Rcuprer automatiquement vos documents administratifs de vos principaux fournisseurs de service (oprateur mobile, fournisseur dnergie, assureur, internet, sant);\n- Rester synchronise lors de vos voyages et dplacements professionnels avec nos applications mobiles.",screenshots:["screenshots/fr/screenshot01.png","screenshots/fr/screenshot02.png","screenshots/fr/screenshot03.png","screenshots/fr/screenshot04.png"]}},screenshots:["screenshots/fr/screenshot01.png","screenshots/fr/screenshot02.png","screenshots/fr/screenshot03.png","screenshots/fr/screenshot04.png"],langs:["en","fr"],platforms:[{type:"ios",url:"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8"},{type:"android",url:"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile"}],routes:{"/":{folder:"/",index:"index.html",public:!1},"/intents":{folder:"/intents",index:"index.html",public:!1},"/public":{folder:"/public",index:"index.html",public:!0},"/preview":{folder:"/public",index:"index.html",public:!0}},intents:[{action:"OPEN",type:["io.cozy.files"],href:"/intents"},{action:"GET_URL",type:["io.cozy.files"],href:"/intents"},{action:"OPEN",type:["io.cozy.suggestions"],href:"/intents"}],services:{qualificationMigration:{type:"node",file:"services/qualificationMigration/drive.js",trigger:"@event io.cozy.files:CREATED,UPDATED",debounce:"24h"},dacc:{type:"node",file:"services/dacc/drive.js",trigger:"@monthly on the 5-7 between 2pm and 7pm"}},permissions:{files:{description:"Required to access the files",type:"io.cozy.files",verbs:["ALL"]},allFiles:{description:"Required to access the files",type:"io.cozy.files.*",verbs:["ALL"]},apps:{description:"Required by the cozy-bar to display the icons of the apps",type:"io.cozy.apps",verbs:["GET"]},sharings:{description:"Required to have access to the sharings in realtime",type:"io.cozy.sharings",verbs:["GET"]},albums:{description:"Required to manage photos albums",type:"io.cozy.photos.albums",verbs:["PUT","GET"]},contacts:{type:"io.cozy.contacts",verbs:["GET","POST"]},groups:{type:"io.cozy.contacts.groups",verbs:["GET"]},settings:{description:"Required by the cozy-bar to display Claudy and know which applications are coming soon",type:"io.cozy.settings",verbs:["GET"]},oauth:{description:"Required to display the cozy-desktop banner",type:"io.cozy.oauth.clients",verbs:["GET"]},errorsreporting:{description:"Allow to report unexpected errors to the support team",type:"cc.cozycloud.errors",verbs:["POST"]},mail:{description:"Send feedback emails to the support team",type:"io.cozy.jobs",verbs:["POST"],selector:"worker",values:["sendmail"]},konnectors:{description:"Required to display additional information in the viewer for files automatically retrieved by services",type:"io.cozy.konnectors",verbs:["GET"]},accounts:{description:"Required to display additional information in the viewer for files automatically retrieved by services",type:"io.cozy.accounts",verbs:["GET"]},triggers:{description:"Required to display additional information in the viewer for files automatically retrieved by services",type:"io.cozy.triggers",verbs:["GET"]},dacc:{type:"cc.cozycloud.dacc_v2",verbs:["POST"],description:"Remote-doctype required to send anonymized measures to the DACC shared among mycozy.cloud's Cozy."},"dacc-eu":{type:"eu.mycozy.dacc_v2",verbs:["POST"],description:"Remote-doctype required to send anonymized measures to the DACC shared among mycozy.eu's Cozy."}}}},Xbs7:function(e,t,n){"use strict";var r=n("4BeY"),a=n.n(r),i=n("IaFt"),o=n.n(i),c=new a.a({id:"icon-folder-broken_6aea13ed766f34f5967acf158d5b3f17",use:"icon-folder-broken_6aea13ed766f34f5967acf158d5b3f17-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-folder-broken_6aea13ed766f34f5967acf158d5b3f17">\n  <g fill="none" fill-rule="evenodd" transform="translate(0 2)">\n    <path fill="#FDD5D5" d="M0,4.00585866 C0,2.89805351 0.889261723,2 2.00174332,2 L29.9982567,2 C31.103789,2 32,2.89354265 32,4.00276013 L32,15 L24,19 L8,12 L0,16 L0,4.00585866 Z M0,18 L8,14 L24,21 L32,17 L32,26.007983 C32,27.1081436 31.1107383,28 29.9982567,28 L2.00174332,28 C0.89621101,28 0,27.1125667 0,26.000385 L0,18 Z" />\n    <path fill="#F52D2D" d="M0,0.990777969 C0,0.443586406 0.449948758,0 1.00684547,0 L12.9931545,0 C13.5492199,0 14.3125,0.3125 14.7107565,0.71075654 L15.2892435,1.28924346 C15.6817835,1.68178346 16.4446309,2 17.0008717,2 L30.0059397,2 C31.1072288,2 32,2.89470506 32,4 L32,4 L17.0008717,4 C16.4481055,4 15.6875,4.3125 15.2892435,4.71075654 L14.7107565,5.28924346 C14.3182165,5.68178346 13.5500512,6 12.9931545,6 L1.00684547,6 C0.450780073,6 0,5.54902482 0,5.00922203 L0,0.990777969 Z" />\n  </g>\n</symbol>'});o.a.add(c);t.a=c},XetN:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("17x9"),o=n.n(i),c=n("pVnL"),u=n.n(c),l=n("QILm"),s=n.n(l),f=n("TSYQ"),d=n.n(f),m=n("KXWi"),p=n("V2U0"),h=n("buk/"),b=n("7YkG"),y=n("QmKc"),v=n.n(y),g=["t"],w=function(e){var t=e.onClick,n=e.isLoading,r=e.text;return a.a.createElement(b.f,{className:d()(v.a["fil-content-row"],v.a["fil-content-row--center"])},a.a.createElement(m.a,{theme:"secondary",onClick:t,label:n?a.a.createElement(p.b,{noMargin:!0}):r}))};w.propTypes={onClick:o.a.func,isLoading:o.a.bool,text:o.a.string.isRequired},w.defaultProps={onClick:null,isLoading:!1};var O,x=Object(h.translate)()((O=w,function(e){var t=e.t,n=s()(e,g);return a.a.createElement(O,u()({text:t("table.load_more")},n))})),E=function(e){var t=e.hasMore,n=e.fetchMore;return!!t&&a.a.createElement(x,{onClick:n,isLoading:!1})};E.propTypes={hasMore:o.a.bool.isRequired,fetchMore:o.a.func.isRequired};t.a=E},XxWZ:function(e,t,n){e.exports={"fil-topbar":"fil-topbar--1eJFH","hidden-mobile":"hidden-mobile--x6udF",spin:"spin--KIZH2",shake:"shake--2eSbq"}},Yhqx:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("V4z/"),o=n("6CTP"),c=n("6HsW"),u=n("V2U0"),l=n("CxWN"),s=n("o0o1"),f=n.n(s),d=n("yXPU"),m=n.n(d),p=n("J4zp"),h=n.n(p),b=n("Le8U"),y=n("buk/"),v=n("OTOu"),g=n("AT0p"),w=function(e,t){var n=Object(r.useState)("pending"),a=h()(n,2),i=a[0],o=a[1],c=Object(r.useState)(null),u=h()(c,2),l=u[0],s=u[1],d=Object(y.useI18n)().t,p=Object(r.useMemo)((function(){return Object(g.d)(t)}),[t]),w=Object(r.useMemo)((function(){return Object(g.e)(t)}),[t]),O=Object(r.useMemo)((function(){return"/onlyOffice/".concat(t,".").concat(p)}),[t,p]),x=Object(r.useMemo)((function(){return d("OnlyOffice.createFileName.".concat(t))+".".concat(p)}),[d,t,p]);return Object(r.useEffect)((function(){(function(){var t=m()(f.a.mark((function t(){var n,r,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FileReader).onloadend=m()(f.a.mark((function t(){var r,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.CozyFile.uploadFileWithConflictStrategy(x,n.result,e,"rename",null,w);case 3:r=t.sent,a=r.data,o("loaded"),s(a.id),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),v.a.error("Creating Only Office file failed: ".concat(t.t0)),o("error");case 13:case"end":return t.stop()}}),t,null,[[0,9]])}))),t.prev=2,t.next=5,fetch(O);case 5:return r=t.sent,t.next=8,r.blob();case 8:a=t.sent,n.readAsArrayBuffer(a),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),v.a.error("Fetching Only Office template file failed: ".concat(t.t0)),o("error");case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(){return t.apply(this,arguments)}})()()}),[t,O,e,w,x]),{status:i,fileId:l}};t.a=a.a.memo((function(){var e=Object(i.n)(),t=Object(i.p)(),n=t.folderId,r=t.fileClass,s=w(n,r),f=s.status,d=s.fileId;return Object(g.a)()?"error"===f?a.a.createElement(l.a,null):"loaded"===f&&d?e("/onlyoffice/".concat(d,"/fromCreate")):a.a.createElement(o.a,{open:!0,fullScreen:!0,transitionDuration:0},a.a.createElement(c.a,{className:"u-flex u-flex-column u-flex-items-center u-flex-justify-center"},a.a.createElement(a.a.Fragment,null,a.a.createElement(u.b,{size:"xxlarge",middle:!0,loadingType:"onlyOfficeCreateInProgress"})))):a.a.createElement(i.a,{to:"/folder/".concat(n,"/paywall")})}))},Yo2A:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return b}));var r=n("fvjX"),a=n("lSNA"),i=n.n(a),o=n("q1tI"),c=n.n(o),u=n("Vg22");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{show:!1,component:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_MODAL":return{show:!0,component:t.component};case"HIDE_MODAL":return{show:!1,component:null};default:return e}},f=function(e){return{type:"SHOW_MODAL",component:e,meta:{hideActionMenu:!0}}},d=Object(u.connect)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.ui.modal)}))((function(e){var t=e.show,n=e.component,r=e.dispatch;return t?c.a.cloneElement(n,{onClose:function(e){return r(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:"HIDE_MODAL",meta:e}}(e))}}):null})),m=n("J4zp"),p=n.n(m),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=p()(t,2),r=n[0],a=n[1],i=void 0===a||a;return e[r]=decodeURIComponent(i),e},b=function(){return window.location.search.substring(1).split("&").map((function(e){return e.split("=")})).reduce(h,{})};t.b=Object(r.combineReducers)({modal:s})},Z7XG:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return c}));var r="io.cozy.files.root-dir",a="io.cozy.files.trash-dir",i="io.cozy.files.shared-with-me-dir",o="/.cozy_trash",c="https://manager.cozycloud.cc/cozy/create"},Z9N9:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("SOfb"),o=n("c8ah");t.a=function(e){var t=e.body,n=e.caption,r=e.content;return a.a.createElement(i.a,{title:a.a.createElement(a.a.Fragment,null,a.a.createElement(o.a,{variant:"body1",color:"inherit"},t),a.a.createElement(o.a,{variant:"caption",color:"inherit"},n))},a.a.createElement("span",{className:"u-w-100"},r))}},ZOQW:function(e,t,n){e.exports={"CozyTheme--inverted":"CozyTheme--inverted--1iVYQ","CozyTheme--normal":"CozyTheme--normal--1JnZJ","fil-path-backdrop":"fil-path-backdrop--1yKXD","fil-path-title":"fil-path-title--NqpW4","fil-path-link":"fil-path-link--xq04e","fil-path-separator":"fil-path-separator--v18BN","fil-path-down":"fil-path-down--2z0A3","fil-path-current-name":"fil-path-current-name--1BQpZ","fil-path-current":"fil-path-current--qyJsg",deployed:"deployed--8FDAc",inlined:"inlined--2FipZ","fil-path-link-name":"fil-path-link-name--1nc9i",mobile:"mobile--3xQ2G"}},"a/S8":function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),i=n("J4zp"),o=n.n(i),c=n("q1tI"),u=n.n(c),l=n("TSYQ"),s=n.n(l),f=n("buk/"),d=n("KXWi"),m=n("y6ex"),p=n("7YkG"),h=n("RIqP"),b=n.n(h),y=n("d1N8"),v=n("94Ho"),g=n("vEVt"),w=n("aN1g"),O=n("2HD0"),x=n("6IK3"),E=function(e){var t=e.sort,n=e.onSort,r=e.onClose,a=Object(f.useI18n)().t;return u.a.createElement(y.a,{open:!0,onClose:r},x.b.map((function(e){var t=e.attr;return[{attr:t,order:"asc"},{attr:t,order:"desc"}]})).reduce((function(e,t){return[].concat(b()(e),b()(t))}),[]).map((function(e){var i=e.attr,o=e.order,c="sort_by_".concat(i,"_").concat(o);return u.a.createElement(v.a,{key:"key_".concat(i,"_").concat(o),onClick:function(){n(i,o),r()}},u.a.createElement(w.a,null,u.a.createElement(O.a,{checked:t.order===o&&t.attribute===i,tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":c}})),u.a.createElement(g.a,{id:c,primary:a("table.mobile.head_".concat(i,"_").concat(o))}))})))},j=n("QmKc"),k=n.n(j),C=n("AnwN"),_=n("Fczp");t.a=function(e){var t,n=e.folderId,r=e.canSort,i=e.sort,l=e.onFolderSort,h=e.thumbnailSizeBig,b=e.toggleThumbnailSize,y=Object(f.useI18n)().t,v=Object(c.useState)(!1),g=o()(v,2),w=g[0],O=g[1],j=Object(c.useCallback)((function(){return O(!0)}),[O]),S=Object(c.useCallback)((function(){return O(!1)}),[O]);if(!r)return null;var z=i||x.a;return u.a.createElement(p.d,{className:k.a["fil-content-mobile-head"]},u.a.createElement(p.f,{className:k.a["fil-content-row-head"]},u.a.createElement(p.e,{onClick:j,className:s()(k.a["fil-content-mobile-header"],(t={},a()(t,k.a["fil-content-header-sortasc"],"asc"===z.order),a()(t,k.a["fil-content-header-sortdesc"],"desc"===z.order),t))},y("table.mobile.head_".concat(z.attribute,"_").concat(z.order))),w&&u.a.createElement(E,{t:y,sort:z,onClose:S,onSort:function(e,t){return l(n,e,t)}}),u.a.createElement(p.e,{className:s()(k.a["fil-content-mobile-header"],k.a["fil-content-header-action"])},u.a.createElement(d.c,{theme:"action",onClick:function(){b()},label:y("table.head_thumbnail_size"),extension:"narrow",icon:u.a.createElement(m.a,{icon:h?_.a:C.a,size:17,label:y("table.head_thumbnail_size")}),iconOnly:!0}))))}},aNx5:function(e,t,n){"use strict";n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return f})),n.d(t,"h",(function(){return d})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"l",(function(){return v})),n.d(t,"n",(function(){return g})),n.d(t,"k",(function(){return w})),n.d(t,"m",(function(){return O})),n.d(t,"j",(function(){return x}));var r=n("RIqP"),a=n.n(r),i=n("lSNA"),o=n.n(i);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l="MEDIA_UPLOAD_START",s="MEDIA_UPLOAD_END",f="MEDIA_UPLOAD_ABORT",d="MEDIA_UPLOAD_SUCCESS",m="MEDIA_UPLOAD_CANCEL",p="MEDIA_UPLOAD_QUOTA",h="CURRENT_UPLOAD",b="CURRENT_UPLOAD_PROGRESS",y={running:!1,uploading:!1,cancelMediaBackup:!1,abortedMediaBackup:!1,diskQuotaReached:!1,uploaded:[],currentUpload:void 0};t.i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return u(u({},e),{},{running:!0,cancelMediaBackup:!1,abortedMediaBackup:!1,diskQuotaReached:!1});case m:return u(u({},e),{},{cancelMediaBackup:!0});case f:return u(u({},e),{},{abortedMediaBackup:!0});case p:return u(u({},e),{},{diskQuotaReached:!0});case s:return u(u({},e),{},{running:!1,uploading:!1,cancelMediaBackup:!0,currentUpload:void 0});case d:return u(u({},e),{},{uploaded:[].concat(a()(e.uploaded),[t.id])});case h:return u(u({},e),{},{uploading:!0,currentUpload:{media:t.media,message:t.message,messageData:t.messageData}});case b:return u(u({},e),{},{currentUpload:u(u({},e.currentUpload),{},{messageData:u(u({},e.currentUpload?e.currentUpload.messageData:{}),{},{progress:t.progress})})});default:return e}};var v=function(e){return e.mobile.mediaBackup.running&&!e.mobile.mediaBackup.uploading},g=function(e){return e.mobile.mediaBackup.uploading},w=function(e){return e.mobile.mediaBackup.abortedMediaBackup},O=function(e){return e.mobile.mediaBackup.diskQuotaReached},x=function(e){return e.mobile.mediaBackup.currentUpload&&!e.mobile.mediaBackup.diskQuotaReached?{current:e.mobile.mediaBackup.currentUpload.messageData.current,total:e.mobile.mediaBackup.currentUpload.messageData.total,progress:e.mobile.mediaBackup.currentUpload.messageData.progress}:{}}},bVTo:function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),i=n("J4zp"),o=n.n(i),c=n("q1tI"),u=n.n(c),l=n("17x9"),s=n.n(l),f=n("TSYQ"),d=n.n(f),m=n("V2U0"),p=n("y6ex"),h=n("QaI8"),b=n("ZOQW"),y=n.n(b),v=function(e){var t=e.path,n=e.onBreadcrumbClick,r=e.opening,i=e.inlined,l=e.className,s=void 0===l?"":l,f=Object(c.useState)(!1),b=o()(f,2),v=b[0],g=b[1],w=Object(c.useRef)(null);Object(c.useEffect)((function(){function e(e){w.current&&!w.current.contains(e.target)&&E()}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[w,E]);var O=function(){return v?E():x()},x=Object(c.useCallback)((function(){g(!0)}),[g]),E=Object(c.useCallback)((function(){g(!1)}),[g]);return!!t&&u.a.createElement("div",{className:d()(y.a["fil-path-backdrop"],a()({},y.a.deployed,v),a()({},y.a.inlined,i),a()({},y.a.mobile,!1),s)},u.a.createElement("h2",{"data-testid":"path-title",className:y.a["fil-path-title"],ref:w,onClick:O},t.map((function(e,a){return a<t.length-1?u.a.createElement("span",{className:y.a["fil-path-link"],onClick:function(t){t.stopPropagation(),n(e)},key:a},u.a.createElement("span",{className:y.a["fil-path-link-name"]},e.name),u.a.createElement(p.a,{icon:h.a,className:y.a["fil-path-separator"]})):u.a.createElement("span",{className:y.a["fil-path-current"],onClick:function(e){e.stopPropagation(),t.length>=2&&O()},key:a},u.a.createElement("span",{className:y.a["fil-path-current-name"]},e.name),t.length>=2&&u.a.createElement("span",{className:y.a["fil-path-down"]}),r&&u.a.createElement(m.b,null))}))))};v.propTypes={path:s.a.array,onBreadcrumbClick:s.a.func,opening:s.a.bool,inlined:s.a.bool,className:s.a.string},t.a=v},c7Cj:function(e,t,n){e.exports={separator:"separator--2zMlN",fileName:"fileName--3F5CE","filename-renameInput":"filename-renameInput--vmSdc"}},cSBT:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return b}));var r=function(e){return{type:"SET_OFFLINE",offline:e}},a=function(e){return{type:"WIFI_ONLY",wifiOnly:e}},i=function(e){return{type:"BACKUP_IMAGES",backupImages:e}},o=n("lSNA"),c=n.n(o);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s={serverUrl:"",offline:!1,analytics:!1,backupImages:!1,wifiOnly:!0},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_URL":return l(l({},e),{},{serverUrl:t.url});case"SET_OFFLINE":return l(l({},e),{},{offline:t.offline});case"SET_ANALYTICS":return l(l({},e),{},{analytics:t.analytics});case"BACKUP_IMAGES":return l(l({},e),{},{backupImages:t.backupImages});case"BACKUP_CONTACTS":return l(l({},e),{},{backupContacts:t.backupContacts});case"WIFI_ONLY":return l(l({},e),{},{wifiOnly:t.wifiOnly});default:return e}},d=function(e,t){if(e.mobile&&e.mobile.settings&&void 0!==e.mobile.settings[t])return e.mobile.settings[t]},m=function(e){return d(e,"serverUrl")},p=function(e){return d(e,"offline")},h=function(e){return d(e,"backupImages")},b=function(e){return d(e,"wifiOnly")}},cV3X:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=(n("3FT0"),n("8IyR"),n("xIbs"));t.a=function(e){var t=e.children;return a.a.createElement(i.a,null,t)}},ce8z:function(e,t,n){e.exports={SupportUs__wrapper:"SupportUs__wrapper--1Ivbe",Supportus__button:"Supportus__button--3VXfT",SupportUs__description:"SupportUs__description--33zMT",spin:"spin--2BVaJ",shake:"shake--3jn4a"}},d1FT:function(e,t,n){"use strict";var r=n("Z7XG"),a=n("H57K");t.a=function(e){var t=e.children,n=e.displayedFolder;return e.folderId&&n&&n.id!==r.b&&!Object(a.i)(n)?t:null}},d9dq:function(e,t,n){"use strict";n.d(t,"a",(function(){return $})),n.d(t,"b",(function(){return ee}));var r=n("lSNA"),a=n.n(r),i=n("J4zp"),o=n.n(i),c=n("q1tI"),u=n.n(c),l=n("17x9"),s=n.n(l),f=n("Vg22"),d=n("TSYQ"),m=n.n(d),p=n("SdWe"),h=n.n(p),b=n("mwIZ"),y=n.n(b),v=n("gqi3"),g=n("snfs"),w=n("buk/"),O=n("ufaa"),x=n("7YkG"),E=n("35cl"),j=n("UxX4"),k=n("bbfJ"),C=n("y6ex"),_=n("c8ah"),S=n("gr+E"),z=n("OjRq"),I=n("QQky"),F=n("32XB"),P=n.n(F),D=function(e){return Object.keys(e)[0]},T=function(e){var t=e.actions,n=e.file,r=e.onClose;return Object(c.useMemo)((function(){return function(e,t){var n="",r=e.filter((function(e){var n=Object.values(e)[0];return!n.displayCondition||n.displayCondition([t])})),a=[];for(r.map((function(e){var t=D(e);if(n===t)return n=t,null;n=t,a.push(e)}));"hr"===D(a[a.length-1]);)a.pop();return a}(t,n)}),[t,n]).map((function(e,t){var a=D(e),i=Object.values(e)[0],o=i.Component,c=i.action,l=c?function(){c([n]),r()}:null;return u.a.createElement("div",{className:m()("u-pos-relative",P.a["fil-action"],P.a["fil-action-".concat(a)]),key:a+t},u.a.createElement(o,{onClick:l,files:[n]}))}))},N=function(e){var t=e.file,n=e.actions,r=e.onClose,a=e.anchorElRef,i=Object(w.useI18n)().lang;return u.a.createElement(j.a,{onClose:r,anchorElRef:a,autoclose:!0,popperOptions:{strategy:"fixed"}},u.a.createElement(k.a,null,u.a.createElement(R,{file:t,lang:i})),u.a.createElement(T,{actions:n,file:t,onClose:r}))},R=function(e){var t,n,r=e.file,a=e.lang,i=z.b.splitFilename(r),o=i.filename,c=i.extension,l=Object(E.a)(a);return u.a.createElement("div",null,u.a.createElement("div",{className:"u-flex u-flex-items-center"},u.a.createElement(C.a,{icon:Object(I.a)(Object(v.isDirectory)(r),r.name,r.mime),size:32,className:"u-flex-shrink-0 u-mr-1"}),u.a.createElement("div",{className:"u-w-100"},u.a.createElement("div",{className:m()(P.a["fil-mobileactionmenu-header"])},u.a.createElement("span",{className:P.a["fil-mobileactionmenu-file-name"]},o),u.a.createElement("span",{className:P.a["fil-mobileactionmenu-file-ext"]},c)),(null===(t=r.metadata)||void 0===t||null===(n=t.qualification)||void 0===n?void 0:n.label)&&u.a.createElement("div",{className:"u-coolGrey u-fz-tiny u-fs-normal u-flex u-flex-items-center"},u.a.createElement(C.a,{icon:S.a,size:"10"}),u.a.createElement(_.a,{variant:"caption",className:m()(P.a["fil-mobileactionmenu-category"])},l("Scan.items.".concat(r.metadata.qualification.label)))))))},M=n("oRqk"),A=n("7oMs"),L=n("JZSQ"),B=n("iTW1"),q=n("yTXx"),U=n("T/9g"),Q=n("SH7X"),V=n("AT0p"),W=n("EGzn"),H=n.n(W),X=function(e){var t=e.file,n=e.disabled,r=e.actionMenuVisible,a=e.toggle,i=e.open,o=e.selectionModeActive,l=e.isRenaming,s=e.children,f=Object(c.useRef)();return Object(c.useEffect)((function(){if(f&&f.current){var e=Object(U.a)(new q.a(f.current));return e.on("tap press singletap",(function(e){r||n||function(e){if(-1!==["INPUT","BUTTON"].indexOf(e.target.nodeName))return!1;var t=function e(t){return"div"===t.nodeName.toLowerCase()?t:e(t.parentNode)}(e.target);return-1===t.className.indexOf(H.a["fil-content-file-select"])&&-1===t.className.indexOf(H.a["fil-content-file-action"])&&!e.srcEvent.target.closest('[class^="fil-file-path"]')}(e)&&(e.preventDefault(),"press"===e.type||o?(e.srcEvent.stopImmediatePropagation(),a(e.srcEvent)):(e.srcEvent.stopImmediatePropagation(),l||i(e.srcEvent,t)))})),function(){e&&e.destroy()}}}),[f,t,n,r,a,i,o,l]),Q.models.file.shouldBeOpenedByOnlyOffice(t)?u.a.createElement("a",{"data-testid":"onlyoffice-link",className:"".concat(H.a["file-opener"]," ").concat(H.a["file-opener__a"]),ref:f,id:t.id,href:Object(V.g)(t),onClick:function(e){e.preventDefault()}},s):u.a.createElement("span",{"data-testid":"not-onlyoffice-span",className:H.a["file-opener"],ref:f,id:t.id},s)},K=n("lVV2"),G=n("zUXI"),Y=n("QmKc"),J=n.n(Y),Z=function(e){var t,n=Object(c.useState)(!1),r=o()(n,2),i=r[0],l=r[1],s=Object(c.useRef)(),f=function(){window.StatusBar&&Object(g.isIOSApp)()&&window.StatusBar.backgroundColorByHexString("#989AA0"),l(!0)},d=function(){window.StatusBar&&Object(g.isIOSApp)()&&window.StatusBar.backgroundColorByHexString("#FFFFFF"),l(!1)},p=function(t){t.stopPropagation();var n=e.attributes;(0,e.onCheckboxToggle)(n,e.selected)},b=e.t,y=e.f,w=e.attributes,O=e.selected,E=e.actions,j=e.isRenaming,k=e.withSelectionCheckbox,C=e.withFilePath,_=e.isAvailableOffline,S=e.disabled,z=e.styleDisabled,I=e.thumbnailSizeBig,F=e.selectionModeActive,P=e.refreshFolderContent,D=e.isInSyncFromSharing,T=e.extraColumns,R=e.breakpoints,A=R.isExtraLarge,L=R.isMobile,B="image"===w.class&&I,q=S||D,U=m()(J.a["fil-content-row"],(t={},a()(t,J.a["fil-content-row-selected"],O),a()(t,J.a["fil-content-row-actioned"],i),a()(t,J.a["fil-content-row-disabled"],z),a()(t,J.a["fil-content-row-bigger"],B),t)),Q=Object(v.isDirectory)(w)?void 0:h()(w.size,{base:10}),V=w.updated_at||w.created_at,W=y(V,b(A?"table.row_update_format_full":"table.row_update_format"));return u.a.createElement(x.f,{className:U},u.a.createElement(K.g,{withSelectionCheckbox:k,selected:O,onClick:function(e){return p(e)},disabled:q}),u.a.createElement(X,{file:w,disabled:q,actionMenuVisible:i,selectionModeActive:F,open:function(t,n){var r=e.onFolderOpen,a=e.onFileOpen,i=e.isAvailableOffline;t.stopPropagation(),Object(v.isDirectory)(n)?r(n.id):a({event:t,file:n,isAvailableOffline:i})},toggle:p,isRenaming:j},u.a.createElement(M.a,{file:w,size:B?96:void 0,isInSyncFromSharing:D}),u.a.createElement(K.e,{attributes:w,isRenaming:j,interactive:!q,withFilePath:C,isMobile:L,formattedSize:Q,formattedUpdatedAt:W,refreshFolderContent:P,isInSyncFromSharing:D}),u.a.createElement(K.f,{date:V,formatted:Object(v.isDirectory)(w)?void 0:W}),u.a.createElement(K.h,{filesize:Q}),T&&T.map((function(e){return u.a.createElement(e.CellComponent,{key:e.label,file:w})})),u.a.createElement(K.i,{file:w,isAvailableOffline:_,disabled:q,isInSyncFromSharing:D})),E&&u.a.createElement(K.d,{t:b,ref:s,disabled:q,isInSyncFromSharing:D,onClick:function(){!function(){if(i)return d();f()}()}}),E&&i&&u.a.createElement(N,{file:w,anchorElRef:s,actions:E,onClose:d}))};Z.propTypes={t:s.a.func,f:s.a.func,attributes:s.a.object.isRequired,selected:s.a.bool.isRequired,actions:s.a.array.isRequired,isRenaming:s.a.bool,withSelectionCheckbox:s.a.bool.isRequired,withFilePath:s.a.bool,isAvailableOffline:s.a.bool.isRequired,disabled:s.a.bool,styleDisabled:s.a.bool,breakpoints:s.a.object.isRequired,selectionModeActive:s.a.bool.isRequired,onFolderOpen:s.a.func.isRequired,onFileOpen:s.a.func.isRequired,onCheckboxToggle:s.a.func.isRequired,refreshFolderContent:s.a.func,isInSyncFromSharing:s.a.bool,extraColumns:G.a};var $=Object(O.a)()(Object(w.translate)()(Z)),ee=Object(f.connect)((function(e,t){return{selected:Object(A.d)(e,t.attributes),isAvailableOffline:Object(B.b)(e,t.attributes.id),selectionModeActive:Object(A.e)(e),isRenaming:Object(L.d)(e)&&y()(Object(L.c)(e),"id")===t.attributes.id}}),(function(e){return{onCheckboxToggle:function(t,n){return e(Object(A.g)(t,n))}}}))($)},hO92:function(e,t,n){"use strict";n.d(t,"a",(function(){return K})),n.d(t,"c",(function(){return G}));var r=n("J4zp"),a=n.n(r),i=n("q1tI"),o=n.n(i),c=n("snfs"),u=n("UxX4"),l=n("1I/2"),s=n("SvPG"),f=n("d1FT"),d=n("17x9"),m=n.n(d),p=n("BJ98"),h=n.n(p),b=n("buk/"),y=n("qVrW"),v=n("y6ex"),g=n("46CF"),w=n("pVnL"),O=n.n(w),x=n("QILm"),E=n.n(x),j=n("Vg22"),k=n("V4z/"),C=n("Yo2A"),_=n("3Cim"),S=["folder"],z=function(e){var t=e.folder,n=E()(e,S),r=Object(k.n)(),a=Object(i.useCallback)((function(){return r("/folder/".concat(t.dir_id))}),[r,t]);return o.a.createElement(_.a,O()({files:[t],afterConfirmation:a},n))},I=Object(j.connect)(null,(function(e){return{trashFolder:function(t){return e(Object(C.d)(o.a.createElement(z,{folder:t})))}}})),F=function(e){var t=e.t,n=e.isSharedWithMe,r=e.trashFolder,a=e.onLeave,i=e.displayedFolder;return n?o.a.createElement(y.a,{"data-testid":"fil-action-delete",left:o.a.createElement(v.a,{icon:g.a,color:"var(--errorColor)"}),onClick:function(){return a(i).then((function(){return r(i)}))}},o.a.createElement("span",{className:"u-pomegranate"},t("toolbar.leave"))):o.a.createElement(y.a,{"data-testid":"fil-action-delete",left:o.a.createElement(v.a,{icon:g.a,color:"var(--errorColor)"}),onClick:function(){r(i)}},o.a.createElement("span",{className:"u-pomegranate"},t("toolbar.trash")))};F.propTypes={t:m.a.func.isRequired,isSharedWithMe:m.a.bool.isRequired,trashFolder:m.a.func.isRequired,onLeave:m.a.func.isRequired,displayedFolder:m.a.object.isRequired};var P=h()(Object(b.translate)(),I)(F),D=n("E3qw"),T=n("AJ6E"),N=n("fmf2"),R=n("lXO7"),M=n("z+SL"),A=n.n(M),L=n("GpAf"),B=Object(b.translate)()((function(e){var t=e.t,n=e.share,r=e.displayedFolder;return o.a.createElement(T.a,{docId:r.id},(function(e){var a=e.isSharedWithMe,i=e.recipients,c=e.link;return o.a.createElement(y.a,{onClick:function(){return n(r)},left:o.a.createElement(v.a,{icon:R.a}),right:o.a.createElement("div",{className:A.a["menu-recipients-wrapper"]},o.a.createElement(N.a,{className:A.a["menu-recipients"],recipients:i,link:c,size:"small"}))},t(a?"Files.share.sharedWithMe":"toolbar.menu_share_folder"))}))})),q=Object(L.a)(B),U=n("SH7X"),Q=n("sbrb"),V=n("MFii"),W=h()(U.withClient,Object(b.translate)(),Object(j.connect)(null,(function(e,t){return{downloadAll:function(e){var n=t.client;return Object(V.b)(n,e)}}})))((function(e){var t=e.t,n=e.downloadAll,r=e.displayedFolder;return o.a.createElement(y.a,{left:o.a.createElement(v.a,{icon:Q.a}),onClick:function(){return n([r])}},t("toolbar.menu_download_folder"))})),H=n("ODMt"),X=n("On/j"),K=function(e){window.StatusBar&&Object(c.isIOSApp)()&&window.StatusBar.backgroundColorByHexString("#FFFFFF"),e(!1)},G=function(e,t){if(e)return K(t);!function(e){window.StatusBar&&Object(c.isIOSApp)()&&window.StatusBar.backgroundColorByHexString("#989AA0"),e(!0)}(t)};t.b=o.a.memo((function(e){var t=e.isDisabled,n=e.hasWriteAccess,r=e.canUpload,d=e.canCreateFolder,m=e.navigate,p=e.params,h=e.displayedFolder,b=e.folderId,y=Object(i.useState)(!1),v=a()(y,2),g=v[0],w=v[1],O=o.a.createRef(),x=Object(l.b)().isMobile,E=Object(i.useCallback)((function(){return G(g,w)}),[g,w]),j=Object(i.useCallback)((function(){return K(w)}),[w]);return o.a.createElement("div",null,o.a.createElement("div",{ref:O},o.a.createElement(s.a,{onClick:E,disabled:t})),o.a.createElement(X.b,{canCreateFolder:d,canUpload:r,disabled:t,navigate:m,params:p,displayedFolder:h},g&&o.a.createElement(u.a,{anchorElRef:O,onClose:j,autoclose:!0,popperOptions:{placement:"bottom-end"}},x&&o.a.createElement(f.a,{displayedFolder:h,folderId:b},o.a.createElement(q,{displayedFolder:h})),!Object(c.isMobileApp)()&&o.a.createElement(f.a,{displayedFolder:h,folderId:b},o.a.createElement(W,{displayedFolder:h})),x&&n&&o.a.createElement(H.a,null),o.a.createElement(D.a,null),n&&o.a.createElement(f.a,{displayedFolder:h,folderId:b},o.a.createElement("hr",null),o.a.createElement(P,{displayedFolder:h})))))}))},iTW1:function(e,t,n){"use strict";n.d(t,"b",(function(){return w})),n.d(t,"e",(function(){return O})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return C}));var r=n("lSNA"),a=n.n(r),i=n("o0o1"),o=n.n(i),c=n("yXPU"),u=n.n(c),l=n("RIqP"),s=n.n(l),f=(n("oAJy"),n("hdTL")),d=n("snfs"),m=n("z6Q1"),p=n("67rm"),h=n("H57K"),b=n("MFii"),y=n("OTOu");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"MAKE_AVAILABLE_OFFLINE":return[].concat(s()(e),[t.id]);case"UNDO_MAKE_AVAILABLE_OFFLINE":var n=e.indexOf(t.id);return[].concat(s()(e.slice(0,n)),s()(e.slice(n+1)));default:return e}};var w=function(e,t){var n=e.availableOffline;return Array.isArray(n)&&-1!==n.indexOf(t)},O=function(e,t,n){var r=n.vaultClient;return function(){var n=u()(o.a.mark((function n(a,i){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",w(i(),e.id)?a(x(e)):a(E(e,t,{vaultClient:r})));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},x=function(e){return function(){var t=u()(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.id,Object(d.isMobileApp)()&&window.cordova.file&&Object(f.deleteOfflineFile)(r),n({type:"UNDO_MAKE_AVAILABLE_OFFLINE",id:e.id});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e,t,n){var r=n.vaultClient;return function(){var n=u()(o.a.mark((function n(a){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j(e,t,{vaultClient:r});case 2:a({type:"MAKE_AVAILABLE_OFFLINE",id:e.id});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},j=function(){var e=u()(o.a.mark((function e(t,n,r){var a,i,c,u,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.vaultClient,Object(d.isMobileApp)()&&window.cordova.file){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,!Object(h.g)(t)){e.next=13;break}return e.next=7,Object(h.f)(n,t.dir_id);case 7:return c=e.sent,e.next=10,Object(h.b)(n,a,{file:t,encryptionKey:c});case 10:i=e.sent,e.next=19;break;case 13:return e.next=15,n.collection(m.c).fetchFileContentById(t.id);case 15:return u=e.sent,e.next=18,u.blob();case 18:i=e.sent;case 19:l=t.id,Object(f.saveFileWithCordova)(i,l),e.next=27;break;case 23:throw e.prev=23,e.t0=e.catch(3),p.a.error("mobile.error.make_available_offline.offline"),e.t0;case 27:case"end":return e.stop()}}),e,null,[[3,23]])})));return function(t,n,r){return e.apply(this,arguments)}}(),k=function(e,t){return function(){var n=u()(o.a.mark((function n(r,a){var i,c;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:w(a(),t.id)||y.a.error("openLocalFile: this file is not available offline"),i=Object(h.g)(t)?e.collection(m.c).getFileTypeFromName(t.name):t.mime,c=g(g({},t),{},{mime:i}),Object(f.openOfflineFile)(c).catch((function(e){y.a.error("openLocalFile",e),p.a.error("mobile.error.make_available_offline.noapp")}));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},C=function(e,t,n){var r=n.vaultClient;return function(){var n=u()(o.a.mark((function n(a,i){var c,u;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=Object(h.g)(t)?e.collection(m.c).getFileTypeFromName(t.name):t.mime,u=g(g({},t),{},{mime:c}),!w(i(),t.id)){n.next=4;break}return n.abrupt("return",Object(f.openOfflineFile)(u));case 4:return n.abrupt("return",Object(b.e)(e,t,{vaultClient:r}));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}},jyPq:function(e,t,n){e.exports={wizard:"wizard--1HCBw","coz-form":"coz-form--2A4SX","coz-form-group":"coz-form-group--3BYMZ","coz-form-desc":"coz-form-desc--2tErs","coz-form-label":"coz-form-label--3euxp","coz-form-label--error":"coz-form-label--error--1x3jc","coz-form-errors":"coz-form-errors--3f3F6",error:"error--3c9Jw","CozyTheme--inverted":"CozyTheme--inverted--q59JK","CozyTheme--normal":"CozyTheme--normal--1U0t-","wizard-header":"wizard-header--nLsA0",skipLink:"skipLink--1PT30",illustration:"illustration--2DbFf","wizard-main":"wizard-main--3GxrT",title:"title--YFqq7",description:"description--3BWBR","wizard-footer":"wizard-footer--2ic32","illustration-photos":"illustration-photos--1MPGH","illustration-analytics":"illustration-analytics--ZyQzt","illustration-files":"illustration-files--3FCFu","onboarding-breadcrumb":"onboarding-breadcrumb--2qS0G","onboarding-breadcrumb-element":"onboarding-breadcrumb-element--2qF4S","onboarding-breadcrumb-element-active":"onboarding-breadcrumb-element-active--2S4e1",spin:"spin--3Yv0h",shake:"shake--t8i23"}},kGy0:function(e,t,n){var r={"./en.json":"8WAw","./fr.json":"H488"};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id="kGy0"},kiQV:function(e){e.exports=JSON.parse('{"a":"1.55.0"}')},koyB:function(e){e.exports=JSON.parse('{"Nav":{"item_drive":"Drive","item_recent":"Recent","item_sharings":"Sharings","item_shared":"Shared by me","item_activity":"Activity","item_trash":"Trash","item_settings":"Settings","item_collect":"Administrative","btn-client":"Get Cozy Drive for desktop","support-us":"View offers","support-us-description":"Would you like to benefit from more space or simply support cozy?","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Get Cozy Drive for Desktop and synchronise your files safely to make them accessible at all times.","banner-btn-client":"Download","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it"},"breadcrumb":{"title_drive":"Drive","title_recent":"Recent","title_sharings":"Sharings","title_shared":"Shared by me","title_activity":"Activity","title_trash":"Trash","label":"Show path"},"Toolbar":{"more":"More"},"toolbar":{"item_upload":"Upload","menu_upload":"Upload files","item_more":"More","menu_new_folder":"Folder","menu_new_encrypted_folder":"Encrypted folder","menu_select":"Select items","menu_share_folder":"Share folder","menu_download":"Download","menu_sync_cozy":"Synchronise to my Cozy","add_to_mine":"Add to my Cozy","menu_download_folder":"Download folder","menu_download_file":"Download this file","menu_open_cozy":"Open in my Cozy","menu_create_note":"Note","menu_create_shortcut":"Shortcut","empty_trash":"Empty trash","share":"Share","trash":"Remove","leave":"Leave shared folder & delete it","menu_add":"Add","menu_add_item":"Add an item","menu_onlyOffice":{"text":"Text document","spreadsheet":"Spreadsheet","slide":"Presentation"}},"Share":{"status":{"owner":"Owner","pending":"Pending","ready":"Accepted","refused":"Refused","error":"Error","unregistered":"Error","mail-not-sent":"Pending","revoked":"Error"},"type":{"one-way":"Can View","two-way":"Can Change","desc":{"one-way":"Contacts can view, download, and add the content to their Cozy. If they add the content to their Cozy, they will get updates you make to the content, but they won\'t be able to update it.","two-way":"Contacts can update, delete and add the content to their Cozy. Updates on the content will be seen on other Cozies."}},"locked-type-file":"Coming soon: you will be able to change permissions you grant on the file.","locked-type-folder":"Coming soon: you will be able to change permissions you grant on the folder.","recipients":{"you":"You","accessCount":"%{count} people have access"},"create-cozy":"Create my cozy","members":{"count":"1 member |||| %{smart_count} members","others":"and 1 other |||| and %{smart_count} others","otherContacts":"other contact |||| other contacts"},"contacts":{"permissionRequired":{"title":"Save your contacts in your Cozy?","desc":"Authorize the application to access to your Cozy\'s contacts: you\'ll be able to select them next time.","action":"Authorize access","success":"The application has access to your contacts"}},"banner":{"shared_from":"Shared from ![avatar](%{image}) %{name}\'s cozy.","synchronise":"Synchronise this content in your cozy to be able to modify it or to keep it in case of cancellation of sharing.","whats_cozy":"Cozy is a secure digital home for all your data, hosted in France - ","know_more":"More information","sync_to_mine":"Synchronise in my Cozy","add_to_mine":"Add to my Cozy","close":"Close"}},"Sharings":{"unavailable":{"title":"Switch online!","message":"An internet connection is needed to display the list of your last sharings."}},"Files":{"share":{"cta":"Share","title":"Share","details":{"title":"Sharing details","createdAt":"On %{date}","ro":"Can read","rw":"Can change","desc":{"ro":"You can view, download, and add this content to your Cozy. You will get updates by the owner, but you won\'t be able to update this content yourself.","rw":"You can view, update, delete and add this content to your Cozy. Updates you make will be seen on other Cozies."}},"sharedByMe":"Shared by me","sharedWithMe":"Shared with me","sharedBy":"Shared by %{name}","shareByLink":{"subtitle":"By public link","desc":"Anyone with the provided link can see and download your files.","creating":"Creating your link...","copy":"Copy link","copied":"Link has been copied to clipboard","failed":"Unable to copy to clipboard"},"shareByEmail":{"subtitle":"By email","email":"To:","emailPlaceholder":"Enter the email address or name of the recipient","send":"Send","genericSuccess":"You sent an invite to %{count} contacts.","success":"You sent an invite to %{email}.","comingsoon":"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don\'t worry, we\'ll let you know when it\'s ready!","onlyByLink":"This %{type} can only be shared by link, because","type":{"file":"file","folder":"folder"},"hasSharedParent":"it has a shared parent","hasSharedChild":"it contains a shared element"},"revoke":{"title":"Remove from sharing","desc":"This contact will keep a copy but the changes won\'t be synchrnoized anymore.","success":"You removed this shared file from %{email}."},"revokeSelf":{"title":"Remove me from sharing","desc":"You keep the content but it won\'t be updated between your Cozy anymore.","success":"You were removed from this sharing."},"sharingLink":{"title":"Link to share","copy":"Copy","copied":"Copied"},"whoHasAccess":{"title":"1 person has access |||| %{smart_count} people have access"},"protectedShare":{"title":"Coming soon!","desc":"Share anything by email with your family and friends!"},"close":"Close","gettingLink":"Getting your link...","error":{"generic":"An error occurred when creating the file share link, please try again.","revoke":"Woops, an error occurred. Please contact us so we can fix this issue as soon as possible."},"specialCase":{"base":"This %{type} cannot be shared but with a link as it","isInSharedFolder":"is in a shared folder","hasSharedFolder":"contains a shared folder"}},"viewer-fallback":"If the file has started downloading, you can close this.","dropzone":{"teaser":"Drop files to upload them to:","noFolderSupport":"Folder drag&drop is currently not supported by your browser. Please upload your files manually."}},"table":{"head_name":"Name","head_update":"Last update","head_size":"Size","head_status":"Share","head_thumbnail_size":"Switch thumbnail size","row_update_format":"MMM D, YYYY","row_update_format_full":"MMMM D, YYYY","row_read_only":"Share (Read only)","row_read_write":"Share (Read & Write)","row_size_symbols":{"B":"B","KB":"KB","MB":"MB","GB":"GB","TB":"TB","PB":"PB","EB":"EB","ZB":"ZB","YB":"YB"},"load_more":"Load More","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"Oldest first","head_updated_at_desc":"Most recent first","head_size_asc":"Lightest first","head_size_desc":"Heavier first"},"tooltip":{"carbonCopy":{"title":"Carbon Copy","caption":"Indicates whether the document is defined as \\"authentic and original\\" by Cozy Cloud, the host of your Cozy, as it can claim that it comes directly from a third-party service, without having undergone any modification."},"electronicSafe":{"title":"Electronic Safe","caption":"Indicates whether the original document is secured by your personal digital safe with the certifications that give it probative value and a 50-year retention guarantee beyond its deposit."}}},"SelectionBar":{"selected_count":"item selected |||| items selected","share":"Share","download":"Download","trash":"Remove","destroy":"Delete permanently","rename":"Rename","restore":"Restore","close":"Close","openWith":"Open with...","applePreview":"Apple preview","forward":"Forward","forwardTo":"Forward to...","moveto":"Move to","duplicate":"Duplicate","phone-download":"Make available offline","qualify":"Categorize","history":"History"},"deleteconfirmation":{"title":"Delete this element? |||| Delete these elements?","trash":"It will be moved to the Trash. |||| They will be moved to the Trash.","restore":"You can still restore it whenever you want. |||| You can still restore them whenever you want.","shared":"The following contacts whom you shared it with will keep a copy but your changes won\'t be synchronized anymore. |||| The following contacts whom you shared them with will keep a copy but your changes won\'t be synchronized anymore","link":"Link sharing will no longer be active","referenced":"Some of the files within the selection are related to a photo album. They will be removed from it if you proceed to trash them.","cancel":"Cancel","delete":"Remove"},"emptytrashconfirmation":{"title":"Permanently delete?","forbidden":"You won\'t be able to access these files anymore.","restore":"You won\'t be able to restore these files if you didn\'t make a backup.","cancel":"Cancel","delete":"Delete all"},"destroyconfirmation":{"title":"Permanently delete?","forbidden":"You won\'t be able to access this file anymore. |||| You won\'t be able to access these files anymore.","restore":"You won\'t be able to restore this file if you didn\'t make a backup. |||| You won\'t be able to restore these files if you didn\'t make a backup.","cancel":"Cancel","delete":"Delete permanently"},"quotaalert":{"title":"Your disk space is full :(","desc":"Please remove files, empty your trash or increase your disk space before uploading files again.","confirm":"OK","increase":"Increase your disk space"},"loading":{"message":"Loading","onlyOfficeCreateInProgress":"Creating the current file..."},"empty":{"title":"You dont have any files in this folder.","text":"Click the \\"Add\\" button to add files to this folder.","trash_title":"You dont have any deleted files.","trash_text":"Move files you don\'t need anymore to the Trash and permanently delete items to free up storage page."},"error":{"open_folder":"Something went wrong when opening the folder.","open_file":"Something went wrong when opening the file.","button":{"reload":"Refresh now"},"download_file":{"offline":"You should be connected to download this file","missing":"This file is missing","encryption_many":"You cannot download several encrypted files at once"}},"Error":{"public_unshared_title":"Sorry, this link is no longer available.","public_unshared_text":"This link has expired, or it was removed by its owner. Let him or her know that you missed it!","generic":"Something went wrong. Wait a few minutes and retry."},"alert":{"could_not_open_file":"The file could not be opened","try_again":"An error has occurred, please try again in a moment.","restore_file_success":"The selection has been successfully restored.","trash_file_success":"The selection has been moved to the Trash.","destroy_file_success":"The selection has been deleted permanently.","empty_trash_progress":"Your trash is being emptied. This might take a few moments.","empty_trash_success":"The trash has been emptied.","folder_name":"The element %{folderName} already exists, please choose a new name.","file_name":"The element %{fileName} already exists, please choose a new name.","file_name_missing":"The file name is missing, please choose a new name.","file_name_illegal_name":"The name %{fileName} is invalid, please choose a new name.","file_name_illegal_characters":"The element %{fileName} contains invalid characters: %{characters}","folder_generic":"An error occurred, please try again.","folder_abort":"You need to add a name to your new folder if you would like to save it. Your information has not been saved.","offline":"This feature is not available offline.","preparing":"Preparing your files"},"mobile":{"onboarding":{"welcome":{"title":"Cozy Drive","desc":"Create a Cozy or sign in to access Cozy Drive","button":"Sign in","no_account_link":"I don\'t have a Cozy","create_my_cozy":"Create my Cozy"},"server_selection":{"title":"Sign in","lostpwd":"[I forgot the address of my Cozy](https://manager.cozycloud.cc/cozy/reminder)","label":"Address of my Cozy","cozy_address_placeholder":"claude","cozy_custom_address_placeholder":"claude.mydomain.com","domain_cozy":".mycozy.cloud","domain_custom":"other","button":"Next","wrong_address_with_email":"You typed an email address. To connect on your cozy you must type its url, something like https://camillenimbus.mycozy.cloud","wrong_address_v2":"You have just entered the address of old Cozy version. This application is only compatible with the latest version. [Please refer to our site for more information.](https://blog.cozycloud.cc/post/2016/11/21/On-the-road-to-Cozy-version-3?lang=en)","wrong_address":"This address doesnt seem to be a cozy. Please check the address you provide.","wrong_address_cosy":"Woops, the address is not correct. Try with \\"cozy\\" with a \\"z\\"!"},"files":{"title":"Access your drive","description":"In order to save your Cozy Drive on your device, the application must access your files."},"photos":{"title":"Backup your photos and videos","description":"Automatically backup the photos taken with your phone to your Cozy, so you never lose them."},"contacts":{"title":"Sync your contacts","description":"Save your phone\'s contact on your Cozy  this will facilitate sharing files with them."},"step":{"button":"Enable now","skip":"Later","next":"Next"},"analytics":{"title":"Help us improve Cozy","description":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."}},"settings":{"title":"Settings","about":{"title":"About","app_version":"App Version","account":"Account"},"unlink":{"title":"Sign out of your Cozy","description":"By signing out of your Cozy from this device, you will not lose any data in your Cozy. This will remove your offline files from this device related to your Cozy.","button":"Sign out"},"media_backup":{"media_folder":"Photos","backup_folder":"Backed up from my mobile","legacy_backup_folder":"Backuped from my mobile","title":"Media Backup","images":{"title":"Backup images","label":"Backup your images automatically to your Cozy not to ever lose them and share them easily."},"launch":"Launch Backup","stop":"Stop Backup","wifi":{"title":"Backup on WIFI only","label":"If the option is enabled, your device will only backup photos when it\'s on WIFI in order to save your package."},"media_upload":"%{smart_count} remaining picture |||| %{smart_count} remaining pictures","media_uptodate":"Media backup is up-to-date","preparing":"Searching for media to backup...","no_wifi":"Please connect to a WIFI","quota":"Storage limit nearly reached","quota_contact":"Manage your storage space"},"support":{"title":"Support","analytics":{"title":"Help us improve Cozy","label":"The application will automatically provide data (mainly errors) to Cozy Cloud. It will allow us to resolve problems faster."},"feedback":{"title":"Help improve Cozy Drive","description":"Send your feedback to help us improve Cozy Drive. Click on the button below, explain the problem or make a suggestion and send it. You\'re done!","button":"leave feedback"},"logs":{"title":"Help us to understand your problem","description":"Send the application log to help us improve its quality and stability.","button":"Send my logs","success":"Thanks, we will investigate your problem and contact you soon.","error":"A problem happened, logs couldn\'t be sent, please try again."}},"contacts":{"title":"Contacts","subtitle":"Import contacts","text":"Import the contacts from your device to your Cozy to easily share content with them."}},"error":{"open_with":{"offline":"You should be connected to open this file","noapp":"No application on your device can open this file with mime type: %{fileMime} ","missing":"This file is missing"},"make_available_offline":{"offline":"You should be connected to open this file","noapp":"No application on your device can open this file with mime type: %{fileMime} "}},"revoked":{"title":"Access revoked","description":"It appears you revoked this device from your Cozy. If you didn\'t, please let us know at contact@cozycloud.cc. All your local data related to your Cozy will be removed.","loginagain":"Log in again","logout":"Log out"},"rating":{"enjoy":{"title":"Enjoying Cozy Drive?","yes":"Yes!","no":"Not really"},"rate":{"title":"Would you mind rating it?","yes":"Let\'s do that!","no":"No, thanks","later":"Maybe later"},"feedback":{"title":"Would you mind giving us some feedback?","yes":"Send","no":"No, thanks"},"email":{"subject":"Feedback on Cozy Drive","placeholder":"Hello, I think Cozy Drive would be better if"},"alert":{"rated":"Thank you! You\'re ","declined":"Awesome. You will love the upcoming features. Stay Cozy!","later":"No problem, we\'ll ask again later.","feedback":"Thank you for the feedback. We\'ll definitely work on it!"}},"first_sync":{"title":"You are about to start your first photos back up ","tips":"Tips","tip_bed":"Open Cozy Drive before you go to bed or when you don\'t use your phone.","tip_wifi":"Enable Wi-Fi to preserve your data.","tip_lock":"Disable your lock screen.","result":"In the morning, all your photos will be stored in a safe and secure location.","button":"Got it!"},"notifications":{"backup_paused":"Your photos backup is paused. Keep the application open and prevent the screen from going to sleep to complete the backup."},"download":{"success":"Your file has been shared with success"}},"upload":{"alert":{"success":"%{smart_count} file uploaded with success. |||| %{smart_count} files uploaded with success.","success_conflicts":"%{smart_count} file uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} files uploaded with %{conflictNumber} conflict(s).","success_updated":"%{smart_count} file uploaded and %{updatedCount} updated. |||| %{smart_count} files uploaded and %{updatedCount} updated.","success_updated_conflicts":"%{smart_count} file uploaded, %{updatedCount} updated and %{conflictCount} conflict(s). |||| %{smart_count} files uploaded, %{updatedCount} updated and %{conflictCount} conflict(s).","updated":"%{smart_count} file updated. |||| %{smart_count} files updated.","updated_conflicts":"%{smart_count} file updated with %{conflictCount} conflict(s). |||| %{smart_count} files updated with %{conflictCount} conflict(s).","errors":"Errors occurred during the file upload.","network":"You are currenly offline. Please try again once you\'re connected."}},"intents":{"alert":{"error":"Unable to automatically upload the file, please upload it manually with the upload menu."},"picker":{"select":"Select","cancel":"Cancel","new_folder":"New folder","instructions":"Select a target"}},"UploadQueue":{"header":"Uploading %{smart_count} photo to Cozy Drive |||| Uploading %{smart_count} photos to Cozy Drive","header_mobile":"Uploading %{done} of %{total}","header_done":"Uploaded %{done} out of %{total} successfully","close":"close","item":{"pending":"Pending"}},"Viewer":{"close":"Close","noviewer":{"download":"Download this file","openWith":"Open with...","openInOnlyOffice":"Open with Only Office","cta":{"saveTime":"Save some time!","installDesktop":"Install the synchronization tool for your computer","accessFiles":"Access your files directly on your computer"}},"actions":{"download":"Download","forward":"Forward"},"loading":{"error":"This file could not be loaded. Do you have a working internet connection right now?","retry":"Retry"},"error":{"noapp":"No application on your device can handle this file.","generic":"An error occurred when opening this file, please try again.","noNetwork":"You\'re currently offline."},"panel":{"title":"Useful information"}},"Move":{"to":"Move to:","action":"Move","cancel":"Cancel","modalTitle":"Move","title":"%{smart_count} element |||| %{smart_count} elements","success":"%{subject} has been moved to %{target}. |||| %{smart_count} elements have been moved to %{target}.","error":"Something went wrong while moving this element, please try again later. |||| Something went wrong while moving these elements, please try again later.","cancelled":"%{subject} has been moved back to it\'s original location. |||| %{smart_count} elements have been moved back to their original location.","cancelledWithRestoreErrors":"%{subject} has been moved back to it\'s original location but there was an error while restoring the file from trash. |||| %{smart_count} elements have been moved back to their original location but there was %{restoreErrorsCount} error(s) while restoring the file(s) from trash.","cancelled_error":"Sorry, there was an error while moving the element back. |||| Sorry, there was an error while moving these elements back."},"ImportToDrive":{"title":"%{smart_count} element |||| %{smart_count} elements","to":"Save in:","action":"Save","cancel":"Cancel","success":"%{smart_count} saved file |||| %{smart_count} saved files","error":"Something went wrong. Please try again"},"FileOpenerExternal":{"fileNotFoundError":"Error: file not found"},"TOS":{"updated":{"title":"GDPR comes into reality !","detail":"In the context of the General Data Protection Regulation, [our Terms of Service have been updated](%{link}) and will apply to all our Cozy users on May 25, 2018.","cta":"Accept TOS and continue","disconnect":"Refuse and disconnect","error":"Something went wrong, please try again later"}},"manifest":{"permissions":{"contacts":{"description":"Required to share files with your contacts"},"groups":{"description":"Required to share files with your groups"}}},"models":{"contact":{"defaultDisplayName":"Anonymous"}},"Scan":{"scan_a_doc":"Scan a doc","save_doc":"Save the doc","filename":"Filename","save":"Save","cancel":"Cancel","qualify":"Categorize","apply":"Apply","error":{"offline":"You are currently offline and you can\'t use this functionnality. Try it later","uploading":"You are already uploading a file. Wait until the end of this upload and try again.","generic":"Something went wrong. Please try again."},"successful":{"qualified_ok":"You just have successfully categorized your file! "},"items":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","national_id_card":"ID card","passport":"Passeport","residence_permit":"Residence permit","family_record_book":"Family record book","birth_certificate":"Birth certificate","driver_license":"Driving license","wedding":"Wedding contract","pacs":"Civil union","divorce":"Divorce","large_family_card":" Large Family Card","caf":"Social benefit","diploma":"Diploma","work_contract":"Contract","pay_sheet":"Pay sheet","unemployment_benefit":"Unemployment benefit","pension":"Pension","other_revenue":"Other revenues","gradebook":"Gradebook","health_book":"Health Record","insurance_card":"Insurance card","prescription":"Prescription","health_invoice":"Health invoice","registration":"Regisration","car_insurance":"Car insurance","mechanic_invoice":"Repair bill","transport_invoice":"Transport invoice","phone_invoice":"Phone invoice","isp_invoice":"ISP invoice","energy_invoice":"Energy invoice","web_service_invoice":"Web service invoice","lease":"Lease","house_insurance":"Home insurance","rent_receipt":"Rent receipt","tax_return":"Tax return","tax_notice":"Tax notice","tax_timetable":"Payment Plans Installment Agreements","invoices":"Invoices"},"themes":{"identity":"Identity","family":"Family","work_study":"Work","health":"Health","home":"Home","transport":"Transport","invoice":"Invoice","others":"Others","undefined":"Undefined","tax":"Tax"}},"History":{"description":"The last 20 versions of your files are automatically kept. Select a version to download it.","current_version":"Current version","loading":"Loading...","noFileVersionEnabled":"Your Cozy will soon be able to archive the last modifications of a file to never risk losing them again"},"External":{"redirection":{"title":"Redirection","text":"You\'re about to be redirected","error":"Error during the redirection. Generally, this means that the content of the file is not in the correct format."}},"RenameModal":{"title":"Rename","description":"You\'re about to change the file\'s extension. Do you want to continue?","continue":"Continue","cancel":"Cancel"},"Shortcut":{"title_modal":"Create a shortcut","filename":"Filename","url":"URL","cancel":"Cancel","create":"Create","created":"Your shortcut has been created","errored":"An error occured","filename_error_ends":"The name should end with .url","needs_info":"Shorcut needs at least an url and a filename","url_badformat":"Your url is not in the right format"},"OnlyOffice":{"Error":{"title":"Something goes wrong","text":"Please try to reload the page"},"readOnly":{"title":"Read only","tooltip":"You are only authorized to view this document. Contact the owner to obtain writing privileges."},"createFileName":{"text":"New text document","spreadsheet":"New spreadsheet","slide":"New presentation"},"toolbar":{"goToHome":"Go to home"},"actions":{"edit":"Edit","validate":"Validate"}},"Migration":{"title":"Update Cozy Drive","content":"Cozy Drive needs to update in order to improve its performances. This might take up to several minutes during which you cannot use your app. Do you want to do it now? If you refuse, we will ask you again next time","confirm":"Ok, let\'s do it!","cancel":"No, not now"},"searchbar":{"placeholder":"Search anything","empty":"No result has been found for the query %{query}"},"button":{"back":"Back","add":"Add"},"search":{"action":"Search","empty":{"title":"No result","subtitle":"No result has been found for the query %{query}"}}}')},kvbT:function(e,t,n){"use strict";var r=n("o0o1"),a=n.n(r),i=n("yXPU"),o=n.n(i),c=n("J4zp"),u=n.n(c),l=n("q1tI"),s=n.n(l),f=n("Vg22"),d=n("mwIZ"),m=n.n(d),p=n("V4z/"),h=n("SH7X"),b=n("Bkvo"),y=n("gqi3"),v=n("1I/2"),g=n("EM1p"),w=n("Lknf"),O=n("7YkG"),x=function(e){var t=e.children;return s.a.createElement(O.a,{className:"u-ov-auto",role:"table"},t)},E=n("NirP"),j=n("TSYQ"),k=n.n(j),C=n("BJ98"),_=n.n(C),S=n("buk/"),z=n("ufaa"),I=n("67rm"),F=n("9Etc"),P=n("37ak"),D=n("yEaX"),T=n("oRqk"),N=n("lVV2"),R=n("QmKc"),M=n.n(R),A=_()(h.withClient,Object(S.translate)(),Object(f.connect)((function(e){return{visible:Object(P.e)(e),isEncrypted:Object(P.d)(e)}}),(function(e,t){return{onSubmit:function(n){return e(function(e,t){return function(){var n=o()(a.a.mark((function n(r,i){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r(Object(D.a)(e.client,e.vaultClient,t,e.currentFolderId,{isEncryptedFolder:Object(P.d)(i())})).then((function(){return e.refreshFolderContent&&e.refreshFolderContent(),r(Object(P.c)())})));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},onAbort:function(t){t&&I.a.info("alert.folder_abort"),e(Object(P.c)())}}})),Object(z.a)())((function(e){var t=e.f,n=e.visible,r=e.isEncrypted,a=e.onSubmit,i=e.onAbort,o=e.extraColumns,c=e.breakpoints.isMobile;return n?s.a.createElement(O.f,{className:M.a["fil-content-row"]},s.a.createElement(O.c,{className:k()(M.a["fil-content-cell"],M.a["fil-content-file-select"])}),s.a.createElement(T.a,{file:{type:"directory"},isEncrypted:r}),s.a.createElement(O.c,{className:k()(M.a["fil-content-cell"],M.a["fil-content-file"])},s.a.createElement(F.a,{onSubmit:a,onAbort:i})),!c&&s.a.createElement(s.a.Fragment,null,s.a.createElement(O.c,{className:k()(M.a["fil-content-cell"],M.a["fil-content-date"])},s.a.createElement("time",{dateTime:""},t(Date.now(),"MMM D, YYYY"))),s.a.createElement(N.c,{className:M.a["fil-content-size"]}),o&&o.map((function(e){return s.a.createElement(N.c,{key:e.label,className:M.a["fil-content-narrow"]})})),s.a.createElement(N.c,{className:M.a["fil-content-status"]})),s.a.createElement(O.c,{className:k()(M.a["fil-content-cell"],M.a["fil-content-file-action"])})):null})),L=n("vehq"),B=n("a/S8"),q=n("CxWN"),U=n("KOJc"),Q=n("zLPI"),V=n("17x9"),W=n.n(V),H=n("ZLzk"),X=function(e){var t=e.fetchMore,n=Object(S.useI18n)().t;return s.a.createElement(O.f,{className:k()(M.a["fil-content-row"],M.a["fil-content-row--center"])},s.a.createElement(H.a,{fetchMore:t,label:n("table.load_more")}))};X.propTypes={fetchMore:W.a.func.isRequired};var K=X,G=n("d9dq"),Y=n("pVnL"),J=n.n(Y),Z=n("QILm"),$=n.n(Z),ee=n("+MCZ"),te=n("7oMs"),ne=["selectionModeActive","actions"],re=Object(f.connect)((function(e){return{selected:Object(te.b)(e),selectionModeActive:Object(te.e)(e)}}),(function(e){return{hideSelectionBar:function(){return e(Object(te.c)())}}}))((function(e){var t=e.selectionModeActive,n=e.actions,r=$()(e,ne),a=ae(n),i=t?{}:{display:"none"};return s.a.createElement("div",{style:i},s.a.createElement(ee.a,J()({actions:a},r)))})),ae=function(e){var t={};return e.forEach((function(e){var n=Object.values(e)[0];(void 0===n.displayInSelectionBar||n.displayInSelectionBar)&&(t[n.name]=n)})),t},ie=n("Z7XG"),oe=n("snfs"),ce=n("iTW1"),ue=function(e){var t=e.file,n=e.client,r=e.isFlatDomain,a=new URL(window.location);return"/public"===a.pathname?Object(h.generateWebLink)({cozyUrl:n.getStackClient().uri,pathname:"/public",slug:"drive",hash:"external/".concat(t.id),searchParams:a.searchParams,subDomainType:r?"flat":"nested"}):Object(h.generateWebLink)({cozyUrl:n.getStackClient().uri,pathname:"/",slug:"drive",hash:"external/".concat(t.id),subDomainType:r?"flat":"nested"})},le=n("AT0p"),se=n("z6Q1"),fe=function(e){var t=e.client,n=e.isFlatDomain,r=e.dispatch,i=e.navigateToFile,c=e.replaceCurrentUrl,u=e.openInNewTab,l=e.routeTo,s=e.isOfficeEnabled,f=e.webviewIntent;return function(){var e=o()(a.a.mark((function e(o){var d,m,p,b,y,v,g,w;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=o.event,m=o.file,!o.isAvailableOffline){e.next=3;break}return e.abrupt("return",r(Object(ce.c)(t,m)));case 3:if(p=h.models.file.isNote(m),b=h.models.file.isShortcut(m),y=h.models.file.shouldBeOpenedByOnlyOffice(m),!b){e.next=24;break}if(!Object(oe.isMobileApp)()&&!Object(oe.isFlagshipApp)()){e.next=20;break}return e.prev=8,e.next=11,t.query(Object(h.Q)(se.e).getById(m.id));case 11:v=e.sent,c(v.data.attributes.url),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),I.a.error("alert.could_not_open_file");case 18:e.next=22;break;case 20:g=ue({file:m,client:t,isFlatDomain:n}),u(g);case 22:e.next=40;break;case 24:if(!p){e.next=39;break}return e.prev=25,e.next=28,h.models.note.fetchURL(t,m);case 28:if(w=e.sent,!Object(oe.isFlagshipApp)()||!f){e.next=31;break}return e.abrupt("return",f.call("openApp",w,{slug:"notes"}));case 31:c(w),e.next=37;break;case 34:e.prev=34,e.t1=e.catch(25),I.a.error("alert.offline");case 37:e.next=40;break;case 39:y&&s?d.ctrlKey||d.metaKey||d.shiftKey?u(Object(le.g)(m)):l(Object(le.g)(m,!0)):i(m);case 40:case"end":return e.stop()}}),e,null,[[8,15],[25,34]])})));return function(t){return e.apply(this,arguments)}}()},de=function(e,t){var n=m()(e,"relationships.referenced_by.data");if(!n)return!1;var r=n.find((function(e){return"io.cozy.sharings"===e.type})).id;return!1!==m()(t,r,!1)},me=n("H57K"),pe=n("qvEe");t.a=function(e){var t=e.currentFolderId,n=e.displayedFolder,r=e.queryResults,i=e.actions,c=e.canSort,d=e.canUpload,O=void 0===d||d,j=e.withFilePath,k=void 0!==j&&j,C=e.navigateToFolder,_=e.navigateToFile,S=e.refreshFolderContent,z=void 0===S?null:S,I=e.extraColumns,F=Object(v.b)().isDesktop,P=Object(p.n)(),T=Object(h.useClient)();Object(l.useEffect)((function(){if(F){var e=document.querySelectorAll("[data-testid=fil-content-body]")[0];e&&e.scroll({top:0})}else window.scroll({top:0})}),[t,F]);var N=Object(l.useContext)(g.a),R=N.isBigThumbnail,M=N.toggleThumbnailSize,V=Object(l.useContext)(w.b).sharingsValue,W=Object(D.g)(t),H=u()(W,2),X=H[0],Y=H[1],J=Object(b.e)(),Z=Object(pe.useWebviewIntent)(),$=Object(l.useCallback)((function(e,t,n){return Y({sortAttribute:t,sortOrder:n})}),[Y]),ee=Object(h.useCapabilities)(T).capabilities,te=m()(ee,"flat_subdomains"),ne=Object(f.useDispatch)(),ae=Object(l.useCallback)((function(e){var t=e.event,n=e.file,r=e.isAvailableOffline;return fe({client:T,isFlatDomain:te,dispatch:ne,navigateToFile:_,replaceCurrentUrl:function(e){return window.location.href=e},openInNewTab:function(e){return window.open(e,"_blank")},routeTo:function(e){return P(e)},isOfficeEnabled:Object(le.c)(F),webviewIntent:Z})({event:t,file:n,isAvailableOffline:r})}),[T,ne,_,te,P,Z,F]),oe=r.some((function(e){return"failed"===e.fetchStatus})),ce=!oe&&r.some((function(e){return e.data&&e.data.length>0})),ue=!ce&&r.some((function(e){return"loading"===e.fetchStatus&&!e.lastUpdate})),se=!oe&&!ue&&!ce,he=Object.keys(V).length<=0,be=function(e){var t=e.isEmpty,n=e.queryResults,r=Object(l.useContext)(w.b),a=r.sharingsValue,i=r.setSharingsValue,o=r.fileValue;return{syncingFakeFile:function(e){var t=e.isEmpty,n=e.isSharingContextEmpty,r=e.queryResults,a=e.sharingId,i=e.sharingsValue,o=e.setSharingsValue,c=e.fileValue;if(t||n)return null;var u=i[a];return c||!u?null:function(e){var t=e.queryResults,n=e.sharingId,r=e.sharingsValue,a=e.setSharingsValue,i=e.syncingFakeFile;return function(e,t){return e.some((function(e){return e.data.some((function(e){return!!(e.referenced_by&&e.referenced_by.length>=1)&&e.referenced_by.some((function(e){return"io.cozy.sharings"===e.type&&e.id===t}))}))}))}(t,n)?(function(e){var t=e.sharingsValue,n=e.setSharingsValue;delete t[e.sharingId],n(t)}({sharingsValue:r,setSharingsValue:a,sharingId:n}),null):i}({syncingFakeFile:function(e){var t=e.sharingValue;return t?{name:t.attributes.description,id:t.id,type:"directory"}:null}({sharingValue:u}),queryResults:r,sharingId:a,sharingsValue:i,setSharingsValue:o,fileValue:c})}({isEmpty:t,isSharingContextEmpty:Object(l.useMemo)((function(){return Object.keys(a).length<=0}),[a]),queryResults:n,sharingId:Object(D.c)(window.location),sharingsValue:a,setSharingsValue:i,fileValue:o})}}({isEmpty:se,queryResults:r}).syncingFakeFile,ye=Object(me.i)(n),ve=Object(l.useState)(!0),ge=u()(ve,2),we=ge[0],Oe=ge[1];Object(l.useEffect)((function(){var e=null;return ue||(e=setTimeout((function(){Oe(!1)}),50)),function(){return clearTimeout(e)}}),[ue]);var xe=Object(l.useState)(!0),Ee=u()(xe,2),je=Ee[0],ke=Ee[1];return Object(l.useEffect)((function(){ye&&function(){var e=o()(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.isLocked();case 2:t=e.sent,ke(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[J,ye,je]),ye&&je?s.a.createElement(b.d,{onDismiss:function(){return ke(!1),P("/folder")},onUnlock:function(){return ke(!1)}}):s.a.createElement(s.a.Fragment,null,s.a.createElement(re,{actions:i}),s.a.createElement(x,null,ce&&s.a.createElement(s.a.Fragment,null,s.a.createElement(B.a,{folderId:null,canSort:c,sort:X,onFolderSort:$,thumbnailSizeBig:R,toggleThumbnailSize:M}),s.a.createElement(L.a,{folderId:null,canSort:c,sort:X,onFolderSort:$,thumbnailSizeBig:R,toggleThumbnailSize:M,extraColumns:I})),s.a.createElement(E.a,{selectionModeActive:!1},s.a.createElement(A,{vaultClient:J,refreshFolderContent:z,extraColumns:I,currentFolderId:t}),oe&&s.a.createElement(q.a,null),(we||ue)&&s.a.createElement(Q.a,null),se&&t!==ie.d&&s.a.createElement(U.a,{isEncrypted:ye,canUpload:O}),se&&t===ie.d&&s.a.createElement(U.b,{canUpload:O}),ce&&!we&&s.a.createElement("div",{className:F?"":"u-ov-hidden"},s.a.createElement(s.a.Fragment,null,be&&s.a.createElement(G.b,{attributes:be,withSelectionCheckbox:!1,onFolderOpen:function(){},onFileOpen:function(){},actions:[],isInSyncFromSharing:!0,extraColumns:I}),r.map((function(e,t){return s.a.createElement(s.a.Fragment,{key:t},e.data.map((function(e){return s.a.createElement(G.b,{key:e._id,attributes:e,withSelectionCheckbox:!0,onFolderOpen:C,onFileOpen:ae,withFilePath:k,thumbnailSizeBig:R,actions:i,refreshFolderContent:z,isInSyncFromSharing:!he&&Object(y.isSharingShortcut)(e)&&de(e,V),extraColumns:I})})),e.hasMore&&s.a.createElement(K,{fetchMore:e.fetchMore}))})))))))}},lJfM:function(e,t,n){e.exports={empty:"empty--18MhH"}},lVV2:function(e,t,n){"use strict";n.d(t,"g",(function(){return d})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return S})),n.d(t,"h",(function(){return z})),n.d(t,"i",(function(){return ee})),n.d(t,"d",(function(){return re})),n.d(t,"a",(function(){return ue})),n.d(t,"b",(function(){return le})),n.d(t,"c",(function(){return se}));var r=n("pVnL"),a=n.n(r),i=n("q1tI"),o=n.n(i),c=n("TSYQ"),u=n.n(c),l=n("7YkG"),s=n("QmKc"),f=n.n(s),d=function(e){var t=e.withSelectionCheckbox,n=e.selected,r=e.onClick,i=e.disabled;return o.a.createElement(l.c,a()({className:u()(f.a["fil-content-cell"],f.a["fil-content-file-select"])},!i&&{onClick:r}),t&&!i&&o.a.createElement("span",{"data-input":"checkbox"},o.a.createElement("input",{onChange:function(){},type:"checkbox",checked:n}),o.a.createElement("label",null)))},m=n("lSNA"),p=n.n(m),h=n("SOjZ"),b=n("mwIZ"),y=n.n(b),v=n("SH7X"),g=n("gqi3"),w=n("F+Nm"),O=n("y6ex"),x=n("rvOC"),E=n("mzws"),j=n("D2Hl"),k=n("OjRq"),C=function(e){var t=e.attributes,n=y()(t,"metadata.carbonCopy"),r=y()(t,"metadata.electronicSafe"),a=y()(t,"cozyMetadata.uploadedBy.slug"),c=Object(v.useClient)(),u=Object(i.useCallback)((function(){return c.getStackClient().getIconURL({type:"konnector",slug:a,priority:"registry"})}),[c,a]);return o.a.createElement("div",{className:f.a["fil-file-certifications"]},(n||r)&&o.a.createElement("span",{className:f.a["fil-file-certifications--separator"]}," - "),n&&(r?o.a.createElement("span",{"data-testid":"certificationsIcons-carbonCopyIcon"},o.a.createElement(O.a,{icon:E.a,className:"u-mr-half ".concat(f.a["fil-file-certifications--icon"])})):o.a.createElement("span",{"data-testid":"certificationsIcons-carbonCopyAppIcon"},o.a.createElement(x.a,{app:a,className:f.a["fil-file-certifications--icon"],fetchIcon:u,type:"konnector"}))),r&&o.a.createElement("span",{"data-testid":"certificationsIcons-electronicSafeAppIcon"},o.a.createElement(x.a,{app:a,className:f.a["fil-file-certifications--icon"],fetchIcon:u,type:"konnector"})))},_=function(e){var t=e.attributes,n=e.isRenaming,r=e.interactive,a=e.withFilePath,i=e.isMobile,c=e.formattedSize,s=e.formattedUpdatedAt,d=e.refreshFolderContent,m=e.isInSyncFromSharing,b=u()(f.a["fil-content-cell"],f.a["fil-content-file"],p()({},f.a["fil-content-file-openable"],!n&&r),p()({},f.a["fil-content-row-disabled"],m)),y=k.b.splitFilename(t),v=y.filename,O=y.extension;return o.a.createElement(l.c,{className:b},n?o.a.createElement(j.b,{file:t,refreshFolderContent:d}):o.a.createElement("div",{className:f.a["fil-file"]},o.a.createElement("div",{className:f.a["fil-file-filename"]},o.a.createElement("div",{className:f.a["fil-file-filename-wrapper"]},o.a.createElement("div",{"data-testid":"fil-file-filename-and-ext",className:f.a["fil-file-filename-and-ext"],title:v+O},v,O&&o.a.createElement("span",{className:f.a["fil-content-ext"]},O)))),a&&t.displayedPath&&(i?o.a.createElement("div",{className:f.a["fil-file-description"],title:v+O},o.a.createElement(w.a,{className:f.a["fil-file-description--path"],text:t.displayedPath}),o.a.createElement(C,{attributes:t})):o.a.createElement(h.b,{to:"/folder/".concat(t.dir_id),className:f.a["fil-file-path"]},o.a.createElement(w.a,{text:t.displayedPath}))),!a&&(Object(g.isDirectory)(t)||o.a.createElement("div",{className:f.a["fil-file-infos"]},"".concat(s).concat(c?" - ".concat(c):""),i&&o.a.createElement(C,{attributes:t})))))},S=o.a.memo((function(e){var t=e.date,n=e.formatted,r=void 0===n?"":n;return o.a.createElement(l.c,{className:u()(f.a["fil-content-cell"],f.a["fil-content-date"])},o.a.createElement("time",{dateTime:t},r))})),z=o.a.memo((function(e){var t=e.filesize,n=void 0===t?"":t;return o.a.createElement(l.c,{className:u()(f.a["fil-content-cell"],f.a["fil-content-size"])},n)})),I=n("J4zp"),F=n.n(I),P=n("WJEw"),D=n("DA+R"),T=n("7jrE"),N=n.n(T),R=n("K19I"),M=n("lwsE"),A=n.n(M),L=n("W8MJ"),B=n.n(L),q=n("7W2i"),U=n.n(q),Q=n("a1gu"),V=n.n(Q),W=n("Nsbk"),H=n.n(W),X=n("yTXx"),K=n("T/9g"),G=n("EGzn"),Y=n.n(G);function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H()(e);if(t){var a=H()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return V()(this,n)}}var Z=function(e){U()(n,e);var t=J(n);function n(e){var r;return A()(this,n),(r=t.call(this,e)).myRef=o.a.createRef(),r}return B()(n,[{key:"componentDidMount",value:function(){var e=this;this.gesturesHandler=Object(K.a)(new X.a(this.myRef.current)),this.gesturesHandler.on("tap",(function(t){e.props.onClick(),t.stopPropagation()}))}},{key:"render",value:function(){return o.a.createElement("span",{className:Y.a["file-opener"],ref:this.myRef},this.props.children)}}]),n}(i.Component),$=function(e){var t=e.file,n=e.setDisplayedModal,r=e.disabled,a=e.isInSyncFromSharing;return o.a.createElement("div",{className:u()(f.a["fil-content-sharestatus"],p()({},f.a["fil-content-sharestatus--disabled"],r))},a?o.a.createElement("span",{"data-testid":"fil-content-sharestatus--noAvatar"},""):o.a.createElement(Z,{onClick:function(){!r&&n(!0)}},o.a.createElement(P.a,{docId:t.id})))},ee=function(e){var t=e.isAvailableOffline,n=e.file,r=e.disabled,a=e.isInSyncFromSharing,c=Object(i.useState)(!1),s=F()(c,2),d=s[0],m=s[1];return o.a.createElement(o.a.Fragment,null,d&&o.a.createElement(D.a,{document:n,documentType:"Files",sharingDesc:n.name,onClose:function(){return m(!1)}}),o.a.createElement(l.c,{className:u()(f.a["fil-content-cell"],f.a["fil-content-status"])},t&&!r&&o.a.createElement("span",{className:f.a["fil-content-offline"]},o.a.createElement(O.a,{icon:R.a,color:N.a.white,width:"14",height:"14"})),o.a.createElement($,{file:n,setDisplayedModal:m,disabled:r,isInSyncFromSharing:a})))},te=n("aR52"),ne=n("Pxjx"),re=Object(i.forwardRef)((function(e,t){var n=e.t,r=e.onClick,i=e.disabled,c=e.isInSyncFromSharing;return o.a.createElement(l.c,{className:u()(f.a["fil-content-cell"],f.a["fil-content-file-action"],p()({},f.a["fil-content-file-action--disabled"],c))},o.a.createElement("span",{ref:t},o.a.createElement(te.a,a()({},!i&&{onClick:r},{variant:"text",label:o.a.createElement(O.a,{icon:ne.a,size:17,color:N.a.coolGrey}),"arial-label":n("Toolbar.more")}))))})),ae=n("buk/"),ie=n("hE6O"),oe=n("Z9N9"),ce=function(e){var t=e.file,n=y()(t,"metadata.electronicSafe"),r=y()(t,"cozyMetadata.uploadedBy.slug");return n?o.a.createElement(O.a,{icon:ie.a}):o.a.createElement(x.a,{app:r,type:"konnector"})},ue=function(e){var t=e.file,n=Object(ae.useI18n)().t,r=y()(t,"metadata.carbonCopy");return o.a.createElement(l.c,{className:u()(f.a["fil-content-cell"],f.a["fil-content-narrow"])},r?o.a.createElement(oe.a,{body:n("table.tooltip.carbonCopy.title"),caption:n("table.tooltip.carbonCopy.caption"),content:o.a.createElement(ce,{file:t})}):"")},le=function(e){var t=e.file,n=Object(ae.useI18n)().t,r=y()(t,"metadata.electronicSafe"),a=y()(t,"cozyMetadata.uploadedBy.slug");return o.a.createElement(l.c,{className:u()(f.a["fil-content-cell"],f.a["fil-content-narrow"])},r?o.a.createElement(oe.a,{body:n("table.tooltip.electronicSafe.title"),caption:n("table.tooltip.electronicSafe.caption"),content:o.a.createElement(x.a,{app:a,type:"konnector"})}):"")},se=function(e){var t=e.className;return o.a.createElement(l.c,{className:u()(f.a["fil-content-cell"],t)},"")}},"ldF/":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("q1tI"),a=n.n(r),i=n("LNIv"),o=n("y6ex"),c=function(e){var t=e.icon,n=e.text;return a.a.createElement(i.c,null,a.a.createElement(i.b,null,a.a.createElement(o.a,{icon:t,color:"var(--coolGrey)"})),a.a.createElement(i.a,{className:"u-pl-1-half"},n))}},mdCN:function(e,t,n){e.exports={"fil-file-name-input":"fil-file-name-input--2jfPV",error:"error--2QCXU","CozyTheme--inverted":"CozyTheme--inverted--1muGl","CozyTheme--normal":"CozyTheme--normal--pFpMj",spin:"spin--3eqnH",shake:"shake--12n6l"}},msjc:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),i=n("q1tI"),o=n.n(i),c=n("/T4a"),u=n("buk/"),l=n("IJhJ"),s=n("On/j"),f=n("Om6k");t.a=o.a.memo((function(e){var t=e.noSidebar,n=Object(u.useI18n)().t,r=Object(i.useContext)(s.a),d=r.anchorRef,m=r.handleToggle,p=r.isDisabled,h=r.handleOfflineClick,b=r.isOffline,y=r.a11y,v=Object(f.a)({bottom:t?"1rem":"calc(var(--sidebarHeight) + 1rem)"});return o.a.createElement("div",{ref:d||void 0,onClick:b?h:void 0},o.a.createElement(l.a,a()({color:"primary",label:n("button.add"),icon:c.a,className:v.root,disabled:p||b,follow:window,onClick:m},y)))}))},"nb+A":function(e,t,n){"use strict";var r=n("q1tI"),a=n("V4z/"),i=n("o0o1"),o=n.n(i),c=n("lSNA"),u=n.n(c),l=n("yXPU"),s=n.n(l),f=n("SH7X"),d=n("Vg22"),m=n("KGD5"),p=function(e,t){var n=Object(f.useClient)(),a=Object(d.useSelector)((function(n){if(t)return Object(m.getDocumentFromState)(n,e,t)}));return Object(r.useMemo)((function(){return n.hydrateDocument(a)}),[n,a])},h=n("T//5");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=["text","sheet","slide","image","pdf","video","audio","zip","code","bin"],g=function(e){var t=Object(f.useClient)(),n=p("io.cozy.files",e);Object(r.useEffect)((function(){(function(){var r=s()(o.a.mark((function r(){var a,i,c;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e||n){r.next=4;break}return a=Object(h.e)(e),r.next=4,t.query(a.definition,y(y({},a.options),{},{enabled:!n}));case 4:i=document.querySelector("link[rel~='icon']"),c=n&&"file"===n.type?(o=n.class,u=void 0,u=function(e){return"spreadsheet"===e?"sheet":e}(o),"/public/icons/icon-type-".concat(v.includes(u)?u:"files",".svg")):"/public/app-icon.svg",i.href=c;case 7:case"end":return r.stop()}var o,u}),r)})));return function(){return r.apply(this,arguments)}})()()}),[t,e,n])},w=n("tt8A"),O=n("Z7XG"),x=n("buk/"),E=function(e){var t=Object(x.useI18n)().t,n=Object(f.useClient)(),a=Object(w.a)(e),i=a.data,o=a.fetchStatus,c=Object(r.useMemo)((function(){return"".concat(n.appMetadata.prefix," ").concat(n.appMetadata.name)}),[n.appMetadata]),u=Object(r.useMemo)((function(){return function(e,t,n){var r=e&&e.name&&!O.e.includes(e.name)?"".concat(e.name," "):"",a="";if(f.models.file.isDirectory(e)){if(e&&e.path)if(e.path.startsWith(O.e)){var i=e.path.split("".concat(O.e,"/"))[1];a=i?"(".concat(n("Nav.item_trash"),"/").concat(i,") "):"".concat(n("Nav.item_trash")," ")}else"/"!==e.path&&e.path!=="/".concat(e.name)&&(a="(".concat(e.path.substring(1),") "))}else if(e&&e.displayedPath)if(e.displayedPath.startsWith(O.e)){var o=e.displayedPath.split("".concat(O.e,"/"))[1];a=o?"(".concat(n("Nav.item_trash"),"/").concat(o,") "):"(".concat(n("Nav.item_trash"),") ")}else a="(".concat(e.displayedPath.substring(1),") ");var c=r||a?"- ":"";return"".concat(r).concat(a).concat(c).concat(t)}(i,c,t)}),[i,c,t]);Object(r.useEffect)((function(){"loaded"===o&&u!==document.title&&(document.title=u)}),[o,u])};t.a=function(){var e=Object(a.p)(),t=e.folderId,n=e.fileId,i=Object(r.useMemo)((function(){return void 0!==n}),[n]);E(i?n:t),g(i?n:t)}},nfx8:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));window.Connection&&window.Connection.UNKNOWN,window.Connection&&window.Connection.ETHERNET;var r=window.Connection?window.Connection.WIFI:"wifi",a=(window.Connection&&window.Connection.CELL_2G,window.Connection&&window.Connection.CELL_3G,window.Connection&&window.Connection.CELL_4G,window.Connection&&window.Connection.CELL,window.Connection?window.Connection.NONE:"none"),i=function(){return void 0!==window.navigator.connection&&void 0!==window.Connection},o=function(){return(i()?navigator.connection.type:r)===r},c=function(){return i()?navigator.connection!==a:navigator.onLine}},nw0P:function(e,t,n){var r={"./_lib/build_formatting_tokens_reg_exp/index.js":"kOWh","./ar/build_distance_in_words_locale/index.js":"XxX6","./ar/build_format_locale/index.js":"alis","./ar/index.js":"EDRf","./be/build_distance_in_words_locale/index.js":"LQ09","./be/build_format_locale/index.js":"kj7F","./be/index.js":"YEhR","./bg/build_distance_in_words_locale/index.js":"7K3h","./bg/build_format_locale/index.js":"RrdL","./bg/index.js":"isx8","./ca/build_distance_in_words_locale/index.js":"wqqj","./ca/build_format_locale/index.js":"qcV0","./ca/index.js":"Vwa+","./cs/build_distance_in_words_locale/index.js":"ZKDM","./cs/build_format_locale/index.js":"ipyF","./cs/index.js":"dvhP","./da/build_distance_in_words_locale/index.js":"2Mgc","./da/build_format_locale/index.js":"Gned","./da/index.js":"7ur/","./de/build_distance_in_words_locale/index.js":"5IWf","./de/build_format_locale/index.js":"THCn","./de/index.js":"bgw5","./el/build_distance_in_words_locale/index.js":"o/GB","./el/build_format_locale/index.js":"8T9h","./el/index.js":"dH0v","./en/build_distance_in_words_locale/index.js":"LZbM","./en/build_format_locale/index.js":"6DAA","./en/index.js":"Us+F","./eo/build_distance_in_words_locale/index.js":"qrnn","./eo/build_format_locale/index.js":"Bl15","./eo/index.js":"UB7v","./es/build_distance_in_words_locale/index.js":"GEfZ","./es/build_format_locale/index.js":"O+zC","./es/index.js":"/S0t","./fi/build_distance_in_words_locale/index.js":"VHtQ","./fi/build_format_locale/index.js":"Oydx","./fi/index.js":"ndVD","./fil/build_distance_in_words_locale/index.js":"uq4p","./fil/build_format_locale/index.js":"d7hw","./fil/index.js":"pNfm","./fr/build_distance_in_words_locale/index.js":"IzMR","./fr/build_format_locale/index.js":"I3Zg","./fr/index.js":"LKA2","./hr/build_distance_in_words_locale/index.js":"DPvn","./hr/build_format_locale/index.js":"puw3","./hr/index.js":"L9Jq","./hu/build_distance_in_words_locale/index.js":"w2RQ","./hu/build_format_locale/index.js":"/0iD","./hu/index.js":"Nm+E","./id/build_distance_in_words_locale/index.js":"JbvB","./id/build_format_locale/index.js":"0wlw","./id/index.js":"A6C3","./is/build_distance_in_words_locale/index.js":"qzMC","./is/build_format_locale/index.js":"S3yD","./is/index.js":"N4bE","./it/build_distance_in_words_locale/index.js":"MDEp","./it/build_format_locale/index.js":"aUJd","./it/index.js":"hmb4","./ja/build_distance_in_words_locale/index.js":"nNvt","./ja/build_format_locale/index.js":"buui","./ja/index.js":"uAXs","./ko/build_distance_in_words_locale/index.js":"oEw+","./ko/build_format_locale/index.js":"9SQf","./ko/index.js":"iW8+","./mk/build_distance_in_words_locale/index.js":"nmwZ","./mk/build_format_locale/index.js":"htxJ","./mk/index.js":"GzBU","./nb/build_distance_in_words_locale/index.js":"SL1f","./nb/build_format_locale/index.js":"CJ5F","./nb/index.js":"73vv","./nl/build_distance_in_words_locale/index.js":"Uyu0","./nl/build_format_locale/index.js":"doCD","./nl/index.js":"hCQt","./pl/build_distance_in_words_locale/index.js":"FUBD","./pl/build_format_locale/index.js":"nOYf","./pl/index.js":"B6yL","./pt/build_distance_in_words_locale/index.js":"aTPA","./pt/build_format_locale/index.js":"TTT0","./pt/index.js":"gdks","./ro/build_distance_in_words_locale/index.js":"gI+A","./ro/build_format_locale/index.js":"njjO","./ro/index.js":"r2yp","./ru/build_distance_in_words_locale/index.js":"KmPx","./ru/build_format_locale/index.js":"UUBw","./ru/index.js":"nz/o","./sk/build_distance_in_words_locale/index.js":"q2Bs","./sk/build_format_locale/index.js":"9sxn","./sk/index.js":"Wqan","./sl/build_distance_in_words_locale/index.js":"mlv2","./sl/build_format_locale/index.js":"vHkZ","./sl/index.js":"KYSo","./sr/build_distance_in_words_locale/index.js":"LlkS","./sr/build_format_locale/index.js":"RhjJ","./sr/index.js":"7mU3","./sv/build_distance_in_words_locale/index.js":"UNBN","./sv/build_format_locale/index.js":"zTNB","./sv/index.js":"hxgj","./th/build_distance_in_words_locale/index.js":"XAGa","./th/build_format_locale/index.js":"We2s","./th/index.js":"Pk+z","./tr/build_distance_in_words_locale/index.js":"aFZF","./tr/build_format_locale/index.js":"jh7A","./tr/index.js":"3ZWG","./zh_cn/build_distance_in_words_locale/index.js":"KdB7","./zh_cn/build_format_locale/index.js":"l4EP","./zh_cn/index.js":"8tMq","./zh_tw/build_distance_in_words_locale/index.js":"vyyr","./zh_tw/build_format_locale/index.js":"uYH7","./zh_tw/index.js":"QPlQ"};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id="nw0P"},oRqk:function(e,t,n){"use strict";var r,a=n("q1tI"),i=n.n(a),o=n("17x9"),c=n.n(o),u=n("TSYQ"),l=n.n(u),s=n("SH7X"),f=n("5ACa"),d=n("H/9E"),m=n("lL6P"),p=n("3hes"),h=n("y6ex"),b=n("1I/2"),y=n("V2U0"),v=n("7YkG"),g=n("QZjj"),w=n("mgfL"),O=n.n(w),x=n("SICK"),E=n("7TaF"),j=n("6se/"),k=n("QmKc"),C=n.n(k),_=function(e){var t=e.file,n=e.size,r=e.isEncrypted,a="image"===t.class,o="shortcut"===t.class,c=O()("drive.thumbnails-pdf.enabled");return a||c&&"pdf"===t.class?i.a.createElement(j.a,{file:t,linkType:"tiny",render:function(e){return i.a.createElement("img",{src:e,width:n||32,height:n||32,className:C.a["fil-file-thumbnail-image"]})},renderFallback:function(){return i.a.createElement(x.a,{file:t,size:n})}}):o?i.a.createElement(E.a,{file:t,size:n}):i.a.createElement(x.a,{file:t,size:n,isEncrypted:r})},S=n("UNFo"),z=n("QQky"),I=n("z6Q1"),F=(r=function(e){var t=e.file,n=e.size,r=s.models.file.getSharingShortcutTargetMime(t),a=s.models.file.getSharingShortcutTargetDoctype(t),o="application/internet-shortcut"===r,c=""===r&&a===I.c;return o?i.a.createElement(E.a,{file:t,size:n}):i.a.createElement(h.a,{icon:Object(z.a)(c,t.name,r),size:n})},function(e){var t=e.file;return s.models.file.isSharingShortcutNew(t)?i.a.createElement(S.a,{variant:"dot",color:"error"},i.a.createElement(r,e)):i.a.createElement(r,e)}),P=function(e){var t=e.file,n=e.size,r=e.isInSyncFromSharing,a=e.isEncrypted,o=Object(b.b)().isMobile,c=s.models.file.isSharingShortcut(t)&&!r,u=!c&&"shortcut"===t.class&&!r,w=!c&&!u&&!r;return i.a.createElement(v.c,{className:l()(C.a["fil-content-cell"],C.a["fil-file-thumbnail"],{"u-pl-0":!o})},w&&i.a.createElement(_,{file:t,size:n,isEncrypted:a}),u&&i.a.createElement(m.a,{badgeContent:i.a.createElement(h.a,{icon:g.a,size:10})},i.a.createElement(_,{file:t,size:n})),c&&i.a.createElement(p.a,{badgeContent:i.a.createElement(F,{file:t,size:16})},i.a.createElement(f.a,{docId:t.id,size:"small"})),r&&i.a.createElement("span",{"data-testid":"fil-file-thumbnail--spinner"},i.a.createElement(y.b,{size:"large",className:C.a["fil-file-thumbnail--spinner"]})),"shortcut"!==t.class&&o&&!r&&i.a.createElement(d.a,{docId:t.id,className:C.a["fil-content-shared"],xsmall:!0}))};P.propTypes={file:c.a.shape({class:c.a.string,mime:c.a.string,name:c.a.string}).isRequired,size:c.a.number};t.a=P},q3u0:function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return k})),n.d(t,"c",(function(){return C})),n.d(t,"a",(function(){return _}));var r=n("lSNA"),a=n.n(r),i=n("o0o1"),o=n.n(i),c=n("yXPU"),u=n.n(c),l=(n("I9wM"),n("SH7X")),s=n.n(l),f=n("4ihG"),d=n.n(f),m=n("snfs"),p=n("Ow0/"),h=n("UQWb"),b=n("z6Q1"),y=n("unzg"),v=n("AHTZ"),g=function(e){if(!Object(m.isMobileApp)())return"http://localhost";return Object(m.isAndroidApp)()?p.c+"auth":Object(v.b)()+"/"+e+"/".concat("auth","?custom_scheme=").concat(p.c,"&custom_path=").concat("auth")},w=n("T//5");n("B6p6"),n("oAJy"),n("IFYe");var O=function(){return navigator&&navigator.language?navigator.language.slice(0,2):"en"},x=function(){return Object(m.isMobileApp)()&&Object(m.isIOSApp)()?"cordova-sqlite":"idb"},E=function(e){return"cordova-sqlite"===e?n("tinZ"):"idb"===e?n("Wh65"):n("nr6D").default},j=function(){var e=u()(o.a.mark((function e(t){var n,r,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new l.StackLink,r=x(),i={doctypes:[b.c],doctypesReplicationOptions:a()({},b.c,{strategy:"fromRemote",warmupQueries:[Object(w.c)({currentFolderId:"io.cozy.files.root-dir",type:"directory",sortAttribute:"name",sortOrder:"asc"}),Object(w.k)(),Object(w.g)("io.cozy.files.root-dir")]}),pouch:{plugins:[E(r)],options:{adapter:r,location:"default"}},initialSync:!0},Object(m.isMobileApp)()&&Object(m.isIOSApp)()&&(i.pouch={plugins:[E(r)],options:{adapter:r,location:"default"}}),c=new d.a(i),e.abrupt("return",new s.a({uri:t,oauth:{redirectURI:g(y.a.slug),softwareID:p.d,clientName:"".concat(p.e," (").concat(Object(m.getDeviceName)(),")"),softwareVersion:y.a.version,clientKind:"mobile",clientURI:"https://github.com/cozy/cozy-drive/",logoURI:"https://github.com/cozy/cozy-drive/raw/master/targets/drive/vendor/assets/oauth-app-icon.png",policyURI:"https://files.cozycloud.cc/cgu.pdf"},appMetadata:y.a,schema:b.f,links:[c,n],store:!1}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&cozy.client.auth.unregisterClient&&cozy.client.auth.unregisterClient(t),document.getElementById("coz-bar")&&document.getElementById("coz-bar").remove(),cozy.client.offline.destroyAllDatabase&&cozy.client.offline.destroyAllDatabase(),e.getStackClient().resetClient(),cozy.client._storage&&cozy.client._storage.clear(),Object(h.disableBackgroundService)()}var C=function(){var e=u()(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cozy.client.authorize();case 2:return t=e.sent,e.abrupt("return",t.token.accessToken);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){return cozy.client._url}},qEeb:function(e,t,n){var r={"./en.json":"2S2T","./fr.json":"gK7X"};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id="qEeb"},qxHO:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return b}));var r=n("lSNA"),a=n.n(r),i=n("NlKi"),o=n.n(i),c=n("unzg"),u=n("OTOu");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e,t){return e.replace(/^file:\/\//,"app://").replace(t,"")},d=function(e){var t=/^.*\/[^.]+(\.app|CodePush|.*(?=\/))/;e.culprit&&(e.culprit=f(e.culprit,t));var n=e.stacktrace||e.exception&&e.exception.values&&e.exception.values[0]&&e.exception.values[0].stacktrace;return n&&(n.frames=n.frames.map((function(e){return"[native code]"!==e.filename?s(s({},e),{},{filename:f(e.filename,t)}):e}))),e},m=function(){o.a.config("https://05f3392b39bb4504a179c95aa5b0e8f6@errors.cozycloud.cc/41",{shouldSendCallback:!0,environment:"production",release:c.a.version,allowSecretKey:!0,dataCallback:d}).install()},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(r){o.a.captureException(e,{extra:t,fingerprint:n}),u.a.warn("Raven is recording exception"),u.a.error(e),r()}))},h=function(e){o.a.setTagsContext({instance:e})},b=function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";return new Promise((function(r){o.a.setUserContext={url:t},o.a.captureMessage("[".concat(t,"] ").concat(e),{level:n}),r()}))}(e,t,"info")}},"rH+U":function(e,t,n){e.exports={"feedback-form":"feedback-form--1Hjg3","coz-form":"coz-form--2IkEt","coz-form-group":"coz-form-group--17IGD","coz-form-desc":"coz-form-desc--341sI","coz-form-label":"coz-form-label--KKSGZ","coz-form-label--error":"coz-form-label--error--1l6MZ","coz-form-errors":"coz-form-errors--3vkOv",settings:"settings--1nsnv",settings__title:"settings__title--_YWG5",settings__category:"settings__category--3XPW7",settings__button:"settings__button--2WzVM","settings__subcategory-title":"settings__subcategory-title--2fiRw",settings__subcategory:"settings__subcategory--5_HUH",settings__subcategory__label:"settings__subcategory__label--3ylh3",settings__subcategory__item:"settings__subcategory__item--3s2tq","feedback-text":"feedback-text--2mWKg",spin:"spin--3lPHL",shake:"shake--DR2Bn"}},rR5K:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("17x9"),o=n.n(i),c=n("7YkG"),u=n("vehq"),l=n("a/S8"),s=n("NirP"),f=function(e){var t=e.children;return a.a.createElement(c.a,{role:"table"},a.a.createElement(a.a.Fragment,null,a.a.createElement(l.a,{folderId:null,canSort:!1}),a.a.createElement(u.a,{folderId:null,canSort:!1})),a.a.createElement(s.a,{className:"u-ov-visible",selectionModeActive:!1},t))};f.propTypes={children:o.a.node},t.a=f},siNt:function(e,t,n){e.exports={HistoryRowRevisionLoader:"HistoryRowRevisionLoader--7OrjN"}},swni:function(e,t,n){e.exports={"u-visuallyhidden":"u-visuallyhidden--1L4hk","dri-btn--more":"dri-btn--more--MNdqs"}},tHeH:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("V4z/"),o=n("TcKW");t.a=function(e){var t=e.isPublic,n=void 0!==t&&t,r=Object(i.n)();return a.a.createElement(o.a,{isPublic:n,onClose:function(){r("..")}})}},tLSP:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("17x9"),o=n.n(i),c=n("mwIZ"),u=n.n(c),l=n("qPyV"),s=n.n(l),f=n("J3YJ"),d=n("ufaa"),m=n("bVTo"),p=n("KpV2"),h=n("Z7XG"),b=function(e,t){var n=e.navigateTo,r=e.currentDir,i=e.fetchStatus,o=e.breakpoints.isMobile,c=t.t,l="loaded"===i?function(e,t){return s()([{_id:h.b},{_id:u()(t,"dir_id")},{_id:t._id,name:t.name}],"_id").filter((function(e){var t=e._id;return Boolean(t)})).map((function(t){return{_id:t._id,name:t.name||(t._id===h.b?e("breadcrumb.title_drive"):"")}}))}(c,r):[],d=l.length>1&&o;return a.a.createElement(f.a,{hideOnMobile:!1},d&&a.a.createElement(p.a,{onClick:function(){return n(l[l.length-2])},t:c}),a.a.createElement(m.a,{path:l,onBreadcrumbClick:n,opening:!1,inlined:!0}))};b.propTypes={navigateTo:o.a.func.isRequired,currentDir:o.a.object.isRequired,fetchStatus:o.a.string.isRequired,breakpoints:o.a.shape({isMobile:o.a.bool}).isRequired},b.contextTypes={t:o.a.func.isRequired},t.a=Object(d.a)()(b)},tqYW:function(e,t,n){var r={"./en":"koyB","./en.json":"koyB"};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id="tqYW"},trYA:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("pVnL"),a=n.n(r),i=n("q1tI"),o=n.n(i),c=n("Vg22"),u=n("dMQz"),l=n("buk/"),s=n("QQky"),f=n("2U19"),d=Object(l.translate)()((function(e){return o.a.createElement(u.a,a()({popover:!0,getMimeTypeIcon:s.a,app:"Cozy Drive"},e))}));t.b=Object(c.connect)((function(e){return{queue:Object(f.f)(e),doneCount:Object(f.d)(e).length,successCount:Object(f.e)(e).length}}),(function(e){return{purgeQueue:function(){return e(Object(f.g)())}}}))(d)},tt8A:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return v}));var r=n("lSNA"),a=n.n(r),i=n("mwIZ"),o=n.n(i),c=n("7tbW"),u=n.n(c),l=n("QVEU"),s=n.n(l),f=n("SH7X"),d=n("T//5"),m=n("Z7XG");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){return e.dir_id!==m.d&&!0!==e.trashed},y=function(e){var t=Object(f.useQuery)(e.definition,e.options),n=(t.data||[]).filter(b),r=u()(n.map((function(e){return e.dir_id}))),a=Object(d.j)(r),i=Object(f.useQuery)(a.definition,a.options),c=i.data||[],l={};return!("loading"===i.fetchStatus&&!i.lastUpdate)&&c.length>0&&(l=s()(i.data,"_id")),h(h({},t),{},{data:n.map((function(e){return h(h({},e),{},{displayedPath:o()(l[e.dir_id],"path")})}))})},v=function(e){var t=e?Object(d.e)(e):Object(d.j)([]),n=Object(f.useQuery)(t.definition,t.options),r=n.data,a=r&&r.dir_id?r.dir_id:[],i=Array.isArray(a)?Object(d.j)(a):Object(d.e)(a),o=Object(f.useQuery)(i.definition,i.options),c=o.data;return h(h({},n),{},{fetchStatus:"loaded"===n.fetchStatus&&o&&"loaded"===o.fetchStatus?"loaded":"loading",data:h(h({},r),{},{displayedPath:c?c.path:void 0})})}},udIP:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),i=n("o0o1"),o=n.n(i),c=n("yXPU"),u=n.n(c),l=n("lwsE"),s=n.n(l),f=n("W8MJ"),d=n.n(f),m=n("PJYZ"),p=n.n(m),h=n("7W2i"),b=n.n(h),y=n("a1gu"),v=n.n(y),g=n("Nsbk"),w=n.n(g),O=n("lSNA"),x=n.n(O),E=n("q1tI"),j=n.n(E),k=n("V4z/"),C=n("17x9"),_=n.n(C),S=n("mwIZ"),z=n.n(S),I=n("3YpY"),F=n("V2U0"),P=n("67rm"),D=n("buk/"),T=n("s0VD"),N=n("B9Y0"),R=n("TBZM"),M=n("/dzn"),A=n("EhdM"),L=n("ufaa"),B=n("wKlF"),q=n("AT0p");function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}var W=Object(D.translate)()((function(e){var t=e.t;return j.a.createElement("pre",{className:"u-error"},t("FileOpenerExternal.fileNotFoundError"))})),H=function(e){b()(r,e);var t,n=V(r);function r(){var e;s()(this,r);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),x()(p()(e),"state",{loading:!0,file:null}),e}return d()(r,[{key:"UNSAFE_componentWillMount",value:function(){var e=z()(this.props,"routeParams.fileId");this.props.fileId?this.loadFileInfo(this.props.fileId):e&&this.loadFileInfo(e)}},{key:"componentDidUpdate",value:function(e){if(e.fileId!==this.props.fileId)return this.loadFileInfo(this.props.fileId);var t=z()(e,"routeParams.fileId"),n=z()(this.props,"routeParams.fileId");return t!==n?this.loadFileInfo(n):void 0}},{key:"loadFileInfo",value:(t=u()(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({fileNotFound:!1}),e.next=4,cozy.client.files.statById(t,!1);case 4:n=e.sent,r=Q(Q(Q({},n),n.attributes),{},{id:n._id}),this.setState({file:r,loading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),this.setState({fileNotFound:!0,loading:!1}),P.a.error("alert.could_not_open_file");case 13:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.file,n=e.loading,r=e.fileNotFound,a=this.props,i=a.t,o=a.service,c=a.navigate,u=a.breakpoints.isDesktop;return j.a.createElement("div",{className:"u-pos-absolute u-w-100 u-h-100 u-bg-charcoalGrey"},n&&j.a.createElement(F.b,{size:"xxlarge",middle:!0,noMargin:!0,color:"white"}),r&&j.a.createElement(W,null),!n&&!r&&j.a.createElement(I.a,null,j.a.createElement(N.a,null,j.a.createElement(T.a,{files:[t],currentIndex:0,onChangeRequest:function(){},onCloseRequest:function(){return o.terminate()},renderFallbackExtraContent:function(e){return j.a.createElement(B.a,{file:e,t:i})},componentsProps:{OnlyOfficeViewer:{isEnabled:Object(q.c)(u),opener:function(e){return c(Object(q.g)(e,!0))}}}},j.a.createElement(R.a,null,j.a.createElement(A.a,null),j.a.createElement(M.a,null))))))}}]),r}(E.Component);H.propTypes={router:_.a.shape({push:_.a.func.isRequired,params:_.a.shape({fileId:_.a.string.isRequired}).isRequired}),routeParams:_.a.shape({fileId:_.a.string}),fileId:_.a.string};t.a=Object(L.a)()(Object(D.translate)()((function(e){var t=e.props,n=Object(k.n)();return j.a.createElement(H,a()({},t,{navigate:n}))})))},unzg:function(e,t,n){"use strict";var r=n("XA+M"),a=n.n(r),i={slug:a.a.slug,version:a.a.version,name:a.a.name,prefix:a.a.name_prefix};t.a=i},uty3:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n("q1tI"),a=n.n(r),i=n("1I/2"),o=n("pVnL"),c=n.n(o),u=n("QILm"),l=n.n(u),s=n("bVTo"),f=n("xyDR"),d=n("KpV2"),m=n("buk/"),p=["onBreadcrumbClick","path"],h=function(e){var t=e.onBreadcrumbClick,n=e.path,i=l()(e,p),o=Object(r.useCallback)((function(){var e=n[n.length-2];t(e)}),[t,n]),u=Object(m.useI18n)().t;return a.a.createElement("div",null,n.length>=2&&a.a.createElement(f.b,null,a.a.createElement(d.a,{onClick:o,t:u})),a.a.createElement(f.a,null,a.a.createElement(s.a,c()({},i,{path:n,onBreadcrumbClick:t}))))},b=n("J4zp"),y=n.n(b),v=n("TSYQ"),g=n.n(v),w=n("oCJc"),O=n("y6ex"),x=n("QaI8"),E=n("ZOQW"),j=n.n(E),k=n("UxX4"),C=n("qVrW"),_=function(e){var t=e.onBreadcrumbClick,n=e.path,i=Object(m.useI18n)().t,o=Object(r.useMemo)((function(){return i("breadcrumb.label")}),[i]),c=Object(r.useState)(document.querySelector('[aria-label="'.concat(o,'"]'))),u=y()(c,2),l=u[0],s=u[1],f=Object(r.useMemo)((function(){return{current:l}}),[l]),d=Object(r.useState)(!1),p=y()(d,2),h=p[0],b=p[1],v=function(e){e.stopPropagation(),b(!0)};Object(r.useEffect)((function(){b(!1),s(document.querySelector('[aria-label="'.concat(o,'"]')))}),[n]),Object(r.useEffect)((function(){var e=f.current;if(e)return e.addEventListener("click",v),function(){b(!1),e.removeEventListener("click",v)}}),[f.current]);var E=a.a.createElement(O.a,{icon:x.a,className:j.a["fil-path-separator"]});return a.a.createElement(a.a.Fragment,null,a.a.createElement(w.a,{className:j.a["fil-path-backdrop"],maxItems:3,separator:E,itemsAfterCollapse:2,expandText:o},n.map((function(e,r){return a.a.createElement("span",{className:g()(r===n.length-1?j.a["fil-path-current-name"]:j.a["fil-path-link"],j.a["fil-path-title"]),key:e.name,onClick:function(n){n.stopPropagation(),t(e)}},e.name)}))),h&&a.a.createElement(k.a,{anchorElRef:f,autoclose:!0,onClose:function(){b(!1)},popperOptions:{placement:"bottom-end",modifiers:[{name:"offset",options:{offset:[0,10]}}]}},n.slice(1,-2).map((function(e){return a.a.createElement(C.a,{key:e.name,onClick:function(n){n.stopPropagation(),t(e)}},e.name)}))))},S=function(e){return Object(i.b)().isMobile?a.a.createElement(h,e):a.a.createElement(_,e)}},vX5W:function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),i=n("q1tI"),o=n.n(i),c=n("TSYQ"),u=n.n(c),l=n("17x9"),s=n.n(l),f=n("jDpt"),d=n("snfs"),m=n("o0o1"),p=n.n(m),h=n("yXPU"),b=n.n(h),y=n("lwsE"),v=n.n(y),g=n("W8MJ"),w=n.n(g),O=n("PJYZ"),x=n.n(O),E=n("7W2i"),j=n.n(E),k=n("a1gu"),C=n.n(k),_=n("Nsbk"),S=n.n(_),z=n("oAJy"),I=n.n(z),F=n("56YH"),P=n.n(F),D=n("SH7X"),T=n("buk/"),N=n("dexL"),R=n("KXWi"),M=n("y6ex"),A=n("7jrE"),L=n.n(A),B=n("eY+3"),q=n("sbrb"),U=n("IFEr"),Q=n("FKqX"),V=n("AzIT"),W=n.n(V);function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var a=S()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return C()(this,n)}}var X=function(e){j()(r,e);var t,n=H(r);function r(e){var t;return v()(this,r),t=n.call(this,e),a()(x()(t),"state",{mustShow:!1}),t.willUnmount=!1,t}return w()(r,[{key:"componentDidMount",value:(t=b()(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.willUnmount=!1,e.next=3,I.a.getItem(U.a);case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=!1;case 6:if(e.t0){e.next=12;break}return e.next=10,Object(U.d)(this.props.client);case 10:!e.sent&&!this.willUnmount&&this.setState({mustShow:!0});case 12:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.willUnmount=!0}},{key:"markAsSeen",value:function(){I.a.setItem(U.a,!0),this.setState({mustShow:!1})}},{key:"render",value:function(){var e=this;if(!0!==Q.promoteDesktop.isActivated||!this.state.mustShow)return null;var t=this.props.t,n=Object(U.e)()?"Nav.link-client-ios":Object(U.c)()?"Nav.link-client-android":Object(U.f)()?"Nav.link-client":"Nav.link-client-desktop",r=Object(U.e)()||Object(U.c)()?"Nav.btn-client-mobile":"Nav.banner-txt-client";return o.a.createElement("div",{className:W.a["coz-banner-client"]},o.a.createElement(N.a,{inline:!0,icon:o.a.createElement(M.a,{icon:B.a,size:"100%"}),text:t(r),bgcolor:L.a.paleGrey,buttonOne:o.a.createElement(R.b,{href:t(n),theme:"text",icon:q.a,label:t("Nav.banner-btn-client"),onClick:function(){return e.markAsSeen("banner")}}),buttonTwo:o.a.createElement(R.c,{theme:"text",label:t("SelectionBar.close"),onClick:function(){e.markAsSeen("close")}})}))}}]),r}(i.Component),K=P()(Object(T.translate)(),D.withClient)(X),G=n("8IyR"),Y=n.n(G),J=function(e){var t=e.children,n=e.isPublic,r=void 0!==n&&n;return o.a.createElement(f.c,{className:u()(a()({},Y.a["fil-content"],!r))},!r&&!Object(d.isFlagshipApp)()&&o.a.createElement(K,null),t)};J.propTypes={isPublic:s.a.bool,children:s.a.array};t.a=J},vehq:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("TSYQ"),o=n.n(i),c=n("buk/"),u=n("aR52"),l=n("y6ex"),s=n("7YkG"),f=n("AnwN"),d=n("Fczp"),m=n("lSNA"),p=n.n(m),h=n("QmKc"),b=n.n(h),y=function(e){var t,n=e.label,i=e.css,u=e.attr,l=e.order,f=void 0===l?null:l,d=e.defaultOrder,m=e.onSort,h=Object(c.useI18n)().t,y=Object(r.useCallback)((function(){return m&&m(u,f?"asc"===f?"desc":"asc":d)}),[m,u,f,d]);return a.a.createElement(s.e,{onClick:y,className:o()(b.a["fil-content-header"],b.a["fil-content-".concat(i)],(t={},p()(t,b.a["fil-content-header-sortableasc"],m&&null===f&&"asc"===d),p()(t,b.a["fil-content-header-sortabledesc"],m&&null===f&&"desc"===d),p()(t,b.a["fil-content-header-sortasc"],m&&"asc"===f),p()(t,b.a["fil-content-header-sortdesc"],m&&"desc"===f),t))},h("table.head_".concat(n)))},v=n("6IK3");t.a=function(e){var t=e.folderId,n=e.canSort,r=e.sort,i=e.onFolderSort,m=e.thumbnailSizeBig,p=e.toggleThumbnailSize,h=e.extraColumns,g=Object(c.useI18n)().t,w=r||v.a;return a.a.createElement(s.d,{className:b.a["fil-content-head"]},a.a.createElement(s.f,{className:b.a["fil-content-row-head"]},a.a.createElement(s.e,{className:o()(b.a["fil-content-header"],b.a["fil-content-file-select"])}),v.b.map((function(e,r){var o=e.label,c=e.attr,u=e.css,l=e.defaultOrder;if(!n)return a.a.createElement(y,{key:r,label:o,css:u});var s=w&&w.attribute===c;return a.a.createElement(y,{key:"key_cell_".concat(r),label:o,attr:c,css:u,defaultOrder:l,order:s?w.order:null,onSort:function(e,n){return i(t,e,n)}})})),a.a.createElement(s.e,{className:o()(b.a["fil-content-header"],b.a["fil-content-size"])},g("table.head_size")),h&&h.map((function(e){return a.a.createElement(e.HeaderComponent,{key:e.label})})),a.a.createElement(s.e,{className:o()(b.a["fil-content-header"],b.a["fil-content-header-status"])},g("table.head_status")),a.a.createElement(s.e,{className:o()(b.a["fil-content-header"],b.a["fil-content-header-action"])},n&&a.a.createElement(u.a,{variant:"text",onClick:function(){p()},label:a.a.createElement(l.a,{icon:m?d.a:f.a,size:17,label:g("table.head_thumbnail_size")}),"aria-label":g("table.head_thumbnail_size")}))))}},w2zn:function(e,t,n){"use strict";var r=n("J4zp"),a=n.n(r),i=n("q1tI"),o=n.n(i),c=n("17x9"),u=n.n(c),l=n("d9dq"),s=n("Bkvo"),f=n("Z7XG"),d=n("H57K"),m=function(e,t){var n=e.find((function(e){return e._id===t._id}));return"file"===t.type||n},p=function(e){var t=e.targets,n=e.files,r=e.folder,c=e.navigateTo,u=Object(i.useState)(!0),p=a()(u,2),h=p[0],b=p[1];return Object(d.i)(r)&&h?o.a.createElement(s.d,{onDismiss:function(){return b(!1),c(f.b)},onUnlock:function(){return b(!1)}}):o.a.createElement(o.a.Fragment,null,n.map((function(e){return o.a.createElement(l.a,{key:e.id,disabled:m(t,e),styleDisabled:m(t,e),attributes:e,displayedFolder:null,actions:null,isRenaming:!1,onFolderOpen:function(e){return c(n.find((function(t){return t.id===e})))},onFileOpen:null,withSelectionCheckbox:!1,withFilePath:!1,withSharedBadge:!0})})))};p.propTypes={targets:u.a.array.isRequired,files:u.a.array.isRequired,navigateTo:u.a.func.isRequired,folder:u.a.object},t.a=p},wKlF:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("17x9"),o=n.n(i),c=n("o0o1"),u=n.n(c),l=n("yXPU"),s=n.n(l),f=n("lwsE"),d=n.n(f),m=n("W8MJ"),p=n.n(m),h=n("PJYZ"),b=n.n(h),y=n("7W2i"),v=n.n(y),g=n("a1gu"),w=n.n(g),O=n("Nsbk"),x=n.n(O),E=n("lSNA"),j=n.n(E),k=n("SH7X"),C=n("oAJy"),_=n.n(C),S=n("7jrE"),z=n.n(S),I=n("y6ex"),F=n("JL3L"),P=n("IFEr"),D=n("FKqX"),T=n("PhqT"),N=n.n(T);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x()(e);if(t){var a=x()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w()(this,n)}}var M=function(e){v()(r,e);var t,n=R(r);function r(){var e;d()(this,r);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),j()(b()(e),"state",{mustShow:!1}),j()(b()(e),"markAsSeen",(function(){_.a.setItem(P.b,!0),e.setState({mustShow:!1})})),e}return p()(r,[{key:"componentDidMount",value:(t=s()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===D.promoteDesktop.isActivated){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,_.a.getItem(P.b);case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0=!1;case 7:if(e.t0){e.next=19;break}return e.prev=9,e.next=12,Object(P.d)(this.props.client);case 12:!e.sent&&this.setState({mustShow:!0}),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(9),this.setState({mustShow:!1});case 19:case"end":return e.stop()}}),e,this,[[9,16]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){if(!this.state.mustShow||!0!==D.promoteDesktop.isActivated)return null;var e=this.props.t;return a.a.createElement("div",{className:N.a["pho-viewer-noviewer-cta"]},a.a.createElement(I.a,{className:N.a["pho-viewer-noviewer-cta-cross"],color:z.a.white,icon:F.a,onClick:this.markAsSeen}),a.a.createElement("h3",null,e("Viewer.noviewer.cta.saveTime")),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("a",{target:"_blank",href:e(Object(P.f)()?"Nav.link-client":"Nav.link-client-desktop"),rel:"noreferrer"},e("Viewer.noviewer.cta.installDesktop"))),a.a.createElement("li",null,e("Viewer.noviewer.cta.accessFiles"))))}}]),r}(r.Component),A=Object(k.withClient)(M),L=n("Vg22"),B=n("KXWi"),q=n("67rm"),U=n("qxHO"),Q=n("snfs"),V=n("Bkvo"),W=n("iTW1"),H=n("H57K"),X=function(){var e=s()(u.a.mark((function e(t,n,r){var a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.vaultClient,!Object(H.g)(n)){e.next=8;break}return e.next=4,Object(H.f)(t,n.dir_id);case 4:return i=e.sent,e.abrupt("return",Object(H.c)(t,a,{file:n,encryptionKey:i}));case 8:return e.abrupt("return",t.collection("io.cozy.files").download(n));case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x()(e);if(t){var a=x()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w()(this,n)}}var J=function(e){v()(n,e);var t=Y(n);function n(){var e;d()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),j()(b()(e),"state",{loading:!1}),j()(b()(e),"onClick",s()(u.a.mark((function t(){var n,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.onClick,a=n.onError,e.setState((function(e){return G(G({},e),{},{loading:!0})})),t.prev=2,t.next=5,r();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),a(t.t0);case 10:e.setState((function(e){return G(G({},e),{},{loading:!1})}));case 11:case"end":return t.stop()}}),t,null,[[2,7]])})))),e}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.className;return a.a.createElement(B.a,{busy:this.state.loading,className:n,onClick:this.onClick,label:t})}}]),n}(a.a.Component),Z=Object(L.connect)(null,(function(e,t){return{openLocalFileCopy:function(n,r){return e(Object(W.d)(n,t.file,{vaultClient:r}))}}}))((function(e){var t=e.t,n=e.openLocalFileCopy,r=e.client,i=e.vaultClient;return a.a.createElement(J,{onClick:function(){return n(r,i)},onError:function(e){/^Activity not found/.test(e.message)?q.a.error("Viewer.error.noapp",e):(Object(U.b)(e),q.a.error("Viewer.error.generic",e))},label:t("Viewer.noviewer.openWith")})})),$=function(e){var t=e.t,n=e.file,r=Object(k.useClient)(),i=Object(V.e)();return a.a.createElement(B.a,{onClick:function(){return X(r,n,{vaultClient:i})},label:t("Viewer.noviewer.download")})};$.contextTypes={client:o.a.object.isRequired};var ee=function(e){var t=e.file,n=e.t,r=Object(k.useClient)(),i=Object(V.e)();return Object(Q.isMobileApp)()?a.a.createElement(Z,{t:n,file:t,client:r,vaultClient:i}):a.a.createElement($,{t:n,file:t})},te=function(e){var t=e.file,n=e.t;return a.a.createElement(a.a.Fragment,null,a.a.createElement(ee,{file:t,t:n}),a.a.createElement(A,{t:n}))};te.propTypes={file:o.a.object.isRequired,t:o.a.func.isRequired};t.a=te},xyDR:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return w}));var r=n("q1tI"),a=n.n(r),i=n("yFc8"),o=n("TSYQ"),c=n.n(o),u=n("IFYe"),l=n("Bkvo"),s=n("yDJO"),f=n("SH7X"),d=n("buk/"),m=n("qvEe"),p=n("1I/2"),h=function(e,t){return function(n){var r=n.children;return a.a.createElement(e,null,a.a.createElement(i.a,{className:c()("u-flex u-flex-items-center",t),variant:"normal"},r))}},b=h(u.a.BarCenter,"u-ellipsis"),y=h(u.a.BarRight),v=h(u.a.BarLeft),g=h(u.a.BarSearch,"u-flex-grow"),w=function(e){var t=e.store,n=e.children,r=Object(f.useClient)(),i=Object(d.useI18n)(),o=i.t,c=i.lang,u=Object(m.useWebviewIntent)();return Object(p.b)().isMobile?a.a.createElement(y,null,a.a.createElement(s.a,{client:r,store:t||r.store,t:o,lang:c,webviewService:u},a.a.createElement(l.a,{cozyClient:r},a.a.createElement(l.c,null,n)))):a.a.createElement(a.a.Fragment,null,n)}},yEaX:function(e,t,n){"use strict";n.d(t,"b",(function(){return P})),n.d(t,"d",(function(){return D})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return S})),n.d(t,"a",(function(){return F})),n.d(t,"g",(function(){return N})),n.d(t,"c",(function(){return R}));var r=n("fvjX"),a=n("o0o1"),i=n.n(a),o=n("yXPU"),c=n.n(o),u=n("q1tI"),l=n.n(u),s=n("gqi3"),f=n("Yo2A"),d=n("67rm"),m=n("2U19"),p=n("OTOu"),h=n("owKQ"),b=function(e){var t=e.onClose;return l.a.createElement(h.a,{onClose:t})},y=n("J4zp"),v=n.n(y),g=n("FyPc"),w=n.n(g),O=n("KGD5"),x=n("z6Q1"),E=n("T//5"),j=function(e,t){var n=function(e,t){var n=e.cozy.queries;return Object.entries(n).filter((function(e){var n=v()(e,1)[0],r=Object(E.r)(n);return!!r&&r.folderId===t})).map((function(e){return e[1]}))}(e,t);if(n.length>0){var r=w()(n,(function(e){return e.lastUpdate}))||n[0],a=Object(E.q)(r.id);return[r,e.cozy.queries[a]]}return[]},k=n("H57K"),C=n("qxHO"),_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";return{type:"SORT_FOLDER",folderId:e,sortAttribute:t,sortOrder:n}},S=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return null},a=arguments.length>4?arguments[4]:void 0,i=a.client,o=a.vaultClient;return function(a){a(Object(m.b)(e,t,n,r,(function(e,t,n,r,i,o){return a(z(e,t,n,r,i,o))}),{client:i,vaultClient:o}))}},z=function(e,t,n,r,a,i){return function(o){var c=n.length,u=e.length,s=i.length;t.length>0?(p.a.warn("Upload module triggers a quota alert: ".concat(t)),o(Object(f.d)(l.a.createElement(b,null)))):r.length>0?(p.a.warn("Upload module triggers a network error: ".concat(r)),d.a.info("upload.alert.network")):a.length>0?(Object(C.b)("Upload module triggers an error: ".concat(a)),d.a.info("upload.alert.errors")):s>0&&u>0&&c>0?d.a.success("upload.alert.success_updated_conflicts",{smart_count:u,updatedCount:s,conflictCount:c}):s>0&&u>0?d.a.success("upload.alert.success_updated",{smart_count:u,updatedCount:s}):s>0&&c>0?d.a.success("upload.alert.updated_conflicts",{smart_count:s,conflictCount:c}):c>0?d.a.info("upload.alert.success_conflicts",{smart_count:u,conflictNumber:c}):s>0&&0===u?d.a.success("upload.alert.updated",{smart_count:s}):d.a.success("upload.alert.success",{smart_count:u})}},I=function(e,t,n){var r=(function(e,t){var n=j(e,t);if(n.length>0){var r=v()(n,2),a=r[0],i=r[1];return a.data.concat(i?i.data:[]).map((function(t){return Object(O.getDocumentFromState)(e,x.c,t)}))}return null}(e,t)||[]).find((function(e){return Object(s.isDirectory)(e)&&e.name===n}));return Boolean(r)},F=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=a.isEncryptedFolder,u=void 0!==o&&o;return function(){var a=c()(i.a.mark((function a(o,c){var l;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(l=c(),!I(l,r,n)){a.next=5;break}throw d.a.error("alert.folder_name",{folderName:n}),new Error("alert.folder_name");case 5:if(a.prev=5,u){a.next=11;break}return a.next=9,e.create("io.cozy.files",{name:n,dirId:r,type:"directory"});case 9:a.next=13;break;case 11:return a.next=13,Object(k.a)(e,t,{name:n,dirID:r});case 13:a.next=19;break;case 15:throw a.prev=15,a.t0=a.catch(5),a.t0.response&&409===a.t0.response.status?d.a.error("alert.folder_name",{folderName:n}):d.a.error("alert.folder_generic"),a.t0;case 19:case"end":return a.stop()}}),a,null,[[5,15]])})));return function(e,t){return a.apply(this,arguments)}}()},P=Object(r.combineReducers)({sort:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SORT_FOLDER":return{attribute:t.sortAttribute,order:t.sortOrder};default:return e}}}),D=function(e){return e.view.sort},T=n("Vg22"),N=function(e){var t=Object(T.useDispatch)();return[Object(T.useSelector)(D)||{attribute:"name",order:"asc"},Object(u.useCallback)((function(n){var r=n.sortAttribute,a=n.sortOrder;t(_(e,r,a))}),[t,e])]},R=function(e){return new URLSearchParams(e.search).get("sharing")}},yRR6:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("J4zp"),a=n.n(r),i=n("q1tI"),o=n.n(i),c=Object(i.createContext)();t.b=function(e){var t=e.children,n=Object(i.useState)(!1),r=a()(n,2),u=r[0],l=r[1];return o.a.createElement(c.Provider,{value:{isFabDisplayed:u,setIsFabDisplayed:l}},t)}},"z+SL":function(e,t,n){e.exports={"c-btn":"c-btn--ISXve","c-btn--regular":"c-btn--regular--I3FbV","c-btn--danger":"c-btn--danger--3MJU1","c-btn--secondary":"c-btn--secondary--2y7BI","c-btn--danger-outline":"c-btn--danger-outline--25atN","CozyTheme--inverted":"CozyTheme--inverted--2BH99","CozyTheme--normal":"CozyTheme--normal--w3gG7","fil-toolbar-files":"fil-toolbar-files--2hub6","fil-toolbar-trash":"fil-toolbar-trash--2Oocj","menu-recipients-wrapper":"menu-recipients-wrapper--2rgGs","menu-recipients":"menu-recipients--1_h62",spin:"spin--3HLqY",shake:"shake--3cSDC"}},z6Q1:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return f})),n.d(t,"f",(function(){return d}));var r=n("lSNA"),a=n.n(r),i=n("OjRq");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var c="io.cozy.files",u="io.cozy.files.encryption",l="io.cozy.files.shortcuts",s="io.cozy.photos.albums",f="io.cozy.apps",d=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({files:{doctype:c,relationships:{old_versions:{type:"has-many",doctype:"io.cozy.files.versions"},encryption:{type:"io.cozy.files:has-many",doctype:u}}},contacts:{doctype:i.a.doctype,doctypeVersion:2},groups:{doctype:i.c.doctype},versions:{doctype:"io.cozy.files.versions"}},{})},z8gv:function(e,t,n){e.exports={"bar-search-autosuggest-suggestions-container":"bar-search-autosuggest-suggestions-container--PBlh8","bar-search-autosuggest-suggestions-container--open":"bar-search-autosuggest-suggestions-container--open--1eJ05","bar-search-autosuggest-status-container":"bar-search-autosuggest-status-container--2ut2o","--empty":"_--empty--3Pegx","bar-search-autosuggest-suggestions-list":"bar-search-autosuggest-suggestions-list--32jRp","bar-search-container":"bar-search-container--kFNTP",mobile:"mobile--2Bvht","bar-search-input-group":"bar-search-input-group--3sNOj","bar-search-input-group-append":"bar-search-input-group-append--3yG8K","suggestion-item-parent-link":"suggestion-item-parent-link--2MTtu"}},zLPI:function(e,t,n){"use strict";var r=n("RIqP"),a=n.n(r),i=n("q1tI"),o=n.n(i),c=n("17x9"),u=n.n(c),l=n("TSYQ"),s=n.n(l),f=n("ufaa"),d=n("7YkG"),m=n("QmKc"),p=n.n(m),h=function(e,t,n){return e+function(e){var t=1e4*Math.sin(e);return t-Math.floor(t)}(n)*(t-e)},b=function(e){var t=e.width;return o.a.createElement("div",{className:p.a["fil-content-file-placeholder"],style:{width:t}})};b.propTypes={width:u.a.string},b.defaultProps={width:"100%"};var y=function(e){var t=e.index,n=e.breakpoints.isMobile;return o.a.createElement(d.f,{className:p.a["fil-content-row"]},o.a.createElement(d.c,{className:s()(p.a["fil-content-cell"],p.a["fil-content-file-select"])}),o.a.createElement(d.c,{className:s()(p.a["fil-content-cell"],p.a["fil-file-thumbnail"],{"u-pl-0":!n})},o.a.createElement(b,{width:"2rem"})),o.a.createElement(d.c,{className:s()(p.a["fil-content-cell"],p.a["fil-content-file"])},o.a.createElement(b,{width:"".concat(h(3,12,t),"rem")})),o.a.createElement(d.c,{className:s()(p.a["fil-content-cell"],p.a["fil-content-date"])},o.a.createElement(b,{width:"5rem"})),o.a.createElement(d.c,{className:s()(p.a["fil-content-cell"],p.a["fil-content-size"])},o.a.createElement(b,{width:"".concat(h(3.75,5,t),"rem")})),o.a.createElement(d.c,{className:s()(p.a["fil-content-cell"],p.a["fil-content-status"])},o.a.createElement(b,{width:"1.25rem"})))};y.propTypes={index:u.a.number},y.defaultProps={index:1};var v=Object(f.a)()(y),g=function(e){var t=e.rows;return o.a.createElement("div",null,a()(new Array(t)).map((function(e,t){return o.a.createElement(v,{index:t,key:"key_file_placeholder_".concat(t)})})))};g.propTypes={rows:u.a.number},g.defaultProps={rows:8};t.a=g},zUXI:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return w})),n.d(t,"c",(function(){return O}));var r=n("17x9"),a=n.n(r),i=n("lVV2"),o=n("q1tI"),c=n.n(o),u=n("buk/"),l=n("7YkG"),s=n("y6ex"),f=n("mzws"),d=n("Z9N9"),m=n("QmKc"),p=n.n(m),h=function(){var e=Object(u.useI18n)().t;return c.a.createElement(l.e,{className:p.a["fil-content-header"]},c.a.createElement(d.a,{body:e("table.tooltip.carbonCopy.title"),caption:e("table.tooltip.carbonCopy.caption"),content:c.a.createElement(s.a,{icon:f.a,size:16})}))},b=n("Y+ci"),y=function(){var e=Object(u.useI18n)().t;return c.a.createElement(l.e,{className:p.a["fil-content-header"]},c.a.createElement(d.a,{body:e("table.tooltip.electronicSafe.title"),caption:e("table.tooltip.electronicSafe.caption"),content:c.a.createElement(s.a,{icon:b.a,size:16})}))},v={carbonCopy:{query:function(e){return(0,e.queryBuilder)({currentFolderId:e.currentFolderId,sharedDocumentIds:e.sharedDocumentIds,attribute:e.attribute})},condition:function(e){return(0,e.conditionBuilder)({files:e.files,attribute:e.attribute})},label:"carbonCopy",HeaderComponent:h,CellComponent:i.a},electronicSafe:{query:function(e){return(0,e.queryBuilder)({currentFolderId:e.currentFolderId,sharedDocumentIds:e.sharedDocumentIds,attribute:e.attribute})},condition:function(e){return(0,e.conditionBuilder)({files:e.files,attribute:e.attribute})},label:"electronicSafe",HeaderComponent:y,CellComponent:i.b}},g=a.a.shape({query:a.a.func,condition:a.a.func,label:a.a.string,HeaderComponent:a.a.func,CellComponent:a.a.func}),w=a.a.arrayOf(g),O=function(e){var t=e.isMobile,n=e.mobileExtraColumnsNames,r=e.desktopExtraColumnsNames;return t?n:r}}});