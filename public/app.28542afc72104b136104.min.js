!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=680)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function r(){return null}function o(e){var t=e.nodeName,n=e.attributes;e.attributes={},t.defaultProps&&w(e.attributes,t.defaultProps),n&&w(e.attributes,n)}function i(e,t){var n,r,o;if(t){for(o in t)if(n=W.test(o))break;if(n){r=e.attributes={};for(o in t)t.hasOwnProperty(o)&&(r[W.test(o)?o.replace(/([A-Z0-9])/,"-$1").toLowerCase():o]=t[o])}}}function a(e,t,n){var r=t&&t._preactCompatRendered&&t._preactCompatRendered.base;r&&r.parentNode!==t&&(r=null),!r&&t&&(r=t.firstElementChild);for(var o=t.childNodes.length;o--;)t.childNodes[o]!==r&&t.removeChild(t.childNodes[o]);var i=Object(q.render)(e,t,r);return t&&(t._preactCompatRendered=i&&(i._component||{base:i})),"function"==typeof n&&n(),i&&i._component||i}function u(e,t,n,r){var o=Object(q.h)(J,{context:e.context},t),i=a(o,n),u=i._component||i.base;return r&&r.call(u,i),u}function s(e){var t=e._preactCompatRendered&&e._preactCompatRendered.base;return!(!t||t.parentNode!==e)&&(Object(q.render)(Object(q.h)(r),e,t),!0)}function c(e){return p.bind(null,e)}function l(e,t){for(var n=t||0;n<e.length;n++){var r=e[n];Array.isArray(r)?l(r):r&&"object"==typeof r&&!v(r)&&(r.props&&r.type||r.attributes&&r.nodeName||r.children)&&(e[n]=p(r.type||r.nodeName,r.props||r.attributes,r.children))}}function d(e){return"function"==typeof e&&!(e.prototype&&e.prototype.render)}function f(e){return x({displayName:e.displayName||e.name,render:function(){return e(this.props,this.context)}})}function h(e){var t=e[Y];return t?!0===t?e:t:(t=f(e),Object.defineProperty(t,Y,{configurable:!0,value:!0}),t.displayName=e.displayName,t.propTypes=e.propTypes,t.defaultProps=e.defaultProps,Object.defineProperty(e,Y,{configurable:!0,value:t}),t)}function p(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return l(e,2),m(q.h.apply(void 0,e))}function m(e){e.preactCompatNormalized=!0,_(e),d(e.nodeName)&&(e.nodeName=h(e.nodeName));var t=e.attributes.ref,n=t&&typeof t;return!Q||"string"!==n&&"number"!==n||(e.attributes.ref=y(t,Q)),g(e),e}function b(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];if(!v(e))return e;var o=e.attributes||e.props,i=Object(q.h)(e.nodeName||e.type,o,e.children||o&&o.children),a=[i,t];return n&&n.length?a.push(n):t&&t.children&&a.push(t.children),m(q.cloneElement.apply(void 0,a))}function v(e){return e&&(e instanceof X||e.$$typeof===B)}function y(e,t){return t._refProxies[e]||(t._refProxies[e]=function(n){t&&t.refs&&(t.refs[e]=n,null===n&&(delete t._refProxies[e],t=null))})}function g(e){var t=e.nodeName,n=e.attributes;if(n&&"string"==typeof t){var r={};for(var o in n)r[o.toLowerCase()]=o;if(r.ondoubleclick&&(n.ondblclick=n[r.ondoubleclick],delete n[r.ondoubleclick]),r.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|rad/i.test(n.type))){var i=r.oninput||"oninput";n[i]||(n[i]=P([n[i],n[r.onchange]]),delete n[r.onchange])}}}function _(e){var t=e.attributes||(e.attributes={});re.enumerable="className"in t,t.className&&(t.class=t.className),Object.defineProperty(t,"className",re)}function w(e,t){for(var n=arguments,r=1,o=void 0;r<arguments.length;r++)if(o=n[r])for(var i in o)o.hasOwnProperty(i)&&(e[i]=o[i]);return e}function k(e,t){for(var n in e)if(!(n in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1}function S(e){return e&&e.base||e}function E(){}function x(e){function t(e,t){O(this),I.call(this,e,t,V),j.call(this,e,t)}return e=w({constructor:t},e),e.mixins&&C(e,A(e.mixins)),e.statics&&w(t,e.statics),e.propTypes&&(t.propTypes=e.propTypes),e.defaultProps&&(t.defaultProps=e.defaultProps),e.getDefaultProps&&(t.defaultProps=e.getDefaultProps()),E.prototype=I.prototype,t.prototype=w(new E,e),t.displayName=e.displayName||"Component",t}function A(e){for(var t={},n=0;n<e.length;n++){var r=e[n];for(var o in r)r.hasOwnProperty(o)&&"function"==typeof r[o]&&(t[o]||(t[o]=[])).push(r[o])}return t}function C(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=P(t[n].concat(e[n]||Z),"getDefaultProps"===n||"getInitialState"===n||"getChildContext"===n))}function O(e){for(var t in e){var n=e[t];"function"!=typeof n||n.__bound||H.hasOwnProperty(t)||((e[t]=n.bind(e)).__bound=!0)}}function T(e,t,n){if("string"==typeof t&&(t=e.constructor.prototype[t]),"function"==typeof t)return t.apply(e,n)}function P(e,t){return function(){for(var n,r=arguments,o=this,i=0;i<e.length;i++){var a=T(o,e[i],r);if(t&&null!=a){n||(n={});for(var u in a)a.hasOwnProperty(u)&&(n[u]=a[u])}else void 0!==a&&(n=a)}return n}}function j(e,t){D.call(this,e,t),this.componentWillReceiveProps=P([D,this.componentWillReceiveProps||"componentWillReceiveProps"]),this.render=P([D,R,this.render||"render",M])}function D(e,t){if(e){var n=e.children;if(n&&Array.isArray(n)&&1===n.length&&("string"==typeof n[0]||"function"==typeof n[0]||n[0]instanceof X)&&(e.children=n[0],e.children&&"object"==typeof e.children&&(e.children.length=1,e.children[0]=e.children)),G){var r="function"==typeof this?this:this.constructor,o=this.propTypes||r.propTypes,i=this.displayName||r.name;o&&N.a.checkPropTypes(o,e,"prop",i)}}}function R(e){Q=this}function M(){Q===this&&(Q=null)}function I(e,t,n){q.Component.call(this,e,t),this.state=this.getInitialState?this.getInitialState():{},this.refs={},this._refProxies={},n!==V&&j.call(this,e,t)}function L(e,t){I.call(this,e,t)}n.d(t,"version",function(){return F}),n.d(t,"DOM",function(){return te}),n.d(t,"Children",function(){return ee}),n.d(t,"render",function(){return a}),n.d(t,"createClass",function(){return x}),n.d(t,"createFactory",function(){return c}),n.d(t,"createElement",function(){return p}),n.d(t,"cloneElement",function(){return b}),n.d(t,"isValidElement",function(){return v}),n.d(t,"findDOMNode",function(){return S}),n.d(t,"unmountComponentAtNode",function(){return s}),n.d(t,"Component",function(){return I}),n.d(t,"PureComponent",function(){return L}),n.d(t,"unstable_renderSubtreeIntoContainer",function(){return u}),n.d(t,"__spread",function(){return w});var z=n(13),N=n.n(z),q=n(425);n.n(q);n.d(t,"PropTypes",function(){return N.a});var F="15.1.0",U="a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn dialog div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param picture pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr circle clipPath defs ellipse g image line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan".split(" "),B="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Y="undefined"!=typeof Symbol?Symbol.for("__preactCompatWrapper"):"__preactCompatWrapper",H={constructor:1,render:1,shouldComponentUpdate:1,componentWillReceiveProps:1,componentWillUpdate:1,componentDidUpdate:1,componentWillMount:1,componentDidMount:1,componentWillUnmount:1,componentDidUnmount:1},W=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,V={},G=void 0===e||!e.env||!1,X=Object(q.h)("a",null).constructor;X.prototype.$$typeof=B,X.prototype.preactCompatUpgraded=!1,X.prototype.preactCompatNormalized=!1,Object.defineProperty(X.prototype,"type",{get:function(){return this.nodeName},set:function(e){this.nodeName=e},configurable:!0}),Object.defineProperty(X.prototype,"props",{get:function(){return this.attributes},set:function(e){this.attributes=e},configurable:!0});var $=q.options.event;q.options.event=function(e){return $&&(e=$(e)),e.persist=Object,e.nativeEvent=e,e};var K=q.options.vnode;q.options.vnode=function(e){if(!e.preactCompatUpgraded){e.preactCompatUpgraded=!0;var t=e.nodeName,n=e.attributes=w({},e.attributes);"function"==typeof t?(!0===t[Y]||t.prototype&&"isReactComponent"in t.prototype)&&(e.children&&""===String(e.children)&&(e.children=void 0),e.children&&(n.children=e.children),e.preactCompatNormalized||m(e),o(e)):(e.children&&""===String(e.children)&&(e.children=void 0),e.children&&(n.children=e.children),n.defaultValue&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),i(e,n))}K&&K(e)};var J=function(){};J.prototype.getChildContext=function(){return this.props.context},J.prototype.render=function(e){return e.children[0]};for(var Q,Z=[],ee={map:function(e,t,n){return null==e?null:(e=ee.toArray(e),n&&n!==e&&(t=t.bind(n)),e.map(t))},forEach:function(e,t,n){if(null==e)return null;e=ee.toArray(e),n&&n!==e&&(t=t.bind(n)),e.forEach(t)},count:function(e){return e&&e.length||0},only:function(e){if(e=ee.toArray(e),1!==e.length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:function(e){return null==e?[]:Z.concat(e)}},te={},ne=U.length;ne--;)te[U[ne]]=c(U[ne]);var re={configurable:!0,get:function(){return this.class},set:function(e){this.class=e}};w(I.prototype=new q.Component,{constructor:I,isReactComponent:{},replaceState:function(e,t){var n=this;this.setState(e,t);for(var r in n.state)r in e||delete n.state[r]},getDOMNode:function(){return this.base},isMounted:function(){return!!this.base}}),E.prototype=I.prototype,L.prototype=new E,L.prototype.isPureReactComponent=!0,L.prototype.shouldComponentUpdate=function(e,t){return k(this.props,e)||k(this.state,t)};var oe={version:F,DOM:te,PropTypes:N.a,Children:ee,render:a,createClass:x,createFactory:c,createElement:p,cloneElement:b,isValidElement:v,findDOMNode:S,unmountComponentAtNode:s,Component:I,PureComponent:L,unstable_renderSubtreeIntoContainer:u,__spread:w};t.default=oe}.call(t,n(31))},function(e,t,n){var r=n(5),o=n(45),i=n(18),a=n(29),u=n(23),s=function(e,t,n){var c,l,d,f,h=e&s.F,p=e&s.G,m=e&s.S,b=e&s.P,v=e&s.B,y=p?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,g=p?o:o[t]||(o[t]={}),_=g.prototype||(g.prototype={});p&&(n=t);for(c in n)l=!h&&y&&void 0!==y[c],d=(l?y:n)[c],f=v&&l?u(d,r):b&&"function"==typeof d?u(Function.call,d):d,y&&a(y,c,d,e&s.U),g[c]!=d&&i(g,c,f),b&&_[c]!=d&&(_[c]=d)};r.core=o,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t){function n(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);var o=r.concat(t).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+o.join("|")+"|.)","g")}var r=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];e.exports=n},function(e,t,n){var r,o;/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===o)for(var a in r)i.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}var i={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:(r=[],void 0!==(o=function(){return n}.apply(t,r))&&(e.exports=o))}()},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(4);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.translate=t.I18n=t.DEFAULT_LANG=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),d=n(13),f=r(d),h=n(518),p=n(535),m=(t.DEFAULT_LANG="en",t.I18n=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.init(n.props),n}return a(t,e),s(t,[{key:"init",value:function(e){var t=e.lang,n=e.dictRequire,r=e.context,o=e.defaultLang;this.translation=(0,h.initTranslation)(t,n,r,o),this.format=(0,p.initFormat)(t,o)}},{key:"getChildContext",value:function(){return{t:this.translation.t.bind(this.translation),f:this.format,lang:this.props.lang}}},{key:"componentWillReceiveProps",value:function(e){e.locale!==this.props.locale&&this.init(e)}},{key:"render",value:function(){return this.props.children&&this.props.children[0]||null}}]),t}(c.Component));m.propTypes={lang:f.default.string.isRequired,dictRequire:f.default.func.isRequired,context:f.default.string,defaultLang:f.default.string},m.childContextTypes={t:f.default.func,f:f.default.func,lang:f.default.string};t.translate=function(){return function(e){return function(t,n){return l.default.createElement(e,u({},t,{t:n.t,f:n.f,lang:n.lang}))}}}},function(e,t,n){var r=n(90)("wks"),o=n(35),i=n(5).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(6),o=n(132),i=n(62),a=Object.defineProperty;t.f=n(15)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";var r=function(e,t,n,r,o,i,a,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,u],l=0;s=new Error(t.replace(/%s/g,function(){return c[l++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}};e.exports=r},function(e,t,n){var r=n(37),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){e.exports=n(421)()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(468);Object.defineProperty(t,"CozyProvider",{enumerable:!0,get:function(){return r(o).default}});var i=n(469);Object.defineProperty(t,"CozyClient",{enumerable:!0,get:function(){return r(i).default}});var a=n(504);Object.defineProperty(t,"cozyConnect",{enumerable:!0,get:function(){return r(a).default}});var u=n(515);Object.defineProperty(t,"cozyMiddleware",{enumerable:!0,get:function(){return r(u).default}});var s=n(121);Object.defineProperty(t,"reducer",{enumerable:!0,get:function(){return r(s).default}}),Object.defineProperty(t,"makeActionCreator",{enumerable:!0,get:function(){return s.makeActionCreator}}),Object.defineProperty(t,"fetchCollection",{enumerable:!0,get:function(){return s.fetchCollection}}),Object.defineProperty(t,"refetchCollections",{enumerable:!0,get:function(){return s.refetchCollections}}),Object.defineProperty(t,"fetchDocument",{enumerable:!0,get:function(){return s.fetchDocument}}),Object.defineProperty(t,"fetchReferencedFiles",{enumerable:!0,get:function(){return s.fetchReferencedFiles}}),Object.defineProperty(t,"addReferencedFiles",{enumerable:!0,get:function(){return s.addReferencedFiles}}),Object.defineProperty(t,"removeReferencedFiles",{enumerable:!0,get:function(){return s.removeReferencedFiles}}),Object.defineProperty(t,"applySelectorForAction",{enumerable:!0,get:function(){return s.applySelectorForAction}}),Object.defineProperty(t,"enhancePropsForActions",{enumerable:!0,get:function(){return s.enhancePropsForActions}}),Object.defineProperty(t,"getCollection",{enumerable:!0,get:function(){return s.getCollection}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(t,"createDocument",{enumerable:!0,get:function(){return s.createDocument}}),Object.defineProperty(t,"updateDocument",{enumerable:!0,get:function(){return s.updateDocument}}),Object.defineProperty(t,"updateDocuments",{enumerable:!0,get:function(){return s.updateDocuments}}),Object.defineProperty(t,"deleteDocument",{enumerable:!0,get:function(){return s.deleteDocument}}),Object.defineProperty(t,"deleteDocuments",{enumerable:!0,get:function(){return s.deleteDocuments}}),Object.defineProperty(t,"createFile",{enumerable:!0,get:function(){return s.createFile}}),Object.defineProperty(t,"trashFile",{enumerable:!0,get:function(){return s.trashFile}}),Object.defineProperty(t,"CREATE_DOCUMENT",{enumerable:!0,get:function(){return s.CREATE_DOCUMENT}});var c=n(189);Object.defineProperty(t,"fetchSharings",{enumerable:!0,get:function(){return c.fetchSharings}}),Object.defineProperty(t,"fetchContacts",{enumerable:!0,get:function(){return c.fetchContacts}}),Object.defineProperty(t,"fetchApps",{enumerable:!0,get:function(){return c.fetchApps}}),Object.defineProperty(t,"getSharings",{enumerable:!0,get:function(){return c.getSharings}}),Object.defineProperty(t,"getSharingDetails",{enumerable:!0,get:function(){return c.getSharingDetails}}),Object.defineProperty(t,"share",{enumerable:!0,get:function(){return c.share}}),Object.defineProperty(t,"unshare",{enumerable:!0,get:function(){return c.unshare}}),Object.defineProperty(t,"leave",{enumerable:!0,get:function(){return c.leave}}),Object.defineProperty(t,"shareByLink",{enumerable:!0,get:function(){return c.shareByLink}}),Object.defineProperty(t,"revokeLink",{enumerable:!0,get:function(){return c.revokeLink}});var l=n(119);Object.defineProperty(t,"startSync",{enumerable:!0,get:function(){return l.startSync}}),Object.defineProperty(t,"isFirstSync",{enumerable:!0,get:function(){return l.isFirstSync}}),Object.defineProperty(t,"isSynced",{enumerable:!0,get:function(){return l.isSynced}}),Object.defineProperty(t,"hasSyncStarted",{enumerable:!0,get:function(){return l.hasSyncStarted}}),Object.defineProperty(t,"isSyncInError",{enumerable:!0,get:function(){return l.isSyncInError}});var d=n(78);Object.defineProperty(t,"downloadArchive",{enumerable:!0,get:function(){return d.downloadArchive}}),Object.defineProperty(t,"downloadFile",{enumerable:!0,get:function(){return d.downloadFile}})},function(e,t,n){e.exports=!n(9)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){n(1),e.exports=n(3)},function(e,t,n){n(2),e.exports=self.fetch.bind(self)},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function o(e){this.map={},e instanceof o?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function u(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function s(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&g(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!_(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(u)}),this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function h(e,t){t=t||{};var n=t.body;if(e instanceof h){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new o(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new o(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function m(e){var t=new o;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t}function b(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new o(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=function(e){return e&&DataView.prototype.isPrototypeOf(e)},_=ArrayBuffer.isView||function(e){return e&&y.indexOf(Object.prototype.toString.call(e))>-1};o.prototype.append=function(e,r){e=t(e),r=n(r);var o=this.map[e];this.map[e]=o?o+","+r:r},o.prototype.delete=function(e){delete this.map[t(e)]},o.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,r){this.map[t(e)]=n(r)},o.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},o.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},o.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},o.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},v.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},d.call(h.prototype),d.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];b.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},e.Headers=o,e.Request=h,e.Response=b,e.fetch=function(e,t){return new Promise(function(n,r){var o=new h(e,t),i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:m(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;n(new b(t,e))},i.onerror=function(){r(new TypeError("Network request failed"))},i.ontimeout=function(){r(new TypeError("Network request failed"))},i.open(o.method,o.url,!0),"include"===o.credentials&&(i.withCredentials=!0),"responseType"in i&&v.blob&&(i.responseType="blob"),o.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){throw new Error("Missing onRegistered callback")}function a(e,t){return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.apply(void 0,[e].concat(r))}}function u(e,t,n,r){for(var o in n){var i=a(e,n[o]);r&&(i=(0,c.unpromiser)(i)),t[o]=i}}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(4),n(45),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(79),n(80),n(88),n(89),n(93),n(94),n(95),n(98),n(99),n(100),n(101),n(102),n(103),n(104),n(105),n(107),n(108),n(109),n(110),n(113),n(119),n(120),n(121),n(122),n(123),n(124),n(125),n(127),n(129),n(133),n(134),n(135),n(137),n(139),n(140),n(141),n(142),n(144),n(145),n(146),n(147),n(148),n(62),n(149),n(150),n(152),n(153),n(154),n(155),n(156),n(157),n(159),n(160),n(161),n(163),n(164),n(165),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(180),n(181),n(182),n(184),n(185),n(188),n(189),n(190);var c=n(192),l=n(193),d=n(194),f=n(195),h=r(f),p=n(198),m=r(p),b=n(196),v=r(b),y=n(200),g=r(y),_=n(201),w=r(_),k=n(202),S=r(k),E=n(203),x=r(E),A=n(204),C=r(A),O=n(246),T=r(O),P=n(247),j=r(P),D=h.AppToken,R=h.AccessToken,M=h.Client,I={softwareID:"github.com/cozy/cozy-client-js"},L={create:m.create,find:m.find,findMany:m.findMany,findAll:m.findAll,update:m.update,delete:m._delete,updateAttributes:m.updateAttributes,changesFeed:m.changesFeed,defineIndex:g.defineIndex,query:g.query,addReferencedFiles:j.addReferencedFiles,removeReferencedFiles:j.removeReferencedFiles,listReferencedFiles:j.listReferencedFiles,fetchReferencedFiles:j.fetchReferencedFiles,destroy:function(){return(0,c.warn)("destroy is deprecated, use cozy.data.delete instead."),m._delete.apply(m,arguments)}},z={client:h.client,registerClient:h.registerClient,updateClient:h.updateClient,unregisterClient:h.unregisterClient,getClient:h.getClient,getAuthCodeURL:h.getAuthCodeURL,getAccessToken:h.getAccessToken,refreshToken:h.refreshToken},N={create:w.create,createDirectory:w.createDirectory,createDirectoryByPath:w.createDirectoryByPath,updateById:w.updateById,updateAttributesById:w.updateAttributesById,updateAttributesByPath:w.updateAttributesByPath,trashById:w.trashById,statById:w.statById,statByPath:w.statByPath,downloadById:w.downloadById,downloadByPath:w.downloadByPath,getDownloadLinkById:w.getDownloadLinkById,getDownloadLink:w.getDownloadLinkByPath,getDownloadLinkByPath:w.getDownloadLinkByPath,getArchiveLink:function(){return(0,c.warn)("getArchiveLink is deprecated, use cozy.files.getArchiveLinkByPaths instead."),w.getArchiveLinkByPaths.apply(w,arguments)},getArchiveLinkByPaths:w.getArchiveLinkByPaths,getArchiveLinkByIds:w.getArchiveLinkByIds,getFilePath:w.getFilePath,getCollectionShareLink:w.getCollectionShareLink,query:g.queryFiles,listTrash:w.listTrash,clearTrash:w.clearTrash,restoreById:w.restoreById,destroyById:w.destroyById},q={create:S.create,createService:S.createService},F={create:x.create,count:x.count,queued:x.queued},U={init:C.init,getDoctypes:C.getDoctypes,hasDatabase:C.hasDatabase,getDatabase:C.getDatabase,createDatabase:C.createDatabase,destroyDatabase:C.destroyDatabase,destroyAllDatabase:C.destroyAllDatabase,hasReplication:C.hasReplication,replicateFromCozy:C.replicateFromCozy,stopReplication:C.stopReplication,stopAllReplication:C.stopAllReplication,hasRepeatedReplication:C.hasRepeatedReplication,startRepeatedReplication:C.startRepeatedReplication,stopRepeatedReplication:C.stopRepeatedReplication,stopAllRepeatedReplication:C.stopAllRepeatedReplication},B={diskUsage:T.diskUsage,changePassphrase:T.changePassphrase,getInstance:T.getInstance,updateInstance:T.updateInstance,getClients:T.getClients,deleteClientById:T.deleteClientById,updateLastSync:T.updateLastSync},Y=function(){function e(t){o(this,e),this.data={},this.files={},this.intents={},this.jobs={},this.offline={},this.settings={},this.auth={Client:M,AccessToken:R,AppToken:D,AppTokenV2:d.AppToken,LocalStorage:l.LocalStorage,MemoryStorage:l.MemoryStorage},this._inited=!1,t&&this.init(t)}return s(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._inited=!0,this._oauth=!1,this._token=null,this._authstate=0,this._authcreds=null,this._storage=null,this._version=e.version||null,this._offline=null;var t=e.token,n=e.oauth;if(t&&n)throw new Error("Cannot specify an application token with a oauth activated");t?this._token=new D({token:t}):n&&(this._oauth=!0,this._storage=n.storage,this._clientParams=Object.assign({},I,n.clientParams),this._onRegistered=n.onRegistered||i);for(var r=e.cozyURL||"";"/"===r[r.length-1];)r=r.slice(0,-1);this._url=r;var o=!!e.disablePromises;u(this,this.data,L,o),u(this,this.auth,z,o),u(this,this.files,N,o),u(this,this.intents,q,o),u(this,this.jobs,F,o),u(this,this.offline,U,o),u(this,this.settings,B,o),e.offline&&this.offline.init(e.offline),this.fetchJSON=function(){var e=[this].concat(Array.prototype.slice.call(arguments));return v.cozyFetchJSON.apply(this,e)}}},{key:"authorize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this._authstate;return 3===n||1===n?this._authcreds:(this._authstate=1,this._authcreds=this.isV2().then(function(n){if(n&&e._oauth)throw new Error("OAuth is not supported on the V2 stack");if(e._oauth){if(t&&e._clientParams.redirectURI){var r=new URL(e._clientParams.redirectURI);r.searchParams.has("reconnect")||r.searchParams.append("reconnect",1),e._clientParams.redirectURI=r.toString()}return h.oauthFlow(e,e._storage,e._clientParams,e._onRegistered,t)}if(n)return(0,d.getAppToken)();if(e._token)return Promise.resolve({client:null,token:e._token});throw new Error("Missing application token")}),this._authcreds.then(function(){e._authstate=3},function(){e._authstate=2}),this._authcreds)}},{key:"saveCredentials",value:function(e,t){var n={client:e,token:t};return this._storage&&1!==this._authstate?(this._storage.save(h.CredsKey,n),this._authcreds=Promise.resolve(n),this._authcreds):Promise.resolve(n)}},{key:"fullpath",value:function(e){var t=this;return this.isV2().then(function(n){var r=n?"/ds-api":"";return t._url+r+e})}},{key:"isV2",value:function(){var e=this;return this._version?Promise.resolve(2===this._version):(0,c.retry)(function(){return fetch(e._url+"/status/")},3)().then(function(e){if(e.ok)return e.json();throw new Error("Could not fetch cozy status")}).then(function(t){return e._version=void 0!==t.datasystem?2:3,e.isV2()})}}]),e}();e.exports=new Y,Object.assign(e.exports,{Client:Y,LocalStorage:l.LocalStorage,MemoryStorage:l.MemoryStorage})},function(e,t,n){var r=n(5);r(r.G+r.W+r.F*!n(23).ABV,{DataView:n(24).DataView})},function(e,t,n){var r=n(6),o=n(7),i=n(8),a=n(18),u=n(21),s=function(e,t,n){var c,l,d,f,h=e&s.F,p=e&s.G,m=e&s.S,b=e&s.P,v=e&s.B,y=p?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,g=p?o:o[t]||(o[t]={}),_=g.prototype||(g.prototype={});p&&(n=t);for(c in n)l=!h&&y&&void 0!==y[c],d=(l?y:n)[c],f=v&&l?u(d,r):b&&"function"==typeof d?u(Function.call,d):d,y&&a(y,c,d,e&s.U),g[c]!=d&&i(g,c,f),b&&_[c]!=d&&(_[c]=d)};r.core=o,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(9),o=n(17);e.exports=n(13)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(10),o=n(12),i=n(16),a=Object.defineProperty;t.f=n(13)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(11);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(13)&&!n(14)(function(){return 7!=Object.defineProperty(n(15)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports=!n(14)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(11),o=n(6).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(11);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(6),o=n(8),i=n(19),a=n(20)("src"),u=Function.toString,s=(""+u).split("toString");n(7).inspectSource=function(e){return u.call(e)},(e.exports=function(e,t,n,u){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(c&&(i(n,a)||o(n,a,e[t]?""+e[t]:s.join(String(t)))),e===r?e[t]=n:u?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||u.call(this)})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(22);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){for(var r,o=n(6),i=n(8),a=n(20),u=a("typed_array"),s=a("view"),c=!(!o.ArrayBuffer||!o.DataView),l=c,d=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(r=o[f[d++]])?(i(r.prototype,u,!0),i(r.prototype,s,!0)):l=!1;e.exports={ABV:c,CONSTR:l,TYPED:u,VIEW:s}},function(e,t,n){"use strict";var r=n(6),o=n(13),i=n(25),a=n(23),u=n(8),s=n(26),c=n(14),l=n(27),d=n(28),f=n(29),h=n(30).f,p=n(9).f,m=n(41),b=n(43),v=r.ArrayBuffer,y=r.DataView,g=r.Math,_=r.RangeError,w=r.Infinity,k=v,S=g.abs,E=g.pow,x=g.floor,A=g.log,C=g.LN2,O=o?"_b":"buffer",T=o?"_l":"byteLength",P=o?"_o":"byteOffset",j=function(e,t,n){var r,o,i,a=Array(n),u=8*n-t-1,s=(1<<u)-1,c=s>>1,l=23===t?E(2,-24)-E(2,-77):0,d=0,f=e<0||0===e&&1/e<0?1:0;for(e=S(e),e!=e||e===w?(o=e!=e?1:0,r=s):(r=x(A(e)/C),e*(i=E(2,-r))<1&&(r--,i*=2),e+=r+c>=1?l/i:l*E(2,1-c),e*i>=2&&(r++,i/=2),r+c>=s?(o=0,r=s):r+c>=1?(o=(e*i-1)*E(2,t),r+=c):(o=e*E(2,c-1)*E(2,t),r=0));t>=8;a[d++]=255&o,o/=256,t-=8);for(r=r<<t|o,u+=t;u>0;a[d++]=255&r,r/=256,u-=8);return a[--d]|=128*f,a},D=function(e,t,n){var r,o=8*n-t-1,i=(1<<o)-1,a=i>>1,u=o-7,s=n-1,c=e[s--],l=127&c;for(c>>=7;u>0;l=256*l+e[s],s--,u-=8);for(r=l&(1<<-u)-1,l>>=-u,u+=t;u>0;r=256*r+e[s],s--,u-=8);if(0===l)l=1-a;else{if(l===i)return r?NaN:c?-w:w;r+=E(2,t),l-=a}return(c?-1:1)*r*E(2,l-t)},R=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},M=function(e){return[255&e]},I=function(e){return[255&e,e>>8&255]},L=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},z=function(e){return j(e,52,8)},N=function(e){return j(e,23,4)},q=function(e,t,n){p(e.prototype,t,{get:function(){return this[n]}})},F=function(e,t,n,r){var o=+n,i=d(o);if(o!=i||i<0||i+t>e[T])throw _("Wrong index!");var a=e[O]._b,u=i+e[P],s=a.slice(u,u+t);return r?s:s.reverse()},U=function(e,t,n,r,o,i){var a=+n,u=d(a);if(a!=u||u<0||u+t>e[T])throw _("Wrong index!");for(var s=e[O]._b,c=u+e[P],l=r(+o),f=0;f<t;f++)s[c+f]=l[i?f:t-f-1]},B=function(e,t){l(e,v,"ArrayBuffer");var n=+t,r=f(n);if(n!=r)throw _("Wrong length!");return r};if(a.ABV){if(!c(function(){new v})||!c(function(){new v(.5)})){v=function(e){return new k(B(this,e))};for(var Y,H=v.prototype=k.prototype,W=h(k),V=0;W.length>V;)(Y=W[V++])in v||u(v,Y,k[Y]);i||(H.constructor=v)}var G=new y(new v(2)),X=y.prototype.setInt8;G.setInt8(0,2147483648),G.setInt8(1,2147483649),!G.getInt8(0)&&G.getInt8(1)||s(y.prototype,{setInt8:function(e,t){X.call(this,e,t<<24>>24)},setUint8:function(e,t){X.call(this,e,t<<24>>24)}},!0)}else v=function(e){var t=B(this,e);this._b=m.call(Array(t),0),this[T]=t},y=function(e,t,n){l(this,y,"DataView"),l(e,v,"DataView");var r=e[T],o=d(t);if(o<0||o>r)throw _("Wrong offset!");if(n=void 0===n?r-o:f(n),o+n>r)throw _("Wrong length!");this[O]=e,this[P]=o,this[T]=n},o&&(q(v,"byteLength","_l"),q(y,"buffer","_b"),q(y,"byteLength","_l"),q(y,"byteOffset","_o")),s(y.prototype,{getInt8:function(e){return F(this,1,e)[0]<<24>>24},getUint8:function(e){return F(this,1,e)[0]},getInt16:function(e){var t=F(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=F(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return R(F(this,4,e,arguments[1]))},getUint32:function(e){return R(F(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return D(F(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return D(F(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){U(this,1,e,M,t)},setUint8:function(e,t){U(this,1,e,M,t)},setInt16:function(e,t){U(this,2,e,I,t,arguments[2])},setUint16:function(e,t){U(this,2,e,I,t,arguments[2])},setInt32:function(e,t){U(this,4,e,L,t,arguments[2])},setUint32:function(e,t){U(this,4,e,L,t,arguments[2])},setFloat32:function(e,t){U(this,4,e,N,t,arguments[2])},setFloat64:function(e,t){U(this,8,e,z,t,arguments[2])}});b(v,"ArrayBuffer"),b(y,"DataView"),u(y.prototype,a.VIEW,!0),t.ArrayBuffer=v,t.DataView=y},function(e,t){e.exports=!1},function(e,t,n){var r=n(18);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(28),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(31),o=n(40).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(19),o=n(32),i=n(36)(!1),a=n(38)("IE_PROTO");e.exports=function(e,t){var n,u=o(e),s=0,c=[];for(n in u)n!=a&&r(u,n)&&c.push(n);for(;t.length>s;)r(u,n=t[s++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var r=n(33),o=n(35);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(34);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(32),o=n(29),i=n(37);e.exports=function(e){return function(t,n,a){var u,s=r(t),c=o(s.length),l=i(a,c);if(e&&n!=n){for(;c>l;)if((u=s[l++])!=u)return!0}else for(;c>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(28),o=Math.max,i=Math.min;e.exports=function(e,t){return e=r(e),e<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(39)("keys"),o=n(20);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(6),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){"use strict";var r=n(42),o=n(37),i=n(29);e.exports=function(e){for(var t=r(this),n=i(t.length),a=arguments.length,u=o(a>1?arguments[1]:void 0,n),s=a>2?arguments[2]:void 0,c=void 0===s?n:o(s,n);c>u;)t[u++]=e;return t}},function(e,t,n){var r=n(35);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(9).f,o=n(19),i=n(44)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(39)("wks"),o=n(20),i=n(6).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){n(46)("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";if(n(13)){var r=n(25),o=n(6),i=n(14),a=n(5),u=n(23),s=n(24),c=n(21),l=n(27),d=n(17),f=n(8),h=n(26),p=n(28),m=n(29),b=n(37),v=n(16),y=n(19),g=n(47),_=n(48),w=n(11),k=n(42),S=n(49),E=n(51),x=n(55),A=n(30).f,C=n(56),O=n(20),T=n(44),P=n(57),j=n(36),D=n(61),R=n(62),M=n(50),I=n(67),L=n(68),z=n(41),N=n(69),q=n(9),F=n(70),U=q.f,B=F.f,Y=o.RangeError,H=o.TypeError,W=o.Uint8Array,V=Array.prototype,G=s.ArrayBuffer,X=s.DataView,$=P(0),K=P(2),J=P(3),Q=P(4),Z=P(5),ee=P(6),te=j(!0),ne=j(!1),re=R.values,oe=R.keys,ie=R.entries,ae=V.lastIndexOf,ue=V.reduce,se=V.reduceRight,ce=V.join,le=V.sort,de=V.slice,fe=V.toString,he=V.toLocaleString,pe=T("iterator"),me=T("toStringTag"),be=O("typed_constructor"),ve=O("def_constructor"),ye=u.CONSTR,ge=u.TYPED,_e=u.VIEW,we=P(1,function(e,t){return Ce(D(e,e[ve]),t)}),ke=i(function(){return 1===new W(new Uint16Array([1]).buffer)[0]}),Se=!!W&&!!W.prototype.set&&i(function(){new W(1).set({})}),Ee=function(e,t){if(void 0===e)throw H("Wrong length!");var n=+e,r=m(e);if(t&&!g(n,r))throw Y("Wrong length!");return r},xe=function(e,t){var n=p(e);if(n<0||n%t)throw Y("Wrong offset!");return n},Ae=function(e){if(w(e)&&ge in e)return e;throw H(e+" is not a typed array!")},Ce=function(e,t){if(!(w(e)&&be in e))throw H("It is not a typed array constructor!");return new e(t)},Oe=function(e,t){return Te(D(e,e[ve]),t)},Te=function(e,t){for(var n=0,r=t.length,o=Ce(e,r);r>n;)o[n]=t[n++];return o},Pe=function(e,t,n){U(e,t,{get:function(){return this._d[n]}})},je=function(e){var t,n,r,o,i,a,u=k(e),s=arguments.length,l=s>1?arguments[1]:void 0,d=void 0!==l,f=C(u);if(void 0!=f&&!S(f)){for(a=f.call(u),r=[],t=0;!(i=a.next()).done;t++)r.push(i.value);u=r}for(d&&s>2&&(l=c(l,arguments[2],2)),t=0,n=m(u.length),o=Ce(this,n);n>t;t++)o[t]=d?l(u[t],t):u[t];return o},De=function(){for(var e=0,t=arguments.length,n=Ce(this,t);t>e;)n[e]=arguments[e++];return n},Re=!!W&&i(function(){he.call(new W(1))}),Me=function(){return he.apply(Re?de.call(Ae(this)):Ae(this),arguments)},Ie={copyWithin:function(e,t){return N.call(Ae(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Q(Ae(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return z.apply(Ae(this),arguments)},filter:function(e){return Oe(this,K(Ae(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Z(Ae(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Ae(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){$(Ae(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(Ae(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Ae(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ce.apply(Ae(this),arguments)},lastIndexOf:function(e){return ae.apply(Ae(this),arguments)},map:function(e){return we(Ae(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return ue.apply(Ae(this),arguments)},reduceRight:function(e){return se.apply(Ae(this),arguments)},reverse:function(){for(var e,t=this,n=Ae(t).length,r=Math.floor(n/2),o=0;o<r;)e=t[o],t[o++]=t[--n],t[n]=e;return t},some:function(e){return J(Ae(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return le.call(Ae(this),e)},subarray:function(e,t){var n=Ae(this),r=n.length,o=b(e,r);return new(D(n,n[ve]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,m((void 0===t?r:b(t,r))-o))}},Le=function(e,t){return Oe(this,de.call(Ae(this),e,t))},ze=function(e){Ae(this);var t=xe(arguments[1],1),n=this.length,r=k(e),o=m(r.length),i=0;if(o+t>n)throw Y("Wrong length!");for(;i<o;)this[t+i]=r[i++]},Ne={entries:function(){return ie.call(Ae(this))},keys:function(){return oe.call(Ae(this))},values:function(){return re.call(Ae(this))}},qe=function(e,t){return w(e)&&e[ge]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Fe=function(e,t){return qe(e,t=v(t,!0))?d(2,e[t]):B(e,t)},Ue=function(e,t,n){return!(qe(e,t=v(t,!0))&&w(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?U(e,t,n):(e[t]=n.value,e)};ye||(F.f=Fe,q.f=Ue),a(a.S+a.F*!ye,"Object",{getOwnPropertyDescriptor:Fe,defineProperty:Ue}),i(function(){fe.call({})})&&(fe=he=function(){return ce.call(this)});var Be=h({},Ie);h(Be,Ne),f(Be,pe,Ne.values),h(Be,{slice:Le,set:ze,constructor:function(){},toString:fe,toLocaleString:Me}),Pe(Be,"buffer","b"),Pe(Be,"byteOffset","o"),Pe(Be,"byteLength","l"),Pe(Be,"length","e"),U(Be,me,{get:function(){return this[ge]}}),e.exports=function(e,t,n,s){s=!!s;var c=e+(s?"Clamped":"")+"Array",d="Uint8Array"!=c,h="get"+e,p="set"+e,b=o[c],v=b||{},y=b&&x(b),g=!b||!u.ABV,k={},S=b&&b.prototype,C=function(e,n){var r=e._d;return r.v[h](n*t+r.o,ke)},O=function(e,n,r){var o=e._d;s&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),o.v[p](n*t+o.o,r,ke)},T=function(e,t){U(e,t,{get:function(){return C(this,t)},set:function(e){return O(this,t,e)},enumerable:!0})};g?(b=n(function(e,n,r,o){l(e,b,c,"_d");var i,a,u,s,d=0,h=0;if(w(n)){if(!(n instanceof G||"ArrayBuffer"==(s=_(n))||"SharedArrayBuffer"==s))return ge in n?Te(b,n):je.call(b,n);i=n,h=xe(r,t);var p=n.byteLength;if(void 0===o){if(p%t)throw Y("Wrong length!");if((a=p-h)<0)throw Y("Wrong length!")}else if((a=m(o)*t)+h>p)throw Y("Wrong length!");u=a/t}else u=Ee(n,!0),a=u*t,i=new G(a);for(f(e,"_d",{b:i,o:h,l:a,e:u,v:new X(i)});d<u;)T(e,d++)}),S=b.prototype=E(Be),f(S,"constructor",b)):I(function(e){new b(null),new b(e)},!0)||(b=n(function(e,n,r,o){l(e,b,c);var i;return w(n)?n instanceof G||"ArrayBuffer"==(i=_(n))||"SharedArrayBuffer"==i?void 0!==o?new v(n,xe(r,t),o):void 0!==r?new v(n,xe(r,t)):new v(n):ge in n?Te(b,n):je.call(b,n):new v(Ee(n,d))}),$(y!==Function.prototype?A(v).concat(A(y)):A(v),function(e){e in b||f(b,e,v[e])}),b.prototype=S,r||(S.constructor=b));var P=S[pe],j=!!P&&("values"==P.name||void 0==P.name),D=Ne.values;f(b,be,!0),f(S,ge,c),f(S,_e,!0),f(S,ve,b),(s?new b(1)[me]==c:me in S)||U(S,me,{get:function(){return c}}),k[c]=b,a(a.G+a.W+a.F*(b!=v),k),a(a.S,c,{BYTES_PER_ELEMENT:t,from:je,of:De}),"BYTES_PER_ELEMENT"in S||f(S,"BYTES_PER_ELEMENT",t),a(a.P,c,Ie),L(c),a(a.P+a.F*Se,c,{set:ze}),a(a.P+a.F*!j,c,Ne),a(a.P+a.F*(S.toString!=fe),c,{toString:fe}),a(a.P+a.F*i(function(){new b(1).slice()}),c,{slice:Le}),a(a.P+a.F*(i(function(){return[1,2].toLocaleString()!=new b([1,2]).toLocaleString()})||!i(function(){S.toLocaleString.call([1,2])})),c,{toLocaleString:Me}),M[c]=j?P:D,r||j||f(S,pe,D)}}else e.exports=function(){}},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(34),o=n(44)("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,u;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),o))?n:i?r(t):"Object"==(u=r(t))&&"function"==typeof t.callee?"Arguments":u}},function(e,t,n){var r=n(50),o=n(44)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t){e.exports={}},function(e,t,n){var r=n(10),o=n(52),i=n(40),a=n(38)("IE_PROTO"),u=function(){},s=function(){var e,t=n(15)("iframe"),r=i.length;for(t.style.display="none",n(54).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;r--;)delete s.prototype[i[r]];return s()};e.exports=Object.create||function(e,t){var n;return null!==e?(u.prototype=r(e),n=new u,u.prototype=null,n[a]=e):n=s(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(9),o=n(10),i=n(53);e.exports=n(13)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),u=a.length,s=0;u>s;)r.f(e,n=a[s++],t[n]);return e}},function(e,t,n){var r=n(31),o=n(40);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){e.exports=n(6).document&&document.documentElement},function(e,t,n){var r=n(19),o=n(42),i=n(38)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(48),o=n(44)("iterator"),i=n(50);e.exports=n(7).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(21),o=n(33),i=n(42),a=n(29),u=n(58);e.exports=function(e,t){var n=1==e,s=2==e,c=3==e,l=4==e,d=6==e,f=5==e||d,h=t||u;return function(t,u,p){for(var m,b,v=i(t),y=o(v),g=r(u,p,3),_=a(y.length),w=0,k=n?h(t,_):s?h(t,0):void 0;_>w;w++)if((f||w in y)&&(m=y[w],b=g(m,w,v),e))if(n)k[w]=b;else if(b)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:k.push(m)}else if(l)return!1;return d?-1:c||l?l:k}}},function(e,t,n){var r=n(59);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(11),o=n(60),i=n(44)("species");e.exports=function(e){var t;return o(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(34);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(10),o=n(22),i=n(44)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[i])?t:o(n)}},function(e,t,n){"use strict";var r=n(63),o=n(64),i=n(50),a=n(32);e.exports=n(65)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,n):"values"==t?o(0,e[n]):o(0,[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(44)("unscopables"),o=Array.prototype;void 0==o[r]&&n(8)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(25),o=n(5),i=n(18),a=n(8),u=n(19),s=n(50),c=n(66),l=n(43),d=n(55),f=n(44)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,m,b,v,y){c(n,t,m);var g,_,w,k=function(e){if(!h&&e in A)return A[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",E="values"==b,x=!1,A=e.prototype,C=A[f]||A["@@iterator"]||b&&A[b],O=C||k(b),T=b?E?k("entries"):O:void 0,P="Array"==t?A.entries||C:C;if(P&&(w=d(P.call(new e)))!==Object.prototype&&(l(w,S,!0),r||u(w,f)||a(w,f,p)),E&&C&&"values"!==C.name&&(x=!0,O=function(){return C.call(this)}),r&&!y||!h&&!x&&A[f]||a(A,f,O),s[t]=O,s[S]=p,b)if(g={values:E?O:k("values"),keys:v?O:k("keys"),entries:T},y)for(_ in g)_ in A||i(A,_,g[_]);else o(o.P+o.F*(h||x),t,g);return g}},function(e,t,n){"use strict";var r=n(51),o=n(17),i=n(43),a={};n(8)(a,n(44)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(44)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(6),o=n(9),i=n(13),a=n(44)("species");e.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(42),o=n(37),i=n(29);e.exports=[].copyWithin||function(e,t){var n=r(this),a=i(n.length),u=o(e,a),s=o(t,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:o(c,a))-s,a-u),d=1;for(s<u&&u<s+l&&(d=-1,s+=l-1,u+=l-1);l-- >0;)s in n?n[u]=n[s]:delete n[u],u+=d,s+=d;return n}},function(e,t,n){var r=n(71),o=n(17),i=n(32),a=n(16),u=n(19),s=n(12),c=Object.getOwnPropertyDescriptor;t.f=n(13)?c:function(e,t){if(e=i(e),t=a(t,!0),s)try{return c(e,t)}catch(e){}if(u(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){n(46)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(46)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){n(46)("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(46)("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(46)("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(46)("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(46)("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(46)("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";var r=n(81);e.exports=n(85)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(this,e);return t&&t.v},set:function(e,t){return r.def(this,0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(9).f,o=n(51),i=n(26),a=n(21),u=n(27),s=n(35),c=n(82),l=n(65),d=n(64),f=n(68),h=n(13),p=n(84).fastKey,m=h?"_s":"size",b=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,l){var d=e(function(e,r){u(e,d,t,"_i"),e._i=o(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=r&&c(r,n,e[l],e)});return i(d.prototype,{clear:function(){for(var e=this,t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var t=this,n=b(t,e);if(n){var r=n.n,o=n.p;delete t._i[n.i],n.r=!0,o&&(o.n=r),r&&(r.p=o),t._f==n&&(t._f=r),t._l==n&&(t._l=o),t[m]--}return!!n},forEach:function(e){u(this,d,"forEach");for(var t,n=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!b(this,e)}}),h&&r(d.prototype,"size",{get:function(){return s(this[m])}}),d},def:function(e,t,n){var r,o,i=b(e,t);return i?i.v=n:(e._l=i={i:o=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[m]++,"F"!==o&&(e._i[o]=i)),e},getEntry:b,setStrong:function(e,t,n){l(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?d(0,n.k):"values"==t?d(0,n.v):d(0,[n.k,n.v]):(e._t=void 0,d(1))},n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){var r=n(21),o=n(83),i=n(49),a=n(10),u=n(29),s=n(56),c={},l={},t=e.exports=function(e,t,n,d,f){var h,p,m,b,v=f?function(){return e}:s(e),y=r(n,d,t?2:1),g=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(i(v)){for(h=u(e.length);h>g;g++)if((b=t?y(a(p=e[g])[0],p[1]):y(e[g]))===c||b===l)return b}else for(m=v.call(e);!(p=m.next()).done;)if((b=o(m,y,p.value,t))===c||b===l)return b};t.BREAK=c,t.RETURN=l},function(e,t,n){var r=n(10);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(20)("meta"),o=n(11),i=n(19),a=n(9).f,u=0,s=Object.isExtensible||function(){return!0},c=!n(14)(function(){return s(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++u,w:{}}})},d=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!s(e))return"F";if(!t)return"E";l(e)}return e[r].i},f=function(e,t){if(!i(e,r)){if(!s(e))return!0;if(!t)return!1;l(e)}return e[r].w},h=function(e){return c&&p.NEED&&s(e)&&!i(e,r)&&l(e),e},p=e.exports={KEY:r,NEED:!1,fastKey:d,getWeak:f,onFreeze:h}},function(e,t,n){"use strict";var r=n(6),o=n(5),i=n(18),a=n(26),u=n(84),s=n(82),c=n(27),l=n(11),d=n(14),f=n(67),h=n(43),p=n(86);e.exports=function(e,t,n,m,b,v){var y=r[e],g=y,_=b?"set":"add",w=g&&g.prototype,k={},S=function(e){var t=w[e];i(w,e,"delete"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof g&&(v||w.forEach&&!d(function(){(new g).entries().next()}))){var E=new g,x=E[_](v?{}:-0,1)!=E,A=d(function(){E.has(1)}),C=f(function(e){new g(e)}),O=!v&&d(function(){for(var e=new g,t=5;t--;)e[_](t,t);return!e.has(-0)});C||(g=t(function(t,n){c(t,g,e);var r=p(new y,t,g);return void 0!=n&&s(n,b,r[_],r),r}),g.prototype=w,w.constructor=g),(A||O)&&(S("delete"),S("has"),b&&S("get")),(O||x)&&S(_),v&&w.clear&&delete w.clear}else g=m.getConstructor(t,e,b,_),a(g.prototype,n),u.NEED=!0;return h(g,e),k[e]=g,o(o.G+o.W+o.F*(g!=y),k),v||m.setStrong(g,e,b),g}},function(e,t,n){var r=n(11),o=n(87).set;e.exports=function(e,t,n){var i,a=t.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},function(e,t,n){var r=n(11),o=n(10),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(21)(Function.call,n(70).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){"use strict";var r=n(81);e.exports=n(85)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(this,e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r,o=n(57)(0),i=n(18),a=n(84),u=n(90),s=n(92),c=n(11),l=a.getWeak,d=Object.isExtensible,f=s.ufstore,h={},p=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},m={get:function(e){if(c(e)){var t=l(e);return!0===t?f(this).get(e):t?t[this._i]:void 0}},set:function(e,t){return s.def(this,e,t)}},b=e.exports=n(85)("WeakMap",p,m,s,!0,!0);7!=(new b).set((Object.freeze||Object)(h),7).get(h)&&(r=s.getConstructor(p),u(r.prototype,m),a.NEED=!0,o(["delete","has","get","set"],function(e){var t=b.prototype,n=t[e];i(t,e,function(t,o){if(c(t)&&!d(t)){this._f||(this._f=new r);var i=this._f[e](t,o);return"set"==e?this:i}return n.call(this,t,o)})}))},function(e,t,n){"use strict";var r=n(53),o=n(91),i=n(71),a=n(42),u=n(33),s=Object.assign;e.exports=!s||n(14)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=s({},e)[n]||Object.keys(s({},t)).join("")!=r})?function(e,t){for(var n=a(e),s=arguments.length,c=1,l=o.f,d=i.f;s>c;)for(var f,h=u(arguments[c++]),p=l?r(h).concat(l(h)):r(h),m=p.length,b=0;m>b;)d.call(h,f=p[b++])&&(n[f]=h[f]);return n}:s},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var r=n(26),o=n(84).getWeak,i=n(10),a=n(11),u=n(27),s=n(82),c=n(57),l=n(19),d=c(5),f=c(6),h=0,p=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},b=function(e,t){return d(e.a,function(e){return e[0]===t})};m.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var n=b(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=f(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,i){var c=e(function(e,r){u(e,c,t,"_i"),e._i=h++,e._l=void 0,void 0!=r&&s(r,n,e[i],e)});return r(c.prototype,{delete:function(e){if(!a(e))return!1;var t=o(e);return!0===t?p(this).delete(e):t&&l(t,this._i)&&delete t[this._i]},has:function(e){if(!a(e))return!1;var t=o(e);return!0===t?p(this).has(e):t&&l(t,this._i)}}),c},def:function(e,t,n){var r=o(i(t),!0);return!0===r?p(e).set(t,n):r[e._i]=n,e},ufstore:p}},function(e,t,n){"use strict";var r=n(92);n(85)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(this,e,!0)}},r,!1,!0)},function(e,t,n){var r=n(5),o=n(22),i=n(10),a=(n(6).Reflect||{}).apply,u=Function.apply;r(r.S+r.F*!n(14)(function(){a(function(){})}),"Reflect",{apply:function(e,t,n){var r=o(e),s=i(n);return a?a(r,t,s):u.call(r,t,s)}})},function(e,t,n){var r=n(5),o=n(51),i=n(22),a=n(10),u=n(11),s=n(14),c=n(96),l=(n(6).Reflect||{}).construct,d=s(function(){function e(){}return!(l(function(){},[],e)instanceof e)}),f=!s(function(){l(function(){})});r(r.S+r.F*(d||f),"Reflect",{construct:function(e,t){i(e),a(t);var n=arguments.length<3?e:i(arguments[2]);if(f&&!d)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var s=n.prototype,h=o(u(s)?s:Object.prototype),p=Function.apply.call(e,h,t);return u(p)?p:h}})},function(e,t,n){"use strict";var r=n(22),o=n(11),i=n(97),a=[].slice,u={},s=function(e,t,n){if(!(t in u)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";u[t]=Function("F,a","return new F("+r.join(",")+")")}return u[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),u=function(){var r=n.concat(a.call(arguments));return this instanceof u?s(t,r.length,r):i(t,r,e)};return o(t.prototype)&&(u.prototype=t.prototype),u}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(9),o=n(5),i=n(10),a=n(16);o(o.S+o.F*n(14)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){i(e),t=a(t,!0),i(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(5),o=n(70).f,i=n(10);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=o(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){function r(e,t){var n,u,l=arguments.length<3?e:arguments[2];return c(e)===l?e[t]:(n=o.f(e,t))?a(n,"value")?n.value:void 0!==n.get?n.get.call(l):void 0:s(u=i(e))?r(u,t,l):void 0}var o=n(70),i=n(55),a=n(19),u=n(5),s=n(11),c=n(10);u(u.S,"Reflect",{get:r})},function(e,t,n){var r=n(70),o=n(5),i=n(10);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(i(e),t)}})},function(e,t,n){var r=n(5),o=n(55),i=n(10);r(r.S,"Reflect",{getPrototypeOf:function(e){return o(i(e))}})},function(e,t,n){var r=n(5);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(5),o=n(10),i=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return o(e),!i||i(e)}})},function(e,t,n){var r=n(5);r(r.S,"Reflect",{ownKeys:n(106)})},function(e,t,n){var r=n(30),o=n(91),i=n(10),a=n(6).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(i(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(5),o=n(10),i=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){o(e);try{return i&&i(e),!0}catch(e){return!1}}})},function(e,t,n){function r(e,t,n){var s,f,h=arguments.length<4?e:arguments[3],p=i.f(l(e),t);if(!p){if(d(f=a(e)))return r(f,t,n,h);p=c(0)}return u(p,"value")?!(!1===p.writable||!d(h))&&(s=i.f(h,t)||c(0),s.value=n,o.f(h,t,s),!0):void 0!==p.set&&(p.set.call(h,n),!0)}var o=n(9),i=n(70),a=n(55),u=n(19),s=n(5),c=n(17),l=n(10),d=n(11);s(s.S,"Reflect",{set:r})},function(e,t,n){var r=n(5),o=n(87);o&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){o.check(e,t);try{return o.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var r,o,i,a=n(25),u=n(6),s=n(21),c=n(48),l=n(5),d=n(11),f=n(22),h=n(27),p=n(82),m=n(61),b=n(111).set,v=n(112)(),y=u.TypeError,g=u.process,_=u.Promise,g=u.process,w="process"==c(g),k=function(){},S=!!function(){try{var e=_.resolve(1),t=(e.constructor={})[n(44)("species")]=function(e){e(k,k)};return(w||"function"==typeof PromiseRejectionEvent)&&e.then(k)instanceof t}catch(e){}}(),E=function(e,t){return e===t||e===_&&t===i},x=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},A=function(e){return E(_,e)?new C(e):new o(e)},C=o=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw y("Bad Promise constructor");t=e,n=r}),this.resolve=f(t),this.reject=f(n)},O=function(e){try{e()}catch(e){return{error:e}}},T=function(e,t){if(!e._n){e._n=!0;var n=e._c;v(function(){for(var r=e._v,o=1==e._s,i=0;n.length>i;)!function(t){var n,i,a=o?t.ok:t.fail,u=t.resolve,s=t.reject,c=t.domain;try{a?(o||(2==e._h&&D(e),e._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===t.promise?s(y("Promise-chain cycle")):(i=x(n))?i.call(n,u,s):u(n)):s(r)}catch(e){s(e)}}(n[i++]);e._c=[],e._n=!1,t&&!e._h&&P(e)})}},P=function(e){b.call(u,function(){var t,n,r,o=e._v;if(j(e)&&(t=O(function(){w?g.emit("unhandledRejection",o,e):(n=u.onunhandledrejection)?n({promise:e,reason:o}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=w||j(e)?2:1),e._a=void 0,t)throw t.error})},j=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!j(t.promise))return!1;return!0},D=function(e){b.call(u,function(){var t;w?g.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},R=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),T(t,!0))},M=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw y("Promise can't be resolved itself");(t=x(e))?v(function(){var r={_w:n,_d:!1};try{t.call(e,s(M,r,1),s(R,r,1))}catch(e){R.call(r,e)}}):(n._v=e,n._s=1,T(n,!1))}catch(e){R.call({_w:n,_d:!1},e)}}};S||(_=function(e){h(this,_,"Promise","_h"),f(e),r.call(this);try{e(s(M,this,1),s(R,this,1))}catch(e){R.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(26)(_.prototype,{then:function(e,t){var n=A(m(this,_));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=w?g.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&T(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),C=function(){var e=new r;this.promise=e,this.resolve=s(M,e,1),this.reject=s(R,e,1)}),l(l.G+l.W+l.F*!S,{Promise:_}),n(43)(_,"Promise"),n(68)("Promise"),i=n(7).Promise,l(l.S+l.F*!S,"Promise",{reject:function(e){var t=A(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(a||!S),"Promise",{resolve:function(e){if(e instanceof _&&E(e.constructor,this))return e;var t=A(this);return(0,t.resolve)(e),t.promise}}),l(l.S+l.F*!(S&&n(67)(function(e){_.all(e).catch(k)})),"Promise",{all:function(e){var t=this,n=A(t),r=n.resolve,o=n.reject,i=O(function(){var n=[],i=0,a=1;p(e,!1,function(e){var u=i++,s=!1;n.push(void 0),a++,t.resolve(e).then(function(e){s||(s=!0,n[u]=e,--a||r(n))},o)}),--a||r(n)});return i&&o(i.error),n.promise},race:function(e){var t=this,n=A(t),r=n.reject,o=O(function(){p(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o&&r(o.error),n.promise}})},function(e,t,n){var r,o,i,a=n(21),u=n(97),s=n(54),c=n(15),l=n(6),d=l.process,f=l.setImmediate,h=l.clearImmediate,p=l.MessageChannel,m=0,b={},v=function(){var e=+this;if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},y=function(e){v.call(e.data)};f&&h||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return b[++m]=function(){u("function"==typeof e?e:Function(e),t)},r(m),m},h=function(e){delete b[e]},"process"==n(34)(d)?r=function(e){d.nextTick(a(v,e,1))}:p?(o=new p,i=o.port2,o.port1.onmessage=y,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",y,!1)):r="onreadystatechange"in c("script")?function(e){s.appendChild(c("script")).onreadystatechange=function(){s.removeChild(this),v.call(e)}}:function(e){setTimeout(a(v,e,1),0)}),e.exports={set:f,clear:h}},function(e,t,n){var r=n(6),o=n(111).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,u=r.Promise,s="process"==n(34)(a);e.exports=function(){var e,t,n,c=function(){var r,o;for(s&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(s)n=function(){a.nextTick(c)};else if(i){var l=!0,d=document.createTextNode("");new i(c).observe(d,{characterData:!0}),n=function(){d.data=l=!l}}else if(u&&u.resolve){var f=u.resolve();n=function(){f.then(c)}}else n=function(){o.call(r,c)};return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t,n){"use strict";var r=n(6),o=n(19),i=n(13),a=n(5),u=n(18),s=n(84).KEY,c=n(14),l=n(39),d=n(43),f=n(20),h=n(44),p=n(114),m=n(115),b=n(116),v=n(117),y=n(60),g=n(10),_=n(32),w=n(16),k=n(17),S=n(51),E=n(118),x=n(70),A=n(9),C=n(53),O=x.f,T=A.f,P=E.f,j=r.Symbol,D=r.JSON,R=D&&D.stringify,M=h("_hidden"),I=h("toPrimitive"),L={}.propertyIsEnumerable,z=l("symbol-registry"),N=l("symbols"),q=l("op-symbols"),F=Object.prototype,U="function"==typeof j,B=r.QObject,Y=!B||!B.prototype||!B.prototype.findChild,H=i&&c(function(){return 7!=S(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=O(F,t);r&&delete F[t],T(e,t,n),r&&e!==F&&T(F,t,r)}:T,W=function(e){var t=N[e]=S(j.prototype);return t._k=e,t},V=U&&"symbol"==typeof j.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof j},G=function(e,t,n){return e===F&&G(q,t,n),g(e),t=w(t,!0),g(n),o(N,t)?(n.enumerable?(o(e,M)&&e[M][t]&&(e[M][t]=!1),n=S(n,{enumerable:k(0,!1)})):(o(e,M)||T(e,M,k(1,{})),e[M][t]=!0),H(e,t,n)):T(e,t,n)},X=function(e,t){g(e);for(var n,r=v(t=_(t)),o=0,i=r.length;i>o;)G(e,n=r[o++],t[n]);return e},$=function(e,t){return void 0===t?S(e):X(S(e),t)},K=function(e){var t=L.call(this,e=w(e,!0));return!(this===F&&o(N,e)&&!o(q,e))&&(!(t||!o(this,e)||!o(N,e)||o(this,M)&&this[M][e])||t)},J=function(e,t){if(e=_(e),t=w(t,!0),e!==F||!o(N,t)||o(q,t)){var n=O(e,t);return!n||!o(N,t)||o(e,M)&&e[M][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=P(_(e)),r=[],i=0;n.length>i;)o(N,t=n[i++])||t==M||t==s||r.push(t);return r},Z=function(e){for(var t,n=e===F,r=P(n?q:_(e)),i=[],a=0;r.length>a;)!o(N,t=r[a++])||n&&!o(F,t)||i.push(N[t]);return i};U||(j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===F&&t.call(q,n),o(this,M)&&o(this[M],e)&&(this[M][e]=!1),H(this,e,k(1,n))};return i&&Y&&H(F,e,{configurable:!0,set:t}),W(e)},u(j.prototype,"toString",function(){return this._k}),x.f=J,A.f=G,n(30).f=E.f=Q,n(71).f=K,n(91).f=Z,i&&!n(25)&&u(F,"propertyIsEnumerable",K,!0),p.f=function(e){return W(h(e))}),a(a.G+a.W+a.F*!U,{Symbol:j});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)h(ee[te++]);for(var ee=C(h.store),te=0;ee.length>te;)m(ee[te++]);a(a.S+a.F*!U,"Symbol",{for:function(e){return o(z,e+="")?z[e]:z[e]=j(e)},keyFor:function(e){if(V(e))return b(z,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),a(a.S+a.F*!U,"Object",{create:$,defineProperty:G,defineProperties:X,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:Z}),D&&a(a.S+a.F*(!U||c(function(){var e=j();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!V(e)){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);return t=r[1],"function"==typeof t&&(n=t),!n&&y(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!V(t))return t}),r[1]=t,R.apply(D,r)}}}),j.prototype[I]||n(8)(j.prototype,I,j.prototype.valueOf),d(j,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){t.f=n(44)},function(e,t,n){var r=n(6),o=n(7),i=n(25),a=n(114),u=n(9).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(53),o=n(32);e.exports=function(e,t){for(var n,i=o(e),a=r(i),u=a.length,s=0;u>s;)if(i[n=a[s++]]===t)return n}},function(e,t,n){var r=n(53),o=n(91),i=n(71);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,u=n(e),s=i.f,c=0;u.length>c;)s.call(e,a=u[c++])&&t.push(a);return t}},function(e,t,n){var r=n(32),o=n(30).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return o(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?u(e):o(r(e))}},function(e,t,n){var r=n(5);r(r.S+r.F,"Object",{assign:n(90)})},function(e,t,n){var r=n(5);r(r.S,"Object",{is:n(47)})},function(e,t,n){var r=n(5);r(r.S,"Object",{setPrototypeOf:n(87).set})},function(e,t,n){var r=n(9).f,o=n(17),i=n(19),a=Function.prototype,u=/^\s*function ([^ (]*)/,s=Object.isExtensible||function(){return!0};"name"in a||n(13)&&r(a,"name",{configurable:!0,get:function(){try{var e=this,t=(""+e).match(u)[1];return i(e,"name")||!s(e)||r(e,"name",o(5,t)),t}catch(e){return""}}})},function(e,t,n){var r=n(5),o=n(32),i=n(29);r(r.S,"String",{raw:function(e){for(var t=o(e.raw),n=i(t.length),r=arguments.length,a=[],u=0;n>u;)a.push(String(t[u++])),u<r&&a.push(String(arguments[u]));return a.join("")}})},function(e,t,n){var r=n(5),o=n(37),i=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){"use strict";var r=n(5),o=n(126)(!1);r(r.P,"String",{codePointAt:function(e){return o(this,e)}})},function(e,t,n){var r=n(28),o=n(35);e.exports=function(e){return function(t,n){var i,a,u=String(o(t)),s=r(n),c=u.length;return s<0||s>=c?e?"":void 0:(i=u.charCodeAt(s),i<55296||i>56319||s+1===c||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):i:e?u.slice(s,s+2):a-56320+(i-55296<<10)+65536)}}},function(e,t,n){var r=n(5);r(r.P,"String",{repeat:n(128)})},function(e,t,n){"use strict";var r=n(28),o=n(35);e.exports=function(e){var t=String(o(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},function(e,t,n){"use strict";var r=n(5),o=n(29),i=n(130),a="".startsWith;r(r.P+r.F*n(132)("startsWith"),"String",{startsWith:function(e){var t=i(this,e,"startsWith"),n=o(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){var r=n(131),o=n(35);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,t,n){var r=n(11),o=n(34),i=n(44)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(44)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){"use strict";var r=n(5),o=n(29),i=n(130),a="".endsWith;r(r.P+r.F*n(132)("endsWith"),"String",{endsWith:function(e){var t=i(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=o(t.length),u=void 0===n?r:Math.min(o(n),r),s=String(e);return a?a.call(t,s,u):t.slice(u-s.length,u)===s}})},function(e,t,n){"use strict";var r=n(5),o=n(130);r(r.P+r.F*n(132)("includes"),"String",{includes:function(e){return!!~o(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){n(13)&&"g"!=/./g.flags&&n(9).f(RegExp.prototype,"flags",{configurable:!0,get:n(136)})},function(e,t,n){"use strict";var r=n(10);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){n(138)("match",1,function(e,t,n){return[function(n){"use strict";var r=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){"use strict";var r=n(8),o=n(18),i=n(14),a=n(35),u=n(44);e.exports=function(e,t,n){var s=u(e),c=n(a,s,""[e]),l=c[0],d=c[1];i(function(){var t={};return t[s]=function(){return 7},7!=""[e](t)})&&(o(String.prototype,e,l),r(RegExp.prototype,s,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)}))}},function(e,t,n){n(138)("replace",2,function(e,t,n){return[function(r,o){"use strict";var i=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},n]})},function(e,t,n){n(138)("split",2,function(e,t,r){"use strict";var o=n(131),i=r,a=[].push,u="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[u]||2!="ab".split(/(?:ab)*/)[u]||4!=".".split(/(.?)(.?)/)[u]||".".split(/()()/)[u]>1||"".split(/.?/)[u]){var s=void 0===/()??/.exec("")[1];r=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!o(e))return i.call(n,e,t);var r,c,l,d,f,h=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,b=void 0===t?4294967295:t>>>0,v=new RegExp(e.source,p+"g");for(s||(r=new RegExp("^"+v.source+"$(?!\\s)",p));(c=v.exec(n))&&!((l=c.index+c[0][u])>m&&(h.push(n.slice(m,c.index)),!s&&c[u]>1&&c[0].replace(r,function(){for(f=1;f<arguments[u]-2;f++)void 0===arguments[f]&&(c[f]=void 0)}),c[u]>1&&c.index<n[u]&&a.apply(h,c.slice(1)),d=c[0][u],m=l,h[u]>=b));)v.lastIndex===c.index&&v.lastIndex++;return m===n[u]?!d&&v.test("")||h.push(""):h.push(n.slice(m)),h[u]>b?h.slice(0,b):h}}else"0".split(void 0,0)[u]&&(r=function(e,t){return void 0===e&&0===t?[]:i.call(this,e,t)});return[function(n,o){var i=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,i,o):r.call(String(i),n,o)},r]})},function(e,t,n){n(138)("search",1,function(e,t,n){return[function(n){"use strict";var r=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){"use strict";var r=n(21),o=n(5),i=n(42),a=n(83),u=n(49),s=n(29),c=n(143),l=n(56);o(o.S+o.F*!n(67)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,d,f=i(e),h="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,b=void 0!==m,v=0,y=l(f);if(b&&(m=r(m,p>2?arguments[2]:void 0,2)),void 0==y||h==Array&&u(y))for(t=s(f.length),n=new h(t);t>v;v++)c(n,v,b?m(f[v],v):f[v]);else for(d=y.call(f),n=new h;!(o=d.next()).done;v++)c(n,v,b?a(d,m,[o.value,v],!0):o.value);return n.length=v,n}})},function(e,t,n){"use strict";var r=n(9),o=n(17);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){"use strict";var r=n(5),o=n(143);r(r.S+r.F*n(14)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)o(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){var r=n(5);r(r.P,"Array",{copyWithin:n(69)}),n(63)("copyWithin")},function(e,t,n){"use strict";var r=n(5),o=n(57)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),r(r.P+r.F*i,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(63)("find")},function(e,t,n){"use strict";var r=n(5),o=n(57)(6),i="findIndex",a=!0;i in[]&&Array(1)[i](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(63)(i)},function(e,t,n){var r=n(5);r(r.P,"Array",{fill:n(41)}),n(63)("fill")},function(e,t,n){var r=n(5),o=n(6).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&o(e)}})},function(e,t,n){var r=n(5);r(r.S,"Number",{isInteger:n(151)})},function(e,t,n){var r=n(11),o=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&o(e)===e}},function(e,t,n){var r=n(5),o=n(151),i=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return o(e)&&i(e)<=9007199254740991}})},function(e,t,n){var r=n(5);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(5);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(5);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(5);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(5),o=n(158),i=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:o(e-1+i(e-1)*i(e+1))}})},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){function r(e){return isFinite(e=+e)&&0!=e?e<0?-r(-e):Math.log(e+Math.sqrt(e*e+1)):e}var o=n(5),i=Math.asinh;o(o.S+o.F*!(i&&1/i(0)>0),"Math",{asinh:r})},function(e,t,n){var r=n(5),o=Math.atanh;r(r.S+r.F*!(o&&1/o(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(5),o=n(162);r(r.S,"Math",{cbrt:function(e){return o(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,n){var r=n(5);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(5),o=Math.exp;r(r.S,"Math",{cosh:function(e){return(o(e=+e)+o(-e))/2}})},function(e,t,n){var r=n(5),o=n(166);r(r.S+r.F*(o!=Math.expm1),"Math",{expm1:o})},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){var r=n(5),o=n(162),i=Math.pow,a=i(2,-52),u=i(2,-23),s=i(2,127)*(2-u),c=i(2,-126),l=function(e){return e+1/a-1/a};r(r.S,"Math",{fround:function(e){var t,n,r=Math.abs(e),i=o(e);return r<c?i*l(r/c/u)*c*u:(t=(1+u/a)*r,n=t-(t-r),n>s||n!=n?i*(1/0):i*n)}})},function(e,t,n){var r=n(5),o=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,i=0,a=0,u=arguments.length,s=0;a<u;)n=o(arguments[a++]),s<n?(r=s/n,i=i*r*r+1,s=n):n>0?(r=n/s,i+=r*r):i+=n;return s===1/0?1/0:s*Math.sqrt(i)}})},function(e,t,n){var r=n(5),o=Math.imul;r(r.S+r.F*n(14)(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function(e,t){var n=+e,r=+t,o=65535&n,i=65535&r;return 0|o*i+((65535&n>>>16)*i+o*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){var r=n(5);r(r.S,"Math",{log1p:n(158)})},function(e,t,n){var r=n(5);r(r.S,"Math",{log10:function(e){return Math.log(e)/Math.LN10}})},function(e,t,n){var r=n(5);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(5);r(r.S,"Math",{sign:n(162)})},function(e,t,n){var r=n(5),o=n(166),i=Math.exp;r(r.S+r.F*n(14)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(o(e)-o(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(5),o=n(166),i=Math.exp;r(r.S,"Math",{tanh:function(e){var t=o(e=+e),n=o(-e);return t==1/0?1:n==1/0?-1:(t-n)/(i(e)+i(-e))}})},function(e,t,n){var r=n(5);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){"use strict";var r=n(5),o=n(36)(!0);r(r.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(63)("includes")},function(e,t,n){var r=n(5),o=n(179)(!1);r(r.S,"Object",{values:function(e){return o(e)}})},function(e,t,n){var r=n(53),o=n(32),i=n(71).f;e.exports=function(e){return function(t){for(var n,a=o(t),u=r(a),s=u.length,c=0,l=[];s>c;)i.call(a,n=u[c++])&&l.push(e?[n,a[n]]:a[n]);return l}}},function(e,t,n){var r=n(5),o=n(179)(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},function(e,t,n){var r=n(5),o=n(106),i=n(32),a=n(70),u=n(143);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n=i(e),r=a.f,s=o(n),c={},l=0;s.length>l;)u(c,t=s[l++],r(n,t));return c}})},function(e,t,n){"use strict";var r=n(5),o=n(183);r(r.P,"String",{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){var r=n(29),o=n(128),i=n(35);e.exports=function(e,t,n,a){var u=String(i(e)),s=u.length,c=void 0===n?" ":String(n),l=r(t);if(l<=s||""==c)return u;var d=l-s,f=o.call(c,Math.ceil(d/c.length));return f.length>d&&(f=f.slice(0,d)),a?f+u:u+f}},function(e,t,n){"use strict";var r=n(5),o=n(183);r(r.P,"String",{padEnd:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){var r=n(6),o=n(5),i=n(97),a=n(186),u=r.navigator,s=!!u&&/MSIE .\./.test(u.userAgent),c=function(e){return s?function(t,n){return e(i(a,[].slice.call(arguments,2),"function"==typeof t?t:Function(t)),n)}:e};o(o.G+o.B+o.F*s,{setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)})},function(e,t,n){"use strict";var r=n(187),o=n(97),i=n(22);e.exports=function(){for(var e=i(this),t=arguments.length,n=Array(t),a=0,u=r._,s=!1;t>a;)(n[a]=arguments[a++])===u&&(s=!0);return function(){var r,i=this,a=arguments.length,c=0,l=0;if(!s&&!a)return o(e,n,i);if(r=n.slice(),s)for(;t>c;c++)r[c]===u&&(r[c]=arguments[l++]);for(;a>l;)r.push(arguments[l++]);return o(e,r,i)}}},function(e,t,n){e.exports=n(6)},function(e,t,n){var r=n(5),o=n(111);r(r.G+r.B,{setImmediate:o.set,clearImmediate:o.clear})},function(e,t,n){for(var r=n(62),o=n(18),i=n(6),a=n(8),u=n(50),s=n(44),c=s("iterator"),l=s("toStringTag"),d=u.Array,f=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],h=0;h<5;h++){var p,m=f[h],b=i[m],v=b&&b.prototype;if(v){v[c]||a(v,c,d),v[l]||a(v,l,m),u[m]=d;for(p in r)v[p]||o(v,p,r[p],!0)}}},function(e,t,n){(function(t,n){!function(t){"use strict";function r(e,t,n,r){var o=t&&t.prototype instanceof i?t:i,a=Object.create(o.prototype),u=new p(r||[]);return a._invoke=l(e,n,u),a}function o(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function i(){}function a(){}function u(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function c(e){function t(n,r,i,a){var u=o(e[n],e,r);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==typeof c&&g.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(c).then(function(e){s.value=e,i(s)},a)}a(u.arg)}function r(e,n){function r(){return new Promise(function(r,o){t(e,n,r,o)})}return i=i?i.then(r,r):r()}"object"==typeof n&&n.domain&&(t=n.domain.bind(t));var i;this._invoke=r}function l(e,t,n){var r=x;return function(i,a){if(r===C)throw new Error("Generator is already running");if(r===O){if("throw"===i)throw a;return b()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=d(u,n);if(s){if(s===T)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===x)throw r=O,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=C;var c=o(e,t,n);if("normal"===c.type){if(r=n.done?O:A,c.arg===T)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=O,n.method="throw",n.arg=c.arg)}}}function d(e,t){var n=e.iterator[t.method];if(n===v){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=v,d(e,t),"throw"===t.method))return T;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var r=o(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,T;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=v),t.delegate=null,T):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,T)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function h(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function m(e){if(e){var t=e[w];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(g.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=v,t.done=!0,t};return r.next=r}}return{next:b}}function b(){return{value:v,done:!0}}var v,y=Object.prototype,g=y.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},w=_.iterator||"@@iterator",k=_.toStringTag||"@@toStringTag",S="object"==typeof e,E=t.regeneratorRuntime;if(E)return void(S&&(e.exports=E));E=t.regeneratorRuntime=S?e.exports:{},E.wrap=r;var x="suspendedStart",A="suspendedYield",C="executing",O="completed",T={},P={};P[w]=function(){return this};var j=Object.getPrototypeOf,D=j&&j(j(m([])));D&&D!==y&&g.call(D,w)&&(P=D);var R=u.prototype=i.prototype=Object.create(P);a.prototype=R.constructor=u,u.constructor=a,u[k]=a.displayName="GeneratorFunction",E.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},E.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,k in e||(e[k]="GeneratorFunction")),e.prototype=Object.create(R),e},E.awrap=function(e){return{__await:e}},s(c.prototype),E.AsyncIterator=c,E.async=function(e,t,n,o){var i=new c(r(e,t,n,o));return E.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},s(R),R[k]="Generator",R.toString=function(){return"[object Generator]"},E.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},E.values=m,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(h),!e)for(var t in this)"t"===t.charAt(0)&&g.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=v)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=v),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=g.call(o,"catchLoc"),u=g.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,T):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),T},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),h(n),T}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;h(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:m(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=v),T}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,function(){return this}(),n(191))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){m&&h&&(m=!1,h.length?p=h.concat(p):b=-1,p.length&&u())}function u(){if(!m){var e=o(a);m=!0;for(var t=p.length;t;){for(h=p,p=[];++b<t;)h&&h[b].run();b=-1,t=p.length}h=null,m=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var l,d,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var h,p=[],m=!1,b=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||m||o(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t){"use strict";function n(e){return function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var i=e.apply(this,n);if(!r(i))return i;var a=n.length;if(0!==a&&"function"==typeof n[a-1]){var u=n[a-1];i.then(function(e){return u(null,e)},function(e){return u(e,null)})}}}function r(e){return!!e&&"function"==typeof e.then}function o(){return"undefined"==typeof navigator||navigator.onLine}function i(){return!o()}function a(e,t){return new Promise(function(n){setTimeout(n,e,t)})}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;return function r(){for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return e.apply(void 0,i).catch(function(e){if(--t<0)throw e;return a(c(n,t)).then(function(){return r.apply(void 0,i)})})}}function s(e){return e*(1+(2*Math.random()-1)*p)}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return s(e*Math.pow(2,t-1))}function l(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i="/data/";t||(i+=encodeURIComponent(n)+"/"),""!==r&&(i+=encodeURIComponent(r));var a=d(o);return""!==a&&(i+="?"+a),i}function d(e){if(!e)return"";var t="";for(var n in e)""!==t&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]);return t}function f(e){var t=e.indexOf("?");t<0&&(t=e.length);var n={},r=e.indexOf("#");if(r<0&&(r=e.length),r<t)return n;var o=e.slice(t+1,r);if(""===o)return n;for(var i=o.split("&"),a=0;a<i.length;a++){var u=i[a].split("=");if(0!==u.length&&""!==u[0]){var s=decodeURIComponent(u[0]);if(!n.hasOwnProperty(s))if(1===u.length)n[s]=!0;else{if(2!==u.length)throw new Error("Malformed URL");n[s]=decodeURIComponent(u[1])}}}return n}function h(e){-1===m.indexOf(e)&&(m.push(e),console.warn("cozy-client-js",e))}Object.defineProperty(t,"__esModule",{value:!0}),t.unpromiser=n,t.isPromise=r,t.isOnline=o,t.isOffline=i,t.sleep=a,t.retry=u,t.getFuzzedDelay=s,t.getBackedoffDelay=c,t.createPath=l,t.encodeQuery=d,t.decodeQuery=f,t.warn=h;var p=.3,m=[]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.LocalStorage=function(){function e(t,r){n(this,e),t||"undefined"==typeof window||(t=window.localStorage),this.storage=t,this.prefix=r||"cozy:oauth:"}return r(e,[{key:"save",value:function(e,t){var n=this;return new Promise(function(r){n.storage.setItem(n.prefix+e,JSON.stringify(t)),r(t)})}},{key:"load",value:function(e){var t=this;return new Promise(function(n){var r=t.storage.getItem(t.prefix+e);r?n(JSON.parse(r)):n()})}},{key:"delete",value:function(e){var t=this;return new Promise(function(n){return n(t.storage.removeItem(t.prefix+e))})}},{key:"clear",value:function(){var e=this;return new Promise(function(t){for(var n=e.storage,r=0;r<n.length;r++){var o=n.key(r);0===o.indexOf(e.prefix)&&n.removeItem(o)}t()})}}]),e}(),t.MemoryStorage=function(){function e(){n(this,e),this.hash=Object.create(null)}return r(e,[{key:"save",value:function(e,t){return this.hash[e]=t,Promise.resolve(t)}},{key:"load",value:function(e){return Promise.resolve(this.hash[e])}},{key:"delete",value:function(e){var t=delete this.hash[e];return Promise.resolve(t)}},{key:"clear",value:function(){return this.hash=Object.create(null),Promise.resolve()}}]),e}()},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){return new Promise(function(e,t){if("undefined"==typeof window)return t(new Error("getV2Token should be used in browser"));if(!window.parent)return t(new Error("getV2Token should be used in iframe"));if(!window.parent.postMessage)return t(new Error("getV2Token should be used in modern browser"));var n=window.location.origin,r={action:"getToken"},o=null,u=function n(r){var i=void 0;try{i=new a({appName:r.data.appName,token:r.data.token})}catch(e){return void t(e)}window.removeEventListener("message",n),clearTimeout(o),e({client:null,token:i})};window.addEventListener("message",u,!1),window.parent.postMessage(r,n),o=setTimeout(function(){t(new Error("No response from parent iframe after 3s"))},i)})}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.getAppToken=r;var i=3e3,a=t.AppToken=function(){function e(t){n(this,e),this.appName=t.appName||"",this.token=t.token||""}return o(e,[{key:"toAuthHeader",value:function(){return"Basic "+btoa(this.appName+":"+this.token)}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return t||(t=e._clientParams),t instanceof E?t:new E(t)}function i(e,t){var n=o(e,t);return n.isRegistered()?Promise.reject(new Error("Client already registered")):(0,_.cozyFetchJSON)(e,"POST","/auth/register",n.toRegisterJSON(),{disableAuth:!0}).then(function(e){return new E(e)})}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=o(e,t);if(!r.isRegistered())return Promise.reject(new Error("Client not registered"));var i=r.toRegisterJSON();return i.client_id=r.clientID,n&&(i.client_secret=r.clientSecret),(0,_.cozyFetchJSON)(e,"PUT","/auth/register/"+r.clientID,i,{manualAuthCredentials:{token:r}}).then(function(e){return c(e,r)})}function u(e,t){var n=o(e,t);return n.isRegistered()?(0,_.cozyFetchJSON)(e,"DELETE","/auth/register/"+n.clientID,null,{manualAuthCredentials:{token:n}}):Promise.reject(new Error("Client not registered"))}function s(e,t){var n=o(e,t);return n.isRegistered()?(0,g.isOffline)()?Promise.resolve(n):(0,_.cozyFetchJSON)(e,"GET","/auth/register/"+n.clientID,null,{manualAuthCredentials:{token:n}}).then(function(e){return c(e,n)}).catch(function(e){if(_.FetchError.isUnauthorized(e)||_.FetchError.isNotFound(e))throw new Error("Client has been revoked");throw e}):Promise.reject(new Error("Client not registered"))}function c(e,t){var n=new E(e);return!!t&&""!==t.registrationAccessToken&&""===n.registrationAccessToken&&(n.registrationAccessToken=t.registrationAccessToken),n}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(t instanceof E||(t=new E(t)),!t.isRegistered())throw new Error("Client not registered");var r=b(),o={client_id:t.clientID,redirect_uri:t.redirectURI,state:r,response_type:"code",scope:n.join(" ")};return{url:e._url+"/auth/authorize?"+(0,g.encodeQuery)(o),state:r}}function d(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!n)return Promise.reject(new Error("Missing state value"));var o=m(r);return null===o?Promise.reject(new Error("Missing states from current URL")):n!==o.state?Promise.reject(new Error("Given state does not match url query state")):p(e,t,null,{grant_type:"authorization_code",code:o.code})}function f(e,t,n){return p(e,t,n,{grant_type:"refresh_token",refresh_token:n.refreshToken})}function h(e,t,n,r){function o(o){if(u++>0)throw o;return t.clear().then(function(){return h(e,t,n,r)})}function a(){return t.clear().then(function(){return i(e,n)}).then(function(r){var o=l(e,r,n.scopes),i=o.url,a=o.state;return t.save(S,{client:r,url:i,state:a})})}if(arguments.length>4&&void 0!==arguments[4]&&arguments[4])return t.clear().then(function(){return h(e,t,n,r,!1)});var u=0;return Promise.all([t.load(k),t.load(S)]).then(function(n){var i=v(n,2),u=i[0],c=i[1];if(u){var l=void 0,f=void 0;try{l=new E(u.client),f=new x(u.token)}catch(e){return o(e)}return s(e,l).then(function(e){return{client:e,token:f}}).catch(function(e){if(_.FetchError.isUnauthorized(e)||_.FetchError.isNotFound(e))throw new Error("Client has been revoked");return{client:l,token:f}})}var h=void 0;h=c?Promise.resolve(c):a();var p=void 0,m=void 0,b=void 0;return h.then(function(e){return p=e.client,m=e.state,Promise.resolve(r(p,e.url))}).then(function(t){return d(e,p,m,t)}).then(function(e){b=e}).then(function(){return t.delete(S)}).then(function(){return{client:p,token:b}})}).then(function(e){return t.save(k,e)},function(e){if(_.FetchError.isUnauthorized(e))return o(e);throw e})}function p(e,t,n,r){if(t instanceof E||(t=new E(t)),!t.isRegistered())return Promise.reject(new Error("Client not registered"));var o=(0,g.encodeQuery)(Object.assign({},r,{client_id:t.clientID,client_secret:t.clientSecret}));return(0,_.cozyFetchJSON)(e,"POST","/auth/access_token",o,{disableAuth:null===n,dontRetry:!0,manualAuthCredentials:{client:t,token:n},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){return e.refreshToken=e.refreshToken||r.refresh_token,new x(e)})}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";""===e&&"undefined"!=typeof window&&(e=window.location.href);var t=(0,g.decodeQuery)(e);return t.hasOwnProperty("state")?{state:t.state,code:t.access_code}:null}function b(){var e=void 0;if("undefined"!=typeof window&&void 0!==window.crypto&&"function"==typeof window.crypto.getRandomValues)e=new Uint8Array(w),window.crypto.getRandomValues(e);else try{e=n(!function(){var e=new Error('Cannot find module "crypto"');throw e.code="MODULE_NOT_FOUND",e}()).randomBytes(w)}catch(e){}if(!e){e=new Array(w);for(var t=0;t<e.length;t++)e[t]=Math.floor(255*Math.random())}return btoa(String.fromCharCode.apply(null,e)).replace(/=+$/,"").replace(/\//g,"_").replace(/\+/g,"-")}Object.defineProperty(t,"__esModule",{value:!0}),t.AppToken=t.AccessToken=t.Client=t.StateKey=t.CredsKey=void 0;var v=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.client=o,t.registerClient=i,t.updateClient=a,t.unregisterClient=u,t.getClient=s,t.getAuthCodeURL=l,t.getAccessToken=d,t.refreshToken=f,t.oauthFlow=h;var g=n(192),_=n(196),w=16,k=t.CredsKey="creds",S=t.StateKey="state",E=t.Client=function(){function e(t){if(r(this,e),this.clientID=t.clientID||t.client_id||"",this.clientSecret=t.clientSecret||t.client_secret||"",this.registrationAccessToken=t.registrationAccessToken||t.registration_access_token||"",t.redirect_uris?this.redirectURI=t.redirect_uris[0]||"":this.redirectURI=t.redirectURI||"",this.softwareID=t.softwareID||t.software_id||"",this.softwareVersion=t.softwareVersion||t.software_version||"",this.clientName=t.clientName||t.client_name||"",this.clientKind=t.clientKind||t.client_kind||"",this.clientURI=t.clientURI||t.client_uri||"",this.logoURI=t.logoURI||t.logo_uri||"",this.policyURI=t.policyURI||t.policy_uri||"",!this.registrationAccessToken){if(""===this.redirectURI)throw new Error("Missing redirectURI field");if(""===this.softwareID)throw new Error("Missing softwareID field");if(""===this.clientName)throw new Error("Missing clientName field")}}return y(e,[{key:"isRegistered",value:function(){return""!==this.clientID}},{key:"toRegisterJSON",value:function(){return{redirect_uris:[this.redirectURI],software_id:this.softwareID,software_version:this.softwareVersion,client_name:this.clientName,client_kind:this.clientKind,client_uri:this.clientURI,logo_uri:this.logoURI,policy_uri:this.policyURI}}},{key:"toAuthHeader",value:function(){return"Bearer "+this.registrationAccessToken}}]),e}(),x=t.AccessToken=function(){function e(t){r(this,e),this.tokenType=t.tokenType||t.token_type,this.accessToken=t.accessToken||t.access_token,this.refreshToken=t.refreshToken||t.refresh_token,this.scope=t.scope}return y(e,[{key:"toAuthHeader",value:function(){return"Bearer "+this.accessToken}},{key:"toBasicAuth",value:function(){return"user:"+this.accessToken+"@"}}]),e}();t.AppToken=function(){function e(t){r(this,e),this.token=t.token||""}return y(e,[{key:"toAuthHeader",value:function(){return"Bearer "+this.token}},{key:"toBasicAuth",value:function(){return"user:"+this.token+"@"}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.fullpath(t).then(function(t){var r=void 0;return r=n.disableAuth?fetch(t,n):n.manualAuthCredentials?u(e,t,n,n.manualAuthCredentials):e.authorize().then(function(r){return u(e,t,n,r)}),r.then(d)})}function u(e,t,n,r){return r&&(n.headers=n.headers||{},n.headers.Authorization=r.token.toAuthHeader()),n.credentials="include",Promise.all([e.isV2(),fetch(t,n)]).then(function(o){var i=h(o,2),a=i[0],s=i[1];if(400!==s.status&&401!==s.status||a||!r||n.dontRetry)return s;var c=r.client,l=r.token;return c&&l instanceof p.AccessToken?(n.dontRetry=!0,(0,m.retry)(function(){return(0,p.refreshToken)(e,c,l)},3)().then(function(t){return e.saveCredentials(c,t)}).then(function(r){return u(e,t,n,r)})):s})}function s(e,t,n,r){return l(e,t,n,r,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}).then(f)}function c(e,t,n,r){return l(e,t,n,r,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}).then(function(e){return f(e,!1)})}function l(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};o.method=t;var i=o.headers=o.headers||{};return i.Accept="application/json","GET"!==t&&"HEAD"!==t&&void 0!==r&&(i["Content-Type"]?o.body=r:(i["Content-Type"]="application/json",o.body=JSON.stringify(r))),a(e,n,o)}function d(e){if(e.ok)return e;var t=void 0,n=e.headers.get("content-type");return t=n&&n.indexOf("json")>=0?e.json():e.text(),t.then(function(t){throw new y(e,t)})}function f(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.headers.get("content-type");if(!n||n.indexOf("json")<0)return e.text(function(t){throw new y(e,new Error("Response is not JSON: "+t))});var r=e.json();return 0===n.indexOf("application/vnd.api+json")&&t?r.then(v.default):r}Object.defineProperty(t,"__esModule",{value:!0}),t.FetchError=void 0;var h=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.cozyFetch=a,t.cozyFetchJSON=s,t.cozyFetchRawJSON=c;var p=n(195),m=n(192),b=n(197),v=function(e){return e&&e.__esModule?e:{default:e}}(b),y=t.FetchError=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Error.captureStackTrace&&Error.captureStackTrace(i,i.constructor),i.name="FetchError",i.response=e,i.url=e.url,i.status=e.status,i.reason=n,Object.defineProperty(i,"message",{value:n.message||("string"==typeof n?n:JSON.stringify(n))}),i}return i(t,e),t}(Error);y.isUnauthorized=function(e){return"FetchError"===e.name&&401===e.status},y.isNotFound=function(e){return"FetchError"===e.name&&404===e.status}},function(e,t){"use strict";function n(e){return e.type+"/"+e.id}function r(e,t){return e[n(t)]}function o(e,t,o){var i={_id:e.id,_type:e.type,_rev:e.meta&&e.meta.rev,links:Object.assign({},e.links,o),attributes:e.attributes,relations:function(n){var o=e.relationships[n];if(void 0!==o&&void 0!==o.data)return null===o.data?null:Array.isArray(o.data)?o.data.map(function(e){return r(t,e)}):r(t,o.data)}};return e.relationships&&(i.relationships=e.relationships),t[n(e)]=i,i}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.included;return Array.isArray(n)&&n.forEach(function(n){return o(n,t,e.links)}),Array.isArray(e.data)?e.data.map(function(n){return o(n,t,e.links)}):o(e.data,t,e.links)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,n){"use strict";function r(e,t,n){return e.isV2().then(function(r){t=(0,f.normalizeDoctype)(e,r,t),r&&(n.docType=t);var i=(0,d.createPath)(e,r,t,n._id),a=n._id?"PUT":"POST";return delete n._id,(0,h.cozyFetchJSON)(e,a,i,n).then(function(n){return r?o(e,t,n._id):n.data})})}function o(e,t,n){return e.isV2().then(function(r){if(t=(0,f.normalizeDoctype)(e,r,t),!n)return Promise.reject(new Error("Missing id parameter"));var o=(0,d.createPath)(e,r,t,n);return(0,h.cozyFetchJSON)(e,"GET",o).then(function(e){return r?Object.assign(e,{_rev:p}):e})})}function i(e,t,n){return n instanceof Array?0===n.length?Promise.resolve({}):e.isV2().then(function(r){if(r)return Promise.reject(new Error("findMany is not available on v2"));var o=(0,d.createPath)(e,r,t,"_all_docs",{include_docs:!0});return(0,h.cozyFetchJSON)(e,"POST",o,{keys:n}).then(function(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,a=e.rows[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s=u.key,c=u.doc,l=u.error;t[s]=l?{error:l}:{doc:c}}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return t}).catch(function(e){if(404!==e.status)return Promise.reject(e);var t={},r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){t[a.value]={error:e}}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return t})}):Promise.reject(new Error("Parameter ids must be a non-empty array"))}function a(e,t){return e.isV2().then(function(n){if(n)return Promise.reject(new Error("findAll is not available on v2"));var r=(0,d.createPath)(e,n,t,"_all_docs",{include_docs:!0});return(0,h.cozyFetchJSON)(e,"POST",r,{}).then(function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=e.rows[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s=u.doc;s._id.match(/_design\//)||t.push(s)}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return t}).catch(function(e){if(404===e.status)return[];throw e})})}function u(e,t,n){return e.isV2().then(function(r){t=(0,f.normalizeDoctype)(e,r,t);var o=(0,d.createPath)(e,r,t,"_changes",n);return(0,h.cozyFetchJSON)(e,"GET",o)})}function s(e,t,n,r){return e.isV2().then(function(i){t=(0,f.normalizeDoctype)(e,i,t);var a=n._id,u=n._rev;if(!a)return Promise.reject(new Error("Missing _id field in passed document"));if(!i&&!u)return Promise.reject(new Error("Missing _rev field in passed document"));r=i?Object.assign({_id:a},r):Object.assign({_id:a,_rev:u},r);var s=(0,d.createPath)(e,i,t,a);return(0,h.cozyFetchJSON)(e,"PUT",s,r).then(function(n){return i?o(e,t,a):n.data})})}function c(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3;return e.isV2().then(function(a){return t=(0,f.normalizeDoctype)(e,a,t),o(e,t,n).then(function(o){return s(e,t,o,Object.assign({_id:n},o,r))}).catch(function(o){if(i>0)return c(e,t,n,r,i-1);throw o})})}function l(e,t,n){return e.isV2().then(function(r){t=(0,f.normalizeDoctype)(e,r,t);var o=n._id,i=n._rev;if(!o)return Promise.reject(new Error("Missing _id field in passed document"));if(!r&&!i)return Promise.reject(new Error("Missing _rev field in passed document"));var a=r?null:{rev:i},u=(0,d.createPath)(e,r,t,o,a);return(0,h.cozyFetchJSON)(e,"DELETE",u).then(function(e){return r?{id:o,rev:p}:e})})}Object.defineProperty(t,"__esModule",{value:!0}),t.create=r,t.find=o,t.findMany=i,t.findAll=a,t.changesFeed=u,t.update=s,t.updateAttributes=c,t._delete=l;var d=n(192),f=n(199),h=n(196),p="stack-v2-no-rev"},function(e,t,n){"use strict";function r(e,t,n){var r=-1!==n.indexOf(".");if(t&&r){var i=u[n];return i||n.replace(/\./g,"-")}if(!t&&!r){var s=a[n];if(s)return(0,o.warn)("you are using a non-qualified doctype "+n+" assumed to be "+s),s;throw new Error("Doctype "+n+" should be qualified.")}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.DOCTYPE_FILES=void 0,t.normalizeDoctype=r;var o=n(192),i=t.DOCTYPE_FILES="io.cozy.files",a={files:i,folder:i,contact:"io.cozy.contacts",event:"io.cozy.events",track:"io.cozy.labs.music.track",playlist:"io.cozy.labs.music.playlist"},u={};Object.keys(a).forEach(function(e){u[a[e]]=e})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n){return e.isV2().then(function(r){if(t=(0,w.normalizeDoctype)(e,r,t),!Array.isArray(n)||0===n.length)throw new Error("defineIndex fields should be a non-empty array");return r?u(e,t,n):s(e,t,n)})}function i(e,t,n){return e.isV2().then(function(r){if(!t)throw new Error("query should be passed the indexRef");return r?c(e,t,n):l(e,t,n)})}function a(e,t,n){var r=d(t,n);return(0,k.cozyFetchRawJSON)(e,"POST","/files/_find",r).then(function(e){return n.wholeResponse?e:e.docs})}function u(e,t,n){var r="by"+n.map(f).join(""),o={map:h(t,n),reduce:"_count"},i="/request/"+t+"/"+r+"/";return(0,k.cozyFetchJSON)(e,"PUT",i,o).then(function(){return{doctype:t,type:"mapreduce",name:r,fields:n}})}function s(e,t,n){var r=(0,_.createPath)(e,!1,t,"_index"),o={index:{fields:n}};return(0,k.cozyFetchJSON)(e,"POST",r,o).then(function(r){var o={doctype:t,type:"mango",name:r.id,fields:n};if("exists"===r.result)return o;var i={};i[n[0]]={$gt:null};var a=d(o,{selector:i}),u=(0,_.createPath)(e,!1,o.doctype,"_find");return(0,k.cozyFetchJSON)(e,"POST",u,a).then(function(){return o}).catch(function(){return(0,_.sleep)(1e3).then(function(){return(0,k.cozyFetchJSON)(e,"POST",u,a)}).then(function(){return o}).catch(function(){return(0,_.sleep)(500).then(function(){return o})})})})}function c(e,t,n){if("mapreduce"!==t.type)throw new Error("query indexRef should be the return value of defineIndexV2");n.fields&&(0,_.warn)("query fields will be ignored on v2");var r="/request/"+t.doctype+"/"+t.name+"/",o=v(t,n);return(0,k.cozyFetchJSON)(e,"POST",r,o).then(function(e){return e.map(function(e){return e.value})})}function l(e,t,n){var r=d(t,n),o=(0,_.createPath)(e,!1,t.doctype,"_find");return(0,k.cozyFetchJSON)(e,"POST",o,r).then(function(e){return n.wholeResponse?e:e.docs})}function d(e,t){if("mango"!==e.type)throw new Error("indexRef should be the return value of defineIndexV3");var n={use_index:e.name,fields:t.fields,selector:t.selector,limit:t.limit,skip:t.skip,since:t.since,sort:t.sort};return t.descending&&(n.sort=e.fields.map(function(e){return r({},e,"desc")})),n}function f(e){return e.charAt(0).toUpperCase()+e.slice(1)}function h(e,t){return t="["+t.map(function(e){return"doc."+e}).join(",")+"]",x.replace("DOCTYPEPLACEHOLDER",e.toLowerCase()).replace("FIELDSPLACEHOLDER",t)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"$eq";if("object"!==(void 0===e?"undefined":g(e)))return[[t,n,e]];var r=Object.keys(e);if(0===r.length)throw new Error("empty selector");return r.reduce(function(n,r){if(-1!==E.indexOf(r))throw new Error("cozy-client-js does not support mango logic ops");return-1!==S.indexOf(r)?n.concat(p(e[r],t,r)):n.concat(p(e[r],t.concat(r),"$eq"))},[])}function m(e){return p(e).reduce(function(e,t){var n=y(t,3),r=n[0],o=n[1],i=n[2],a=r.join(".");return e[a]=e[a]||{},e[a][o]=i,e},{})}function b(e,t){var n=e.$eq,r=C,o=A,i=void 0;if(n)return t.startkey.push(n),t.endkey.push(n),!1;if(n=e.$gt)throw new Error("operator $gt (strict greater than) not supported");return n=e.$gte,n&&(r=n),n=e.$lte,n&&(o=n,i=!0),n=e.$lt,n&&(o=n,i=!1),t.startkey.push(r),t.endkey.push(o),void 0!==i&&(t.inclusive_end=i),!0}function v(e,t){var n={startkey:[],endkey:[],reduce:!1},r=null,o=m(t.selector);return e.fields.forEach(function(e){var t=o[e];if(t&&null!=r)throw new Error("Selector on field "+e+", but not on "+r+" which is higher in index fields.");if(t){t.used=!0;b(t,n)&&(r=e)}else null==r&&(r=e,n.endkey.push(A))}),Object.keys(o).forEach(function(e){if(!o[e].used)throw new Error("Cant apply selector on "+e+", it is not in index")}),t.descending&&(n={descending:!0,reduce:!1,startkey:n.endkey,endkey:n.startkey,inclusive_end:n.inclusive_end}),n}Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.defineIndex=o,t.query=i,t.queryFiles=a,t.parseSelector=p,t.normalizeSelector=m,t.makeMapReduceQuery=v;var _=n(192),w=n(199),k=n(196),S=["$eq","$gt","$gte","$lt","$lte"],E=["$or","$and","$not"],x=function(e){"DOCTYPEPLACEHOLDER"===e.docType.toLowerCase()&&emit(FIELDSPLACEHOLDER,e)}.toString().replace(/ /g,"").replace(/\n/g,""),A={"":""},C=null},function(e,t,n){"use strict";function r(e,t,n,r,o){if(!t)throw new Error("missing data argument");t.buffer&&t.buffer instanceof ArrayBuffer&&(t=t.buffer);var i="undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer,a="undefined"!=typeof File&&t instanceof File,u="undefined"!=typeof Blob&&t instanceof Blob,s=!0===t.readable&&"function"==typeof t.pipe,c="string"==typeof t;if(!(i||a||u||s||c))throw new Error("invalid data type");var l=o||{},d=l.contentType,f=l.checksum,h=l.lastModifiedDate,p=l.ifMatch;return d||(i?d=F:a?(d=t.type||F,h||(h=t.lastModifiedDate)):u?d=t.type||F:s?d=F:"string"==typeof t&&(d="text/plain")),h&&"string"==typeof h&&(h=new Date(h)),(0,M.cozyFetch)(e,r,{method:n,headers:{"Content-Type":d,"Content-MD5":f||"",Date:h?h.toGMTString():"","If-Match":p||""},body:t}).then(function(e){var t=e.json();return e.ok?t.then(L.default):t.then(function(e){throw e})})}function o(e,t,n){var o=n||{},i=o.name,a=o.dirID,u=o.executable;if(i||"string"!=typeof t.name||(i=t.name),"string"!=typeof i||""===i)throw new Error("missing name argument");return void 0===u&&(u=!1),r(e,t,"POST","/files/"+encodeURIComponent(a||"")+"?Name="+encodeURIComponent(i)+"&Type=file&Executable="+u,n)}function i(e,t){var n=t||{},r=n.name,o=n.dirID,i=n.lastModifiedDate;if("string"!=typeof r||""===r)throw new Error("missing name argument");i&&"string"==typeof i&&(i=new Date(i));var a="/files/"+encodeURIComponent(o||""),u="?Name="+encodeURIComponent(r)+"&Type=directory";return(0,M.cozyFetchJSON)(e,"POST",""+a+u,void 0,{headers:{Date:i?i.toGMTString():""}})}function a(e,t,n){if(n&&!n.attributes)throw new Error("Malformed parent directory");var r=(n._id===N?"":n.attributes.path)+"/"+t;return e.files.statByPath(r||"/").catch(function(r){var o=JSON.parse(r.message),i=o.errors;if(i&&i.length&&"404"===i[0].status)return e.files.createDirectory({name:t,dirID:n&&n._id});throw i})}function u(e,t){var n=t.split("/").filter(function(e){return""!==e}),r=e.files.statById(N);return n.length?n.reduce(function(t,n){return t.then(function(t){return a(e,n,t)})},r):r}function s(e,t,n,o){return r(e,n,"PUT","/files/"+encodeURIComponent(t),o)}function c(e,t,n,r){if(!t||"object"!==(void 0===t?"undefined":R(t)))throw new Error("missing attrs argument");var o=r||{},i=o.ifMatch,a={data:{attributes:t}};return(0,M.cozyFetchJSON)(e,"PATCH",n,a,{headers:{"If-Match":i||""}})}function l(e,t,n,r){return c(e,n,"/files/"+encodeURIComponent(t),r)}function d(e,t,n,r){return c(e,n,"/files/metadata?Path="+encodeURIComponent(t),r)}function f(e,t,n){if("string"!=typeof t||""===t)throw new Error("missing id argument");var r=n||{},o=r.ifMatch;return(0,M.cozyFetchJSON)(e,"DELETE","/files/"+encodeURIComponent(t),void 0,{headers:{"If-Match":o||""}})}function h(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(n&&e.offline.hasDatabase(z.DOCTYPE_FILES)){var o=e.offline.getDatabase(z.DOCTYPE_FILES);return Promise.all([o.get(t),o.find(Object.assign({selector:{dir_id:t}},r))]).then(function(n){var r=D(n,2),o=r[0],i=r[1];return t===N&&(i.docs=i.docs.filter(function(e){return e._id!==q})),i=j(i.docs.map(function(t){return O(P(e,t))})),O(P(e,o,i))})}var i=0===Object.keys(r).length?"":"?"+T(r);return(0,M.cozyFetchJSON)(e,"GET","/files/"+encodeURIComponent(t)+i).then(O)}function p(e,t){return(0,M.cozyFetchJSON)(e,"GET","/files/metadata?Path="+encodeURIComponent(t)).then(O)}function m(e,t){return(0,M.cozyFetch)(e,"/files/download/"+encodeURIComponent(t))}function b(e,t){return(0,M.cozyFetch)(e,"/files/download?Path="+encodeURIComponent(t))}function v(e){var t=e.links&&e.links.related;if(!t)throw new Error("No related link in server response");return t}function y(e,t){return(0,M.cozyFetchJSON)(e,"POST","/files/downloads?Path="+encodeURIComponent(t)).then(v)}function g(e,t){return(0,M.cozyFetchJSON)(e,"POST","/files/downloads?Id="+encodeURIComponent(t)).then(v)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];if(!n||!n.attributes)throw Error("Folder should be valid with an attributes.path property");return""+(n.attributes.path.endsWith("/")?n.attributes.path:n.attributes.path+"/")+t.name}function w(e,t,n){return t?(0,M.cozyFetchJSON)(e,"POST","/permissions?codes=email",{data:{type:"io.cozy.permissions",attributes:{permissions:{files:{type:"io.cozy.files",verbs:["GET"],values:[t],selector:"referenced_by"},collection:{type:n,verbs:["GET"],values:[t]}}}}}).then(function(e){return{sharecode:"sharecode="+e.attributes.codes.email,id:"id="+t}}):Promise.reject(Error("An id should be provided to create a share link"))}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"files",r={type:"io.cozy.archives",attributes:{name:n,files:t}};return(0,M.cozyFetchJSON)(e,"POST","/files/archive",{data:r}).then(v)}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"files",r={type:"io.cozy.archives",attributes:{name:n,ids:t}};return(0,M.cozyFetchJSON)(e,"POST","/files/archive",{data:r}).then(v)}function E(e){return(0,M.cozyFetchJSON)(e,"GET","/files/trash")}function x(e){return(0,M.cozyFetchJSON)(e,"DELETE","/files/trash")}function A(e,t){return(0,M.cozyFetchJSON)(e,"POST","/files/trash/"+encodeURIComponent(t))}function C(e,t,n){var r=n||{},o=r.ifMatch;return(0,M.cozyFetchJSON)(e,"DELETE","/files/trash/"+encodeURIComponent(t),void 0,{headers:{"If-Match":o||""}})}function O(e){return e.isDir="directory"===e.attributes.type,e}function T(e){var t=[];for(var n in e)t.push("page["+encodeURIComponent(n)+"]="+encodeURIComponent(e[n]));return t.join("&")}function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=JSON.parse(JSON.stringify(t));return delete r._id,delete r._rev,{_id:t._id,_rev:t._rev,_type:z.DOCTYPE_FILES,attributes:r,relationships:{contents:{data:n,meta:{count:n.length}}},relations:function(e){if("contents"===e)return n}}}function j(e){var t=e.filter(function(e){return"directory"===e.attributes.type}),n=e.filter(function(e){return"directory"!==e.attributes.type}),r=function(e){return e.sort(function(e,t){return e.attributes.name.localeCompare(t.attributes.name)})};return r(t).concat(r(n))}Object.defineProperty(t,"__esModule",{value:!0}),t.TRASH_DIR_ID=t.ROOT_DIR_ID=void 0;var D=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.create=o,t.createDirectory=i,t.createDirectoryByPath=u,t.updateById=s,t.updateAttributesById=l,t.updateAttributesByPath=d,t.trashById=f,t.statById=h,t.statByPath=p,t.downloadById=m,t.downloadByPath=b,t.getDownloadLinkByPath=y,t.getDownloadLinkById=g,t.getFilePath=_,t.getCollectionShareLink=w,t.getArchiveLinkByPaths=k,t.getArchiveLinkByIds=S,t.listTrash=E,t.clearTrash=x,t.restoreById=A,t.destroyById=C;var M=n(196),I=n(197),L=function(e){return e&&e.__esModule?e:{default:e}}(I),z=n(199),N=t.ROOT_DIR_ID="io.cozy.files.root-dir",q=t.TRASH_DIR_ID="io.cozy.files.trash-dir",F="application/octet-stream"},function(e,t,n){"use strict";function r(e,t,n,r,o){var i=t.ownerDocument;if(!i)throw new Error("Cannot retrieve document object from given element");var a=i.defaultView;if(!a)throw new Error("Cannot retrieve window object from document");var u=i.createElement("iframe");"function"==typeof o&&(u.onload=o),u.setAttribute("src",e),u.classList.add(s),t.appendChild(u),u.focus();var l=e.split("/",3).join("/");return new Promise(function(e,o){var i=!1,s=function s(d){if(d.origin===l){if("load"===d.data.type)return void(console.warn&&console.warn("Cozy Client ignored MessageEvent having data.type `load`."));if(d.data.type==="intent-"+n._id+":ready")return i=!0,d.source.postMessage(r,d.origin);if(i&&d.data.type==="intent-"+n._id+":resize")return["width","height","maxWidth","maxHeight"].forEach(function(e){d.data.transition&&(t.style.transition=d.data.transition),d.data.dimensions[e]&&(t.style[e]=d.data.dimensions[e]+"px")}),!0;a.removeEventListener("message",s);var f=function(){u.parentNode&&u.parentNode.removeChild(u)};return i&&d.data.type==="intent-"+n._id+":exposeFrameRemoval"?e({removeIntentFrame:f,doc:d.data.document}):(f(),d.data.type==="intent-"+n._id+":error"?o(c.deserialize(d.data.error)):i&&d.data.type==="intent-"+n._id+":cancel"?e(null):i&&d.data.type==="intent-"+n._id+":done"?e(d.data.document):i?void 0:o(new Error("Unexpected handshake message from intent service")))}};a.addEventListener("message",s)})}function o(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(!t)throw new Error('Misformed intent, "action" property must be provided');if(!n)throw new Error('Misformed intent, "type" property must be provided');var a=(0,u.cozyFetchJSON)(e,"POST","/intents",{data:{type:"io.cozy.intents",attributes:{action:t,type:n,data:o,permissions:i}}});return a.start=function(e,t){return a.then(function(n){var i=n.attributes.services&&n.attributes.services[0];return i?r(i.href,e,n,o,t):Promise.reject(new Error("Unable to find a service"))})},a}function i(e,t){return new Promise(function(n,r){var o=function r(o){o.origin===e.attributes.client&&(t.removeEventListener("message",r),n(o.data))};t.addEventListener("message",o),t.parent.postMessage({type:"intent-"+e._id+":ready"},e.attributes.client)})}function a(e,t,n){if(!(n=n||"undefined"!=typeof window&&window))throw new Error("Intent service should be used in browser");if(!(t=t||n.location.search.split("=")[1]))throw new Error("Cannot retrieve intent from URL");return(0,u.cozyFetchJSON)(e,"GET","/intents/"+t).then(function(e){var t=!1,r=function(r){if(t)throw new Error("Intent service has already been terminated");t=!0,n.parent.postMessage(r,e.attributes.client)},o=function(r,o){if(t)throw new Error("Intent service has been terminated");var i={type:"intent-"+e._id+":resize",dimensions:r.element?Object.assign({},r,{maxHeight:r.element.clientHeight,maxWidth:r.element.clientWidth}):r,transition:o};n.parent.postMessage(i,e.attributes.client)},a=function(){r({type:"intent-"+e._id+":cancel"})};return n.addEventListener("unload",function(){t||a()}),i(e,n).then(function(t){return{getData:function(){return t},getIntent:function(){return e},terminate:function(n){return r(t&&t.exposeIntentFrameRemoval?{type:"intent-"+e._id+":exposeFrameRemoval",document:n}:{type:"intent-"+e._id+":done",document:n})},throw:function(t){return r({type:"intent-"+e._id+":error",error:c.serialize(t)})},resizeClient:o,cancel:a}})})}Object.defineProperty(t,"__esModule",{value:!0}),t.create=o,t.createService=a;var u=n(196),s="coz-intent",c=function(){function e(e,t){var n=Object.assign(t,e);return["name","message"].reduce(function(n,r){return e[r]&&(t[r]=e[r]),n},n)}return{serialize:function(t){return e(t,{})},deserialize:function(t){return e(t,new Error(t.message))}}}()},function(e,t,n){"use strict";function r(e,t){return(0,a.cozyFetchJSON)(e,"GET","/jobs/queue/"+t).then(function(e){return e.length})}function o(e,t){return(0,a.cozyFetchJSON)(e,"GET","/jobs/queue/"+t)}function i(e,t,n,r){return(0,a.cozyFetchJSON)(e,"POST","/jobs/queue/"+t,{data:{type:"io.cozy.jobs",attributes:{arguments:n||{},options:r||{}}}})}Object.defineProperty(t,"__esModule",{value:!0}),t.count=r,t.queued=o,t.create=i;var a=n(196)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.options,r=void 0===n?{}:n,o=t.doctypes,i=void 0===o?[]:o,a=!0,u=!1,s=void 0;try{for(var c,d=i[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){l(e,c.value,r)}}catch(e){u=!0,s=e}finally{try{!a&&d.return&&d.return()}finally{if(u)throw s}}}function i(e,t){return e._offline=e._offline||[],e._offline[t]=e._offline[t]||{},e._offline[t]}function a(e){return e._offline=e._offline||[],Object.keys(e._offline)}function u(e,t){return void 0!==s(e,t)}function s(e,t){return i(e,t).database}function c(e,t,n){return e._offline[t].database=n,s(e,t)}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return z||(R.default.plugin(I.default),"undefined"!=typeof pouchdbAdapterCordovaSqlite&&R.default.plugin(pouchdbAdapterCordovaSqlite),z=!0),u(e,t)?Promise.resolve(s(e,t)):(c(e,t,new R.default(t,n)),h(e,t).then(function(){return s(e,t)}))}function d(e,t){return u(e,t)?C(e,t).then(function(){return w(e,t)}).then(function(){return s(e,t).destroy()}).then(function(n){return c(e,t,void 0),n}):Promise.resolve(!1)}function f(e){var t=a(e),n=function(t){return d(e,t)};return Promise.all(t.map(n))}function h(e,t){return t===T.DOCTYPE_FILES?s(e,t).createIndex({index:{fields:["dir_id"]}}):Promise.resolve()}function p(e,t){return void 0!==m(e,t)}function m(e,t){return i(e,t).replication}function b(e,t,n){return e._offline[t].replication=n,m(e,t)}function v(e,t){return e.authorize().then(function(n){var r=n.token.toBasicAuth();return(e._url+"/data/"+t).replace("//","//"+r)})}function y(e,t){return i(e,t).replicationPromise}function g(e,t,n){return e._offline[t].replicationPromise=n,y(e,t)}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return g(e,t,new Promise(function(r,o){return u(e,t)||l(e,t),!0===n.live?o(new Error("You can't use `live` option with Cozy couchdb.")):(0,j.isOffline)()?(o(L),void(n.onError&&n.onError(L))):void v(e,t).then(function(i){return b(e,t,s(e,t).replicate.from(i,n).on("complete",function(o){b(e,t,void 0),r(o),n.onComplete&&n.onComplete(o)}).on("error",function(r){"code=400, message=Expired token"===r.error?e.authorize().then(function(r){var o=r.client,i=r.token;(0,P.refreshToken)(e,o,i).then(function(t){return e.saveCredentials(o,t)}).then(function(r){return _(e,t,n)})}):(console.warn("ReplicateFromCozy '"+t+"' Error:"),console.warn(r),b(e,t,void 0),o(r),n.onError&&n.onError(r))}))})}))}function w(e,t){return s(e,t)&&p(e,t)?new Promise(function(n){try{y(e,t).then(function(){n()}),m(e,t).cancel()}catch(e){n()}}):Promise.resolve()}function k(e){var t=a(e),n=function(t){return w(e,t)};return Promise.all(t.map(n))}function S(e,t){return i(e,t).interval}function E(e,t,n){e._offline[t].interval=n}function x(e,t){return void 0!==S(e,t)}function A(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return x(e,t)?S(e,t):E(e,t,setInterval(function(){if((0,j.isOffline)())return void console.info(L);p(e,t)||_(e,t,r)},1e3*n))}function C(e,t){return x(e,t)&&(clearInterval(S(e,t)),E(e,t,void 0)),p(e,t)?w(e,t):Promise.resolve()}function O(e){var t=a(e),n=function(t){return C(e,t)};return Promise.all(t.map(n))}Object.defineProperty(t,"__esModule",{value:!0}),t.replicationOfflineError=void 0,t.init=o,t.getDoctypes=a,t.hasDatabase=u,t.getDatabase=s,t.setDatabase=c,t.createDatabase=l,t.destroyDatabase=d,t.destroyAllDatabase=f,t.hasReplication=p,t.replicateFromCozy=_,t.stopReplication=w,t.stopAllReplication=k,t.hasRepeatedReplication=x,t.startRepeatedReplication=A,t.stopRepeatedReplication=C,t.stopAllRepeatedReplication=O;var T=n(199),P=n(195),j=n(192),D=n(205),R=r(D),M=n(217),I=r(M),L=t.replicationOfflineError="Replication abort, your device is actually offline.",z=!1},function(e,t,n){(function(t){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}function i(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}function a(e){if(e instanceof ArrayBuffer)return i(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}function u(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&Qr.call(n)==Zr}function s(e){var t,n,r;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=s(e[n]);return t}if(e instanceof Date)return e.toISOString();if(o(e))return a(e);if(!u(e))return e;t={};for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=s(e[n]);void 0!==i&&(t[n]=i)}return t}function c(e){var t=!1;return Yr(function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)})}function l(e){return Yr(function(t){t=s(t);var n=this,r="function"==typeof t[t.length-1]&&t.pop(),o=new Jr(function(r,o){var i;try{var a=c(function(e,t){e?o(e):r(t)});t.push(a),i=e.apply(n,t),i&&"function"==typeof i.then&&r(i)}catch(e){o(e)}});return r&&o.then(function(e){r(null,e)},r),o})}function d(e,t){function n(e,t,n){if(eo.enabled){for(var r=[e.name,t],o=0;o<n.length-1;o++)r.push(n[o]);eo.apply(null,r);var i=n[n.length-1];n[n.length-1]=function(n,r){var o=[e.name,t];o=o.concat(n?["error",n]:["success",r]),eo.apply(null,o),i(n,r)}}}return l(Yr(function(r){if(this._closed)return Jr.reject(new Error("database is closed"));if(this._destroyed)return Jr.reject(new Error("database is destroyed"));var o=this;return n(o,e,r),this.taskqueue.isReady?t.apply(this,r):new Jr(function(t,n){o.taskqueue.addTask(function(i){i?n(i):t(o[e].apply(o,r))})})}))}function f(e,t){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];i in e&&(n[i]=e[i])}return n}function h(e){return"$"+e}function p(e){return e.substring(1)}function m(){this._store={}}function b(e){if(this._store=new m,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}function v(e){return e}function y(e){return[{ok:e}]}function g(e,t,n){function r(){var e=[];h.forEach(function(t){t.docs.forEach(function(n){e.push({id:t.id,docs:[n]})})}),n(null,{results:e})}function o(){++d===l&&r()}function i(e,t,n){h[e]={id:t,docs:n},o()}function a(){if(!(m>=p.length)){var e=Math.min(m+oo,p.length),t=p.slice(m,e);u(t,m),m+=t.length}}function u(n,r){n.forEach(function(n,o){var u=r+o,s=c.get(n),l=f(s[0],["atts_since","attachments"]);l.open_revs=s.map(function(e){return e.rev}),l.open_revs=l.open_revs.filter(v);var d=v;0===l.open_revs.length&&(delete l.open_revs,d=y),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in t&&(l[e]=t[e])}),e.get(n,l,function(e,t){var r;r=e?[{error:e}]:d(t),i(u,n,r),a()})})}var s=t.docs,c=new no;s.forEach(function(e){c.has(e.id)?c.get(e.id).push(e):c.set(e.id,[e])});var l=c.size,d=0,h=new Array(l),p=[];c.forEach(function(e,t){p.push(t)});var m=0;a()}function _(){return"undefined"!=typeof chrome&&void 0!==chrome.storage&&void 0!==chrome.storage.local}function w(){return ro}function k(e){_()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):w()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}function S(){Wr.EventEmitter.call(this),this._listeners={},k(this)}function E(e){if("undefined"!==console&&e in console){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function x(e,t){return e=parseInt(e,10)||0,t=parseInt(t,10),t!==t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}function A(e){var t=0;return e||(t=2e3),x(e,t)}function C(e,t){E("info","The above "+e+" is totally normal. "+t)}function O(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}function T(e,t){function n(t){for(var n in e)"function"!=typeof e[n]&&(this[n]=e[n]);void 0!==t&&(this.reason=t)}return n.prototype=O.prototype,new n(t)}function P(e){if("object"!=typeof e){var t=e;e=po,e.data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}function j(e,t,n){try{return!e(t,n)}catch(e){var r="Filter function threw: "+e.toString();return T(yo,r)}}function D(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(r){r.doc||(r.doc={});var o=n&&j(e.filter,r.doc,t);if("object"==typeof o)return o;if(o)return!1;if(e.include_docs){if(!e.attachments)for(var i in r.doc._attachments)r.doc._attachments.hasOwnProperty(i)&&(r.doc._attachments[i].stub=!0)}else delete r.doc;return!0}}function R(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}function M(){}function I(e){var t;if(e?"string"!=typeof e?t=T(lo):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=T(ho)):t=T(fo),t)throw t}function L(e,t){return"listenerCount"in e?e.listenerCount(t):Wr.EventEmitter.listenerCount(e,t)}function z(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function N(e){var t=z(e);return t?t.join("/"):null}function q(e){for(var t=Oo.exec(e),n={},r=14;r--;){var o=xo[r],i=t[r]||"",a=-1!==["user","password"].indexOf(o);n[o]=a?decodeURIComponent(i):i}return n[Ao]={},n[xo[12]].replace(Co,function(e,t,r){t&&(n[Ao][t]=r)}),n}function F(e,t,n){return new Jr(function(r,o){e.get(t,function(i,a){if(i){if(404!==i.status)return o(i);a={}}var u=a._rev,s=n(a);if(!s)return r({updated:!1,rev:u});s._id=t,s._rev=u,r(U(e,s,n))})})}function U(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(r){if(409!==r.status)throw r;return F(e,t._id,n)})}function B(e){return 0|Math.random()*e}function Y(e,t){t=t||To.length;var n="",r=-1;if(e){for(;++r<e;)n+=To[B(t)];return n}for(;++r<36;)switch(r){case 8:case 13:case 18:case 23:n+="-";break;case 19:n+=To[3&B(16)|8];break;default:n+=To[B(16)]}return n}function H(e){for(var t,n,r,o,i=e.rev_tree.slice();o=i.pop();){var a=o.ids,u=a[2],s=o.pos;if(u.length)for(var c=0,l=u.length;c<l;c++)i.push({pos:s+1,ids:u[c]});else{var d=!!a[1].deleted,f=a[0];t&&!(r!==d?r:n!==s?n<s:t<f)||(t=f,n=s,r=d)}}return n+"-"+t}function W(e,t){for(var n,r=e.slice();n=r.pop();)for(var o=n.pos,i=n.ids,a=i[2],u=t(0===a.length,o,i[0],n.ctx,i[1]),s=0,c=a.length;s<c;s++)r.push({pos:o+1,ids:a[s],ctx:u})}function V(e,t){return e.pos-t.pos}function G(e){var t=[];W(e,function(e,n,r,o,i){e&&t.push({rev:n+"-"+r,pos:n,opts:i})}),t.sort(V).reverse();for(var n=0,r=t.length;n<r;n++)delete t[n].pos;return t}function X(e){for(var t=H(e),n=G(e.rev_tree),r=[],o=0,i=n.length;o<i;o++){var a=n[o];a.rev===t||a.opts.deleted||r.push(a.rev)}return r}function $(e){var t=[];return W(e.rev_tree,function(e,n,r,o,i){"available"!==i.status||e||(t.push(n+"-"+r),i.status="missing")}),t}function K(e){for(var t,n=[],r=e.slice();t=r.pop();){var o=t.pos,i=t.ids,a=i[0],u=i[1],s=i[2],c=0===s.length,l=t.history?t.history.slice():[];l.push({id:a,opts:u}),c&&n.push({pos:o+1-l.length,ids:l});for(var d=0,f=s.length;d<f;d++)r.push({pos:o+1,ids:s[d],history:l})}return n.reverse()}function J(e,t){return e.pos-t.pos}function Q(e,t,n){for(var r,o=0,i=e.length;o<i;)r=o+i>>>1,n(e[r],t)<0?o=r+1:i=r;return o}function Z(e,t,n){var r=Q(e,t,n);e.splice(r,0,t)}function ee(e,t){for(var n,r,o=t,i=e.length;o<i;o++){var a=e[o],u=[a.id,a.opts,[]];r?(r[2].push(u),r=u):n=r=u}return n}function te(e,t){return e[0]<t[0]?-1:1}function ne(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var o=n.pop(),i=o.tree1,a=o.tree2;(i[1].status||a[1].status)&&(i[1].status="available"===i[1].status||"available"===a[1].status?"available":"missing");for(var u=0;u<a[2].length;u++)if(i[2][0]){for(var s=!1,c=0;c<i[2].length;c++)i[2][c][0]===a[2][u][0]&&(n.push({tree1:i[2][c],tree2:a[2][u]}),s=!0);s||(r="new_branch",Z(i[2],a[2][u],te))}else r="new_leaf",i[2][0]=a[2][u]}return{conflicts:r,tree:e}}function re(e,t,n){var r,o=[],i=!1,a=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var u=0,s=e.length;u<s;u++){var c=e[u];if(c.pos===t.pos&&c.ids[0]===t.ids[0])r=ne(c.ids,t.ids),o.push({pos:c.pos,ids:r.tree}),i=i||r.conflicts,a=!0;else if(!0!==n){var l=c.pos<t.pos?c:t,d=c.pos<t.pos?t:c,f=d.pos-l.pos,h=[],p=[];for(p.push({ids:l.ids,diff:f,parent:null,parentIdx:null});p.length>0;){var m=p.pop();if(0!==m.diff)for(var b=m.ids[2],v=0,y=b.length;v<y;v++)p.push({ids:b[v],diff:m.diff-1,parent:m.ids,parentIdx:v});else m.ids[0]===d.ids[0]&&h.push(m)}var g=h[0];g?(r=ne(g.ids,d.ids),g.parent[2][g.parentIdx]=r.tree,o.push({pos:l.pos,ids:l.ids}),i=i||r.conflicts,a=!0):o.push(c)}else o.push(c)}return a||o.push(t),o.sort(J),{tree:o,conflicts:i||"internal_node"}}function oe(e,t){for(var n,r=K(e),o={},i=0,a=r.length;i<a;i++){for(var u=r[i],s=u.ids,c=Math.max(0,s.length-t),l={pos:u.pos+c,ids:ee(s,c)},d=0;d<c;d++){var f=u.pos+d+"-"+s[d].id;o[f]=!0}n=n?re(n,l,!0).tree:[l]}return W(n,function(e,t,n){delete o[t+"-"+n]}),{tree:n,revs:Object.keys(o)}}function ie(e,t,n){var r=re(e,t),o=oe(r.tree,n);return{tree:o.tree,stemmedRevs:o.revs,conflicts:r.conflicts}}function ae(e,t){for(var n,r=e.slice(),o=t.split("-"),i=parseInt(o[0],10),a=o[1];n=r.pop();){if(n.pos===i&&n.ids[0]===a)return!0;for(var u=n.ids[2],s=0,c=u.length;s<c;s++)r.push({pos:n.pos+1,ids:u[s]})}return!1}function ue(e){return e.ids}function se(e,t){t||(t=H(e));for(var n,r=t.substring(t.indexOf("-")+1),o=e.rev_tree.map(ue);n=o.pop();){if(n[0]===r)return!!n[1].deleted;o=o.concat(n[2])}}function ce(e){return/^_local/.test(e)}function le(e,t){for(var n,r=t.rev_tree.slice();n=r.pop();){var o=n.pos,i=n.ids,a=i[0],u=i[1],s=i[2],c=0===s.length,l=n.history?n.history.slice():[];if(l.push({id:a,pos:o,opts:u}),c)for(var d=0,f=l.length;d<f;d++){var h=l[d],p=h.pos+"-"+h.id;if(p===e)return o+"-"+a}for(var m=0,b=s.length;m<b;m++)r.push({pos:o+1,ids:s[m],history:l})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}function de(e){return Xr('"use strict";\nreturn '+e+";",{})}function fe(e){var t=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n");return Xr(t,{})}function he(e,t){try{e.emit("change",t)}catch(e){E("error",'Error in .on("change", function):',e)}}function pe(e,t,n){function r(){o.cancel()}Wr.EventEmitter.call(this);var o=this;this.db=e,t=t?s(t):{};var i=t.complete=c(function(t,n){t?L(o,"error")>0&&o.emit("error",t):o.emit("complete",n),o.removeAllListeners(),e.removeListener("destroyed",r)});n&&(o.on("complete",function(e){n(null,e)}),o.on("error",n)),e.once("destroyed",r),t.onChange=function(e){o.isCancelled||he(o,e)};var a=new Jr(function(e,n){t.complete=function(t,r){t?n(t):e(r)}});o.once("cancel",function(){e.removeListener("destroyed",r),t.complete(null,{status:"cancelled"})}),this.then=a.then.bind(a),this.catch=a.catch.bind(a),this.then(function(e){i(null,e)},i),e.taskqueue.isReady?o.doChanges(t):e.taskqueue.addTask(function(e){e?t.complete(e):o.isCancelled?o.emit("cancel"):o.doChanges(t)})}function me(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=G(t.rev_tree).map(function(e){return{rev:e.rev}}));var o={id:t.id,changes:r,doc:e};return se(t,e._rev)&&(o.deleted=!0),n.conflicts&&(o.doc._conflicts=X(t),o.doc._conflicts.length||delete o.doc._conflicts),o}function be(e,t){return e<t?-1:e>t?1:0}function ve(e){return function(t,n){t||n[0]&&n[0].error?e(t||n[0]):e(null,n.length?n[0]:n)}}function ye(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),o=0;o<r.length;o++){var i=r[o];n._attachments[i]=f(n._attachments[i],["data","digest","content_type","length","revpos","stub"])}}}function ge(e,t){var n=be(e._id,t._id);return 0!==n?n:be(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function _e(e){var t={},n=[];return W(e,function(e,r,o,i){var a=r+"-"+o;return e&&(t[a]=0),void 0!==i&&n.push({from:i,to:a}),a}),n.reverse(),n.forEach(function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])}),t}function we(e,t,n){var r="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;if(t.descending&&r.reverse(),!r.length)return e._allDocs({limit:0},n);var o={offset:t.skip};return Jr.all(r.map(function(n){var r=ao({key:n,deleted:"ok"},t);return["limit","skip","keys"].forEach(function(e){delete r[e]}),new Jr(function(t,i){e._allDocs(r,function(e,r){if(e)return i(e);o.total_rows=r.total_rows,t(r.rows[0]||{key:n,error:"not_found"})})})})).then(function(e){return o.rows=e,o})}function ke(e){var t=e._compactionQueue[0],n=t.opts,r=t.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(t){t&&t.last_seq&&(n.last_seq=t.last_seq),e._compact(n,function(t,n){t?r(t):r(null,n),Gr(function(){e._compactionQueue.shift(),e._compactionQueue.length&&ke(e)})})})}function Se(e){return"_"===e.charAt(0)&&e+"is not a valid attachment name, attachment names cannot start with '_'"}function Ee(){Wr.EventEmitter.call(this)}function xe(){this.isReady=!1,this.failed=!1,this.queue=[]}function Ae(e,t){var n=e.match(/([a-z\-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=Oe.adapters,o=Oe.preferredAdapters,i=Oe.prefix,a=t.adapter;if(!a)for(var u=0;u<o.length;++u){a=o[u];{if(!("idb"===a&&"websql"in r&&w()&&localStorage["_pouch__websqldb_"+i+e]))break;E("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.')}}var s=r[a];return{name:s&&"use_prefix"in s&&!s.use_prefix?e:i+e,adapter:a}}function Ce(e){function t(){e.removeListener("closed",r),e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.removeListener("closed",r),e.emit("destroyed")}function r(){e.removeListener("destroyed",t),o.delete(e.name)}var o=e.constructor._destructionListeners;e.once("destroyed",t),e.once("closed",r),o.has(e.name)||o.set(e.name,[]),o.get(e.name).push(n)}function Oe(e,t){if(!(this instanceof Oe))return new Oe(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(t=e,e=t.name,delete t.name),this.__opts=t=s(t),n.auto_compaction=t.auto_compaction,n.prefix=Oe.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var r=(t.prefix||"")+e,o=Ae(r,t);if(t.name=o.name,t.adapter=t.adapter||o.adapter,n.name=e,n._adapter=t.adapter,Hr("pouchdb:adapter")("Picked adapter: "+t.adapter),!Oe.adapters[t.adapter]||!Oe.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);Ee.call(n),n.taskqueue=new xe,n.adapter=t.adapter,Oe.adapters[t.adapter].call(n,t,function(e){if(e)return n.taskqueue.fail(e);Ce(n),n.emit("created",n),Oe.emit("created",n.name),n.taskqueue.ready(n)})}function Te(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}function Pe(e){if(!/^\d+\-./.test(e))return T(ko);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function je(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,o=[r[0],t,[]],i=1,a=r.length;i<a;i++)o=[r[i],{status:"missing"},[o]];return[{pos:n,ids:o}]}function De(e,t){var n,r,o,i={status:"available"};if(e._deleted&&(i.deleted=!0),t)if(e._id||(e._id=Y()),r=Y(32,16).toLowerCase(),e._rev){if(o=Pe(e._rev),o.error)return o;e._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[r,i,[]]]]}],n=o.prefix+1}else e._rev_tree=[{pos:1,ids:[r,i,[]]}],n=1;else if(e._revisions&&(e._rev_tree=je(e._revisions,i),n=e._revisions.start,r=e._revisions.ids[0]),!e._rev_tree){if(o=Pe(e._rev),o.error)return o;n=o.prefix,r=o.id,e._rev_tree=[{pos:n,ids:[r,i,[]]}]}I(e._id),e._rev=n+"-"+r;var a={metadata:{},data:{}};for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var s="_"===u[0];if(s&&!Do[u]){var c=T(vo,u);throw c.message=vo.message+": "+u,c}s&&!Ro[u]?a.metadata[u.slice(1)]=e[u]:a.data[u]=e[u]}return a}function Re(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,o=0;o<e.length;o+=1)r.append(e[o]);return r.getBlob(t.type)}}function Me(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}function Ie(e,t){return Re([Me(e)],{type:t})}function Le(e,t){return Ie(Mo(e),t)}function ze(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return t}function Ne(e,t){if("undefined"==typeof FileReader)return t(ze((new FileReaderSync).readAsArrayBuffer(e)));var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(r)return t(n);t(ze(n))},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function qe(e,t){Ne(e,function(e){t(e)})}function Fe(e,t){qe(e,function(e){t(Io(e))})}function Ue(e,t){if("undefined"==typeof FileReader)return t((new FileReaderSync).readAsArrayBuffer(e));var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}function Be(e){return Io(e)}function Ye(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}function He(e,t,n,r,o){(n>0||r<t.size)&&(t=Ye(t,n,r)),Ue(t,function(t){e.append(t),o()})}function We(e,t,n,r,o){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),o()}function Ve(e,t){function n(){Lo(o)}function r(){var e=l.end(!0),n=Be(e);t(n),l.destroy()}function o(){var t=c*u,o=t+u;c++,c<s?d(l,e,t,o,n):d(l,e,t,o,r)}var i="string"==typeof e,a=i?e.length:e.size,u=Math.min(zo,a),s=Math.ceil(a/u),c=0,l=i?new $r:new $r.ArrayBuffer,d=i?We:He;o()}function Ge(e){return $r.hash(e)}function Xe(e){try{return Mo(e)}catch(e){var t=T(mo,"Attachment is not a valid base64 string");return{error:t}}}function $e(e,t,n){var r=Xe(e.data);if(r.error)return n(r.error);e.length=r.length,e.data="blob"===t?Ie(r,e.content_type):"base64"===t?Io(r):r,Ve(r,function(t){e.digest="md5-"+t,n()})}function Ke(e,t,n){Ve(e.data,function(r){e.digest="md5-"+r,e.length=e.data.size||e.data.length||0,"binary"===t?qe(e.data,function(t){e.data=t,n()}):"base64"===t?Fe(e.data,function(t){e.data=t,n()}):n()})}function Je(e,t,n){if(e.stub)return n();"string"==typeof e.data?$e(e,t,n):Ke(e,t,n)}function Qe(e,t,n){function r(){i++,e.length===i&&(o?n(o):n())}if(!e.length)return n();var o,i=0;e.forEach(function(e){function n(e){o=e,++a===i.length&&r()}var i=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],a=0;if(!i.length)return r();for(var u in e.data._attachments)e.data._attachments.hasOwnProperty(u)&&Je(e.data._attachments[u],t,n)})}function Ze(e,t,n,r,o,i,a,u){if(ae(t.rev_tree,n.metadata.rev))return r[o]=n,i();var s=t.winningRev||H(t),c="deleted"in t?t.deleted:se(t,s),l="deleted"in n.metadata?n.metadata.deleted:se(n.metadata),d=/^1-/.test(n.metadata.rev);if(c&&!l&&u&&d){var f=n.data;f._rev=s,f._id=n.metadata.id,n=De(f,u)}var h=ie(t.rev_tree,n.metadata.rev_tree[0],e);if(u&&(c&&l||!c&&"new_leaf"!==h.conflicts||c&&!l&&"new_branch"===h.conflicts)){var p=T(co);return r[o]=p,i()}var m=n.metadata.rev;n.metadata.rev_tree=h.tree,n.stemmedRevs=h.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var b,v=H(n.metadata),y=se(n.metadata,v),g=c===y?0:c<y?-1:1;b=m===v?y:se(n.metadata,m),a(n,v,y,b,!0,g,o,i)}function et(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}function tt(e,t,n,r,o,i,a,u,s){function c(e,t,n){var r=H(e.metadata),o=se(e.metadata,r);if("was_delete"in u&&o)return i[t]=T(so,"deleted"),n();if(d&&et(e)){var s=T(co);return i[t]=s,n()}a(e,r,o,o,!1,o?0:1,t,n)}function l(){++h===p&&s&&s()}e=e||1e3;var d=u.new_edits,f=new no,h=0,p=t.length;t.forEach(function(e,t){if(e._id&&ce(e._id)){var r=e._deleted?"_removeLocal":"_putLocal";return void n[r](e,{ctx:o},function(e,n){i[t]=e||n,l()})}var a=e.metadata.id;f.has(a)?(p--,f.get(a).push([e,t])):f.set(a,[[e,t]])}),f.forEach(function(t,n){function o(){++s<t.length?u():l()}function u(){var u=t[s],l=u[0],f=u[1];if(r.has(n))Ze(e,r.get(n),l,i,f,o,a,d);else{var h=ie([],l.metadata.rev_tree[0],e);l.metadata.rev_tree=h.tree,l.stemmedRevs=h.stemmedRevs||[],c(l,f,o)}}var s=0;u()})}function nt(e){try{return JSON.parse(e)}catch(t){return Kr.parse(e)}}function rt(e){try{return JSON.stringify(e)}catch(t){return Kr.stringify(e)}}function ot(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(T(_o,n,t.type))}}function it(e,t,n){return{data:rt(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function at(e){if(!e)return null;var t=nt(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function ut(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function st(e,t,n,r){n?r(e?"string"!=typeof e?e:Le(e,t):Re([""],{type:t})):e?"string"!=typeof e?Ne(e,function(e){r(Io(e))}):r(e):r("")}function ct(e,t,n,r){function o(){++u===a.length&&r&&r()}function i(e,t){var r=e._attachments[t],i=r.digest;n.objectStore(Uo).get(i).onsuccess=function(e){r.body=e.target.result.body,o()}}var a=Object.keys(e._attachments||{});if(!a.length)return r&&r();var u=0;a.forEach(function(n){t.attachments&&t.include_docs?i(e,n):(e._attachments[n].stub=!0,o())})}function lt(e,t){return Jr.all(e.map(function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return Jr.all(n.map(function(n){var r=e.doc._attachments[n];if("body"in r){var o=r.body,i=r.content_type;return new Jr(function(a){st(o,i,t,function(t){e.doc._attachments[n]=ao(f(r,["digest","content_type"]),{data:t}),a()})})}}))}}))}function dt(e,t,n){function r(){--c||o()}function o(){i.length&&i.forEach(function(e){s.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::",!1,!1)).onsuccess=function(t){t.target.result||u.delete(e)}})}var i=[],a=n.objectStore(Fo),u=n.objectStore(Uo),s=n.objectStore(Bo),c=e.length;e.forEach(function(e){var n=a.index("_doc_id_rev"),o=t+"::"+e;n.getKey(o).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return r();a.delete(t),s.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];i.push(n),s.delete(t.primaryKey),t.continue()}else r()}}})}function ft(e,t,n){try{return{txn:e.transaction(t,n)}}catch(e){return{error:e}}}function ht(e,t,n,r,o,i){function a(){var e=[qo,Fo,Uo,Ho,Bo,Yo],t=ft(o,e,"readwrite");if(t.error)return i(t.error);g=t.txn,g.onabort=ot(i),g.ontimeout=ot(i),g.oncomplete=d,_=g.objectStore(qo),w=g.objectStore(Fo),k=g.objectStore(Uo),S=g.objectStore(Bo),E=g.objectStore(Yo),E.get(Yo).onsuccess=function(e){A=e.target.result,c()},h(function(e){if(e)return L=!0,i(e);l()})}function u(){D=!0,c()}function s(){tt(e.revs_limit,C,r,I,g,M,p,n,u)}function c(){A&&D&&(A.docCount+=R,E.put(A))}function l(){function e(){++n===C.length&&s()}function t(t){var n=at(t.target.result);n&&I.set(n.id,n),e()}if(C.length)for(var n=0,r=0,o=C.length;r<o;r++){var i=C[r];if(i._id&&ce(i._id))e();else{var a=_.get(i.metadata.id);a.onsuccess=t}}}function d(){L||(Vo.notify(r._meta.name),i(null,M))}function f(e,t){k.get(e).onsuccess=function(n){if(n.target.result)t();else{var r=T(So,"unknown stub attachment with digest "+e);r.status=412,t(r)}}}function h(e){function t(){++o===n.length&&e(r)}var n=[];if(C.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r,o=0;n.forEach(function(e){f(e,function(e){e&&!r&&(r=e),t()})})}function p(e,t,n,r,o,i,a,u){e.metadata.winningRev=t,e.metadata.deleted=n;var s=e.data;if(s._id=e.metadata.id,s._rev=e.metadata.rev,r&&(s._deleted=!0),s._attachments&&Object.keys(s._attachments).length)return b(e,t,n,o,a,u);R+=i,c(),m(e,t,n,o,a,u)}function m(e,t,n,o,i,a){function u(i){var a=e.stemmedRevs||[];o&&r.auto_compaction&&(a=a.concat($(e.metadata))),a&&a.length&&dt(a,e.metadata.id,g),d.seq=i.target.result;var u=it(d,t,n);_.put(u).onsuccess=c}function s(e){e.preventDefault(),e.stopPropagation(),w.index("_doc_id_rev").getKey(l._doc_id_rev).onsuccess=function(e){w.put(l,e.target.result).onsuccess=u}}function c(){M[i]={ok:!0,id:d.id,rev:d.rev},I.set(e.metadata.id,e.metadata),v(e,d.seq,a)}var l=e.data,d=e.metadata;l._doc_id_rev=d.id+"::"+d.rev,delete l._id,delete l._rev;var f=w.put(l);f.onsuccess=u,f.onerror=s}function b(e,t,n,r,o,i){function a(){c===l.length&&m(e,t,n,r,o,i)}function u(){c++,a()}var s=e.data,c=0,l=Object.keys(s._attachments);l.forEach(function(n){var r=e.data._attachments[n];if(r.stub)c++,a();else{var o=r.data;delete r.data,r.revpos=parseInt(t,10);y(r.digest,o,u)}})}function v(e,t,n){function r(){++o===i.length&&n()}var o=0,i=Object.keys(e.data._attachments||{});if(!i.length)return n();for(var a=0;a<i.length;a++)!function(n){var o=e.data._attachments[n].digest,i=S.put({seq:t,digestSeq:o+"::"+t});i.onsuccess=r,i.onerror=function(e){e.preventDefault(),e.stopPropagation(),r()}}(i[a])}function y(e,t,n){k.count(e).onsuccess=function(r){if(r.target.result)return n();var o={digest:e,body:t};k.put(o).onsuccess=n}}for(var g,_,w,k,S,E,x,A,C=t.docs,O=0,P=C.length;O<P;O++){var j=C[O];j._id&&ce(j._id)||(j=C[O]=De(j,n.new_edits),j.error&&!x&&(x=j))}if(x)return i(x);var D=!1,R=0,M=new Array(C.length),I=new no,L=!1,z=r._meta.blobSupport?"blob":"base64";Qe(C,z,function(e){if(e)return i(e);a()})}function pt(e,t,n,r,o){function i(e){l=e.target.result,c&&o(c,l,d)}function a(e){c=e.target.result,l&&o(c,l,d)}function u(){if(!c.length)return o();var n,u=c[c.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(u,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return o()}else n=IDBKeyRange.lowerBound(u,!0);t=n,c=null,l=null,e.getAll(t,r).onsuccess=i,e.getAllKeys(t,r).onsuccess=a}function s(e){var t=e.target.result;if(!t)return o();o([t.key],[t.value],t)}var c,l,d,f="function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&r>1&&!n;f?(d={continue:u},e.getAll(t,r).onsuccess=i,e.getAllKeys(t,r).onsuccess=a):n?e.openCursor(t,"prev").onsuccess=s:e.openCursor(t).onsuccess=s}function mt(e,t,n){function r(e){var t=e.target.result;t?(o.push(t.value),t.continue()):n({target:{result:o}})}if("function"==typeof e.getAll)return void(e.getAll(t).onsuccess=n);var o=[];e.openCursor(t).onsuccess=r}function bt(e,t,n,r,o){try{if(e&&t)return o?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return o?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return o?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(e){return{error:e}}return null}function vt(e,t,n){function r(t,n,r){var o=t.id+"::"+r;x.get(o).onsuccess=function(r){if(n.doc=ut(r.target.result),e.conflicts){var o=X(t);o.length&&(n.doc._conflicts=o)}ct(n.doc,e,_)}}function o(t,n){var o={id:n.id,key:n.id,value:{rev:t}},i=n.deleted;"ok"===e.deleted?(A.push(o),i?(o.value.deleted=!0,o.doc=null):e.include_docs&&r(n,o,t)):!i&&h--<=0&&(A.push(o),e.include_docs&&r(n,o,t))}function i(e){for(var t=0,n=e.length;t<n&&A.length!==p;t++){var r=e[t],i=at(r);o(i.winningRev,i)}}function a(e,t,n){n&&(i(t),A.length<p&&n.continue())}function u(t){var n=t.target.result;e.descending&&(n=n.reverse()),i(n)}function s(){n(null,{total_rows:w,offset:e.skip,rows:A})}function c(){e.attachments?lt(A,e.binary).then(s):s()}var l="startkey"in e&&e.startkey,d="endkey"in e&&e.endkey,f="key"in e&&e.key,h=e.skip||0,p="number"==typeof e.limit?e.limit:-1,m=!1!==e.inclusive_end,b=bt(l,d,m,f,e.descending),v=b&&b.error;if(v&&("DataError"!==v.name||0!==v.code))return n(T(_o,v.name,v.message));var y=[qo,Fo,Yo];e.attachments&&y.push(Uo);var g=ft(t,y,"readonly");if(g.error)return n(g.error);var _=g.txn;_.oncomplete=c,_.onabort=ot(n);var w,k=_.objectStore(qo),S=_.objectStore(Fo),E=_.objectStore(Yo),x=S.index("_doc_id_rev"),A=[];return E.get(Yo).onsuccess=function(e){w=e.target.result.docCount},v||0===p?void 0:-1===p?mt(k,b,u):void pt(k,b,e.descending,p+h,a)}function yt(e){return new Jr(function(t){var n=Re([""]);e.objectStore(Wo).put(n,"key").onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}}).catch(function(){return!1})}function gt(e,t){e.objectStore(qo).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}function _t(e,t,n,r){try{e(t,n)}catch(t){r.emit("error",t)}}function wt(){!Go&&Xo.length&&(Go=!0,Xo.shift()())}function kt(e,t,n){Xo.push(function(){e(function(e,r){_t(t,e,r,n),Go=!1,Gr(function(){wt(n)})})}),wt()}function St(e,t,n,r){function o(t,n,r){function o(t,n){var r=e.processChange(n,t,e);f=r.seq=t.seq;var o=w(r);if("object"==typeof o)return e.complete(o);o&&(_++,p&&g.push(r),e.attachments&&e.include_docs?ct(n,e,m,function(){lt([r],e.binary).then(function(){e.onChange(r)})}):e.onChange(r))}function i(){for(var e=0,t=u.length;e<t&&_!==h;e++){var n=u[e];if(n){o(s[e],n)}}_!==h&&r.continue()}if(r&&t.length){var u=new Array(t.length),s=new Array(t.length),c=0;n.forEach(function(e,n){a(ut(e),t[n],function(e,r){s[n]=e,u[n]=r,++c===t.length&&i()})})}}function i(e,t,n,r){if(n.seq!==t)return r();if(n.winningRev===e._rev)return r(n,e);var o=e._id+"::"+n.winningRev;y.get(o).onsuccess=function(e){r(n,ut(e.target.result))}}function a(e,t,n){if(d&&!d.has(e._id))return n();var r=k.get(e._id);if(r)return i(e,t,r,n);v.get(e._id).onsuccess=function(o){r=at(o.target.result),k.set(e._id,r),i(e,t,r,n)}}function u(){e.complete(null,{results:g,last_seq:f})}function c(){!e.continuous&&e.attachments?lt(g).then(u):u()}if(e=s(e),e.continuous){var l=n+":"+Y();return Vo.addListener(n,l,t,e),Vo.notify(n),{cancel:function(){Vo.removeListener(n,l)}}}var d=e.doc_ids&&new to(e.doc_ids);e.since=e.since||0;var f=e.since,h="limit"in e?e.limit:-1;0===h&&(h=1);var p;p="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var m,b,v,y,g=[],_=0,w=D(e),k=new no,S=[qo,Fo];e.attachments&&S.push(Uo);var E=ft(r,S,"readonly");if(E.error)return e.complete(E.error);m=E.txn,m.onabort=ot(e.complete),m.oncomplete=c,b=m.objectStore(Fo),v=m.objectStore(qo),y=b.index("_doc_id_rev"),pt(b,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,h,o)}function Et(e,t){var n=this;kt(function(t){xt(n,e,t)},t,n.constructor)}function xt(e,t,n){function r(e){var t=e.createObjectStore(qo,{keyPath:"id"});e.createObjectStore(Fo,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(Uo,{keyPath:"digest"}),e.createObjectStore(Yo,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(Wo),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore(Ho,{keyPath:"_id"});var n=e.createObjectStore(Bo,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}function o(e,t){var n=e.objectStore(qo);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var o=r.value,i=se(o);o.deletedOrLocal=i?"1":"0",n.put(o),r.continue()}else t()}}function i(e){e.createObjectStore(Ho,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function a(e,t){var n=e.objectStore(Ho),r=e.objectStore(qo),o=e.objectStore(Fo);r.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var a=i.value,u=a.id,s=ce(u),c=H(a);if(s){var l=u+"::"+c,d=u+"::",f=u+"::~",h=o.index("_doc_id_rev"),p=IDBKeyRange.bound(d,f,!1,!1),m=h.openCursor(p);m.onsuccess=function(e){if(m=e.target.result){var t=m.value;t._doc_id_rev===l&&n.put(t),o.delete(m.primaryKey),m.continue()}else r.delete(i.primaryKey),i.continue()}}else i.continue()}else t&&t()}}function u(e){var t=e.createObjectStore(Bo,{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}function s(e,t){var n=e.objectStore(Fo),r=e.objectStore(Uo),o=e.objectStore(Bo);r.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var r=n.value,i=n.primaryKey,a=Object.keys(r._attachments||{}),u={},s=0;s<a.length;s++)u[r._attachments[a[s]].digest]=!0;var c=Object.keys(u);for(s=0;s<c.length;s++){var l=c[s];o.put({seq:i,digestSeq:l+"::"+i})}n.continue()}}}function c(e){function t(e){return e.data?at(e):(e.deleted="1"===e.deletedOrLocal,e)}var n=e.objectStore(Fo),r=e.objectStore(qo);r.openCursor().onsuccess=function(e){function o(){var e=it(a,a.winningRev,a.deleted);r.put(e).onsuccess=function(){i.continue()}}var i=e.target.result;if(i){var a=t(i.value);if(a.winningRev=a.winningRev||H(a),a.seq)return o();!function(){var e=a.id+"::",t=a.id+"::",r=n.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,t)),i=0;r.onsuccess=function(e){var t=e.target.result;if(!t)return a.seq=i,o();var n=t.primaryKey;n>i&&(i=n),t.continue()}}()}}}var d=t.name,f=null;e._meta=null,e.type=function(){return"idb"},e._id=l(function(t){t(null,e._meta.instanceId)}),e._bulkDocs=function(n,r,o){ht(t,n,r,e,f,o)},e._get=function(e,t,n){function r(){n(a,{doc:o,metadata:i,ctx:u})}var o,i,a,u=t.ctx;if(!u){var s=ft(f,[qo,Fo,Uo],"readonly");if(s.error)return n(s.error);u=s.txn}u.objectStore(qo).get(e).onsuccess=function(e){if(!(i=at(e.target.result)))return a=T(so,"missing"),r();var n;if(t.rev)n=t.latest?le(t.rev,i):t.rev;else{n=i.winningRev;if(se(i))return a=T(so,"deleted"),r()}var s=u.objectStore(Fo),c=i.id+"::"+n;s.index("_doc_id_rev").get(c).onsuccess=function(e){if(o=e.target.result,o&&(o=ut(o)),!o)return a=T(so,"missing"),r();r()}}},e._getAttachment=function(e,t,n,r,o){var i;if(r.ctx)i=r.ctx;else{var a=ft(f,[qo,Fo,Uo],"readonly");if(a.error)return o(a.error);i=a.txn}var u=n.digest,s=n.content_type;i.objectStore(Uo).get(u).onsuccess=function(e){st(e.target.result.body,s,r.binary,function(e){o(null,e)})}},e._info=function(t){var n,r,o=ft(f,[Yo,Fo],"readonly");if(o.error)return t(o.error);var i=o.txn;i.objectStore(Yo).get(Yo).onsuccess=function(e){r=e.target.result.docCount},i.objectStore(Fo).openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},i.oncomplete=function(){t(null,{doc_count:r,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){vt(e,f,t)},e._changes=function(t){St(t,e,d,f)},e._close=function(e){f.close(),$o.delete(d),e()},e._getRevisionTree=function(e,t){var n=ft(f,[qo],"readonly");if(n.error)return t(n.error);n.txn.objectStore(qo).get(e).onsuccess=function(e){var n=at(e.target.result);n?t(null,n.rev_tree):t(T(so))}},e._doCompaction=function(e,t,n){var r=[qo,Fo,Uo,Bo],o=ft(f,r,"readwrite");if(o.error)return n(o.error);var i=o.txn;i.objectStore(qo).get(e).onsuccess=function(n){var r=at(n.target.result);W(r.rev_tree,function(e,n,r,o,i){var a=n+"-"+r;-1!==t.indexOf(a)&&(i.status="missing")}),dt(t,e,i);var o=r.winningRev,a=r.deleted;i.objectStore(qo).put(it(r,o,a))},i.onabort=ot(n),i.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=ft(f,[Ho],"readonly");if(n.error)return t(n.error);var r=n.txn,o=r.objectStore(Ho).get(e);o.onerror=ot(t),o.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(T(so))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var r=e._rev,o=e._id;e._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1";var i,a=t.ctx;if(!a){var u=ft(f,[Ho],"readwrite");if(u.error)return n(u.error);a=u.txn,a.onerror=ot(n),a.oncomplete=function(){i&&n(null,i)}}var s,c=a.objectStore(Ho);r?(s=c.get(o),s.onsuccess=function(o){var a=o.target.result;if(a&&a._rev===r){c.put(e).onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,i)}}else n(T(co))}):(s=c.add(e),s.onerror=function(e){n(T(co)),e.preventDefault(),e.stopPropagation()},s.onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,i)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var r=t.ctx;if(!r){var o=ft(f,[Ho],"readwrite");if(o.error)return n(o.error);r=o.txn,r.oncomplete=function(){i&&n(null,i)}}var i,a=e._id,u=r.objectStore(Ho),s=u.get(a);s.onerror=ot(n),s.onsuccess=function(r){var o=r.target.result;o&&o._rev===e._rev?(u.delete(a),i={ok:!0,id:a,rev:"0-0"},t.ctx&&n(null,i)):n(T(so))}},e._destroy=function(e,t){Vo.removeAllListeners(d);var n=Ko.get(d);n&&n.result&&(n.result.close(),$o.delete(d));var r=indexedDB.deleteDatabase(d);r.onsuccess=function(){Ko.delete(d),w()&&d in localStorage&&delete localStorage[d],t(null,{ok:!0})},r.onerror=ot(t)};var h=$o.get(d);if(h)return f=h.idb,e._meta=h.global,Gr(function(){n(null,e)});var p;p=t.storage?At(d,t.storage):indexedDB.open(d,No),Ko.set(d,p),p.onupgradeneeded=function(e){function t(){var e=d[f-1];f++,e&&e(l,t)}var n=e.target.result;if(e.oldVersion<1)return r(n);var l=e.currentTarget.transaction;e.oldVersion<3&&i(n),e.oldVersion<4&&u(n);var d=[o,a,s,c],f=e.oldVersion;t()},p.onsuccess=function(t){function r(){void 0!==u&&l&&(e._meta={name:d,instanceId:s,blobSupport:u},$o.set(d,{idb:f,global:e._meta}),n(null,e))}function o(){if(void 0!==a&&void 0!==i){var e=d+"_id";e in i?s=i[e]:i[e]=s=Y(),i.docCount=a,c.objectStore(Yo).put(i)}}f=t.target.result,f.onversionchange=function(){f.close(),$o.delete(d)},f.onabort=function(e){E("error","Database has a global failure",e.target.error),f.close(),$o.delete(d)};var i,a,u,s,c=f.transaction([Yo,Wo,qo],"readwrite"),l=!1;c.objectStore(Yo).get(Yo).onsuccess=function(e){i=e.target.result||{id:Yo},o()},gt(c,function(e){a=e,o()}),jo||(jo=yt(c)),jo.then(function(e){u=e,r()}),c.oncomplete=function(){l=!0,r()}},p.onerror=function(){var e="Failed to open indexedDB, are you in private browsing mode?";E("error",e),n(T(_o,e))}}function At(e,t){try{return indexedDB.open(e,{version:No,storage:t})}catch(t){return indexedDB.open(e,No)}}function Ct(e){return decodeURIComponent(escape(e))}function Ot(e){return e<65?e-48:e-55}function Tt(e,t,n){for(var r="";t<n;)r+=String.fromCharCode(Ot(e.charCodeAt(t++))<<4|Ot(e.charCodeAt(t++)));return r}function Pt(e,t,n){for(var r="";t<n;)r+=String.fromCharCode(Ot(e.charCodeAt(t+2))<<12|Ot(e.charCodeAt(t+3))<<8|Ot(e.charCodeAt(t))<<4|Ot(e.charCodeAt(t+1))),t+=4;return r}function jt(e,t){return"UTF-8"===t?Ct(Tt(e,0,e.length)):Pt(e,0,e.length)}function Dt(e){return"'"+e+"'"}function Rt(e){return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"")}function Mt(e){return e.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,"")}function It(e){return delete e._id,delete e._rev,JSON.stringify(e)}function Lt(e,t,n){return e=JSON.parse(e),e._id=t,e._rev=n,e}function zt(e){for(var t="(";e--;)t+="?",e&&(t+=",");return t+")"}function Nt(e,t,n,r,o){return"SELECT "+e+" FROM "+("string"==typeof t?t:t.join(" JOIN "))+(n?" ON "+n:"")+(r?" WHERE "+("string"==typeof r?r:r.join(" AND ")):"")+(o?" ORDER BY "+o:"")}function qt(e,t,n){function r(){++i===e.length&&o()}function o(){if(a.length){var e="SELECT DISTINCT digest AS digest FROM "+oi+" WHERE seq IN "+zt(a.length);n.executeSql(e,a,function(e,t){for(var n=[],r=0;r<t.rows.length;r++)n.push(t.rows.item(r).digest);if(n.length){var o="DELETE FROM "+oi+" WHERE seq IN ("+a.map(function(){return"?"}).join(",")+")";e.executeSql(o,a,function(e){var t="SELECT digest FROM "+oi+" WHERE digest IN ("+n.map(function(){return"?"}).join(",")+")";e.executeSql(t,n,function(e,t){for(var r=new to,o=0;o<t.rows.length;o++)r.add(t.rows.item(o).digest);n.forEach(function(t){r.has(t)||(e.executeSql("DELETE FROM "+oi+" WHERE digest=?",[t]),e.executeSql("DELETE FROM "+ti+" WHERE digest=?",[t]))})})})}})}}if(e.length){var i=0,a=[];e.forEach(function(e){var o="SELECT seq FROM "+ei+" WHERE doc_id=? AND rev=?";n.executeSql(o,[t,e],function(e,t){if(!t.rows.length)return r();var n=t.rows.item(0).seq;a.push(n),e.executeSql("DELETE FROM "+ei+" WHERE seq=?",[n],r)})})}}function Ft(e){return function(t){E("error","WebSQL threw an error",t);var n=t&&t.constructor.toString().match(/function ([^\(]+)/),r=n&&n[1]||t.type,o=t.target||t.message;e(T(wo,o,r))}}function Ut(e){return"size"in e?1e6*e.size:"undefined"!=typeof navigator&&/Android/.test(navigator.userAgent)?5e6:1}function Bt(e,t,n,r,o,i,a){function u(){if(g)return a(g);i.notify(r._name),a(null,_)}function s(e,t){var n="SELECT count(*) as cnt FROM "+ti+" WHERE digest=?";y.executeSql(n,[e],function(n,r){if(0===r.rows.item(0).cnt){var o=T(So,"unknown stub attachment with digest "+e);t(o)}else t()})}function c(e){function t(){++o===n.length&&e(r)}var n=[];if(b.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r,o=0;n.forEach(function(e){s(e,function(e){e&&!r&&(r=e),t()})})}function l(e,t,n,o,i,a,u,s){function c(){function t(e,t){function r(){return++o===i.length&&t(),!1}var o=0,i=Object.keys(n._attachments||{});if(!i.length)return t();for(var a=0;a<i.length;a++)!function(t){var o="INSERT INTO "+oi+" (digest, seq) VALUES (?,?)",i=[n._attachments[t].digest,e];y.executeSql(o,i,r,r)}(i[a])}var n=e.data,r=o?1:0,i=n._id,a=n._rev,u=It(n),s="INSERT INTO "+ei+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",c=[i,a,u,r];y.executeSql(s,c,function(e,n){var r=n.insertId;t(r,function(){f(e,r)})},function(){var e=Nt("seq",ei,null,"doc_id=? AND rev=?");return y.executeSql(e,[i,a],function(e,n){var o=n.rows.item(0).seq,s="UPDATE "+ei+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",c=[u,r,i,a];e.executeSql(s,c,function(e){t(o,function(){f(e,o)})})}),!1})}function l(e){p||(e?(p=e,s(p)):m===b.length&&c())}function d(e){m++,l(e)}function f(n,o){var a=e.metadata.id,c=e.stemmedRevs||[];i&&r.auto_compaction&&(c=$(e.metadata).concat(c)),c.length&&qt(c,a,n),e.metadata.seq=o;var l=e.metadata.rev;delete e.metadata.rev;var d=i?"UPDATE "+Zo+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+ei+" WHERE doc_id="+Zo+".id AND rev=?) WHERE id=?":"INSERT INTO "+Zo+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",f=rt(e.metadata),h=i?[f,o,t,a]:[a,o,o,f];n.executeSql(d,h,function(){_[u]={ok:!0,id:e.metadata.id,rev:l},w.set(a,e.metadata),s()})}var p=null,m=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev;var b=Object.keys(e.data._attachments||{});o&&(e.data._deleted=!0),b.forEach(function(n){var r=e.data._attachments[n];if(r.stub)m++,l();else{var o=r.data;delete r.data,r.revpos=parseInt(t,10);h(r.digest,o,d)}}),b.length||c()}function d(){tt(e.revs_limit,b,r,w,y,_,l,n)}function f(e){function t(){++n===b.length&&e()}if(!b.length)return e();var n=0;b.forEach(function(e){if(e._id&&ce(e._id))return t();var n=e.metadata.id;y.executeSql("SELECT json FROM "+Zo+" WHERE id = ?",[n],function(e,r){if(r.rows.length){var o=nt(r.rows.item(0).json);w.set(n,o)}t()})})}function h(e,t,n){var r="SELECT digest FROM "+ti+" WHERE digest=?";y.executeSql(r,[e],function(o,i){if(i.rows.length)return n();r="INSERT INTO "+ti+" (digest, body, escaped) VALUES (?,?,1)",o.executeSql(r,[e,Rt(t)],function(){n()},function(){return n(),!1})})}var p=n.new_edits,m=t.docs,b=m.map(function(e){return e._id&&ce(e._id)?e:De(e,p)}),v=b.filter(function(e){return e.error});if(v.length)return a(v[0]);var y,g,_=new Array(b.length),w=new no;Qe(b,"binary",function(e){if(e)return a(e);o.transaction(function(e){y=e,c(function(e){e?g=e:f(d)})},Ft(a),u)})}function Yt(e){return e.websql(e.name,e.version,e.description,e.size)}function Ht(e){try{return{db:Yt(e)}}catch(e){return{error:e}}}function Wt(e){var t=ii.get(e.name);return t||(t=Ht(e),ii.set(e.name,t)),t}function Vt(e,t,n,r,o){function i(){++s===u.length&&o&&o()}function a(e,o){var a=e._attachments[o],u={binary:t.binary,ctx:r};n._getAttachment(e._id,o,a,u,function(t,n){e._attachments[o]=ao(f(a,["digest","content_type"]),{data:n}),i()})}var u=Object.keys(e._attachments||{});if(!u.length)return o&&o();var s=0;u.forEach(function(n){t.attachments&&t.include_docs?a(e,n):(e._attachments[n].stub=!0,i())})}function Gt(e,t){function n(){w()&&(window.localStorage["_pouch__websqldb_"+g._name]=!0),t(null,g)}function r(e,t){e.executeSql(li),e.executeSql("ALTER TABLE "+ei+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){e.executeSql(si),e.executeSql("ALTER TABLE "+Zo+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){e.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+Zo+" (local, id)");var n="SELECT "+Zo+".winningseq AS seq, "+Zo+".json AS metadata FROM "+ei+" JOIN "+Zo+" ON "+ei+".seq = "+Zo+".winningseq";e.executeSql(n,[],function(e,n){for(var r=[],o=[],i=0;i<n.rows.length;i++){var a=n.rows.item(i),u=a.seq,s=JSON.parse(a.metadata);se(s)&&r.push(u),ce(s.id)&&o.push(s.id)}e.executeSql("UPDATE "+Zo+"SET local = 1 WHERE id IN "+zt(o.length),o,function(){e.executeSql("UPDATE "+ei+" SET deleted = 1 WHERE seq IN "+zt(r.length),r,t)})})})})}function o(e,t){var n="CREATE TABLE IF NOT EXISTS "+ni+" (id UNIQUE, rev, json)";e.executeSql(n,[],function(){var n="SELECT "+Zo+".id AS id, "+ei+".json AS data FROM "+ei+" JOIN "+Zo+" ON "+ei+".seq = "+Zo+".winningseq WHERE local = 1";e.executeSql(n,[],function(e,n){function r(){if(!o.length)return t(e);var n=o.shift(),i=JSON.parse(n.data)._rev;e.executeSql("INSERT INTO "+ni+" (id, rev, json) VALUES (?,?,?)",[n.id,i,n.data],function(e){e.executeSql("DELETE FROM "+Zo+" WHERE id=?",[n.id],function(e){e.executeSql("DELETE FROM "+ei+" WHERE seq=?",[n.seq],function(){r()})})})}for(var o=[],i=0;i<n.rows.length;i++)o.push(n.rows.item(i));r()})})}function i(e,t){function n(n){function r(){if(!n.length)return t(e);var o=n.shift(),i=jt(o.hex,y),a=i.lastIndexOf("::"),u=i.substring(0,a),s=i.substring(a+2),c="UPDATE "+ei+" SET doc_id=?, rev=? WHERE doc_id_rev=?";e.executeSql(c,[u,s,i],function(){r()})}r()}var r="ALTER TABLE "+ei+" ADD COLUMN doc_id";e.executeSql(r,[],function(e){var t="ALTER TABLE "+ei+" ADD COLUMN rev";e.executeSql(t,[],function(e){e.executeSql(ci,[],function(e){var t="SELECT hex(doc_id_rev) as hex FROM "+ei;e.executeSql(t,[],function(e,t){for(var r=[],o=0;o<t.rows.length;o++)r.push(t.rows.item(o));n(r)})})})})}function a(e,t){function n(e){var n="SELECT COUNT(*) AS cnt FROM "+ti;e.executeSql(n,[],function(e,n){function r(){var n=Nt(pi+", "+Zo+".id AS id",[Zo,ei],hi,null,Zo+".id ");n+=" LIMIT "+i+" OFFSET "+o,o+=i,e.executeSql(n,[],function(e,n){if(!n.rows.length)return t(e);for(var o={},i=0;i<n.rows.length;i++)for(var a=n.rows.item(i),u=Lt(a.data,a.id,a.rev),s=Object.keys(u._attachments||{}),c=0;c<s.length;c++){var l=u._attachments[s[c]];!function(e,t){var n=o[e]=o[e]||[];-1===n.indexOf(t)&&n.push(t)}(l.digest,a.seq)}var d=[];if(Object.keys(o).forEach(function(e){o[e].forEach(function(t){d.push([e,t])})}),!d.length)return r();var f=0;d.forEach(function(t){var n="INSERT INTO "+oi+" (digest, seq) VALUES (?,?)";e.executeSql(n,t,function(){++f===d.length&&r()})})})}if(!n.rows.item(0).cnt)return t(e);var o=0,i=10;r()})}var r="CREATE TABLE IF NOT EXISTS "+oi+" (digest, seq INTEGER)";e.executeSql(r,[],function(e){e.executeSql(fi,[],function(e){e.executeSql(di,[],n)})})}function u(e,t){var n="ALTER TABLE "+ti+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";e.executeSql(n,[],t)}function c(e,t){var n="ALTER TABLE "+Zo+" ADD COLUMN max_seq INTEGER";e.executeSql(n,[],function(e){var n="UPDATE "+Zo+" SET max_seq=(SELECT MAX(seq) FROM "+ei+" WHERE doc_id=id)";e.executeSql(n,[],function(e){var n="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+Zo+" (max_seq)";e.executeSql(n,[],t)})})}function d(e,t){e.executeSql('SELECT HEX("a") AS hex',[],function(e,n){var r=n.rows.item(0).hex;y=2===r.length?"UTF-8":"UTF-16",t()})}function f(){for(;S.length>0;){S.pop()(null,_)}}function h(e,t){if(0===t){var n="CREATE TABLE IF NOT EXISTS "+ri+" (dbid, db_version INTEGER)",s="CREATE TABLE IF NOT EXISTS "+ti+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",l="CREATE TABLE IF NOT EXISTS "+oi+" (digest, seq INTEGER)",d="CREATE TABLE IF NOT EXISTS "+Zo+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",h="CREATE TABLE IF NOT EXISTS "+ei+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",p="CREATE TABLE IF NOT EXISTS "+ni+" (id UNIQUE, rev, json)";e.executeSql(s),e.executeSql(p),e.executeSql(l,[],function(){e.executeSql(di),e.executeSql(fi)}),e.executeSql(d,[],function(){e.executeSql(li),e.executeSql(h,[],function(){e.executeSql(si),e.executeSql(ci),e.executeSql(n,[],function(){var t="INSERT INTO "+ri+" (db_version, dbid) VALUES (?,?)";_=Y();var n=[Qo,_];e.executeSql(t,n,function(){f()})})})})}else{var m=function(){t<Qo&&e.executeSql("UPDATE "+ri+" SET db_version = "+Qo);var n="SELECT dbid FROM "+ri;e.executeSql(n,[],function(e,t){_=t.rows.item(0).dbid,f()})},b=[r,o,i,a,u,c,m],v=t,y=function(e){b[v-1](e,y),v++};y(e)}}function p(e){var t="SELECT sql FROM sqlite_master WHERE tbl_name = "+ri;e.executeSql(t,[],function(e,t){t.rows.length?/db_version/.test(t.rows.item(0).sql)?e.executeSql("SELECT db_version FROM "+ri,[],function(e,t){h(e,t.rows.item(0).db_version)}):e.executeSql("ALTER TABLE "+ri+" ADD COLUMN db_version INTEGER",[],function(){h(e,1)}):h(e,0)})}function m(e,t){var n="SELECT MAX(seq) AS seq FROM "+ei;e.executeSql(n,[],function(e,n){var r=n.rows.item(0).seq||0;t(r)})}function b(e,t){var n=Nt("COUNT("+Zo+".id) AS 'num'",[Zo,ei],hi,ei+".deleted=0");e.executeSql(n,[],function(e,n){t(n.rows.item(0).num)})}function v(e,t,n,r,o){var i=Nt(pi,[Zo,ei],hi,Zo+".id=?"),a=[t];e.executeSql(i,a,function(e,t){if(!t.rows.length){var i=T(so,"missing");return o(i)}var a=t.rows.item(0),u=nt(a.metadata);r(le(n,u))})}var y,g=this,_=null,k=Ut(e),S=[];g._name=e.name;var E=ao({},e,{version:ui,description:e.name,size:k}),x=Wt(E);if(x.error)return Ft(t)(x.error);var A=x.db;"function"!=typeof A.readTransaction&&(A.readTransaction=A.transaction),function(){A.transaction(function(e){d(e,function(){p(e)})},Ft(t),n)}(),g.type=function(){return"websql"},g._id=l(function(e){e(null,_)}),g._info=function(e){var t,n;A.readTransaction(function(e){m(e,function(e){t=e}),b(e,function(e){n=e})},Ft(e),function(){e(null,{doc_count:n,update_seq:t,websql_encoding:y})})},g._bulkDocs=function(t,n,r){Bt(e,t,n,g,A,ai,r)},g._get=function(e,t,n){function r(e){n(e,{doc:o,metadata:i,ctx:a})}var o,i,a=t.ctx;if(!a)return A.readTransaction(function(r){g._get(e,ao({ctx:r},t),n)});var u,s;if(t.rev){if(t.latest)return void v(a,e,t.rev,function(r){t.latest=!1,t.rev=r,g._get(e,t,n)},r);u=Nt(pi,[Zo,ei],Zo+".id="+ei+".doc_id",[ei+".doc_id=?",ei+".rev=?"]),s=[e,t.rev]}else u=Nt(pi,[Zo,ei],hi,Zo+".id=?"),s=[e];a.executeSql(u,s,function(e,n){if(!n.rows.length){return r(T(so,"missing"))}var a=n.rows.item(0);if(i=nt(a.metadata),a.deleted&&!t.rev){return r(T(so,"deleted"))}o=Lt(a.data,i.id,a.rev),r()})},g._allDocs=function(e,t){var n,r=[],o="startkey"in e&&e.startkey,i="endkey"in e&&e.endkey,a="key"in e&&e.key,u="descending"in e&&e.descending,s="limit"in e?e.limit:-1,c="skip"in e?e.skip:0,l=!1!==e.inclusive_end,d=[],f=[];if(!1!==a)f.push(Zo+".id = ?"),d.push(a);else if(!1!==o||!1!==i){if(!1!==o&&(f.push(Zo+".id "+(u?"<=":">=")+" ?"),d.push(o)),!1!==i){var h=u?">":"<";l&&(h+="="),f.push(Zo+".id "+h+" ?"),d.push(i)}!1!==a&&(f.push(Zo+".id = ?"),d.push(a))}"ok"!==e.deleted&&f.push(ei+".deleted = 0"),A.readTransaction(function(t){if(b(t,function(e){n=e}),0!==s){var o=Nt(pi,[Zo,ei],hi,f,Zo+".id "+(u?"DESC":"ASC"));o+=" LIMIT "+s+" OFFSET "+c,t.executeSql(o,d,function(t,n){for(var o=0,i=n.rows.length;o<i;o++){var a=n.rows.item(o),u=nt(a.metadata),s=u.id,c=Lt(a.data,s,a.rev),l=c._rev,d={id:s,key:s,value:{rev:l}};if(e.include_docs){if(d.doc=c,d.doc._rev=l,e.conflicts){var f=X(u);f.length&&(d.doc._conflicts=f)}Vt(d.doc,e,g,t)}if(a.deleted){if("ok"!==e.deleted)continue;d.value.deleted=!0,d.doc=null}r.push(d)}})}},Ft(t),function(){t(null,{total_rows:n,offset:e.skip,rows:r})})},g._changes=function(e){if(e=s(e),e.continuous){var t=g._name+":"+Y();return ai.addListener(g._name,t,g,e),ai.notify(g._name),{cancel:function(){ai.removeListener(g._name,t)}}}var n=e.descending;e.since=e.since&&!n?e.since:0;var r="limit"in e?e.limit:-1;0===r&&(r=1);var o;o="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var i=[],a=0;!function(){var t=Zo+".json AS metadata, "+Zo+".max_seq AS maxSeq, "+ei+".json AS winningDoc, "+ei+".rev AS winningRev ",u=Zo+" JOIN "+ei,s=Zo+".id="+ei+".doc_id AND "+Zo+".winningseq="+ei+".seq",c=["maxSeq > ?"],l=[e.since];e.doc_ids&&(c.push(Zo+".id IN "+zt(e.doc_ids.length)),l=l.concat(e.doc_ids));var d="maxSeq "+(n?"DESC":"ASC"),f=Nt(t,u,s,c,d),h=D(e);e.view||e.filter||(f+=" LIMIT "+r);var p=e.since||0;A.readTransaction(function(t){t.executeSql(f,l,function(t,n){function u(t){return function(){e.onChange(t)}}for(var s=0,c=n.rows.length;s<c;s++){var l=n.rows.item(s),d=nt(l.metadata);p=l.maxSeq;var f=Lt(l.winningDoc,d.id,l.winningRev),m=e.processChange(f,d,e);m.seq=l.maxSeq;var b=h(m);if("object"==typeof b)return e.complete(b);if(b&&(a++,o&&i.push(m),e.attachments&&e.include_docs?Vt(f,e,g,t,u(m)):u(m)()),a===r)break}})},Ft(e.complete),function(){e.continuous||e.complete(null,{results:i,last_seq:p})})}()},g._close=function(e){e()},g._getAttachment=function(e,t,n,r,o){var i,a=r.ctx,u=n.digest,s=n.content_type,c="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+ti+" WHERE digest=?";a.executeSql(c,[u],function(e,t){var n=t.rows.item(0),a=n.escaped?Mt(n.body):jt(n.body,y);i=r.binary?Ie(a,s):Io(a),o(null,i)})},g._getRevisionTree=function(e,t){A.readTransaction(function(n){var r="SELECT json AS metadata FROM "+Zo+" WHERE id = ?";n.executeSql(r,[e],function(e,n){if(n.rows.length){var r=nt(n.rows.item(0).metadata);t(null,r.rev_tree)}else t(T(so))})})},g._doCompaction=function(e,t,n){if(!t.length)return n();A.transaction(function(n){var r="SELECT json AS metadata FROM "+Zo+" WHERE id = ?";n.executeSql(r,[e],function(n,r){var o=nt(r.rows.item(0).metadata);W(o.rev_tree,function(e,n,r,o,i){var a=n+"-"+r;-1!==t.indexOf(a)&&(i.status="missing")});var i="UPDATE "+Zo+" SET json = ? WHERE id = ?";n.executeSql(i,[rt(o),e])}),qt(t,e,n)},Ft(n),function(){n()})},g._getLocal=function(e,t){A.readTransaction(function(n){var r="SELECT json, rev FROM "+ni+" WHERE id=?";n.executeSql(r,[e],function(n,r){if(r.rows.length){var o=r.rows.item(0),i=Lt(o.json,e,o.rev);t(null,i)}else t(T(so))})})},g._putLocal=function(e,t,n){function r(e){var r,c;i?(r="UPDATE "+ni+" SET rev=?, json=? WHERE id=? AND rev=?",c=[o,s,a,i]):(r="INSERT INTO "+ni+" (id, rev, json) VALUES (?,?,?)",c=[a,o,s]),e.executeSql(r,c,function(e,r){r.rowsAffected?(u={ok:!0,id:a,rev:o},t.ctx&&n(null,u)):n(T(co))},function(){return n(T(co)),!1})}"function"==typeof t&&(n=t,t={}),delete e._revisions;var o,i=e._rev,a=e._id;o=e._rev=i?"0-"+(parseInt(i.split("-")[1],10)+1):"0-1";var u,s=It(e);t.ctx?r(t.ctx):A.transaction(r,Ft(n),function(){u&&n(null,u)})},g._removeLocal=function(e,t,n){function r(r){var i="DELETE FROM "+ni+" WHERE id=? AND rev=?",a=[e._id,e._rev];r.executeSql(i,a,function(r,i){if(!i.rowsAffected)return n(T(so));o={ok:!0,id:e._id,rev:"0-0"},t.ctx&&n(null,o)})}"function"==typeof t&&(n=t,t={});var o;t.ctx?r(t.ctx):A.transaction(r,Ft(n),function(){o&&n(null,o)})},g._destroy=function(e,t){ai.removeAllListeners(g._name),A.transaction(function(e){[Zo,ei,ti,ri,ni,oi].forEach(function(t){e.executeSql("DROP TABLE IF EXISTS "+t,[])})},Ft(t),function(){w()&&(delete window.localStorage["_pouch__websqldb_"+g._name],delete window.localStorage[g._name]),t(null,{ok:!0})})}}function Xt(){try{return openDatabase("_pouch_validate_websql",1,"",1),!0}catch(e){return!1}}function $t(){if("undefined"==typeof indexedDB||null===indexedDB||!/iP(hone|od|ad)/.test(navigator.userAgent))return!0;var e=w(),t="_pouch__websqldb_valid_"+navigator.userAgent;if(e&&localStorage[t])return"1"===localStorage[t];var n=Xt();return e&&(localStorage[t]=n?"1":"0"),n}function Kt(){return"function"==typeof openDatabase&&$t()}function Jt(e,t,n,r){return openDatabase(e,t,n,r)}function Qt(e,t){var n=ao({websql:Jt},e);Gt.call(this,n,t)}function Zt(){for(var e={},t=new Jr(function(t,n){e.resolve=t,e.reject=n}),n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.promise=t,Jr.resolve().then(function(){return fetch.apply(null,n)}).then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}),e}function en(e,t){var n,r,o,i=new Headers,a={method:e.method,credentials:"include",headers:i};return e.json&&(i.set("Accept","application/json"),i.set("Content-Type",e.headers["Content-Type"]||"application/json")),e.body&&e.processData&&"string"!=typeof e.body?a.body=JSON.stringify(e.body):a.body="body"in e?e.body:null,Object.keys(e.headers).forEach(function(t){e.headers.hasOwnProperty(t)&&i.set(t,e.headers[t])}),n=Zt(e.url,a),e.timeout>0&&(r=setTimeout(function(){n.reject(new Error("Load timeout for resource: "+e.url))},e.timeout)),n.promise.then(function(t){return o={statusCode:t.status},e.timeout>0&&clearTimeout(r),o.statusCode>=200&&o.statusCode<300?e.binary?t.blob():t.text():t.json()}).then(function(e){o.statusCode>=200&&o.statusCode<300?t(null,o,e):(e.status=o.statusCode,t(e))}).catch(function(e){e||(e=new Error("canceled")),t(e)}),{abort:n.reject}}function tn(e,t){var n,r,o=!1,i=function(){n.abort(),s()},a=function(){o=!0,n.abort(),s()},u={abort:i},s=function(){clearTimeout(r),u.abort=function(){},n&&(n.onprogress=void 0,n.upload&&(n.upload.onprogress=void 0),n.onreadystatechange=void 0,n=void 0)};n=e.xhr?new e.xhr:new XMLHttpRequest;try{n.open(e.method,e.url)}catch(e){return t(new Error(e.name||"Url is invalid"))}n.withCredentials=!("withCredentials"in e)||e.withCredentials,"GET"===e.method?delete e.headers["Content-Type"]:e.json&&(e.headers.Accept="application/json",e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.body&&e.processData&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body))),e.binary&&(n.responseType="arraybuffer"),"body"in e||(e.body=null);for(var c in e.headers)e.headers.hasOwnProperty(c)&&n.setRequestHeader(c,e.headers[c]);return e.timeout>0&&(r=setTimeout(a,e.timeout),n.onprogress=function(){clearTimeout(r),4!==n.readyState&&(r=setTimeout(a,e.timeout))},void 0!==n.upload&&(n.upload.onprogress=n.onprogress)),n.onreadystatechange=function(){if(4===n.readyState){var r={statusCode:n.status};if(n.status>=200&&n.status<300){var i;i=e.binary?Re([n.response||""],{type:n.getResponseHeader("Content-Type")}):n.responseText,t(null,r,i)}else{var a={};if(o)a=new Error("ETIMEDOUT"),a.code="ETIMEDOUT";else if("string"==typeof n.response)try{a=JSON.parse(n.response)}catch(e){}a.status=n.status,t(a)}s()}},e.body&&e.body instanceof Blob?Ue(e.body,function(e){n.send(e)}):n.send(e.body),u}function nn(e,t){return bi||e.xhr?tn(e,t):en(e,t)}function rn(){return""}function on(e,t){function n(t,n,r){if(!e.binary&&e.json&&"string"==typeof t)try{t=JSON.parse(t)}catch(e){return r(e)}Array.isArray(t)&&(t=t.map(function(e){return e.error||e.missing?P(e):e})),e.binary&&vi(t,n),r(null,t,n)}return e=s(e),e=ao({method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1},e),e.json&&(e.binary||(e.headers.Accept="application/json"),e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json"),e.binary&&(e.encoding=null,e.json=!1),e.processData||(e.json=!1),nn(e,function(r,o,i){if(r)return t(P(r));var a,u=o.headers&&o.headers["content-type"],s=i||rn();if(!e.binary&&(e.json||!e.processData)&&"object"!=typeof s&&(/json/.test(u)||/^[\s]*\{/.test(s)&&/\}[\s]*$/.test(s)))try{s=JSON.parse(s.toString())}catch(e){}o.statusCode>=200&&o.statusCode<300?n(s,o,t):(a=P(s),a.status=o.statusCode,t(a))})}function an(e,t){var n=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",r=-1!==n.indexOf("safari")&&-1===n.indexOf("chrome"),o=-1!==n.indexOf("msie"),i=-1!==n.indexOf("edge"),a=r||(o||i)&&"GET"===e.method,u=!("cache"in e)||e.cache;if(!/^blob:/.test(e.url)&&(a||!u)){var s=-1!==e.url.indexOf("?");e.url+=(s?"&":"?")+"_nonce="+Date.now()}return on(e,t)}function un(e,t){return new Jr(function(n,r){function o(){l++,e[d++]().then(a,u)}function i(){++f===h?c?r(c):n():s()}function a(){l--,i()}function u(e){l--,c=c||e,i()}function s(){for(;l<t&&d<h;)o()}var c,l=0,d=0,f=0,h=e.length;s()})}function sn(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];n.data=Le(n.data,n.content_type)})}function cn(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function ln(e){return e._attachments&&Object.keys(e._attachments)?Jr.all(Object.keys(e._attachments).map(function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new Jr(function(e){Fe(n.data,e)}).then(function(e){n.data=e})})):Jr.resolve()}function dn(e){if(!e.prefix)return!1;var t=q(e.prefix).protocol;return"http"===t||"https"===t}function fn(e,t){if(dn(t)){var n=t.name.substr(t.prefix.length);e=t.prefix+encodeURIComponent(n)}var r=q(e);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var o=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=o.pop(),-1===r.db.indexOf("%")&&(r.db=encodeURIComponent(r.db)),r.path=o.join("/"),r}function hn(e,t){return pn(e,e.db+"/"+t)}function pn(e,t){var n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function mn(e){return"?"+Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}function bn(e,t){function n(e,t,n){var r=e.ajax||{},o=ao(s(h),r,t);return wi(o.method+" "+o.url),u._ajax(o,n)}function r(e,t){return new Jr(function(r,o){n(e,t,function(e,t){if(e)return o(e);r(t)})})}function o(e,t){return d(e,Yr(function(e){i().then(function(){return t.apply(this,e)}).catch(function(t){e.pop()(t)})}))}function i(){return e.skipSetup||e.skip_setup?Jr.resolve():v||(v=r({},{method:"GET",url:l}).catch(function(e){return e&&e.status&&404===e.status?(C(404,"PouchDB is just detecting if the remote exists."),r({},{method:"PUT",url:l})):Jr.reject(e)}).catch(function(e){return!(!e||!e.status||412!==e.status)||Jr.reject(e)}),v.catch(function(){v=null}),v)}function a(e){return e.split("/").map(encodeURIComponent).join("/")}var u=this,c=fn(e.name,e),l=hn(c,"");e=s(e);var h=e.ajax||{};if(e.auth||c.auth){var p=e.auth||c.auth,m=p.username+":"+p.password,b=Io(unescape(encodeURIComponent(m)));h.headers=h.headers||{},h.headers.Authorization="Basic "+b}u._ajax=an;var v;Gr(function(){t(null,u)}),u.type=function(){return"http"},u.id=o("id",function(e){n({},{method:"GET",url:pn(c,"")},function(t,n){var r=n&&n.uuid?n.uuid+c.db:hn(c,"");e(null,r)})}),u.request=o("request",function(e,t){e.url=hn(c,e.url),n({},e,t)}),u.compact=o("compact",function(e,t){"function"==typeof e&&(t=e,e={}),e=s(e),n(e,{url:hn(c,"_compact"),method:"POST"},function(){function n(){u.info(function(r,o){o&&!o.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)})}n()})}),u.bulkGet=d("bulkGet",function(e,t){function r(t){var r={};e.revs&&(r.revs=!0),e.attachments&&(r.attachments=!0),e.latest&&(r.latest=!0),n(e,{url:hn(c,"_bulk_get"+mn(r)),method:"POST",body:{docs:e.docs}},t)}function o(){for(var n=gi,r=Math.ceil(e.docs.length/n),o=0,a=new Array(r),u=0;u<r;u++){var s=f(e,["revs","attachments","latest"]);s.ajax=h,s.docs=e.docs.slice(u*n,Math.min(e.docs.length,(u+1)*n)),g(i,s,function(e){return function(n,i){a[e]=i.results,++o===r&&t(null,{results:R(a)})}}(u))}}var i=this,a=pn(c,""),u=_i[a];"boolean"!=typeof u?r(function(e,n){e?(_i[a]=!1,C(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):(_i[a]=!0,t(null,n))}):u?r(t):o()}),u._info=function(e){i().then(function(){n({},{method:"GET",url:hn(c,"")},function(t,n){if(t)return e(t);n.host=hn(c,""),e(null,n)})}).catch(e)},u.get=o("get",function(e,t,n){function o(e){function n(n){var i=o[n],u=cn(e._id)+"/"+a(n)+"?rev="+e._rev;return r(t,{method:"GET",url:hn(c,u),binary:!0}).then(function(e){return t.binary?e:new Jr(function(t){Fe(e,t)})}).then(function(e){delete i.stub,delete i.length,i.data=e})}var o=e._attachments,i=o&&Object.keys(o);if(o&&i.length){return un(i.map(function(e){return function(){return n(e)}}),5)}}function i(e){return Array.isArray(e)?Jr.all(e.map(function(e){if(e.ok)return o(e.ok)})):o(e)}"function"==typeof t&&(n=t,t={}),t=s(t);var u={};t.revs&&(u.revs=!0),t.revs_info&&(u.revs_info=!0),t.latest&&(u.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),u.open_revs=t.open_revs),t.rev&&(u.rev=t.rev),t.conflicts&&(u.conflicts=t.conflicts),e=cn(e);var l={method:"GET",url:hn(c,e+mn(u))};r(t,l).then(function(e){return Jr.resolve().then(function(){if(t.attachments)return i(e)}).then(function(){n(null,e)})}).catch(n)}),u.remove=o("remove",function(e,t,r,o){var i;"string"==typeof t?(i={_id:e,_rev:t},"function"==typeof r&&(o=r,r={})):(i=e,"function"==typeof t?(o=t,r={}):(o=r,r=t));var a=i._rev||r.rev;n(r,{method:"DELETE",url:hn(c,cn(i._id))+"?rev="+a},o)}),u.getAttachment=o("getAttachment",function(e,t,r,o){"function"==typeof r&&(o=r,r={});var i=r.rev?"?rev="+r.rev:"";n(r,{method:"GET",url:hn(c,cn(e))+"/"+a(t)+i,binary:!0},o)}),u.removeAttachment=o("removeAttachment",function(e,t,r,o){n({},{method:"DELETE",url:hn(c,cn(e)+"/"+a(t))+"?rev="+r},o)}),u.putAttachment=o("putAttachment",function(e,t,r,o,i,u){"function"==typeof i&&(u=i,i=o,o=r,r=null);var s=cn(e)+"/"+a(t),l=hn(c,s);if(r&&(l+="?rev="+r),"string"==typeof o){var d;try{d=Mo(o)}catch(e){return u(T(mo,"Attachment is not a valid base64 string"))}o=d?Ie(d,i):""}n({},{headers:{"Content-Type":i},method:"PUT",url:l,processData:!1,body:o,timeout:h.timeout||6e4},u)}),u._bulkDocs=function(e,t,r){e.new_edits=t.new_edits,i().then(function(){return Jr.all(e.docs.map(ln))}).then(function(){n(t,{method:"POST",url:hn(c,"_bulk_docs"),timeout:t.timeout,body:e},function(e,t){if(e)return r(e);t.forEach(function(e){e.ok=!0}),r(null,t)})}).catch(r)},u._put=function(e,t,r){i().then(function(){return ln(e)}).then(function(){n(t,{method:"PUT",url:hn(c,cn(e._id)),body:e},function(e,t){if(e)return r(e);r(null,t)})}).catch(r)},u.allDocs=o("allDocs",function(e,t){"function"==typeof e&&(t=e,e={}),e=s(e);var n,o={},i="GET";e.conflicts&&(o.conflicts=!0),e.descending&&(o.descending=!0),e.include_docs&&(o.include_docs=!0),e.attachments&&(o.attachments=!0),e.key&&(o.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(o.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(o.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(o.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(o.limit=e.limit),void 0!==e.skip&&(o.skip=e.skip);var a=mn(o);void 0!==e.keys&&(i="POST",n={keys:e.keys}),r(e,{method:i,url:hn(c,"_all_docs"+a),body:n}).then(function(n){e.include_docs&&e.attachments&&e.binary&&n.rows.forEach(sn),t(null,n)}).catch(t)}),u._changes=function(e){var t="batch_size"in e?e.batch_size:yi;e=s(e),e.timeout="timeout"in e?e.timeout:"timeout"in h?h.timeout:3e4;var r,o=e.timeout?{timeout:e.timeout-5e3}:{},a=void 0!==e.limit&&e.limit;r="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var u=a;if(e.style&&(o.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(o.include_docs=!0),e.attachments&&(o.attachments=!0),e.continuous&&(o.feed="longpoll"),e.conflicts&&(o.conflicts=!0),e.descending&&(o.descending=!0),"heartbeat"in e?e.heartbeat&&(o.heartbeat=e.heartbeat):e.continuous&&(o.heartbeat=1e4),e.filter&&"string"==typeof e.filter&&(o.filter=e.filter),e.view&&"string"==typeof e.view&&(o.filter="_view",o.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var l in e.query_params)e.query_params.hasOwnProperty(l)&&(o[l]=e.query_params[l]);var d,f="GET";e.doc_ids&&(o.filter="_doc_ids",f="POST",d={doc_ids:e.doc_ids});var p,m,b=function(r,s){if(!e.aborted){o.since=r,"object"==typeof o.since&&(o.since=JSON.stringify(o.since)),e.descending?a&&(o.limit=u):o.limit=!a||u>t?t:u;var l={method:f,url:hn(c,"_changes"+mn(o)),timeout:e.timeout,body:d};m=r,e.aborted||i().then(function(){p=n(e,l,s)}).catch(s)}},v={results:[]},y=function(n,o){if(!e.aborted){var i=0;if(o&&o.results){i=o.results.length,v.last_seq=o.last_seq;({}).query=e.query_params,o.results=o.results.filter(function(t){u--;var n=D(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&sn(t),r&&v.results.push(t),e.onChange(t)),n})}else if(n)return e.aborted=!0,void e.complete(n);o&&o.last_seq&&(m=o.last_seq);var s=a&&u<=0||o&&i<t||e.descending;(!e.continuous||a&&u<=0)&&s?e.complete(null,v):Gr(function(){b(m,y)})}};return b(e.since||0,y),{cancel:function(){e.aborted=!0,p&&p.abort()}}},u.revsDiff=o("revsDiff",function(e,t,r){"function"==typeof t&&(r=t,t={}),n(t,{method:"POST",url:hn(c,"_revs_diff"),body:e},r)}),u._close=function(e){e()},u._destroy=function(e,t){n(e,{url:hn(c,""),method:"DELETE"},function(e,n){if(e&&e.status&&404!==e.status)return t(e);t(null,n)})}}function vn(e,t,n){for(var r="",o=n-e.length;r.length<o;)r+=t;return r}function yn(e,t,n){return vn(e,t,n)+e}function gn(e,t){if(e===t)return 0;e=_n(e),t=_n(t);var n=Tn(e),r=Tn(t);if(n-r!=0)return n-r;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return Cn(e,t)}return Array.isArray(e)?An(e,t):On(e,t)}function _n(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=_n(t[r])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];void 0!==i&&(e[o]=_n(i))}}}}return e}function wn(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return Pn(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,o=n.length,i="";if(t)for(;++r<o;)i+=kn(n[r]);else for(;++r<o;){var a=n[r];i+=kn(a)+kn(e[a])}return i}return""}function kn(e){return e=_n(e),Tn(e)+xi+wn(e)+"\0"}function Sn(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var o="0"===e[t];t++;var i="",a=e.substring(t,t+Ei),u=parseInt(a,10)+Si;for(o&&(u=-u),t+=Ei;;){var s=e[t];if("\0"===s)break;i+=s,t++}i=i.split("."),n=1===i.length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),o&&(n-=10),0!==u&&(n=parseFloat(n+"e"+u))}return{num:n,length:t-r}}function En(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(n);else if(i===e.length-2){var a=e.pop();o[a]=n}else e.push(n)}}function xn(e){for(var t=[],n=[],r=0;;){var o=e[r++];if("\0"!==o)switch(o){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var i=Sn(e,r);t.push(i.num),r+=i.length;break;case"4":for(var a="";;){var u=e[r];if("\0"===u)break;a+=u,r++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(a);break;case"5":var s={element:[],index:t.length};t.push(s.element),n.push(s);break;case"6":var c={element:{},index:t.length};t.push(c.element),n.push(c);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===t.length)return t.pop();En(t,n)}}}function An(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var o=gn(e[r],t[r]);if(0!==o)return o}return e.length===t.length?0:e.length>t.length?1:-1}function Cn(e,t){return e===t?0:e>t?1:-1}function On(e,t){for(var n=Object.keys(e),r=Object.keys(t),o=Math.min(n.length,r.length),i=0;i<o;i++){var a=gn(n[i],r[i]);if(0!==a)return a;if(0!==(a=gn(e[n[i]],t[r[i]])))return a}return n.length===r.length?0:n.length>r.length?1:-1}function Tn(e){var t=["boolean","number","string","object"],n=t.indexOf(typeof e);return~n?null===e?1:Array.isArray(e)?5:n<3?n+2:n+3:Array.isArray(e)?5:void 0}function Pn(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=e<0,o=r?"0":"2",i=(r?-n:n)-Si,a=yn(i.toString(),"0",Ei);o+=xi+a;var u=Math.abs(parseFloat(t[0]));r&&(u=10-u);var s=u.toFixed(20);return s=s.replace(/\.?0+$/,""),o+=xi+s}function jn(){this.promise=new Jr(function(e){e()})}function Dn(e){var t,n=e.db,r=e.viewName,o=e.map,i=e.reduce,a=e.temporary,u=o.toString()+(i&&i.toString())+"undefined";if(!a&&(t=n._cachedViews=n._cachedViews||{},t[u]))return t[u];var s=n.info().then(function(e){function s(e){e.views=e.views||{};var t=r;-1===t.indexOf("/")&&(t=r+"/"+r);var n=e.views[t]=e.views[t]||{};if(!n[c])return n[c]=!0,e}var c=e.db_name+"-mrview-"+(a?"temp":Ge(u));return F(n,"_local/mrviews",s).then(function(){return n.registerDependentDatabase(c).then(function(e){var r=e.db;r.auto_compaction=!0;var a={name:c,db:r,sourceDB:n,adapter:n.adapter,mapFun:o,reduceFun:i};return a.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return a.seq=e?e.seq:0,t&&a.db.once("destroyed",function(){delete t[u]}),a})})})});return t&&(t[u]=s),s}function Rn(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Rn)}catch(e){}}function Mn(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Mn)}catch(e){}}function In(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,In)}catch(e){}}function Ln(e){return new In("builtin "+e+" function requires map values to be numbers or number arrays")}function zn(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e[n];if("number"!=typeof o){if(!Array.isArray(o))throw Ln("_sum");t="number"==typeof t?[t]:t;for(var i=0,a=o.length;i<a;i++){var u=o[i];if("number"!=typeof u)throw Ln("_sum");void 0===t[i]?t.push(u):t[i]+=u}}else"number"==typeof t?t+=o:t[0]+=o}return t}function Nn(e,t){return Xr("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:zn,log:Ai,isArray:Ci,toJSON:Oi})}function qn(e,t){return t&&e.then(function(e){Gr(function(){t(null,e)})},function(e){Gr(function(){t(e)})}),e}function Fn(e,t){return e.then(function(e){return t().then(function(){return e})},function(e){return t().then(function(){throw e})})}function Un(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}}function Bn(e){var t=new to(e),n=new Array(t.size),r=-1;return t.forEach(function(e){n[++r]=e}),n}function Yn(e){var t=new Array(e.size),n=-1;return e.forEach(function(e,r){t[++n]=r}),t}function Hn(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function Wn(e){return 1===e.length&&/^1-/.test(e[0].rev)}function Vn(e,t){try{e.emit("error",t)}catch(e){E("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),E("error",t)}}function Gn(e,t,n){try{t(n)}catch(t){Vn(e,t)}}function Xn(e,t,n,r,o){try{return{output:t(n,r,o)}}catch(t){return Vn(e,t),{error:t}}}function $n(e,t){var n=gn(e.key,t.key);return 0!==n?n:gn(e.value,t.value)}function Kn(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function Jn(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function Qn(e){e.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];t[e].data=Le(n.data,n.content_type)})})}function Zn(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&Qn(t),t}}function er(e,t,n,r){var o=t[e];void 0!==o&&(r&&(o=encodeURIComponent(JSON.stringify(o))),n.push(e+"="+o))}function tr(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function nr(e){return e.group_level=tr(e.group_level),e.limit=tr(e.limit),e.skip=tr(e.skip),e}function rr(e){if(e){if("number"!=typeof e)return new Rn('Invalid value for integer: "'+e+'"');if(e<0)return new Rn('Invalid value for positive integer: "'+e+'"')}}function or(e,t){var n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[r]&&gn(e[n],e[r])>0)throw new Rn("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new Rn("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new Rn("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var n=rr(e[t]);if(n)throw n})}function ir(e,t,n){var r,o=[],i="GET";if(er("reduce",n,o),er("include_docs",n,o),er("attachments",n,o),er("limit",n,o),er("descending",n,o),er("group",n,o),er("group_level",n,o),er("skip",n,o),er("stale",n,o),er("conflicts",n,o),er("startkey",n,o,!0),er("start_key",n,o,!0),er("endkey",n,o,!0),er("end_key",n,o,!0),er("inclusive_end",n,o),er("key",n,o,!0),o=o.join("&"),o=""===o?"":"?"+o,void 0!==n.keys){var a="keys="+encodeURIComponent(JSON.stringify(n.keys));a.length+o.length+1<=2e3?o+=("?"===o[0]?"&":"?")+a:(i="POST","string"==typeof t?r={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var u=Hn(t);return e.request({method:i,url:"_design/"+u[0]+"/_view/"+u[1]+o,body:r}).then(Zn(n))}return r=r||{},Object.keys(t).forEach(function(e){Array.isArray(t[e])?r[e]=t[e]:r[e]=t[e].toString()}),e.request({method:"POST",url:"_temp_view"+o,body:r}).then(Zn(n))}function ar(e,t,n){return new Jr(function(r,o){e._query(t,n,function(e,t){if(e)return o(e);r(t)})})}function ur(e){return new Jr(function(t,n){e._viewCleanup(function(e,r){if(e)return n(e);t(r)})})}function sr(e){return function(t){if(404===t.status)return e;throw t}}function cr(e,t,n){function r(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Jr.resolve({rows:[]})}function o(e,t){for(var n=[],r=new to,o=0,i=t.rows.length;o<i;o++){var a=t.rows[o],u=a.doc;if(u&&(n.push(u),r.add(u._id),u._deleted=!s.has(u._id),!u._deleted)){var c=s.get(u._id);"value"in c&&(u.value=c.value)}}var l=Yn(s);return l.forEach(function(e){if(!r.has(e)){var t={_id:e},o=s.get(e);"value"in o&&(t.value=o.value),n.push(t)}}),e.keys=Bn(l.concat(e.keys)),n.push(e),n}var i="_local/doc_"+e,a={_id:i,keys:[]},u=n.get(e),s=u[0],c=u[1];return function(){return Wn(c)?Jr.resolve(a):t.db.get(i).catch(sr(a))}().then(function(e){return r(e).then(function(t){return o(e,t)})})}function lr(e,t,n){return e.db.get("_local/lastSeq").catch(sr({_id:"_local/lastSeq",seq:0})).then(function(r){var o=Yn(t);return Jr.all(o.map(function(n){return cr(n,e,t)})).then(function(t){var o=R(t);return r.seq=n,o.push(r),e.db.bulkDocs({docs:o})})})}function dr(e){var t="string"==typeof e?e:e.name,n=Ti[t];return n||(n=Ti[t]=new jn),n}function fr(e){return Un(dr(e),function(){return hr(e)})()}function hr(e){function t(e,t){var n={id:s._id,key:_n(e)};void 0!==t&&null!==t&&(n.value=_n(t)),u.push(n)}function n(t,n){return function(){return lr(e,t,n)}}function r(){return e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:d,limit:ji}).then(o)}function o(e){var t=e.results;if(t.length){var o=i(t);if(f.add(n(o,d)),!(t.length<ji))return r()}}function i(t){for(var n=new no,r=0,o=t.length;r<o;r++){var i=t[r];if("_"!==i.doc._id[0]){u=[],s=i.doc,s._deleted||Gn(e.sourceDB,c,s),u.sort($n);var l=a(u);n.set(i.doc._id,[l,i.changes])}d=i.seq}return n}function a(e){for(var t,n=new no,r=0,o=e.length;r<o;r++){var i=e[r],a=[i.key,i.id];r>0&&0===gn(i.key,t)&&a.push(r),n.set(kn(a),i),t=i.key}return n}var u,s,c;if("function"==typeof e.mapFun&&2===e.mapFun.length){var l=e.mapFun;c=function(e){return l(e,t)}}else c=Nn(e.mapFun.toString(),t);var d=e.seq||0,f=new jn;return r().then(function(){return f.finish()}).then(function(){e.seq=d})}function pr(e,t,n){0===n.group_level&&delete n.group_level;var r,o=n.group||n.group_level;r=Di[e.reduceFun]?Di[e.reduceFun]:Nn(e.reduceFun.toString());var i=[],a=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;t.forEach(function(e){var t=i[i.length-1],n=o?e.key:null;if(o&&Array.isArray(n)&&(n=n.slice(0,a)),t&&0===gn(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);i.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})}),t=[];for(var u=0,s=i.length;u<s;u++){var c=i[u],l=Xn(e.sourceDB,r,c.keys,c.values,!1);if(l.error&&l.error instanceof In)throw l.error;t.push({value:l.error?null:l.output,key:c.groupKey})}return{rows:Kn(t,n.limit,n.skip)}}function mr(e,t){return Un(dr(e),function(){return br(e,t)})()}function br(e,t){function n(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return o=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=xn(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function r(n){var r;if(r=i?pr(e,n,t):{total_rows:o,offset:a,rows:n},t.include_docs){var u=Bn(n.map(Jn));return e.sourceDB.allDocs({keys:u,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t=new no;return e.rows.forEach(function(e){t.set(e.id,e.doc)}),n.forEach(function(e){var n=Jn(e),r=t.get(n);r&&(e.doc=r)}),r})}return r}var o,i=e.reduceFun&&!1!==t.reduce,a=t.skip||0;if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys){var u=t.keys,s=u.map(function(e){return n({startkey:kn([e]),endkey:kn([e,{}])})});return Jr.all(s).then(R).then(r)}var c={descending:t.descending};if(t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),void 0!==t.startkey&&(c.startkey=kn(t.descending?[t.startkey,{}]:[t.startkey])),void 0!==t.endkey){var l=!1!==t.inclusive_end;t.descending&&(l=!l),c.endkey=kn(l?[t.endkey,{}]:[t.endkey])}if(void 0!==t.key){var d=kn([t.key]),f=kn([t.key,{}]);c.descending?(c.endkey=d,c.startkey=f):(c.startkey=d,c.endkey=f)}return i||("number"==typeof t.limit&&(c.limit=t.limit),c.skip=a),n(c).then(r)}function vr(e){return e.request({method:"POST",url:"_view_cleanup"})}function yr(e){return e.get("_local/mrviews").then(function(t){var n=new no;Object.keys(t.views).forEach(function(e){var t=Hn(e),r="_design/"+t[0],o=t[1],i=n.get(r);i||(i=new to,n.set(r,i)),i.add(o)});var r={keys:Yn(n),include_docs:!0};return e.allDocs(r).then(function(r){var o={};r.rows.forEach(function(e){var r=e.key.substring(8);n.get(e.key).forEach(function(n){var i=r+"/"+n;t.views[i]||(i=n);var a=Object.keys(t.views[i]),u=e.doc&&e.doc.views&&e.doc.views[n];a.forEach(function(e){o[e]=o[e]||u})})});var i=Object.keys(o).filter(function(e){return!o[e]}),a=i.map(function(t){return Un(dr(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return Jr.all(a).then(function(){return{ok:!0}})})},sr({ok:!0}))}function gr(e,t,n){if("http"===e.type())return ir(e,t,n);if("function"==typeof e._query)return ar(e,t,n);if("string"!=typeof t){or(n,t);var r={db:e,viewName:"temp_view/temp_view",map:t.map,reduce:t.reduce,temporary:!0};return Pi.add(function(){return Dn(r).then(function(e){function t(){return e.db.destroy()}return Fn(fr(e).then(function(){return mr(e,n)}),t)})}),Pi.finish()}var o=t,i=Hn(o),a=i[0],u=i[1];return e.get("_design/"+a).then(function(t){var r=t.views&&t.views[u];if(!r||"string"!=typeof r.map)throw new Mn("ddoc "+a+" has no view named "+u);return or(n,r),Dn({db:e,viewName:o,map:r.map,reduce:r.reduce}).then(function(e){return"ok"===n.stale||"update_after"===n.stale?("update_after"===n.stale&&Gr(function(){fr(e)}),mr(e,n)):fr(e).then(function(){return mr(e,n)})})})}function _r(e){return/^1-/.test(e)}function wr(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}function kr(e,t){var n=Object.keys(t._attachments);return Jr.all(n.map(function(n){return e.getAttachment(t._id,n,{rev:t._rev})}))}function Sr(e,t,n){var r="http"===t.type()&&"http"!==e.type(),o=Object.keys(n._attachments);return r?e.get(n._id).then(function(r){return Jr.all(o.map(function(o){return wr(r,n,o)?t.getAttachment(n._id,o):e.getAttachment(r._id,o)}))}).catch(function(e){if(404!==e.status)throw e;return kr(t,n)}):kr(t,n)}function Er(e){var t=[];return Object.keys(e).forEach(function(n){e[n].missing.forEach(function(e){t.push({id:n,rev:e})})}),{docs:t,revs:!0,latest:!0}}function xr(e,t,n,r){function o(){var o=Er(n);if(o.docs.length)return e.bulkGet(o).then(function(n){if(r.cancelled)throw new Error("cancelled");return Jr.all(n.results.map(function(n){return Jr.all(n.docs.map(function(n){var r=n.ok;return n.error&&(f=!1),r&&r._attachments?Sr(t,e,r).then(function(e){var t=Object.keys(r._attachments);return e.forEach(function(e,n){var o=r._attachments[t[n]];delete o.stub,delete o.length,o.data=e}),r}):r}))})).then(function(e){d=d.concat(R(e).filter(Boolean))})})}function i(e){return e._attachments&&Object.keys(e._attachments).length>0}function a(e){return e._conflicts&&e._conflicts.length>0}function u(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then(function(e){if(r.cancelled)throw new Error("cancelled");e.rows.forEach(function(e){e.deleted||!e.doc||!_r(e.value.rev)||i(e.doc)||a(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,d.push(e.doc),delete n[e.id])})})}function c(){var e=Object.keys(n).filter(function(e){var t=n[e].missing;return 1===t.length&&_r(t[0])});if(e.length>0)return u(e)}function l(){return{ok:f,docs:d}}n=s(n);var d=[],f=!0;return Jr.resolve().then(c).then(o).then(l)}function Ar(e,t,n,r,o){return e.get(t).catch(function(n){if(404===n.status)return"http"===e.type()&&C(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:t,history:[],replicator:zi,version:Li};throw n}).then(function(i){if(!o.cancelled&&i.last_seq!==n)return i.history=(i.history||[]).filter(function(e){return e.session_id!==r}),i.history.unshift({last_seq:n,session_id:r}),i.history=i.history.slice(0,Ni),i.version=Li,i.replicator=zi,i.session_id=r,i.last_seq=n,e.put(i).catch(function(i){if(409===i.status)return Ar(e,t,n,r,o);throw i})})}function Cr(e,t,n,r){this.src=e,this.target=t,this.id=n,this.returnValue=r}function Or(e,t){return e.session_id===t.session_id?{last_seq:e.last_seq,history:e.history}:Tr(e.history,t.history)}function Tr(e,t){var n=e[0],r=e.slice(1),o=t[0],i=t.slice(1);return n&&0!==t.length?Pr(n.session_id,t)?{last_seq:n.last_seq,history:e}:Pr(o.session_id,r)?{last_seq:o.last_seq,history:i}:Tr(r,i):{last_seq:qi,history:[]}}function Pr(e,t){var n=t[0],r=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||Pr(e,r))}function jr(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}function Dr(e,t,n,r){if(!1===e.retry)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=A),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var o=function(){e.current_back_off=Ui},i=function(){t.removeListener("active",o)};t.once("paused",i),t.once("active",o)}e.current_back_off=e.current_back_off||Ui,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(r,e.current_back_off)}function Rr(e){return Object.keys(e).sort(gn).reduce(function(t,n){return t[n]=e[n],t},{})}function Mr(e,t,n){var r=n.doc_ids?n.doc_ids.sort(gn):"",o=n.filter?n.filter.toString():"",i="",a="";return n.filter&&n.query_params&&(i=JSON.stringify(Rr(n.query_params))),n.filter&&"_view"===n.filter&&(a=n.view.toString()),Jr.all([e.id(),t.id()]).then(function(e){var t=e[0]+e[1]+o+a+i+r;return new Jr(function(e){Ve(t,e)})}).then(function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))})}function Ir(e,t,n,r,o){function i(){return S?Jr.resolve():Mr(e,t,n).then(function(n){k=n,S=new Cr(e,t,k,r)})}function a(){if(L=[],0!==w.docs.length){var e=w.docs,i={timeout:n.timeout};return t.bulkDocs({docs:e,new_edits:!1},i).then(function(t){if(r.cancelled)throw p(),new Error("cancelled");var n=Object.create(null);t.forEach(function(e){e.error&&(n[e.id]=e)});var i=Object.keys(n).length;o.doc_write_failures+=i,o.docs_written+=e.length-i,e.forEach(function(e){var t=n[e._id];if(t){if(o.errors.push(t),"unauthorized"!==t.name&&"forbidden"!==t.name)throw t;r.emit("denied",s(t))}else L.push(e)})},function(t){throw o.doc_write_failures+=e.length,t})}}function u(){if(w.error)throw new Error("There was a problem getting docs.");o.last_seq=T=w.seq;var e=s(o);return L.length&&(e.docs=L,r.emit("change",e)),A=!0,S.writeCheckpoint(w.seq,z).then(function(){if(A=!1,r.cancelled)throw p(),new Error("cancelled");w=void 0,y()}).catch(function(e){throw _(e),e})}function c(){var e={};return w.changes.forEach(function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map(function(e){return e.rev}))}),t.revsDiff(e).then(function(e){if(r.cancelled)throw p(),new Error("cancelled");w.diffs=e})}function l(){return xr(e,t,w.diffs,r).then(function(e){w.error=!e.ok,e.docs.forEach(function(e){delete w.diffs[e._id],o.docs_read++,w.docs.push(e)})})}function d(){if(!r.cancelled&&!w){if(0===E.length)return void f(!0);w=E.shift(),c().then(l).then(a).then(u).then(d).catch(function(e){h("batch processing terminated with error",e)})}}function f(e){if(0===x.changes.length)return void(0!==E.length||w||((P&&N.live||C)&&(r.state="pending",r.emit("paused")),C&&p()));(e||C||x.changes.length>=j)&&(E.push(x),x={seq:0,changes:[],docs:[]},"pending"!==r.state&&"stopped"!==r.state||(r.state="active",r.emit("active")),d())}function h(e,t){O||(t.message||(t.message=e),o.ok=!1,o.status="aborting",E=[],x={seq:0,changes:[],docs:[]},p(t))}function p(i){O||r.cancelled&&(o.status="cancelled",A)||(o.status=o.status||"complete",o.end_time=new Date,o.last_seq=T,O=!0,i?(i.result=o,"unauthorized"===i.name||"forbidden"===i.name?(r.emit("error",i),r.removeAllListeners()):Dr(n,r,i,function(){Ir(e,t,n,r)})):(r.emit("complete",o),r.removeAllListeners()))}function m(e){if(r.cancelled)return p();D(n)(e)&&(x.seq=e.seq,x.changes.push(e),f(0===E.length&&N.live))}function b(e){if(M=!1,r.cancelled)return p();if(e.results.length>0)N.since=e.last_seq,y(),f(!0);else{var t=function(){P?(N.live=!0,y()):C=!0,f(!0)};w||0!==e.results.length?t():(A=!0,S.writeCheckpoint(e.last_seq,z).then(function(){A=!1,o.last_seq=T=e.last_seq,t()}).catch(_))}}function v(e){if(M=!1,r.cancelled)return p();h("changes rejected",e)}function y(){function t(){i.cancel()}function o(){r.removeListener("cancel",t)}if(!M&&!C&&E.length<R){M=!0,r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",t);var i=e.changes(N).on("change",m);i.then(o,o),i.then(b).catch(v),n.retry&&(r._changes=i,r._abortChanges=t)}}function g(){i().then(function(){return r.cancelled?void p():S.getCheckpoint().then(function(e){T=e,N={since:T,limit:j,batch_size:j,style:"all_docs",doc_ids:I,return_docs:!0},n.filter&&("string"!=typeof n.filter?N.include_docs=!0:N.filter=n.filter),"heartbeat"in n&&(N.heartbeat=n.heartbeat),"timeout"in n&&(N.timeout=n.timeout),n.query_params&&(N.query_params=n.query_params),n.view&&(N.view=n.view),y()})}).catch(function(e){h("getCheckpoint rejected with ",e)})}function _(e){A=!1,h("writeCheckpoint completed with error",e)}var w,k,S,E=[],x={seq:0,changes:[],docs:[]},A=!1,C=!1,O=!1,T=0,P=n.continuous||n.live||!1,j=n.batch_size||100,R=n.batches_limit||10,M=!1,I=n.doc_ids,L=[],z=Y();o=o||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var N={};if(r.ready(e,t),r.cancelled)return void p();r._addedListeners||(r.once("cancel",p),"function"==typeof n.complete&&(r.once("error",n.complete),r.once("complete",function(e){n.complete(null,e)})),r._addedListeners=!0),void 0===n.since?g():i().then(function(){return A=!0,S.writeCheckpoint(n.since,z)}).then(function(){if(A=!1,r.cancelled)return void p();T=n.since,g()}).catch(_)}function Lr(){Wr.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Jr(function(t,n){e.once("complete",t),e.once("error",n)});e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch(function(){})}function zr(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function Nr(e,t,n,r){if("function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw T(yo,"`doc_ids` filter parameter is not a list.");n.complete=r,n=s(n),n.continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var o=new Lr(n);return Ir(zr(e,n),zr(t,n),n,o),o}function qr(e,t,n,r){return"function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n=s(n),n.PouchConstructor=n.PouchConstructor||this,e=zr(e,n),t=zr(t,n),new Fr(e,t,n,r)}function Fr(e,t,n,r){function o(e){p.emit("change",{direction:"pull",change:e})}function i(e){p.emit("change",{direction:"push",change:e})}function a(e){p.emit("denied",{direction:"push",doc:e})}function u(e){p.emit("denied",{direction:"pull",doc:e})}function s(){p.pushPaused=!0,p.pullPaused&&p.emit("paused")}function c(){p.pullPaused=!0,p.pushPaused&&p.emit("paused")}function l(){p.pushPaused=!1,p.pullPaused&&p.emit("active",{direction:"push"})}function d(){p.pullPaused=!1,p.pushPaused&&p.emit("active",{direction:"pull"})}function f(e){return function(t,n){var r="change"===t&&(n===o||n===i),f="denied"===t&&(n===u||n===a),h="paused"===t&&(n===c||n===s),m="active"===t&&(n===d||n===l);(r||f||h||m)&&(t in v||(v[t]={}),v[t][e]=!0,2===Object.keys(v[t]).length&&p.removeAllListeners(t))}}function h(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}var p=this;this.canceled=!1;var m=n.push?ao({},n,n.push):n,b=n.pull?ao({},n,n.pull):n;this.push=Nr(e,t,m),this.pull=Nr(t,e,b),this.pushPaused=!0,this.pullPaused=!0;var v={};n.live&&(this.push.on("complete",p.pull.cancel.bind(p.pull)),this.pull.on("complete",p.push.cancel.bind(p.push))),this.on("newListener",function(e){"change"===e?(h(p.pull,"change",o),h(p.push,"change",i)):"denied"===e?(h(p.pull,"denied",u),h(p.push,"denied",a)):"active"===e?(h(p.pull,"active",d),h(p.push,"active",l)):"paused"===e&&(h(p.pull,"paused",c),h(p.push,"paused",s))}),this.on("removeListener",function(e){"change"===e?(p.pull.removeListener("change",o),p.push.removeListener("change",i)):"denied"===e?(p.pull.removeListener("denied",u),p.push.removeListener("denied",a)):"active"===e?(p.pull.removeListener("active",d),p.push.removeListener("active",l)):"paused"===e&&(p.pull.removeListener("paused",c),p.push.removeListener("paused",s))}),this.pull.on("removeListener",f("pull")),this.push.on("removeListener",f("push"));var y=Jr.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return p.emit("complete",t),r&&r(null,t),p.removeAllListeners(),t},function(e){if(p.cancel(),r?r(e):p.emit("error",e),p.removeAllListeners(),r)throw e});this.then=function(e,t){return y.then(e,t)},this.catch=function(e){return y.catch(e)}}function Ur(e){e.replicate=Nr,e.sync=qr,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return{from:function(t,n,r){return e.constructor.replicate(t,e,n,r)},to:function(t,n,r){return e.constructor.replicate(e,t,n,r)}}}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}}var Br=r(n(206)),Yr=r(n(208)),Hr=r(n(209)),Wr=n(212),Vr=r(n(213)),Gr=r(n(207)),Xr=r(n(214)),$r=r(n(215)),Kr=r(n(216)),Jr="function"==typeof Promise?Promise:Br,Qr=Function.prototype.toString,Zr=Qr.call(Object),eo=Hr("pouchdb:api");m.prototype.get=function(e){var t=h(e);return this._store[t]},m.prototype.set=function(e,t){var n=h(e);return this._store[n]=t,!0},m.prototype.has=function(e){return h(e)in this._store},m.prototype.delete=function(e){var t=h(e),n=t in this._store;return delete this._store[t],n},m.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var o=t[n],i=this._store[o];o=p(o),e(i,o)}},Object.defineProperty(m.prototype,"size",{get:function(){return Object.keys(this._store).length}}),b.prototype.add=function(e){return this._store.set(e,!0)},b.prototype.has=function(e){return this._store.has(e)},b.prototype.forEach=function(e){this._store.forEach(function(t,n){e(n)})},Object.defineProperty(b.prototype,"size",{get:function(){return this._store.size}});var to,no;!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(to=b,no=m):(to=Set,no=Map);var ro,oo=6;if(_())ro=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),ro=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){ro=!1}Vr(S,Wr.EventEmitter),S.prototype.addListener=function(e,t,n,r){function o(){function e(){a=!1}if(i._listeners[t]){if(a)return void(a="waiting");a=!0;var u=f(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);n.changes(u).on("change",function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))}).on("complete",function(){"waiting"===a&&Gr(o),a=!1}).on("error",e)}}if(!this._listeners[t]){var i=this,a=!1;this._listeners[t]=o,this.on(e,o)}},S.prototype.removeListener=function(e,t){t in this._listeners&&(Wr.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},S.prototype.notifyLocalWindows=function(e){_()?chrome.storage.local.set({dbName:e}):w()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},S.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var io;io="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t};var ao=io;Vr(O,Error),O.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var uo=(new O(401,"unauthorized","Name or password is incorrect."),new O(400,"bad_request","Missing JSON list of 'docs'")),so=new O(404,"not_found","missing"),co=new O(409,"conflict","Document update conflict"),lo=new O(400,"bad_request","_id field must contain a string"),fo=new O(412,"missing_id","_id is required for puts"),ho=new O(400,"bad_request","Only reserved document ids may start with underscore."),po=(new O(412,"precondition_failed","Database not open"),new O(500,"unknown_error","Database encountered an unknown error")),mo=new O(500,"badarg","Some query argument is invalid"),bo=(new O(400,"invalid_request","Request was invalid"),new O(400,"query_parse_error","Some query parameter is invalid")),vo=new O(500,"doc_validation","Bad special document member"),yo=new O(400,"bad_request","Something wrong with the request"),go=new O(400,"bad_request","Document must be a JSON object"),_o=(new O(404,"not_found","Database not found"),new O(500,"indexed_db_went_bad","unknown")),wo=new O(500,"web_sql_went_bad","unknown"),ko=(new O(500,"levelDB_went_went_bad","unknown"),new O(403,"forbidden","Forbidden by design doc validate_doc_update function"),new O(400,"bad_request","Invalid rev format")),So=(new O(412,"file_exists","The database could not be created, the file already exists."),new O(412,"missing_stub","A pre-existing attachment stub wasn't found")),Eo=(new O(413,"invalid_url","Provided URL is invalid"),M.name);var xo=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Ao="queryKey",Co=/(?:^|&)([^&=]*)=?([^&]*)/g,Oo=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,To="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");Vr(pe,Wr.EventEmitter),pe.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},pe.prototype.doChanges=function(e){var t=this,n=e.complete;if(e=s(e),"live"in e&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=me,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"===e.since)return void this.db.info().then(function(r){if(t.isCancelled)return void n(null,{status:"cancelled"});e.since=r.update_seq,t.doChanges(e)},n);if(e.view&&!e.filter&&(e.filter="_view"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=N(e.view):e.filter=N(e.filter),"http"!==this.db.type()&&!e.doc_ids))return this.filterChanges(e);"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var r=this.db._changes(e);if(r&&"function"==typeof r.cancel){var o=t.cancel;t.cancel=Yr(function(e){r.cancel(),o.apply(this,e)})}},pe.prototype.filterChanges=function(e){var t=this,n=e.complete;if("_view"===e.filter){if(!e.view||"string"!=typeof e.view){var r=T(yo,"`view` filter parameter not found or invalid.");return n(r)}var o=z(e.view);this.db.get("_design/"+o[0],function(r,i){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(P(r));var a=i&&i.views&&i.views[o[1]]&&i.views[o[1]].map;if(!a)return n(T(so,i.views?"missing json key: "+o[1]:"missing json key: views"));e.filter=fe(a),t.doChanges(e)})}else{var i=z(e.filter);if(!i)return t.doChanges(e);this.db.get("_design/"+i[0],function(r,o){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(P(r));var a=o&&o.filters&&o.filters[i[1]];if(!a)return n(T(so,o&&o.filters?"missing json key: "+i[1]:"missing json key: filters"));e.filter=de(a),t.doChanges(e)})}},Vr(Ee,Wr.EventEmitter),Ee.prototype.post=d("post",function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(T(go));this.bulkDocs({docs:[e]},t,ve(n))}),Ee.prototype.put=d("put",function(e,t,n){return"function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e)?n(T(go)):(I(e._id),ce(e._id)&&"function"==typeof this._putLocal?e._deleted?this._removeLocal(e,n):this._putLocal(e,n):void("function"==typeof this._put&&!1!==t.new_edits?this._put(e,t,n):this.bulkDocs({docs:[e]},t,ve(n))))}),Ee.prototype.putAttachment=d("putAttachment",function(e,t,n,r,o){function i(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:o,data:r,revpos:++n},a.put(e)}var a=this;return"function"==typeof o&&(o=r,r=n,n=null),void 0===o&&(o=r,r=n,n=null),o||E("warn","Attachment",t,"on document",e,"is missing content_type"),a.get(e).then(function(e){if(e._rev!==n)throw T(co);return i(e)},function(t){if(t.reason===so.message)return i({_id:e});throw t})}),Ee.prototype.removeAttachment=d("removeAttachment",function(e,t,n,r){var o=this;o.get(e,function(e,i){return e?void r(e):i._rev!==n?void r(T(co)):i._attachments?(delete i._attachments[t],0===Object.keys(i._attachments).length&&delete i._attachments,void o.put(i,r)):r()})}),Ee.prototype.remove=d("remove",function(e,t,n,r){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof n&&(r=n,n={})):(o=e,"function"==typeof t?(r=t,n={}):(r=n,n=t)),n=n||{},n.was_delete=!0;var i={_id:o._id,_rev:o._rev||n.rev};if(i._deleted=!0,ce(i._id)&&"function"==typeof this._removeLocal)return this._removeLocal(o,r);this.bulkDocs({docs:[i]},n,ve(r))}),Ee.prototype.revsDiff=d("revsDiff",function(e,t,n){function r(e,t){u.has(e)||u.set(e,{missing:[]}),u.get(e).missing.push(t)}function o(t,n){var o=e[t].slice(0);W(n,function(e,n,i,a,u){var s=n+"-"+i,c=o.indexOf(s);-1!==c&&(o.splice(c,1),"available"!==u.status&&r(t,s))}),o.forEach(function(e){r(t,e)})}"function"==typeof t&&(n=t,t={});var i=Object.keys(e);if(!i.length)return n(null,{});var a=0,u=new no;i.map(function(t){this._getRevisionTree(t,function(r,s){if(r&&404===r.status&&"missing"===r.message)u.set(t,{missing:e[t]});else{if(r)return n(r);o(t,s)}if(++a===i.length){var c={};return u.forEach(function(e,t){c[t]=e}),n(null,c)}})},this)}),Ee.prototype.bulkGet=d("bulkGet",function(e,t){g(this,e,t)}),Ee.prototype.compactDocument=d("compactDocument",function(e,t,n){var r=this;this._getRevisionTree(e,function(o,i){if(o)return n(o);var a=_e(i),u=[],s=[];Object.keys(a).forEach(function(e){a[e]>t&&u.push(e)}),W(i,function(e,t,n,r,o){var i=t+"-"+n;"available"===o.status&&-1!==u.indexOf(i)&&s.push(i)}),r._doCompaction(e,s,n)})}),Ee.prototype.compact=d("compact",function(e,t){"function"==typeof e&&(t=e,e={});var n=this;e=e||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:e,callback:t}),1===n._compactionQueue.length&&ke(n)}),Ee.prototype._compact=function(e,t){function n(e){a.push(o.compactDocument(e.id,0))}function r(e){var n=e.last_seq;Jr.all(a).then(function(){return F(o,"_local/compaction",function(e){return(!e.last_seq||e.last_seq<n)&&(e.last_seq=n,e)})}).then(function(){t(null,{ok:!0})}).catch(t)}var o=this,i={return_docs:!1,last_seq:e.last_seq||0},a=[];o.changes(i).on("change",n).on("complete",r).on("error",t)},Ee.prototype.get=d("get",function(e,t,n){function r(){var r=[],a=o.length;if(!a)return n(null,r);o.forEach(function(o){i.get(e,{rev:o,revs:t.revs,latest:t.latest,attachments:t.attachments},function(e,t){if(e)r.push({missing:o});else{for(var i,u=0,s=r.length;u<s;u++)if(r[u].ok&&r[u].ok._rev===t._rev){i=!0;break}i||r.push({ok:t})}--a||n(null,r)})})}if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(T(lo));if(ce(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var o=[],i=this;if(!t.open_revs)return this._get(e,t,function(e,r){if(e)return n(e);var o=r.doc,a=r.metadata,u=r.ctx;if(t.conflicts){var s=X(a);s.length&&(o._conflicts=s)}if(se(a,o._rev)&&(o._deleted=!0),t.revs||t.revs_info){for(var c=o._rev.split("-"),l=parseInt(c[0],10),d=c[1],f=K(a.rev_tree),h=null,p=0;p<f.length;p++){var m=f[p],b=m.ids.map(function(e){return e.id}).indexOf(d);(b===l-1||!h&&-1!==b)&&(h=m)}var v=h.ids.map(function(e){return e.id}).indexOf(o._rev.split("-")[1])+1,y=h.ids.length-v;if(h.ids.splice(v,y),h.ids.reverse(),t.revs&&(o._revisions={start:h.pos+h.ids.length-1,ids:h.ids.map(function(e){return e.id})}),t.revs_info){var g=h.pos+h.ids.length;o._revs_info=h.ids.map(function(e){return g--,{rev:g+"-"+e.id,status:e.opts.status}})}}if(t.attachments&&o._attachments){var _=o._attachments,w=Object.keys(_).length;if(0===w)return n(null,o);Object.keys(_).forEach(function(e){this._getAttachment(o._id,e,_[e],{rev:o._rev,binary:t.binary,ctx:u},function(t,r){var i=o._attachments[e];i.data=r,delete i.stub,delete i.length,--w||n(null,o)})},i)}else{if(o._attachments)for(var k in o._attachments)o._attachments.hasOwnProperty(k)&&(o._attachments[k].stub=!0);n(null,o)}});if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){if(e)return n(e);o=G(t).map(function(e){return e.rev}),r()});else{if(!Array.isArray(t.open_revs))return n(T(po,"function_clause"));o=t.open_revs;for(var a=0;a<o.length;a++){var u=o[a];if("string"!=typeof u||!/^\d+-/.test(u))return n(T(ko))}r()}}),Ee.prototype.getAttachment=d("getAttachment",function(e,t,n,r){var o=this;n instanceof Function&&(r=n,n={}),this._get(e,n,function(i,a){return i?r(i):a.doc._attachments&&a.doc._attachments[t]?(n.ctx=a.ctx,n.binary=!0,o._getAttachment(e,t,a.doc._attachments[t],n,r),void 0):r(T(so))})}),Ee.prototype.allDocs=d("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(n)return void t(T(bo,"Query parameter `"+n+"` is not compatible with multi-get"));if("http"!==this.type())return we(this,e,t)}return this._allDocs(e,t)}),Ee.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),new pe(this,e,t)},Ee.prototype.close=d("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),Ee.prototype.info=d("info",function(e){var t=this;this._info(function(n,r){if(n)return e(n);r.db_name=r.db_name||t.name,r.auto_compaction=!(!t.auto_compaction||"http"===t.type()),r.adapter=t.type(),e(null,r)})}),Ee.prototype.id=d("id",function(e){return this._id(e)}),Ee.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Ee.prototype.bulkDocs=d("bulkDocs",function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(T(uo));for(var r=0;r<e.docs.length;++r)if("object"!=typeof e.docs[r]||Array.isArray(e.docs[r]))return n(T(go));var o;if(e.docs.forEach(function(e){e._attachments&&Object.keys(e._attachments).forEach(function(t){o=o||Se(t),e._attachments[t].content_type||E("warn","Attachment",t,"on document",e._id,"is missing content_type")})}),o)return n(T(yo,o));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var i=this;t.new_edits||"http"===i.type()||e.docs.sort(ge),ye(e.docs);var a=e.docs.map(function(e){return e._id});return this._bulkDocs(e,t,function(e,r){if(e)return n(e);if(t.new_edits||(r=r.filter(function(e){return e.error})),"http"!==i.type())for(var o=0,u=r.length;o<u;o++)r[o].id=r[o].id||a[o];n(null,r)})}),Ee.prototype.registerDependentDatabase=d("registerDependentDatabase",function(e,t){function n(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)}var r=new this.constructor(e,this.__opts);F(this,"_local/_pouch_dependentDbs",n).then(function(){t(null,{db:r})}).catch(t)}),Ee.prototype.destroy=d("destroy",function(e,t){function n(){r._destroy(e,function(e,n){if(e)return t(e);r._destroyed=!0,r.emit("destroyed"),t(null,n||{ok:!0})})}"function"==typeof e&&(t=e,e={});var r=this,o=!("use_prefix"in r)||r.use_prefix;if("http"===r.type())return n();r.get("_local/_pouch_dependentDbs",function(e,i){if(e)return 404!==e.status?t(e):n();var a=i.dependentDbs,u=r.constructor,s=Object.keys(a).map(function(e){var t=o?e.replace(new RegExp("^"+u.prefix),""):e;return new u(t,r.__opts).destroy()});Jr.all(s).then(n,t)})}),xe.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},xe.prototype.fail=function(e){this.failed=e,this.execute()},xe.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},xe.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},Vr(Oe,Ee),Oe.debug=Hr,Oe.adapters={},Oe.preferredAdapters=[],Oe.prefix="_pouch_";var Po=new Wr.EventEmitter;!function(e){Object.keys(Wr.EventEmitter.prototype).forEach(function(t){"function"==typeof Wr.EventEmitter.prototype[t]&&(e[t]=Po[t].bind(Po))});var t=e._destructionListeners=new no;e.on("destroyed",function(e){t.get(e).forEach(function(e){e()}),t.delete(e)})}(Oe),Oe.adapter=function(e,t,n){t.valid()&&(Oe.adapters[e]=t,n&&Oe.preferredAdapters.push(e))},Oe.plugin=function(e){if("function"==typeof e)e(Oe);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){Oe.prototype[t]=e[t]})}return Oe},Oe.defaults=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);n=n||{},e&&"object"==typeof e&&(n=e,e=n.name,delete n.name),n=ao({},t.__defaults,n),Oe.call(this,e,n)}return Vr(t,Oe),t.preferredAdapters=Oe.preferredAdapters.slice(),Object.keys(Oe).forEach(function(e){e in t||(t[e]=Oe[e])}),t.__defaults=ao({},this.__defaults,e),t};Oe.version="6.1.1";var jo,Do=Te(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Ro=Te(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]),Mo=function(e){return atob(e)},Io=function(e){return btoa(e)},Lo=t.setImmediate||t.setTimeout,zo=32768,No=5,qo="document-store",Fo="by-sequence",Uo="attach-store",Bo="attach-seq-store",Yo="meta-store",Ho="local-store",Wo="detect-blob-support",Vo=new S,Go=!1,Xo=[],$o=new no,Ko=new no;Et.valid=function(){return!("undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform))&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange};var Jo=function(e){e.adapter("idb",Et,!0)},Qo=7,Zo=Dt("document-store"),ei=Dt("by-sequence"),ti=Dt("attach-store"),ni=Dt("local-store"),ri=Dt("metadata-store"),oi=Dt("attach-seq-store"),ii=new no,ai=new S,ui=1,si="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+ei+" (seq, deleted)",ci="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+ei+" (doc_id, rev)",li="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+Zo+" (winningseq)",di="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+oi+" (seq)",fi="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+oi+" (digest, seq)",hi=ei+".seq = "+Zo+".winningseq",pi=ei+".seq AS seq, "+ei+".deleted AS deleted, "+ei+".json AS data, "+ei+".rev AS rev, "+Zo+".json AS metadata";Qt.valid=Kt,Qt.use_prefix=!0;var mi=function(e){e.adapter("websql",Qt,!0)},bi=function(){try{return new XMLHttpRequest,!0}catch(e){return!1}}(),vi=function(){},yi=25,gi=50,_i={},wi=Hr("pouchdb:http");bn.valid=function(){return!0};var ki=function(e){e.adapter("http",bn,!1),e.adapter("https",bn,!1)},Si=-324,Ei=3,xi="";jn.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},jn.prototype.finish=function(){return this.promise},Vr(Rn,Error),Vr(Mn,Error),Vr(In,Error);var Ai=E.bind(null,"log"),Ci=Array.isArray,Oi=JSON.parse,Ti={},Pi=new jn,ji=50,Di={_sum:function(e,t){return zn(t)},_count:function(e,t){return t.length},_stats:function(e,t){return{sum:zn(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e[n];t+=o*o}return t}(t)}}},Ri=function(e){return Yr(function(t){var n=t.pop(),r=e.apply(this,t);return"function"==typeof n&&qn(r,n),r})}(function(){var e=this;return"http"===e.type()?vr(e):"function"==typeof e._viewCleanup?ur(e):yr(e)}),Mi=function(e,t,n){"function"==typeof t&&(n=t,t={}),t=t?nr(t):{},"function"==typeof e&&(e={map:e});var r=this,o=Jr.resolve().then(function(){return gr(r,e,t)});return qn(o,n),o},Ii={query:Mi,viewCleanup:Ri},Li=1,zi="pouchdb",Ni=5,qi=0;Cr.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then(function(){return n.updateSource(e,t)})},Cr.prototype.updateTarget=function(e,t){return Ar(this.target,this.id,e,t,this.returnValue)},Cr.prototype.updateSource=function(e,t){var n=this;return this.readOnlySource?Jr.resolve(!0):Ar(this.src,this.id,e,t,this.returnValue).catch(function(e){if(jr(e))return n.readOnlySource=!0,!0;throw e})};var Fi={undefined:function(e,t){return 0===gn(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return Or(t,e).last_seq}};Cr.prototype.getCheckpoint=function(){var e=this;return e.target.get(e.id).then(function(t){return e.readOnlySource?Jr.resolve(t.last_seq):e.src.get(e.id).then(function(e){if(t.version!==e.version)return qi;var n;return n=t.version?t.version.toString():"undefined",n in Fi?Fi[n](t,e):qi},function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:qi}).then(function(){return qi},function(n){return jr(n)?(e.readOnlySource=!0,t.last_seq):qi});throw n})}).catch(function(e){if(404!==e.status)throw e;return qi})};var Ui=0;Vr(Lr,Wr.EventEmitter),Lr.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},Lr.prototype.ready=function(e,t){function n(){o.cancel()}function r(){e.removeListener("destroyed",n),t.removeListener("destroyed",n)}var o=this;o._readyCalled||(o._readyCalled=!0,e.once("destroyed",n),t.once("destroyed",n),o.once("complete",r))},Vr(Fr,Wr.EventEmitter),Fr.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},Oe.plugin(Jo).plugin(mi).plugin(ki).plugin(Ii).plugin(Ur),e.exports=Oe}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,e!==r&&s(this,e)}function i(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(e,t,n){p(function(){var r;try{r=t(n)}catch(t){return m.reject(e,t)}r===e?m.reject(e,new TypeError("Cannot resolve promise with itself")):m.resolve(e,r)})}function u(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function s(e,t){function n(t){i||(i=!0,m.reject(e,t))}function r(t){i||(i=!0,m.resolve(e,t))}function o(){t(r,n)}var i=!1,a=c(o);"error"===a.status&&n(a.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function l(e){return e instanceof this?e:m.resolve(new this(r),e)}function d(e){var t=new this(r);return m.reject(t,e)}function f(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=new Array(n),a=0,u=-1,s=new this(r);++u<n;)!function(e,r){function u(e){i[r]=e,++a!==n||o||(o=!0,m.resolve(s,i))}t.resolve(e).then(u,function(e){o||(o=!0,m.reject(s,e))})}(e[u],u);return s}function h(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=-1,a=new this(r);++i<n;)!function(e){t.resolve(e).then(function(e){o||(o=!0,m.resolve(a,e))},function(e){o||(o=!0,m.reject(a,e))})}(e[i]);return a}var p=n(207),m={},b=["REJECTED"],v=["FULFILLED"],y=["PENDING"];e.exports=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if("function"!=typeof e&&this.state===v||"function"!=typeof t&&this.state===b)return this;var n=new this.constructor(r);if(this.state!==y){a(n,this.state===v?e:t,this.outcome)}else this.queue.push(new i(n,e,t));return n},i.prototype.callFulfilled=function(e){m.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){m.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},m.resolve=function(e,t){var n=c(u,t);if("error"===n.status)return m.reject(e,n.value);var r=n.value;if(r)s(e,r);else{e.state=v,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},m.reject=function(e,t){e.state=b,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},o.resolve=l,o.reject=d,o.all=f,o.race=h},function(e,t){(function(t){"use strict";function n(){l=!0;for(var e,t,n=d.length;n;){for(t=d,d=[],e=-1;++e<n;)t[e]();n=d.length}l=!1}function r(e){1!==d.push(e)||l||o()}var o,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var a=0,u=new i(n),s=t.document.createTextNode("");u.observe(s,{characterData:!0}),o=function(){s.data=a=++a%2}}else if(t.setImmediate||void 0===t.MessageChannel)o="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){n(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(n,0)};else{var c=new t.MessageChannel;c.port1.onmessage=n,o=function(){c.port2.postMessage(0)}}var l,d=[];e.exports=r}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}e.exports=n},function(e,t,n){(function(r){function o(){return!("undefined"==typeof window||!window||void 0===window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r)}}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function u(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function s(){try{return t.storage.debug}catch(e){}if(void 0!==r&&"env"in r)return r.env.DEBUG}t=e.exports=n(210),t.log=a,t.formatArgs=i,t.save=u,t.load=s,t.useColors=o,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(s())}).call(t,n(191))},function(e,t,n){function r(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}function o(e){function n(){if(n.enabled){var e=n,r=+new Date,o=r-(c||r);e.diff=o,e.prev=c,e.curr=r,c=r;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var u=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;u++;var o=t.formatters[r];if("function"==typeof o){var a=i[u];n=o.call(e,a),i.splice(u,1),u--}return n}),t.formatArgs.call(e,i);(n.log||t.log||console.log.bind(console)).apply(e,i)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=r(e),"function"==typeof t.init&&t.init(n),n}function i(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(e=n[o].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function u(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function s(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=o.debug=o.default=o,t.coerce=s,t.disable=a,t.enable=i,t.enabled=u,t.humanize=n(211),t.names=[],t.skips=[],t.formatters={};var c},function(e,t){function n(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*s;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(e){return e>=c?Math.round(e/c)+"d":e>=s?Math.round(e/s)+"h":e>=u?Math.round(e/u)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return i(e,c,"day")||i(e,s,"hour")||i(e,u,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,u=60*a,s=60*u,c=24*s,l=365.25*c;e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&e.length>0)return n(e);if("number"===i&&!1===isNaN(e))return t.long?o(e):r(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,u,s,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),n.apply(this,u)}else if(i(n))for(u=Array.prototype.slice.call(arguments,1),c=n.slice(),o=c.length,s=0;s<o;s++)c[s].apply(this,u);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var o=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,a,u;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(u=a;u-- >0;)if(n[u]===t||n[u].listener&&n[u].listener===t){o=u;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){(function(){var t={}.hasOwnProperty,n=[].slice;e.exports=function(e,r){var o,i,a,u;i=[],u=[];for(o in r)t.call(r,o)&&(a=r[o],"this"!==o&&(i.push(o),u.push(a)));return Function.apply(null,n.call(i).concat([e])).apply(r.this,u)}}).call(this)},function(e,t,n){!function(t){e.exports=t()}(function(e){"use strict";function t(e,t){var n=e[0],r=e[1],o=e[2],i=e[3];n+=(r&o|~r&i)+t[0]-680876936|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[1]-389564586|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[2]+606105819|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[3]-1044525330|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+t[4]-176418897|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[5]+1200080426|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[6]-1473231341|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[7]-45705983|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+t[8]+1770035416|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[9]-1958414417|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[10]-42063|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[11]-1990404162|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+t[12]+1804603682|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[13]-40341101|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[14]-1502002290|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[15]+1236535329|0,r=(r<<22|r>>>10)+o|0,n+=(r&i|o&~i)+t[1]-165796510|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[6]-1069501632|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[11]+643717713|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[0]-373897302|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+t[5]-701558691|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[10]+38016083|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[15]-660478335|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[4]-405537848|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+t[9]+568446438|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[14]-1019803690|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[3]-187363961|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[8]+1163531501|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+t[13]-1444681467|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[2]-51403784|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[7]+1735328473|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[12]-1926607734|0,r=(r<<20|r>>>12)+o|0,n+=(r^o^i)+t[5]-378558|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[8]-2022574463|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[11]+1839030562|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[14]-35309556|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+t[1]-1530992060|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[4]+1272893353|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[7]-155497632|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[10]-1094730640|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+t[13]+681279174|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[0]-358537222|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[3]-722521979|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[6]+76029189|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+t[9]-640364487|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[12]-421815835|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[15]+530742520|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[2]-995338651|0,r=(r<<23|r>>>9)+o|0,n+=(o^(r|~i))+t[0]-198630844|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[7]+1126891415|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[14]-1416354905|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[5]-57434055|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+t[12]+1700485571|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[3]-1894986606|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[10]-1051523|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[1]-2054922799|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+t[8]+1873313359|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[15]-30611744|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[6]-1560198380|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[13]+1309151649|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+t[4]-145523070|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[11]-1120210379|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[2]+718787259|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[9]-343485551|0,r=(r<<21|r>>>11)+o|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=o+e[2]|0,e[3]=i+e[3]|0}function n(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var r,o,i,a,u,s,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=c;r+=64)t(l,n(e.substring(r-64,r)));for(e=e.substring(r-64),o=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<o;r+=1)i[r>>2]|=e.charCodeAt(r)<<(r%4<<3);if(i[r>>2]|=128<<(r%4<<3),r>55)for(t(l,i),r=0;r<16;r+=1)i[r]=0;return a=8*c,a=a.toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(a[2],16),s=parseInt(a[1],16)||0,i[14]=u,i[15]=s,t(l,i),l}function i(e){var n,o,i,a,u,s,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=c;n+=64)t(l,r(e.subarray(n-64,n)));for(e=n-64<c?e.subarray(n-64):new Uint8Array(0),o=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<o;n+=1)i[n>>2]|=e[n]<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(t(l,i),n=0;n<16;n+=1)i[n]=0;return a=8*c,a=a.toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(a[2],16),s=parseInt(a[1],16)||0,i[14]=u,i[15]=s,t(l,i),l}function a(e){var t,n="";for(t=0;t<4;t+=1)n+=p[e>>8*t+4&15]+p[e>>8*t&15];return n}function u(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function s(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e,t){var n,r=e.length,o=new ArrayBuffer(r),i=new Uint8Array(o);for(n=0;n<r;n+=1)i[n]=e.charCodeAt(n);return t?i:o}function l(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function d(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),n?r:r.buffer}function f(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function h(){this.reset()}var p=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==u(o("hello"))&&function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return e=0|e||0,e<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var o,i,a,u,s=this.byteLength,c=t(n,s),l=s;return r!==e&&(l=t(r,s)),c>l?new ArrayBuffer(0):(o=l-c,i=new ArrayBuffer(o),a=new Uint8Array(i),u=new Uint8Array(this,c,o),a.set(u),i)}}(),h.prototype.append=function(e){return this.appendBinary(s(e)),this},h.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var r,o=this._buff.length;for(r=64;r<=o;r+=64)t(this._hash,n(this._buff.substring(r-64,r)));return this._buff=this._buff.substring(r-64),this},h.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(i,o),n=u(this._hash),e&&(n=f(n)),this.reset(),n},h.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},h.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},h.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},h.prototype._finish=function(e,n){var r,o,i,a=n;if(e[a>>2]|=128<<(a%4<<3),a>55)for(t(this._hash,e),a=0;a<16;a+=1)e[a]=0;r=8*this._length,r=r.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),i=parseInt(r[1],16)||0,e[14]=o,e[15]=i,t(this._hash,e)},h.hash=function(e,t){return h.hashBinary(s(e),t)},h.hashBinary=function(e,t){var n=o(e),r=u(n);return t?f(r):r},h.ArrayBuffer=function(){this.reset()},h.ArrayBuffer.prototype.append=function(e){var n,o=d(this._buff.buffer,e,!0),i=o.length;for(this._length+=e.byteLength,n=64;n<=i;n+=64)t(this._hash,r(o.subarray(n-64,n)));return this._buff=n-64<i?new Uint8Array(o.buffer.slice(n-64)):new Uint8Array(0),this},h.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r[t]<<(t%4<<3);return this._finish(i,o),n=u(this._hash),e&&(n=f(n)),this.reset(),n},h.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.ArrayBuffer.prototype.getState=function(){var e=h.prototype.getState.call(this);return e.buff=l(e.buff),e},h.ArrayBuffer.prototype.setState=function(e){return e.buff=c(e.buff,!0),h.prototype.setState.call(this,e)},h.ArrayBuffer.prototype.destroy=h.prototype.destroy,h.ArrayBuffer.prototype._finish=h.prototype._finish,h.ArrayBuffer.hash=function(e,t){var n=i(new Uint8Array(e)),r=u(n);return t?f(r):r},h})},function(e,t){"use strict";function n(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(e);else if(i===t.length-2){var a=t.pop();o[a]=e}else t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,r,o,i,a,u,s,c,l,d,f,h="";n=t.pop();)if(r=n.obj,o=n.prefix||"",i=n.val||"",h+=o,i)h+=i;else if("object"!=typeof r)h+=void 0===r?null:JSON.stringify(r);else if(null===r)h+="null";else if(Array.isArray(r)){for(t.push({val:"]"}),a=r.length-1;a>=0;a--)u=0===a?"":",",t.push({obj:r[a],prefix:u});t.push({val:"["})}else{s=[];for(c in r)r.hasOwnProperty(c)&&s.push(c);for(t.push({val:"}"}),a=s.length-1;a>=0;a--)l=s[a],d=r[l],f=a>0?",":"",f+=JSON.stringify(l)+":",t.push({obj:d,prefix:f});t.push({val:"{"})}return h},t.parse=function(e){for(var t,r,o,i,a,u,s,c,l,d=[],f=[],h=0;;)if("}"!==(t=e[h++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":h+=3,n(null,d,f);break;case"t":h+=3,n(!0,d,f);break;case"f":h+=4,n(!1,d,f);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(r="",h--;;){if(o=e[h++],!/[\d\.\-e\+]/.test(o)){h--;break}r+=o}n(parseFloat(r),d,f);break;case'"':for(i="",a=void 0,u=0;;){if('"'===(s=e[h++])&&("\\"!==a||u%2!=1))break;i+=s,a=s,"\\"===a?u++:u=0}n(JSON.parse('"'+i+'"'),d,f);break;case"[":c={element:[],index:d.length},d.push(c.element),f.push(c);break;case"{":l={element:{},index:d.length},d.push(l.element),f.push(l);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===d.length)return d.pop();n(d.pop(),d,f)}}},function(e,t,n){"use strict";var r=n(218),o=n(224),i=n(226),a={};a.createIndex=r.toPromise(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to create"));("http"===this.type()?o:i).createIndex(this,e,t)}),a.find=r.toPromise(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to find()"));("http"===this.type()?o:i).find(this,e,t)}),a.getIndexes=r.toPromise(function(e){("http"===this.type()?o:i).getIndexes(this,e)}),a.deleteIndex=r.toPromise(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to delete"));("http"===this.type()?o:i).deleteIndex(this,e,t)}),e.exports=a,"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(a)},function(e,t,n){(function(e){"use strict";var r=n(219);t.once=function(e){var n=!1;return t.getArguments(function(t){if(n)throw console.trace(),new Error("once called  more than once");n=!0,e.apply(this,t)})},t.getArguments=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}},t.toPromise=function(n){return t.getArguments(function(o){var i,a=this,u="function"==typeof o[o.length-1]&&o.pop();u&&(i=function(t,n){e.nextTick(function(){u(t,n)})});var s=new r(function(e,r){try{var i=t.once(function(t,n){t?r(t):e(n)});o.push(i),n.apply(a,o)}catch(e){r(e)}});return i&&s.then(function(e){i(null,e)},i),s.cancel=function(){return this},s})},t.inherits=n(213),t.Promise=r,t.clone=function(e){return t.extend(!0,{},e)},t.extend=n(221),t.callbackify=function(e){return t.getArguments(function(n){var r=n.pop(),o=e.apply(this,n);return t.promisedCallback(o,r),o})},t.promisedCallback=function(t,n){return t.then(function(t){e.nextTick(function(){n(null,t)})},function(t){e.nextTick(function(){n(t)})}),t};var o=n(222),i=n(223);t.MD5=function(t){return e.browser?i.hash(t):o.createHash("md5").update(t).digest("hex")},t.flatten=t.getArguments(function(e){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];Array.isArray(i)?n=n.concat(t.flatten.apply(null,i)):n.push(i)}return n}),t.mergeObjects=function(e){for(var n={},r=0,o=e.length;r<o;r++)n=t.extend(!0,n,e[r]);return n},t.getFieldFromDoc=function(e,t){for(var n=e,r=0,o=t.length;r<o;r++){if(!(n=n[t[r]]))break}return n},t.setFieldInDoc=function(e,t,n){for(var r=0,o=t.length;r<o-1;r++){e=e[t[r]]={}}e[t[o-1]]=n},t.parseField=function(e){for(var t=[],n="",r=0,o=e.length;r<o;r++){var i=e[r];"."===i?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=i}return t.push(n),t},t.pick=function(e,n){for(var r={},o=0,i=n.length;o<i;o++){var a=t.parseField(n[o]),u=t.getFieldFromDoc(e,a);void 0!==u&&t.setFieldInDoc(r,a,u)}return r},t.oneArrayIsSubArrayOfOther=function(e,t){for(var n=0,r=Math.min(e.length,t.length);n<r;n++)if(e[n]!==t[n])return!1;return!0},t.oneArrayIsStrictSubArrayOfOther=function(e,n){return!(e.length>n.length)&&t.oneArrayIsSubArrayOfOther(e,n)},t.oneSetIsSubArrayOfOther=function(e,t){e=e.slice();for(var n=0,r=t.length;n<r;n++){var o=t[n];if(!e.length)break;var i=e.indexOf(o);if(-1===i)return!1;e.splice(i,1)}return!0},t.compare=function(e,t){return e<t?-1:e>t?1:0},t.arrayToObject=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n]]=!0;return t},t.max=function(e,t){for(var n=null,r=-1,o=0,i=e.length;o<i;o++){var a=e[o],u=t(a);u>r&&(r=u,n=a)}return n},t.arrayEquals=function(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},t.uniq=function(e){for(var t={},n=0;n<e.length;n++)t["$"+e[n]]=!0;return Object.keys(t).map(function(e){return e.substring(1)})},t.log=n(209)("pouchdb:find")}).call(t,n(191))},function(e,t,n){"use strict";var r=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(n(220)),o="function"==typeof Promise?Promise:r;e.exports=o},function(e,t,n){(function(t){"use strict";function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,t.browser||(this.handled=g),e!==r&&s(this,e)}function i(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(e,t,n){p(function(){var r;try{r=t(n)}catch(t){return m.reject(e,t)}r===e?m.reject(e,new TypeError("Cannot resolve promise with itself")):m.resolve(e,r)})}function u(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function s(e,t){function n(t){i||(i=!0,m.reject(e,t))}function r(t){i||(i=!0,m.resolve(e,t))}function o(){t(r,n)}var i=!1,a=c(o);"error"===a.status&&n(a.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function l(e){return e instanceof this?e:m.resolve(new this(r),e)}function d(e){var t=new this(r);return m.reject(t,e)}function f(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=new Array(n),a=0,u=-1,s=new this(r);++u<n;)!function(e,r){function u(e){i[r]=e,++a!==n||o||(o=!0,m.resolve(s,i))}t.resolve(e).then(u,function(e){o||(o=!0,m.reject(s,e))})}(e[u],u);return s}function h(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=-1,a=new this(r);++i<n;)!function(e){t.resolve(e).then(function(e){o||(o=!0,m.resolve(a,e))},function(e){o||(o=!0,m.reject(a,e))})}(e[i]);return a}var p=n(207),m={},b=["REJECTED"],v=["FULFILLED"],y=["PENDING"];if(!t.browser)var g=["UNHANDLED"];e.exports=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,n){if("function"!=typeof e&&this.state===v||"function"!=typeof n&&this.state===b)return this;var o=new this.constructor(r);if(t.browser||this.handled===g&&(this.handled=null),this.state!==y){a(o,this.state===v?e:n,this.outcome)}else this.queue.push(new i(o,e,n));return o},i.prototype.callFulfilled=function(e){m.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){m.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},m.resolve=function(e,t){var n=c(u,t);if("error"===n.status)return m.reject(e,n.value);var r=n.value;if(r)s(e,r);else{e.state=v,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},m.reject=function(e,n){e.state=b,e.outcome=n,t.browser||e.handled===g&&p(function(){e.handled===g&&t.emit("unhandledRejection",n,e)});for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callRejected(n);return e},o.resolve=l,o.reject=d,o.all=f,o.race=h}).call(t,n(191))},function(e,t){"use strict";function n(e){return null===e?String(e):"object"==typeof e||"function"==typeof e?s[f.call(e)]||"object":typeof e}function r(e){return null!==e&&e===e.window}function o(e){if(!e||"object"!==n(e)||e.nodeType||r(e))return!1;try{if(e.constructor&&!h.call(e,"constructor")&&!h.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var t;for(t in e);return void 0===t||h.call(e,t)}function i(e){return"function"===n(e)}function a(){for(var e=[],t=-1,n=arguments.length,r=new Array(n);++t<n;)r[t]=arguments[t];var o={};e.push({args:r,result:{container:o,key:"key"}});for(var i;i=e.pop();)u(e,i.args,i.result);return o.key}function u(e,t,n){var r,a,u,s,c,l,d,f=t[0]||{},h=1,m=t.length,b=!1,v=/\d+/;for("boolean"==typeof f&&(b=f,f=t[1]||{},h=2),"object"==typeof f||i(f)||(f={}),m===h&&(f=this,--h);h<m;h++)if(null!=(r=t[h])){d=p(r);for(a in r)if(!(a in Object.prototype)){if(d&&!v.test(a))continue;if(u=f[a],s=r[a],f===s)continue;b&&s&&(o(s)||(c=p(s)))?(c?(c=!1,l=u&&p(u)?u:[]):l=u&&o(u)?u:{},e.push({args:[b,l,s],result:{container:f,key:a}})):void 0!==s&&(p(r)&&i(s)||(f[a]=s))}}n.container[n.key]=f}for(var s={},c=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],l=0;l<c.length;l++){var d=c[l];s["[object "+d+"]"]=d.toLowerCase()}var f=s.toString,h=s.hasOwnProperty,p=Array.isArray||function(e){return"array"===n(e)};e.exports=a},function(e,t){},function(e,t,n){!function(t){e.exports=t()}(function(e){"use strict";var t=function(e,t){return e+t&4294967295},n=function(e,n,r,o,i,a){return n=t(t(n,e),t(o,a)),t(n<<i|n>>>32-i,r)},r=function(e,t,r,o,i,a,u){return n(t&r|~t&o,e,t,i,a,u)},o=function(e,t,r,o,i,a,u){return n(t&o|r&~o,e,t,i,a,u)},i=function(e,t,r,o,i,a,u){return n(t^r^o,e,t,i,a,u)},a=function(e,t,r,o,i,a,u){return n(r^(t|~o),e,t,i,a,u)},u=function(e,n){var u=e[0],s=e[1],c=e[2],l=e[3];u=r(u,s,c,l,n[0],7,-680876936),l=r(l,u,s,c,n[1],12,-389564586),c=r(c,l,u,s,n[2],17,606105819),s=r(s,c,l,u,n[3],22,-1044525330),u=r(u,s,c,l,n[4],7,-176418897),l=r(l,u,s,c,n[5],12,1200080426),c=r(c,l,u,s,n[6],17,-1473231341),s=r(s,c,l,u,n[7],22,-45705983),u=r(u,s,c,l,n[8],7,1770035416),l=r(l,u,s,c,n[9],12,-1958414417),c=r(c,l,u,s,n[10],17,-42063),s=r(s,c,l,u,n[11],22,-1990404162),u=r(u,s,c,l,n[12],7,1804603682),l=r(l,u,s,c,n[13],12,-40341101),c=r(c,l,u,s,n[14],17,-1502002290),s=r(s,c,l,u,n[15],22,1236535329),u=o(u,s,c,l,n[1],5,-165796510),l=o(l,u,s,c,n[6],9,-1069501632),c=o(c,l,u,s,n[11],14,643717713),s=o(s,c,l,u,n[0],20,-373897302),u=o(u,s,c,l,n[5],5,-701558691),l=o(l,u,s,c,n[10],9,38016083),c=o(c,l,u,s,n[15],14,-660478335),s=o(s,c,l,u,n[4],20,-405537848),u=o(u,s,c,l,n[9],5,568446438),l=o(l,u,s,c,n[14],9,-1019803690),c=o(c,l,u,s,n[3],14,-187363961),s=o(s,c,l,u,n[8],20,1163531501),u=o(u,s,c,l,n[13],5,-1444681467),l=o(l,u,s,c,n[2],9,-51403784),c=o(c,l,u,s,n[7],14,1735328473),s=o(s,c,l,u,n[12],20,-1926607734),u=i(u,s,c,l,n[5],4,-378558),l=i(l,u,s,c,n[8],11,-2022574463),c=i(c,l,u,s,n[11],16,1839030562),s=i(s,c,l,u,n[14],23,-35309556),u=i(u,s,c,l,n[1],4,-1530992060),l=i(l,u,s,c,n[4],11,1272893353),c=i(c,l,u,s,n[7],16,-155497632),s=i(s,c,l,u,n[10],23,-1094730640),u=i(u,s,c,l,n[13],4,681279174),l=i(l,u,s,c,n[0],11,-358537222),c=i(c,l,u,s,n[3],16,-722521979),s=i(s,c,l,u,n[6],23,76029189),u=i(u,s,c,l,n[9],4,-640364487),l=i(l,u,s,c,n[12],11,-421815835),c=i(c,l,u,s,n[15],16,530742520),s=i(s,c,l,u,n[2],23,-995338651),u=a(u,s,c,l,n[0],6,-198630844),l=a(l,u,s,c,n[7],10,1126891415),c=a(c,l,u,s,n[14],15,-1416354905),s=a(s,c,l,u,n[5],21,-57434055),u=a(u,s,c,l,n[12],6,1700485571),l=a(l,u,s,c,n[3],10,-1894986606),c=a(c,l,u,s,n[10],15,-1051523),s=a(s,c,l,u,n[1],21,-2054922799),u=a(u,s,c,l,n[8],6,1873313359),l=a(l,u,s,c,n[15],10,-30611744),c=a(c,l,u,s,n[6],15,-1560198380),s=a(s,c,l,u,n[13],21,1309151649),u=a(u,s,c,l,n[4],6,-145523070),l=a(l,u,s,c,n[11],10,-1120210379),c=a(c,l,u,s,n[2],15,718787259),s=a(s,c,l,u,n[9],21,-343485551),e[0]=t(u,e[0]),e[1]=t(s,e[1]),e[2]=t(c,e[2]),e[3]=t(l,e[3])},s=function(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n},c=function(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n},l=function(e){var t,n,r,o,i,a,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)u(l,s(e.substring(t-64,t)));for(e=e.substring(t-64),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(u(l,r),t=0;t<16;t+=1)r[t]=0;return o=8*c,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),a=parseInt(o[1],16)||0,r[14]=i,r[15]=a,u(l,r),l},d=function(e){var t,n,r,o,i,a,s=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=s;t+=64)u(l,c(e.subarray(t-64,t)));for(e=t-64<s?e.subarray(t-64):new Uint8Array(0),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)r[t>>2]|=e[t]<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(u(l,r),t=0;t<16;t+=1)r[t]=0;return o=8*s,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),a=parseInt(o[1],16)||0,r[14]=i,r[15]=a,u(l,r),l},f=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],h=function(e){var t,n="";for(t=0;t<4;t+=1)n+=f[e>>8*t+4&15]+f[e>>8*t&15];return n},p=function(e){var t;for(t=0;t<e.length;t+=1)e[t]=h(e[t]);return e.join("")},m=function(){this.reset()};return"5d41402abc4b2a76b9719d911017c592"!==function(e){return p(l(e))}("hello")&&(t=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}),m.prototype.append=function(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),this.appendBinary(e),this},m.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;t<=n;t+=64)u(this._state,s(this._buff.substring(t-64,t)));return this._buff=this._buff.substr(t-64),this},m.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(i,o),n=e?this._state:p(this._state),this.reset(),n},m.prototype._finish=function(e,t){var n,r,o,i=t;if(e[i>>2]|=128<<(i%4<<3),i>55)for(u(this._state,e),i=0;i<16;i+=1)e[i]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),o=parseInt(n[1],16)||0,e[14]=r,e[15]=o,u(this._state,e)},m.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},m.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},m.hash=function(e,t){/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e)));var n=l(e);return t?n:p(n)},m.hashBinary=function(e,t){var n=l(e);return t?n:p(n)},m.ArrayBuffer=function(){this.reset()},m.ArrayBuffer.prototype.append=function(e){var t,n=this._concatArrayBuffer(this._buff,e),r=n.length;for(this._length+=e.byteLength,t=64;t<=r;t+=64)u(this._state,c(n.subarray(t-64,t)));return this._buff=t-64<r?n.subarray(t-64):new Uint8Array(0),this},m.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r[t]<<(t%4<<3);return this._finish(i,o),n=e?this._state:p(this._state),this.reset(),n},m.ArrayBuffer.prototype._finish=m.prototype._finish,m.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},m.ArrayBuffer.prototype.destroy=m.prototype.destroy,m.ArrayBuffer.prototype._concatArrayBuffer=function(e,t){var n=e.length,r=new Uint8Array(n+t.byteLength);return r.set(e),r.set(new Uint8Array(t),n),r},m.ArrayBuffer.hash=function(e,t){var n=d(new Uint8Array(e));return t?n:p(n)},m})},function(e,t,n){"use strict";function r(e,t,n){t=u(t),e.request({method:"POST",url:"_index",body:t},n)}function o(e,t,n){e.request({method:"POST",url:"_find",body:t},n)}function i(e,t){e.request({method:"GET",url:"_index"},t)}function a(e,t,n){var r=t.ddoc,o=t.type||"json",i=t.name;if(!r)return n(new Error("you must provide an index's ddoc"));if(!i)return n(new Error("you must provide an index's name"));var a="_index/"+[r,o,i].map(encodeURIComponent).join("/");e.request({method:"DELETE",url:a},n)}var u=n(225);t.createIndex=r,t.find=o,t.getIndexes=i,t.deleteIndex=a},function(e,t,n){"use strict";var r=n(218),o=r.clone;e.exports=function(e){return e=o(e),e.index||(e.index={}),["type","name","ddoc"].forEach(function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])}),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}},function(e,t,n){"use strict";var r=n(218),o=r.callbackify;t.createIndex=o(n(227)),t.find=o(n(240)),t.getIndexes=o(n(241)),t.deleteIndex=o(n(245))},function(e,t,n){"use strict";function r(e,t,n){return u.upsert.call(e,t,n)}function o(e,t){function n(e){return e._rev&&"query"!==e.language&&(m=!0),e.language="query",e.views=e.views||{},!(b=!!e.views[c])&&(e.views[c]={map:{fields:i.mergeObjects(t.index.fields)},reduce:"_count",options:{def:o}},e)}t=f(t);var o=i.clone(t.index);t.index=d(t.index),l(t.index);var u=i.MD5(JSON.stringify(t)),c=t.name||"idx-"+u,h=t.ddoc||"idx-"+u,p="_design/"+h,m=!1,b=!1;return a("creating index",p),r(e,p,n).then(function(){if(m)throw new Error('invalid language for ddoc with id "'+p+'" (should be "query")')}).then(function(){var t=h+"/"+c;return s.query.call(e,t,{limit:0,reduce:!1}).then(function(){return{id:p,name:c,result:b?"exists":"created"}})})}var i=n(218),a=i.log,u=n(228),s=n(230),c=n(231),l=c.validateIndex,d=c.massageIndexDef,f=n(225);e.exports=o},function(e,t,n){"use strict";function r(e,t,n){return"string"!=typeof t?i.reject(new Error("doc id is required")):e.get(t).catch(function(e){if(404!==e.status)throw e;return{}}).then(function(r){var i=r._rev,a=n(r);return a?(a._id=t,a._rev=i,o(e,a,n)):{updated:!1,rev:i}})}function o(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(o){if(409!==o.status)throw o;return r(e,t._id,n)})}var i=n(229);t.upsert=function(e,t,n){var o=this,i=r(o,e,t);if("function"!=typeof n)return i;i.then(function(e){n(null,e)},n)},t.putIfNotExists=function(e,t,n){var o=this;"string"!=typeof e&&(n=t,t=e,e=t._id);var i=function(e){return!e._rev&&t},a=r(o,e,i);if("function"!=typeof n)return a;a.then(function(e){n(null,e)},n)},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(t)},function(e,t,n){"use strict";var r=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(n(220)),o="function"==typeof Promise?Promise:r;e.exports=o},function(e,t,n){"use strict";function r(e,t){return function(n){for(var r=[],o=0,i=e.length;o<i;o++){for(var a=p(e[o]),u=n,s=0,c=a.length;s<c;s++){if(!(u=u[a[s]]))break}r.push(u)}t(r)}}function o(e,t){var n=p(e);return function(e){for(var r=e,o=0,i=n.length;o<i;o++){if(!(r=r[n[o]]))return}t(r)}}function i(e,t){return function(n){t(n[e])}}function a(e,t){return function(n){for(var r=[],o=0,i=e.length;o<i;o++)r.push(n[e[o]]);t(r)}}function u(e){for(var t=0,n=e.length;t<n;t++){if(-1!==e[t].indexOf("."))return!1}return!0}function s(e,t){var n=u(e),s=1===e.length;return n?s?i(e[0],t):a(e,t):s?o(e[0],t):r(e,t)}function c(e,t){return s(Object.keys(e.fields),t)}function l(){throw new Error("reduce not supported")}function d(e,t){var n=e.views[t];if(!n.map||!n.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")}var f=n(231),h=n(234),p=f.parseField,m=h({name:"indexes",mapper:c,reducer:l,ddocValidator:d});e.exports=m},function(e,t,n){"use strict";function r(e){return Object.keys(e)[0]}function o(e){return e[r(e)]}function i(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e})}function a(e){return S.indexOf(e)>-1}function u(e,t,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}function s(e,t,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}function c(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function l(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function d(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){var r=e[n];if("object"!=typeof r&&(r={$eq:r}),a(n))r instanceof Array?t[n]=r.map(function(e){return d([e])}):t[n]=d([r]);else{var o=t[n]=t[n]||{};Object.keys(r).forEach(function(e){var t=r[e];return"$gt"===e||"$gte"===e?u(e,t,o):"$lt"===e||"$lte"===e?s(e,t,o):"$ne"===e?c(t,o):"$eq"===e?l(t,o):void(o[e]=t)})}})}),t}function f(e){var t=w.clone(e),n=!1;"$and"in t&&(t=d(t.$and),n=!0),"$not"in t&&(t.$not=d([t.$not]));for(var r=Object.keys(t),o=0;o<r.length;o++){var i=r[o],a=t[i];"object"!=typeof a||null===a?a={$eq:a}:"$ne"in a&&!n&&(a.$ne=[a.$ne]),t[i]=a}return t}function h(e){return e.fields=e.fields.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e}),e}function p(e,t){for(var n=[],o=0;o<t.def.fields.length;o++){var i=r(t.def.fields[o]);n.push(e[i])}return n}function m(e,t,n){for(var r=n.def.fields,o=0,i=e.length;o<i;o++){var a=e[o],u=p(a.doc,n);if(1===r.length)u=u[0];else for(;u.length>t.length;)u.pop();if(Math.abs(k.collate(u,t))>0)break}return o>0?e.slice(o):e}function b(e){var t=w.clone(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}function v(e){var t=e.fields.filter(function(e){return"asc"===o(e)});if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}function y(e,t){if(t.defaultUsed&&e.sort){var n=e.sort.filter(function(e){return"_id"!==Object.keys(e)[0]}).map(function(e){return Object.keys(e)[0]});if(n.length>0)throw new Error('Cannot sort on field(s) "'+n.join(",")+'" when using the default index')}t.defaultUsed}function g(e){if("object"!=typeof e.selector)throw new Error("you must provide a selector when you find()")}function _(e,t){var n,o=Object.keys(e),i=t?t.map(r):[];return n=o.length>=i.length?o:i,0===i.length?{fields:n}:(n=n.sort(function(e,t){var n=i.indexOf(e);-1===n&&(n=Number.MAX_VALUE);var r=i.indexOf(t);return-1===r&&(r=Number.MAX_VALUE),n<r?-1:n>r?1:0}),{fields:n,sortOrder:t.map(r)})}var w=n(218),k=n(232),S=["$or","$nor","$not"];e.exports={getKey:r,getValue:o,massageSort:i,massageSelector:f,validateIndex:v,validateFindRequest:g,validateSort:y,reverseOptions:b,filterInclusiveStart:m,massageIndexDef:h,parseField:w.parseField,getUserFields:_,isCombinationalField:a}},function(e,t,n){"use strict";function r(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return l(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var n=Array.isArray(e),r=n?e:Object.keys(e),o=-1,i=r.length,a="";if(n)for(;++o<i;)a+=t.toIndexableString(r[o]);else for(;++o<i;){var u=r[o];a+=t.toIndexableString(u)+t.toIndexableString(e[u])}return a}return""}function o(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var o="0"===e[t];t++;var i="",a=e.substring(t,t+f),u=parseInt(a,10)+d;for(o&&(u=-u),t+=f;;){var s=e[t];if("\0"===s)break;i+=s,t++}i=i.split("."),n=1===i.length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),o&&(n-=10),0!==u&&(n=parseFloat(n+"e"+u))}return{num:n,length:t-r}}function i(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(n);else if(i===e.length-2){var a=e.pop();o[a]=n}else e.push(n)}}function a(e,n){for(var r=Math.min(e.length,n.length),o=0;o<r;o++){var i=t.collate(e[o],n[o]);if(0!==i)return i}return e.length===n.length?0:e.length>n.length?1:-1}function u(e,t){return e===t?0:e>t?1:-1}function s(e,n){for(var r=Object.keys(e),o=Object.keys(n),i=Math.min(r.length,o.length),a=0;a<i;a++){var u=t.collate(r[a],o[a]);if(0!==u)return u;if(0!==(u=t.collate(e[r[a]],n[o[a]])))return u}return r.length===o.length?0:r.length>o.length?1:-1}function c(e){var t=["boolean","number","string","object"],n=t.indexOf(typeof e);return~n?null===e?1:Array.isArray(e)?5:n<3?n+2:n+3:Array.isArray(e)?5:void 0}function l(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=e<0,o=r?"0":"2",i=(r?-n:n)-d,a=p.padLeft(i.toString(),"0",f);o+=h+a;var u=Math.abs(parseFloat(t[0]));r&&(u=10-u);var s=u.toFixed(20);return s=s.replace(/\.?0+$/,""),o+=h+s}var d=-324,f=3,h="",p=n(233);t.collate=function(e,n){if(e===n)return 0;e=t.normalizeKey(e),n=t.normalizeKey(n);var r=c(e),o=c(n);if(r-o!=0)return r-o;if(null===e)return 0;switch(typeof e){case"number":return e-n;case"boolean":return e===n?0:e<n?-1:1;case"string":return u(e,n)}return Array.isArray(e)?a(e,n):s(e,n)},t.normalizeKey=function(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var n=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var o=0;o<r;o++)e[o]=t.normalizeKey(n[o])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];void 0!==a&&(e[i]=t.normalizeKey(a))}}}}return e},t.toIndexableString=function(e){return e=t.normalizeKey(e),c(e)+h+r(e)+"\0"},t.parseIndexableString=function(e){for(var t=[],n=[],r=0;;){var a=e[r++];if("\0"!==a)switch(a){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var u=o(e,r);t.push(u.num),r+=u.length;break;case"4":for(var s="";;){var c=e[r];if("\0"===c)break;s+=c,r++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(s);break;case"5":var l={element:[],index:t.length};t.push(l.element),n.push(l);break;case"6":var d={element:{},index:t.length};t.push(d.element),n.push(d);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+a)}else{if(1===t.length)return t.pop();i(t,n)}}}},function(e,t){"use strict";function n(e,t,n){for(var r="",o=n-e.length;r.length<o;)r+=t;return r}t.padLeft=function(e,t,r){return n(e,t,r)+e},t.padRight=function(e,t,r){return e+n(e,t,r)},t.stringLexCompare=function(e,t){var n,r=e.length,o=t.length;for(n=0;n<r;n++){if(n===o)return 1;var i=e.charAt(n),a=t.charAt(n);if(i!==a)return i<a?-1:1}return r<o?-1:0},t.intToDecimalForm=function(e){var t=e<0,n="";do{n=(t?-Math.ceil(e%10):Math.floor(e%10))+n,e=t?Math.ceil(e/10):Math.floor(e/10)}while(e);return t&&"0"!==n&&(n="-"+n),n}},function(e,t,n){(function(t){"use strict";function r(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,r)}catch(e){}}function o(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,o)}catch(e){}}function i(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function a(e){return 1===e.length&&/^1-/.test(e[0].rev)}function u(e,t){var n=v(e.key,t.key);return 0!==n?n:v(e.value,t.value)}function s(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function c(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function l(e,t){try{e.emit("error",t)}catch(e){console.error("The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),console.error(t)}}function d(e,t,n){try{return{output:t.apply(null,n)}}catch(t){return l(e,t),{error:t}}}function f(e,t){var n=e.descending?"endkey":"startkey",o=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[o]&&v(e[n],e[o])>0)throw new r("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new r("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new r("Multi-key fetches for reduce views must use {group: true}")}if(e.group_level){if("number"!=typeof e.group_level)throw new r('Invalid value for integer: "'+e.group_level+'"');if(e.group_level<0)throw new r('Invalid value for positive integer: "'+e.group_level+'"')}}function h(e){return function(t){if(404===t.status)return e;throw t}}function p(e){function n(e,t,n){function r(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):k.resolve({rows:[]})}function o(e,t){for(var n=[],r={},o=0,i=t.rows.length;o<i;o++){var a=t.rows[o],u=a.doc;if(u&&(n.push(u),r[u._id]=!0,u._deleted=!c[u._id],!u._deleted)){var s=c[u._id];"value"in s&&(u.value=s.value)}}var l=Object.keys(c);return l.forEach(function(e){if(!r[e]){var t={_id:e},o=c[e];"value"in o&&(t.value=o.value),n.push(t)}}),e.keys=w.uniq(l.concat(e.keys)),n.push(e),n}var i="_local/doc_"+e,u={_id:i,keys:[]},s=n[e],c=s.indexableKeysToKeyValues,l=s.changes;return function(){return a(l)?k.resolve(u):t.db.get(i).catch(h(u))}().then(function(e){return r(e).then(function(t){return o(e,t)})})}function r(e,t,r){return e.db.get("_local/lastSeq").catch(h({_id:"_local/lastSeq",seq:0})).then(function(o){var i=Object.keys(t);return k.all(i.map(function(r){return n(r,e,t)})).then(function(t){var n=w.flatten(t);return o.seq=r,n.push(o),e.db.bulkDocs({docs:n})})})}function l(e){var t="string"==typeof e?e:e.name,n=S[t];return n||(n=S[t]=new b),n}function p(e){return w.sequentialize(l(e),function(){return A(e)})()}function A(e){function t(e,t){var n={id:i._id,key:g(e)};void 0!==t&&null!==t&&(n.value=g(t)),o.push(n)}function n(t,n){return function(){return r(e,t,n)}}var o,i,a=R(e.mapFun,t),s=e.seq||0,c=new b;return new k(function(t,r){function l(){c.finish().then(function(){e.seq=s,t()})}function f(){function t(e){r(e)}e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:s,limit:x}).on("complete",function(t){var r=t.results;if(!r.length)return l();for(var h={},p=0,m=r.length;p<m;p++){var b=r[p];if("_"!==b.doc._id[0]){o=[],i=b.doc,i._deleted||d(e.sourceDB,a,[i]),o.sort(u);for(var g,_={},w=0,k=o.length;w<k;w++){var S=o[w],E=[S.key,S.id];0===v(S.key,g)&&E.push(w);_[y(E)]=S,g=S.key}h[b.doc._id]={indexableKeysToKeyValues:_,changes:b.changes}}s=b.seq}return c.add(n(h,s)),r.length<x?l():f()}).on("error",t)}f()})}function C(e,t,n){0===n.group_level&&delete n.group_level;var r=n.group||n.group_level,o=M(e.reduceFun),i=[],a=n.group_level;t.forEach(function(e){var t=i[i.length-1],n=r?e.key:null;if(r&&Array.isArray(n)&&"number"==typeof a&&(n=n.length>a?n.slice(0,a):n),t&&0===v(t.key[0][0],n))return t.key.push([n,e.id]),void t.value.push(e.value);i.push({key:[[n,e.id]],value:[e.value]})});for(var u=0,c=i.length;u<c;u++){var l=i[u],f=d(e.sourceDB,o,[l.key,l.value,!1]);if(f.error&&/BuiltInError/.test(f.error.constructor))throw f.error;l.value=f.error?null:f.output,l.key=l.key[0][0]}return{rows:s(i,n.limit,n.skip)}}function O(e,t){return w.sequentialize(l(e),function(){return T(e,t)})()}function T(e,t){function n(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return o=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=m.parseIndexableString(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function r(n){var r;if(r=i?C(e,n,t):{total_rows:o,offset:a,rows:n},t.include_docs){var u=w.uniq(n.map(c));return e.sourceDB.allDocs({keys:u,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t={};return e.rows.forEach(function(e){e.doc&&(t["$"+e.id]=e.doc)}),n.forEach(function(e){var n=c(e),r=t["$"+n];r&&(e.doc=r)}),r})}return r}var o,i=e.reduceFun&&!1!==t.reduce,a=t.skip||0;void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys);var u=function(e){return e.reduce(function(e,t){return e.concat(t)})};if(void 0!==t.keys){var s=t.keys,l=s.map(function(e){return n({startkey:y([e]),endkey:y([e,{}])})});return k.all(l).then(u).then(r)}var d={descending:t.descending};if(void 0!==t.startkey&&(d.startkey=y(t.descending?[t.startkey,{}]:[t.startkey])),void 0!==t.endkey){var f=!1!==t.inclusive_end;t.descending&&(f=!f),d.endkey=y(f?[t.endkey,{}]:[t.endkey])}if(void 0!==t.key){var h=y([t.key]),p=y([t.key,{}]);d.descending?(d.endkey=h,d.startkey=p):(d.startkey=h,d.endkey=p)}return i||("number"==typeof t.limit&&(d.limit=t.limit),d.skip=a),n(d).then(r)}function P(e){return e.get("_local/"+D).then(function(t){var n={};Object.keys(t.views).forEach(function(e){var t=i(e),r="_design/"+t[0],o=t[1];n[r]=n[r]||{},n[r][o]=!0});var r={keys:Object.keys(n),include_docs:!0};return e.allDocs(r).then(function(r){var o={};r.rows.forEach(function(e){var r=e.key.substring(8);Object.keys(n[e.key]).forEach(function(n){var i=r+"/"+n;t.views[i]||(i=n);var a=Object.keys(t.views[i]),u=e.doc&&e.doc.views&&e.doc.views[n];a.forEach(function(e){o[e]=o[e]||u})})});var i=Object.keys(o).filter(function(e){return!o[e]}),a=i.map(function(t){return w.sequentialize(l(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return k.all(a).then(function(){return{ok:!0}})})},h({ok:!0}))}function j(e,n,r){if("string"!=typeof n){f(r,n);var a={db:e,viewName:"temp_view/temp_view",map:n.map,reduce:n.reduce,temporary:!0,pluginName:D};return E.add(function(){return _(a).then(function(e){function t(){return e.db.destroy()}return w.fin(p(e).then(function(){return O(e,r)}),t)})}),E.finish()}var u=n,s=i(u),c=s[0],l=s[1];return e.get("_design/"+c).then(function(n){var i=n.views&&n.views[l];if(!i)throw new o("ddoc "+n._id+" has no view named "+l);I(n,l),f(r,i);var a={db:e,viewName:u,map:i.map,reduce:i.reduce,pluginName:D};return _(a).then(function(e){return"ok"===r.stale||"update_after"===r.stale?("update_after"===r.stale&&t.nextTick(function(){p(e)}),O(e,r)):p(e).then(function(){return O(e,r)})})})}var D=e.name,R=e.mapper,M=e.reducer,I=e.ddocValidator;return{query:function(e,t,n){var r=this;"function"==typeof t&&(n=t,t={}),t=w.extend(!0,{},t),"function"==typeof e&&(e={map:e});var o=k.resolve().then(function(){return j(r,e,t)});return w.promisedCallback(o,n),o},viewCleanup:w.callbackify(function(){return P(this)})}}var m=n(232),b=n(235),v=m.collate,y=m.toIndexableString,g=m.normalizeKey,_=n(238);"undefined"!=typeof console&&"function"==typeof console.log&&Function.prototype.bind.call(console.log,console);var w=n(236),k=w.Promise,S={},E=new b,x=50;w.inherits(r,Error),w.inherits(o,Error),e.exports=p}).call(t,n(191))},function(e,t,n){"use strict";function r(){this.promise=new o(function(e){e()})}var o=n(236).Promise;r.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},r.prototype.finish=function(){return this.promise},e.exports=r},function(e,t,n){(function(e){"use strict";t.Promise=n(219),t.inherits=n(213),t.extend=n(221);var r=n(208);t.promisedCallback=function(t,n){return n&&t.then(function(t){e.nextTick(function(){n(null,t)})},function(t){e.nextTick(function(){n(t)})}),t},t.callbackify=function(e){return r(function(n){var r=n.pop(),o=e.apply(this,n);return"function"==typeof r&&t.promisedCallback(o,r),o})},t.fin=function(e,t){return e.then(function(e){var n=t();return"function"==typeof n.then?n.then(function(){return e}):e},function(e){var n=t();if("function"==typeof n.then)return n.then(function(){throw e});throw e})},t.sequentialize=function(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}},t.flatten=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t},t.uniq=function(e){for(var t={},n=0,r=e.length;n<r;n++)t["$"+e[n]]=!0;var o=Object.keys(t),i=new Array(o.length);for(n=0,r=o.length;n<r;n++)i[n]=o[n].substring(1);return i};var o=n(237),i=n(223);t.MD5=function(t){return e.browser?i.hash(t):o.createHash("md5").update(t).digest("hex")}}).call(t,n(191))},function(e,t){},function(e,t,n){"use strict";function r(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}var o=n(239),i=n(236),a=i.Promise;e.exports=function(e){var t=e.db,n=e.viewName,u=e.map,s=e.reduce,c=e.temporary,l=e.pluginName,d=r(u)+r(s)+"undefined";if(!c&&t._cachedViews){var f=t._cachedViews[d];if(f)return a.resolve(f)}return t.info().then(function(e){function r(e){e.views=e.views||{};var t=n;-1===t.indexOf("/")&&(t=n+"/"+n);var r=e.views[t]=e.views[t]||{};if(!r[a])return r[a]=!0,e}var a=e.db_name+"-mrview-"+(c?"temp":i.MD5(d));return o(t,"_local/"+l,r).then(function(){return t.registerDependentDatabase(a).then(function(e){var n=e.db;n.auto_compaction=!0;var r={name:a,db:n,sourceDB:t,adapter:t.adapter,mapFun:u,reduceFun:s};return r.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return r.seq=e?e.seq:0,c||(t._cachedViews=t._cachedViews||{},t._cachedViews[d]=r,r.db.on("destroyed",function(){delete t._cachedViews[d]})),r})})})})}},function(e,t,n){"use strict";var r=n(228).upsert;e.exports=function(e,t,n){return r.apply(e,[t,n])}},function(e,t,n){"use strict";function r(e){return e.ddoc.substring(8)+"/"+e.name}function o(e,t){var n=u(t);return n.descending?("endkey"in n&&"string"!=typeof n.endkey&&(n.endkey=""),"startkey"in n&&"string"!=typeof n.startkey&&(n.limit=0)):("startkey"in n&&"string"!=typeof n.startkey&&(n.startkey=""),"endkey"in n&&"string"!=typeof n.endkey&&(n.limit=0)),"key"in n&&"string"!=typeof n.key&&(n.limit=0),e.allDocs(n)}function i(e,t){return t.selector&&(t.selector=p(t.selector)),t.sort&&(t.sort=m(t.sort)),v(t),s(e).then(function(n){var i=d(t,n.indexes),u=i.index;y(t,u);var s=a.extend(!0,{include_docs:!0,reduce:!1},i.queryOpts);return"startkey"in s&&"endkey"in s&&c(s.startkey,s.endkey)>0?{docs:[]}:(t.sort&&"string"!=typeof t.sort[0]&&"desc"===b(t.sort[0])&&(s.descending=!0,s=g(s)),i.inMemoryFields.length||("limit"in t&&(s.limit=t.limit),"skip"in t&&(s.skip=t.skip)),w.resolve().then(function(){if("_all_docs"===u.name)return o(e,s);var t=r(u);return l.query.call(e,t,s)}).then(function(e){!1===s.inclusive_start&&(e.rows=_(e.rows,s.startkey,u)),i.inMemoryFields.length&&(e.rows=h(e.rows,t,i.inMemoryFields));var n={docs:e.rows.map(function(e){var n=e.doc;return t.fields?a.pick(n,t.fields):n})};return u.defaultUsed&&(n.warning="no matching index found, create an index to optimize query time"),n}))})}var a=n(218),u=a.clone,s=n(241),c=n(232).collate,l=n(230),d=n(242),f=n(231),h=n(243),p=f.massageSelector,m=f.massageSort,b=f.getValue,v=f.validateFindRequest,y=f.validateSort,g=f.reverseOptions,_=f.filterInclusiveStart,w=a.Promise;e.exports=i},function(e,t,n){"use strict";function r(e){return e.allDocs({startkey:"_design/",endkey:"_design/",include_docs:!0}).then(function(e){var t={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return t.indexes=o.flatten(t.indexes,e.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){return(void 0!==e.doc.views?Object.keys(e.doc.views):[]).map(function(t){var n=e.doc.views[t];return{ddoc:e.id,name:t,type:"json",def:a(n.options.def)}})})),t.indexes.sort(function(e,t){return o.compare(e.name,t.name)}),t.total_rows=t.indexes.length,t})}var o=n(218),i=n(231),a=i.massageIndexDef;e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n=e.def.fields.map(x),r=0,o=n.length;r<o;r++){if(t===n[r])return!0}return!1}function o(e,t){var n=e[t];return"$eq"!==x(n)}function i(e,t){var n=t.def.fields.map(x);return e.slice().sort(function(e,t){var r=n.indexOf(e),o=n.indexOf(t);return-1===r&&(r=Number.MAX_VALUE),-1===o&&(o=Number.MAX_VALUE),k.compare(r,o)})}function a(e,t,n){n=i(n,e);for(var a=!1,u=0,s=n.length;u<s;u++){var c=n[u];if(a||!r(e,c))return n.slice(u);u<s-1&&o(t,c)&&(a=!0)}return[]}function u(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n];Object.keys(r).forEach(function(e){"$ne"===e&&t.push(n)})}),t}function s(e,t,n,r){var o=k.flatten(e,a(t,n,r),u(n));return i(k.uniq(o),t)}function c(e,t,n){if(t){var r=k.oneArrayIsStrictSubArrayOfOther(t,e),o=k.oneArrayIsSubArrayOfOther(n,e);return r&&o}return k.oneSetIsSubArrayOfOther(n,e)}function l(e){return-1===T.indexOf(e)}function d(e,t){var n=e[0],r=t[n];return!!Object.keys(r).some(function(e){return!l(e)})&&!(1===Object.keys(r).length&&"$ne"===x(r))}function f(e,t,n,r){var o=e.def.fields.map(x);return!!c(o,t,n)&&d(o,r)}function h(e,t,n,r){return r.reduce(function(r,o){return f(o,n,t,e)&&r.push(o),r},[])}function p(e,t,n,r){function o(e){for(var t=e.def.fields.map(x),n=0,r=0,o=t.length;r<o;r++){var i=t[r];u[i]&&n++}return n}var i=h(e,t,n,r);if(0===i.length){var a=r[0];return a.defaultUsed=!0,a}if(1===i.length)return i[0];var u=k.arrayToObject(t);return k.max(i,o)}function m(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function b(e,t){var n,r=x(t.def.fields[0]),o=e[r],i=[],a=Object.keys(o);return a.forEach(function(e){if(l(e))return void i.push(r);var t=o[e],a=m(e,t);n=n?k.mergeObjects([n,a]):a}),{queryOpts:n,inMemoryFields:i}}function v(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function y(e,t){function n(e){!1!==r&&u.push(C),!1!==o&&s.push(O),a=i.slice(e)}for(var r,o,i=t.def.fields.map(x),a=[],u=[],s=[],c=0,l=i.length;c<l;c++){var d=i[c],f=e[d];if(!f){n(c);break}if(c>0){if("$ne"in f){n(c);break}var h="$gt"in f||"$gte"in f||"$lt"in f||"$lte"in f,p=Object.keys(e[i[c-1]]),m=k.arrayEquals(p,["$eq"]),b=k.arrayEquals(p,Object.keys(f));if(h&&!m&&!b){n(c);break}}for(var y=Object.keys(f),g=null,_=0;_<y.length;_++){var w=y[_],S=f[w],E=v(w,S);g=g?k.mergeObjects([g,E]):E}u.push("startkey"in g?g.startkey:C),s.push("endkey"in g?g.endkey:O),"inclusive_start"in g&&(r=g.inclusive_start),"inclusive_end"in g&&(o=g.inclusive_end)}var A={startkey:u,endkey:s};return void 0!==r&&(A.inclusive_start=r),void 0!==o&&(A.inclusive_end=o),{queryOpts:A,inMemoryFields:a}}function g(){return{queryOpts:{startkey:null},inMemoryFields:[]}}function _(e,t){return t.defaultUsed?g(e,t):1===t.def.fields.length?b(e,t):y(e,t)}function w(e,t){S("planning query",e);var n=e.selector,r=e.sort,o=A(n,r),i=o.fields,a=o.sortOrder,u=p(n,i,a,t),c=_(n,u),l=c.queryOpts,d=c.inMemoryFields,f=s(d,u,n,i),h={queryOpts:l,index:u,inMemoryFields:f};return S("query plan",h),h}var k=n(218),S=k.log,E=n(231),x=E.getKey,A=E.getUserFields,C=null,O={"":{}},T=["$eq","$gt","$gte","$lt","$lte"];e.exports=w},function(e,t,n){"use strict";function r(e){function t(t){return e.map(function(e){var n=w(e),r=S(n);return x(t,r)})}return function(e,n){var r=t(e.doc),o=t(n.doc),i=y(r,o);return 0!==i?i:E.compare(e.doc._id,n.doc._id)}}function o(e,t,n){if(e=e.filter(function(e){return i(e.doc,t.selector,n)}),t.sort){var o=r(t.sort);e=e.sort(o),"string"!=typeof t.sort[0]&&"desc"===k(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var a=t.skip||0,u=("limit"in t?t.limit:e.length)+a;e=e.slice(a,u)}return e}function i(e,t,n){return n.every(function(n){var r=t[n],o=S(n),i=x(e,o);return _(n)?u(n,r,e):a(r,e,o,i)})}function a(e,t,n,r){return!e||Object.keys(e).every(function(o){var i=e[o];return s(o,t,i,n,r)})}function u(e,t,n){return"$or"===e?t.some(function(e){return i(n,e,Object.keys(e))}):"$not"===e?!i(n,t,Object.keys(t)):!t.find(function(e){return i(n,e,Object.keys(e))})}function s(e,t,n,r,o){if(!A[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type or $all');return A[e](t,n,r,o)}function c(e){return void 0!==e&&null!==e}function l(e){return void 0!==e}function d(e,t){var n=t[0],r=t[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%n===r}function f(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}function h(e,t){return t.every(function(t){return e.indexOf(t)>-1})}function p(e,t){return e.length===t}function m(e,t){return new RegExp(t).test(e)}function b(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}var v=n(244),y=n(232).collate,g=n(231),_=g.isCombinationalField,w=g.getKey,k=g.getValue,S=g.parseField,E=n(218),x=E.getFieldFromDoc,A={$elemMatch:function(e,t,n,r){return!!v(r)&&(0!==r.length&&("object"==typeof r[0]?r.some(function(e){return i(e,t,Object.keys(t))}):r.some(function(r){return a(t,e,n,r)})))},$eq:function(e,t,n,r){return l(r)&&0===y(r,t)},$gte:function(e,t,n,r){return l(r)&&y(r,t)>=0},$gt:function(e,t,n,r){return l(r)&&y(r,t)>0},$lte:function(e,t,n,r){return l(r)&&y(r,t)<=0},$lt:function(e,t,n,r){return l(r)&&y(r,t)<0},$exists:function(e,t,n,r){return t?l(r):!l(r)},$mod:function(e,t,n,r){return c(r)&&d(r,t)},$ne:function(e,t,n,r){return t.every(function(e){return 0!==y(r,e)})},$in:function(e,t,n,r){return c(r)&&f(r,t)},$nin:function(e,t,n,r){return c(r)&&!f(r,t)},$size:function(e,t,n,r){return c(r)&&p(r,t)},$all:function(e,t,n,r){return v(r)&&h(r,t)},$regex:function(e,t,n,r){return c(r)&&m(r,t)},$type:function(e,t,n,r){return b(r,t)}};e.exports=o},function(e,t){var n=Array.isArray,r=Object.prototype.toString;e.exports=n||function(e){return!!e&&"[object Array]"==r.call(e)}},function(e,t,n){"use strict";function r(e,t){function n(e){return 1===Object.keys(e.views).length&&e.views[a]?{_id:r,_deleted:!0}:(delete e.views[a],e)}if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var r=t.ddoc,a=t.name;return i(e,r,n).then(function(){return o.viewCleanup.apply(e)}).then(function(){return{ok:!0}})}var o=n(230),i=n(239);e.exports=r},function(e,t,n){"use strict";function r(e){return(0,l.cozyFetchJSON)(e,"GET","/settings/disk-usage")}function o(e,t,n){return(0,l.cozyFetchJSON)(e,"PUT","/settings/passphrase",{current_passphrase:t,new_passphrase:n})}function i(e){return(0,l.cozyFetchJSON)(e,"GET","/settings/instance")}function a(e,t){return(0,l.cozyFetchJSON)(e,"PUT","/settings/instance",t)}function u(e){return(0,l.cozyFetchJSON)(e,"GET","/settings/clients")}function s(e,t){return(0,l.cozyFetchJSON)(e,"DELETE","/settings/clients/"+t)}function c(e){return(0,l.cozyFetchJSON)(e,"POST","/settings/synchronized")}Object.defineProperty(t,"__esModule",{value:!0}),t.diskUsage=r,t.changePassphrase=o,t.getInstance=i,t.updateInstance=a,t.getClients=u,t.deleteClientById=s,t.updateLastSync=c;var l=n(196)},function(e,t,n){"use strict";function r(e){return function(t,n,r){if(!n)throw new Error("missing doc argument");Array.isArray(r)||(r=[r]);var o=r.map(function(e){return{type:s.DOCTYPE_FILES,id:e}});return(0,u.cozyFetchJSON)(t,e,a(n),{data:o})}}function o(e,t){if(!t)throw new Error("missing doc argument");return(0,u.cozyFetchJSON)(e,"GET",a(t)).then(function(e){return e.map(function(e){return e._id})})}function i(e,t,n){if(!t)throw new Error("missing doc argument");var r=Object.keys(n).map(function(e){return"&page["+e+"]="+n[e]}).join("");return(0,u.cozyFetchRawJSON)(e,"GET",a(t)+"?include=files&sort=datetime"+r)}function a(e){return"/data/"+encodeURIComponent(e._type)+"/"+encodeURIComponent(e._id)+"/relationships/references"}Object.defineProperty(t,"__esModule",{value:!0}),t.removeReferencedFiles=t.addReferencedFiles=void 0,t.listReferencedFiles=o,t.fetchReferencedFiles=i;var u=n(196),s=n(199);t.addReferencedFiles=r("POST"),t.removeReferencedFiles=r("DELETE")}])})},function(e,t,n){var r=n(10),o=n(34);e.exports=n(15)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(442);n.d(t,"Router",function(){return r.a});var o=n(164);n.d(t,"Link",function(){return o.a});var i=n(449);n.d(t,"IndexLink",function(){return i.a});var a=n(450);n.d(t,"withRouter",function(){return a.a});var u=n(452);n.d(t,"IndexRedirect",function(){return u.a});var s=n(453);n.d(t,"IndexRoute",function(){return s.a});var c=n(165);n.d(t,"Redirect",function(){return c.a});var l=n(454);n.d(t,"Route",function(){return l.a});var d=n(32);n.d(t,"createRoutes",function(){return d.b});var f=n(107);n.d(t,"RouterContext",function(){return f.a});var h=n(109);n.d(t,"locationShape",function(){return h.a}),n.d(t,"routerShape",function(){return h.b});var p=n(455);n.d(t,"match",function(){return p.a});var m=n(169);n.d(t,"useRouterHistory",function(){return m.a});var b=n(57);n.d(t,"formatPattern",function(){return b.a});var v=n(461);n.d(t,"applyRouterMiddleware",function(){return v.a});var y=n(462);n.d(t,"browserHistory",function(){return y.a});var g=n(465);n.d(t,"hashHistory",function(){return g.a});var _=n(166);n.d(t,"createMemoryHistory",function(){return _.a})},function(e,t,n){var r=n(87),o=n(38);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(1),o=n(45),i=n(9);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){var r=n(36);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(38);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";if(n(15)){var r=n(46),o=n(5),i=n(9),a=n(1),u=n(86),s=n(133),c=n(23),l=n(48),d=n(34),f=n(18),h=n(47),p=n(37),m=n(12),b=n(134),v=n(50),y=n(62),g=n(16),_=n(94),w=n(4),k=n(24),S=n(95),E=n(64),x=n(53),A=n(63).f,C=n(96),O=n(35),T=n(8),P=n(65),j=n(88),D=n(93),R=n(97),M=n(52),I=n(71),L=n(70),z=n(92),N=n(140),q=n(10),F=n(26),U=q.f,B=F.f,Y=o.RangeError,H=o.TypeError,W=o.Uint8Array,V=Array.prototype,G=s.ArrayBuffer,X=s.DataView,$=P(0),K=P(2),J=P(3),Q=P(4),Z=P(5),ee=P(6),te=j(!0),ne=j(!1),re=R.values,oe=R.keys,ie=R.entries,ae=V.lastIndexOf,ue=V.reduce,se=V.reduceRight,ce=V.join,le=V.sort,de=V.slice,fe=V.toString,he=V.toLocaleString,pe=T("iterator"),me=T("toStringTag"),be=O("typed_constructor"),ve=O("def_constructor"),ye=u.CONSTR,ge=u.TYPED,_e=u.VIEW,we=P(1,function(e,t){return Ae(D(e,e[ve]),t)}),ke=i(function(){return 1===new W(new Uint16Array([1]).buffer)[0]}),Se=!!W&&!!W.prototype.set&&i(function(){new W(1).set({})}),Ee=function(e,t){var n=p(e);if(n<0||n%t)throw Y("Wrong offset!");return n},xe=function(e){if(w(e)&&ge in e)return e;throw H(e+" is not a typed array!")},Ae=function(e,t){if(!(w(e)&&be in e))throw H("It is not a typed array constructor!");return new e(t)},Ce=function(e,t){return Oe(D(e,e[ve]),t)},Oe=function(e,t){for(var n=0,r=t.length,o=Ae(e,r);r>n;)o[n]=t[n++];return o},Te=function(e,t,n){U(e,t,{get:function(){return this._d[n]}})},Pe=function(e){var t,n,r,o,i,a,u=k(e),s=arguments.length,l=s>1?arguments[1]:void 0,d=void 0!==l,f=C(u);if(void 0!=f&&!S(f)){for(a=f.call(u),r=[],t=0;!(i=a.next()).done;t++)r.push(i.value);u=r}for(d&&s>2&&(l=c(l,arguments[2],2)),t=0,n=m(u.length),o=Ae(this,n);n>t;t++)o[t]=d?l(u[t],t):u[t];return o},je=function(){for(var e=0,t=arguments.length,n=Ae(this,t);t>e;)n[e]=arguments[e++];return n},De=!!W&&i(function(){he.call(new W(1))}),Re=function(){return he.apply(De?de.call(xe(this)):xe(this),arguments)},Me={copyWithin:function(e,t){return N.call(xe(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Q(xe(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return z.apply(xe(this),arguments)},filter:function(e){return Ce(this,K(xe(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Z(xe(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(xe(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){$(xe(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(xe(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(xe(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ce.apply(xe(this),arguments)},lastIndexOf:function(e){return ae.apply(xe(this),arguments)},map:function(e){return we(xe(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return ue.apply(xe(this),arguments)},reduceRight:function(e){return se.apply(xe(this),arguments)},reverse:function(){for(var e,t=this,n=xe(t).length,r=Math.floor(n/2),o=0;o<r;)e=t[o],t[o++]=t[--n],t[n]=e;return t},some:function(e){return J(xe(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return le.call(xe(this),e)},subarray:function(e,t){var n=xe(this),r=n.length,o=v(e,r);return new(D(n,n[ve]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,m((void 0===t?r:v(t,r))-o))}},Ie=function(e,t){return Ce(this,de.call(xe(this),e,t))},Le=function(e){xe(this);var t=Ee(arguments[1],1),n=this.length,r=k(e),o=m(r.length),i=0;if(o+t>n)throw Y("Wrong length!");for(;i<o;)this[t+i]=r[i++]},ze={entries:function(){return ie.call(xe(this))},keys:function(){return oe.call(xe(this))},values:function(){return re.call(xe(this))}},Ne=function(e,t){return w(e)&&e[ge]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},qe=function(e,t){return Ne(e,t=y(t,!0))?d(2,e[t]):B(e,t)},Fe=function(e,t,n){return!(Ne(e,t=y(t,!0))&&w(n)&&g(n,"value"))||g(n,"get")||g(n,"set")||n.configurable||g(n,"writable")&&!n.writable||g(n,"enumerable")&&!n.enumerable?U(e,t,n):(e[t]=n.value,e)};ye||(F.f=qe,q.f=Fe),a(a.S+a.F*!ye,"Object",{getOwnPropertyDescriptor:qe,defineProperty:Fe}),i(function(){fe.call({})})&&(fe=he=function(){return ce.call(this)});var Ue=h({},Me);h(Ue,ze),f(Ue,pe,ze.values),h(Ue,{slice:Ie,set:Le,constructor:function(){},toString:fe,toLocaleString:Re}),Te(Ue,"buffer","b"),Te(Ue,"byteOffset","o"),Te(Ue,"byteLength","l"),Te(Ue,"length","e"),U(Ue,me,{get:function(){return this[ge]}}),e.exports=function(e,t,n,s){s=!!s;var c=e+(s?"Clamped":"")+"Array",d="get"+e,h="set"+e,p=o[c],v=p||{},y=p&&x(p),g=!p||!u.ABV,k={},S=p&&p.prototype,C=function(e,n){var r=e._d;return r.v[d](n*t+r.o,ke)},O=function(e,n,r){var o=e._d;s&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),o.v[h](n*t+o.o,r,ke)},T=function(e,t){U(e,t,{get:function(){return C(this,t)},set:function(e){return O(this,t,e)},enumerable:!0})};g?(p=n(function(e,n,r,o){l(e,p,c,"_d");var i,a,u,s,d=0,h=0;if(w(n)){if(!(n instanceof G||"ArrayBuffer"==(s=_(n))||"SharedArrayBuffer"==s))return ge in n?Oe(p,n):Pe.call(p,n);i=n,h=Ee(r,t);var v=n.byteLength;if(void 0===o){if(v%t)throw Y("Wrong length!");if((a=v-h)<0)throw Y("Wrong length!")}else if((a=m(o)*t)+h>v)throw Y("Wrong length!");u=a/t}else u=b(n),a=u*t,i=new G(a);for(f(e,"_d",{b:i,o:h,l:a,e:u,v:new X(i)});d<u;)T(e,d++)}),S=p.prototype=E(Ue),f(S,"constructor",p)):i(function(){p(1)})&&i(function(){new p(-1)})&&I(function(e){new p,new p(null),new p(1.5),new p(e)},!0)||(p=n(function(e,n,r,o){l(e,p,c);var i;return w(n)?n instanceof G||"ArrayBuffer"==(i=_(n))||"SharedArrayBuffer"==i?void 0!==o?new v(n,Ee(r,t),o):void 0!==r?new v(n,Ee(r,t)):new v(n):ge in n?Oe(p,n):Pe.call(p,n):new v(b(n))}),$(y!==Function.prototype?A(v).concat(A(y)):A(v),function(e){e in p||f(p,e,v[e])}),p.prototype=S,r||(S.constructor=p));var P=S[pe],j=!!P&&("values"==P.name||void 0==P.name),D=ze.values;f(p,be,!0),f(S,ge,c),f(S,_e,!0),f(S,ve,p),(s?new p(1)[me]==c:me in S)||U(S,me,{get:function(){return c}}),k[c]=p,a(a.G+a.W+a.F*(p!=v),k),a(a.S,c,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*i(function(){v.of.call(p,1)}),c,{from:Pe,of:je}),"BYTES_PER_ELEMENT"in S||f(S,"BYTES_PER_ELEMENT",t),a(a.P,c,Me),L(c),a(a.P+a.F*Se,c,{set:Le}),a(a.P+a.F*!j,c,ze),r||S.toString==fe||(S.toString=fe),a(a.P+a.F*i(function(){new p(1).slice()}),c,{slice:Ie}),a(a.P+a.F*(i(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!i(function(){S.toLocaleString.call([1,2])})),c,{toLocaleString:Re}),M[c]=j?P:D,r||j||f(S,pe,D)}}else e.exports=function(){}},function(e,t,n){var r=n(66),o=n(34),i=n(20),a=n(62),u=n(16),s=n(132),c=Object.getOwnPropertyDescriptor;t.f=n(15)?c:function(e,t){if(e=i(e),t=a(t,!0),s)try{return c(e,t)}catch(e){}if(u(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){"use strict";(function(e){var r=n(175);t.once=function(e){var n=!1;return t.getArguments(function(t){if(n)throw console.trace(),new Error("once called  more than once");n=!0,e.apply(this,t)})},t.getArguments=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}},t.toPromise=function(n){return t.getArguments(function(o){var i,a=this,u="function"==typeof o[o.length-1]&&o.pop();u&&(i=function(t,n){e.nextTick(function(){u(t,n)})});var s=new r(function(e,r){try{var i=t.once(function(t,n){t?r(t):e(n)});o.push(i),n.apply(a,o)}catch(e){r(e)}});return i&&s.then(function(e){i(null,e)},i),s.cancel=function(){return this},s})},t.inherits=n(116),t.Promise=r,t.clone=function(e){return t.extend(!0,{},e)},t.extend=n(177),t.callbackify=function(e){return t.getArguments(function(n){var r=n.pop(),o=e.apply(this,n);return t.promisedCallback(o,r),o})},t.promisedCallback=function(t,n){return t.then(function(t){e.nextTick(function(){n(null,t)})},function(t){e.nextTick(function(){n(t)})}),t};var o=n(485),i=n(178);t.MD5=function(t){return e.browser?i.hash(t):o.createHash("md5").update(t).digest("hex")},t.flatten=t.getArguments(function(e){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];Array.isArray(i)?n=n.concat(t.flatten.apply(null,i)):n.push(i)}return n}),t.mergeObjects=function(e){for(var n={},r=0,o=e.length;r<o;r++)n=t.extend(!0,n,e[r]);return n},t.getFieldFromDoc=function(e,t){for(var n=e,r=0,o=t.length;r<o;r++){if(!(n=n[t[r]]))break}return n},t.setFieldInDoc=function(e,t,n){for(var r=0,o=t.length;r<o-1;r++){e=e[t[r]]={}}e[t[o-1]]=n},t.parseField=function(e){for(var t=[],n="",r=0,o=e.length;r<o;r++){var i=e[r];"."===i?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=i}return t.push(n),t},t.pick=function(e,n){for(var r={},o=0,i=n.length;o<i;o++){var a=t.parseField(n[o]),u=t.getFieldFromDoc(e,a);void 0!==u&&t.setFieldInDoc(r,a,u)}return r},t.oneArrayIsSubArrayOfOther=function(e,t){for(var n=0,r=Math.min(e.length,t.length);n<r;n++)if(e[n]!==t[n])return!1;return!0},t.oneArrayIsStrictSubArrayOfOther=function(e,n){return!(e.length>n.length)&&t.oneArrayIsSubArrayOfOther(e,n)},t.oneSetIsSubArrayOfOther=function(e,t){e=e.slice();for(var n=0,r=t.length;n<r;n++){var o=t[n];if(!e.length)break;var i=e.indexOf(o);if(-1===i)return!1;e.splice(i,1)}return!0},t.compare=function(e,t){return e<t?-1:e>t?1:0},t.arrayToObject=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n]]=!0;return t},t.max=function(e,t){for(var n=null,r=-1,o=0,i=e.length;o<i;o++){var a=e[o],u=t(a);u>r&&(r=u,n=a)}return n},t.arrayEquals=function(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},t.uniq=function(e){for(var t={},n=0;n<e.length;n++)t["$"+e[n]]=!0;return Object.keys(t).map(function(e){return e.substring(1)})},t.log=n(486)("pouchdb:find")}).call(t,n(31))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(505),o=n(186),i=n(508);n.d(t,"Provider",function(){return r.b}),n.d(t,"createProvider",function(){return r.a}),n.d(t,"connectAdvanced",function(){return o.a}),n.d(t,"connect",function(){return i.a})},function(e,t,n){var r=n(5),o=n(18),i=n(16),a=n(35)("src"),u=Function.toString,s=(""+u).split("toString");n(45).inspectSource=function(e){return u.call(e)},(e.exports=function(e,t,n,u){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(c&&(i(n,a)||o(n,a,e[t]?""+e[t]:s.join(String(t)))),e===r?e[t]=n:u?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||u.call(this)})},function(e,t,n){var r=n(35)("meta"),o=n(4),i=n(16),a=n(10).f,u=0,s=Object.isExtensible||function(){return!0},c=!n(9)(function(){return s(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++u,w:{}}})},d=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!s(e))return"F";if(!t)return"E";l(e)}return e[r].i},f=function(e,t){if(!i(e,r)){if(!s(e))return!0;if(!t)return!1;l(e)}return e[r].w},h=function(e){return c&&p.NEED&&s(e)&&!i(e,r)&&l(e),e},p=e.exports={KEY:r,NEED:!1,fastKey:d,getWeak:f,onFreeze:h}},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){m&&h&&(m=!1,h.length?p=h.concat(p):b=-1,p.length&&u())}function u(){if(!m){var e=o(a);m=!0;for(var t=p.length;t;){for(h=p,p=[];++b<t;)h&&h[b].run();b=-1,t=p.length}h=null,m=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var l,d,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var h,p=[],m=!1,b=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||m||o(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){"use strict";function r(e){return null==e||c.default.isValidElement(e)}function o(e){return r(e)||Array.isArray(e)&&e.every(r)}function i(e,t){return l({},e,t)}function a(e){var t=e.type,n=i(t.defaultProps,e.props);if(n.children){var r=u(n.children,n);r.length&&(n.childRoutes=r),delete n.children}return n}function u(e,t){var n=[];return c.default.Children.forEach(e,function(e){if(c.default.isValidElement(e))if(e.type.createRouteFromReactElement){var r=e.type.createRouteFromReactElement(e,t);r&&n.push(r)}else n.push(a(e))}),n}function s(e){return o(e)?e=u(e):e&&!Array.isArray(e)&&(e=[e]),e}t.c=o,t.a=a,t.b=s;var c=n(0),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";t.__esModule=!0,t.createPath=t.parsePath=t.getQueryStringValueFromPath=t.stripQueryStringValueFromPath=t.addQueryStringValueToPath=void 0;var r=n(22),o=(function(e){e&&e.__esModule}(r),t.addQueryStringValueToPath=function(e,t,n){var r=i(e),o=r.pathname,u=r.search,s=r.hash;return a({pathname:o,search:u+(-1===u.indexOf("?")?"?":"&")+t+"="+n,hash:s})},t.stripQueryStringValueFromPath=function(e,t){var n=i(e),r=n.pathname,o=n.search,u=n.hash;return a({pathname:r,search:o.replace(new RegExp("([?&])"+t+"=[a-zA-Z0-9]+(&?)"),function(e,t,n){return"?"===t?t:n}),hash:u})},t.getQueryStringValueFromPath=function(e,t){var n=i(e),r=n.search,o=r.match(new RegExp("[?&]"+t+"=([a-zA-Z0-9]+)"));return o&&o[1]},function(e){var t=e.match(/^(https?:)?\/\/[^\/]*/);return null==t?e:e.substring(t[0].length)}),i=t.parsePath=function(e){var t=o(e),n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substring(i),t=t.substring(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substring(a),t=t.substring(0,a)),""===t&&(t="/"),{pathname:t,search:n,hash:r}},a=t.createPath=function(e){if(null==e||"string"==typeof e)return e;var t=e.basename,n=e.pathname,r=e.search,o=e.hash,i=(t||"")+n;return r&&"?"!==r&&(i+=r),o&&(i+=o),i}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(135),o=n(91);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(156),o=n(437),i=n(438),a=n(439),u=n(160);n(159);n.d(t,"createStore",function(){return r.b}),n.d(t,"combineReducers",function(){return o.a}),n.d(t,"bindActionCreators",function(){return i.a}),n.d(t,"applyMiddleware",function(){return a.a}),n.d(t,"compose",function(){return u.a})},function(e,t,n){function r(e,t){if(l(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var n=t||{},r=n.additionalDigits;r=null==r?h:Number(r);var c=o(e),d=i(c.date,r),p=d.year,m=d.restDateString,b=a(m,p);if(b){var v,y=b.getTime(),g=0;return c.time&&(g=u(c.time)),c.timezone?v=s(c.timezone):(v=new Date(y+g).getTimezoneOffset(),v=new Date(y+g+v*f).getTimezoneOffset()),new Date(y+g+v*f)}return new Date(e)}function o(e){var t,n={},r=e.split(p);if(m.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1]),t){var o=O.exec(t);o?(n.time=t.replace(o[1],""),n.timezone=o[1]):n.time=t}return n}function i(e,t){var n,r=v[t],o=g[t];if(n=y.exec(e)||o.exec(e)){var i=n[1];return{year:parseInt(i,10),restDateString:e.slice(i.length)}}if(n=b.exec(e)||r.exec(e)){var a=n[1];return{year:100*parseInt(a,10),restDateString:e.slice(a.length)}}return{year:null}}function a(e,t){if(null===t)return null;var n,r,o,i;if(0===e.length)return r=new Date(0),r.setUTCFullYear(t),r;if(n=_.exec(e))return r=new Date(0),o=parseInt(n[1],10)-1,r.setUTCFullYear(t,o),r;if(n=w.exec(e)){r=new Date(0);var a=parseInt(n[1],10);return r.setUTCFullYear(t,0,a),r}if(n=k.exec(e)){r=new Date(0),o=parseInt(n[1],10)-1;var u=parseInt(n[2],10);return r.setUTCFullYear(t,o,u),r}if(n=S.exec(e))return i=parseInt(n[1],10)-1,c(t,i);if(n=E.exec(e)){i=parseInt(n[1],10)-1;return c(t,i,parseInt(n[2],10)-1)}return null}function u(e){var t,n,r;if(t=x.exec(e))return(n=parseFloat(t[1].replace(",",".")))%24*d;if(t=A.exec(e))return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),n%24*d+r*f;if(t=C.exec(e)){n=parseInt(t[1],10),r=parseInt(t[2],10);var o=parseFloat(t[3].replace(",","."));return n%24*d+r*f+1e3*o}return null}function s(e){var t,n;return(t=T.exec(e))?0:(t=P.exec(e))?(n=60*parseInt(t[2],10),"+"===t[1]?-n:n):(t=j.exec(e),t?(n=60*parseInt(t[2],10)+parseInt(t[3],10),"+"===t[1]?-n:n):0)}function c(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,i=7*t+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}var l=n(196),d=36e5,f=6e4,h=2,p=/[T ]/,m=/:/,b=/^(\d{2})$/,v=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],y=/^(\d{4})/,g=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],_=/^-(\d{2})$/,w=/^-?(\d{3})$/,k=/^-?(\d{2})-?(\d{2})$/,S=/^-?W(\d{2})$/,E=/^-?W(\d{2})-?(\d{1})$/,x=/^(\d{2}([.,]\d*)?)$/,A=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,C=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,O=/([Z+-].*)$/,T=/^(Z)$/,P=/^([+-])(\d{2})$/,j=/^([+-])(\d{2}):?(\d{2})$/;e.exports=r},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionBar=t.downloadSelection=t.removeFromSelection=t.addToSelection=t.toggleItemSelection=t.toggleSelectionBar=t.hideSelectionBar=t.showSelectionBar=t.isSelectionBarVisible=t.getSelectedIds=void 0;var o=n(41),i=n(14),a=n(578),u=function(e){return e&&e.__esModule?e:{default:e}}(a);t.getSelectedIds=function(e){return e.selection.selected},t.isSelectionBarVisible=function(e){return 0!==e.selection.selected.length||e.selection.isSelectionBarOpened},t.showSelectionBar=function(){return{type:"SHOW_SELECTION_BAR"}},t.hideSelectionBar=function(){return{type:"HIDE_SELECTION_BAR"}},t.toggleSelectionBar=function(){return{type:"TOGGLE_SELECTION_BAR"}},t.toggleItemSelection=function(e,t){return{type:t?"UNSELECT_ITEM":"SELECT_ITEM",id:e.id}},t.addToSelection=function(e){return{type:"ADD_TO_SELECTION",ids:e}},t.removeFromSelection=function(e){return{type:"REMOVE_FROM_SELECTION",ids:e}},t.downloadSelection=function(e){return(0,i.downloadArchive)("selection",e)};t.SelectionBar=u.default;var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if(t.meta&&t.meta.cancelSelection)return[];switch(t.type){case"SELECT_ITEM":return[].concat(r(e),[t.id]);case"UNSELECT_ITEM":var n=e.indexOf(t.id);return[].concat(r(e.slice(0,n)),r(e.slice(n+1)));case"ADD_TO_SELECTION":var o=t.ids.filter(function(t){return-1===e.indexOf(t)});return[].concat(r(e),r(o));case"REMOVE_FROM_SELECTION":return e.filter(function(e){return-1===t.ids.indexOf(e)});case"HIDE_SELECTION_BAR":return[];default:return e}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];if(t.meta&&t.meta.cancelSelection)return!1;switch(t.type){case"TOGGLE_SELECTION_BAR":return!e;case"SHOW_SELECTION_BAR":return!0;case"HIDE_SELECTION_BAR":return!1;default:return e}};t.default=(0,o.combineReducers)({selected:s,isSelectionBarOpened:c})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotosPicker=t.AlbumsToolbar=t.AlbumToolbar=t.cancelAddToAlbum=t.closeAddToAlbum=t.openAddToAlbum=t.downloadAlbum=t.removeFromAlbum=t.addToAlbum=t.deleteAlbum=t.updateAlbum=t.createAlbum=t.fetchAlbumSharings=t.fetchAlbum=t.fetchAlbumPhotos=t.fetchSharedAlbums=t.fetchAlbums=t.DOCTYPE=void 0;var o=n(14),i=n(593),a=r(i),u=n(631),s=r(u),c=n(632),l=r(c),d=t.DOCTYPE="io.cozy.photos.albums";t.fetchAlbums=function(){return(0,o.fetchCollection)("albums",d)},t.fetchSharedAlbums=function(e){return(0,o.fetchSharings)(d)},t.fetchAlbumPhotos=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,o.fetchReferencedFiles)({_type:d,id:e},t)},t.fetchAlbum=function(e){return(0,o.fetchDocument)(d,e)},t.fetchAlbumSharings=function(e){return(0,o.fetchSharings)(d,e)},t.createAlbum=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;return(0,o.createDocument)(d,{name:e,created_at:t},{updateCollections:["albums"]})},t.updateAlbum=function(e){return(0,o.updateDocument)(e)},t.deleteAlbum=function(e){return(0,o.deleteDocument)(e,{updateCollections:["albums"]})},t.addToAlbum=function(e,t){return(0,o.addReferencedFiles)(e,t)},t.removeFromAlbum=function(e,t){return(0,o.removeReferencedFiles)(e,t)},t.downloadAlbum=function(e,t){return(0,o.downloadArchive)(e.name,t.map(function(e){return e.id}))},t.openAddToAlbum=function(e){return{type:"ADD_TO_ALBUM",photos:e}},t.closeAddToAlbum=function(){return{type:"ADD_TO_ALBUM_SUCCESS",meta:{cancelSelection:!0}}},t.cancelAddToAlbum=function(e){return{type:"CANCEL_ADD_TO_ALBUM",photos:e}};t.AlbumToolbar=a.default,t.AlbumsToolbar=s.default,t.PhotosPicker=l.default},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=!1},function(e,t,n){var r=n(29);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(37),o=Math.max,i=Math.min;e.exports=function(e,t){return e=r(e),e<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(10).f,o=n(16),i=n(8)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t){e.exports={}},function(e,t,n){var r=n(16),o=n(24),i=n(89)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(8)("unscopables"),o=Array.prototype;void 0==o[r]&&n(18)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t,n){var r=n(4);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";var r=n(22);n.n(r)},function(e,t,n){"use strict";function r(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function o(e){for(var t="",n=[],o=[],i=void 0,a=0,u=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|\*\*|\*|\(|\)|\\\(|\\\)/g;i=u.exec(e);)i.index!==a&&(o.push(e.slice(a,i.index)),t+=r(e.slice(a,i.index))),i[1]?(t+="([^/]+)",n.push(i[1])):"**"===i[0]?(t+="(.*)",n.push("splat")):"*"===i[0]?(t+="(.*?)",n.push("splat")):"("===i[0]?t+="(?:":")"===i[0]?t+=")?":"\\("===i[0]?t+="\\(":"\\)"===i[0]&&(t+="\\)"),o.push(i[0]),a=u.lastIndex;return a!==e.length&&(o.push(e.slice(a,e.length)),t+=r(e.slice(a,e.length))),{pattern:e,regexpSource:t,paramNames:n,tokens:o}}function i(e){return d[e]||(d[e]=o(e)),d[e]}function a(e,t){"/"!==e.charAt(0)&&(e="/"+e);var n=i(e),r=n.regexpSource,o=n.paramNames,a=n.tokens;"/"!==e.charAt(e.length-1)&&(r+="/?"),"*"===a[a.length-1]&&(r+="$");var u=t.match(new RegExp("^"+r,"i"));if(null==u)return null;var s=u[0],c=t.substr(s.length);if(c){if("/"!==s.charAt(s.length-1))return null;c="/"+c}return{remainingPathname:c,paramNames:o,paramValues:u.slice(1).map(function(e){return e&&decodeURIComponent(e)})}}function u(e){return i(e).paramNames}function s(e,t){t=t||{};for(var n=i(e),r=n.tokens,o=0,a="",u=0,s=[],c=void 0,d=void 0,f=void 0,h=0,p=r.length;h<p;++h)if("*"===(c=r[h])||"**"===c)f=Array.isArray(t.splat)?t.splat[u++]:t.splat,null!=f||o>0||l()(!1),null!=f&&(a+=encodeURI(f));else if("("===c)s[o]="",o+=1;else if(")"===c){var m=s.pop();o-=1,o?s[o-1]+=m:a+=m}else if("\\("===c)a+="(";else if("\\)"===c)a+=")";else if(":"===c.charAt(0))if(d=c.substring(1),f=t[d],null!=f||o>0||l()(!1),null==f){if(o){s[o-1]="";for(var b=r.indexOf(c),v=r.slice(b,r.length),y=-1,g=0;g<v.length;g++)if(")"==v[g]){y=g;break}y>0||l()(!1),h=b+y-1}}else o?s[o-1]+=encodeURIComponent(f):a+=encodeURIComponent(f);else o?s[o-1]+=c:a+=c;return o<=0||l()(!1),a.replace(/\/+/g,"/")}t.c=a,t.b=u,t.a=s;var c=n(11),l=n.n(c),d=Object.create(null)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.locationsAreEqual=t.statesAreEqual=t.createLocation=t.createQuery=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(11),u=r(a),s=n(22),c=(r(s),n(33)),l=n(76),d=(t.createQuery=function(e){return i(Object.create(null),e)},t.createLocation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.POP,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r="string"==typeof e?(0,c.parsePath)(e):e;return{pathname:r.pathname||"/",search:r.search||"",hash:r.hash||"",state:r.state,action:t,key:n}},function(e){return"[object Date]"===Object.prototype.toString.call(e)}),f=t.statesAreEqual=function e(t,n){if(t===n)return!0;var r=void 0===t?"undefined":o(t);if(r!==(void 0===n?"undefined":o(n)))return!1;if("function"===r&&(0,u.default)(!1),"object"===r){if(d(t)&&d(n)&&(0,u.default)(!1),!Array.isArray(t)){var i=Object.keys(t),a=Object.keys(n);return i.length===a.length&&i.every(function(r){return e(t[r],n[r])})}return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])})}return!1};t.locationsAreEqual=function(e,t){return e.key===t.key&&e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&f(e.state,t.state)}},function(e,t,n){"use strict";function r(e){return Object.keys(e)[0]}function o(e){return e[r(e)]}function i(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e})}function a(e){return S.indexOf(e)>-1}function u(e,t,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}function s(e,t,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}function c(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function l(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function d(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){var r=e[n];if("object"!=typeof r&&(r={$eq:r}),a(n))r instanceof Array?t[n]=r.map(function(e){return d([e])}):t[n]=d([r]);else{var o=t[n]=t[n]||{};Object.keys(r).forEach(function(e){var t=r[e];return"$gt"===e||"$gte"===e?u(e,t,o):"$lt"===e||"$lte"===e?s(e,t,o):"$ne"===e?c(t,o):"$eq"===e?l(t,o):void(o[e]=t)})}})}),t}function f(e){var t=w.clone(e),n=!1;"$and"in t&&(t=d(t.$and),n=!0),"$not"in t&&(t.$not=d([t.$not]));for(var r=Object.keys(t),o=0;o<r.length;o++){var i=r[o],a=t[i];"object"!=typeof a||null===a?a={$eq:a}:"$ne"in a&&!n&&(a.$ne=[a.$ne]),t[i]=a}return t}function h(e){return e.fields=e.fields.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e}),e}function p(e,t){for(var n=[],o=0;o<t.def.fields.length;o++){var i=r(t.def.fields[o]);n.push(e[i])}return n}function m(e,t,n){for(var r=n.def.fields,o=0,i=e.length;o<i;o++){var a=e[o],u=p(a.doc,n);if(1===r.length)u=u[0];else for(;u.length>t.length;)u.pop();if(Math.abs(k.collate(u,t))>0)break}return o>0?e.slice(o):e}function b(e){var t=w.clone(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}function v(e){var t=e.fields.filter(function(e){return"asc"===o(e)});if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}function y(e,t){if(t.defaultUsed&&e.sort){var n=e.sort.filter(function(e){return"_id"!==Object.keys(e)[0]}).map(function(e){return Object.keys(e)[0]});if(n.length>0)throw new Error('Cannot sort on field(s) "'+n.join(",")+'" when using the default index')}t.defaultUsed}function g(e){if("object"!=typeof e.selector)throw new Error("you must provide a selector when you find()")}function _(e,t){var n,o=Object.keys(e),i=t?t.map(r):[];return n=o.length>=i.length?o:i,0===i.length?{fields:n}:(n=n.sort(function(e,t){var n=i.indexOf(e);-1===n&&(n=Number.MAX_VALUE);var r=i.indexOf(t);return-1===r&&(r=Number.MAX_VALUE),n<r?-1:n>r?1:0}),{fields:n,sortOrder:t.map(r)})}var w=n(27),k=n(79),S=["$or","$nor","$not"];e.exports={getKey:r,getValue:o,massageSort:i,massageSelector:f,validateIndex:v,validateFindRequest:g,validateSort:y,reverseOptions:b,filterInclusiveStart:m,massageIndexDef:h,parseField:w.parseField,getUserFields:_,isCombinationalField:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),d=n(581),f=r(d),h=n(3),p=r(h),m=function(){var e=[],t=[];return{dispatch:function(n){n.id=e.length,e.push(n),t.forEach(function(e){return e(n)})},subscribe:function(e){t.push(e)}}}(),b=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={hidden:!0},e}return u(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;this.close=this.close.bind(this),this.closeTimer=setTimeout(function(){e.beginClosing()},2e3),setTimeout(function(){e.setState({hidden:!1})},20)}},{key:"componentWillUnmount",value:function(){this.setState({hidden:!1}),this.closeTimer&&clearTimeout(this.closeTimer)}},{key:"beginClosing",value:function(){this.setState({hidden:!0})}},{key:"close",value:function(){this.props.onClose()}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.type,r=e.buttonText,o=e.buttonAction,i=this.state.hidden;return l.default.createElement("div",{className:f.default["coz-alerter"]},l.default.createElement("div",{className:(0,p.default)(f.default["coz-alert"],f.default["coz-alert--"+n],i?f.default["coz-alert--hidden"]:"")},l.default.createElement("p",null,t),r&&l.default.createElement("a",{onClick:o,className:(0,p.default)(f.default["c-btn"],f.default["c-btn-alert-"+n])},r)),"error"===n&&l.default.createElement("div",{className:(0,p.default)(f.default["coz-overlay"],i?f.default["coz-overlay--hidden"]:"")}))}}]),t}(c.Component),v=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={notifications:[]},r}return u(t,e),s(t,[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),m.subscribe(this.notify.bind(this))}},{key:"notify",value:function(e){this.setState({notifications:[].concat(o(this.state.notifications),[e])})}},{key:"handleClose",value:function(e){var t=this.state.notifications.findIndex(function(t){return t.id===e});this.setState({notifications:[].concat(o(this.state.notifications.slice(0,t)),o(this.state.notifications.slice(t+1)))})}},{key:"render",value:function(){var e=this,t=this.props.t;return l.default.createElement("div",{className:f.default["pho-alerter"]},this.state.notifications.map(function(n){return l.default.createElement(b,{type:n.type,key:n.id,message:t?t(n.msg,n.options):n.msg,onClose:e.handleClose.bind(e,n.id),buttonText:n.options&&n.options.buttonText,buttonAction:n.options&&n.options.buttonAction})}))}}],[{key:"info",value:function(e,t){m.dispatch({type:"info",msg:e,options:t})}},{key:"success",value:function(e,t){m.dispatch({type:"success",msg:e,options:t})}},{key:"error",value:function(e,t){m.dispatch({type:"error",msg:e,options:t})}}]),t}(c.Component);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ModalButtons=t.ModalSection=t.ModalContent=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),d=n(13),f=r(d),h=n(3),p=r(h),m=n(591),b=r(m),v=function(e){var t=e.children,n=e.className;return l.default.createElement("div",{className:(0,p.default)(b.default["coz-modal-content"],n)},t)},y=function(e){var t=e.children,n=e.className;return l.default.createElement("div",{className:(0,p.default)(b.default["coz-modal-content"],b.default["coz-modal-section"],n)},t)},g=function(e){var t=e.title;return l.default.createElement("h2",{className:(0,p.default)(b.default["coz-modal-content"],b.default["coz-modal-title"])},t)},_=function(e){var t=e.withCross,n=e.secondaryAction,r=e.secondaryText;return t&&l.default.createElement("button",{className:(0,p.default)(b.default["coz-btn"],b.default["coz-btn--close"],b.default["coz-btn-modal-close"]),onClick:n},l.default.createElement("span",{className:b.default["coz-hidden"]},r))},w=function(e){var t=e.description;return t&&l.default.createElement("div",{className:(0,p.default)(b.default["coz-modal-content"],b.default["coz-description"])},t)},k=function(e){var t=e.secondaryText,n=e.secondaryAction,r=e.secondaryType,o=e.primaryText,i=e.primaryAction,a=e.primaryType,u=o&&i,s=t&&n;return(s||u)&&l.default.createElement("div",{className:(0,p.default)(b.default["coz-modal-content"],b.default["coz-modal-buttons"])},s&&l.default.createElement("button",{className:(0,p.default)(b.default["coz-btn"],b.default["coz-btn--"+r]),onClick:n},t),u&&l.default.createElement("button",{className:(0,p.default)(b.default["coz-btn"],b.default["coz-btn--"+a]),onClick:i},o))},S=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleKeydown=n.handleKeydown.bind(n),n.handleOutsideClick=n.handleOutsideClick.bind(n),n}return u(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.withCross&&document.addEventListener("keydown",this.handleKeydown)}},{key:"componentWillUnmount",value:function(){this.props.withCross&&document.removeEventListener("keydown",this.handleKeydown)}},{key:"handleKeydown",value:function(e){27===e.keyCode&&this.props.secondaryAction()}},{key:"handleOutsideClick",value:function(e){e.target===e.currentTarget&&this.props.secondaryAction()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.title,r=e.withCross,i=e.overflowHidden;return l.default.createElement("div",{className:b.default["coz-modal-container"]},l.default.createElement("div",{className:b.default["coz-overlay"]},l.default.createElement("div",{className:b.default["coz-modal-wrapper"],onClick:r&&this.handleOutsideClick},l.default.createElement("div",{className:(0,p.default)(b.default["coz-modal"],o({},b.default["coz-modal--fullbleed"],i))},l.default.createElement(_,this.props),n&&l.default.createElement(g,this.props),l.default.createElement(w,this.props),t,l.default.createElement(k,this.props)))))}}]),t}(c.Component);S.propTypes={title:f.default.string,description:f.default.node,secondaryType:f.default.string,secondaryText:f.default.string,secondaryAction:f.default.func,primaryType:f.default.string,primaryText:f.default.string,primaryAction:f.default.func,withCross:f.default.bool,overflowHidden:f.default.bool},S.defaultProps={primaryType:"secondary",secondaryType:"regular",withCross:!0,overflowHidden:!1},t.ModalContent=v,t.ModalSection=y,t.ModalButtons=k,t.default=S},function(e,t,n){var r=n(4);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(135),o=n(91).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(6),o=n(312),i=n(91),a=n(89)("IE_PROTO"),u=function(){},s=function(){var e,t=n(85)("iframe"),r=i.length;for(t.style.display="none",n(136).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;r--;)delete s.prototype[i[r]];return s()};e.exports=Object.create||function(e,t){var n;return null!==e?(u.prototype=r(e),n=new u,u.prototype=null,n[a]=e):n=s(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(23),o=n(87),i=n(24),a=n(12),u=n(313);e.exports=function(e,t){var n=1==e,s=2==e,c=3==e,l=4==e,d=6==e,f=5==e||d,h=t||u;return function(t,u,p){for(var m,b,v=i(t),y=o(v),g=r(u,p,3),_=a(y.length),w=0,k=n?h(t,_):s?h(t,0):void 0;_>w;w++)if((f||w in y)&&(m=y[w],b=g(m,w,v),e))if(n)k[w]=b;else if(b)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:k.push(m)}else if(l)return!1;return d?-1:c||l?l:k}}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";function r(e,t,n){if(e[t])return new Error("<"+n+'> should not have a "'+t+'" prop')}t.c=r,n.d(t,"a",function(){return f}),n.d(t,"b",function(){return h}),n.d(t,"d",function(){return m});var o=n(0),i=o.PropTypes.func,a=o.PropTypes.object,u=o.PropTypes.arrayOf,s=o.PropTypes.oneOfType,c=o.PropTypes.element,l=o.PropTypes.shape,d=o.PropTypes.string,f=(l({listen:i.isRequired,push:i.isRequired,replace:i.isRequired,go:i.isRequired,goBack:i.isRequired,goForward:i.isRequired}),s([i,d])),h=s([f,a]),p=s([a,c]),m=s([p,u(p)])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Item=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),d=n(3),f=r(d),h=n(587),p=r(h),m=(t.Item=function(e){var t=e.children,n=e.onClick;return l.default.createElement("div",{onClick:n,className:p.default["coz-menu-item"]},t)},function(e){function t(){var e,n,r,o;i(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={opened:!1},r.toggle=function(){return r.state.opened?r.close():r.open()},r.handleClickOutside=function(e){r.container.contains(e.target)||(e.stopPropagation(),r.close())},r.handleSelect=function(e,t){r.close()},o=n,a(r,o)}return u(t,e),s(t,[{key:"open",value:function(){this.setState({opened:!0}),document.addEventListener("click",this.handleClickOutside,!0)}},{key:"close",value:function(){this.setState({opened:!1}),document.removeEventListener("click",this.handleClickOutside,!0)}},{key:"renderItems",value:function(){var e=this;return l.default.Children.map(this.props.children,function(t){return t?"hr"!==t.nodeName?l.default.cloneElement(t,{onClick:e.handleSelect.bind(e,t)}):l.default.cloneElement(t):t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.disabled,i=t.className,a=t.button,u=t.buttonClassName,s=this.state.opened;return l.default.createElement("div",{className:(0,f.default)(p.default["coz-menu"],i),ref:function(t){e.container=t}},a&&l.default.cloneElement(a,{disabled:r,onClick:this.toggle}),!a&&l.default.createElement("button",{role:"button",className:u||p.default["c-btn"],disabled:r,onClick:this.toggle},n),l.default.createElement("div",{className:(0,f.default)(p.default["coz-menu-inner"],o({},p.default["coz-menu-inner--opened"],s))},this.renderItems()))}}]),t}(c.Component));t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(596);Object.defineProperty(t,"ShareModal",{enumerable:!0,get:function(){return r(o).default}});var i=n(626);Object.defineProperty(t,"SharingDetailsModal",{enumerable:!0,get:function(){return r(i).default}});var a=n(627);Object.defineProperty(t,"SharedBadge",{enumerable:!0,get:function(){return r(a).default}});var u=n(629);Object.defineProperty(t,"ShareButton",{enumerable:!0,get:function(){return r(u).default}}),Object.defineProperty(t,"SharedByMeButton",{enumerable:!0,get:function(){return u.SharedByMeButton}}),Object.defineProperty(t,"SharedWithMeButton",{enumerable:!0,get:function(){return u.SharedWithMeButton}});var s=function(e){return function(t){return t[e]&&0!==t[e].length?t[e].find(function(e){return e.primary})||t[e][0]:""}};t.getPrimaryEmail=function(e){return Array.isArray(e.email)?s("email")(e).address:e.email},t.getPrimaryCozy=function(e){return Array.isArray(e.cozy)?s("cozy")(e).url:e.url}},function(e,t,n){"use strict";var r=n(5),o=n(10),i=n(15),a=n(8)("species");e.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(8)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},function(e,t,n){var r=n(23),o=n(142),i=n(95),a=n(6),u=n(12),s=n(96),c={},l={},t=e.exports=function(e,t,n,d,f){var h,p,m,b,v=f?function(){return e}:s(e),y=r(n,d,t?2:1),g=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(i(v)){for(h=u(e.length);h>g;g++)if((b=t?y(a(p=e[g])[0],p[1]):y(e[g]))===c||b===l)return b}else for(m=v.call(e);!(p=m.next()).done;)if((b=o(m,y,p.value,t))===c||b===l)return b};t.BREAK=c,t.RETURN=l},function(e,t,n){"use strict";var r=n(5),o=n(1),i=n(29),a=n(47),u=n(30),s=n(72),c=n(48),l=n(4),d=n(9),f=n(71),h=n(51),p=n(325);e.exports=function(e,t,n,m,b,v){var y=r[e],g=y,_=b?"set":"add",w=g&&g.prototype,k={},S=function(e){var t=w[e];i(w,e,"delete"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof g&&(v||w.forEach&&!d(function(){(new g).entries().next()}))){var E=new g,x=E[_](v?{}:-0,1)!=E,A=d(function(){E.has(1)}),C=f(function(e){new g(e)}),O=!v&&d(function(){for(var e=new g,t=5;t--;)e[_](t,t);return!e.has(-0)});C||(g=t(function(t,n){c(t,g,e);var r=p(new y,t,g);return void 0!=n&&s(n,b,r[_],r),r}),g.prototype=w,w.constructor=g),(A||O)&&(S("delete"),S("has"),b&&S("get")),(O||x)&&S(_),v&&w.clear&&delete w.clear}else g=m.getConstructor(t,e,b,_),a(g.prototype,n),u.NEED=!0;return h(g,e),k[e]=g,o(o.G+o.W+o.F*(g!=y),k),v||m.setStrong(g,e,b),g}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var r=n(18),o=n(29),i=n(9),a=n(38),u=n(8);e.exports=function(e,t,n){var s=u(e),c=n(a,s,""[e]),l=c[0],d=c[1];i(function(){var t={};return t[s]=function(){return 7},7!=""[e](t)})&&(o(String.prototype,e,l),r(RegExp.prototype,s,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)}))}},function(e,t,n){"use strict";t.__esModule=!0;t.PUSH="PUSH",t.REPLACE="REPLACE",t.POP="POP"},function(e,t,n){"use strict";t.__esModule=!0;t.addEventListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},t.supportsHistory=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},t.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},t.supportsPopstateOnHashchange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},t.isExtraneousPopstateEvent=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(e,t,n){"use strict";(function(e){function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.isV2=t.sanitizeDoc=t.getIndexFields=t.downloadFile=t.downloadArchive=void 0;var i=n(114),a=function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},u=function(e,t){var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)};t.downloadArchive=function(){var t=o(regeneratorRuntime.mark(function t(n,r){var o,i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=a(n),t.next=3,e.files.getArchiveLinkByIds(r,o);case 3:return i=t.sent,t.next=6,e.fullpath(i);case 6:s=t.sent,u(s,o+".zip");case 8:case"end":return t.stop()}},t,void 0)}));return function(e,n){return t.apply(this,arguments)}}(),t.downloadFile=function(){var t=o(regeneratorRuntime.mark(function t(n){var r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.files.downloadById(n.id);case 2:return r=t.sent,t.next=5,r.blob();case 5:o=t.sent,u(window.URL.createObjectURL(o),n.name);case 7:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}(),t.getIndexFields=function(e){var t=e.selector,n=e.sort;return n?[].concat(r(Object.keys(t)),r(Object.keys(n))).filter(function(e,t,n){return n.indexOf(e)===t}):Object.keys(t)},t.sanitizeDoc=function(e){return(0,i.removeObjectProperties)(e,["_type"])},t.isV2=function(e){return(0,i.retry)(function(){return fetch(e+"/status/")},3)().then(function(e){if(e.ok)return e.json();throw new Error("Could not fetch cozy status")}).then(function(e){return 2==(void 0!==e.datasystem?2:3)})}}).call(t,n(17))},function(e,t,n){"use strict";function r(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return l(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var n=Array.isArray(e),r=n?e:Object.keys(e),o=-1,i=r.length,a="";if(n)for(;++o<i;)a+=t.toIndexableString(r[o]);else for(;++o<i;){var u=r[o];a+=t.toIndexableString(u)+t.toIndexableString(e[u])}return a}return""}function o(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var o="0"===e[t];t++;var i="",a=e.substring(t,t+f),u=parseInt(a,10)+d;for(o&&(u=-u),t+=f;;){var s=e[t];if("\0"===s)break;i+=s,t++}i=i.split("."),n=1===i.length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),o&&(n-=10),0!==u&&(n=parseFloat(n+"e"+u))}return{num:n,length:t-r}}function i(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(n);else if(i===e.length-2){var a=e.pop();o[a]=n}else e.push(n)}}function a(e,n){for(var r=Math.min(e.length,n.length),o=0;o<r;o++){var i=t.collate(e[o],n[o]);if(0!==i)return i}return e.length===n.length?0:e.length>n.length?1:-1}function u(e,t){return e===t?0:e>t?1:-1}function s(e,n){for(var r=Object.keys(e),o=Object.keys(n),i=Math.min(r.length,o.length),a=0;a<i;a++){var u=t.collate(r[a],o[a]);if(0!==u)return u;if(0!==(u=t.collate(e[r[a]],n[o[a]])))return u}return r.length===o.length?0:r.length>o.length?1:-1}function c(e){var t=["boolean","number","string","object"],n=t.indexOf(typeof e);return~n?null===e?1:Array.isArray(e)?5:n<3?n+2:n+3:Array.isArray(e)?5:void 0}function l(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=e<0,o=r?"0":"2",i=(r?-n:n)-d,a=p.padLeft(i.toString(),"0",f);o+=h+a;var u=Math.abs(parseFloat(t[0]));r&&(u=10-u);var s=u.toFixed(20);return s=s.replace(/\.?0+$/,""),o+=h+s}var d=-324,f=3,h="",p=n(493);t.collate=function(e,n){if(e===n)return 0;e=t.normalizeKey(e),n=t.normalizeKey(n);var r=c(e),o=c(n);if(r-o!=0)return r-o;if(null===e)return 0;switch(typeof e){case"number":return e-n;case"boolean":return e===n?0:e<n?-1:1;case"string":return u(e,n)}return Array.isArray(e)?a(e,n):s(e,n)},t.normalizeKey=function(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var n=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var o=0;o<r;o++)e[o]=t.normalizeKey(n[o])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];void 0!==a&&(e[i]=t.normalizeKey(a))}}}}return e},t.toIndexableString=function(e){return e=t.normalizeKey(e),c(e)+h+r(e)+"\0"},t.parseIndexableString=function(e){for(var t=[],n=[],r=0;;){var a=e[r++];if("\0"!==a)switch(a){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var u=o(e,r);t.push(u.num),r+=u.length;break;case"4":for(var s="";;){var c=e[r];if("\0"===c)break;s+=c,r++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(s);break;case"5":var l={element:[],index:t.length};t.push(l.element),n.push(l);break;case"6":var d={element:{},index:t.length};t.push(d.element),n.push(d);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+a)}else{if(1===t.length)return t.pop();i(t,n)}}}},function(e,t){e.exports={"c-btn":"c-btn--1MtKp","c-btn--regular":"c-btn--regular--7TxmT","c-btn--secondary":"c-btn--secondary--1STd0","c-btn--danger":"c-btn--danger--3qPFH","c-btn--danger-outline":"c-btn--danger-outline--24sPm","c-btn--highlight":"c-btn--highlight--3yT9n","c-btn-client":"c-btn-client--148Kp","c-btn-client-mobile":"c-btn-client-mobile--2v9GT",spin:"spin--260Kl","c-btn--share":"c-btn--share--2FiKD","c-btn--send":"c-btn--send--y1dNa","c-btn--download":"c-btn--download--26KOD","c-btn--upload":"c-btn--upload--3hsiv","c-btn--delete":"c-btn--delete--B1lJJ","c-link--upload":"c-link--upload--iLCb6","c-link--delete":"c-link--delete--2Ir3t","c-btn--more":"c-btn--more--2ztng","c-btn-extra":"c-btn-extra--27kym","c-btn-extra--white":"c-btn-extra--white--EXnJ6","c-btn--close":"c-btn--close--3DHex","c-btn-alert":"c-btn-alert--3Hu7p","c-btn-alert--error":"c-btn-alert--error--3-vgx","c-btn-alert--info":"c-btn-alert--info--6bvrp","c-btn-alert--success":"c-btn-alert--success--2TgCR","pho-share-modal-content":"pho-share-modal-content--3gMoL","coz-form":"coz-form--2jtJC","coz-form-group":"coz-form-group--1bFva","coz-form-desc":"coz-form-desc--JrEED","coz-form-label":"coz-form-label--3Zm6p","coz-form-label--error":"coz-form-label--error--2KzmX","coz-form-errors":"coz-form-errors--1nNWc","coz-form-controls":"coz-form-controls--1RJGg","coz-form-controls--full":"coz-form-controls--full--2-y4G","coz-form-controls--dispatch":"coz-form-controls--dispatch--2TjNA",error:"error--3q85L","coz-sidebar":"coz-sidebar--3p_JR","o-sidebar":"o-sidebar--e3BMI","c-nav":"c-nav--1NdLL","c-nav-item":"c-nav-item--tAUtH","c-nav-link":"c-nav-link--2RWvN",active:"active--3qKPX","is-active":"is-active--2bUS3","coz-nav-item":"coz-nav-item--1rV3C","coz-hidden":"coz-hidden--1sLIT","u-visuallyhidden":"u-visuallyhidden--1ADpa","u-hide":"u-hide--1HSm0","coz-desktop":"coz-desktop--13xPp","u-hide--mob":"u-hide--mob--3C_1c","coz-mobile":"coz-mobile--1QomW","u-hide--desk":"u-hide--desk--1aW8P","u-p-1":"u-p-1--1Xb6A","u-pt-1":"u-pt-1--wOjWR","u-pb-1":"u-pb-1--2tcwN","u-pl-1":"u-pl-1--3yKUB","u-pr-1":"u-pr-1--WZiKI","u-p-2":"u-p-2--18Nqe","u-pt-2":"u-pt-2--29wig","u-pb-2":"u-pb-2--eSA__","u-pl-2":"u-pl-2--7sjBI","u-pr-2":"u-pr-2--M1HHI","u-p-3":"u-p-3--suNLR","u-pt-3":"u-pt-3--hoDM7","u-pb-3":"u-pb-3--3bQWr","u-pl-3":"u-pl-3--2C3Bk","u-pr-3":"u-pr-3--_f9I5","u-p-half":"u-p-half--tDfZ3","u-pt-half":"u-pt-half--1TBUk","u-pb-half":"u-pb-half--zT1hi","u-pl-half":"u-pl-half--16wNr","u-pr-half":"u-pr-half--wH8Fw","u-p-1-half":"u-p-1-half--1-WtX","u-pt-1-half":"u-pt-1-half--3NtTL","u-pb-1-half":"u-pb-1-half--TlLG5","u-pl-1-half":"u-pl-1-half--20lRU","u-pr-1-half":"u-pr-1-half--5Awqq","u-p-2-half":"u-p-2-half--2bR9L","u-pt-2-half":"u-pt-2-half--3RN4K","u-pb-2-half":"u-pb-2-half--3hIXi","u-pl-2-half":"u-pl-2-half--12SVW","u-pr-2-half":"u-pr-2-half--1LO1_","u-m-1":"u-m-1--TeRhu","u-mt-1":"u-mt-1--1-uZd","u-mb-1":"u-mb-1--1ca3I","u-ml-1":"u-ml-1--2pUXs","u-mr-1":"u-mr-1--3ZcDG","u-m-2":"u-m-2--3qUGo","u-mt-2":"u-mt-2--2_YQO","u-mb-2":"u-mb-2--m4w6x","u-ml-2":"u-ml-2--87HTK","u-mr-2":"u-mr-2--26lQj","u-m-3":"u-m-3--25Lo_","u-mt-3":"u-mt-3--19mfk","u-mb-3":"u-mb-3--3RIgP","u-ml-3":"u-ml-3--1a3wO","u-mr-3":"u-mr-3--1V-D_","u-m-half":"u-m-half--ag6Kx","u-mt-half":"u-mt-half--3pNn2","u-mb-half":"u-mb-half--MFZ3l","u-ml-half":"u-ml-half--2nREY","u-mr-half":"u-mr-half--2syzZ","u-m-1-half":"u-m-1-half--nmet2","u-mt-1-half":"u-mt-1-half--3hGJC","u-mb-1-half":"u-mb-1-half--3tAtq","u-ml-1-half":"u-ml-1-half--3y4h-","u-mr-1-half":"u-mr-1-half--sQIg6","u-m-2-half":"u-m-2-half--3E2L9","u-mt-2-half":"u-mt-2-half--1ZaMB","u-mb-2-half":"u-mb-2-half--11D2g","u-ml-2-half":"u-ml-2-half--1oNnQ","u-mr-2-half":"u-mr-2-half--8Xvtd","coz-error":"coz-error--1xrL_","u-error":"u-error--2Z8BN","coz-error--warning":"coz-error--warning--2_eha","u-error--warning":"u-error--warning--3Ps-a","u-valid":"u-valid--2L3H7","u-warn":"u-warn--3YjWZ","pho-share-modal-tabs":"pho-share-modal-tabs--3N8DX","pho-share-modal-footer":"pho-share-modal-footer--3mK7_","coz-select":"coz-select--1RaUq","pho-input-dual":"pho-input-dual--OQf7S","pho-btn-copy":"pho-btn-copy--2w2j3","pho-share-details-created":"pho-share-details-created--24_1f","pho-share-details-perm":"pho-share-details-perm--3u3H8"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getSuccessful=t.getProcessed=t.getUploadQueue=t.onQueueEmpty=t.purgeUploadQueue=t.addToUploadQueue=t.ADD_TO_UPLOAD_QUEUE=t.UploadQueue=void 0;var a=n(41),u=n(60),s=r(u),c=n(582),l=r(c);t.UploadQueue=l.default;var d=t.ADD_TO_UPLOAD_QUEUE="ADD_TO_UPLOAD_QUEUE",f=function(e){return{file:e,status:"pending"}},h=function(e){switch(e.type){case"UPLOAD_FILE":return"loading";case"RECEIVE_UPLOAD_SUCCESS":return"loaded";case"RECEIVE_UPLOAD_ERROR":return e.status}},p=function(e,t){return Object.assign({},e,{status:h(t)})},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case d:return[].concat(i(e),i(t.files.map(function(e){return f(e)})));case"PURGE_UPLOAD_QUEUE":return[];case"UPLOAD_FILE":case"RECEIVE_UPLOAD_SUCCESS":case"RECEIVE_UPLOAD_ERROR":return e.map(function(e){return e.file.name!==t.file.name?e:p(e,t)});default:return e}};t.default=(0,a.combineReducers)({queue:m});var b=function e(t){return function(){var n=o(regeneratorRuntime.mark(function n(r,o){var i,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=k(o()).find(function(e){return"pending"===e.status})){n.next=3;break}return n.abrupt("return",r(v()));case 3:return a=i.file,n.prev=4,r({type:"UPLOAD_FILE",file:a}),n.next=8,r(t(a));case 8:r({type:"RECEIVE_UPLOAD_SUCCESS",file:a}),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(4),console.log(n.t0),r({type:"RECEIVE_UPLOAD_ERROR",file:a,status:409===n.t0.status?"conflict":"failed"});case 15:r(e(t));case 16:case"end":return n.stop()}},n,void 0,[[4,11]])}));return function(e,t){return n.apply(this,arguments)}}()},v=(t.addToUploadQueue=function(e,t){return function(){var n=o(regeneratorRuntime.mark(function n(r){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r({type:d,files:e}),r(b(t));case 2:case"end":return n.stop()}},n,void 0)}));return function(e){return n.apply(this,arguments)}}()},t.purgeUploadQueue=function(){return{type:"PURGE_UPLOAD_QUEUE"}},t.onQueueEmpty=function(){return function(e,t){var n=k(t()),r=g(n),o=_(n),i=w(n);r.length||o.length?r.length&&!o.length?s.default.info("UploadQueue.alert.success_conflicts",{smart_count:i.length,conflictNumber:r.length}):s.default.error("UploadQueue.alert.errors"):s.default.success("UploadQueue.alert.success",{smart_count:i.length})}}),y=function(e,t){return e.filter(function(e){return e.status===t})},g=function(e){return y(e,"conflict")},_=function(e){return y(e,"failed")},w=function(e){return y(e,"loaded")},k=t.getUploadQueue=function(e){return e.upload.queue};t.getProcessed=function(e){return k(e).filter(function(e){return"pending"!==e.status})},t.getSuccessful=function(e){return w(k(e))}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.getPhotosByMonth=t.DeleteConfirm=t.Toolbar=t.isRelated=t.deletePhotos=t.uploadPhoto=t.fetchTimeline=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(584),u=r(a),s=n(590),c=r(s),l=n(43),d=n(592),f=n(44),h=n(14);t.fetchTimeline=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,h.fetchCollection)("timeline","io.cozy.files",{fields:["dir_id","name","size","updated_at","metadata"],selector:{class:"image",trashed:!1},sort:{"metadata.datetime":"desc"}})},t.uploadPhoto=function(e,t){return(0,h.makeActionCreator)(function(){var n=o(regeneratorRuntime.mark(function n(r){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.ensureDirectoryExists(t);case 2:return o=n.sent,n.abrupt("return",(0,h.createFile)(e,o,{updateCollections:["timeline"]}));case 4:case"end":return n.stop()}},n,void 0)}));return function(e){return n.apply(this,arguments)}}())},t.deletePhotos=function(t){return function(){var n=o(regeneratorRuntime.mark(function n(r){var o,a,u,s,c,p,m,b,v,y,g,_,w,k;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o=!0,a=!1,u=void 0,n.prev=3,s=t[Symbol.iterator]();case 5:if(o=(c=s.next()).done){n.next=52;break}return p=c.value,n.prev=7,n.next=10,e.data.find(d.FILE_DOCTYPE,p);case 10:if(m=n.sent,b=i({},m,{id:m._id,type:m._type}),!b.referenced_by){n.next=41;break}v=!0,y=!1,g=void 0,n.prev=16,_=b.referenced_by[Symbol.iterator]();case 18:if(v=(w=_.next()).done){n.next=27;break}if(k=w.value,console.log(k),k.type!==f.DOCTYPE){n.next=24;break}return n.next=24,r((0,f.removeFromAlbum)(k,[p]));case 24:v=!0,n.next=18;break;case 27:n.next=33;break;case 29:n.prev=29,n.t0=n.catch(16),y=!0,g=n.t0;case 33:n.prev=33,n.prev=34,!v&&_.return&&_.return();case 36:if(n.prev=36,!y){n.next=39;break}throw g;case 39:return n.finish(36);case 40:return n.finish(33);case 41:return n.next=43,r((0,h.trashFile)(b,{updateCollections:["timeline"]}));case 43:n.next=48;break;case 45:n.prev=45,n.t1=n.catch(7),console.log(n.t1);case 48:r((0,l.hideSelectionBar)());case 49:o=!0,n.next=5;break;case 52:n.next=58;break;case 54:n.prev=54,n.t2=n.catch(3),a=!0,u=n.t2;case 58:n.prev=58,n.prev=59,!o&&s.return&&s.return();case 61:if(n.prev=61,!a){n.next=64;break}throw u;case 64:return n.finish(61);case 65:return n.finish(58);case 66:case"end":return n.stop()}},n,void 0,[[3,54,58,66],[7,45],[16,29,33,41],[34,,36,40],[59,,61,65]])}));return function(e){return n.apply(this,arguments)}}()},t.isRelated=function(e,t){if(!t)return!1;var n=(0,l.getSelectedIds)(e),r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,c=!0,d=!1,h=void 0;try{for(var p,m=t[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var b=p.value;if(b.id===s&&b.relationships&&b.relationships.referenced_by&&b.relationships.referenced_by.data&&b.relationships.referenced_by.data.length>0){var v=b.relationships.referenced_by.data,y=!0,g=!1,_=void 0;try{for(var w,k=v[Symbol.iterator]();!(y=(w=k.next()).done);y=!0){if(w.value.type===f.DOCTYPE)return!0}}catch(e){g=!0,_=e}finally{try{!y&&k.return&&k.return()}finally{if(g)throw _}}}}}catch(e){d=!0,h=e}finally{try{!c&&m.return&&m.return()}finally{if(d)throw h}}}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return!1};t.Toolbar=u.default,t.DeleteConfirm=c.default;t.getPhotosByMonth=function(e,t,n){var r={};return e.forEach(function(e){var t=e.metadata&&e.metadata.datetime?e.metadata.datetime:Date.now(),n=t.slice(0,7)+"-01T00:00";r.hasOwnProperty(n)||(r[n]=[]),r[n].push(e)}),Object.keys(r).sort(function(e,t){return new Date(e).getTime()-new Date(t).getTime()}).reverse().map(function(e){return{title:t(e,n),photos:r[e]}})}}).call(t,n(17))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(588);Object.defineProperty(t,"MoreButton",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.Loading=void 0;var i=n(640),a=r(i),u=n(0),s=r(u),c=n(7),l=n(3),d=r(l),f=t.Loading=function(e){var t,n=e.t,r=e.loadingType,i=e.noMargin,u=e.color;return s.default.createElement("div",{className:(0,d.default)(a.default["pho-loading"],(t={},o(t,a.default["pho-loading--no-margin"],i),o(t,a.default["pho-loading--"+u],u),t))},r&&s.default.createElement("p",null,n("Loading."+r)))};t.default=(0,c.translate)()(f)},function(e,t,n){var r=n(4),o=n(5).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){for(var r,o=n(5),i=n(18),a=n(35),u=a("typed_array"),s=a("view"),c=!(!o.ArrayBuffer||!o.DataView),l=c,d=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(r=o[f[d++]])?(i(r.prototype,u,!0),i(r.prototype,s,!0)):l=!1;e.exports={ABV:c,CONSTR:l,TYPED:u,VIEW:s}},function(e,t,n){var r=n(49);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(20),o=n(12),i=n(50);e.exports=function(e){return function(t,n,a){var u,s=r(t),c=o(s.length),l=i(a,c);if(e&&n!=n){for(;c>l;)if((u=s[l++])!=u)return!0}else for(;c>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(90)("keys"),o=n(35);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(5),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){"use strict";var r=n(24),o=n(50),i=n(12);e.exports=function(e){for(var t=r(this),n=i(t.length),a=arguments.length,u=o(a>1?arguments[1]:void 0,n),s=a>2?arguments[2]:void 0,c=void 0===s?n:o(s,n);c>u;)t[u++]=e;return t}},function(e,t,n){var r=n(6),o=n(36),i=n(8)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[i])?t:o(n)}},function(e,t,n){var r=n(49),o=n(8)("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,u;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),o))?n:i?r(t):"Object"==(u=r(t))&&"function"==typeof t.callee?"Arguments":u}},function(e,t,n){var r=n(52),o=n(8)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){var r=n(94),o=n(8)("iterator"),i=n(52);e.exports=n(45).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){"use strict";var r=n(54),o=n(138),i=n(52),a=n(20);e.exports=n(139)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,n):"values"==t?o(0,e[n]):o(0,[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(4),o=n(6),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(23)(Function.call,n(26).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){var r,o,i,a=n(23),u=n(145),s=n(136),c=n(85),l=n(5),d=l.process,f=l.setImmediate,h=l.clearImmediate,p=l.MessageChannel,m=l.Dispatch,b=0,v={},y=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},g=function(e){y.call(e.data)};f&&h||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++b]=function(){u("function"==typeof e?e:Function(e),t)},r(b),b},h=function(e){delete v[e]},"process"==n(49)(d)?r=function(e){d.nextTick(a(y,e,1))}:m&&m.now?r=function(e){m.now(a(y,e,1))}:p?(o=new p,i=o.port2,o.port1.onmessage=g,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",g,!1)):r="onreadystatechange"in c("script")?function(e){s.appendChild(c("script")).onreadystatechange=function(){s.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:f,clear:h}},function(e,t,n){var r=n(151),o=n(38);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,t,n){var r=n(8)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){"use strict";var r=n(10),o=n(34);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){"use strict";function r(e){if(!Object(a.a)(e)||Object(o.a)(e)!=u)return!1;var t=Object(i.a)(e);if(null===t)return!0;var n=d.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==f}var o=n(426),i=n(431),a=n(433),u="[object Object]",s=Function.prototype,c=Object.prototype,l=s.toString,d=c.hasOwnProperty,f=l.call(Object);t.a=r},function(e,t,n){"use strict";function r(e,t,n){function r(){if(a=!0,u)return void(c=[].concat(Array.prototype.slice.call(arguments)));n.apply(this,arguments)}function o(){if(!a&&(s=!0,!u)){for(u=!0;!a&&i<e&&s;)s=!1,t.call(this,i++,o,r);if(u=!1,a)return void n.apply(this,c);i>=e&&s&&(a=!0,n())}}var i=0,a=!1,u=!1,s=!1,c=void 0;o()}function o(e,t,n){function r(e,t,r){a||(t?(a=!0,n(t)):(i[e]=r,(a=++u===o)&&n(null,i)))}var o=e.length,i=[];if(0===o)return n(null,i);var a=!1,u=0;e.forEach(function(e,n){t(e,n,function(e,t){r(n,e,t)})})}t.a=r,t.b=o},function(e,t,n){"use strict";var r=n(11),o=n.n(r),i=n(0),a=n(448),u=n(108),s=n(32),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=i.default.PropTypes,f=d.array,h=d.func,p=d.object,m=i.default.createClass({displayName:"RouterContext",mixins:[Object(u.a)("router")],propTypes:{router:p.isRequired,location:p.isRequired,routes:f.isRequired,params:p.isRequired,components:f.isRequired,createElement:h.isRequired},getDefaultProps:function(){return{createElement:i.default.createElement}},childContextTypes:{router:p.isRequired},getChildContext:function(){return{router:this.props.router}},createElement:function(e,t){return null==e?null:this.props.createElement(e,t)},render:function(){var e=this,t=this.props,n=t.location,r=t.routes,u=t.params,d=t.components,f=t.router,h=null;return d&&(h=d.reduceRight(function(t,o,i){if(null==o)return t;var d=r[i],h=Object(a.a)(d,u),p={location:n,params:u,route:d,router:f,routeParams:h,routes:r};if(Object(s.c)(t))p.children=t;else if(t)for(var m in t)Object.prototype.hasOwnProperty.call(t,m)&&(p[m]=t[m]);if("object"===(void 0===o?"undefined":l(o))){var b={};for(var v in o)Object.prototype.hasOwnProperty.call(o,v)&&(b[v]=e.createElement(o[v],c({key:v},p)));return b}return e.createElement(o,p)},h)),null===h||!1===h||i.default.isValidElement(h)||o()(!1),h}});t.a=m},function(e,t,n){"use strict";function r(e){return"@@contextSubscriber/"+e}function o(e){var t,n,o=r(e),i=o+"/listeners",a=o+"/eventIndex",s=o+"/subscribe";return n={childContextTypes:(t={},t[o]=u.isRequired,t),getChildContext:function(){var e;return e={},e[o]={eventIndex:this[a],subscribe:this[s]},e},componentWillMount:function(){this[i]=[],this[a]=0},componentWillReceiveProps:function(){this[a]++},componentDidUpdate:function(){var e=this;this[i].forEach(function(t){return t(e[a])})}},n[s]=function(e){var t=this;return this[i].push(e),function(){t[i]=t[i].filter(function(t){return t!==e})}},n}function i(e){var t,n,o=r(e),i=o+"/lastRenderedEventIndex",a=o+"/handleContextUpdate",s=o+"/unsubscribe";return n={contextTypes:(t={},t[o]=u,t),getInitialState:function(){var e;return this.context[o]?(e={},e[i]=this.context[o].eventIndex,e):{}},componentDidMount:function(){this.context[o]&&(this[s]=this.context[o].subscribe(this[a]))},componentWillReceiveProps:function(){var e;this.context[o]&&this.setState((e={},e[i]=this.context[o].eventIndex,e))},componentWillUnmount:function(){this[s]&&(this[s](),this[s]=null)}},n[a]=function(e){if(e!==this.state[i]){var t;this.setState((t={},t[i]=e,t))}},n}t.a=o,t.b=i;var a=n(0),u=a.PropTypes.shape({subscribe:a.PropTypes.func.isRequired,eventIndex:a.PropTypes.number.isRequired})},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var r=n(0),o=r.PropTypes.func,i=r.PropTypes.object,a=r.PropTypes.shape,u=r.PropTypes.string,s=a({push:o.isRequired,replace:o.isRequired,go:o.isRequired,goBack:o.isRequired,goForward:o.isRequired,setRouteLeaveHook:o.isRequired,isActive:o.isRequired}),c=a({pathname:u.isRequired,search:u.isRequired,state:i,action:u.isRequired,key:u})},function(e,t,n){"use strict";t.__esModule=!0;var r=n(22),o=(function(e){e&&e.__esModule}(r),function(e,t,n){var r=e(t,n);e.length<2&&n(r)});t.default=o},function(e,t,n){"use strict";t.__esModule=!0;var r=n(460),o=n(33),i=n(110),a=function(e){return e&&e.__esModule?e:{default:e}}(i),u=n(76),s=n(58),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getCurrentLocation,n=e.getUserConfirmation,i=e.pushLocation,c=e.replaceLocation,l=e.go,d=e.keyLength,f=void 0,h=void 0,p=[],m=[],b=[],v=function(){return h&&h.action===u.POP?b.indexOf(h.key):f?b.indexOf(f.key):-1},y=function(e){var t=v();f=e,f.action===u.PUSH?b=[].concat(b.slice(0,t+1),[f.key]):f.action===u.REPLACE&&(b[t]=f.key),m.forEach(function(e){return e(f)})},g=function(e){return p.push(e),function(){return p=p.filter(function(t){return t!==e})}},_=function(e){return m.push(e),function(){return m=m.filter(function(t){return t!==e})}},w=function(e,t){(0,r.loopAsync)(p.length,function(t,n,r){(0,a.default)(p[t],e,function(e){return null!=e?r(e):n()})},function(e){n&&"string"==typeof e?n(e,function(e){return t(!1!==e)}):t(!1!==e)})},k=function(e){f&&(0,s.locationsAreEqual)(f,e)||h&&(0,s.locationsAreEqual)(h,e)||(h=e,w(e,function(t){if(h===e)if(h=null,t){if(e.action===u.PUSH){var n=(0,o.createPath)(f),r=(0,o.createPath)(e);r===n&&(0,s.statesAreEqual)(f.state,e.state)&&(e.action=u.REPLACE)}e.action===u.POP?y(e):e.action===u.PUSH?!1!==i(e)&&y(e):e.action===u.REPLACE&&!1!==c(e)&&y(e)}else if(f&&e.action===u.POP){var a=b.indexOf(f.key),d=b.indexOf(e.key);-1!==a&&-1!==d&&l(a-d)}}))},S=function(e){return k(T(e,u.PUSH))},E=function(e){return k(T(e,u.REPLACE))},x=function(){return l(-1)},A=function(){return l(1)},C=function(){return Math.random().toString(36).substr(2,d||6)},O=function(e){return(0,o.createPath)(e)},T=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C();return(0,s.createLocation)(e,t,n)};return{getCurrentLocation:t,listenBefore:g,listen:_,transitionTo:k,push:S,replace:E,go:l,goBack:x,goForward:A,createKey:C,createPath:o.createPath,createHref:O,createLocation:T}};t.default=c},function(e,t,n){"use strict";t.__esModule=!0;t.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement)},function(e,t,n){"use strict";t.__esModule=!0,t.go=t.replaceLocation=t.pushLocation=t.startListener=t.getUserConfirmation=t.getCurrentLocation=void 0;var r=n(58),o=n(77),i=n(170),a=n(33),u=n(112),s=u.canUseDOM&&!(0,o.supportsPopstateOnHashchange)(),c=function(e){var t=e&&e.key;return(0,r.createLocation)({pathname:window.location.pathname,search:window.location.search,hash:window.location.hash,state:t?(0,i.readState)(t):void 0},void 0,t)},l=t.getCurrentLocation=function(){var e=void 0;try{e=window.history.state||{}}catch(t){e={}}return c(e)},d=(t.getUserConfirmation=function(e,t){return t(window.confirm(e))},t.startListener=function(e){var t=function(t){(0,o.isExtraneousPopstateEvent)(t)||e(c(t.state))};(0,o.addEventListener)(window,"popstate",t);var n=function(){return e(l())};return s&&(0,o.addEventListener)(window,"hashchange",n),function(){(0,o.removeEventListener)(window,"popstate",t),s&&(0,o.removeEventListener)(window,"hashchange",n)}},function(e,t){var n=e.state,r=e.key;void 0!==n&&(0,i.saveState)(r,n),t({key:r},(0,a.createPath)(e))});t.pushLocation=function(e){return d(e,function(e,t){return window.history.pushState(e,null,t)})},t.replaceLocation=function(e){return d(e,function(e,t){return window.history.replaceState(e,null,t)})},t.go=function(e){e&&window.history.go(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(t.mapValues=function(e,t){var n={};for(var r in e)n[r]=t(e[r],r);return n},t.filterValues=function(e,t){var n={};for(var r in e)t(e[r],r)&&(n[r]=e[r]);return n},t.removeObjectProperty=function(e,t){return Object.keys(e).reduce(function(n,r){return r!==t&&(n[r]=e[r]),n},{})},t.removeObjectProperties=function(e,t){var n=new Set(t);return Object.keys(e).reduce(function(t,r){return n.has(r)||(t[r]=e[r]),t},{})},t.sleep=function(e,t){return new Promise(function(n){setTimeout(n,e,t)})}),o=(t.retry=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;return function o(){for(var a=arguments.length,u=Array(a),s=0;s<a;s++)u[s]=arguments[s];return e.apply(void 0,u).catch(function(e){if(--t<0)throw e;return r(i(n,t)).then(function(){return o.apply(void 0,u)})})}},t.getFuzzedDelay=function(e){return e*(1+.3*(2*Math.random()-1))}),i=t.getBackedoffDelay=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return o(e*Math.pow(2,t-1))}},function(e,t,n){"use strict";(function(t){function n(){l=!0;for(var e,t,n=d.length;n;){for(t=d,d=[],e=-1;++e<n;)t[e]();n=d.length}l=!1}function r(e){1!==d.push(e)||l||o()}var o,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var a=0,u=new i(n),s=t.document.createTextNode("");u.observe(s,{characterData:!0}),o=function(){s.data=a=++a%2}}else if(t.setImmediate||void 0===t.MessageChannel)o="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){n(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(n,0)};else{var c=new t.MessageChannel;c.port1.onmessage=n,o=function(){c.port2.postMessage(0)}}var l,d=[];e.exports=r}).call(t,n(40))},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";function r(e,t){return function(n){for(var r=[],o=0,i=e.length;o<i;o++){for(var a=p(e[o]),u=n,s=0,c=a.length;s<c;s++){if(!(u=u[a[s]]))break}r.push(u)}t(r)}}function o(e,t){var n=p(e);return function(e){for(var r=e,o=0,i=n.length;o<i;o++){if(!(r=r[n[o]]))return}t(r)}}function i(e,t){return function(n){t(n[e])}}function a(e,t){return function(n){for(var r=[],o=0,i=e.length;o<i;o++)r.push(n[e[o]]);t(r)}}function u(e){for(var t=0,n=e.length;t<n;t++){if(-1!==e[t].indexOf("."))return!1}return!0}function s(e,t){var n=u(e),s=1===e.length;return n?s?i(e[0],t):a(e,t):s?o(e[0],t):r(e,t)}function c(e,t){return s(Object.keys(e.fields),t)}function l(){throw new Error("reduce not supported")}function d(e,t){var n=e.views[t];if(!n.map||!n.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")}var f=n(59),h=n(494),p=f.parseField,m=h({name:"indexes",mapper:c,reducer:l,ddocValidator:d});e.exports=m},function(e,t,n){"use strict";(function(e){t.Promise=n(175),t.inherits=n(116),t.extend=n(177);var r=n(174);t.promisedCallback=function(t,n){return n&&t.then(function(t){e.nextTick(function(){n(null,t)})},function(t){e.nextTick(function(){n(t)})}),t},t.callbackify=function(e){return r(function(n){var r=n.pop(),o=e.apply(this,n);return"function"==typeof r&&t.promisedCallback(o,r),o})},t.fin=function(e,t){return e.then(function(e){var n=t();return"function"==typeof n.then?n.then(function(){return e}):e},function(e){var n=t();if("function"==typeof n.then)return n.then(function(){throw e});throw e})},t.sequentialize=function(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}},t.flatten=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t},t.uniq=function(e){for(var t={},n=0,r=e.length;n<r;n++)t["$"+e[n]]=!0;var o=Object.keys(t),i=new Array(o.length);for(n=0,r=o.length;n<r;n++)i[n]=o[n].substring(1);return i};var o=n(496),i=n(178);t.MD5=function(t){return e.browser?i.hash(t):o.createHash("md5").update(t).digest("hex")}}).call(t,n(31))},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i={syncStatus:"pending",lastSync:null,seqNumber:0},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case"START_DOCTYPE_SYNC":return o({},e,{syncStatus:"syncing",seqNumber:t.seqNumber});case"SYNC_DOCTYPE_OK":return o({},e,{syncStatus:"done",lastSync:Date.now()});case"SYNC_DOCTYPE_ERROR":return o({},e,{syncStatus:"error",lastSync:Date.now()});default:return e}},u={started:!1,initialStatus:"pending",doctypes:{}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case"START_SYNC":return o({},e,{started:!0});case"INITIAL_SYNC_OK":return o({},e,{initialStatus:"ok"});case"INITIAL_SYNC_ERROR":return o({},e,{initialStatus:"error"});case"START_DOCTYPE_SYNC":case"SYNC_DOCTYPE_OK":case"SYNC_DOCTYPE_ERROR":return o({},e,{doctypes:o({},e.doctypes,r({},t.doctype,a(e.doctypes[t.doctype],t)))});default:return e}};t.default=s;var c=(t.startSync=function(){return{types:["START_SYNC","INITIAL_SYNC_OK","INITIAL_SYNC_ERROR"],promise:function(e,t){return e.startSync(t)}}},t.startDoctypeSync=function(e){return{type:"START_DOCTYPE_SYNC",doctype:e,seqNumber:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}},t.syncDoctypeOk=function(e,t){return{type:"SYNC_DOCTYPE_OK",doctype:e,infos:t}},t.syncDoctypeError=function(e,t){return{type:"SYNC_DOCTYPE_ERROR",doctype:e,error:t}},t.hasSyncStarted=function(e){return e.cozy.synchronization.started},t.isSyncOk=function(e){return"ok"===e.cozy.synchronization.initialStatus}),l=t.isSyncInError=function(e){return"error"===e.cozy.synchronization.initialStatus};t.isFirstSync=function(e){return Object.keys(e.cozy.synchronization.doctypes).map(function(t){return e.cozy.synchronization.doctypes[t].seqNumber}).every(function(e){return 0===e})},t.isSynced=function(e){return c(e)||l(e)}},function(e,t,n){"use strict";function r(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.a=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.isCollectionFetched=t.getDocument=t.getCollection=t.enhancePropsForActions=t.applySelectorForAction=t.makeFetchMoreAction=t.makeActionCreator=t.removeReferencedFiles=t.addReferencedFiles=t.trashFile=t.createFile=t.deleteDocuments=t.deleteDocument=t.updateDocuments=t.updateDocument=t.createDocument=t.fetchReferencedFiles=t.fetchDocument=t.refetchCollections=t.fetchCollection=t.makeFetchCollection=t.CREATE_DOCUMENT=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(41),c=n(114),l=n(189),d=r(l),f=n(119),h=r(f),p=t.CREATE_DOCUMENT="CREATE_DOCUMENT",m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case"RECEIVE_DATA":var n=t.response.data;if(0===n.length)return e;var r=k(n);return u({},e,a({},r,u({},e[r],b(n))));case"RECEIVE_NEW_DOCUMENT":case"RECEIVE_UPDATED_DOCUMENT":var o=t.response.data[0];return u({},e,a({},o._type,u({},e[o._type],a({},o.id,o))));case"RECEIVE_UPDATED_DOCUMENTS":var i=t.response.data,s=i[0]._type;return u({},e,a({},s,u({},e[s],i.reduce(function(e,t){return(e[t.id]=t)&&e},{}))));case"RECEIVE_DELETED_DOCUMENT":var l=t.response.data[0];return u({},e,a({},l._type,(0,c.removeObjectProperty)(e[l._type],l.id)));case"RECEIVE_DELETED_DOCUMENTS":var d=t.response.data,f=d[0];return u({},e,a({},f._type,(0,c.removeObjectProperties)(e[f._type],d.map(function(e){return e.id}))));case"ADD_REFERENCED_FILES":return u({},e,{"io.cozy.files":u({},e["io.cozy.files"],y(e["io.cozy.files"],t.ids,t.document))});case"REMOVE_REFERENCED_FILES":return u({},e,{"io.cozy.files":u({},e["io.cozy.files"],_(e["io.cozy.files"],t.ids,t.document))});default:return e}},b=function(e){return e.reduce(function(e,t){return u({},e,a({},t.id,t))},{})},v=function(e,t){var n=e.relationships,r=n.referenced_by,s=i(n,["referenced_by"]),c=i(e,["relationships"]);return u({},c,{relationships:u({},s,a({},r.data,null===r.data?[{id:t.id,type:t.type}]:[].concat(o(r.data),[{id:t.id,type:t.type}])))})},y=function(e,t,n){return t.reduce(function(t,r){return u({},t,a({},r,v(e[r],n)))},{})},g=function(e,t){var n=e.relationships,r=n.referenced_by,o=i(n,["referenced_by"]),s=i(e,["relationships"]);return u({},s,{relationships:u({},o,a({},r.data,r.data.filter(function(e){return e.type!==t.type&&e.id!==t.id})))})},_=function(e,t,n){return t.reduce(function(t,r){return u({},t,a({},r,g(e[r],n)))},{})},w=function(e){var t=e._type;return"file"===t?"io.cozy.files":t},k=function(e){return w(e[0])},S={type:null,options:{},fetchStatus:"pending",lastFetch:null,hasMore:!1,count:0,ids:[]},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments[1];switch(t.type){case"FETCH_COLLECTION":case"FETCH_REFERENCED_FILES":return u({},e,{type:t.doctype||"io.cozy.files",options:t.options,fetchStatus:t.skip>0?"loadingMore":"loaded"===e.fetchStatus?"loaded":"loading"});case"RECEIVE_DATA":var n=t.response;return u({},e,{fetchStatus:"loaded",lastFetch:Date.now(),hasMore:void 0!==n.next?n.next:e.hasMore,count:n.meta&&n.meta.count?n.meta.count:n.data.length,ids:t.skip?[].concat(o(e.ids),o(n.data.map(function(e){return e.id}))):n.data.map(function(e){return e.id})});case"ADD_REFERENCED_FILES":return u({},e,{type:"io.cozy.files",count:e.count+t.ids.length,ids:[].concat(o(e.ids),o(t.ids))});case"REMOVE_REFERENCED_FILES":return u({},e,{count:e.count-t.ids.length,ids:e.ids.filter(function(e){return-1===t.ids.indexOf(e)})});case"RECEIVE_ERROR":return u({},e,{fetchStatus:"failed"});case"RECEIVE_NEW_DOCUMENT":return u({},e,{ids:[].concat(o(e.ids),[t.response.data[0].id])});case"RECEIVE_DELETED_DOCUMENT":return u({},e,{ids:e.ids.filter(function(e){return e!==t.response.data[0].id})});case"RECEIVE_DELETED_DOCUMENTS":var r=new Set(t.response.data.map(function(e){return e.id})),i=e.ids.filter(function(e){return!r.has(e)});return u({},e,{ids:i});default:return e}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case"FETCH_COLLECTION":case"FETCH_REFERENCED_FILES":case"ADD_REFERENCED_FILES":case"REMOVE_REFERENCED_FILES":case"RECEIVE_DATA":case"RECEIVE_ERROR":return t.collection?u({},e,a({},t.collection,E(e[t.collection],t))):e;case"RECEIVE_NEW_DOCUMENT":case"RECEIVE_DELETED_DOCUMENT":case"RECEIVE_DELETED_DOCUMENTS":return t.updateCollections?u({},e,function(e,n){return n.updateCollections.reduce(function(n,r){return u({},n,a({},r,E(e[r],t)))},{})}(e,t)):e;default:return e}};t.default=(0,s.combineReducers)({collections:x,documents:m,sharings:d.default,synchronization:h.default});var A=t.makeFetchCollection=function(e,t,n){return{types:["FETCH_COLLECTION","RECEIVE_DATA","RECEIVE_ERROR"],collection:e,doctype:t,options:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},skip:arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,promise:n}},C=t.fetchCollection=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return A(e,t,function(o){return o.fetchDocuments(e,t,n,r)},n,r)},O=(t.refetchCollections=function(){return function(e,t){var n=j(t());return Object.keys(n).map(function(t){var r=n[t],o=r.type,i=r.options;e(C(t,o,i))})}},t.fetchDocument=function(e,t){return{types:["FETCH_DOCUMENT","RECEIVE_DATA","RECEIVE_ERROR"],doctype:e,id:t,promise:function(n){return n.fetchDocument(e,t)}}},t.fetchReferencedFiles=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{types:["FETCH_REFERENCED_FILES","RECEIVE_DATA","RECEIVE_ERROR"],collection:e._type+"/"+e.id+"#files",document:e,options:{},skip:t,promise:function(n){return n.fetchReferencedFiles(e,t)}}}),T=(t.createDocument=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u({types:[p,"RECEIVE_NEW_DOCUMENT","RECEIVE_ERROR"],doctype:e,document:t,promise:function(n){return n.createDocument(e,t)}},n)},t.updateDocument=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u({types:["UPDATE_DOCUMENT","RECEIVE_UPDATED_DOCUMENT","RECEIVE_ERROR"],document:e,promise:function(t){return t.updateDocument(e)}},t)},t.updateDocuments=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return u({types:["UPDATE_DOCUMENTS","RECEIVE_UPDATED_DOCUMENTS","RECEIVE_ERROR"],promise:function(r){return r.updateDocuments(e,t,n)}},r)},t.deleteDocument=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u({types:["DELETE_DOCUMENT","RECEIVE_DELETED_DOCUMENT","RECEIVE_ERROR"],document:e,promise:function(t){return t.deleteDocument(e)}},t)},t.deleteDocuments=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u({types:["DELETE_DOCUMENTS","RECEIVE_DELETED_DOCUMENTS","RECEIVE_ERROR"],promise:function(n){return n.deleteDocuments(e,t)}},n)},t.createFile=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u({types:[p,"RECEIVE_NEW_DOCUMENT","RECEIVE_ERROR"],doctype:"io.cozy.files",promise:function(n){return n.createFile(e,t)}},n)},t.trashFile=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u({types:["DELETE_DOCUMENT","RECEIVE_DELETED_DOCUMENT","RECEIVE_ERROR"],document:e,promise:function(t){return t.trashFile(e)}},t)},t.addReferencedFiles=function(e,t){return{type:"ADD_REFERENCED_FILES",collection:e._type+"/"+e._id+"#files",document:e,ids:t,promise:function(n){return n.addReferencedFiles(e,t)}}},t.removeReferencedFiles=function(e,t){return{type:"REMOVE_REFERENCED_FILES",collection:e._type+"/"+e._id+"#files",document:e,ids:t,promise:function(n){return n.removeReferencedFiles(e,t)}}},t.makeActionCreator=function(e){return{promise:e}},t.makeFetchMoreAction=function(e,t){var n=e.types,r=e.collection,o=e.document,i=e.doctype,a=e.options;return"FETCH_REFERENCED_FILES"===n[0]?O(o,t):C(r,i,a,t)}),P=(t.applySelectorForAction=function(e,t){switch(t.types[0]){case"FETCH_COLLECTION":case"FETCH_REFERENCED_FILES":return R(e,t.collection);case"FETCH_DOCUMENT":return M(e,t.doctype,t.id);case l.FETCH_SHARINGS:return t.id?(0,l.getSharingDetails)(e,t.doctype,t.id,t.options):(0,l.getSharings)(e,t.doctype,t.options);default:return null}},t.enhancePropsForActions=function(e,t,n){return(0,c.mapValues)(t,function(t,r){var o=e[r];switch(t.types[0]){case"FETCH_COLLECTION":case"FETCH_REFERENCED_FILES":return u({},o,{fetchMore:o.hasMore?function(){return n(T(t,o.data.length))}:null});default:return o}})},function(e,t,n){return n.map(function(n){return e[t][n]})}),j=function(e){return e.cozy.collections},D=function(e){return e.cozy.documents},R=t.getCollection=function(e,t){var n=j(e)[t];return n?u({},n,{data:P(D(e),n.type,n.ids)}):u({},S,{data:null})},M=t.getDocument=function(e,t,n){var r=e.cozy.documents[t];return r?r[n]:null};t.isCollectionFetched=function(e,t){return e.cozy.collections[t]&&"loaded"===e.cozy.collections[t].fetchStatus}},function(e,t,n){"use strict";var r=n(522);e.exports=Function.prototype.bind||r},function(e,t,n){function r(e){return o(e,{weekStartsOn:1})}var o=n(542);e.exports=r},function(e,t){e.exports={"c-btn":"c-btn--1VDiR","c-btn--regular":"c-btn--regular--1AoRN","c-btn--secondary":"c-btn--secondary--3znY5","c-btn--danger":"c-btn--danger--2NNcc","c-btn--danger-outline":"c-btn--danger-outline--mVde8","c-btn--highlight":"c-btn--highlight--3Qdpq","c-btn-client":"c-btn-client--2jXy6","c-btn-client-mobile":"c-btn-client-mobile--ZjbSf","pho-toolbar":"pho-toolbar--28WqL","pho-btn-new":"pho-btn-new--1x-gO",spin:"spin--GHUiz","c-btn--share":"c-btn--share--Zrk_J","c-btn--send":"c-btn--send--kDxA5","c-btn--download":"c-btn--download--2Tz-A","c-btn--upload":"c-btn--upload--18Slo","c-btn--delete":"c-btn--delete--EdSoc","c-link--upload":"c-link--upload--zRAI2","c-link--delete":"c-link--delete--32kG2","c-btn--more":"c-btn--more--3aWVg","c-btn-extra":"c-btn-extra--1SoAu","c-btn-extra--white":"c-btn-extra--white--19rd1","c-btn--close":"c-btn--close--qCi8F","c-btn-alert":"c-btn-alert--3Vu6S","c-btn-alert--error":"c-btn-alert--error--2BEDy","c-btn-alert--info":"c-btn-alert--info--1cWzZ","c-btn-alert--success":"c-btn-alert--success--3c97f","coz-sidebar":"coz-sidebar--3pHI1","o-sidebar":"o-sidebar--3DjPC","c-nav":"c-nav--2M6S2","c-nav-item":"c-nav-item--1pW98","c-nav-link":"c-nav-link--3B-0f",active:"active--ha2rg","is-active":"is-active--10cjm","coz-nav-item":"coz-nav-item--29XyQ","coz-hidden":"coz-hidden--3vykD","u-visuallyhidden":"u-visuallyhidden--SJYNX","u-hide":"u-hide--2W4cP","coz-desktop":"coz-desktop--2obH3","u-hide--mob":"u-hide--mob--1U-px","coz-mobile":"coz-mobile--1PpnV","u-hide--desk":"u-hide--desk--2FZ80","u-p-1":"u-p-1--rKl0y","u-pt-1":"u-pt-1--2_G46","u-pb-1":"u-pb-1--3SL9N","u-pl-1":"u-pl-1--36Leq","u-pr-1":"u-pr-1--1YTer","u-p-2":"u-p-2--1g1gf","u-pt-2":"u-pt-2--pTAgc","u-pb-2":"u-pb-2--2jx9i","u-pl-2":"u-pl-2--1gYOk","u-pr-2":"u-pr-2--FgiE-","u-p-3":"u-p-3--1M6LP","u-pt-3":"u-pt-3--2Zu9_","u-pb-3":"u-pb-3--DibIg","u-pl-3":"u-pl-3--2-rqE","u-pr-3":"u-pr-3--bsUqd","u-p-half":"u-p-half--3WswB","u-pt-half":"u-pt-half--3kxG3","u-pb-half":"u-pb-half--1Xohm","u-pl-half":"u-pl-half--3Fwkd","u-pr-half":"u-pr-half--2TGN9","u-p-1-half":"u-p-1-half--1roFW","u-pt-1-half":"u-pt-1-half--1JBvC","u-pb-1-half":"u-pb-1-half--3zcXk","u-pl-1-half":"u-pl-1-half--39HCN","u-pr-1-half":"u-pr-1-half--2ybVS","u-p-2-half":"u-p-2-half--1h_C-","u-pt-2-half":"u-pt-2-half--15OO2","u-pb-2-half":"u-pb-2-half--35RvE","u-pl-2-half":"u-pl-2-half--2wHcp","u-pr-2-half":"u-pr-2-half--1To-c","u-m-1":"u-m-1--2LYoq","u-mt-1":"u-mt-1--1Jmiz","u-mb-1":"u-mb-1--1q5kU","u-ml-1":"u-ml-1--2NBBQ","u-mr-1":"u-mr-1--2o7Yx","u-m-2":"u-m-2--3bD2g","u-mt-2":"u-mt-2--2u8Sn","u-mb-2":"u-mb-2--2wOHM","u-ml-2":"u-ml-2--2p1IZ","u-mr-2":"u-mr-2--1QSgD","u-m-3":"u-m-3--2tY5N","u-mt-3":"u-mt-3--3SN0H","u-mb-3":"u-mb-3--3GVJa","u-ml-3":"u-ml-3--1gK5C","u-mr-3":"u-mr-3--2IFIo","u-m-half":"u-m-half--95Rc9","u-mt-half":"u-mt-half--1U9QZ","u-mb-half":"u-mb-half--3hpOx","u-ml-half":"u-ml-half--2bXWt","u-mr-half":"u-mr-half--2BQAL","u-m-1-half":"u-m-1-half--3reuW","u-mt-1-half":"u-mt-1-half--2cVLD","u-mb-1-half":"u-mb-1-half--2OCKd","u-ml-1-half":"u-ml-1-half--2CncK","u-mr-1-half":"u-mr-1-half--3N1j4","u-m-2-half":"u-m-2-half--KS3Vf","u-mt-2-half":"u-mt-2-half--3uumZ","u-mb-2-half":"u-mb-2-half--3qnUR","u-ml-2-half":"u-ml-2-half--Sec1t","u-mr-2-half":"u-mr-2-half--12Hwl","coz-error":"coz-error--qtdjT","u-error":"u-error--1BPEu","coz-error--warning":"coz-error--warning--26MHY","u-error--warning":"u-error--warning--2SOs5","u-valid":"u-valid--2BPmN","u-warn":"u-warn--20BT3","pho-action-newalbum":"pho-action-newalbum--3Dzj0","pho-action-select":"pho-action-select--1ELkI","pho-action-rename":"pho-action-rename--3qxQh","pho-action-addphotos":"pho-action-addphotos--2HRRR","pho-action-share":"pho-action-share--cW9a2","pho-action-download":"pho-action-download--29ZZ-","pho-action-delete":"pho-action-delete--3RnOf"}},function(e,t){e.exports={"c-btn":"c-btn--2nKTI","c-btn--regular":"c-btn--regular--3VRca","c-btn--secondary":"c-btn--secondary--3COua","c-btn--danger":"c-btn--danger--24l0L","c-btn--danger-outline":"c-btn--danger-outline--2gtKb","c-btn--highlight":"c-btn--highlight--3fQ92","c-btn-client":"c-btn-client--1mfIh","c-btn-client-mobile":"c-btn-client-mobile--ckA-L",spin:"spin--3SvvM","c-btn--share":"c-btn--share--1HIJ1","c-btn--send":"c-btn--send--1UylX","c-btn--download":"c-btn--download--2Pz3T","c-btn--upload":"c-btn--upload--26VMp","c-btn--delete":"c-btn--delete--3ItUm","c-link--upload":"c-link--upload--2_U4E","c-link--delete":"c-link--delete--1rrqB","c-btn--more":"c-btn--more--3q9t0","c-btn-extra":"c-btn-extra--hHyLO","c-btn-extra--white":"c-btn-extra--white--3oJa-","c-btn--close":"c-btn--close--3rh0b","c-btn-alert":"c-btn-alert--2p7et","c-btn-alert--error":"c-btn-alert--error--1lI9R","c-btn-alert--info":"c-btn-alert--info--3khLo","c-btn-alert--success":"c-btn-alert--success--3E7rY","coz-sidebar":"coz-sidebar--3aOxY","o-sidebar":"o-sidebar--28HBp","c-nav":"c-nav--3tCCR","c-nav-item":"c-nav-item--3KXrj","c-nav-link":"c-nav-link--364AP",active:"active--1d3xR","is-active":"is-active--1iOjM","coz-nav-item":"coz-nav-item--2hrHi","coz-hidden":"coz-hidden--3zrJT","u-visuallyhidden":"u-visuallyhidden--24MiB","u-hide":"u-hide--QcsXC","coz-desktop":"coz-desktop--2b7LY","u-hide--mob":"u-hide--mob--1FR7R","coz-mobile":"coz-mobile--2FPqJ","u-hide--desk":"u-hide--desk--3f0OV","u-p-1":"u-p-1--15tpI","u-pt-1":"u-pt-1--3jX-7","u-pb-1":"u-pb-1--2NAXs","u-pl-1":"u-pl-1--2Iehj","u-pr-1":"u-pr-1--2eRtQ","u-p-2":"u-p-2--fyGvv","u-pt-2":"u-pt-2--2QNej","u-pb-2":"u-pb-2--vsQ8y","u-pl-2":"u-pl-2--19TrK","u-pr-2":"u-pr-2--2IfzP","u-p-3":"u-p-3--26fAU","u-pt-3":"u-pt-3--11m0B","u-pb-3":"u-pb-3--3VATs","u-pl-3":"u-pl-3--343W7","u-pr-3":"u-pr-3--ZXyfD","u-p-half":"u-p-half--1UJac","u-pt-half":"u-pt-half--22gwC","u-pb-half":"u-pb-half--3EU3J","u-pl-half":"u-pl-half--29Qtz","u-pr-half":"u-pr-half--3t0WT","u-p-1-half":"u-p-1-half--24et1","u-pt-1-half":"u-pt-1-half--22-Qi","u-pb-1-half":"u-pb-1-half--FLNs1","u-pl-1-half":"u-pl-1-half--IoyPO","u-pr-1-half":"u-pr-1-half--3DY1D","u-p-2-half":"u-p-2-half--lGJTa","u-pt-2-half":"u-pt-2-half--1lT_7","u-pb-2-half":"u-pb-2-half--196kp","u-pl-2-half":"u-pl-2-half--29kpz","u-pr-2-half":"u-pr-2-half--1M5jX","u-m-1":"u-m-1--2IPQn","u-mt-1":"u-mt-1--Xfrl4","u-mb-1":"u-mb-1--3lrUc","u-ml-1":"u-ml-1--uM_XP","u-mr-1":"u-mr-1--kovJ8","u-m-2":"u-m-2--1fBXC","u-mt-2":"u-mt-2--3B3cH","u-mb-2":"u-mb-2--2cDVx","u-ml-2":"u-ml-2--3eIBr","u-mr-2":"u-mr-2--2Fyfs","u-m-3":"u-m-3--i9h8j","u-mt-3":"u-mt-3--6DFhz","u-mb-3":"u-mb-3--z3GsA","u-ml-3":"u-ml-3--176Lq","u-mr-3":"u-mr-3--QM4gs","u-m-half":"u-m-half--23-38","u-mt-half":"u-mt-half--3JMlk","u-mb-half":"u-mb-half--1S3as","u-ml-half":"u-ml-half--2dYaY","u-mr-half":"u-mr-half--1u-JT","u-m-1-half":"u-m-1-half--xj3lJ","u-mt-1-half":"u-mt-1-half--1-YHJ","u-mb-1-half":"u-mb-1-half--3XHbo","u-ml-1-half":"u-ml-1-half--1U_hT","u-mr-1-half":"u-mr-1-half--1g-sh","u-m-2-half":"u-m-2-half--16KBj","u-mt-2-half":"u-mt-2-half--16EGK","u-mb-2-half":"u-mb-2-half--27nk2","u-ml-2-half":"u-ml-2-half--38YL_","u-mr-2-half":"u-mr-2-half--1IYlx","coz-error":"coz-error--uopTR","u-error":"u-error--1mDk8","coz-error--warning":"coz-error--warning--2skSm","u-error--warning":"u-error--warning--1ZymR","u-valid":"u-valid--1W6F4","u-warn":"u-warn--3CoHH","fil-confirm-text":"fil-confirm-text--3OV-5","icon-trash":"icon-trash--2L617","icon-restore":"icon-restore--qTvX6","icon-shared":"icon-shared--2ytpg","icon-related":"icon-related--3HRWq","icon-eye":"icon-eye--2EIWz","icon-link":"icon-link--2hb-A","icon-forbidden":"icon-forbidden--23UiV"}},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!0;var a={},u=void 0,s=void 0;for(u=0,s=n.length;u<s;u++)a[n[u]]=!0;for(u=0,s=r.length;u<s;u++){var c=r[u],l=e[c],d=t[c];if(l!==d){if(!a[c]||null===l||null===d||"object"!==(void 0===l?"undefined":o(l))||"object"!==(void 0===d?"undefined":o(d)))return!0;var f=Object.keys(l),h=Object.keys(d);if(f.length!==h.length)return!0;for(var p=0,m=f.length;p<m;p++){var b=f[p];if(l[b]!==d[b])return!0}}}return!1}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.UserAvatar=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(621),l=r(c),d=n(0),f=r(d),h=n(3),p=r(h),m=n(7),b=n(622),v=r(b),y=n(624),g=r(y),_=n(68),w=r(_),k=n(69),S=function(e){var t=e.name,n=t.charAt(0),r=(0,g.default)().getColor(t),o={"background-color":r};return f.default.createElement("div",{className:l.default["pho-recipient-avatar"],style:o},f.default.createElement("span",null,n))},E=function(e){var t=e.name,n=e.url;return f.default.createElement("div",{className:l.default["pho-recipient-idents"]},f.default.createElement("div",{className:l.default["pho-recipient-user"]},t),f.default.createElement("div",{className:l.default["pho-recipient-url"]},n))},x=(t.UserAvatar=function(e){var t=e.name,n=e.url;return f.default.createElement("div",{className:l.default["pho-avatar"]},f.default.createElement(S,{name:t}),f.default.createElement(E,{name:t,url:n}))},(0,m.translate)()(function(e){var t=e.t,n=e.revoking,r=e.status,o=e.type,i=e.documentType,a=e.onUnshare;return f.default.createElement("div",{className:l.default["pho-recipient-status"]},n&&f.default.createElement(v.default,null),!n&&r&&f.default.createElement(w.default,{title:t("accepted"===r&&o?"Share.type."+o:"Share.status."+r),className:l.default["pho-recipient-menu"],buttonClassName:l.default["pho-recipient-menu-btn"],disabled:"pending"===r},f.default.createElement(_.Item,null,f.default.createElement("a",{className:(0,p.default)(l.default["pho-action-unshare"]),onClick:a},t(i+".share.unshare.title")))))})),A=function(e){function t(){var e,n,r,a;o(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={revoking:!1},r.onUnshare=function(){r.setState(function(e){return{revoking:!0}}),r.props.onUnshare(r.props.contact).then(function(){return r.setState(function(e){return{revoking:!1}})})},a=n,i(r,a)}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.contact,t=this.state.revoking,n=(0,k.getPrimaryEmail)(e),r=(0,k.getPrimaryCozy)(e);return f.default.createElement("div",{className:l.default["pho-recipient"]},f.default.createElement(S,{name:n}),f.default.createElement(E,{name:n,url:r}),f.default.createElement(x,u({},this.props,{revoking:t,onUnshare:this.onUnshare})))}}]),t}(d.Component);t.default=A},function(e,t){e.exports={"c-btn":"c-btn--370Uv","c-btn--regular":"c-btn--regular--3iKMw","c-btn--secondary":"c-btn--secondary--3XHQO","c-btn--danger":"c-btn--danger--2J0If","c-btn--danger-outline":"c-btn--danger-outline--28hCH","c-btn--highlight":"c-btn--highlight--1FQgs","c-btn-client":"c-btn-client--3nDcG","c-btn-client-mobile":"c-btn-client-mobile--2JTxU","pho-list-morebutton":"pho-list-morebutton--1HHd8","pho-list-spinner":"pho-list-spinner--2dv9a",spin:"spin--3HNuy","c-btn--share":"c-btn--share--1OMHN","c-btn--send":"c-btn--send--3R_13","c-btn--download":"c-btn--download--3bxeR","c-btn--upload":"c-btn--upload--UIIGD","c-btn--delete":"c-btn--delete--1FHVI","c-link--upload":"c-link--upload--1tyox","c-link--delete":"c-link--delete--197dk","c-btn--more":"c-btn--more--21EiQ","c-btn-extra":"c-btn-extra--3foR9","c-btn-extra--white":"c-btn-extra--white--3oUYK","c-btn--close":"c-btn--close--2zyFl","c-btn-alert":"c-btn-alert--1__rR","c-btn-alert--error":"c-btn-alert--error--1Aimg","c-btn-alert--info":"c-btn-alert--info--2asHD","c-btn-alert--success":"c-btn-alert--success--3Em3a","coz-sidebar":"coz-sidebar--h5mVg","o-sidebar":"o-sidebar--2EMZ1","c-nav":"c-nav--2gy_5","c-nav-item":"c-nav-item--17Ge2","c-nav-link":"c-nav-link--2KTO9",active:"active--1WJ52","is-active":"is-active--15jkE","coz-nav-item":"coz-nav-item--35P2K","coz-hidden":"coz-hidden--3FXQ1","u-visuallyhidden":"u-visuallyhidden--1AvcR","u-hide":"u-hide--5ykr8","coz-desktop":"coz-desktop--TEypz","u-hide--mob":"u-hide--mob--1G5KC","coz-mobile":"coz-mobile--2KhcM","u-hide--desk":"u-hide--desk--2Rxu5","u-p-1":"u-p-1--2mos4","u-pt-1":"u-pt-1--YKVO6","u-pb-1":"u-pb-1--30tWy","u-pl-1":"u-pl-1--2Y8-9","u-pr-1":"u-pr-1--1qsEU","u-p-2":"u-p-2--3rRKs","u-pt-2":"u-pt-2--2vwSR","u-pb-2":"u-pb-2--7b9qE","u-pl-2":"u-pl-2--1mPlh","u-pr-2":"u-pr-2--2TMvT","u-p-3":"u-p-3--1fNE1","u-pt-3":"u-pt-3--1T3x5","u-pb-3":"u-pb-3--3kZz6","u-pl-3":"u-pl-3--3uvH8","u-pr-3":"u-pr-3--2WKMa","u-p-half":"u-p-half--qtU3G","u-pt-half":"u-pt-half--1LVmS","u-pb-half":"u-pb-half--2k8P0","u-pl-half":"u-pl-half--3sEGm","u-pr-half":"u-pr-half--2VY7q","u-p-1-half":"u-p-1-half--1Nvgf","u-pt-1-half":"u-pt-1-half--2ti8D","u-pb-1-half":"u-pb-1-half--2MHqU","u-pl-1-half":"u-pl-1-half--2EnwM","u-pr-1-half":"u-pr-1-half--1rRrm","u-p-2-half":"u-p-2-half--3kh4C","u-pt-2-half":"u-pt-2-half--3bczM","u-pb-2-half":"u-pb-2-half--rpX6u","u-pl-2-half":"u-pl-2-half--3uU_O","u-pr-2-half":"u-pr-2-half--1jYoT","u-m-1":"u-m-1--3xTg9","u-mt-1":"u-mt-1--2ALtC","u-mb-1":"u-mb-1--3nBem","u-ml-1":"u-ml-1--1rlEn","u-mr-1":"u-mr-1--kdprF","u-m-2":"u-m-2--1QqPU","u-mt-2":"u-mt-2--2jfwX","u-mb-2":"u-mb-2--2IybG","u-ml-2":"u-ml-2--11sAD","u-mr-2":"u-mr-2--2IQVD","u-m-3":"u-m-3--2NmfY","u-mt-3":"u-mt-3--2h3dp","u-mb-3":"u-mb-3--v3UCs","u-ml-3":"u-ml-3--2gwTV","u-mr-3":"u-mr-3--10sn4","u-m-half":"u-m-half--3stla","u-mt-half":"u-mt-half--2qZOj","u-mb-half":"u-mb-half--2k5m9","u-ml-half":"u-ml-half--oDSd7","u-mr-half":"u-mr-half--3lik5","u-m-1-half":"u-m-1-half--ojTgS","u-mt-1-half":"u-mt-1-half--95822","u-mb-1-half":"u-mb-1-half--2NXUv","u-ml-1-half":"u-ml-1-half--22G9P","u-mr-1-half":"u-mr-1-half--1bnIs","u-m-2-half":"u-m-2-half--2EnuR","u-mt-2-half":"u-mt-2-half--rSept","u-mb-2-half":"u-mb-2-half--BhK_r","u-ml-2-half":"u-ml-2-half--2-w8F","u-mr-2-half":"u-mr-2-half--3_Qf3","coz-error":"coz-error--9qSAo","u-error":"u-error--W0iqQ","coz-error--warning":"coz-error--warning--3nwhF","u-error--warning":"u-error--warning--1RLIS","u-valid":"u-valid--1oSuv","u-warn":"u-warn--1bAJ1","pho-section":"pho-section--aOGQ8","pho-photo-wrapper":"pho-photo-wrapper--34Af_","pho-section-header":"pho-section-header--3xCwP","pho-photo":"pho-photo--1RccV","pho-photo-item":"pho-photo-item--1uvPt","pho-photo-select":"pho-photo-select--2_YlY","pho-photo--selected":"pho-photo--selected--3CHFZ","pho-section--has-selection":"pho-section--has-selection--2A-rj"}},function(e,t,n){"use strict";(function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(){var t=a(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.files.getDownloadLinkById(n).then(function(t){return""+e._url+t}));case 1:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}(),d=function(e){function t(){var e,n,i,a;r(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=i=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),i.state={fallback:null},i.onLoad=function(){i.props.onLoad&&i.props.onLoad()},i.onError=function(){i.img&&null===i.state.fallback&&l(i.props.photo.id).then(function(e){i.img.src=e,i.setState({fallback:e}),i.props.onLoad&&i.props.onLoad()})},a=n,o(i,a)}return i(t,e),u(t,[{key:"componentWillUnmount",value:function(){this.img.src=""}},{key:"render",value:function(){var e=this,t=this.props,n=t.photo,r=t.src,o=t.alt,i=t.className,a=t.style,u=void 0===a?{}:a;return c.default.createElement("img",{ref:function(t){e.img=t},className:i,onLoad:this.onLoad,onError:this.onError,style:Object.assign({},u),alt:o||n.name,src:r})}}]),t}(s.Component);t.default=d}).call(t,n(17))},function(e,t){e.exports={"c-btn":"c-btn--25KUy","c-btn--regular":"c-btn--regular--2W13v","c-btn--secondary":"c-btn--secondary--2Ubwv","c-btn--danger":"c-btn--danger--PGNc0","c-btn--danger-outline":"c-btn--danger-outline--2eqCM","c-btn--highlight":"c-btn--highlight--319l0","c-btn-client":"c-btn-client--39Nbo","c-btn-client-mobile":"c-btn-client-mobile--mCgRa",spin:"spin--2br0x","c-btn--share":"c-btn--share--3v70S","c-btn--send":"c-btn--send--2A0aH","c-btn--download":"c-btn--download--3vHVE","c-btn--upload":"c-btn--upload--1JISj","c-btn--delete":"c-btn--delete--3643Z","c-link--upload":"c-link--upload--3VZk7","c-link--delete":"c-link--delete--3xuBr","c-btn--more":"c-btn--more--3Tc0y","c-btn-extra":"c-btn-extra--2N0wb","c-btn-extra--white":"c-btn-extra--white--3grrj","c-btn--close":"c-btn--close--2LkjT","c-btn-alert":"c-btn-alert--DF1zK","c-btn-alert--error":"c-btn-alert--error--1r9Gp","c-btn-alert--info":"c-btn-alert--info--1i5K2","c-btn-alert--success":"c-btn-alert--success--25S-c","coz-sidebar":"coz-sidebar--3okgb","o-sidebar":"o-sidebar--jj_9s","c-empty-drive":"c-empty-drive--D89UZ","c-empty-photos":"c-empty-photos--27Cyf","c-trash-empty":"c-trash-empty--qib2x","c-error":"c-error--2YsKS","c-error-share":"c-error-share--3xmNp","c-nav":"c-nav--1YLno","c-nav-item":"c-nav-item--1bck_","c-nav-link":"c-nav-link--2RJl2",active:"active--vdmjp","is-active":"is-active--x6x6g","coz-nav-item":"coz-nav-item--M0S8Z","coz-hidden":"coz-hidden--yjyqQ","u-visuallyhidden":"u-visuallyhidden--3pjaa","u-hide":"u-hide--7ZTZy","coz-desktop":"coz-desktop--K9nDz","u-hide--mob":"u-hide--mob--2YYyd","coz-mobile":"coz-mobile--pOBXD","u-hide--desk":"u-hide--desk--3XzeA","u-p-1":"u-p-1--3bXdj","u-pt-1":"u-pt-1--5yM_J","u-pb-1":"u-pb-1--358a8","u-pl-1":"u-pl-1--SKfPi","u-pr-1":"u-pr-1--3NceC","u-p-2":"u-p-2--MNtpx","u-pt-2":"u-pt-2--1LeEP","u-pb-2":"u-pb-2--3iGEJ","u-pl-2":"u-pl-2--14-PS","u-pr-2":"u-pr-2--2dQQ4","u-p-3":"u-p-3--1i0d9","u-pt-3":"u-pt-3--3fBqR","u-pb-3":"u-pb-3--2NybK","u-pl-3":"u-pl-3--DcWHu","u-pr-3":"u-pr-3--3253c","u-p-half":"u-p-half--3U_wq","u-pt-half":"u-pt-half--2hBB3","u-pb-half":"u-pb-half--1nzrQ","u-pl-half":"u-pl-half--2jrrT","u-pr-half":"u-pr-half--tX82I","u-p-1-half":"u-p-1-half--36A5f","u-pt-1-half":"u-pt-1-half--V2-sa","u-pb-1-half":"u-pb-1-half--1SIHE","u-pl-1-half":"u-pl-1-half--rQZmR","u-pr-1-half":"u-pr-1-half--3yvBA","u-p-2-half":"u-p-2-half--1lY46","u-pt-2-half":"u-pt-2-half--oXFtr","u-pb-2-half":"u-pb-2-half--1pshI","u-pl-2-half":"u-pl-2-half--9FfBN","u-pr-2-half":"u-pr-2-half--3ED5S","u-m-1":"u-m-1--394M7","u-mt-1":"u-mt-1--16AC5","u-mb-1":"u-mb-1--32Jgc","u-ml-1":"u-ml-1--1bHSx","u-mr-1":"u-mr-1--1xDDM","u-m-2":"u-m-2--1fl9Y","u-mt-2":"u-mt-2--2MnmE","u-mb-2":"u-mb-2--33neN","u-ml-2":"u-ml-2--2Hnvs","u-mr-2":"u-mr-2--3MFtV","u-m-3":"u-m-3--2f2pO","u-mt-3":"u-mt-3--28MW3","u-mb-3":"u-mb-3--1ZTM2","u-ml-3":"u-ml-3--9Ohv3","u-mr-3":"u-mr-3--3WTx-","u-m-half":"u-m-half--3-33X","u-mt-half":"u-mt-half--1lZA-","u-mb-half":"u-mb-half--1BwgQ","u-ml-half":"u-ml-half--12KKf","u-mr-half":"u-mr-half--18rOf","u-m-1-half":"u-m-1-half--2RTph","u-mt-1-half":"u-mt-1-half--2uNrV","u-mb-1-half":"u-mb-1-half--1IcAq","u-ml-1-half":"u-ml-1-half--xJSK3","u-mr-1-half":"u-mr-1-half--uyioA","u-m-2-half":"u-m-2-half--3JFgc","u-mt-2-half":"u-mt-2-half--2Da2L","u-mb-2-half":"u-mb-2-half--39XiD","u-ml-2-half":"u-ml-2-half--2B8XZ","u-mr-2-half":"u-mr-2-half--1tBkX","coz-error":"coz-error--2wSAz","u-error":"u-error--342nP","coz-error--warning":"coz-error--warning--1uFQg","u-error--warning":"u-error--warning--2pPOD","u-valid":"u-valid--2mM92","u-warn":"u-warn--3zCC_"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.withError=t.ErrorComponent=void 0;var o=n(0),i=r(o),a=n(7),u=n(3),s=r(u),c=n(130),l=r(c),d=t.ErrorComponent=function(e){var t=e.t,n=e.errorType;return i.default.createElement("div",{className:l.default["c-error"]},i.default.createElement("h2",null,t("Error."+n+"_title")),i.default.createElement("button",{role:"button",className:(0,s.default)(l.default["c-btn"],l.default["c-btn--regular"]),onClick:function(){return window.location.reload()}},t("Error.refresh")))},f=(0,a.translate)()(d);t.withError=function(e,t,n){return function(r){return e(r)?i.default.createElement(f,{errorType:t}):i.default.createElement(n,r)}};t.default=f},function(e,t,n){e.exports=!n(15)&&!n(9)(function(){return 7!=Object.defineProperty(n(85)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";function r(e,t,n){var r,o,i,a=Array(n),u=8*n-t-1,s=(1<<u)-1,c=s>>1,l=23===t?N(2,-24)-N(2,-77):0,d=0,f=e<0||0===e&&1/e<0?1:0;for(e=z(e),e!=e||e===I?(o=e!=e?1:0,r=s):(r=q(F(e)/U),e*(i=N(2,-r))<1&&(r--,i*=2),e+=r+c>=1?l/i:l*N(2,1-c),e*i>=2&&(r++,i/=2),r+c>=s?(o=0,r=s):r+c>=1?(o=(e*i-1)*N(2,t),r+=c):(o=e*N(2,c-1)*N(2,t),r=0));t>=8;a[d++]=255&o,o/=256,t-=8);for(r=r<<t|o,u+=t;u>0;a[d++]=255&r,r/=256,u-=8);return a[--d]|=128*f,a}function o(e,t,n){var r,o=8*n-t-1,i=(1<<o)-1,a=i>>1,u=o-7,s=n-1,c=e[s--],l=127&c;for(c>>=7;u>0;l=256*l+e[s],s--,u-=8);for(r=l&(1<<-u)-1,l>>=-u,u+=t;u>0;r=256*r+e[s],s--,u-=8);if(0===l)l=1-a;else{if(l===i)return r?NaN:c?-I:I;r+=N(2,t),l-=a}return(c?-1:1)*r*N(2,l-t)}function i(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function a(e){return[255&e]}function u(e){return[255&e,e>>8&255]}function s(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function c(e){return r(e,52,8)}function l(e){return r(e,23,4)}function d(e,t,n){A(e[T],t,{get:function(){return this[n]}})}function f(e,t,n,r){var o=+n,i=E(o);if(i+t>e[Y])throw M(P);var a=e[B]._b,u=i+e[H],s=a.slice(u,u+t);return r?s:s.reverse()}function h(e,t,n,r,o,i){var a=+n,u=E(a);if(u+t>e[Y])throw M(P);for(var s=e[B]._b,c=u+e[H],l=r(+o),d=0;d<t;d++)s[c+d]=l[i?d:t-d-1]}var p=n(5),m=n(15),b=n(46),v=n(86),y=n(18),g=n(47),_=n(9),w=n(48),k=n(37),S=n(12),E=n(134),x=n(63).f,A=n(10).f,C=n(92),O=n(51),T="prototype",P="Wrong index!",j=p.ArrayBuffer,D=p.DataView,R=p.Math,M=p.RangeError,I=p.Infinity,L=j,z=R.abs,N=R.pow,q=R.floor,F=R.log,U=R.LN2,B=m?"_b":"buffer",Y=m?"_l":"byteLength",H=m?"_o":"byteOffset";if(v.ABV){if(!_(function(){j(1)})||!_(function(){new j(-1)})||_(function(){return new j,new j(1.5),new j(NaN),"ArrayBuffer"!=j.name})){j=function(e){return w(this,j),new L(E(e))};for(var W,V=j[T]=L[T],G=x(L),X=0;G.length>X;)(W=G[X++])in j||y(j,W,L[W]);b||(V.constructor=j)}var $=new D(new j(2)),K=D[T].setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||g(D[T],{setInt8:function(e,t){K.call(this,e,t<<24>>24)},setUint8:function(e,t){K.call(this,e,t<<24>>24)}},!0)}else j=function(e){w(this,j,"ArrayBuffer");var t=E(e);this._b=C.call(Array(t),0),this[Y]=t},D=function(e,t,n){w(this,D,"DataView"),w(e,j,"DataView");var r=e[Y],o=k(t);if(o<0||o>r)throw M("Wrong offset!");if(n=void 0===n?r-o:S(n),o+n>r)throw M("Wrong length!");this[B]=e,this[H]=o,this[Y]=n},m&&(d(j,"byteLength","_l"),d(D,"buffer","_b"),d(D,"byteLength","_l"),d(D,"byteOffset","_o")),g(D[T],{getInt8:function(e){return f(this,1,e)[0]<<24>>24},getUint8:function(e){return f(this,1,e)[0]},getInt16:function(e){var t=f(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=f(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return i(f(this,4,e,arguments[1]))},getUint32:function(e){return i(f(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return o(f(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return o(f(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){h(this,1,e,a,t)},setUint8:function(e,t){h(this,1,e,a,t)},setInt16:function(e,t){h(this,2,e,u,t,arguments[2])},setUint16:function(e,t){h(this,2,e,u,t,arguments[2])},setInt32:function(e,t){h(this,4,e,s,t,arguments[2])},setUint32:function(e,t){h(this,4,e,s,t,arguments[2])},setFloat32:function(e,t){h(this,4,e,l,t,arguments[2])},setFloat64:function(e,t){h(this,8,e,c,t,arguments[2])}});O(j,"ArrayBuffer"),O(D,"DataView"),y(D[T],v.VIEW,!0),t.ArrayBuffer=j,t.DataView=D},function(e,t,n){var r=n(37),o=n(12);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=o(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var r=n(16),o=n(20),i=n(88)(!1),a=n(89)("IE_PROTO");e.exports=function(e,t){var n,u=o(e),s=0,c=[];for(n in u)n!=a&&r(u,n)&&c.push(n);for(;t.length>s;)r(u,n=t[s++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var r=n(5).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(49);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(46),o=n(1),i=n(29),a=n(18),u=n(16),s=n(52),c=n(315),l=n(51),d=n(53),f=n(8)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,m,b,v,y){c(n,t,m);var g,_,w,k=function(e){if(!h&&e in A)return A[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",E="values"==b,x=!1,A=e.prototype,C=A[f]||A["@@iterator"]||b&&A[b],O=C||k(b),T=b?E?k("entries"):O:void 0,P="Array"==t?A.entries||C:C;if(P&&(w=d(P.call(new e)))!==Object.prototype&&w.next&&(l(w,S,!0),r||u(w,f)||a(w,f,p)),E&&C&&"values"!==C.name&&(x=!0,O=function(){return C.call(this)}),r&&!y||!h&&!x&&A[f]||a(A,f,O),s[t]=O,s[S]=p,b)if(g={values:E?O:k("values"),keys:v?O:k("keys"),entries:T},y)for(_ in g)_ in A||i(A,_,g[_]);else o(o.P+o.F*(h||x),t,g);return g}},function(e,t,n){"use strict";var r=n(24),o=n(50),i=n(12);e.exports=[].copyWithin||function(e,t){var n=r(this),a=i(n.length),u=o(e,a),s=o(t,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:o(c,a))-s,a-u),d=1;for(s<u&&u<s+l&&(d=-1,s+=l-1,u+=l-1);l-- >0;)s in n?n[u]=n[s]:delete n[u],u+=d,s+=d;return n}},function(e,t,n){"use strict";var r=n(10).f,o=n(64),i=n(47),a=n(23),u=n(48),s=n(72),c=n(139),l=n(138),d=n(70),f=n(15),h=n(30).fastKey,p=n(55),m=f?"_s":"size",b=function(e,t){var n,r=h(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var l=e(function(e,r){u(e,l,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=r&&s(r,n,e[c],e)});return i(l.prototype,{clear:function(){for(var e=p(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=p(this,t),r=b(n,e);if(r){var o=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=o),o&&(o.p=i),n._f==r&&(n._f=o),n._l==r&&(n._l=i),n[m]--}return!!r},forEach:function(e){p(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!b(p(this,t),e)}}),f&&r(l.prototype,"size",{get:function(){return p(this,t)[m]}}),l},def:function(e,t,n){var r,o,i=b(e,t);return i?i.v=n:(e._l=i={i:o=h(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[m]++,"F"!==o&&(e._i[o]=i)),e},getEntry:b,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=p(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?l(0,n.k):"values"==t?l(0,n.v):l(0,[n.k,n.v]):(e._t=void 0,l(1))},n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){var r=n(6);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){"use strict";var r=n(39),o=n(74),i=n(66),a=n(24),u=n(87),s=Object.assign;e.exports=!s||n(9)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=s({},e)[n]||Object.keys(s({},t)).join("")!=r})?function(e,t){for(var n=a(e),s=arguments.length,c=1,l=o.f,d=i.f;s>c;)for(var f,h=u(arguments[c++]),p=l?r(h).concat(l(h)):r(h),m=p.length,b=0;m>b;)d.call(h,f=p[b++])&&(n[f]=h[f]);return n}:s},function(e,t,n){"use strict";var r=n(47),o=n(30).getWeak,i=n(6),a=n(4),u=n(48),s=n(72),c=n(65),l=n(16),d=n(55),f=c(5),h=c(6),p=0,m=function(e){return e._l||(e._l=new b)},b=function(){this.a=[]},v=function(e,t){return f(e.a,function(e){return e[0]===t})};b.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var n=v(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=h(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,i){var c=e(function(e,r){u(e,c,t,"_i"),e._t=t,e._i=p++,e._l=void 0,void 0!=r&&s(r,n,e[i],e)});return r(c.prototype,{delete:function(e){if(!a(e))return!1;var n=o(e);return!0===n?m(d(this,t)).delete(e):n&&l(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=o(e);return!0===n?m(d(this,t)).has(e):n&&l(n,this._i)}}),c},def:function(e,t,n){var r=o(i(t),!0);return!0===r?m(e).set(t,n):r[e._i]=n,e},ufstore:m}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(63),o=n(74),i=n(6),a=n(5).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(i(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=o(t),this.reject=o(n)}var o=n(36);e.exports.f=function(e){return new r(e)}},function(e,t,n){t.f=n(8)},function(e,t,n){var r=n(20),o=n(63).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return o(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?u(e):o(r(e))}},function(e,t,n){"use strict";var r=n(37),o=n(38);e.exports=function(e){var t=String(o(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},function(e,t,n){var r=n(4),o=n(49),i=n(8)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(4),o=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&o(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var r=n(39),o=n(20),i=n(66).f;e.exports=function(e){return function(t){for(var n,a=o(t),u=r(a),s=u.length,c=0,l=[];s>c;)i.call(a,n=u[c++])&&l.push(e?[n,a[n]]:a[n]);return l}}},function(e,t,n){var r=n(12),o=n(150),i=n(38);e.exports=function(e,t,n,a){var u=String(i(e)),s=u.length,c=void 0===n?" ":String(n),l=r(t);if(l<=s||""==c)return u;var d=l-s,f=o.call(c,Math.ceil(d/c.length));return f.length>d&&(f=f.slice(0,d)),a?f+u:u+f}},function(e,t,n){"use strict";function r(e,t,n){function i(){v===b&&(v=b.slice())}function s(){return m}function c(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return i(),v.push(e),function(){if(t){t=!1,i();var n=v.indexOf(e);v.splice(n,1)}}}function l(e){if(!Object(o.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(y)throw new Error("Reducers may not dispatch actions.");try{y=!0,m=p(m,e)}finally{y=!1}for(var t=b=v,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");p=e,l({type:u.INIT})}function f(){var e,t=c;return e={subscribe:function(e){function n(){e.next&&e.next(s())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[a.a]=function(){return this},e}var h;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(r)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var p=e,m=t,b=[],v=b,y=!1;return l({type:u.INIT}),h={dispatch:l,subscribe:c,getState:s,replaceReducer:d},h[a.a]=f,h}n.d(t,"a",function(){return u}),t.b=r;var o=n(105),i=n(434),a=n.n(i),u={INIT:"@@redux/INIT"}},function(e,t,n){"use strict";var r=n(427),o=r.a.Symbol;t.a=o},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict"},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}t.a=r},function(e,t,n){"use strict";function r(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function o(e,t){function n(t,n){return t=e.createLocation(t),Object(u.a)(t,n,g.location,g.routes,g.params)}function o(e,n){_&&_.location===e?d(_,n):Object(c.a)(t,e,function(t,r){t?n(t):r?d(l({},r,{location:e}),n):n()})}function d(e,t){function n(n,o){if(n||o)return r(n,o);Object(s.a)(e,function(n,r){n?t(n):t(null,null,g=l({},e,{components:r}))})}function r(e,n){e?t(e):t(null,n)}var o=Object(i.a)(g,e),u=o.leaveRoutes,c=o.changeRoutes,d=o.enterRoutes;Object(a.c)(u,g),u.filter(function(e){return-1===d.indexOf(e)}).forEach(b),Object(a.a)(c,g,e,function(t,o){if(t||o)return r(t,o);Object(a.b)(d,e,n)})}function f(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.__id__||t&&(e.__id__=w++)}function h(e){return e.map(function(e){return k[f(e)]}).filter(function(e){return e})}function p(e,n){Object(c.a)(t,e,function(t,r){if(null==r)return void n();_=l({},r,{location:e});for(var o=h(Object(i.a)(g,_).leaveRoutes),a=void 0,u=0,s=o.length;null==a&&u<s;++u)a=o[u](e);n(a)})}function m(){if(g.routes){for(var e=h(g.routes),t=void 0,n=0,r=e.length;"string"!=typeof t&&n<r;++n)t=e[n]();return t}}function b(e){var t=f(e);t&&(delete k[t],r(k)||(S&&(S(),S=null),E&&(E(),E=null)))}function v(t,n){var o=!r(k),i=f(t,!0);return k[i]=n,o&&(S=e.listenBefore(p),e.listenBeforeUnload&&(E=e.listenBeforeUnload(m))),function(){b(t)}}function y(t){function n(n){g.location===n?t(null,g):o(n,function(n,r,o){n?t(n):r?e.replace(r):o&&t(null,o)})}var r=e.listen(n);return g.location?t(null,g):n(e.getCurrentLocation()),r}var g={},_=void 0,w=1,k=Object.create(null),S=void 0,E=void 0;return{isActive:n,match:o,listenBeforeLeavingRoute:v,listen:y}}t.a=o;var i=(n(56),n(443)),a=n(444),u=n(445),s=n(446),c=n(447),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.then}t.a=r},function(e,t,n){"use strict";function r(e,t,n){return o(i({},e,{setRouteLeaveHook:t.listenBeforeLeavingRoute,isActive:t.isActive}),n)}function o(e,t){var n=t.location,r=t.params,o=t.routes;return e.location=n,e.params=r,e.routes=o,e}t.b=r,t.a=o;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){return 0===e.button}function i(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function a(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function u(e,t){return"function"==typeof e?e(t.location):e}var s=n(0),c=n(11),l=n.n(c),d=n(109),f=n(108),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=s.default.PropTypes,m=p.bool,b=p.object,v=p.string,y=p.func,g=p.oneOfType,_=s.default.createClass({displayName:"Link",mixins:[Object(f.b)("router")],contextTypes:{router:d.b},propTypes:{to:g([v,b,y]),activeStyle:b,activeClassName:v,onlyActiveOnIndex:m.isRequired,onClick:y,target:v},getDefaultProps:function(){return{onlyActiveOnIndex:!1,style:{}}},handleClick:function(e){if(this.props.onClick&&this.props.onClick(e),!e.defaultPrevented){var t=this.context.router;t||l()(!1),!i(e)&&o(e)&&(this.props.target||(e.preventDefault(),t.push(u(this.props.to,t))))}},render:function(){var e=this.props,t=e.to,n=e.activeClassName,o=e.activeStyle,i=e.onlyActiveOnIndex,c=r(e,["to","activeClassName","activeStyle","onlyActiveOnIndex"]),l=this.context.router;if(l){if(!t)return s.default.createElement("a",c);var d=u(t,l);c.href=l.createHref(d),(n||null!=o&&!a(o))&&l.isActive(d,i)&&(n&&(c.className?c.className+=" "+n:c.className=n),o&&(c.style=h({},c.style,o)))}return s.default.createElement("a",h({},c,{onClick:this.handleClick}))}});t.a=_},function(e,t,n){"use strict";var r=n(0),o=n(11),i=n.n(o),a=n(32),u=n(57),s=n(67),c=r.default.PropTypes,l=c.string,d=c.object,f=r.default.createClass({displayName:"Redirect",statics:{createRouteFromReactElement:function(e){var t=Object(a.a)(e);return t.from&&(t.path=t.from),t.onEnter=function(e,n){var r=e.location,o=e.params,i=void 0;if("/"===t.to.charAt(0))i=Object(u.a)(t.to,o);else if(t.to){var a=e.routes.indexOf(t),s=f.getRoutePattern(e.routes,a-1),c=s.replace(/\/*$/,"/")+t.to;i=Object(u.a)(c,o)}else i=r.pathname;n({pathname:i,query:t.query||r.query,state:t.state||r.state})},t},getRoutePattern:function(e,t){for(var n="",r=t;r>=0;r--){var o=e[r],i=o.path||"";if(n=i.replace(/\/*$/,"/")+n,0===i.indexOf("/"))break}return"/"+n}},propTypes:{path:l,from:l,to:l.isRequired,query:d,state:d,onEnter:s.c,children:s.c},render:function(){i()(!1)}});t.a=f},function(e,t,n){"use strict";function r(e){var t=c()(e),n=function(){return t};return i()(u()(n))(e)}t.a=r;var o=n(167),i=n.n(o),a=n(168),u=n.n(a),s=n(459),c=n.n(s)},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(456),i=n(110),a=function(e){return e&&e.__esModule?e:{default:e}}(i),u=n(58),s=n(33),c=function(e){return(0,o.stringify)(e).replace(/%20/g,"+")},l=o.parse,d=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e(t),o=t.stringifyQuery,i=t.parseQueryString;"function"!=typeof o&&(o=c),"function"!=typeof i&&(i=l);var d=function(e){return e?(null==e.query&&(e.query=i(e.search.substring(1))),e):e},f=function(e,t){if(null==t)return e;var n="string"==typeof e?(0,s.parsePath)(e):e,i=o(t);return r({},n,{search:i?"?"+i:""})};return r({},n,{getCurrentLocation:function(){return d(n.getCurrentLocation())},listenBefore:function(e){return n.listenBefore(function(t,n){return(0,a.default)(e,d(t),n)})},listen:function(e){return n.listen(function(t){return e(d(t))})},push:function(e){return n.push(f(e,e.query))},replace:function(e){return n.replace(f(e,e.query))},createPath:function(e){return n.createPath(f(e,e.query))},createHref:function(e){return n.createHref(f(e,e.query))},createLocation:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var i=n.createLocation.apply(n,[f(e,e.query)].concat(r));return e.query&&(i.query=(0,u.createQuery)(e.query)),d(i)}})}};t.default=d},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(110),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=n(33),u=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e(t),o=t.basename,u=function(e){return e?(o&&null==e.basename&&(0===e.pathname.toLowerCase().indexOf(o.toLowerCase())?(e.pathname=e.pathname.substring(o.length),e.basename=o,""===e.pathname&&(e.pathname="/")):e.basename=""),e):e},s=function(e){if(!o)return e;var t="string"==typeof e?(0,a.parsePath)(e):e,n=t.pathname,i="/"===o.slice(-1)?o:o+"/",u="/"===n.charAt(0)?n.slice(1):n;return r({},t,{pathname:i+u})};return r({},n,{getCurrentLocation:function(){return u(n.getCurrentLocation())},listenBefore:function(e){return n.listenBefore(function(t,n){return(0,i.default)(e,u(t),n)})},listen:function(e){return n.listen(function(t){return e(u(t))})},push:function(e){return n.push(s(e))},replace:function(e){return n.replace(s(e))},createPath:function(e){return n.createPath(s(e))},createHref:function(e){return n.createHref(s(e))},createLocation:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return u(n.createLocation.apply(n,[s(e)].concat(r)))}})}};t.default=u},function(e,t,n){"use strict";function r(e){return function(t){return i()(u()(e))(t)}}t.a=r;var o=n(167),i=n.n(o),a=n(168),u=n.n(a)},function(e,t,n){"use strict";t.__esModule=!0,t.readState=t.saveState=void 0;var r=n(22),o=(function(e){e&&e.__esModule}(r),{QuotaExceededError:!0,QUOTA_EXCEEDED_ERR:!0}),i={SecurityError:!0},a=function(e){return"@@History/"+e};t.saveState=function(e,t){if(window.sessionStorage)try{null==t?window.sessionStorage.removeItem(a(e)):window.sessionStorage.setItem(a(e),JSON.stringify(t))}catch(e){if(i[e.name])return;if(o[e.name]&&0===window.sessionStorage.length)return;throw e}},t.readState=function(e){var t=void 0;try{t=window.sessionStorage.getItem(a(e))}catch(e){if(i[e.name])return}if(t)try{return JSON.parse(t)}catch(e){}}},function(e,t,n){"use strict";function r(e){var t=void 0;return i&&(t=Object(o.a)(e)()),t}t.a=r;var o=n(169),i=!("undefined"==typeof window||!window.document||!window.document.createElement)},function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var o=new Uint8Array(16);n=function(){return r.getRandomValues(o),o}}if(!n){var i=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}e.exports=n}).call(t,n(40))},function(e,t){function n(e,t){var n=t||0,o=r;return o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]}for(var r=[],o=0;o<256;++o)r[o]=(o+256).toString(16).substr(1);e.exports=n},function(e,t,n){"use strict";function r(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}e.exports=r},function(e,t,n){"use strict";var r=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(n(176)),o="function"==typeof Promise?Promise:r;e.exports=o},function(e,t,n){"use strict";(function(t){function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,t.browser||(this.handled=g),e!==r&&s(this,e)}function i(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(e,t,n){p(function(){var r;try{r=t(n)}catch(t){return m.reject(e,t)}r===e?m.reject(e,new TypeError("Cannot resolve promise with itself")):m.resolve(e,r)})}function u(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function s(e,t){function n(t){i||(i=!0,m.reject(e,t))}function r(t){i||(i=!0,m.resolve(e,t))}function o(){t(r,n)}var i=!1,a=c(o);"error"===a.status&&n(a.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function l(e){return e instanceof this?e:m.resolve(new this(r),e)}function d(e){var t=new this(r);return m.reject(t,e)}function f(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=new Array(n),a=0,u=-1,s=new this(r);++u<n;)!function(e,r){function u(e){i[r]=e,++a!==n||o||(o=!0,m.resolve(s,i))}t.resolve(e).then(u,function(e){o||(o=!0,m.reject(s,e))})}(e[u],u);return s}function h(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=-1,a=new this(r);++i<n;)!function(e){t.resolve(e).then(function(e){o||(o=!0,m.resolve(a,e))},function(e){o||(o=!0,m.reject(a,e))})}(e[i]);return a}var p=n(115),m={},b=["REJECTED"],v=["FULFILLED"],y=["PENDING"];if(!t.browser)var g=["UNHANDLED"];e.exports=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,n){if("function"!=typeof e&&this.state===v||"function"!=typeof n&&this.state===b)return this;var o=new this.constructor(r);if(t.browser||this.handled===g&&(this.handled=null),this.state!==y){a(o,this.state===v?e:n,this.outcome)}else this.queue.push(new i(o,e,n));return o},i.prototype.callFulfilled=function(e){m.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){m.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},m.resolve=function(e,t){var n=c(u,t);if("error"===n.status)return m.reject(e,n.value);var r=n.value;if(r)s(e,r);else{e.state=v,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},m.reject=function(e,n){e.state=b,e.outcome=n,t.browser||e.handled===g&&p(function(){e.handled===g&&t.emit("unhandledRejection",n,e)});for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callRejected(n);return e},o.resolve=l,o.reject=d,o.all=f,o.race=h}).call(t,n(31))},function(e,t,n){"use strict";function r(e){return null===e?String(e):"object"==typeof e||"function"==typeof e?c[h.call(e)]||"object":typeof e}function o(e){return null!==e&&e===e.window}function i(e){if(!e||"object"!==r(e)||e.nodeType||o(e))return!1;try{if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var t;for(t in e);return void 0===t||p.call(e,t)}function a(e){return"function"===r(e)}function u(){for(var e=[],t=-1,n=arguments.length,r=new Array(n);++t<n;)r[t]=arguments[t];var o={};e.push({args:r,result:{container:o,key:"key"}});for(var i;i=e.pop();)s(e,i.args,i.result);return o.key}function s(e,t,n){var r,o,u,s,c,l,d,f=t[0]||{},h=1,p=t.length,b=!1,v=/\d+/;for("boolean"==typeof f&&(b=f,f=t[1]||{},h=2),"object"==typeof f||a(f)||(f={}),p===h&&(f=this,--h);h<p;h++)if(null!=(r=t[h])){d=m(r);for(o in r)if(!(o in Object.prototype)){if(d&&!v.test(o))continue;if(u=f[o],s=r[o],f===s)continue;b&&s&&(i(s)||(c=m(s)))?(c?(c=!1,l=u&&m(u)?u:[]):l=u&&i(u)?u:{},e.push({args:[b,l,s],result:{container:f,key:o}})):void 0!==s&&(m(r)&&a(s)||(f[o]=s))}}n.container[n.key]=f}for(var c={},l=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],d=0;d<l.length;d++){var f=l[d];c["[object "+f+"]"]=f.toLowerCase()}var h=c.toString,p=c.hasOwnProperty,m=Array.isArray||function(e){return"array"===r(e)};e.exports=u},function(e,t,n){!function(t){e.exports=t()}(function(e){"use strict";function t(e,t,n,r,o,i){return t=g(g(t,e),g(r,i)),g(t<<o|t>>>32-o,n)}function n(e,n,r,o,i,a,u){return t(n&r|~n&o,e,n,i,a,u)}function r(e,n,r,o,i,a,u){return t(n&o|r&~o,e,n,i,a,u)}function o(e,n,r,o,i,a,u){return t(n^r^o,e,n,i,a,u)}function i(e,n,r,o,i,a,u){return t(r^(n|~o),e,n,i,a,u)}function a(e,t){var a=e[0],u=e[1],s=e[2],c=e[3];a=n(a,u,s,c,t[0],7,-680876936),c=n(c,a,u,s,t[1],12,-389564586),s=n(s,c,a,u,t[2],17,606105819),u=n(u,s,c,a,t[3],22,-1044525330),a=n(a,u,s,c,t[4],7,-176418897),c=n(c,a,u,s,t[5],12,1200080426),s=n(s,c,a,u,t[6],17,-1473231341),u=n(u,s,c,a,t[7],22,-45705983),a=n(a,u,s,c,t[8],7,1770035416),c=n(c,a,u,s,t[9],12,-1958414417),s=n(s,c,a,u,t[10],17,-42063),u=n(u,s,c,a,t[11],22,-1990404162),a=n(a,u,s,c,t[12],7,1804603682),c=n(c,a,u,s,t[13],12,-40341101),s=n(s,c,a,u,t[14],17,-1502002290),u=n(u,s,c,a,t[15],22,1236535329),a=r(a,u,s,c,t[1],5,-165796510),c=r(c,a,u,s,t[6],9,-1069501632),s=r(s,c,a,u,t[11],14,643717713),u=r(u,s,c,a,t[0],20,-373897302),a=r(a,u,s,c,t[5],5,-701558691),c=r(c,a,u,s,t[10],9,38016083),s=r(s,c,a,u,t[15],14,-660478335),u=r(u,s,c,a,t[4],20,-405537848),a=r(a,u,s,c,t[9],5,568446438),c=r(c,a,u,s,t[14],9,-1019803690),s=r(s,c,a,u,t[3],14,-187363961),u=r(u,s,c,a,t[8],20,1163531501),a=r(a,u,s,c,t[13],5,-1444681467),c=r(c,a,u,s,t[2],9,-51403784),s=r(s,c,a,u,t[7],14,1735328473),u=r(u,s,c,a,t[12],20,-1926607734),a=o(a,u,s,c,t[5],4,-378558),c=o(c,a,u,s,t[8],11,-2022574463),s=o(s,c,a,u,t[11],16,1839030562),u=o(u,s,c,a,t[14],23,-35309556),a=o(a,u,s,c,t[1],4,-1530992060),c=o(c,a,u,s,t[4],11,1272893353),s=o(s,c,a,u,t[7],16,-155497632),u=o(u,s,c,a,t[10],23,-1094730640),a=o(a,u,s,c,t[13],4,681279174),c=o(c,a,u,s,t[0],11,-358537222),s=o(s,c,a,u,t[3],16,-722521979),u=o(u,s,c,a,t[6],23,76029189),a=o(a,u,s,c,t[9],4,-640364487),c=o(c,a,u,s,t[12],11,-421815835),s=o(s,c,a,u,t[15],16,530742520),u=o(u,s,c,a,t[2],23,-995338651),a=i(a,u,s,c,t[0],6,-198630844),c=i(c,a,u,s,t[7],10,1126891415),s=i(s,c,a,u,t[14],15,-1416354905),u=i(u,s,c,a,t[5],21,-57434055),a=i(a,u,s,c,t[12],6,1700485571),c=i(c,a,u,s,t[3],10,-1894986606),s=i(s,c,a,u,t[10],15,-1051523),u=i(u,s,c,a,t[1],21,-2054922799),a=i(a,u,s,c,t[8],6,1873313359),c=i(c,a,u,s,t[15],10,-30611744),s=i(s,c,a,u,t[6],15,-1560198380),u=i(u,s,c,a,t[13],21,1309151649),a=i(a,u,s,c,t[4],6,-145523070),c=i(c,a,u,s,t[11],10,-1120210379),s=i(s,c,a,u,t[2],15,718787259),u=i(u,s,c,a,t[9],21,-343485551),e[0]=g(a,e[0]),e[1]=g(u,e[1]),e[2]=g(s,e[2]),e[3]=g(c,e[3])}function u(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function s(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function c(e){var t,n,r,o,i,s,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)a(l,u(e.substring(t-64,t)));for(e=e.substring(t-64),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(a(l,r),t=0;t<16;t+=1)r[t]=0;return o=8*c,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),s=parseInt(o[1],16)||0,r[14]=i,r[15]=s,a(l,r),l}function l(e){var t,n,r,o,i,u,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)a(l,s(e.subarray(t-64,t)));for(e=t-64<c?e.subarray(t-64):new Uint8Array(0),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)r[t>>2]|=e[t]<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(a(l,r),t=0;t<16;t+=1)r[t]=0;return o=8*c,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),u=parseInt(o[1],16)||0,r[14]=i,r[15]=u,a(l,r),l}function d(e){var t,n="";for(t=0;t<4;t+=1)n+=_[e>>8*t+4&15]+_[e>>8*t&15];return n}function f(e){var t;for(t=0;t<e.length;t+=1)e[t]=d(e[t]);return e.join("")}function h(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function p(e,t){var n,r=e.length,o=new ArrayBuffer(r),i=new Uint8Array(o);for(n=0;n<r;n+=1)i[n]=e.charCodeAt(n);return t?i:o}function m(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function b(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),n?r:r.buffer}function v(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function y(){this.reset()}var g=function(e,t){return e+t&4294967295},_=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==f(c("hello"))&&(g=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return e=0|e||0,e<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var o,i,a,u,s=this.byteLength,c=t(n,s),l=s;return r!==e&&(l=t(r,s)),c>l?new ArrayBuffer(0):(o=l-c,i=new ArrayBuffer(o),a=new Uint8Array(i),u=new Uint8Array(this,c,o),a.set(u),i)}}(),y.prototype.append=function(e){return this.appendBinary(h(e)),this},y.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;t<=n;t+=64)a(this._hash,u(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},y.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(i,o),n=f(this._hash),e&&(n=v(n)),this.reset(),n},y.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},y.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},y.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},y.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},y.prototype._finish=function(e,t){var n,r,o,i=t;if(e[i>>2]|=128<<(i%4<<3),i>55)for(a(this._hash,e),i=0;i<16;i+=1)e[i]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),o=parseInt(n[1],16)||0,e[14]=r,e[15]=o,a(this._hash,e)},y.hash=function(e,t){return y.hashBinary(h(e),t)},y.hashBinary=function(e,t){var n=c(e),r=f(n);return t?v(r):r},y.ArrayBuffer=function(){this.reset()},y.ArrayBuffer.prototype.append=function(e){var t,n=b(this._buff.buffer,e,!0),r=n.length;for(this._length+=e.byteLength,t=64;t<=r;t+=64)a(this._hash,s(n.subarray(t-64,t)));return this._buff=t-64<r?new Uint8Array(n.buffer.slice(t-64)):new Uint8Array(0),this},y.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r[t]<<(t%4<<3);return this._finish(i,o),n=f(this._hash),e&&(n=v(n)),this.reset(),n},y.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},y.ArrayBuffer.prototype.getState=function(){var e=y.prototype.getState.call(this);return e.buff=m(e.buff),e},y.ArrayBuffer.prototype.setState=function(e){return e.buff=p(e.buff,!0),y.prototype.setState.call(this,e)},y.ArrayBuffer.prototype.destroy=y.prototype.destroy,y.ArrayBuffer.prototype._finish=y.prototype._finish,y.ArrayBuffer.hash=function(e,t){var n=l(new Uint8Array(e)),r=f(n);return t?v(r):r},y})},function(e,t,n){"use strict";var r=n(27),o=r.clone;e.exports=function(e){return e=o(e),e.index||(e.index={}),["type","name","ddoc"].forEach(function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])}),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}},function(e,t,n){"use strict";function r(e,t,n){return"string"!=typeof t?i.reject(new Error("doc id is required")):e.get(t).catch(function(e){if(404!==e.status)throw e;return{}}).then(function(r){var i=r._rev,a=n(r);return a?(a._id=t,a._rev=i,o(e,a,n)):{updated:!1,rev:i}})}function o(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(o){if(409!==o.status)throw o;return r(e,t._id,n)})}var i=n(492);t.upsert=function(e,t,n){var o=this,i=r(o,e,t);if("function"!=typeof n)return i;i.then(function(e){n(null,e)},n)},t.putIfNotExists=function(e,t,n){var o=this;"string"!=typeof e&&(n=t,t=e,e=t._id);var i=function(e){return!e._rev&&t},a=r(o,e,i);if("function"!=typeof n)return a;a.then(function(e){n(null,e)},n)},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(t)},function(e,t,n){"use strict";var r=n(180).upsert;e.exports=function(e,t,n){return r.apply(e,[t,n])}},function(e,t,n){"use strict";function r(e){return e.allDocs({startkey:"_design/",endkey:"_design/",include_docs:!0}).then(function(e){var t={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return t.indexes=o.flatten(t.indexes,e.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){return(void 0!==e.doc.views?Object.keys(e.doc.views):[]).map(function(t){var n=e.doc.views[t];return{ddoc:e.id,name:t,type:"json",def:a(n.options.def)}})})),t.indexes.sort(function(e,t){return o.compare(e.name,t.name)}),t.total_rows=t.indexes.length,t})}var o=n(27),i=n(59),a=i.massageIndexDef;e.exports=r},function(e,t,n){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(t.SHARINGS_DOCTYPE="io.cozy.sharings",t.SHARED_BY_LINK="sharedByLink"),u=t.SHARED_WITH_ME="sharedWithMe",s=t.SHARED_WITH_OTHERS="sharedWithOthers",c=function(){function t(){o(this,t)}return i(t,[{key:"create",value:function(t,n,r,o){return e.fetchJSON("POST","/sharings/",{desc:o,permissions:t,recipients:n.map(function(e){return{recipient:{id:e,type:"io.cozy.contacts"}}}),sharing_type:r})}},{key:"destroy",value:function(e){return this.revoke(e)}},{key:"findByDoctype",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var r,o,i,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchSharingPermissions(t);case 2:return r=e.sent,o=[].concat(n(r.byMe.map(function(e){return e.attributes.source_id})),n(r.withMe.map(function(e){return e.attributes.source_id}))),e.next=6,Promise.all(o.map(function(e){return a.fetchSharing(e)}));case 6:return i=e.sent,e.abrupt("return",{permissions:r,sharings:i});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchSharingPermissions",value:function(){function t(e){return n.apply(this,arguments)}var n=r(regeneratorRuntime.mark(function t(n){var r,o,i,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(t,n){return e.fetchJSON("GET","/permissions/doctype/"+t+"/"+n)},t.next=3,r(n,s);case 3:return o=t.sent,t.next=6,r(n,a);case 6:return i=t.sent,t.next=9,r(n,u);case 9:return c=t.sent,t.abrupt("return",{byMe:o,byLink:i,withMe:c});case 11:case"end":return t.stop()}},t,this)}));return t}()},{key:"fetchSharing",value:function(t){return e.fetchJSON("GET","/sharings/"+t)}},{key:"revoke",value:function(t){return e.fetchJSON("DELETE","/sharings/"+t)}},{key:"revokeForClient",value:function(t,n){return e.fetchJSON("DELETE","/sharings/"+t+"/recipient/"+n)}},{key:"createLink",value:function(t){return e.fetchJSON("POST","/permissions?codes=email",{data:{type:"io.cozy.permissions",attributes:{permissions:t}}})}},{key:"revokeLink",value:function(t){return e.fetchJSON("DELETE","/permissions/"+t._id)}}]),t}();t.default=c}).call(t,n(17))},function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(t.APPS_DOCTYPE="io.cozy.apps",function(){function t(){n(this,t)}return o(t,[{key:"all",value:function(){return e.fetchJSON("GET","/apps/").then(function(e){return{data:e.map(function(e){return r({},e,{id:e._id})})}})}}]),t}());t.default=i}).call(t,n(17))},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var r=n(13),o=n.n(r),i=o.a.shape({trySubscribe:o.a.func.isRequired,tryUnsubscribe:o.a.func.isRequired,notifyNestedSubs:o.a.func.isRequired,isSubscribed:o.a.func.isRequired}),a=o.a.shape({subscribe:o.a.func.isRequired,dispatch:o.a.func.isRequired,getState:o.a.func.isRequired})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(){}function s(e,t){var n={run:function(r){try{var o=e(t.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}function c(e){var t,n,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=c.getDisplayName,f=void 0===l?function(e){return"ConnectAdvanced("+e+")"}:l,_=c.methodName,w=void 0===_?"connectAdvanced":_,k=c.renderCountProp,S=void 0===k?void 0:k,E=c.shouldHandleStateChanges,x=void 0===E||E,A=c.storeKey,C=void 0===A?"store":A,O=c.withRef,T=void 0!==O&&O,P=a(c,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),j=C+"Subscription",D=y++,R=(t={},t[C]=b.a,t[j]=b.b,t),M=(n={},n[j]=b.b,n);return function(t){h()("function"==typeof t,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",a=f(n),c=v({},P,{getDisplayName:f,methodName:w,renderCountProp:S,shouldHandleStateChanges:x,storeKey:C,withRef:T,displayName:a,wrappedComponentName:n,WrappedComponent:t}),l=function(n){function l(e,t){r(this,l);var i=o(this,n.call(this,e,t));return i.version=D,i.state={},i.renderCount=0,i.store=e[C]||t[C],i.propsMode=Boolean(e[C]),i.setWrappedInstance=i.setWrappedInstance.bind(i),h()(i.store,'Could not find "'+C+'" in either the context or props of "'+a+'". Either wrap the root component in a <Provider>, or explicitly pass "'+C+'" as a prop to "'+a+'".'),i.initSelector(),i.initSubscription(),i}return i(l,n),l.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[j]=t||this.context[j],e},l.prototype.componentDidMount=function(){x&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},l.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},l.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},l.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=u,this.store=null,this.selector.run=u,this.selector.shouldComponentUpdate=!1},l.prototype.getWrappedInstance=function(){return h()(T,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+w+"() call."),this.wrappedInstance},l.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},l.prototype.initSelector=function(){var t=e(this.store.dispatch,c);this.selector=s(t,this.store),this.selector.run(this.props)},l.prototype.initSubscription=function(){if(x){var e=(this.propsMode?this.props:this.context)[j];this.subscription=new m.a(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},l.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(g)):this.notifyNestedSubs()},l.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},l.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},l.prototype.addExtraProps=function(e){if(!(T||S||this.propsMode&&this.subscription))return e;var t=v({},e);return T&&(t.ref=this.setWrappedInstance),S&&(t[S]=this.renderCount++),this.propsMode&&this.subscription&&(t[j]=this.subscription),t},l.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(p.createElement)(t,this.addExtraProps(e.props))},l}(p.Component);return l.WrappedComponent=t,l.displayName=a,l.childContextTypes=M,l.contextTypes=R,l.propTypes=R,d()(l,t)}}t.a=c;var l=n(506),d=n.n(l),f=n(11),h=n.n(f),p=n(0),m=n(507),b=n(185),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y=0,g={}},function(e,t,n){"use strict";function r(e){return function(t,n){function r(){return o}var o=e(t,n);return r.dependsOnOwnProps=!1,r}}function o(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function i(e,t){return function(t,n){var r=(n.displayName,function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)});return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=o(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=o(i),i=r(t,n)),i},r}}t.a=r,t.b=i;n(188)},function(e,t,n){"use strict";n(105),n(120)},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getSharingDetails=t.getSharingStatus=t.getSharings=t.fetchContacts=t.fetchApps=t.revokeLink=t.shareByLink=t.leave=t.unshare=t.share=t.fetchSharings=t.FETCH_SHARINGS=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(41),s=n(190),c=n(183),l=n(184),d=n(121),f=t.FETCH_SHARINGS="FETCH_SHARINGS",h=function(e,t){var n=e.findIndex(function(e){return e.recipient.id===t});return[].concat(i(e.slice(0,n)),i(e.slice(n+1)))},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"RECEIVE_SHARINGS_DATA":return t.response.sharings;case"RECEIVE_NEW_SHARING":return[].concat(i(e),[t.response]);case"RECEIVE_SHARING_REVOKE":var n=e.findIndex(function(e){return e.attributes.sharing_id===t.sharingId});if(-1===n)return e;var r=e[n],o=void 0===r.attributes.recipients||1===r.attributes.recipients.length,u=o?a({},r,{attributes:a({},r.attributes,{revoked:!0})}):a({},r,{attributes:a({},r.attributes,{recipients:h(r.attributes.recipients,t.recipientId)})});return[].concat(i(e.slice(0,n)),[u],i(e.slice(n+1)));default:return e}},m={fetchStatus:"loading",byMe:[],byLink:[],withMe:[]},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=void 0;switch(t.type){case f:return e[t.doctype]?a({},e,o({},t.doctype,a({},e[t.doctype],{fetchStatus:"loading"}))):a({},e,o({},t.doctype,m));case"RECEIVE_SHARINGS_DATA":return a({},e,o({},t.doctype,a({fetchStatus:"loaded"},t.response.permissions)));case"RECEIVE_FETCH_SHARINGS_ERROR":return a({},e,o({},t.doctype,{fetchStatus:"error"}));case"RECEIVE_NEW_SHARING":return a({},e,o({},t.doctype,a({},e[t.doctype],{byMe:[].concat(i(e[t.doctype].byMe),[{attributes:{permissions:{rule0:{type:t.doctype,values:[t.id]}},source_id:t.response.attributes.sharing_id,type:"io.cozy.sharings"}}])})));case"RECEIVE_NEW_SHARING_LINK":return a({},e,o({},t.doctype,a({},e[t.doctype],{byLink:[].concat(i(e[t.doctype].byLink),[t.response])})));case"REVOKE_SHARING_LINK":return n=e[t.doctype].byLink.findIndex(function(e){return t.permission._id===e._id}),-1===n?e:a({},e,o({},t.doctype,a({},e[t.doctype],{byLink:[].concat(i(e[t.doctype].byLink.slice(0,n)),i(e[t.doctype].byLink.slice(n+1)))})));default:return e}};t.default=(0,u.combineReducers)({documents:p,permissions:b});var v=(t.fetchSharings=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{types:[f,"RECEIVE_SHARINGS_DATA","RECEIVE_FETCH_SHARINGS_ERROR"],doctype:e,id:t,options:n,promise:function(t){return t.getCollection(c.SHARINGS_DOCTYPE).findByDoctype(e)},dependencies:[g()]}},t.share=function(e,t,n,o){return function(){var i=r(regeneratorRuntime.mark(function r(i,a){var u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Promise.all(t.map(function(e){return e.id||i(k(e)).then(function(e){return e.data[0].id})}));case 2:return u=r.sent,N(e),r.abrupt("return",i(v(e,u,n,o)));case 5:case"end":return r.stop()}},r,void 0)}));return function(e,t){return i.apply(this,arguments)}}()},t.unshare=function(e,t){return function(){var n=r(regeneratorRuntime.mark(function n(r,o){var i,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=T(o(),e,t),a=1===i.attributes.recipients.length,n.abrupt("return",r({types:["REVOKE_SHARING","RECEIVE_SHARING_REVOKE","RECEIVE_ERROR"],doctype:e._type,id:e._id,sharingId:i.attributes.sharing_id,recipientId:t._id,promise:function(e){return a?e.getCollection(c.SHARINGS_DOCTYPE).revoke(i.attributes.sharing_id):e.getCollection(c.SHARINGS_DOCTYPE).revokeForClient(i.attributes.sharing_id,i.attributes.recipients.find(function(e){return e.recipient.id===t._id}).Client.client_id)}}));case 3:case"end":return n.stop()}},n,void 0)}));return function(e,t){return n.apply(this,arguments)}}()},t.leave=function(e){return function(){var t=r(regeneratorRuntime.mark(function t(n,r){var o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=P(r(),e._type,e._id),i=o.find(function(e){return!1===e.attributes.owner}),t.abrupt("return",n({types:["REVOKE_SHARING","RECEIVE_SHARING_REVOKE","RECEIVE_ERROR"],doctype:e._type,id:e._id,sharingId:i.attributes.sharing_id,promise:function(e){return e.getCollection(c.SHARINGS_DOCTYPE).revoke(i.attributes.sharing_id)}}));case 3:case"end":return t.stop()}},t,void 0)}));return function(e,n){return t.apply(this,arguments)}}()},t.shareByLink=function(e){return z(e),y(e)},t.revokeLink=function(e){return function(){var t=r(regeneratorRuntime.mark(function t(n,r){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=O(r(),e._type,e._id),t.abrupt("return",n({types:["REVOKE_SHARING_LINK","RECEIVE_SHARING_LINK_REVOKE","RECEIVE_ERROR"],doctype:e._type,id:e._id,permission:o,promise:function(e){return e.getCollection(c.SHARINGS_DOCTYPE).revokeLink(o)}}));case 2:case"end":return t.stop()}},t,void 0)}));return function(e,n){return t.apply(this,arguments)}}()},function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"master-slave",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return{types:["CREATE_SHARING","RECEIVE_NEW_SHARING","RECEIVE_ERROR"],doctype:e._type,id:e._id,promise:function(o){return o.getCollection(c.SHARINGS_DOCTYPE).create(S(e),t,n,r)}}}),y=function(e){return{types:["CREATE_SHARING_LINK","RECEIVE_NEW_SHARING_LINK","RECEIVE_ERROR"],doctype:e._type,id:e._id,promise:function(t){return t.getCollection(c.SHARINGS_DOCTYPE).createLink(S(e,!0))}}},g=t.fetchApps=function(){return(0,d.makeFetchCollection)("apps",l.APPS_DOCTYPE,function(e){return e.getCollection(l.APPS_DOCTYPE).all()})},_=function(e){return(0,d.getCollection)(e,"apps").data},w=function(e,t){var n=_(e),r=n.find(function(e){return e.attributes.slug===t&&"ready"===e.attributes.state});if(!r)throw new Error("Sharing link: app "+t+" not installed");return r.links.related},k=(t.fetchContacts=function(){var e=(0,d.fetchCollection)("contacts","io.cozy.contacts");return e.promise=function(){var e=r(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchDocuments("contacts","io.cozy.contacts");case 2:return n=e.sent,e.next=5,Promise.all(n.data.map(function(e){return"string"!=typeof e.email?e:t.updateDocument(a({},e,{email:[{address:e.email,primary:!0}]})).then(function(e){return e.data[0]})}));case 5:return r=e.sent,e.abrupt("return",a({},n,{data:r}));case 7:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),e},function(e){var t=e.email;return(0,d.createDocument)("io.cozy.contacts",{email:[{address:t,primary:!0}]})}),S=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e._id,r=e._type,o=t?["GET"]:["ALL"];return I(e)?{files:{type:"io.cozy.files",verbs:o,values:[n]}}:{collection:{type:r,verbs:o,values:[n]},files:{type:"io.cozy.files",verbs:o,values:[r+"/"+n],selector:"referenced_by"}}},E=function(e,t){return e.cozy.sharings.documents.find(function(e){return e.attributes.sharing_id===t})},x=function(e,t){return(0,d.getDocument)(e,"io.cozy.contacts",t)},A=function(e,t){return e.cozy.sharings.permissions[t]?e.cozy.sharings.permissions[t]:m},C=function(e,t,n){var r=O(e,t,n);return r?M(e,n,t,r.attributes.codes.email):null},O=function(e,t,n){var r=A(e,t),o=I({_type:t})?"files":"collection";return r.byLink.find(function(e){return-1!==e.attributes.permissions[o].values.indexOf(n)})},T=function(e,t,n){return P(e,t._type,t._id).find(function(e){return e.attributes.recipients.find(function(e){return e.recipient.id===n._id})})},P=function(e,t,n){var r=A(e,t);return[].concat(i(r.byMe.filter(function(e){return-1!==e.attributes.permissions.rule0.values.indexOf(n)})),i(r.withMe.filter(function(e){return-1!==e.attributes.permissions.rule0.values.indexOf(n)}))).map(function(t){return E(e,t.attributes.source_id)}).filter(function(e){return!e.attributes.revoked})},j=(t.getSharings=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],A(e,t)),r="io.cozy.files"===t?"files":"collection";return{byMe:n.byMe.map(function(e){return e.attributes.permissions.rule0.values[0]}),withMe:n.withMe.map(function(e){return e.attributes.permissions.rule0.values[0]}),byLink:n.byLink.map(function(e){return e.attributes.permissions[r].values[0]})}},t.getSharingStatus=function(e,t,n){var r=P(e,t,n);return{shared:0!==r.length,owner:0===r.length||r.some(function(e){return!0===e.attributes.owner}),sharingType:r.some(function(e){return"master-master"===e.attributes.sharing_type})?"master-master":"master-slave",sharings:r}}),D=(t.getSharingDetails=function(e,t,n){var r=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],j(e,t,n)),o=r.shared,i=r.owner,a=r.sharingType,u=r.sharings,s=C(e,t,n);return{shared:o,owner:i,sharingType:a,sharingLink:s,sharer:o&&!i?{name:"John Doe",url:u[0].attributes.sharer.url}:null,readOnly:!i&&"master-slave"===a,recipients:o&&i?D(e,u):[],byMe:o&&!0===i,withMe:o&&!i,byLink:!!s}},function(e,t){return t.filter(function(e){return e.attributes.recipients}).map(function(t){return t.attributes.recipients.map(function(n){return{contact:x(e,n.recipient.id),status:n.status,type:t.attributes.sharing_type}})}).reduce(function(e,t){return e.concat(t)},[])}),R=function(e,t){switch(t){case"io.cozy.files":return w(e,"drive");case"io.cozy.photos.albums":return w(e,"photos");default:throw new Error("Sharing link: don't know which app to use for doctype "+t)}},M=function(e,t,n,r){return R(e,n)+"public?sharecode="+r+"&id="+t+("file"===n?"&directdownload":"")},I=function(e){var t=e._type,n=e.type;return"io.cozy.files"===t||"directory"===n||"file"===n},L=function(e,t){var n=(0,s.getTracker)();n&&n.push(["trackEvent",I(e)?"Drive":"Photos",t,t+(I(e)?"File":"Album")])},z=function(e){return L(e,"shareByLink")},N=function(e){return L(e,"shareByEmail")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=null,o=(t.shouldEnableTracking=function(){var e=document.querySelector("[role=application]");if(e&&e.dataset){var t=e.dataset.cozyTracking;if(""===t||"true"===t)return!0;if("false"===t)return!1}},t.getTracker=function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null!==r)return r;try{!1===a&&Piwik.getTracker();var u=n(516);return r=u({url:e||"https://piwik.cozycloud.cc",siteId:t||8,injectScript:a}),i&&o(),r}catch(e){return console.warn(e),r=null,null}},t.configureTracker=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null!==r){var t=void 0,n=void 0,o=document.querySelector("[role=application]");if(o&&o.dataset){n=o.dataset.cozyAppName,t=o.dataset.cozyDomain||"";var i=t.indexOf(":");i>=0&&(t=t.substring(0,i))}e=Object.assign({userId:t,appDimensionId:1,app:n,heartbeat:15},e),parseInt(e.heartbeat)>0&&r.push(["enableHeartBeatTimer",parseInt(e.heartbeat)]),r.push(["setUserId",e.userId]),r.push(["setCustomDimension",e.appDimensionId,e.app])}});t.createTrackerMiddleware=function(){return function(e){return function(e){return function(t){return r&&t.trackEvent&&t.trackEvent.category&&t.trackEvent.action&&r.push(["trackEvent",t.trackEvent.category,t.trackEvent.action,t.trackEvent.name,t.trackEvent.value]),e(t)}}}},t.resetTracker=function(){r&&(r.disconnectFromHistory(),r=null)}},function(e,t,n){var r=n(122);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){"use strict";var r=n(524),o=n(526),i="function"==typeof Symbol&&"symbol"==typeof Symbol(),a=Object.prototype.toString,u=function(e){return"function"==typeof e&&"[object Function]"===a.call(e)},s=Object.defineProperty&&function(){var e={};try{Object.defineProperty(e,"x",{enumerable:!1,value:e});for(var t in e)return!1;return e.x===e}catch(e){return!1}}(),c=function(e,t,n,r){(!(t in e)||u(r)&&r())&&(s?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},l=function(e,t){var n=arguments.length>2?arguments[2]:{},a=r(t);i&&(a=a.concat(Object.getOwnPropertySymbols(t))),o(a,function(r){c(e,r,t[r],n[r])})};l.supportsDescriptors=!!s,e.exports=l},function(e,t,n){"use strict";var r=n(122),o=n(527),i=r.call(Function.call,String.prototype.replace),a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,u=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;e.exports=function(){var e=o.ToString(o.CheckObjectCoercible(this));return i(i(e,a,""),u,"")}},function(e,t,n){"use strict";var r=Function.prototype.toString,o=/^\s*class /,i=function(e){try{var t=r.call(e),n=t.replace(/\/\/.*\n/g,""),i=n.replace(/\/\*[.\s\S]*\*\//g,""),a=i.replace(/\n/gm," ").replace(/ {2}/g," ");return o.test(a)}catch(e){return!1}},a=function(e){try{return!i(e)&&(r.call(e),!0)}catch(e){return!1}},u=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(s)return a(e);if(i(e))return!1;var t=u.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},function(e,t,n){"use strict";var r=n(193),o="";e.exports=function(){return String.prototype.trim&&o.trim()===o?String.prototype.trim:r}},function(e,t){function n(e){return e instanceof Date}e.exports=n},function(e,t,n){function r(e){var t=o(e),n=t.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var a=i(r),u=new Date(0);u.setFullYear(n,0,4),u.setHours(0,0,0,0);var s=i(u);return t.getTime()>=a.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}var o=n(42),i=n(123);e.exports=r},function(e,t,n){var r=n(199),o=n(200);e.exports={distanceInWords:r(),format:o()}},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+o:o+" ago":o}var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}var i=n(2);e.exports=r},function(e,t,n){function r(e){return n(o(e))}function o(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var i={"./_lib/build_formatting_tokens_reg_exp/index":2,"./ar/build_distance_in_words_locale/index":202,"./ar/build_format_locale/index":203,"./ar/index":545,"./bg/build_distance_in_words_locale/index":204,"./bg/build_format_locale/index":205,"./bg/index":546,"./ca/build_distance_in_words_locale/index":206,"./ca/build_format_locale/index":207,"./ca/index":547,"./cs/build_distance_in_words_locale/index":208,"./cs/build_format_locale/index":209,"./cs/index":548,"./da/build_distance_in_words_locale/index":210,"./da/build_format_locale/index":211,"./da/index":549,"./de/build_distance_in_words_locale/index":212,"./de/build_format_locale/index":213,"./de/index":550,"./el/build_distance_in_words_locale/index":214,"./el/build_format_locale/index":215,"./el/index":551,"./en/build_distance_in_words_locale/index":199,"./en/build_format_locale/index":200,"./en/index":198,"./eo/build_distance_in_words_locale/index":216,"./eo/build_format_locale/index":217,"./eo/index":552,"./es/build_distance_in_words_locale/index":218,"./es/build_format_locale/index":219,"./es/index":553,"./fi/build_distance_in_words_locale/index":220,"./fi/build_format_locale/index":221,"./fi/index":554,"./fil/build_distance_in_words_locale/index":222,"./fil/build_format_locale/index":223,"./fil/index":555,"./fr/build_distance_in_words_locale/index":224,"./fr/build_format_locale/index":225,"./fr/index":556,"./hr/build_distance_in_words_locale/index":226,"./hr/build_format_locale/index":227,"./hr/index":557,"./hu/build_distance_in_words_locale/index":228,"./hu/build_format_locale/index":229,"./hu/index":558,"./id/build_distance_in_words_locale/index":230,"./id/build_format_locale/index":231,"./id/index":559,"./is/build_distance_in_words_locale/index":232,"./is/build_format_locale/index":233,"./is/index":560,"./it/build_distance_in_words_locale/index":234,"./it/build_format_locale/index":235,"./it/index":561,"./ja/build_distance_in_words_locale/index":236,"./ja/build_format_locale/index":237,"./ja/index":562,"./ko/build_distance_in_words_locale/index":238,"./ko/build_format_locale/index":239,"./ko/index":563,"./mk/build_distance_in_words_locale/index":240,"./mk/build_format_locale/index":241,"./mk/index":564,"./nb/build_distance_in_words_locale/index":242,"./nb/build_format_locale/index":243,"./nb/index":565,"./nl/build_distance_in_words_locale/index":244,"./nl/build_format_locale/index":245,"./nl/index":566,"./pl/build_distance_in_words_locale/index":246,"./pl/build_format_locale/index":247,"./pl/index":567,"./pt/build_distance_in_words_locale/index":248,"./pt/build_format_locale/index":249,"./pt/index":568,"./ro/build_distance_in_words_locale/index":250,"./ro/build_format_locale/index":251,"./ro/index":569,"./ru/build_distance_in_words_locale/index":252,"./ru/build_format_locale/index":253,"./ru/index":570,"./sk/build_distance_in_words_locale/index":254,"./sk/build_format_locale/index":255,"./sk/index":571,"./sl/build_distance_in_words_locale/index":256,"./sl/build_format_locale/index":257,"./sl/index":572,"./sv/build_distance_in_words_locale/index":258,"./sv/build_format_locale/index":259,"./sv/index":573,"./th/build_distance_in_words_locale/index":260,"./th/build_format_locale/index":261,"./th/index":574,"./tr/build_distance_in_words_locale/index":262,"./tr/build_format_locale/index":263,"./tr/index":575,"./zh_cn/build_distance_in_words_locale/index":264,"./zh_cn/build_format_locale/index":265,"./zh_cn/index":576,"./zh_tw/build_distance_in_words_locale/index":266,"./zh_tw/build_format_locale/index":267,"./zh_tw/index":577};r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=201},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"  "+o:" "+o:o}var t={lessThanXSeconds:{one:"   ",other:"  {{count}} "},xSeconds:{one:" ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",other:"  {{count}} "},xMinutes:{one:" ",other:"{{count}} "},aboutXHours:{one:"  ",other:"{{count}}  "},xHours:{one:" ",other:"{{count}} "},xDays:{one:" ",other:"{{count}} "},aboutXMonths:{one:"  ",other:"{{count}}  "},xMonths:{one:" ",other:"{{count}} "},aboutXYears:{one:"  ",other:"{{count}}  "},xYears:{one:" ",other:"{{count}} "},overXYears:{one:"  ",other:"  {{count}} "},almostXYears:{one:"  ",other:"{{count}}  "}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["","","","","","","","","","","",""],t=["  "," "," "," "," "," "," "," "," ","  ","  ","  "],n=["","","","","","",""],r=["","","","","","",""],a=["","","","","","",""],u=["",""],s=["",""],c=["",""],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return String(e)}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?" "+o:" "+o:o}var t={lessThanXSeconds:{one:"-  ",other:"-  {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"-  ",other:"-  {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" ",other:" {{count}} "},xHours:{one:"1 ",other:"{{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" ",other:" {{count}} "},almostXYears:{one:" ",other:" {{count}} "}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["","","","","","","","","","","",""],t=["","","","","","","","","","","",""],n=["","","","","","",""],r=["","","","","","",""],a=["","","","","","",""],u=[""," ","",""],s=function(e){var t=e.getHours();return t>=4&&t<12?u[0]:t>=12&&t<14?u[1]:t>=14&&t<17?u[2]:u[3]},c={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:s,a:s,aa:s};return["M","D","DDD","d","Q","W"].forEach(function(e){c[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:c,formattingTokensRegExp:i(c)}}function o(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"-";case 2:return e+"-"}return e+"-"}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"en "+o:"fa "+o:o}var t={lessThanXSeconds:{one:"menys d'un segon",other:"menys de {{count}} segons"},xSeconds:{one:"1 segon",other:"{{count}} segons"},halfAMinute:"mig minut",lessThanXMinutes:{one:"menys d'un minut",other:"menys de {{count}} minuts"},xMinutes:{one:"1 minut",other:"{{count}} minuts"},aboutXHours:{one:"aproximadament una hora",other:"aproximadament {{count}} hores"},xHours:{one:"1 hora",other:"{{count}} hores"},xDays:{one:"1 dia",other:"{{count}} dies"},aboutXMonths:{one:"aproximadament un mes",other:"aproximadament {{count}} mesos"},xMonths:{one:"1 mes",other:"{{count}} mesos"},aboutXYears:{one:"aproximadament un any",other:"aproximadament {{count}} anys"},xYears:{one:"1 any",other:"{{count}} anys"},overXYears:{one:"ms d'un any",other:"ms de {{count}} anys"},almostXYears:{one:"gaireb un any",other:"gaireb {{count}} anys"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["gen","feb","mar","abr","mai","jun","jul","ago","set","oct","nov","des"],t=["gener","febrer","mar","abril","maig","juny","juliol","agost","setembre","octobre","novembre","desembre"],n=["dg","dl","dt","dc","dj","dv","ds"],r=["dge","dls","dts","dcs","djs","dvs","dss"],a=["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){switch(e){case 1:return"1r";case 2:return"2n";case 3:return"3r";case 4:return"4t";default:return e+""}}var i=n(2);e.exports=r},function(e,t){function n(e,t){return 1===t?e.one:t>=2&&t<=4?e.twoFour:e.other}function r(e,t,r){var o=n(e,t);return(o[r]||o).replace("{{count}}",t)}function o(e){return["lessThan","about","over","almost"].filter(function(t){return!!e.match(new RegExp("^"+t))})[0]}function i(e){var t="";return"almost"===e&&(t="skoro"),"about"===e&&(t="piblin"),t.length>0?t+" ":""}function a(e){var t="";return"lessThan"===e&&(t="mn ne"),"over"===e&&(t="vce ne"),t.length>0?t+" ":""}function u(e){return e.charAt(0).toLowerCase()+e.slice(1)}function s(){function e(e,n,s){s=s||{};var c=o(e)||"",l=u(e.substring(c.length)),d=t[l];return s.addSuffix?s.comparison>0?i(c)+"za "+a(c)+r(d,n,"future"):i(c)+"ped "+a(c)+r(d,n,"past"):i(c)+a(c)+r(d,n,"regular")}var t={xSeconds:{one:{regular:"vteina",past:"vteinou",future:"vteinu"},twoFour:{regular:"{{count}} vteiny",past:"{{count}} vteinami",future:"{{count}} vteiny"},other:{regular:"{{count}} vtein",past:"{{count}} vteinami",future:"{{count}} vtein"}},halfAMinute:{other:{regular:"pl minuty",past:"pl minutou",future:"pl minuty"}},xMinutes:{one:{regular:"minuta",past:"minutou",future:"minutu"},twoFour:{regular:"{{count}} minuty",past:"{{count}} minutami",future:"{{count}} minuty"},other:{regular:"{{count}} minut",past:"{{count}} minutami",future:"{{count}} minut"}},xHours:{one:{regular:"hodina",past:"hodinou",future:"hodinu"},twoFour:{regular:"{{count}} hodiny",past:"{{count}} hodinami",future:"{{count}} hodiny"},other:{regular:"{{count}} hodin",past:"{{count}} hodinami",future:"{{count}} hodin"}},xDays:{one:{regular:"den",past:"dnem",future:"den"},twoFour:{regular:"{{count}} dni",past:"{{count}} dny",future:"{{count}} dni"},other:{regular:"{{count}} dn",past:"{{count}} dny",future:"{{count}} dn"}},xMonths:{one:{regular:"msc",past:"mscem",future:"msc"},twoFour:{regular:"{{count}} msce",past:"{{count}} msci",future:"{{count}} msce"},other:{regular:"{{count}} msc",past:"{{count}} msci",future:"{{count}} msc"}},xYears:{one:{regular:"rok",past:"rokem",future:"rok"},twoFour:{regular:"{{count}} roky",past:"{{count}} roky",future:"{{count}} roky"},other:{regular:"{{count}} rok",past:"{{count}} roky",future:"{{count}} rok"}}};return{localize:e}}e.exports=s},function(e,t,n){function r(){var e=["led","no","be","dub","kv","vn","vc","srp","z","j","lis","pro"],t=["leden","nor","bezen","duben","kvten","erven","ervenec","srpen","z","jen","listopad","prosinec"],n=["ne","po","t","st","t","p","so"],r=["ned","pon","te","st","tv","pt","sob"],a=["nedle","pondl","ter","steda","tvrtek","ptek","sobota"],u=["DOP.","ODP."],s=["dop.","odp."],c=["dopoledne","odpoledne"],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e+"."}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"om "+o:o+" siden":o}var t={lessThanXSeconds:{one:"mindre end et sekund",other:"mindre end {{count}} sekunder"},xSeconds:{one:"1 sekund",other:"{{count}} sekunder"},halfAMinute:"et halvt minut",lessThanXMinutes:{one:"mindre end et minut",other:"mindre end {{count}} minutter"},xMinutes:{one:"1 minut",other:"{{count}} minutter"},aboutXHours:{one:"cirka 1 time",other:"cirka {{count}} timer"},xHours:{one:"1 time",other:"{{count}} timer"},xDays:{one:"1 dag",other:"{{count}} dage"},aboutXMonths:{one:"cirka 1 mned",other:"cirka {{count}} mneder"},xMonths:{one:"1 mned",other:"{{count}} mneder"},aboutXYears:{one:"cirka 1 r",other:"cirka {{count}} r"},xYears:{one:"1 r",other:"{{count}} r"},overXYears:{one:"over 1 r",other:"over {{count}} r"},almostXYears:{one:"nsten 1 r",other:"nsten {{count}} r"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],t=["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"],n=["s","ma","ti","on","to","fr","l"],r=["sn","man","tir","ons","tor","fre","lr"],a=["sndag","mandag","tirsdag","onsdag","torsdag","fredag","lrdag"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e+"."}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o,i=r.addSuffix?t[e].withPreposition:t[e].standalone;return o="string"==typeof i?i:1===n?i.one:i.other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+o:"vor "+o:o}var t={lessThanXSeconds:{standalone:{one:"weniger als eine Sekunde",other:"weniger als {{count}} Sekunden"},withPreposition:{one:"weniger als einer Sekunde",other:"weniger als {{count}} Sekunden"}},xSeconds:{standalone:{one:"eine Sekunde",other:"{{count}} Sekunden"},withPreposition:{one:"einer Sekunde",other:"{{count}} Sekunden"}},halfAMinute:{standalone:"eine halbe Minute",withPreposition:"einer halben Minute"},lessThanXMinutes:{standalone:{one:"weniger als eine Minute",other:"weniger als {{count}} Minuten"},withPreposition:{one:"weniger als einer Minute",other:"weniger als {{count}} Minuten"}},xMinutes:{standalone:{one:"eine Minute",other:"{{count}} Minuten"},withPreposition:{one:"einer Minute",other:"{{count}} Minuten"}},aboutXHours:{standalone:{one:"etwa eine Stunde",other:"etwa {{count}} Stunden"},withPreposition:{one:"etwa einer Stunde",other:"etwa {{count}} Stunden"}},xHours:{standalone:{one:"eine Stunde",other:"{{count}} Stunden"},withPreposition:{one:"einer Stunde",other:"{{count}} Stunden"}},xDays:{standalone:{one:"ein Tag",other:"{{count}} Tage"},withPreposition:{one:"einem Tag",other:"{{count}} Tagen"}},aboutXMonths:{standalone:{one:"etwa ein Monat",other:"etwa {{count}} Monate"},withPreposition:{one:"etwa einem Monat",other:"etwa {{count}} Monaten"}},xMonths:{standalone:{one:"ein Monat",other:"{{count}} Monate"},withPreposition:{one:"einem Monat",other:"{{count}} Monaten"}},aboutXYears:{standalone:{one:"etwa ein Jahr",other:"etwa {{count}} Jahre"},withPreposition:{one:"etwa einem Jahr",other:"etwa {{count}} Jahren"}},xYears:{standalone:{one:"ein Jahr",other:"{{count}} Jahre"},withPreposition:{one:"einem Jahr",other:"{{count}} Jahren"}},overXYears:{standalone:{one:"mehr als ein Jahr",other:"mehr als {{count}} Jahre"},withPreposition:{one:"mehr als einem Jahr",other:"mehr als {{count}} Jahren"}},almostXYears:{standalone:{one:"fast ein Jahr",other:"fast {{count}} Jahre"},withPreposition:{one:"fast einem Jahr",other:"fast {{count}} Jahren"}}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],t=["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],n=["So","Mo","Di","Mi","Do","Fr","Sa"],r=["Son","Mon","Die","Mit","Don","Fre","Sam"],a=["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e+"."}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?" "+o:o+" ":o}var t={lessThanXSeconds:{one:"   ",other:"  {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"   ",other:"  {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xHours:{one:"1 ",other:"{{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:"  1 ",other:"  {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["","","","","","","","","","","",""],t=["","","","","","","","","","","",""],n=["","","","","","","","","","","",""],r=["","","","","","",""],i=["","","","","","",""],a=["","","","","","",""],u=["",""],s=["",""],c=["..",".."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return r[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}},d={M:"",D:"",DDD:"",d:"",Q:"",W:""};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return n[e](t)+d[e]}}),["D","Do","DD"].forEach(function(e){l[e+" MMMM"]=function(t,r){return(l[e]||r[e])(t,r)+" "+n[t.getMonth()]}}),{formatters:l,formattingTokensRegExp:o(l)}}var o=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"post "+o:"anta "+o:o}var t={lessThanXSeconds:{one:"malpli ol sekundo",other:"malpli ol {{count}} sekundoj"},xSeconds:{one:"1 sekundo",other:"{{count}} sekundoj"},halfAMinute:"duonminuto",lessThanXMinutes:{one:"malpli ol minuto",other:"malpli ol {{count}} minutoj"},xMinutes:{one:"1 minuto",other:"{{count}} minutoj"},aboutXHours:{one:"proksimume 1 horo",other:"proksimume {{count}} horoj"},xHours:{one:"1 horo",other:"{{count}} horoj"},xDays:{one:"1 tago",other:"{{count}} tagoj"},aboutXMonths:{one:"proksimume 1 monato",other:"proksimume {{count}} monatoj"},xMonths:{one:"1 monato",other:"{{count}} monatoj"},aboutXYears:{one:"proksimume 1 jaro",other:"proksimume {{count}} jaroj"},xYears:{one:"1 jaro",other:"{{count}} jaroj"},overXYears:{one:"pli ol 1 jaro",other:"pli ol {{count}} jaroj"},almostXYears:{one:"preska 1 jaro",other:"preska {{count}} jaroj"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["jan","feb","mar","apr","maj","jun","jul","ag","sep","okt","nov","dec"],t=["januaro","februaro","marto","aprilo","majo","junio","julio","agusto","septembro","oktobro","novembro","decembro"],n=["di","lu","ma","me","a","ve","sa"],r=["dim","lun","mar","mer","a","ven","sab"],i=["dimano","lundo","mardo","merkredo","ado","vendredo","sabato"],a=["A.T.M.","P.T.M."],u=["a.t.m.","p.t.m."],s=["antatagmeze","posttagmeze"],c={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return i[e.getDay()]},A:function(e){return e.getHours()/12>=1?a[1]:a[0]},a:function(e){return e.getHours()/12>=1?u[1]:u[0]},aa:function(e){return e.getHours()/12>=1?s[1]:s[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){c[e+"o"]=function(t,n){return n[e](t)+"-a"}}),{formatters:c,formattingTokensRegExp:o(c)}}var o=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"en "+o:"hace "+o:o}var t={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],t=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],n=["do","lu","ma","mi","ju","vi","sa"],r=["dom","lun","mar","mi","jue","vie","sb"],a=["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e+""}var i=n(2);e.exports=r},function(e,t){function n(){function e(e){return e.replace(/sekuntia?/,"sekunnin")}function t(e){return e.replace(/minuuttia?/,"minuutin")}function n(e){return e.replace(/tuntia?/,"tunnin")}function r(e){return e.replace(/piv?/,"pivn")}function o(e){return e.replace(/(kuukausi|kuukautta)/,"kuukauden")}function i(e){return e.replace(/(vuosi|vuotta)/,"vuoden")}function a(e,t,n){n=n||{};var r=u[e],o=1===t?r.one:r.other.replace("{{count}}",t);return n.addSuffix?n.comparison>0?r.futureTense(o)+" kuluttua":o+" sitten":o}var u={lessThanXSeconds:{one:"alle sekunti",other:"alle {{count}} sekuntia",futureTense:e},xSeconds:{one:"sekunti",other:"{{count}} sekuntia",futureTense:e},halfAMinute:{one:"puoli minuuttia",other:"puoli minuuttia",futureTense:function(e){return"puolen minuutin"}},lessThanXMinutes:{one:"alle minuutti",other:"alle {{count}} minuuttia",futureTense:t},xMinutes:{one:"minuutti",other:"{{count}} minuuttia",futureTense:t},aboutXHours:{one:"noin tunti",other:"noin {{count}} tuntia",futureTense:n},xHours:{one:"tunti",other:"{{count}} tuntia",futureTense:n},xDays:{one:"piv",other:"{{count}} piv",futureTense:r},aboutXMonths:{one:"noin kuukausi",other:"noin {{count}} kuukautta",futureTense:o},xMonths:{one:"kuukausi",other:"{{count}} kuukautta",futureTense:o},aboutXYears:{one:"noin vuosi",other:"noin {{count}} vuotta",futureTense:i},xYears:{one:"vuosi",other:"{{count}} vuotta",futureTense:i},overXYears:{one:"yli vuosi",other:"yli {{count}} vuotta",futureTense:i},almostXYears:{one:"lhes vuosi",other:"lhes {{count}} vuotta",futureTense:i}};return{localize:a}}e.exports=n},function(e,t,n){function r(){function e(e){return e.getHours()<12?"AP":"IP"}var t=["tammi","helmi","maalis","huhti","touko","kes","hein","elo","syys","loka","marras","joulu"],n=["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","keskuu","heinkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],r=["su","ma","ti","ke","to","pe","la"],i=["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],a={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return r[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return i[e.getDay()]},A:e,a:e,aa:e};return["M","D","DDD","d","Q","W"].forEach(function(e){a[e+"o"]=function(t,n){return n[e](t).toString()+"."}}),{formatters:a,formattingTokensRegExp:o(a)}}var o=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"sa loob ng "+o:o+" ang nakalipas":o}var t={lessThanXSeconds:{one:"mas maliit sa isang segundo",other:"mas maliit sa {{count}} segundo"},xSeconds:{one:"1 segundo",other:"{{count}} segundo"},halfAMinute:"kalahating minuto",lessThanXMinutes:{one:"mas maliit sa isang minuto",other:"mas maliit sa {{count}} minuto"},xMinutes:{one:"1 minuto",other:"{{count}} minuto"},aboutXHours:{one:"mga 1 oras",other:"mga {{count}} oras"},xHours:{one:"1 oras",other:"{{count}} oras"},xDays:{one:"1 araw",other:"{{count}} araw"},aboutXMonths:{one:"mga 1 buwan",other:"mga {{count}} buwan"},xMonths:{one:"1 buwan",other:"{{count}} buwan"},aboutXYears:{one:"mga 1 taon",other:"mga {{count}} taon"},xYears:{one:"1 taon",other:"{{count}} taon"},overXYears:{one:"higit sa 1 taon",other:"higit sa {{count}} taon"},almostXYears:{one:"halos 1 taon",other:"halos {{count}} taon"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["Ene","Peb","Mar","Abr","May","Hun","Hul","Ago","Set","Okt","Nob","Dis"],t=["Enero","Pebrero","Marso","Abril","Mayo","Hunyo","Hulyo","Agosto","Setyembre","Oktubre","Nobyembre","Disyembre"],n=["Li","Lu","Ma","Mi","Hu","Bi","Sa"],r=["Lin","Lun","Mar","Miy","Huw","Biy","Sab"],a=["Linggo","Lunes","Martes","Miyerkules","Huwebes","Biyernes","Sabado"],u=["NU","NT","NH","NG"],s=["nu","nt","nh","ng"],c=["ng umaga","ng tanghali","ng hapon","ng gabi"],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){if(e.getHours()>12){return e.getHours()%12<6?u[2]:u[3]}return e.getHours()<12?u[0]:u[1]},a:function(e){if(e.getHours()>12){return e.getHours()%12<6?s[2]:s[3]}return e.getHours()<12?s[0]:s[1]},aa:function(e){if(e.getHours()>12){return e.getHours()%12<6?c[2]:c[3]}return e.getHours()<12?c[0]:c[1]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return"ika-"+e}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"dans "+o:"il y a "+o:o}var t={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["janv.","fvr.","mars","avr.","mai","juin","juill.","aot","sept.","oct.","nov.","dc."],t=["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],n=["di","lu","ma","me","je","ve","sa"],r=["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],u=["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],s=["AM","PM"],c=["am","pm"],l=["du matin","de laprs-midi","du soir"],d={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return u[e.getDay()]},A:function(e){return e.getHours()/12>=1?s[1]:s[0]},a:function(e){return e.getHours()/12>=1?c[1]:c[0]},aa:function(e){var t=e.getHours();return t<=12?l[0]:t<=16?l[1]:l[2]},Wo:function(e,t){return i(t.W(e))}};return["M","D","DDD","d","Q"].forEach(function(e){d[e+"o"]=function(t,n){return o(n[e](t))}}),["MMM","MMMM"].forEach(function(e){d["Do "+e]=function(t,n){var r=1===t.getDate()?"Do":"D";return(d[r]||n[r])(t,n)+" "+d[e](t)}}),{formatters:d,formattingTokensRegExp:a(d)}}function o(e){return 1===e?"1er":e+"e"}function i(e){return 1===e?"1re":e+"e"}var a=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?r.addSuffix?r.comparison>0?t[e].one.withPrepositionIn:t[e].one.withPrepositionAgo:t[e].one.standalone:n%10>1&&n%10<5&&"1"!==String(n).substr(-2,1)?t[e].dual.replace("{{count}}",n):t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"za "+o:"prije "+o:o}var t={lessThanXSeconds:{one:{standalone:"manje od 1 sekunde",withPrepositionAgo:"manje od 1 sekunde",withPrepositionIn:"manje od 1 sekundu"},dual:"manje od {{count}} sekunde",other:"manje od {{count}} sekundi"},xSeconds:{one:{standalone:"1 sekunda",withPrepositionAgo:"1 sekunde",withPrepositionIn:"1 sekundu"},dual:"{{count}} sekunde",other:"{{count}} sekundi"},halfAMinute:"pola minute",lessThanXMinutes:{one:{standalone:"manje od 1 minute",withPrepositionAgo:"manje od 1 minute",withPrepositionIn:"manje od 1 minutu"},dual:"manje od {{count}} minute",other:"manje od {{count}} minuta"},xMinutes:{one:{standalone:"1 minuta",withPrepositionAgo:"1 minute",withPrepositionIn:"1 minutu"},dual:"{{count}} minute",other:"{{count}} minuta"},aboutXHours:{one:{standalone:"oko 1 sat",withPrepositionAgo:"oko 1 sat",withPrepositionIn:"oko 1 sat"},dual:"oko {{count}} sata",other:"oko {{count}} sati"},xHours:{one:{standalone:"1 sat",withPrepositionAgo:"1 sat",withPrepositionIn:"1 sat"},dual:"{{count}} sata",other:"{{count}} sati"},xDays:{one:{standalone:"1 dan",withPrepositionAgo:"1 dan",withPrepositionIn:"1 dan"},dual:"{{count}} dana",other:"{{count}} dana"},aboutXMonths:{one:{standalone:"oko 1 mjesec",withPrepositionAgo:"oko 1 mjesec",withPrepositionIn:"oko 1 mjesec"},dual:"oko {{count}} mjeseca",other:"oko {{count}} mjeseci"},xMonths:{one:{standalone:"1 mjesec",withPrepositionAgo:"1 mjesec",withPrepositionIn:"1 mjesec"},dual:"{{count}} mjeseca",other:"{{count}} mjeseci"},aboutXYears:{one:{standalone:"oko 1 godinu",withPrepositionAgo:"oko 1 godinu",withPrepositionIn:"oko 1 godinu"},dual:"oko {{count}} godine",other:"oko {{count}} godina"},xYears:{one:{standalone:"1 godina",withPrepositionAgo:"1 godine",withPrepositionIn:"1 godinu"},dual:"{{count}} godine",other:"{{count}} godina"},overXYears:{one:{standalone:"preko 1 godinu",withPrepositionAgo:"preko 1 godinu",withPrepositionIn:"preko 1 godinu"},dual:"preko {{count}} godine",other:"preko {{count}} godina"},almostXYears:{one:{standalone:"gotovo 1 godinu",withPrepositionAgo:"gotovo 1 godinu",withPrepositionIn:"gotovo 1 godinu"},dual:"gotovo {{count}} godine",other:"gotovo {{count}} godina"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["sij","velj","ou","tra","svi","lip","srp","kol","ruj","lis","stu","pro"],t=["sijeanj","veljaa","oujak","travanj","svibanj","lipanj","srpanj","kolovoz","rujan","listopad","studeni","prosinac"],n=["sijenja","veljae","oujka","travnja","svibnja","lipnja","srpnja","kolovoza","rujna","listopada","studenog","prosinca"],r=["ne","po","ut","sr","e","pe","su"],a=["ned","pon","uto","sri","et","pet","sub"],u=["nedjelja","ponedjeljak","utorak","srijeda","etvrtak","petak","subota"],s=["ujutro","popodne"],c=["ujutro","popodne"],l=["ujutro","popodne"],d={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return r[e.getDay()]},ddd:function(e){return a[e.getDay()]},dddd:function(e){return u[e.getDay()]},A:function(e){return e.getHours()/12>=1?s[1]:s[0]},a:function(e){return e.getHours()/12>=1?c[1]:c[0]},aa:function(e){return e.getHours()/12>=1?l[1]:l[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){d[e+"o"]=function(t,n){return o(n[e](t))}}),["D","Do","DD"].forEach(function(e){d[e+" MMM"]=function(t,r){return(d[e]||r[e])(t,r)+" "+n[t.getMonth()]}}),{formatters:d,formattingTokensRegExp:i(d)}}function o(e){return e+"."}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?""+o:o+"":o}var t={lessThanXSeconds:{one:"kevesebb, mint egy msodperce",other:"kevesebb, mint {{count}} msodperce"},xSeconds:{one:"1 msodperce",other:"{{count}} msodperce"},halfAMinute:"fl perce",lessThanXMinutes:{one:"kevesebb, mint egy perce",other:"kevesebb, mint {{count}} perce"},xMinutes:{one:"1 perce",other:"{{count}} perce"},aboutXHours:{one:"kzel 1 rja",other:"kzel {{count}} rja"},xHours:{one:"1 rja",other:"{{count}} rja"},xDays:{one:"1 napja",other:"{{count}} napja"},aboutXMonths:{one:"kzel 1 hnapja",other:"kzel {{count}} hnapja"},xMonths:{one:"1 hnapja",other:"{{count}} hnapja"},aboutXYears:{one:"kzel 1 ve",other:"kzel {{count}} ve"},xYears:{one:"1 ve",other:"{{count}} ve"},overXYears:{one:"tbb, mint 1 ve",other:"tbb, mint {{count}} ve"},almostXYears:{one:"majdnem 1 ve",other:"majdnem {{count}} ve"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["Jan","Feb","Mr","pr","Mj","Jn","Jl","Aug","Sze","Okt","Nov","Dec"],t=["Janur","Februr","Mrcius","prilis","Mjus","Jnius","Jlius","Augusztus","Szeptember","Oktber","November","December"],n=["Va","H","Ke","Sze","Cs","P","Szo"],r=["Vas","Ht","Ked","Sze","Cs","Pn","Szo"],a=["Vasrnap","Htf","Kedd","Szerda","Cstrtk","Pntek","Szombat"],u=["DE","DU"],s=["de","du"],c=["dleltt","dlutn"],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"dalam waktu "+o:o+" yang lalu":o}var t={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],t=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],n=["Mi","Sn","Sl","Ra","Ka","Ju","Sa"],r=["Min","Sen","Sel","Rab","Kam","Jum","Sab"],a=["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){switch(e){case 1:return"pertama";case 2:return"kedua";case 3:return"ketiga";default:return"ke-"+e}}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?" "+o:o+" san":o}var t={lessThanXSeconds:{one:"minna en 1 seknda",other:"minna en {{count}} sekndur"},xSeconds:{one:"1 seknda",other:"{{count}} sekndur"},halfAMinute:"hlf mnta",lessThanXMinutes:{one:"minna en 1 mnta",other:"minna en {{count}} mntur"},xMinutes:{one:"1 mnta",other:"{{count}} mntur"},aboutXHours:{one:"u..b. 1 klukkustund",other:"u..b. {{count}} klukkustundir"},xHours:{one:"1 klukkustund",other:"{{count}} klukkustundir"},xDays:{one:"1 dagur",other:"{{count}} dagar"},aboutXMonths:{one:"u..b. 1 mnuur",other:"u..b. {{count}} mnuir"},xMonths:{one:"1 mnuur",other:"{{count}} mnuir"},aboutXYears:{one:"u..b. 1 r",other:"u..b. {{count}} r"},xYears:{one:"1 r",other:"{{count}} r"},overXYears:{one:"meira en 1 r",other:"meira en {{count}} r"},almostXYears:{one:"nstum 1 r",other:"nstum {{count}} r"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["jan","feb","mar","apr","ma","jn","jl","g","sep","okt","nv","des"],t=["janar","febrar","mars","aprl","ma","jn","jl","gst","september","oktber","nvember","desember"],n=["su","m","r","mi","fi","f","la"],r=["sun","mn","ri","mi","fim","fs","lau"],a=["sunnudaginn","mnudaginn","rijudaginn","mivikudaginn","fimmtudaginn","fstudaginn","laugardaginn"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return""+e}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"tra "+o:o+" fa":o}var t={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"pi di un anno",other:"pi di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],t=["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],n=["do","lu","ma","me","gi","ve","sa"],r=["dom","lun","mar","mer","gio","ven","sab"],a=["domenica","luned","marted","mercoled","gioved","venerd","sabato"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e+""}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?o+"":o+"":o}var t={lessThanXSeconds:{one:"1",other:"{{count}}"},xSeconds:{one:"1",other:"{{count}}"},halfAMinute:"30",lessThanXMinutes:{one:"1",other:"{{count}}"},xMinutes:{one:"1",other:"{{count}}"},aboutXHours:{one:"1",other:"{{count}}"},xHours:{one:"1",other:"{{count}}"},xDays:{one:"1",other:"{{count}}"},aboutXMonths:{one:"1",other:"{{count}}"},xMonths:{one:"1",other:"{{count}}"},aboutXYears:{one:"1",other:"{{count}}"},xYears:{one:"1",other:"{{count}}"},overXYears:{one:"1",other:"{{count}}"},almostXYears:{one:"1",other:"{{count}}"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["1","2","3","4","5","6","7","8","9","10","11","12"],t=["","","","","","","","","","","",""],n=["","","","","","",""],r=["","","","","","",""],a=["","","","","","",""],u=["",""],s=["",""],c=["",""],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e+""}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?o+" ":o+" ":o}var t={lessThanXSeconds:{one:"1 ",other:"{{count}} "},xSeconds:{one:"1",other:"{{count}}"},halfAMinute:"30",lessThanXMinutes:{one:"1 ",other:"{{count}} "},xMinutes:{one:"1",other:"{{count}}"},aboutXHours:{one:" 1",other:" {{count}}"},xHours:{one:"1",other:"{{count}}"},xDays:{one:"1",other:"{{count}}"},aboutXMonths:{one:" 1",other:" {{count}}"},xMonths:{one:"1",other:"{{count}}"},aboutXYears:{one:" 1",other:" {{count}}"},xYears:{one:"1",other:"{{count}}"},overXYears:{one:"1 ",other:"{{count}} "},almostXYears:{one:" 1",other:" {{count}}"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["1","2","3","4","5","6","7","8","9","10","11","12"],t=["1","2","3","4","5","6","7","8","9","10","11","12"],n=["","","","","","",""],r=["","","","","","",""],a=["","","","","","",""],u=["",""],s=["",""],c=["",""],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e+""}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?" "+o:" "+o:o}var t={lessThanXSeconds:{one:"  ",other:"  {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",other:"  {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xHours:{one:"1 ",other:"{{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:"  1 ",other:"  {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["","","","","","","","","","","",""],t=["","","","","","","","","","","",""],n=["","","","","","",""],r=["","","","","","",""],a=["","","","","","",""],u=["",""],s={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?u[1]:u[0]},aa:function(e){return e.getHours()/12>=1?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){s[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:s,formattingTokensRegExp:i(s)}}function o(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"-";case 2:return e+"-";case 7:case 8:return e+"-"}return e+"-"}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"om "+o:o+" siden":o}var t={lessThanXSeconds:{one:"mindre enn ett sekund",other:"mindre enn {{count}} sekunder"},xSeconds:{one:"ett sekund",other:"{{count}} sekunder"},halfAMinute:"et halvt minutt",lessThanXMinutes:{one:"mindre enn ett minutt",other:"mindre enn {{count}} minutter"},xMinutes:{one:"ett minutt",other:"{{count}} minutter"},aboutXHours:{one:"rundt en time",other:"rundt {{count}} timer"},xHours:{one:"en time",other:"{{count}} timer"},xDays:{one:"en dag",other:"{{count}} dager"},aboutXMonths:{one:"rundt en mned",other:"rundt {{count}} mneder"},xMonths:{one:"en mned",other:"{{count}} mneder"},aboutXYears:{one:"rundt ett r",other:"rundt {{count}} r"},xYears:{one:"ett r",other:"{{count}} r"},overXYears:{one:"over ett r",other:"over {{count}} r"},almostXYears:{one:"nesten ett r",other:"nesten {{count}} r"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["jan.","feb.","mars","april","mai","juni","juli","aug.","sep.","okt.","nov.","des."],t=["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],n=["s","ma","ti","on","to","fr","l"],r=["s.","ma.","ti.","on.","to.","fr.","l."],a=["sndag","mandag","tirsdag","onsdag","torsdag","fredag","lrdag"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e+"."}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"over "+o:o+" geleden":o}var t={lessThanXSeconds:{one:"minder dan een seconde",other:"minder dan {{count}} seconden"},xSeconds:{one:"1 seconde",other:"{{count}} seconden"},halfAMinute:"een halve minuut",lessThanXMinutes:{one:"minder dan een minuut",other:"minder dan {{count}} minuten"},xMinutes:{one:"een minuut",other:"{{count}} minuten"},aboutXHours:{one:"ongeveer 1 uur",other:"ongeveer {{count}} uur"},xHours:{one:"1 uur",other:"{{count}} uur"},xDays:{one:"1 dag",other:"{{count}} dagen"},aboutXMonths:{one:"ongeveer 1 maand",other:"ongeveer {{count}} maanden"},xMonths:{one:"1 maand",other:"{{count}} maanden"},aboutXYears:{one:"ongeveer 1 jaar",other:"ongeveer {{count}} jaar"},xYears:{one:"1 jaar",other:"{{count}} jaar"},overXYears:{one:"meer dan 1 jaar",other:"meer dan {{count}} jaar"},almostXYears:{one:"bijna 1 jaar",other:"bijna {{count}} jaar"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["jan","feb","mar","apr","mei","jun","jul","aug","sep","okt","nov","dec"],t=["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],n=["zo","ma","di","wo","do","vr","za"],r=["zon","maa","din","woe","don","vri","zat"],a=["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e+"e"}var i=n(2);e.exports=r},function(e,t){function n(e,t){if(1===t)return e.one;var n=t%100;if(n<=20&&n>10)return e.other;var r=n%10;return r>=2&&r<=4?e.twoFour:e.other}function r(e,t,r){r=r||"regular";var o=n(e,t);return(o[r]||o).replace("{{count}}",t)}function o(){function e(e,n,o){o=o||{};var i=t[e];return o.addSuffix?o.comparison>0?"za "+r(i,n,"future"):r(i,n,"past")+" temu":r(i,n)}var t={lessThanXSeconds:{one:{regular:"mniej ni sekunda",past:"mniej ni sekund",future:"mniej ni sekund"},twoFour:"mniej ni {{count}} sekundy",other:"mniej ni {{count}} sekund"},xSeconds:{one:{regular:"sekunda",past:"sekund",future:"sekund"},twoFour:"{{count}} sekundy",other:"{{count}} sekund"},halfAMinute:{one:"p minuty",twoFour:"p minuty",other:"p minuty"},lessThanXMinutes:{one:{regular:"mniej ni minuta",past:"mniej ni minut",future:"mniej ni minut"},twoFour:"mniej ni {{count}} minuty",other:"mniej ni {{count}} minut"},xMinutes:{one:{regular:"minuta",past:"minut",future:"minut"},twoFour:"{{count}} minuty",other:"{{count}} minut"},aboutXHours:{one:{regular:"okoo godzina",past:"okoo godziny",future:"okoo godzin"},twoFour:"okoo {{count}} godziny",other:"okoo {{count}} godzin"},xHours:{one:{regular:"godzina",past:"godzin",future:"godzin"},twoFour:"{{count}} godziny",other:"{{count}} godzin"},xDays:{one:{regular:"dzie",past:"dzie",future:"1 dzie"},twoFour:"{{count}} dni",other:"{{count}} dni"},aboutXMonths:{one:"okoo miesic",twoFour:"okoo {{count}} miesice",other:"okoo {{count}} miesicy"},xMonths:{one:"miesic",twoFour:"{{count}} miesice",other:"{{count}} miesicy"},aboutXYears:{one:"okoo rok",twoFour:"okoo {{count}} lata",other:"okoo {{count}} lat"},xYears:{one:"rok",twoFour:"{{count}} lata",other:"{{count}} lat"},overXYears:{one:"ponad rok",twoFour:"ponad {{count}} lata",other:"ponad {{count}} lat"},almostXYears:{one:"prawie rok",twoFour:"prawie {{count}} lata",other:"prawie {{count}} lat"}};return{localize:e}}e.exports=o},function(e,t,n){function r(){var e=["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa","lis","gru"],t=["stycze","luty","marzec","kwiecie","maj","czerwiec","lipiec","sierpie","wrzesie","padziernik","listopad","grudzie"],n=["nd","pn","wt","r","cz","pt","sb"],r=["niedz.","pon.","wt.","r.","czw.","pit.","sob."],i=["niedziela","poniedziaek","wtorek","roda","czwartek","pitek","sobota"],a=["w nocy","rano","po poudniu","wieczorem"],u={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return i[e.getDay()]},A:function(e){var t=e.getHours();return t>=17?a[3]:t>=12?a[2]:t>=4?a[1]:a[0]}};return u.a=u.A,u.aa=u.A,["M","D","DDD","d","Q","W"].forEach(function(e){u[e+"o"]=function(t,n){return n[e](t).toString()}}),{formatters:u,formattingTokensRegExp:o(u)}}var o=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"daqui a "+o:"h "+o:o}var t={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"aproximadamente 1 hora",other:"aproximadamente {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXMonths:{one:"aproximadamente 1 ms",other:"aproximadamente {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"aproximadamente 1 ano",other:"aproximadamente {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],t=["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],n=["do","se","te","qa","qi","se","sa"],r=["dom","seg","ter","qua","qui","sex","sb"],a=["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e+""}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"n "+o:o+" n urm":o}var t={lessThanXSeconds:{one:"mai puin de o secund",other:"mai puin de {{count}} secunde"},xSeconds:{one:"1 secund",other:"{{count}} secunde"},halfAMinute:"jumtate de minut",lessThanXMinutes:{one:"mai puin de un minut",other:"mai puin de {{count}} minute"},xMinutes:{one:"1 minut",other:"{{count}} minute"},aboutXHours:{one:"circa 1 or",other:"circa {{count}} ore"},xHours:{one:"1 or",other:"{{count}} ore"},xDays:{one:"1 zi",other:"{{count}} zile"},aboutXMonths:{one:"circa 1 lun",other:"circa {{count}} luni"},xMonths:{one:"1 lun",other:"{{count}} luni"},aboutXYears:{one:"circa 1 an",other:"circa {{count}} ani"},xYears:{one:"1 an",other:"{{count}} ani"},overXYears:{one:"peste 1 an",other:"peste {{count}} ani"},almostXYears:{one:"aproape 1 an",other:"aproape {{count}} ani"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["ian","feb","mar","apr","mai","iun","iul","aug","sep","oct","noi","dec"],t=["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"],n=["du","lu","ma","mi","jo","vi","s"],r=["dum","lun","mar","mie","joi","vin","sm"],a=["duminic","luni","mari","miercuri","joi","vineri","smbta"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e.toString()}var i=n(2);e.exports=r},function(e,t){function n(e,t){if(void 0!==e.one&&1===t)return e.one;var n=t%10,r=t%100;return 1===n&&11!==r?e.singularNominative.replace("{{count}}",t):n>=2&&n<=4&&(r<10||r>20)?e.singularGenitive.replace("{{count}}",t):e.pluralGenitive.replace("{{count}}",t)}function r(e){return function(t,r){return r.addSuffix?r.comparison>0?e.future?n(e.future,t):" "+n(e.regular,t):e.past?n(e.past,t):n(e.regular,t)+" ":n(e.regular,t)}}function o(){function e(e,n,r){return r=r||{},t[e](n,r)}var t={lessThanXSeconds:r({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xSeconds:r({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),halfAMinute:function(e,t){return t.addSuffix?t.comparison>0?" ":" ":""},lessThanXMinutes:r({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xMinutes:r({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),aboutXHours:r({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xHours:r({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),xDays:r({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXMonths:r({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xMonths:r({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXYears:r({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xYears:r({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),overXYears:r({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),almostXYears:r({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}})};return{localize:e}}e.exports=o},function(e,t,n){function r(){var e=[".",".","",".","","","",".",".",".",".","."],t=["","","","","","","","","","","",""],n=["","","","","","","","","","","",""],r=["","","","","","",""],i=["","","","","","",""],a=["","","","","","",""],u=["","","",""],s={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return r[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){var t=e.getHours();return t>=17?u[3]:t>=12?u[2]:t>=4?u[1]:u[0]},Do:function(e,t){return t.D(e)+"-"},Wo:function(e,t){return t.W(e)+"-"}};return s.a=s.A,s.aa=s.A,["M","DDD","d","Q"].forEach(function(e){s[e+"o"]=function(t,n){return n[e](t)+"-"}}),["D","Do","DD"].forEach(function(e){s[e+" MMMM"]=function(t,r){return(s[e]||r[e])(t,r)+" "+n[t.getMonth()]}}),{formatters:s,formattingTokensRegExp:o(s)}}var o=n(2);e.exports=r},function(e,t){function n(e,t){return 1===t?e.one:t>=2&&t<=4?e.twoFour:e.other}function r(e,t,r){var o=n(e,t);return(o[r]||o).replace("{{count}}",t)}function o(e){return["lessThan","about","over","almost"].filter(function(t){return!!e.match(new RegExp("^"+t))})[0]}function i(e){var t="";return"almost"===e&&(t="takmer"),"about"===e&&(t="pribline"),t.length>0?t+" ":""}function a(e){var t="";return"lessThan"===e&&(t="menej ne"),"over"===e&&(t="viac ne"),t.length>0?t+" ":""}function u(e){return e.charAt(0).toLowerCase()+e.slice(1)}function s(){function e(e,n,s){s=s||{};var c=o(e)||"",l=u(e.substring(c.length)),d=t[l];return s.addSuffix?s.comparison>0?i(c)+"za "+a(c)+r(d,n,"future"):i(c)+"pred "+a(c)+r(d,n,"past"):i(c)+a(c)+r(d,n,"regular")}var t={xSeconds:{one:{regular:"sekunda",past:"sekundou",future:"sekundu"},twoFour:{regular:"{{count}} sekundy",past:"{{count}} sekundami",future:"{{count}} sekundy"},other:{regular:"{{count}} seknd",past:"{{count}} sekundami",future:"{{count}} seknd"}},halfAMinute:{other:{regular:"pol minty",past:"pol mintou",future:"pol minty"}},xMinutes:{one:{regular:"minta",past:"mintou",future:"mintu"},twoFour:{regular:"{{count}} minty",past:"{{count}} mintami",future:"{{count}} minty"},other:{regular:"{{count}} mint",past:"{{count}} mintami",future:"{{count}} mint"}},xHours:{one:{regular:"hodina",past:"hodinou",future:"hodinu"},twoFour:{regular:"{{count}} hodiny",past:"{{count}} hodinami",future:"{{count}} hodiny"},other:{regular:"{{count}} hodn",past:"{{count}} hodinami",future:"{{count}} hodn"}},xDays:{one:{regular:"de",past:"dom",future:"de"},twoFour:{regular:"{{count}} dni",past:"{{count}} dami",future:"{{count}} dni"},other:{regular:"{{count}} dn",past:"{{count}} dami",future:"{{count}} dn"}},xMonths:{one:{regular:"mesiac",past:"mesiacom",future:"mesiac"},twoFour:{regular:"{{count}} mesiace",past:"{{count}} mesiacmi",future:"{{count}} mesiace"},other:{regular:"{{count}} mesiacov",past:"{{count}} mesiacmi",future:"{{count}} mesiacov"}},xYears:{one:{regular:"rok",past:"rokom",future:"rok"},twoFour:{regular:"{{count}} roky",past:"{{count}} rokmi",future:"{{count}} roky"},other:{regular:"{{count}} rokov",past:"{{count}} rokmi",future:"{{count}} rokov"}}};return{localize:e}}e.exports=s},function(e,t,n){function r(){var e=["jan","feb","mar","apr","mj","jn","jl","aug","sep","okt","nov","dec"],t=["janur","februr","marec","aprl","mj","jn","jl","august","september","oktber","november","december"],n=["ne","po","ut","st","t","pi","so"],r=["ne","pon","uto","str","tv","pia","sob"],a=["nedea","pondelok","utorok","streda","tvrtok","piatok","sobota"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e+"."}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:2===n?t[e].two:3===n||4===n?t[e].three.replace("{{count}}",n):t[e].other.replace("{{count}}",n),r.addSuffix?(o=o.replace(/(minut|sekund|ur)(a)/,"$1o"),"xMonths"===e&&(o=o.replace(/(mesec)(i)/,"$1e")),r.comparison>0?"ez "+o:o+" nazaj"):o}var t={lessThanXSeconds:{one:"manj kot sekunda",two:"manj kot 2 sekundi",three:"manj kot {{count}} sekunde",other:"manj kot {{count}} sekund"},xSeconds:{one:"1 sekunda",two:"2 sekundi",three:"{{count}} sekunde",other:"{{count}} sekund"},halfAMinute:"pol minute",lessThanXMinutes:{one:"manj kot minuta",two:"manj kot 2 minuti",three:"manj kot {{count}} minute",other:"manj kot {{count}} minut"},xMinutes:{one:"1 minuta",two:"2 minuti",three:"{{count}} minute",other:"{{count}} minut"},aboutXHours:{one:"priblino 1 ura",two:"priblino 2 uri",three:"priblino {{count}} ure",other:"priblino {{count}} ur"},xHours:{one:"1 ura",two:"2 uri",three:"{{count}} ure",other:"{{count}} ur"},xDays:{one:"1 dan",two:"2 dni",three:"{{count}} dni",other:"{{count}} dni"},aboutXMonths:{one:"priblino 1 mesec",two:"priblino 2 meseca",three:"priblino {{count}} mesece",other:"priblino {{count}} mesecev"},xMonths:{one:"1 mesec",two:"2 meseca",three:"{{count}} meseci",other:"{{count}} mesecev"},aboutXYears:{one:"priblino 1 leto",two:"priblino 2 leti",three:"priblino {{count}} leta",other:"priblino {{count}} let"},xYears:{one:"1 leto",two:"2 leti",three:"{{count}} leta",other:"{{count}} let"},overXYears:{one:"ve kot 1 leto",two:"ve kot 2 leti",three:"ve kot {{count}} leta",other:"ve kot {{count}} let"},almostXYears:{one:"skoraj 1 leto",two:"skoraj 2 leti",three:"skoraj {{count}} leta",other:"skoraj {{count}} let"}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["jan","feb","mar","apr","maj","jun","jul","avg","sep","okt","nov","dec"],t=["januar","februar","marec","april","maj","junij","julij","avgust","september","oktober","november","december"],n=["ne","po","to","sr","e","pe","so"],r=["ned","pon","tor","sre","et","pet","sob"],a=["nedelja","ponedeljek","torek","sreda","etrtek","petek","sobota"],u=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e+"."}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,r,o){o=o||{};var i,a=t[e];return i="string"==typeof a?a:0===r||r>1?a.plural.replace("{{count}}",r<13?n[r]:r):a.singular,o.addSuffix?o.comparison>0?"om "+i:i+" sedan":i}var t={lessThanXSeconds:{singular:"mindre n en sekund",plural:"mindre n {{count}} sekunder"},xSeconds:{singular:"en sekund",plural:"{{count}} sekunder"},halfAMinute:"en halv minut",lessThanXMinutes:{singular:"mindre n en minut",plural:"mindre n {{count}} minuter"},xMinutes:{singular:"en minut",plural:"{{count}} minuter"},aboutXHours:{singular:"ungefr en timme",plural:"ungefr {{count}} timmar"},xHours:{singular:"en timme",plural:"{{count}} timmar"},xDays:{singular:"en dag",plural:"{{count}} dagar"},aboutXMonths:{singular:"ungefr en mnad",plural:"ungefr {{count}} mnader"},xMonths:{singular:"en mnad",plural:"{{count}} mnader"},aboutXYears:{singular:"ungefr ett r",plural:"ungefr {{count}} r"},xYears:{singular:"ett r",plural:"{{count}} r"},overXYears:{singular:"ver ett r",plural:"ver {{count}} r"},almostXYears:{singular:"nstan ett r",plural:"nstan {{count}} r"}},n=["noll","en","tv","tre","fyra","fem","sex","sju","tta","nio","tio","elva","tolv"];return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],t=["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],n=["s","m","ti","on","to","fr","l"],r=["sn","mn","tis","ons","tor","fre","lr"],a=["sndag","mndag","tisdag","onsdag","torsdag","fredag","lrdag"],u=["f.m.","e.m."],s={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},aa:function(e){return e.getHours()/12>=1?u[1]:u[0]}};return s.A=s.aa,s.a=s.aa,["M","D","DDD","d","Q","W"].forEach(function(e){s[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:s,formattingTokensRegExp:i(s)}}function o(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:case 2:return e+":a"}return e+":e"}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"halfAMinute"===e?""+o:" "+o:o+"":o}var t={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xHours:{one:"1 ",other:"{{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["..","..","..","..","..","..","..","..","..","..","..",".."],t=["","","","","","","","","","","",""],n=[".",".",".",".",".",".","."],r=[".",".",".",".",".",".","."],i=["","","","","","",""],a=["."],u=["."],s=[""],c={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return i[e.getDay()]},A:function(e){return a[0]},a:function(e){return u[0]},aa:function(e){return s[0]}};return{formatters:c,formattingTokensRegExp:o(c)}}var o=n(2);e.exports=r},function(e,t){function n(){function e(e,r,o){o=o||{};var i;if(i="string"==typeof t[e]?t[e]:1===r?t[e].one:t[e].other.replace("{{count}}",r),o.addSuffix){var a="";return n.indexOf(e)>-1&&(a=" bir sre"),o.comparison>0?i+a+" iinde":i+a+" nce"}return i}var t={lessThanXSeconds:{one:"bir saniyeden az",other:"{{count}} saniyeden az"},xSeconds:{one:"1 saniye",other:"{{count}} saniye"},halfAMinute:"yarm dakika",lessThanXMinutes:{one:"bir dakikadan az",other:"{{count}} dakikadan az"},xMinutes:{one:"1 dakika",other:"{{count}} dakika"},aboutXHours:{one:"yaklak 1 saat",other:"yaklak {{count}} saat"},xHours:{one:"1 saat",other:"{{count}} saat"},xDays:{one:"1 gn",other:"{{count}} gn"},aboutXMonths:{one:"yaklak 1 ay",other:"yaklak {{count}} ay"},xMonths:{one:"1 ay",other:"{{count}} ay"},aboutXYears:{one:"yaklak 1 yl",other:"yaklak {{count}} yl"},xYears:{one:"1 yl",other:"{{count}} yl"},overXYears:{one:"1 yldan fazla",other:"{{count}} yldan fazla"},almostXYears:{one:"neredeyse 1 yl",other:"neredeyse {{count}} yl"}},n=["lessThanXSeconds","lessThanXMinutes","overXYears"];return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["Oca","ub","Mar","Nis","May","Haz","Tem","Au","Eyl","Eki","Kas","Ara"],t=["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"],n=["Pz","Pt","Sa","a","Pe","Cu","Ct"],r=["Paz","Pts","Sal","ar","Per","Cum","Cts"],a=["Pazar","Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi"],u=["","S"],s=["","s"],c=["..",".s."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){var t={1:"'inci",2:"'inci",3:"'nc",4:"'nc",5:"'inci",6:"'nc",7:"'inci",8:"'inci",9:"'uncu",10:"'uncu",20:"'inci",30:"'uncu",50:"'inci",60:"'nc",70:"'inci",80:"'inci",90:"'nc",100:"'nc"};if(0===e)return"0'nc";var n=e%10,r=e%100-n,o=e>=100?100:null;return e+(t[n]||t[r]||t[o])}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?o+"":o+"":o}var t={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},xHours:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["1","2","3","4","5","6","7","8","9","10","11","12"],t=["","","","","","","","","","","",""],n=["","","","","","",""],r=["","","","","","",""],a=["","","","","","",""],u=["",""],s={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]}};return s.a=s.aa=s.A=function(e){return e.getHours()/12>=1?u[1]:u[0]},["M","D","DDD","d","Q","W"].forEach(function(e){s[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:s,formattingTokensRegExp:i(s)}}function o(e){return e.toString()}var i=n(2);e.exports=r},function(e,t){function n(){function e(e,n,r){r=r||{};var o;return o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?o+"":o+"":o}var t={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},xHours:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}};return{localize:e}}e.exports=n},function(e,t,n){function r(){var e=["1","2","3","4","5","6","7","8","9","10","11","12"],t=["","","","","","","","","","","",""],n=["","","","","","",""],r=["","","","","","",""],a=["","","","","","",""],u=["AM","PM"],s=["am","pm"],c=["",""],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?u[1]:u[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){l[e+"o"]=function(t,n){return o(n[e](t))}}),{formatters:l,formattingTokensRegExp:i(l)}}function o(e){return e.toString()}var i=n(2);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoBoard=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(128),c=r(s),l=n(0),d=r(l),f=n(633),h=r(f),p=n(7),m=n(636),b=r(m),v=n(270),y=n(84),g=r(y),_=n(131),w=r(_),k=n(3),S=r(k),E=function(){return d.default.createElement("div",{className:c.default["pho-list-spinner"]})},x=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={fetching:!1},n}return a(t,e),u(t,[{key:"handleClick",value:function(){var e=this;this.setState({fetching:!0}),this.props.onClick().then(function(){return e.setState({fetching:!1})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.width;if(!r)return null;var o=this.state.fetching;return d.default.createElement("div",{style:{width:r},className:c.default["pho-list-morebutton"]},o&&d.default.createElement("button",{className:c.default["c-btn"],disabled:!0},d.default.createElement(E,null)),!o&&d.default.createElement("button",{className:(0,S.default)(c.default["c-btn"],c.default["c-btn--secondary"]),onClick:function(){return e.handleClick()}},n))}}]),t}(l.Component),A=t.PhotoBoard=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.t,n=e.lists,r=e.selected,o=e.photosContext,i=e.showSelection,a=e.onPhotoToggle,u=e.onPhotosSelect,s=e.onPhotosUnselect,l=e.fetchStatus,f=e.hasMore,p=e.onFetchMore,m="failed"===l,y="pending"===l||"loading"===l;return m?d.default.createElement(w.default,{errorType:o+"_photos"}):y?d.default.createElement(g.default,{loadingType:"photos_fetching"}):y||0!==n.length&&0!==n[0].photos.length?d.default.createElement(h.default,null,function(e){var o=e.width;e.height;return d.default.createElement("div",{className:i?c.default["pho-list-selection"]:""},n.map(function(e){return d.default.createElement(b.default,{key:e.title,title:e.title,photos:e.photos,selected:r.filter(function(t){return e.photos.find(function(e){return e.id===t})}),showSelection:i,onPhotoToggle:a,onPhotosSelect:u,onPhotosUnselect:s,containerWidth:o})}),f&&d.default.createElement(x,{width:o,onClick:p},t("Board.load_more")))}):d.default.createElement(v.EmptyPhotos,{localeKey:o+"_photos"})}}]),t}(l.Component);t.default=(0,p.translate)()(A)},function(e,t,n){(function(e){!function(t){function n(e,t){if("object"!==o(e))return t;for(var r in t)"object"===o(e[r])&&"object"===o(t[r])?e[r]=n(e[r],t[r]):e[r]=t[r];return e}function r(e,t,r){var a=r[0],u=r.length;(e||"object"!==o(a))&&(a={});for(var s=0;s<u;++s){var c=r[s];if("object"===o(c))for(var l in c){var d=e?i.clone(c[l]):c[l];a[l]=t?n(a[l],d):d}}return a}function o(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}var i=function(e){return r(!0===e,!1,arguments)};i.recursive=function(e){return r(!0===e,!0,arguments)},i.clone=function(e){var t,n,r=e,a=o(e);if("array"===a)for(r=[],n=e.length,t=0;t<n;++t)r[t]=i.clone(e[t]);else if("object"===a){r={};for(t in e)r[t]=i.clone(e[t])}return r},t?e.exports=i:window.merge=i}("object"==typeof e&&e&&"object"==typeof e.exports&&e.exports)}).call(t,n(158)(e))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyTrash=t.EmptyPhotos=t.EmptyDrive=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(130),a=r(i),u=n(0),s=r(u),c=n(7),l=(0,c.translate)()(function(e){var t=e.t,n=e.type,r=e.canUpload,o=e.localeKey;return s.default.createElement("div",{className:a.default["c-empty-"+n]},o?s.default.createElement("div",null,s.default.createElement("h2",null,t("empty."+o+"_title")),s.default.createElement("p",null,t("empty."+o+"_text"))):s.default.createElement("h2",null,t("empty.title")),r&&s.default.createElement("p",null,t("empty.text")))});t.default=l;t.EmptyDrive=function(e){return s.default.createElement(l,o({type:"drive"},e))},t.EmptyPhotos=function(e){return s.default.createElement(l,o({type:"photos"},e))},t.EmptyTrash=(0,c.translate)()(function(e){var t=e.t;return s.default.createElement("div",{className:a.default["c-trash-empty"]},s.default.createElement("h2",null,t("empty.trash.title")),s.default.createElement("p",null,t("empty.trash.text")))})},function(e,t){e.exports={Nav:{photos:"",albums:"",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"  ","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"",album_quit:"Leave & delete shared album",album_download:"",more:"More",menu:{select_items:"Select photos",photo_upload:" ",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:" ",albums_fetching:" ",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:" ",unselect_all:"  "},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"","album-add":"Add to album","album-remove":"Remove from album",download:"",close:""},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"",unregistered:"","mail-not-sent":"",revoked:""},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"  !",desc:"Share anything by email with your family and friends!"},close:"",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"",submit:"  ",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"",actions:{download:""}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"",delete:""}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Fotos",albums:"Alben",shared:"Von mir geteilt",trash:"Mll","btn-client":"Hol dir Cozy auf deinen Desktop!","btn-client-web":"Get Cozy","btn-client-mobile":"Hol dir Cozy Drive auf dein Handy!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"Beim Abrufen der Albumliste ist ein Fehler aufgetreten. Bitte versuche es spter noch einmal.",album_photos_title:"Beim Abrufen der Album-Fotoliste ist ein Fehler aufgetreten. Bitte versuche es spter noch einmal.",timeline_photos_title:"Beim Abrufen der Fotosliste ist ein Fehler aufgetreten. Bitte versuche es spter noch einmal.",public_album_error_title:"Beim Abrufen der Fotosliste ist ein Fehler aufgetreten. Bitte versuche es spter noch einmal.",public_album_unshared_title:"Dieser Link ist leider nicht mehr verfgbar.",public_album_unshared_text:"Eins verloren, zehn gefunden ... oder bitte einfach nur den Besitzer um Hilfe. Diese Datei ist mglicherweise nicht verloren.",refresh:"Jetzt aktualisieren",generic:"Es ist ein Fehler aufgetreten. Versuche es erneut.",album_rename_abort:"Der Albumname darf nicht leer sein."},Toolbar:{photo_upload:"Hochladen",album_new:"Neues Album",album_delete:"Lschen",album_quit:"Leave & delete shared album",album_download:"Herunterladen",more:"Mehr",menu:{select_items:"Fotos auswhlen",photo_upload:"Fotos hochladen",rename_album:"Album umbenennen",album_delete:"Album lschen",album_quit:"Leave & delete shared album",download_album:"Album downloaden",add_photos:"Fotos zum Album hinzufgen"}},Loading:{photos_indexing:"Deine Fotos werden derzeit indiziert. Bitte warte.",albums_indexing:"Deine Alben werden derzeit indiziert. Bitte warte.",photos_fetching:"Lade",albums_fetching:"Lade",photos_upload:"Hochladen"},Board:{load_more:"Lade mehr Fotos",select_all:"Alle auswhlen",unselect_all:"Alle abwhlen"},Alerter:{photos:{fetching_error:"Beim Holen der Fotos ist ein Fehler aufgetreten.",already_added_photo:"Dieses Album enthlt bereits dieses Foto."}},SelectionBar:{selected_count:"Ausgewhltes Foto |||| Ausgewhlte Fotos",delete:"Lschen","album-add":"Zum Album hinzufgen","album-remove":"Aus dem Album entfernen",download:"Herunterladen",close:"Schlieen"},Share:{status:{pending:"Ausstehend",accepted:"Accepted",refused:"Verweigert",error:"Fehler",unregistered:"Fehler","mail-not-sent":"Fehler",revoked:"Fehler"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} Foto |||| %{smart_count} Fotos",album_item_shared_ro:"Geteilt (lesend)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Zum Album hinzufgen",success:"Album %{name} wurde mit %{smart_count} Foto aktualisiert. |||| Album %{name} wurde mit %{smart_count} Fotos aktualisiert.",error:{generic:"Beim Aktualisieren des Albums ist ein Fehler aufgetreten. Bitte versuche es erneut.",reference:"Einige Fotos wurden nicht zum Album hinzugefgt. Bitte berprfe das und versuche es erneut.",response:{Forbidden:"Die Anwendung ist nicht berechtigt, Alben zu aktualisieren."}}},share:{cta:"Teilen",title:"Mit Anderen teilen",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"Mit ffentlichem Link",subtitle:"Teilen per Link",desc:"Jeder kann mit dem Link deine Fotos sehen und herunterladen."},shareByEmail:{title:"per Email",subtitle:"Teilen per Email",email:"Email",emailPlaceholder:"Gib die E-Mail-Adresse oder den Namen Ihres Empfngers ein",send:"Sende",genericSuccess:"You sent an invite to %{count} contacts.",success:"Du hast eine Einladung an %{email} geschickt.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link zum Teilen",copy:"Kopieren",copied:"Kopiert"},whoHasAccess:{title:"Wer hat Zugriff"},protectedShare:{title:"Demnchst!",desc:"Teile etwas per E-Mail mit Familie und Freunden!"},close:"Schlieen",gettingLink:"Deinen Link bekommen ...",error:{generic:"Beim Erstellen des Album-Share-Links ist ein Fehler aufgetreten. Bitte versuche es erneut."}},create:{panel_form:{label:"Fge deinem neuen Album einen Namen hinzu",placeholder:"Unbenanntes Album",cancel:"Abbruch",submit:"Erstelle neues Album",update:"Fotos zum Album hinzufgen"},inline_form:{placeholder:"Neuer Albumname",create_label:"Erstelle ein neues Album",create_button:"Erstelle"},success:"Album %{name} erstellt mit %{smart_count} Foto. |||| Album %{name} erstellt mit %{smart_count} Fotos.",error:{generic:"Beim Erstellen des Albums ist ein Fehler aufgetreten. Bitte versuche es erneut.",already_exists:"Das Album %{name} existiert bereits, bitte whle ein Anderes aus.",name_missing:"Du musst deinem Album einen Namen geben."}},fetchAlbums:{error:{index_missing:"Ein Alben-Index muss bereitgestellt werden, um Alben zu holen."}},remove_photos:{success:"Das Foto wurde aus dem Album %{album_name} entfernt",error:{generic:"Beim Entfernen des Fotos ist ein Fehler aufgetreten. Bitte versuche es erneut."}},remove_album:{success:"Album %{name} wurde gelscht.",error:{generic:"Beim Entfernen des Albums ist ein Fehler aufgetreten. Bitte versuchen Sie es erneut."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Schlieen",actions:{download:"Herunterladen"}},destroyconfirmation:{title:"Dieses Album dauerhaft lschen?",cancel:"Abbruch",delete:"Dauerhaft lschen",forbidden:"Sie knnen nicht mehr auf dieses Album oder die Auswahl zugreifen.",eye:"Deine Fotos werden nicht gelscht.",link:"Wenn du es geteilt hast, knnen die Leute nicht darauf zugreifen."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Dieses Element lschen? |||| Diese Elemente lschen?",trash:"Es wird in den Papierkorb verschoben. |||| Sie werden in den Papierkorb verschoben.",restore:"Du kannst es wiederherstellen wann immer du willst. |||| Du kannst sie wiederherstellen wann immer du willst.",shared:"Wenn du es geteilt hast, knnen die Leute nicht darauf zugreifen. |||| Wenn du sie geteilt hast, knnen die Leute nicht darauf zugreifen.",related:"Einige der Fotos in der Auswahl beziehen sich auf ein Album. Sie werden aus ihm entfernt, wenn du sie lschst.",cancel:"Abbruch",delete:"Entferne"}},UploadQueue:{path:"/Fotos/Hochgeladen von Cozy Fotos",header:"%{smart_count} Foto zu Cozy Fotos hochgeladen. |||| %{smart_count} Fotos zu Cozy Fotos hochgeladen.",header_mobile:"%{done} von %{total} hochgeladen ",header_done:"%{done} von %{total} erfolgreich hochgeladen",close:"Schlieen",item:{pending:"Ausstehend"},alert:{success:"%{smart_count} Foto erfolgreich hochgeladen. |||| %{smart_count} Fotos erfolgreich hochgeladen.",success_conflicts:"%{smart_count} Foto hochgeladen mit %{conflictNumber} Konflikt(en). |||| %{smart_count} Fotos hochgeladen mit %{conflictNumber} Konflikt(en).",errors:"Beim Upload der Fotos sind Fehler aufgetreten."}}}},function(e,t){e.exports={Nav:{photos:"Fotos",albums:"Alben",shared:"Von mir geteilt",trash:"Mll","btn-client":"Hol dir Cozy auf deinen Desktop!","btn-client-web":"Get Cozy","btn-client-mobile":"Hol dir Cozy Drive auf dein Handy!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"Beim Abrufen der Albumliste ist ein Fehler aufgetreten. Bitte versuche es spter noch einmal.",album_photos_title:"Beim Abrufen der Album-Fotoliste ist ein Fehler aufgetreten. Bitte versuche es spter noch einmal.",timeline_photos_title:"Beim Abrufen der Fotosliste ist ein Fehler aufgetreten. Bitte versuche es spter noch einmal.",public_album_error_title:"Beim Abrufen der Fotosliste ist ein Fehler aufgetreten. Bitte versuche es spter noch einmal.",public_album_unshared_title:"Dieser Link ist leider nicht mehr verfgbar.",public_album_unshared_text:"Eins verloren, zehn gefunden ... oder bitte einfach nur den Besitzer um Hilfe. Diese Datei ist mglicherweise nicht verloren.",refresh:"Jetzt aktualisieren",generic:"Es ist ein Fehler aufgetreten. Versuche es erneut.",album_rename_abort:"Es ist ein Fehler aufgetreten. Versuche es erneut."},Toolbar:{photo_upload:"Hochladen",album_new:"Neues Album",album_delete:"Lschen",album_quit:"Leave & delete shared album",album_download:"Herunterladen",more:"Mehr",menu:{select_items:"Fotos auswhlen",photo_upload:"Fotos hochladen",rename_album:"Album umbenennen",album_delete:"Album lschen",album_quit:"Leave & delete shared album",download_album:"Album downloaden",add_photos:"Fotos zum Album hinzufgen"}},Loading:{photos_indexing:"Deine Fotos werden derzeit indiziert. Bitte warte.",albums_indexing:"Deine Alben werden derzeit indiziert. Bitte warte.",photos_fetching:"Lade",albums_fetching:"Lade",photos_upload:"Hochladen"},Board:{load_more:"Lade mehr Fotos",select_all:"Alle auswhlen",unselect_all:"Alle abwhlen"},Alerter:{photos:{fetching_error:"Beim Holen der Fotos ist ein Fehler aufgetreten.",already_added_photo:"Dieses Album enthlt bereits dieses Foto."}},SelectionBar:{selected_count:"Ausgewhltes Foto |||| Ausgewhlte Fotos",delete:"Lschen","album-add":"Zum Album hinzufgen","album-remove":"Aus dem Album entfernen",download:"Herunterladen",close:"Schlieen"},Share:{status:{pending:"Ausstehend",accepted:"Accepted",refused:"Verweigert",error:"Fehler",unregistered:"Fehler","mail-not-sent":"Fehler",revoked:"Fehler"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} Foto |||| %{smart_count} Fotos",album_item_shared_ro:"Geteilt (lesend)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Zum Album hinzufgen",success:"Album %{name} wurde mit %{smart_count} Foto aktualisiert. |||| Album %{name} wurde mit %{smart_count} Fotos aktualisiert.",error:{generic:"Beim Aktualisieren des Albums ist ein Fehler aufgetreten. Bitte versuche es erneut.",reference:"Einige Fotos wurden nicht zum Album hinzugefgt. Bitte berprfe das und versuche es erneut.",response:{Forbidden:"Die Anwendung ist nicht berechtigt, Alben zu aktualisieren."}}},share:{cta:"Teilen",title:"Mit Anderen teilen",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"Mit ffentlichem Link",subtitle:"Teilen per Link",desc:"Jeder kann mit dem Link deine Fotos sehen und herunterladen."},shareByEmail:{title:"per Email",subtitle:"Teilen per Email",email:"Email",emailPlaceholder:"Geben Sie die E-Mail-Adresse oder den Namen Ihres Empfngers ein",send:"Sende",genericSuccess:"You sent an invite to %{count} contacts.",success:"Du hast eine Einladung an %{email} geschickt.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link zum Teilen",copy:"Kopieren",copied:"Kopiert"},whoHasAccess:{title:"Wer hat Zugriff"},protectedShare:{title:"Demnchst!",desc:"Teile etwas per E-Mail mit Familie und Freunden!"},close:"Schlieen",gettingLink:"Deinen Link bekommen ...",error:{generic:"Beim Erstellen des Album-Share-Links ist ein Fehler aufgetreten. Bitte versuche es erneut."}},create:{panel_form:{label:"Fge deinem neuen Album einen Namen hinzu",placeholder:"Unbenanntes Album",cancel:"Abbruch",submit:"Erstelle neues Album",update:"Fotos zum Album hinzufgen"},inline_form:{placeholder:"Neuer Albumname",create_label:"Erstelle ein neues Album",create_button:"Erstelle"},success:"Album %{name} erstellt mit %{smart_count} Foto. |||| Album %{name} erstellt mit %{smart_count} Fotos.",error:{generic:"Beim Erstellen des Albums ist ein Fehler aufgetreten. Bitte versuche es erneut.",already_exists:"Das Album %{name} existiert bereits, bitte whle ein Anderes aus.",name_missing:"Du musst deinem Album einen Namen geben."}},fetchAlbums:{error:{index_missing:"Ein Alben-Index muss bereitgestellt werden, um Alben zu holen."}},remove_photos:{success:"Das Foto wurde aus dem Album %{album_name} entfernt",error:{generic:"Beim Entfernen des Fotos ist ein Fehler aufgetreten. Bitte versuche es erneut."}},remove_album:{success:"Album %{name} wurde gelscht.",error:{generic:"Beim Entfernen des Albums ist ein Fehler aufgetreten. Bitte versuchen Sie es erneut."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Schlieen",actions:{download:"Herunterladen"}},destroyconfirmation:{title:"Dieses Album dauerhaft lschen?",cancel:"Abbruch",delete:"Dauerhaft lschen",forbidden:"Sie knnen nicht mehr auf dieses Album oder die Auswahl zugreifen.",eye:"Deine Fotos werden nicht gelscht.",link:"Wenn du es geteilt hast, knnen die Leute nicht darauf zugreifen."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Dieses Element lschen? |||| Diese Elemente lschen?",trash:"Es wird in den Papierkorb verschoben. |||| Sie werden in den Papierkorb verschoben.",restore:"Du kannst es wiederherstellen wann immer du willst. |||| Du kannst sie wiederherstellen wann immer du willst.",shared:"Wenn du es geteilt hast, knnen die Leute nicht darauf zugreifen. |||| Wenn du sie geteilt hast, knnen die Leute nicht darauf zugreifen.",related:"Einige der Fotos in der Auswahl beziehen sich auf ein Album. Sie werden aus ihm entfernt, wenn du sie lschst.",cancel:"Abbruch",delete:"Entferne"}},UploadQueue:{path:"/Fotos/Hochgeladen von Cozy Fotos",header:"%{smart_count} Foto zu Cozy Fotos hochgeladen. |||| %{smart_count} Fotos zu Cozy Fotos hochgeladen.",header_mobile:"%{done} von %{total} hochgeladen ",header_done:"%{done} von %{total} erfolgreich hochgeladen",close:"Schlieen",item:{pending:"Ausstehend"},alert:{success:"%{smart_count} Foto erfolgreich hochgeladen. |||| %{smart_count} Fotos erfolgreich hochgeladen.",success_conflicts:"%{smart_count} Foto hochgeladen mit %{conflictNumber} Konflikt(en). |||| %{smart_count} Fotos hochgeladen mit %{conflictNumber} Konflikt(en).",errors:"Beim Upload der Fotos sind Fehler aufgetreten."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Fotos",albums:"lbumes",shared:"Yo lo compart",trash:"Papelera","btn-client":"Descargar Cozy desktop","btn-client-web":"Descargar Cozy","btn-client-mobile":"Descargar Cozy Drive a su celular","banner-txt-client":"Consejo: sus imgenes, facturas, documentos de identidad, todo accesible al mismo tiempo desde cualquier perifrico con Cozy Drive instalado en su ordenador","banner-btn-client":"Descargar ahora","link-client":"https://docs.cozy.io/es/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"Ha ocurrido un error al recuperar la lista de lbumes, por favor vuelva a ensayar ms tarde.",album_photos_title:"Ha ocurrido un error al recuperar la lista de lbumes de fotos. Por favor vuelva a ensayar ms tarde.",timeline_photos_title:"Ha ocurrido un error al recuperar la lista de fotos. Por favor vuelva a ensayar ms tarde.",public_album_error_title:"Ha ocurrido un error al recuperar la lista de fotos. Por favor vuelva a ensayar ms tarde.",public_album_unshared_title:"Lo sentimos, este enlace no es ms vlido.",public_album_unshared_text:"Uno perdido, diez encontrados...pdale ayuda al propietario. Qizs el archivo no est perdido.",refresh:"Refrescar ahora",generic:"Ha ocurrido un error, por favor vuelva a ensayar.",album_rename_abort:"El nombre del lbum no puede estar vaco."},Toolbar:{photo_upload:"Cargar",album_new:"Nuevo album",album_delete:"Borrar",album_quit:"Abandonar & borrar el lbum compartido",album_download:"Descargar",more:"Ms",menu:{select_items:"Seleccionar fotos",photo_upload:"Cargar fotos",rename_album:"Cambiar de nombre al lbum",album_delete:"Borrar el lbum",album_quit:"Abandonar & borrar el lbum compartido",download_album:"Descargar lbum",add_photos:"Aadir fotos al lbum"}},Loading:{photos_indexing:"Sus fotos estn siendo indexados. Tenga paciencia por favor.",albums_indexing:"Sus lbumes estn siendo indexados. Tenga paciencia por favor.",photos_fetching:"Cargando",albums_fetching:"Cargando",photos_upload:"Cargando"},Board:{load_more:"Cargar ms fotos",select_all:"Seleccionar todo",unselect_all:"Deseleccionar todo"},Alerter:{photos:{fetching_error:"Ha ocurrido un error en la bsqueda de las fotos.",already_added_photo:"Este album ya contiene esta foto."}},SelectionBar:{selected_count:"item seleccionado |||| items seleccionados",delete:"Borrar","album-add":"Aadir al lbum","album-remove":"Borrar del lbum",download:"Descargar",close:"Cerrar"},Share:{status:{pending:"Pendiente",accepted:"Aceptado",refused:"Rechazado",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Puede verlo","master-master":"Puede cmbiarlo"}},Albums:{album_item_description:"%{smart_count} foto |||| %{smart_count} fotos",album_item_shared_ro:"Compartido (en lectura solamente)",album_item_shared_rw:"Compartido (lectura/escritura)",add_photos:{title:"Aadir al lbum",success:"El lbum %{name} ha sido cargado con %{smart_count} foto. |||| El lbum %{name} ha sido cargado con %{smart_count} fotos.",error:{generic:"Ha ocurrido un error al actualizar el lbum, por favor vuelva a ensayar ms tarde.",reference:"Algunas fotos no se han podido aadir al lbum. Por favor, verifique y vuelva a ensayar.",response:{Forbidden:"La aplicacin no tiene permisos para actualizar los albumes."}}},share:{cta:"Compartir",title:"Compartir con otros",details:{title:"Compartiendo detalles",createdAt:"El %{date}",ro:"Slo lectura",rw:"Lectura/escritura"},sharedByMe:"Compartido",sharedWithMe:"Compartido conmigo",shareByLink:{title:"Por enlace pblico",subtitle:"Compartir por enlace",desc:"Quien disponga del enlace proporcionado podr ver y descargar sus fotos"},shareByEmail:{title:"Por email",subtitle:"Compartir por email",email:"email",emailPlaceholder:"Entre la direccin email o el nombre de su destinatario",send:"Enviar",genericSuccess:"Usted enva una invitacin a %{count} contactos.",success:"Usted enva una invitacin a %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Borrar del lbum",success:"Usted ha borrado este lbum compartido desde %{email}."},sharingLink:{title:"Enlace para compartir",copy:"Copiar",copied:"Copiado"},whoHasAccess:{title:"Quien tiene acceso"},protectedShare:{title:"Ya llega!",desc:"Compartir algo por email con su familia y amigos!"},close:"Cerrar",gettingLink:"Conectando a su enlace",error:{generic:"Ha ocurrido un error al crear el lbum compartido por un enlace, por favor vuelva a ensayar."}},create:{panel_form:{label:"Aadir un nombre a su nuevo album",placeholder:"Album sin ttulo",cancel:"Anular",submit:"Crear un nuevo lbum",update:"Aadir fotos al lbum"},inline_form:{placeholder:"Nombre del nuevo lbum",create_label:"Crear un nuevo lbum",create_button:"Crear"},success:"El lbum %{name} ha sido creado con %{smart_count} foto. |||| El lbum %{name} ha sido creado on %{smart_count} fotos.",error:{generic:"Ha ocurrido un error al crear el lbum, por favor vuelva a ensayar.",already_exists:"El lbum %{name} ya existe, por favor seleccione otro.",name_missing:"Usted tiene que ponerle un nombre a su lbum."}},fetchAlbums:{error:{index_missing:"Debe suministrarse un ndice de lbumes para poder recuperarlos."}},remove_photos:{success:"La foto ha sido borrada del lbum %{album_name}",error:{generic:"Ha ocurrido un error al borrar la foto, por favor vuelva a ensayar."}},remove_album:{success:"El lbum %{name} ha sido borrado",error:{generic:"Ha ocurrido un error al borrar el lbum, por favor vuelva a ensayar."}},quit_album:{success:"El lbum %{name} ha sido borrado",error:{generic:"Ha ocurrido un error al abandonar el lbum, por favor vuelva a ensayar."}}},Viewer:{close:"Cerrar",actions:{download:"Descargar"}},destroyconfirmation:{title:"Borrar este lbum de manera definitiva?",cancel:"Anular",delete:"Borrar de manera definitiva",forbidden:"Usted no puede acceder a este lbum ni seleccionar otro.",eye:"Sus fotos no sern borradas.",link:"Si usted lo comparte, nadie podr acceder a l."},quitconfirmation:{title:"Abandonar y borrar este lbum compartido de manera definitiva?",cancel:"Anular",quit:"Abandonar & borrar",forbidden:"Usted no puede acceder a este lbum ni seleccionar otro."},timeline:{DeleteConfirm:{title:"Borrar este elemento? |||| Borrar estos elementos?",trash:"El ser desplazado a la Papelera. |||| Ellos sern desplazados a la Papelera.",restore:"Usted an puede restaurarla si lo desea. |||| Usted an puede restaurarlas silo desea.",shared:" Si lo comparte, nadie podr acceder a l. |||| Si los comparte, nadie podr acceder a ellos.",related:"Algunas de las fotos seleccionadas se refieren un lbum. Ellas se borrarn si usted procede a meterlos en la papelera.",cancel:"Anular",delete:"Borrar"}},UploadQueue:{path:"/Photos/Uploaded desde Cozy Fotos",header:"Cargando %{smart_count} foto a Cozy Fotos |||| Cargando %{smart_count} fotos a Cozy Fotos",header_mobile:"Cargando %{done} de %{total} ",header_done:"Cargado %{done} de %{total} exitosamente",close:"cerrar",item:{pending:"Pendiente"},alert:{success:"%{smart_count} foto cargada exitosamente. |||| %{smart_count} fotos cargadas exitosamente.",success_conflicts:"%{smart_count} foto cargada con %{conflictNumber} conflicto(s). |||| %{smart_count} fotos cargadas con %{conflictNumber} conflicto(s).",errors:"Han ocurrido errores durante la carga de las fotos."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Mes photos partages",trash:"Corbeille","btn-client":"Tlcharger Cozy Desktop","btn-client-web":"Obtenez un Cozy","btn-client-mobile":"Tlchargez Cozy Drive sur votre mobile !","banner-txt-client":"Astuce : vos photos, vos factures, vos documents d'identit accessibles n'importe quand, depuis tous vos appareils avec Cozy Drive install sur votre ordinateur","banner-btn-client":"Tlcharger maintenant","link-client":"https://docs.cozy.io/fr/download/"},empty:{timeline_photos_title:"Vous n'avez pas encore de photos.",timeline_photos_text:'Cliquer sur le bouton \\"Tlverser\\" pour ajouter des photos.',albums_title:"Vous n'avez pas encore d'albums.",albums_text:'Cliquer sur le bouton \\"Nouvel album\\" pour crer votre premier album.',album_photos_title:"Il n'y a pas encore de photos dans cet album.",album_photos_text:'Commencez par cliquer sur \\"Ajouter des photos  l\'album\\" pour en ajouter.',shared_album_photos_title:"Il n'y a pas encore de photos dans cet album.",shared_album_photos_text:"Revenez plus tard"},Error:{albums_title:"Une erreur est survenue en rcuprant la liste des albums. Merci de ressayer plus tard.",album_photos_title:"Une erreur est survenue en rcuprant la liste des photos de l'album. Merci de ressayer plus tard.",timeline_photos_title:"Une erreur est survenue en rcuprant la liste des photos. Merci de ressayer plus tard.",public_album_error_title:"Une erreur est survenue lors de la rcupration de l'album. Merci de ressayer plus tard.",public_album_unshared_title:"Ce lien n'est plus actif.",public_album_unshared_text:"Un seul lien vous manque et tout vous semble dpeupl ? Schez vos larmes et contactez son propritaire. Tout n'est peut-tre pas perdu.",refresh:"Recharger la page",generic:"Une erreur est survenue. Merci de ressayer.",album_rename_abort:"Le nom de l'album ne peut pas tre vide."},Toolbar:{photo_upload:"Transfrer des photos",album_new:"Crer un album",album_delete:"Supprimer",album_quit:"Quitter & supprimer cet album",album_download:"Tlcharger",more:"Plus",menu:{select_items:"Slectionner des photos",photo_upload:"Transfrer des photos",rename_album:"Renommer l'album",album_delete:"Supprimer l'album",album_quit:"Quitter & supprimer cet album",download_album:"Tlcharger l'album",add_photos:"Ajouter les photos  l'album"}},Loading:{photos_indexing:"Vos photos sont en cours d'indexation. Veuillez patienter.",albums_indexing:"Vos albums sont en train d'tre indexs. Merci de patienter.",photos_fetching:"Chargement en cours",albums_fetching:"Chargement en cours",photos_upload:"Transfert des photos. Merci de patienter."},Board:{load_more:"Plus de photos",select_all:"Tout slectionner",unselect_all:"Tout dselectionner"},Alerter:{photos:{fetching_error:"Une erreur est survenue durant la rcupration des photos.",already_added_photo:"Cet album contient dj cette photo."}},SelectionBar:{selected_count:"lment slectionn |||| lments slectionns",delete:"Supprimer","album-add":"Ajouter  un album","album-remove":"Supprimer de l'album",download:"Tlcharger",close:"Fermer"},Share:{status:{pending:"En attente",accepted:"Accept",refused:"Refus",error:"Erreur",unregistered:"Erreur","mail-not-sent":"Erreur",revoked:"Erreur"},type:{"master-slave":"Peut consulter","master-master":"Peut modifier"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Partag (lecture seule)",album_item_shared_rw:"Partag (lecture/criture)",add_photos:{title:"Ajouter  un album",success:" %{smart_count} photo a t ajoute  l'album %{name}. ||||  %{smart_count} photos ont t ajoutes  l'album %{name}.",error:{generic:"Une erreur est survenue en mettant l'album  jour. Merci de ressayer plus tard.",reference:"Certaines photos n'ont pas pu tre ajoutes  l'album. Merci de ressayer.",response:{Forbidden:"L'application n'a pas la permission de modifier un album."}}},share:{cta:"Partager",title:"Partager avec d'autres",details:{title:"Dtails du partage",createdAt:"Depuis le %{date}",ro:"Permission de lecture",rw:"Permission d'criture et de lecture"},sharedByMe:"Partag",sharedWithMe:"Partag avec moi",shareByLink:{title:"Par lien",subtitle:"Partager par lien",desc:"Chaque personne possdant le lien fourni peut voir et tlcharger vos photos."},shareByEmail:{title:"Par e-mail",subtitle:"Partager par e-mail",email:"e-mail",emailPlaceholder:"Entrz l'adresse e-mail ou le nom de votre destinataire",send:"Envoyer",genericSuccess:"Vous avez envoy une invitation  %{count} contacts.",success:"Vous avez envoy une invitation  %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Arrter le partage avec ce contact",success:"Vous avez cess de partager cet album avec %{email}."},sharingLink:{title:"Partager",copy:"Copier",copied:"Copi"},whoHasAccess:{title:"Qui a accs"},protectedShare:{title:"Prochainement !",desc:"Partagez ce que vous souhaitez par email avec votre famille et vos amis !"},close:"Fermer",gettingLink:"Rcupration du lien...",error:{generic:"Une erreur est survenue lors de la cration du lien de partage de l'album, merci de ressayer"}},create:{panel_form:{label:"Donnez un nom  votre album",placeholder:"Album sans titre",cancel:"Annuler",submit:"Valider la cration",update:"Ajouter les photos  l'album"},inline_form:{placeholder:"Indiquez le nom de l'album",create_label:"Crer un nouvel album",create_button:"Crer"},success:"L'album %{name} a t cr avec %{smart_count} photo. |||| L'album %{name} a t cr %{smart_count} photos.",error:{generic:"Une erreur est survenue lors de la cration de l'album, merci de ressayer",already_exists:" L'album %{name} existe dj, merci d'en choisir un autre.",name_missing:"Vous devez prciser le nom du nouvel album."}},fetchAlbums:{error:{index_missing:"Un index d'albums doit tre fourni pour rcuprer les albums."}},remove_photos:{success:"La photo a t supprime de l'album %{album_name}",error:{generic:"Une erreur est survenue lors de la suppression de la photo, merci de ressayer."}},remove_album:{success:"L'album %{name} a t supprim",error:{generic:"Une erreur est survenue lors de la suppression de l'album, merci de ressayer."}},quit_album:{success:"L'album %{name} a t supprim",error:{generic:"Une erreur est survenue lors de la suppression de l'album, merci de ressayer."}}},Viewer:{close:"Fermer",actions:{download:"Tlcharger"}},destroyconfirmation:{title:"Supprimer dfinitivement cet album ?",cancel:"Annuler",delete:"Supprimer dfinitivement",forbidden:" l'avenir, vous ne pourrez plus accder  cet album ou  cette slection.",eye:"Vos photos ne seront pas supprimes.",link:"Si vous l'avez partag, personne ne va pouvoir y accder."},quitconfirmation:{title:"Quitter et supprimer dfinitivement cet album ?",cancel:"Annuler",quit:"Quitter & supprimer",forbidden:" l'avenir, vous ne pourrez plus accder  cet album ou  cette slection."},timeline:{DeleteConfirm:{title:"Supprimer cet lment ? |||| Supprimer ces lments ?",trash:"Il/elle sera dplac(e) dans la corbeille. |||| Ils/elles seront dplac(e)s dans la corbeille.",restore:"Vous pouvez toujours le/la restaurer quand vous voulez. |||| Vous pouvez toujours les restaurer quand vous voulez.",shared:"Les gens auxquels vous l'aviez partag-e ne pourront plus y accder.",related:"Certaines photos slectionnes sont lies  un album. Elles seront retires de ce dernier si vous procdez  la suppression",cancel:"Annuler",delete:"Supprimer"}},UploadQueue:{path:"Photos/Transfres depuis Cozy Photos",header:"Mise en ligne de %{smart_count} photo dans votre Cozy |||| Mise en ligne de %{smart_count} photos dans votre Cozy",header_mobile:"%{done} sur %{total} charg",header_done:"Tlvers avec succs %{done} sur un total de %{total}",close:"fermer",item:{pending:"En attente"},alert:{success:"%{smart_count} photo transfre avec succs. |||| %{smart_count} photos transfres avec succs.",success_conflicts:"%{smart_count} photo transfre et %{conflictNumber} conflit(s). |||| %{smart_count} photos transfres et %{conflictNumber} conflit(s).",errors:"Des erreurs sont survenues lors du tlchargement des photos."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"",albums:"",shared:"",trash:"","btn-client":" Cozy ","btn-client-web":"Cozy ","btn-client-mobile":" Cozy !","banner-txt-client":":  Cozy ","banner-btn-client":"","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"",album_photos_title:"",timeline_photos_title:"",public_album_error_title:"",public_album_unshared_title:"",public_album_unshared_text:"1 10 ...  ",refresh:"",generic:"",album_rename_abort:""},Toolbar:{photo_upload:"",album_new:"",album_delete:"",album_quit:"",album_download:"",more:"",menu:{select_items:"",photo_upload:"",rename_album:"",album_delete:"",album_quit:"",download_album:"",add_photos:""}},Loading:{photos_indexing:" ",albums_indexing:" ",photos_fetching:"",albums_fetching:"",photos_upload:""},Board:{load_more:"",select_all:"",unselect_all:""},Alerter:{photos:{fetching_error:"",already_added_photo:""}},SelectionBar:{selected_count:" |||| ",delete:"","album-add":"","album-remove":"",download:"",close:""},Share:{status:{pending:"",accepted:"",refused:"",error:"",unregistered:"","mail-not-sent":"",revoked:""},type:{"master-slave":"","master-master":""}},Albums:{album_item_description:"%{smart_count}  |||| %{smart_count} ",album_item_shared_ro:" ()",album_item_shared_rw:" (/)",add_photos:{title:"",success:" %{name}  %{smart_count}  ||||  %{name}  %{smart_count} ",error:{generic:"",reference:"",response:{Forbidden:""}}},share:{cta:"",title:"",details:{title:"",createdAt:" %{date}",ro:"",rw:"/"},sharedByMe:"",sharedWithMe:"",shareByLink:{title:"",subtitle:"",desc:""},shareByEmail:{title:"",subtitle:"",email:"",emailPlaceholder:"",send:"",genericSuccess:"%{count} ",success:"%{email} ",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"",success:" %{email} "},sharingLink:{title:"",copy:"",copied:""},whoHasAccess:{title:""},protectedShare:{title:"!",desc:"!"},close:"",gettingLink:"...",error:{generic:""}},create:{panel_form:{label:"",placeholder:"",cancel:"",submit:"",update:""},inline_form:{placeholder:"",create_label:"",create_button:""},success:" %{name}  %{smart_count}  ||||  %{name}  %{smart_count} ",error:{generic:"",already_exists:" %{name} ",name_missing:""}},fetchAlbums:{error:{index_missing:""}},remove_photos:{success:" %{album_name} ",error:{generic:""}},remove_album:{success:" %{name} ",error:{generic:""}},quit_album:{success:" %{name} ",error:{generic:""}}},Viewer:{close:"",actions:{download:""}},destroyconfirmation:{title:"?",cancel:"",delete:"",forbidden:"",eye:"",link:""},quitconfirmation:{title:"?",cancel:"",quit:" & ",forbidden:""},timeline:{DeleteConfirm:{title:"? |||| ?",trash:" |||| ",restore:" |||| ",shared:" ||||",related:" ",cancel:"",delete:""}},UploadQueue:{path:"Cozy  /Photos/Uploaded",header:"%{smart_count}  Cozy  |||| %{smart_count}  Cozy ",header_mobile:"%{done} / %{total} ",header_done:"%{done} / %{total} ",close:"",item:{pending:""},alert:{success:"%{smart_count}  |||| %{smart_count} ",success_conflicts:"%{smart_count}  %{conflictNumber}  |||| %{smart_count}  %{conflictNumber} ",errors:""}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Foto's",albums:"Albums",shared:"Gedeeld door mij",trash:"Prullenbak","btn-client":"Haal Cozy voor het bureaublad","btn-client-web":"Get Cozy","btn-client-mobile":"Haal Cozy mobiel op jouw telefoon!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"Er is een fout opgetreden tijdens het laden van de album lijst. Probeer het later nog eens.",album_photos_title:"Er is een fout opgetreden tijdens het laden van de lijst van foto's in dit album. Probeer het later nog eens.",timeline_photos_title:"Er is een fout opgetreden tijdens het laden van de lijst van foto's. Probeer het later nog eens.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Ververs nu",generic:"Er is een fout opgetreden, probeer het opnieuw.",album_rename_abort:"De naam van het album kan niet leeg zijn."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Verwijderen",album_quit:"Leave & delete shared album",album_download:"Download",more:"Meer",menu:{select_items:"Selecteer foto's",photo_upload:"Upload foto's",rename_album:"Hernoem album",album_delete:"Verwijder album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Jouw foto's worden nu gendexeerd. Even geduld alsjeblieft.",albums_indexing:"Jouw foto's worden nu gendexeerd. Even geduld alsjeblieft.",photos_fetching:"Laden",albums_fetching:"Laden",photos_upload:"Uploaden"},Board:{load_more:"Laad meer foto's",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"Er is een fout opgetreden tijdens het ophalen van de foto's.",already_added_photo:"Dit album bevat deze foto al."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Afsluiten"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} foto |||| %{smart_count} foto's",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Voeg toe aan album",success:"Album %{name} is bijgewerkt met %{smart_count} foto. |||| Album %{name} is bijgewerkt met %{smart_count} foto's.",error:{generic:"Er is een fout opgetreden tijdens het bijwerken van het album, probeer het opnieuw.",reference:"Sommige foto's zijn niet toegevoegd aan het album. Controleer en probeer nog eens.",response:{Forbidden:"Toepassing heeft geen toestemming om albums aan te passen."}}},share:{cta:"Delen",title:"Deel met anderen",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Iedereen die de gedeelde snelkoppeling heeft kan deze foto's zien en downloaden."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Snelkoppeling om te delen",copy:"Kopiren",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Binnenkort beschikbaar!",desc:"Deel alles via e-mail met jouw vrienden en familie!"},close:"Sluiten",gettingLink:"Getting your link...",error:{generic:"Er is een fout opgetreden tijdens het genereren van de snelkoppeling, probeer het opnieuw."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"Nieuwe album naam",create_label:"Creer een nieuw album",create_button:"Creer"},success:"Album %{name} is gecreerd met %{smart_count} foto. |||| Album %{name} is gecreerd met %{smart_count} foto's.",error:{generic:"Er is een fout opgetreden tijdens het creren van het album, probeer het later nog eens.",already_exists:"Het album %{name} bestaat al, kies een andere naam.",name_missing:"Je moet het album een naam geven."}},fetchAlbums:{error:{index_missing:"Je moet een album index opgeven om albums op te halen."}},remove_photos:{success:"De foto is verwijderd uit album %{album_name}",error:{generic:"Er is een fout opgetreden tijdens het verwijderen van de foto, probeer het opnieuw."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"Er is een fout opgetreden tijdens het verwijderen van de foto, probeer het opnieuw."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Afsluiten",actions:{download:"Download"}},destroyconfirmation:{title:"Dit album permanent verwijderen?",cancel:"Annuleren",delete:"Verwijder permanent",forbidden:"Je kunt dit album of deze selectie niet meer benaderen.",eye:"Jouw foto's worden niet verwijderd.",link:"Als je het hebt gedeeld, kunnen mensen het niet meer benaderen."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploaden van %{smart_count} foto naar Cozy Foto's |||| Uploaden van %{smart_count} foto's naar Cozy Foto's",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"In behandeling"},alert:{success:"%{smart_count} foto succesvol ge-upload. |||| %{smart_count} foto's succesvol ge-upload.",success_conflicts:"%{smart_count} foto ge-upload met %{conflictNumber} conflict(en). |||| %{smart_count} foto's ge-upload met %{conflictNumber} conflict(en).",errors:"Er is iets fout gegaan tijdens het uploaden van de foto's."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"",albums:"",shared:" ",trash:"","btn-client":" Cozy  ","btn-client-web":" Cozy","btn-client-mobile":" Cozy Drive  !","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"      . ,   .",album_photos_title:"      . ,   .",timeline_photos_title:"     . ,   .",public_album_error_title:"     .   .",public_album_unshared_title:",    .",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:" ",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"",album_new:" ",album_delete:"",album_quit:"Leave & delete shared album",album_download:"",more:"",menu:{select_items:" ",photo_upload:" ",rename_album:" ",album_delete:" ",album_quit:"Leave & delete shared album",download_album:" ",add_photos:"   "}},Loading:{photos_indexing:"   . , .",albums_indexing:"   . , .",photos_fetching:"",albums_fetching:"",photos_upload:""},Board:{load_more:"  ",select_all:" ",unselect_all:" "},Alerter:{photos:{fetching_error:"     .",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"","album-add":"  ","album-remove":"  ",download:"",close:""},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"",unregistered:"","mail-not-sent":"",revoked:""},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count}  |||| %{smart_count} ",album_item_shared_ro:"()",album_item_shared_rw:"(\\)",add_photos:{title:"  ",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"     .     .",response:{Forbidden:"      ."}}},share:{cta:"",title:"  ",details:{title:" ",createdAt:"On %{date}",ro:" ",rw:"\\"},sharedByMe:"",sharedWithMe:"  ",shareByLink:{title:" ",subtitle:"  ",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"",copied:""},whoHasAccess:{title:"  "},protectedShare:{title:"!",desc:"Share anything by email with your family and friends!"},close:"",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"",submit:"  ",update:"   "},inline_form:{placeholder:"  ",create_label:"  ",create_button:""},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:" %{name}  ,   .",name_missing:"     "}},fetchAlbums:{error:{index_missing:"       ."}},remove_photos:{success:"     %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:" %{name} .",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:" %{name} .",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"",actions:{download:""}},destroyconfirmation:{title:"   ?",cancel:"",delete:" ",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"",quit:"  ",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"",delete:""}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"",albums:"",shared:"",trash:"","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"",albums_fetching:"Loading",photos_upload:""},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t){e.exports={Nav:{photos:"Photos",albums:"Albums",shared:"Shared by me",trash:"Trash","btn-client":"Get Cozy for desktop","btn-client-web":"Get Cozy","btn-client-mobile":"Get Cozy Drive on your mobile!","banner-txt-client":"Tip: your pictures, bills, ID documents, all accessible anytime, from any of your device with Cozy Drive installed on your computer","banner-btn-client":"Download now","link-client":"https://docs.cozy.io/en/download/"},empty:{timeline_photos_title:"You don't have any photos yet.",timeline_photos_text:'Click the "Upload" button to add photos.',albums_title:"You don't have any album yet.",albums_text:'Start by clicking "New album" to create your first album.',album_photos_title:"There is no photo in this album yet.",album_photos_text:'Start by clicking "Add photos to album" to add some.',shared_album_photos_title:"There is no photo in this album yet.",shared_album_photos_text:"Come back later"},Error:{albums_title:"An error occurred while retrieving the albums list. Please try again later.",album_photos_title:"An error occurred while retrieving the album's photos list. Please try again later.",timeline_photos_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_error_title:"An error occurred while retrieving the photos list. Please try again later.",public_album_unshared_title:"Sorry, this link is no longer available.",public_album_unshared_text:"One lost, ten found... or just check out with the owner for help. This file might not be lost.",refresh:"Refresh now",generic:"An error occurred, please try again.",album_rename_abort:"The album name can not be empty."},Toolbar:{photo_upload:"Upload",album_new:"New album",album_delete:"Delete",album_quit:"Leave & delete shared album",album_download:"Download",more:"More",menu:{select_items:"Select photos",photo_upload:"Upload photos",rename_album:"Rename album",album_delete:"Delete album",album_quit:"Leave & delete shared album",download_album:"Download album",add_photos:"Add photos to album"}},Loading:{photos_indexing:"Your photos are currently being indexed. Please wait.",albums_indexing:"Your albums are currently being indexed. Please wait.",photos_fetching:"Loading",albums_fetching:"Loading",photos_upload:"Uploading"},Board:{load_more:"Load more photos",select_all:"Select all",unselect_all:"Unselect all"},Alerter:{photos:{fetching_error:"An error occurred during photos fetching.",already_added_photo:"This album already contains this photo."}},SelectionBar:{selected_count:"item selected |||| items selected",delete:"Delete","album-add":"Add to album","album-remove":"Remove from album",download:"Download",close:"Close"},Share:{status:{pending:"Pending",accepted:"Accepted",refused:"Refused",error:"Error",unregistered:"Error","mail-not-sent":"Error",revoked:"Error"},type:{"master-slave":"Can View","master-master":"Can Change"}},Albums:{album_item_description:"%{smart_count} photo |||| %{smart_count} photos",album_item_shared_ro:"Shared (read only)",album_item_shared_rw:"Shared (read/write)",add_photos:{title:"Add to album",success:"Album %{name} has been updated with %{smart_count} photo. |||| Album %{name} has been updated with %{smart_count} photos.",error:{generic:"An error occurred when updating the album, please try again.",reference:"Some photos has not been added to the album. Please check and try again.",response:{Forbidden:"Application does not have permission to update albums."}}},share:{cta:"Share",title:"Share with others",details:{title:"Sharing details",createdAt:"On %{date}",ro:"Read only",rw:"Read/write"},sharedByMe:"Shared",sharedWithMe:"Shared with me",shareByLink:{title:"By public link",subtitle:"Share by link",desc:"Anyone with the provided link can see and download your photos."},shareByEmail:{title:"By email",subtitle:"Share by email",email:"email",emailPlaceholder:"Enter email address or name of your recipient",send:"Send",genericSuccess:"You sent an invite to %{count} contacts.",success:"You sent an invite to %{email}.",comingsoon:"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don't worry, we'll let you know when it's ready!"},unshare:{title:"Remove from album",success:"You removed this shared album from %{email}."},sharingLink:{title:"Link to share",copy:"Copy",copied:"Copied"},whoHasAccess:{title:"Who has access"},protectedShare:{title:"Coming soon!",desc:"Share anything by email with your family and friends!"},close:"Close",gettingLink:"Getting your link...",error:{generic:"An error occurred when creating the album share link, please try again."}},create:{panel_form:{label:"Add a name to your new album",placeholder:"Untitled album",cancel:"Cancel",submit:"Create new album",update:"Add photos to album"},inline_form:{placeholder:"New album name",create_label:"Create a new album",create_button:"Create"},success:"Album %{name} has been created with %{smart_count} photo. |||| Album %{name} has been created with %{smart_count} photos.",error:{generic:"An error occurred when creating the album, please try again.",already_exists:"The album %{name} already exists, please pick another one.",name_missing:"You have to give a name to your album."}},fetchAlbums:{error:{index_missing:"An albums index must be provided to fetch albums."}},remove_photos:{success:"The photo has been removed from album %{album_name}",error:{generic:"An error occured while removing the photo, please try again."}},remove_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while removing the album, please try again."}},quit_album:{success:"Album %{name} was deleted.",error:{generic:"An error occured while leaving the album, please try again."}}},Viewer:{close:"Close",actions:{download:"Download"}},destroyconfirmation:{title:"Permanently delete this album?",cancel:"Cancel",delete:"Delete permanently",forbidden:"You won't be able to access this album or selection anymore.",eye:"Your photos won't be deleted.",link:"If you have shared it, people won't be able to access it."},quitconfirmation:{title:"Permanently leave and delete this shared album?",cancel:"Cancel",quit:"Leave & delete",forbidden:"You won't be able to access this album or selection anymore."},timeline:{DeleteConfirm:{title:"Delete this element? |||| Delete these elements?",trash:"It will be moved to the Trash. |||| They will be moved to the Trash.",restore:"You can still restore it whenever you want. |||| You can still restore them whenever you want.",shared:"If you have shared it, people won't be able to access it. |||| If you have shared them, people won't be able to access them.",related:"Some of the photos within the selection are related to an album. They will be removed from it if you proceed to trash them.",cancel:"Cancel",delete:"Remove"}},UploadQueue:{path:"/Photos/Uploaded from Cozy Photos",header:"Uploading %{smart_count} photo to Cozy Photos |||| Uploading %{smart_count} photos to Cozy Photos",header_mobile:"%{done} of %{total} uploading",header_done:"Uploaded %{done} out of %{total} successfully",close:"close",item:{pending:"Pending"},alert:{success:"%{smart_count} photo uploaded with success. |||| %{smart_count} photos uploaded with success.",success_conflicts:"%{smart_count} photo uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} photos uploaded with %{conflictNumber} conflict(s).",errors:"Errors occurred during the photos upload."}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.translate=t.I18nProvider=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),d=n(13),f=r(d);(t.I18nProvider=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"getChildContext",value:function(){return{t:this.props.i18n.t.bind(this.props.i18n),f:this.props.i18nDate.bind(this.props.i18nDate)}}},{key:"render",value:function(){return this.props.children&&this.props.children[0]||null}}]),t}(c.Component)).childContextTypes={t:f.default.func,f:f.default.func};t.translate=function(){return function(e){return function(t,n){return l.default.createElement(e,u({},t,{t:n.t,f:n.f}))}}}},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=r(o),a=n(0),u=r(a),s=function(e,t){var n=document.body.appendChild(document.createElement("div")),r=function(){u.default.unmountComponentAtNode(n)},o=function(){t().then(function(){u.default.unmountComponentAtNode(n)})};u.default.render(i.default.cloneElement(e,{confirm:o,abort:r}),n)};t.default=s},function(e,t,n){"use strict";var r=n(1),o=n(86),i=n(133),a=n(6),u=n(50),s=n(12),c=n(4),l=n(5).ArrayBuffer,d=n(93),f=i.ArrayBuffer,h=i.DataView,p=o.ABV&&l.isView,m=f.prototype.slice,b=o.VIEW;r(r.G+r.W+r.F*(l!==f),{ArrayBuffer:f}),r(r.S+r.F*!o.CONSTR,"ArrayBuffer",{isView:function(e){return p&&p(e)||c(e)&&b in e}}),r(r.P+r.U+r.F*n(9)(function(){return!new f(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(a(this),e);for(var n=a(this).byteLength,r=u(e,n),o=u(void 0===t?n:t,n),i=new(d(this,f))(s(o-r)),c=new h(this),l=new h(i),p=0;r<o;)l.setUint8(p++,c.getUint8(r++));return i}}),n(70)("ArrayBuffer")},function(e,t,n){n(25)("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){var r=n(10),o=n(6),i=n(39);e.exports=n(15)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),u=a.length,s=0;u>s;)r.f(e,n=a[s++],t[n]);return e}},function(e,t,n){var r=n(314);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(4),o=n(137),i=n(8)("species");e.exports=function(e){var t;return o(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var r=n(64),o=n(34),i=n(51),a={};n(18)(a,n(8)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){n(25)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(25)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){n(25)("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(25)("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(25)("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(25)("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(25)("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(25)("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";var r=n(141),o=n(55);e.exports=n(73)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(o(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(o(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){var r=n(4),o=n(98).set;e.exports=function(e,t,n){var i,a=t.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},function(e,t,n){"use strict";var r=n(141),o=n(55);e.exports=n(73)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(o(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r,o=n(65)(0),i=n(29),a=n(30),u=n(143),s=n(144),c=n(4),l=n(9),d=n(55),f=a.getWeak,h=Object.isExtensible,p=s.ufstore,m={},b=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(e){if(c(e)){var t=f(e);return!0===t?p(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return s.def(d(this,"WeakMap"),e,t)}},y=e.exports=n(73)("WeakMap",b,v,s,!0,!0);l(function(){return 7!=(new y).set((Object.freeze||Object)(m),7).get(m)})&&(r=s.getConstructor(b,"WeakMap"),u(r.prototype,v),a.NEED=!0,o(["delete","has","get","set"],function(e){var t=y.prototype,n=t[e];i(t,e,function(t,o){if(c(t)&&!h(t)){this._f||(this._f=new r);var i=this._f[e](t,o);return"set"==e?this:i}return n.call(this,t,o)})}))},function(e,t,n){"use strict";var r=n(144),o=n(55);n(73)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(o(this,"WeakSet"),e,!0)}},r,!1,!0)},function(e,t,n){var r=n(1),o=n(36),i=n(6),a=(n(5).Reflect||{}).apply,u=Function.apply;r(r.S+r.F*!n(9)(function(){a(function(){})}),"Reflect",{apply:function(e,t,n){var r=o(e),s=i(n);return a?a(r,t,s):u.call(r,t,s)}})},function(e,t,n){var r=n(1),o=n(64),i=n(36),a=n(6),u=n(4),s=n(9),c=n(331),l=(n(5).Reflect||{}).construct,d=s(function(){function e(){}return!(l(function(){},[],e)instanceof e)}),f=!s(function(){l(function(){})});r(r.S+r.F*(d||f),"Reflect",{construct:function(e,t){i(e),a(t);var n=arguments.length<3?e:i(arguments[2]);if(f&&!d)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var s=n.prototype,h=o(u(s)?s:Object.prototype),p=Function.apply.call(e,h,t);return u(p)?p:h}})},function(e,t,n){"use strict";var r=n(36),o=n(4),i=n(145),a=[].slice,u={},s=function(e,t,n){if(!(t in u)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";u[t]=Function("F,a","return new F("+r.join(",")+")")}return u[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),u=function(){var r=n.concat(a.call(arguments));return this instanceof u?s(t,r.length,r):i(t,r,e)};return o(t.prototype)&&(u.prototype=t.prototype),u}},function(e,t,n){var r=n(10),o=n(1),i=n(6),a=n(62);o(o.S+o.F*n(9)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){i(e),t=a(t,!0),i(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(1),o=n(26).f,i=n(6);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=o(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){function r(e,t){var n,u,l=arguments.length<3?e:arguments[2];return c(e)===l?e[t]:(n=o.f(e,t))?a(n,"value")?n.value:void 0!==n.get?n.get.call(l):void 0:s(u=i(e))?r(u,t,l):void 0}var o=n(26),i=n(53),a=n(16),u=n(1),s=n(4),c=n(6);u(u.S,"Reflect",{get:r})},function(e,t,n){var r=n(26),o=n(1),i=n(6);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(i(e),t)}})},function(e,t,n){var r=n(1),o=n(53),i=n(6);r(r.S,"Reflect",{getPrototypeOf:function(e){return o(i(e))}})},function(e,t,n){var r=n(1);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(1),o=n(6),i=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return o(e),!i||i(e)}})},function(e,t,n){var r=n(1);r(r.S,"Reflect",{ownKeys:n(146)})},function(e,t,n){var r=n(1),o=n(6),i=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){o(e);try{return i&&i(e),!0}catch(e){return!1}}})},function(e,t,n){function r(e,t,n){var s,f,h=arguments.length<4?e:arguments[3],p=i.f(l(e),t);if(!p){if(d(f=a(e)))return r(f,t,n,h);p=c(0)}return u(p,"value")?!(!1===p.writable||!d(h))&&(s=i.f(h,t)||c(0),s.value=n,o.f(h,t,s),!0):void 0!==p.set&&(p.set.call(h,n),!0)}var o=n(10),i=n(26),a=n(53),u=n(16),s=n(1),c=n(34),l=n(6),d=n(4);s(s.S,"Reflect",{set:r})},function(e,t,n){var r=n(1),o=n(98);o&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){o.check(e,t);try{return o.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var r,o,i,a,u=n(46),s=n(5),c=n(23),l=n(94),d=n(1),f=n(4),h=n(36),p=n(48),m=n(72),b=n(93),v=n(99).set,y=n(344)(),g=n(147),_=n(345),w=n(346),k=s.TypeError,S=s.process,E=s.Promise,x="process"==l(S),A=function(){},C=o=g.f,O=!!function(){try{var e=E.resolve(1),t=(e.constructor={})[n(8)("species")]=function(e){e(A,A)};return(x||"function"==typeof PromiseRejectionEvent)&&e.then(A)instanceof t}catch(e){}}(),T=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},P=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){for(var r=e._v,o=1==e._s,i=0;n.length>i;)!function(t){var n,i,a=o?t.ok:t.fail,u=t.resolve,s=t.reject,c=t.domain;try{a?(o||(2==e._h&&R(e),e._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===t.promise?s(k("Promise-chain cycle")):(i=T(n))?i.call(n,u,s):u(n)):s(r)}catch(e){s(e)}}(n[i++]);e._c=[],e._n=!1,t&&!e._h&&j(e)})}},j=function(e){v.call(s,function(){var t,n,r,o=e._v,i=D(e);if(i&&(t=_(function(){x?S.emit("unhandledRejection",o,e):(n=s.onunhandledrejection)?n({promise:e,reason:o}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=x||D(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},D=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!D(t.promise))return!1;return!0},R=function(e){v.call(s,function(){var t;x?S.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},M=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),P(t,!0))},I=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw k("Promise can't be resolved itself");(t=T(e))?y(function(){var r={_w:n,_d:!1};try{t.call(e,c(I,r,1),c(M,r,1))}catch(e){M.call(r,e)}}):(n._v=e,n._s=1,P(n,!1))}catch(e){M.call({_w:n,_d:!1},e)}}};O||(E=function(e){p(this,E,"Promise","_h"),h(e),r.call(this);try{e(c(I,this,1),c(M,this,1))}catch(e){M.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(47)(E.prototype,{then:function(e,t){var n=C(b(this,E));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=x?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=c(I,e,1),this.reject=c(M,e,1)},g.f=C=function(e){return e===E||e===a?new i(e):o(e)}),d(d.G+d.W+d.F*!O,{Promise:E}),n(51)(E,"Promise"),n(70)("Promise"),a=n(45).Promise,d(d.S+d.F*!O,"Promise",{reject:function(e){var t=C(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(u||!O),"Promise",{resolve:function(e){return w(u&&this===a?E:this,e)}}),d(d.S+d.F*!(O&&n(71)(function(e){E.all(e).catch(A)})),"Promise",{all:function(e){var t=this,n=C(t),r=n.resolve,o=n.reject,i=_(function(){var n=[],i=0,a=1;m(e,!1,function(e){var u=i++,s=!1;n.push(void 0),a++,t.resolve(e).then(function(e){s||(s=!0,n[u]=e,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=C(t),r=n.reject,o=_(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(e,t,n){var r=n(5),o=n(99).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,u=r.Promise,s="process"==n(49)(a);e.exports=function(){var e,t,n,c=function(){var r,o;for(s&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(s)n=function(){a.nextTick(c)};else if(i){var l=!0,d=document.createTextNode("");new i(c).observe(d,{characterData:!0}),n=function(){d.data=l=!l}}else if(u&&u.resolve){var f=u.resolve();n=function(){f.then(c)}}else n=function(){o.call(r,c)};return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(6),o=n(4),i=n(147);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(5),o=n(16),i=n(15),a=n(1),u=n(29),s=n(30).KEY,c=n(9),l=n(90),d=n(51),f=n(35),h=n(8),p=n(148),m=n(348),b=n(349),v=n(137),y=n(6),g=n(20),_=n(62),w=n(34),k=n(64),S=n(149),E=n(26),x=n(10),A=n(39),C=E.f,O=x.f,T=S.f,P=r.Symbol,j=r.JSON,D=j&&j.stringify,R=h("_hidden"),M=h("toPrimitive"),I={}.propertyIsEnumerable,L=l("symbol-registry"),z=l("symbols"),N=l("op-symbols"),q=Object.prototype,F="function"==typeof P,U=r.QObject,B=!U||!U.prototype||!U.prototype.findChild,Y=i&&c(function(){return 7!=k(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=C(q,t);r&&delete q[t],O(e,t,n),r&&e!==q&&O(q,t,r)}:O,H=function(e){var t=z[e]=k(P.prototype);return t._k=e,t},W=F&&"symbol"==typeof P.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof P},V=function(e,t,n){return e===q&&V(N,t,n),y(e),t=_(t,!0),y(n),o(z,t)?(n.enumerable?(o(e,R)&&e[R][t]&&(e[R][t]=!1),n=k(n,{enumerable:w(0,!1)})):(o(e,R)||O(e,R,w(1,{})),e[R][t]=!0),Y(e,t,n)):O(e,t,n)},G=function(e,t){y(e);for(var n,r=b(t=g(t)),o=0,i=r.length;i>o;)V(e,n=r[o++],t[n]);return e},X=function(e,t){return void 0===t?k(e):G(k(e),t)},$=function(e){var t=I.call(this,e=_(e,!0));return!(this===q&&o(z,e)&&!o(N,e))&&(!(t||!o(this,e)||!o(z,e)||o(this,R)&&this[R][e])||t)},K=function(e,t){if(e=g(e),t=_(t,!0),e!==q||!o(z,t)||o(N,t)){var n=C(e,t);return!n||!o(z,t)||o(e,R)&&e[R][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=T(g(e)),r=[],i=0;n.length>i;)o(z,t=n[i++])||t==R||t==s||r.push(t);return r},Q=function(e){for(var t,n=e===q,r=T(n?N:g(e)),i=[],a=0;r.length>a;)!o(z,t=r[a++])||n&&!o(q,t)||i.push(z[t]);return i};F||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===q&&t.call(N,n),o(this,R)&&o(this[R],e)&&(this[R][e]=!1),Y(this,e,w(1,n))};return i&&B&&Y(q,e,{configurable:!0,set:t}),H(e)},u(P.prototype,"toString",function(){return this._k}),E.f=K,x.f=V,n(63).f=S.f=J,n(66).f=$,n(74).f=Q,i&&!n(46)&&u(q,"propertyIsEnumerable",$,!0),p.f=function(e){return H(h(e))}),a(a.G+a.W+a.F*!F,{Symbol:P});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)h(Z[ee++]);for(var te=A(h.store),ne=0;te.length>ne;)m(te[ne++]);a(a.S+a.F*!F,"Symbol",{for:function(e){return o(L,e+="")?L[e]:L[e]=P(e)},keyFor:function(e){if(!W(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){B=!0},useSimple:function(){B=!1}}),a(a.S+a.F*!F,"Object",{create:X,defineProperty:V,defineProperties:G,getOwnPropertyDescriptor:K,getOwnPropertyNames:J,getOwnPropertySymbols:Q}),j&&a(a.S+a.F*(!F||c(function(){var e=P();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!W(e)){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);return t=r[1],"function"==typeof t&&(n=t),!n&&v(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!W(t))return t}),r[1]=t,D.apply(j,r)}}}),P.prototype[M]||n(18)(P.prototype,M,P.prototype.valueOf),d(P,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(5),o=n(45),i=n(46),a=n(148),u=n(10).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(39),o=n(74),i=n(66);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,u=n(e),s=i.f,c=0;u.length>c;)s.call(e,a=u[c++])&&t.push(a);return t}},function(e,t,n){var r=n(4),o=n(30).onFreeze;n(21)("freeze",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){var r=n(4),o=n(30).onFreeze;n(21)("seal",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){var r=n(4),o=n(30).onFreeze;n(21)("preventExtensions",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){var r=n(4);n(21)("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(4);n(21)("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(4);n(21)("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})},function(e,t,n){var r=n(20),o=n(26).f;n(21)("getOwnPropertyDescriptor",function(){return function(e,t){return o(r(e),t)}})},function(e,t,n){var r=n(24),o=n(53);n(21)("getPrototypeOf",function(){return function(e){return o(r(e))}})},function(e,t,n){var r=n(24),o=n(39);n(21)("keys",function(){return function(e){return o(r(e))}})},function(e,t,n){n(21)("getOwnPropertyNames",function(){return n(149).f})},function(e,t,n){var r=n(1);r(r.S+r.F,"Object",{assign:n(143)})},function(e,t,n){var r=n(1);r(r.S,"Object",{is:n(362)})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(1);r(r.S,"Object",{setPrototypeOf:n(98).set})},function(e,t,n){var r=n(10).f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||n(15)&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},function(e,t,n){var r=n(1),o=n(20),i=n(12);r(r.S,"String",{raw:function(e){for(var t=o(e.raw),n=i(t.length),r=arguments.length,a=[],u=0;n>u;)a.push(String(t[u++])),u<r&&a.push(String(arguments[u]));return a.join("")}})},function(e,t,n){var r=n(1),o=n(50),i=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){"use strict";var r=n(1),o=n(368)(!1);r(r.P,"String",{codePointAt:function(e){return o(this,e)}})},function(e,t,n){var r=n(37),o=n(38);e.exports=function(e){return function(t,n){var i,a,u=String(o(t)),s=r(n),c=u.length;return s<0||s>=c?e?"":void 0:(i=u.charCodeAt(s),i<55296||i>56319||s+1===c||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):i:e?u.slice(s,s+2):a-56320+(i-55296<<10)+65536)}}},function(e,t,n){var r=n(1);r(r.P,"String",{repeat:n(150)})},function(e,t,n){"use strict";var r=n(1),o=n(12),i=n(100),a="".startsWith;r(r.P+r.F*n(101)("startsWith"),"String",{startsWith:function(e){var t=i(this,e,"startsWith"),n=o(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";var r=n(1),o=n(12),i=n(100),a="".endsWith;r(r.P+r.F*n(101)("endsWith"),"String",{endsWith:function(e){var t=i(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=o(t.length),u=void 0===n?r:Math.min(o(n),r),s=String(e);return a?a.call(t,s,u):t.slice(u-s.length,u)===s}})},function(e,t,n){"use strict";var r=n(1),o=n(100);r(r.P+r.F*n(101)("includes"),"String",{includes:function(e){return!!~o(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){n(15)&&"g"!=/./g.flags&&n(10).f(RegExp.prototype,"flags",{configurable:!0,get:n(374)})},function(e,t,n){"use strict";var r=n(6);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){n(75)("match",1,function(e,t,n){return[function(n){"use strict";var r=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){n(75)("replace",2,function(e,t,n){return[function(r,o){"use strict";var i=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},n]})},function(e,t,n){n(75)("split",2,function(e,t,r){"use strict";var o=n(151),i=r,a=[].push,u="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[u]||2!="ab".split(/(?:ab)*/)[u]||4!=".".split(/(.?)(.?)/)[u]||".".split(/()()/)[u]>1||"".split(/.?/)[u]){var s=void 0===/()??/.exec("")[1];r=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!o(e))return i.call(n,e,t);var r,c,l,d,f,h=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,b=void 0===t?4294967295:t>>>0,v=new RegExp(e.source,p+"g");for(s||(r=new RegExp("^"+v.source+"$(?!\\s)",p));(c=v.exec(n))&&!((l=c.index+c[0][u])>m&&(h.push(n.slice(m,c.index)),!s&&c[u]>1&&c[0].replace(r,function(){for(f=1;f<arguments[u]-2;f++)void 0===arguments[f]&&(c[f]=void 0)}),c[u]>1&&c.index<n[u]&&a.apply(h,c.slice(1)),d=c[0][u],m=l,h[u]>=b));)v.lastIndex===c.index&&v.lastIndex++;return m===n[u]?!d&&v.test("")||h.push(""):h.push(n.slice(m)),h[u]>b?h.slice(0,b):h}}else"0".split(void 0,0)[u]&&(r=function(e,t){return void 0===e&&0===t?[]:i.call(this,e,t)});return[function(n,o){var i=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,i,o):r.call(String(i),n,o)},r]})},function(e,t,n){n(75)("search",1,function(e,t,n){return[function(n){"use strict";var r=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){"use strict";var r=n(23),o=n(1),i=n(24),a=n(142),u=n(95),s=n(12),c=n(102),l=n(96);o(o.S+o.F*!n(71)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,d,f=i(e),h="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,b=void 0!==m,v=0,y=l(f);if(b&&(m=r(m,p>2?arguments[2]:void 0,2)),void 0==y||h==Array&&u(y))for(t=s(f.length),n=new h(t);t>v;v++)c(n,v,b?m(f[v],v):f[v]);else for(d=y.call(f),n=new h;!(o=d.next()).done;v++)c(n,v,b?a(d,m,[o.value,v],!0):o.value);return n.length=v,n}})},function(e,t,n){"use strict";var r=n(1),o=n(102);r(r.S+r.F*n(9)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)o(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){var r=n(1);r(r.P,"Array",{copyWithin:n(140)}),n(54)("copyWithin")},function(e,t,n){"use strict";var r=n(1),o=n(65)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),r(r.P+r.F*i,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(54)("find")},function(e,t,n){"use strict";var r=n(1),o=n(65)(6),i="findIndex",a=!0;i in[]&&Array(1)[i](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(54)(i)},function(e,t,n){var r=n(1);r(r.P,"Array",{fill:n(92)}),n(54)("fill")},function(e,t,n){var r=n(1),o=n(5).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&o(e)}})},function(e,t,n){var r=n(1);r(r.S,"Number",{isInteger:n(152)})},function(e,t,n){var r=n(1),o=n(152),i=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return o(e)&&i(e)<=9007199254740991}})},function(e,t,n){var r=n(1);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(1);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(1);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(1);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(1),o=n(153),i=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:o(e-1+i(e-1)*i(e+1))}})},function(e,t,n){function r(e){return isFinite(e=+e)&&0!=e?e<0?-r(-e):Math.log(e+Math.sqrt(e*e+1)):e}var o=n(1),i=Math.asinh;o(o.S+o.F*!(i&&1/i(0)>0),"Math",{asinh:r})},function(e,t,n){var r=n(1),o=Math.atanh;r(r.S+r.F*!(o&&1/o(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(1),o=n(103);r(r.S,"Math",{cbrt:function(e){return o(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var r=n(1);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(1),o=Math.exp;r(r.S,"Math",{cosh:function(e){return(o(e=+e)+o(-e))/2}})},function(e,t,n){var r=n(1),o=n(104);r(r.S+r.F*(o!=Math.expm1),"Math",{expm1:o})},function(e,t,n){var r=n(1);r(r.S,"Math",{fround:n(400)})},function(e,t,n){var r=n(103),o=Math.pow,i=o(2,-52),a=o(2,-23),u=o(2,127)*(2-a),s=o(2,-126),c=function(e){return e+1/i-1/i};e.exports=Math.fround||function(e){var t,n,o=Math.abs(e),l=r(e);return o<s?l*c(o/s/a)*s*a:(t=(1+a/i)*o,n=t-(t-o),n>u||n!=n?l*(1/0):l*n)}},function(e,t,n){var r=n(1),o=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,i=0,a=0,u=arguments.length,s=0;a<u;)n=o(arguments[a++]),s<n?(r=s/n,i=i*r*r+1,s=n):n>0?(r=n/s,i+=r*r):i+=n;return s===1/0?1/0:s*Math.sqrt(i)}})},function(e,t,n){var r=n(1),o=Math.imul;r(r.S+r.F*n(9)(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function(e,t){var n=+e,r=+t,o=65535&n,i=65535&r;return 0|o*i+((65535&n>>>16)*i+o*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){var r=n(1);r(r.S,"Math",{log1p:n(153)})},function(e,t,n){var r=n(1);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(1);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(1);r(r.S,"Math",{sign:n(103)})},function(e,t,n){var r=n(1),o=n(104),i=Math.exp;r(r.S+r.F*n(9)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(o(e)-o(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(1),o=n(104),i=Math.exp;r(r.S,"Math",{tanh:function(e){var t=o(e=+e),n=o(-e);return t==1/0?1:n==1/0?-1:(t-n)/(i(e)+i(-e))}})},function(e,t,n){var r=n(1);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){"use strict";var r=n(1),o=n(88)(!0);r(r.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(54)("includes")},function(e,t,n){var r=n(1),o=n(154)(!1);r(r.S,"Object",{values:function(e){return o(e)}})},function(e,t,n){var r=n(1),o=n(154)(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},function(e,t,n){var r=n(1),o=n(146),i=n(20),a=n(26),u=n(102);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=i(e),s=a.f,c=o(r),l={},d=0;c.length>d;)void 0!==(n=s(r,t=c[d++]))&&u(l,t,n);return l}})},function(e,t,n){"use strict";var r=n(1),o=n(155);r(r.P,"String",{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){"use strict";var r=n(1),o=n(155);r(r.P,"String",{padEnd:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){var r=n(5),o=n(1),i=r.navigator,a=[].slice,u=!!i&&/MSIE .\./.test(i.userAgent),s=function(e){return function(t,n){var r=arguments.length>2,o=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,o)}:t,n)}};o(o.G+o.B+o.F*u,{setTimeout:s(r.setTimeout),setInterval:s(r.setInterval)})},function(e,t,n){var r=n(1),o=n(99);r(r.G+r.B,{setImmediate:o.set,clearImmediate:o.clear})},function(e,t,n){for(var r=n(97),o=n(39),i=n(29),a=n(5),u=n(18),s=n(52),c=n(8),l=c("iterator"),d=c("toStringTag"),f=s.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=o(h),m=0;m<p.length;m++){var b,v=p[m],y=h[v],g=a[v],_=g&&g.prototype;if(_&&(_[l]||u(_,l,f),_[d]||u(_,d,v),s[v]=f,y))for(b in r)_[b]||i(_,b,r[b],!0)}},function(e,t,n){(function(t){!function(t){"use strict";function n(e,t,n,r){var i=t&&t.prototype instanceof o?t:o,a=Object.create(i.prototype),u=new h(r||[]);return a._invoke=c(e,n,u),a}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function o(){}function i(){}function a(){}function u(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function s(e){function n(t,o,i,a){var u=r(e[t],e,o);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==typeof c&&y.call(c,"__await")?Promise.resolve(c.__await).then(function(e){n("next",e,i,a)},function(e){n("throw",e,i,a)}):Promise.resolve(c).then(function(e){s.value=e,i(s)},a)}a(u.arg)}function o(e,t){function r(){return new Promise(function(r,o){n(e,t,r,o)})}return i=i?i.then(r,r):r()}"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n));var i;this._invoke=o}function c(e,t,n){var o=x;return function(i,a){if(o===C)throw new Error("Generator is already running");if(o===O){if("throw"===i)throw a;return m()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=l(u,n);if(s){if(s===T)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===x)throw o=O,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=C;var c=r(e,t,n);if("normal"===c.type){if(o=n.done?O:A,c.arg===T)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=O,n.method="throw",n.arg=c.arg)}}}function l(e,t){var n=e.iterator[t.method];if(n===b){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=b,l(e,t),"throw"===t.method))return T;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,T;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=b),t.delegate=null,T):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,T)}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function f(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function h(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(d,this),this.reset(!0)}function p(e){if(e){var t=e[_];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(y.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=b,t.done=!0,t};return r.next=r}}return{next:m}}function m(){return{value:b,done:!0}}var b,v=Object.prototype,y=v.hasOwnProperty,g="function"==typeof Symbol?Symbol:{},_=g.iterator||"@@iterator",w=g.asyncIterator||"@@asyncIterator",k=g.toStringTag||"@@toStringTag",S="object"==typeof e,E=t.regeneratorRuntime;if(E)return void(S&&(e.exports=E));E=t.regeneratorRuntime=S?e.exports:{},E.wrap=n;var x="suspendedStart",A="suspendedYield",C="executing",O="completed",T={},P={};P[_]=function(){return this};var j=Object.getPrototypeOf,D=j&&j(j(p([])));D&&D!==v&&y.call(D,_)&&(P=D);var R=a.prototype=o.prototype=Object.create(P);i.prototype=R.constructor=a,a.constructor=i,a[k]=i.displayName="GeneratorFunction",E.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},E.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,k in e||(e[k]="GeneratorFunction")),e.prototype=Object.create(R),e},E.awrap=function(e){return{__await:e}},u(s.prototype),s.prototype[w]=function(){return this},E.AsyncIterator=s,E.async=function(e,t,r,o){var i=new s(n(e,t,r,o));return E.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},u(R),R[k]="Generator",R[_]=function(){return this},R.toString=function(){return"[object Generator]"},E.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},E.values=p,h.prototype={constructor:h,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=b,this.done=!1,this.delegate=null,this.method="next",this.arg=b,this.tryEntries.forEach(f),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=b)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=b),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&y.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,T):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),T},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),f(n),T}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;f(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:p(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=b),T}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,n(40))},function(e,t){e.exports={"c-btn":"c-btn--14Sst","c-btn--regular":"c-btn--regular--ScQJG","c-btn--secondary":"c-btn--secondary--2tOs3","c-btn--danger":"c-btn--danger--SdMOr","c-btn--danger-outline":"c-btn--danger-outline--1rDqB","c-btn--highlight":"c-btn--highlight--3EUjV","c-btn-client":"c-btn-client--Mf66E","c-btn-client-mobile":"c-btn-client-mobile--3mcMD",spin:"spin--2CdRK","c-btn--share":"c-btn--share--2kvo8","c-btn--send":"c-btn--send--2IwrR","c-btn--download":"c-btn--download--2y5qe","c-btn--upload":"c-btn--upload--5HH6P","c-btn--delete":"c-btn--delete--2YvhU","c-link--upload":"c-link--upload--2vFL8","c-link--delete":"c-link--delete--2V0zX","c-btn--more":"c-btn--more--3rSdw","c-btn-extra":"c-btn-extra--1IGX2","c-btn-extra--white":"c-btn-extra--white--1C-Z-","c-btn--close":"c-btn--close--198da","c-btn-alert":"c-btn-alert--2YcRa","c-btn-alert--error":"c-btn-alert--error--3Jdcd","c-btn-alert--info":"c-btn-alert--info--2yoLJ","c-btn-alert--success":"c-btn-alert--success--1xBB5","coz-sidebar":"coz-sidebar--eDSjE","o-sidebar":"o-sidebar--3wwES","c-nav":"c-nav--3C8HT","c-nav-item":"c-nav-item--2ecZM","c-nav-link":"c-nav-link--3tybs",active:"active--_k4gS","is-active":"is-active--hhp0g","coz-nav-item":"coz-nav-item--30_MZ","coz-hidden":"coz-hidden--w-FTB","u-visuallyhidden":"u-visuallyhidden--VydRe","u-hide":"u-hide--26Miv","coz-desktop":"coz-desktop--1RYF8","u-hide--mob":"u-hide--mob--3pXB9","coz-mobile":"coz-mobile--280Kw","u-hide--desk":"u-hide--desk--c3J3G","u-p-1":"u-p-1--25ucm","u-pt-1":"u-pt-1--2PbBt","u-pb-1":"u-pb-1--2M6W5","u-pl-1":"u-pl-1--2DQEV","u-pr-1":"u-pr-1--1aQoX","u-p-2":"u-p-2--k_s7V","u-pt-2":"u-pt-2--2KPcZ","u-pb-2":"u-pb-2--3yyF3","u-pl-2":"u-pl-2--3nhMy","u-pr-2":"u-pr-2--2VWeP","u-p-3":"u-p-3--15NAr","u-pt-3":"u-pt-3--3iRBu","u-pb-3":"u-pb-3--lyos_","u-pl-3":"u-pl-3--2T3z3","u-pr-3":"u-pr-3--1CGhr","u-p-half":"u-p-half--3VMci","u-pt-half":"u-pt-half--1IDql","u-pb-half":"u-pb-half--1ecK5","u-pl-half":"u-pl-half--2lEIm","u-pr-half":"u-pr-half--2he0z","u-p-1-half":"u-p-1-half--2cjgQ","u-pt-1-half":"u-pt-1-half--267xZ","u-pb-1-half":"u-pb-1-half--2ZPdR","u-pl-1-half":"u-pl-1-half--2c19j","u-pr-1-half":"u-pr-1-half--2N5xs","u-p-2-half":"u-p-2-half--WRmxN","u-pt-2-half":"u-pt-2-half--1Eyz2","u-pb-2-half":"u-pb-2-half--XgYt3","u-pl-2-half":"u-pl-2-half--2NCOQ","u-pr-2-half":"u-pr-2-half--PgBbY","u-m-1":"u-m-1--2plls","u-mt-1":"u-mt-1--1gpoy","u-mb-1":"u-mb-1--MUk84","u-ml-1":"u-ml-1--3QViV","u-mr-1":"u-mr-1--ZTbj4","u-m-2":"u-m-2--2z7L_","u-mt-2":"u-mt-2--ltWoX","u-mb-2":"u-mb-2--3K_z7","u-ml-2":"u-ml-2--_lBif","u-mr-2":"u-mr-2--3l12r","u-m-3":"u-m-3--1um-b","u-mt-3":"u-mt-3--2FqEN","u-mb-3":"u-mb-3--313sk","u-ml-3":"u-ml-3--wk9DZ","u-mr-3":"u-mr-3--1rADx","u-m-half":"u-m-half--2vPyt","u-mt-half":"u-mt-half--1XOWR","u-mb-half":"u-mb-half--3cCDG","u-ml-half":"u-ml-half--7-xWL","u-mr-half":"u-mr-half--3RxQP","u-m-1-half":"u-m-1-half--3NeGd","u-mt-1-half":"u-mt-1-half--1mEhz","u-mb-1-half":"u-mb-1-half--2uJNN","u-ml-1-half":"u-ml-1-half--21K3W","u-mr-1-half":"u-mr-1-half--1-A73","u-m-2-half":"u-m-2-half--1jGYI","u-mt-2-half":"u-mt-2-half--1ftGU","u-mb-2-half":"u-mb-2-half--3kejH","u-ml-2-half":"u-ml-2-half--3eiXf","u-mr-2-half":"u-mr-2-half--3nZ4w","coz-error":"coz-error--_suj9","u-error":"u-error--3WUFk","coz-error--warning":"coz-error--warning--26uTn","u-error--warning":"u-error--warning--flsHE","u-valid":"u-valid--3PYkH","u-warn":"u-warn--11uIC"}},function(e,t,n){"use strict";var r=n(422),o=n(423),i=n(424);e.exports=function(){function e(e,t,n,r,a,u){u!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r,i,a,u,s){if(o(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,u,s],d=0;c=new Error(t.replace(/%s/g,function(){return l[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var o=function(e){};e.exports=r},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){!function(e,n){n(t)}(0,function(e){function t(e,t,n){this.nodeName=e,this.attributes=t,this.children=n,this.key=t&&t.key}function n(e,n){var r,o,i,a,u;for(u=arguments.length;u-- >2;)q.push(arguments[u]);for(n&&n.children&&(q.length||q.push(n.children),delete n.children);q.length;)if((i=q.pop())instanceof Array)for(u=i.length;u--;)q.push(i[u]);else null!=i&&!0!==i&&!1!==i&&("number"==typeof i&&(i=String(i)),a="string"==typeof i,a&&o?r[r.length-1]+=i:((r||(r=[])).push(i),o=a));var s=new t(e,n||void 0,r||F);return N.vnode&&N.vnode(s),s}function r(e,t){if(t)for(var n in t)e[n]=t[n];return e}function o(e){return r({},e)}function i(e,t){for(var n=t.split("."),r=0;r<n.length&&e;r++)e=e[n[r]];return e}function a(e){return"function"==typeof e}function u(e){return"string"==typeof e}function s(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function c(e,t){return n(e.nodeName,r(o(e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}function l(e,t,n){var r=t.split(".");return function(t){for(var o=t&&t.target||this,a={},s=a,c=u(n)?i(t,n):o.nodeName?o.type.match(/^che|rad/)?o.checked:o.value:t,l=0;l<r.length-1;l++)s=s[r[l]]||(s[r[l]]=!l&&e.state[r[l]]||{});s[r[l]]=c,e.setState(a)}}function d(e){!e._dirty&&(e._dirty=!0)&&1==$.push(e)&&(N.debounceRendering||H)(f)}function f(){var e,t=$;for($=[];e=t.pop();)e._dirty&&R(e)}function h(e){var t=e&&e.nodeName;return t&&a(t)&&!(t.prototype&&t.prototype.render)}function p(e,t){return e.nodeName(v(e),t||W)}function m(e,t){return u(t)?e instanceof Text:u(t.nodeName)?!e._componentConstructor&&b(e,t.nodeName):a(t.nodeName)?!e._componentConstructor||e._componentConstructor===t.nodeName||h(t):void 0}function b(e,t){return e.normalizedNodeName===t||B(e.nodeName)===B(t)}function v(e){var t=o(e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function y(e){var t=e.parentNode;t&&t.removeChild(e)}function g(e,t,n,r,o){if("className"===t&&(t="class"),"class"===t&&r&&"object"==typeof r&&(r=s(r)),"key"===t);else if("class"!==t||o)if("style"===t){if((!r||u(r)||u(n))&&(e.style.cssText=r||""),r&&"object"==typeof r){if(!u(n))for(var i in n)i in r||(e.style[i]="");for(var i in r)e.style[i]="number"!=typeof r[i]||G[i]?r[i]:r[i]+"px"}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var c=e._listeners||(e._listeners={});t=B(t.substring(2)),r?c[t]||e.addEventListener(t,w,!!X[t]):c[t]&&e.removeEventListener(t,w,!!X[t]),c[t]=r}else if("list"!==t&&"type"!==t&&!o&&t in e)_(e,t,null==r?"":r),null!=r&&!1!==r||e.removeAttribute(t);else{var l=o&&t.match(/^xlink\:?(.+)/);null==r||!1===r?l?e.removeAttributeNS("http://www.w3.org/1999/xlink",B(l[1])):e.removeAttribute(t):"object"==typeof r||a(r)||(l?e.setAttributeNS("http://www.w3.org/1999/xlink",B(l[1]),r):e.setAttribute(t,r))}else e.className=r||""}function _(e,t,n){try{e[t]=n}catch(e){}}function w(e){return this._listeners[e.type](N.event&&N.event(e)||e)}function k(e){if(y(e),e instanceof Element){e._component=e._componentConstructor=null;var t=e.normalizedNodeName||B(e.nodeName);(K[t]||(K[t]=[])).push(e)}}function S(e,t){var n=B(e),r=K[n]&&K[n].pop()||(t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e));return r.normalizedNodeName=n,r}function E(){for(var e;e=J.pop();)N.afterMount&&N.afterMount(e),e.componentDidMount&&e.componentDidMount()}function x(e,t,n,r,o,i){Q++||(Z=o&&void 0!==o.ownerSVGElement,ee=e&&!(V in e));var a=A(e,t,n,r);return o&&a.parentNode!==o&&o.appendChild(a),--Q||(ee=!1,i||E()),a}function A(e,t,n,r){for(var o=t&&t.attributes&&t.attributes.ref;h(t);)t=p(t,n);if(null==t&&(t=""),u(t))return e&&e instanceof Text&&e.parentNode?e.nodeValue!=t&&(e.nodeValue=t):(e&&O(e),e=document.createTextNode(t)),e;if(a(t.nodeName))return M(e,t,n,r);var i=e,s=String(t.nodeName),c=Z,l=t.children;if(Z="svg"===s||"foreignObject"!==s&&Z,e){if(!b(e,s)){for(i=S(s,Z);e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),O(e)}}else i=S(s,Z);var d=i.firstChild,f=i[V];if(!f){i[V]=f={};for(var m=i.attributes,v=m.length;v--;)f[m[v].name]=m[v].value}return!ee&&l&&1===l.length&&"string"==typeof l[0]&&d&&d instanceof Text&&!d.nextSibling?d.nodeValue!=l[0]&&(d.nodeValue=l[0]):(l&&l.length||d)&&C(i,l,n,r,!!f.dangerouslySetInnerHTML),T(i,t.attributes,f),o&&(f.ref=o)(i),Z=c,i}function C(e,t,n,r,o){var i,a,u,s,c=e.childNodes,l=[],d={},f=0,h=0,p=c.length,b=0,v=t&&t.length;if(p)for(var g=0;g<p;g++){var _=c[g],w=_[V],k=v?(a=_._component)?a.__key:w?w.key:null:null;null!=k?(f++,d[k]=_):(ee||o||w||_ instanceof Text)&&(l[b++]=_)}if(v)for(var g=0;g<v;g++){u=t[g],s=null;var k=u.key;if(null!=k)f&&k in d&&(s=d[k],d[k]=void 0,f--);else if(!s&&h<b)for(i=h;i<b;i++)if((a=l[i])&&m(a,u)){s=a,l[i]=void 0,i===b-1&&b--,i===h&&h++;break}s=A(s,u,n,r),s&&s!==e&&(g>=p?e.appendChild(s):s!==c[g]&&(s===c[g+1]&&y(c[g]),e.insertBefore(s,c[g]||null)))}if(f)for(var g in d)d[g]&&O(d[g]);for(;h<=b;)(s=l[b--])&&O(s)}function O(e,t){var n=e._component;if(n)I(n,!t);else{e[V]&&e[V].ref&&e[V].ref(null),t||k(e);for(var r;r=e.lastChild;)O(r,t)}}function T(e,t,n){var r;for(r in n)t&&r in t||null==n[r]||g(e,r,n[r],n[r]=void 0,Z);if(t)for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||g(e,r,n[r],n[r]=t[r],Z)}function P(e){var t=e.constructor.name,n=te[t];n?n.push(e):te[t]=[e]}function j(e,t,n){var r=new e(t,n),o=te[e.name];if(L.call(r,t,n),o)for(var i=o.length;i--;)if(o[i].constructor===e){r.nextBase=o[i].nextBase,o.splice(i,1);break}return r}function D(e,t,n,r,o){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||o?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===N.syncComponentUpdates&&e.base?d(e):R(e,1,o)),e.__ref&&e.__ref(e))}function R(e,t,n,i){if(!e._disable){var u,s,c,l,d=e.props,f=e.state,m=e.context,b=e.prevProps||d,y=e.prevState||f,g=e.prevContext||m,_=e.base,w=e.nextBase,k=_||w,S=e._component;if(_&&(e.props=b,e.state=y,e.context=g,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(d,f,m)?u=!0:e.componentWillUpdate&&e.componentWillUpdate(d,f,m),e.props=d,e.state=f,e.context=m),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!u){for(e.render&&(s=e.render(d,f,m)),e.getChildContext&&(m=r(o(m),e.getChildContext()));h(s);)s=p(s,m);var A,C,T=s&&s.nodeName;if(a(T)){var P=v(s);c=S,c&&c.constructor===T&&P.key==c.__key?D(c,P,1,m):(A=c,c=j(T,P,m),c.nextBase=c.nextBase||w,c._parentComponent=e,e._component=c,D(c,P,0,m),R(c,1,n,!0)),C=c.base}else l=k,A=S,A&&(l=e._component=null),(k||1===t)&&(l&&(l._component=null),C=x(l,s,m,n||!_,k&&k.parentNode,!0));if(k&&C!==k&&c!==S){var M=k.parentNode;M&&C!==M&&(M.replaceChild(C,k),A||(k._component=null,O(k)))}if(A&&I(A,C!==k),e.base=C,C&&!i){for(var L=e,z=e;z=z._parentComponent;)(L=z).base=C;C._component=L,C._componentConstructor=L.constructor}}!_||n?J.unshift(e):u||(e.componentDidUpdate&&e.componentDidUpdate(b,y,g),N.afterUpdate&&N.afterUpdate(e));var q,F=e._renderCallbacks;if(F)for(;q=F.pop();)q.call(e);Q||i||E()}}function M(e,t,n,r){for(var o=e&&e._component,i=o,a=e,u=o&&e._componentConstructor===t.nodeName,s=u,c=v(t);o&&!s&&(o=o._parentComponent);)s=o.constructor===t.nodeName;return o&&s&&(!r||o._component)?(D(o,c,3,n,r),e=o.base):(i&&!u&&(I(i,!0),e=a=null),o=j(t.nodeName,c,n),e&&!o.nextBase&&(o.nextBase=e,a=null),D(o,c,1,n,r),e=o.base,a&&e!==a&&(a._component=null,O(a))),e}function I(e,t){N.beforeUnmount&&N.beforeUnmount(e);var n=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var r=e._component;if(r)I(r,t);else if(n){n[V]&&n[V].ref&&n[V].ref(null),e.nextBase=n,t&&(y(n),P(e));for(var o;o=n.lastChild;)O(o,!t)}e.__ref&&e.__ref(null),e.componentDidUnmount&&e.componentDidUnmount()}function L(e,t){this._dirty=!0,this.context=t,this.props=e,this.state||(this.state={})}function z(e,t,n){return x(n,e,{},!1,t)}var N={},q=[],F=[],U={},B=function(e){return U[e]||(U[e]=e.toLowerCase())},Y="undefined"!=typeof Promise&&Promise.resolve(),H=Y?function(e){Y.then(e)}:setTimeout,W={},V="undefined"!=typeof Symbol?Symbol.for("preactattr"):"__preactattr_",G={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},X={blur:1,error:1,focus:1,load:1,resize:1,scroll:1},$=[],K={},J=[],Q=0,Z=!1,ee=!1,te={};r(L.prototype,{linkState:function(e,t){var n=this._linkedStates||(this._linkedStates={});return n[e+t]||(n[e+t]=l(this,e,t))},setState:function(e,t){var n=this.state;this.prevState||(this.prevState=o(n)),r(n,a(e)?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),d(this)},forceUpdate:function(){R(this,2)},render:function(){}}),e.h=n,e.cloneElement=c,e.Component=L,e.render=z,e.rerender=f,e.options=N})},function(e,t,n){"use strict";function r(e){return null==e?void 0===e?s:u:c&&c in Object(e)?Object(i.a)(e):Object(a.a)(e)}var o=n(157),i=n(429),a=n(430),u="[object Null]",s="[object Undefined]",c=o.a?o.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";var r=n(428),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();t.a=i},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(t,n(40))},function(e,t,n){"use strict";function r(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=u.call(e);return r&&(t?e[s]=n:delete e[s]),o}var o=n(157),i=Object.prototype,a=i.hasOwnProperty,u=i.toString,s=o.a?o.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";function r(e){return i.call(e)}var o=Object.prototype,i=o.toString;t.a=r},function(e,t,n){"use strict";var r=n(432),o=Object(r.a)(Object.getPrototypeOf,Object);t.a=o},function(e,t,n){"use strict";function r(e,t){return function(n){return e(t(n))}}t.a=r},function(e,t,n){"use strict";function r(e){return null!=e&&"object"==typeof e}t.a=r},function(e,t,n){e.exports=n(435)},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(436),a=function(e){return e&&e.__esModule?e:{default:e}}(i);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var u=(0,a.default)(o);t.default=u}).call(t,n(40),n(158)(e))},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function o(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:a.a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function i(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var a=t[i];"function"==typeof e[a]&&(n[a]=e[a])}var u=Object.keys(n),s=void 0;try{o(n)}catch(e){s=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(s)throw s;for(var o=!1,i={},a=0;a<u.length;a++){var c=u[a],l=n[c],d=e[c],f=l(d,t);if(void 0===f){var h=r(c,t);throw new Error(h)}i[c]=f,o=o||f!==d}return o?i:e}}t.a=i;var a=n(156);n(105),n(159)},function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}function o(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),o={},i=0;i<n.length;i++){var a=n[i],u=e[a];"function"==typeof u&&(o[a]=r(u,t))}return o}t.a=o},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,a){var u=e(n,r,a),s=u.dispatch,c=[],l={getState:u.getState,dispatch:function(e){return s(e)}};return c=t.map(function(e){return e(l)}),s=o.a.apply(void 0,c)(u.dispatch),i({},u,{dispatch:s})}}}t.a=r;var o=n(160),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}t.__esModule=!0;var o=r();o.withExtraArgument=r,t.default=o},function(e,t,n){(function(e){!function(e,n){n(t)}(0,function(t){"use strict";function n(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function o(e,t,n){o.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function i(e,t){i.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function a(e,t){a.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function u(e,t,n){u.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function s(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t=void 0===e?"undefined":P(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(e,t,n,r,d,f,h){d=d||[],h=h||[];var p=d.slice(0);if(void 0!==f){if(r){if("function"==typeof r&&r(p,f))return;if("object"===(void 0===r?"undefined":P(r))){if(r.prefilter&&r.prefilter(p,f))return;if(r.normalize){var m=r.normalize(p,f,e,t);m&&(e=m[0],t=m[1])}}}p.push(f)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var b=void 0===e?"undefined":P(e),v=void 0===t?"undefined":P(t),y="undefined"!==b||h&&h[h.length-1].lhs&&h[h.length-1].lhs.hasOwnProperty(f),g="undefined"!==v||h&&h[h.length-1].rhs&&h[h.length-1].rhs.hasOwnProperty(f);if(!y&&g)n(new i(p,t));else if(!g&&y)n(new a(p,e));else if(c(e)!==c(t))n(new o(p,e,t));else if("date"===c(e)&&e-t!=0)n(new o(p,e,t));else if("object"===b&&null!==e&&null!==t)if(h.filter(function(t){return t.lhs===e}).length)e!==t&&n(new o(p,e,t));else{if(h.push({lhs:e,rhs:t}),Array.isArray(e)){var _;for(e.length,_=0;_<e.length;_++)_>=t.length?n(new u(p,_,new a(void 0,e[_]))):l(e[_],t[_],n,r,p,_,h);for(;_<t.length;)n(new u(p,_,new i(void 0,t[_++])))}else{var w=Object.keys(e),k=Object.keys(t);w.forEach(function(o,i){var a=k.indexOf(o);a>=0?(l(e[o],t[o],n,r,p,o,h),k=s(k,a)):l(e[o],void 0,n,r,p,o,h)}),k.forEach(function(e){l(void 0,t[e],n,r,p,e,h)})}h.length=h.length-1}else e!==t&&("number"===b&&isNaN(e)&&isNaN(t)||n(new o(p,e,t)))}function d(e,t,n,r){return r=r||[],l(e,t,function(e){e&&r.push(e)},n),r.length?r:void 0}function f(e,t,n){if(n.path&&n.path.length){var r,o=e[t],i=n.path.length-1;for(r=0;r<i;r++)o=o[n.path[r]];switch(n.kind){case"A":f(o[n.path[r]],n.index,n.item);break;case"D":delete o[n.path[r]];break;case"E":case"N":o[n.path[r]]=n.rhs}}else switch(n.kind){case"A":f(e[t],n.index,n.item);break;case"D":e=s(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function h(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,o=-1,i=n.path?n.path.length-1:0;++o<i;)void 0===r[n.path[o]]&&(r[n.path[o]]="number"==typeof n.path[o]?[]:{}),r=r[n.path[o]];switch(n.kind){case"A":f(n.path?r[n.path[o]]:r,n.index,n.item);break;case"D":delete r[n.path[o]];break;case"E":case"N":r[n.path[o]]=n.rhs}}}function p(e,t,n){if(n.path&&n.path.length){var r,o=e[t],i=n.path.length-1;for(r=0;r<i;r++)o=o[n.path[r]];switch(n.kind){case"A":p(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}else switch(n.kind){case"A":p(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=s(e,t)}return e}function m(e,t,n){if(e&&t&&n&&n.kind){var r,o,i=e;for(o=n.path.length-1,r=0;r<o;r++)void 0===i[n.path[r]]&&(i[n.path[r]]={}),i=i[n.path[r]];switch(n.kind){case"A":p(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}}function b(e,t,n){if(e&&t){l(e,t,function(r){n&&!n(e,t,r)||h(e,t,r)})}}function v(e){return"color: "+R[e].color+"; font-weight: bold"}function y(e){var t=e.kind,n=e.path,r=e.lhs,o=e.rhs,i=e.index,a=e.item;switch(t){case"E":return[n.join("."),r,"",o];case"N":return[n.join("."),o];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+i+"]",a];default:return[]}}function g(e,t,n,r){var o=d(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}o?o.forEach(function(e){var t=e.kind,r=y(e);n.log.apply(n,["%c "+R[t].text,v(t)].concat(j(r)))}):n.log(" no diff ");try{n.groupEnd()}catch(e){n.log(" diff end  ")}}function _(e,t,n,r){switch(void 0===e?"undefined":P(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,j(n)):e[r];case"function":return e(t);default:return e}}function w(e){var t=e.timestamp,n=e.duration;return function(e,r,o){var i=["action"];return i.push("%c"+String(e.type)),t&&i.push("%c@ "+r),n&&i.push("%c(in "+o.toFixed(2)+" ms)"),i.join(" ")}}function k(e,t){var n=t.logger,r=t.actionTransformer,o=t.titleFormatter,i=void 0===o?w(t):o,a=t.collapsed,u=t.colors,s=t.level,c=t.diff,l=void 0===t.titleFormatter;e.forEach(function(o,d){var f=o.started,h=o.startedTime,p=o.action,m=o.prevState,b=o.error,v=o.took,y=o.nextState,w=e[d+1];w&&(y=w.prevState,v=w.started-f);var k=r(p),S="function"==typeof a?a(function(){return y},p,o):a,E=O(h),x=u.title?"color: "+u.title(k)+";":"",A=["color: gray; font-weight: lighter;"];A.push(x),t.timestamp&&A.push("color: gray; font-weight: lighter;"),t.duration&&A.push("color: gray; font-weight: lighter;");var C=i(k,E,v);try{S?u.title&&l?n.groupCollapsed.apply(n,["%c "+C].concat(A)):n.groupCollapsed(C):u.title&&l?n.group.apply(n,["%c "+C].concat(A)):n.group(C)}catch(e){n.log(C)}var T=_(s,k,[m],"prevState"),P=_(s,k,[k],"action"),j=_(s,k,[b,m],"error"),D=_(s,k,[y],"nextState");if(T)if(u.prevState){var R="color: "+u.prevState(m)+"; font-weight: bold";n[T]("%c prev state",R,m)}else n[T]("prev state",m);if(P)if(u.action){var M="color: "+u.action(k)+"; font-weight: bold";n[P]("%c action    ",M,k)}else n[P]("action    ",k);if(b&&j)if(u.error){var I="color: "+u.error(b,m)+"; font-weight: bold;";n[j]("%c error     ",I,b)}else n[j]("error     ",b);if(D)if(u.nextState){var L="color: "+u.nextState(y)+"; font-weight: bold";n[D]("%c next state",L,y)}else n[D]("next state",y);c&&g(m,y,n,S);try{n.groupEnd()}catch(e){n.log(" log end ")}})}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},M,e),n=t.logger,r=t.stateTransformer,o=t.errorTransformer,i=t.predicate,a=t.logErrors,u=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var s=[];return function(e){var n=e.getState;return function(e){return function(c){if("function"==typeof i&&!i(n,c))return e(c);var l={};s.push(l),l.started=T.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=c;var d=void 0;if(a)try{d=e(c)}catch(e){l.error=o(e)}else d=e(c);l.took=T.now()-l.started,l.nextState=r(n());var f=t.diff&&"function"==typeof u?u(n,c):t.diff;if(k(s,Object.assign({},t,{diff:f})),s.length=0,l.error)throw l.error;return d}}}}var E,x,A=function(e,t){return new Array(t+1).join(e)},C=function(e,t){return A("0",t-e.toString().length)+e},O=function(e){return C(e.getHours(),2)+":"+C(e.getMinutes(),2)+":"+C(e.getSeconds(),2)+"."+C(e.getMilliseconds(),3)},T="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},D=[];E="object"===(void 0===e?"undefined":P(e))&&e?e:"undefined"!=typeof window?window:{},x=E.DeepDiff,x&&D.push(function(){void 0!==x&&E.DeepDiff===d&&(E.DeepDiff=x,x=void 0)}),n(o,r),n(i,r),n(a,r),n(u,r),Object.defineProperties(d,{diff:{value:d,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:b,enumerable:!0},applyChange:{value:h,enumerable:!0},revertChange:{value:m,enumerable:!0},isConflict:{value:function(){return void 0!==x},enumerable:!0},noConflict:{value:function(){return D&&(D.forEach(function(e){e()}),D=null),d},enumerable:!0}});var R={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},M={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?S()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};t.defaults=M,t.createLogger=S,t.logger=I,t.default=I,Object.defineProperty(t,"__esModule",{value:!0})})}).call(t,n(40))},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var o=n(11),i=n.n(o),a=n(0),u=n(161),s=n(67),c=n(107),l=n(32),d=n(163),f=(n(56),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),h=a.default.PropTypes,p=h.func,m=h.object,b={history:m,children:s.d,routes:s.d,render:p,createElement:p,onError:p,onUpdate:p,matchContext:m},v=a.default.createClass({displayName:"Router",propTypes:b,getDefaultProps:function(){return{render:function(e){return a.default.createElement(c.a,e)}}},getInitialState:function(){return{location:null,routes:null,params:null,components:null}},handleError:function(e){if(!this.props.onError)throw e;this.props.onError.call(this,e)},createRouterObject:function(e){var t=this.props.matchContext;if(t)return t.router;var n=this.props.history;return Object(d.b)(n,this.transitionManager,e)},createTransitionManager:function(){var e=this.props.matchContext;if(e)return e.transitionManager;var t=this.props.history,n=this.props,r=n.routes,o=n.children;return t.getCurrentLocation||i()(!1),Object(u.a)(t,Object(l.b)(r||o))},componentWillMount:function(){var e=this;this.transitionManager=this.createTransitionManager(),this.router=this.createRouterObject(this.state),this._unlisten=this.transitionManager.listen(function(t,n){t?e.handleError(t):(Object(d.a)(e.router,n),e.setState(n,e.props.onUpdate))})},componentWillReceiveProps:function(e){},componentWillUnmount:function(){this._unlisten&&this._unlisten()},render:function(){var e=this.state,t=e.location,n=e.routes,o=e.params,i=e.components,a=this.props,u=a.createElement,s=a.render,c=r(a,["createElement","render"]);return null==t?null:(Object.keys(b).forEach(function(e){return delete c[e]}),s(f({},c,{router:this.router,location:t,routes:n,params:o,components:i,createElement:u})))}});t.a=v},function(e,t,n){"use strict";function r(e,t,n){return!!e.path&&Object(i.b)(e.path).some(function(e){return t.params[e]!==n.params[e]})}function o(e,t){var n=e&&e.routes,o=t.routes,i=void 0,a=void 0,u=void 0;if(n){var s=!1;i=n.filter(function(n){if(s)return!0;var i=-1===o.indexOf(n)||r(n,e,t);return i&&(s=!0),i}),i.reverse(),u=[],a=[],o.forEach(function(e){var t=-1===n.indexOf(e),r=-1!==i.indexOf(e);t||r?u.push(e):a.push(e)})}else i=[],a=[],u=o;return{leaveRoutes:i,changeRoutes:a,enterRoutes:u}}var i=n(57);t.a=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,r){var o=e.length<n,i=function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];if(e.apply(t,r),o){(0,r[r.length-1])()}};return r.add(i),i}function i(e){return e.reduce(function(e,t){return t.onEnter&&e.push(o(t.onEnter,t,3,h)),e},[])}function a(e){return e.reduce(function(e,t){return t.onChange&&e.push(o(t.onChange,t,4,p)),e},[])}function u(e,t,n){function r(e){o=e}if(!e)return void n();var o=void 0;Object(d.a)(e,function(e,n,i){t(e,r,function(e){e||o?i(e,o):n()})},n)}function s(e,t,n){h.clear();var r=i(e);return u(r.length,function(e,n,o){var i=function(){h.has(r[e])&&(o.apply(void 0,arguments),h.remove(r[e]))};r[e](t,n,i)},n)}function c(e,t,n,r){p.clear();var o=a(e);return u(o.length,function(e,r,i){var a=function(){p.has(o[e])&&(i.apply(void 0,arguments),p.remove(o[e]))};o[e](t,n,r,a)},r)}function l(e,t){for(var n=0,r=e.length;n<r;++n)e[n].onLeave&&e[n].onLeave.call(e[n],t)}t.b=s,t.a=c,t.c=l;var d=n(106),f=function e(){var t=this;r(this,e),this.hooks=[],this.add=function(e){return t.hooks.push(e)},this.remove=function(e){return t.hooks=t.hooks.filter(function(t){return t!==e})},this.has=function(e){return-1!==t.hooks.indexOf(e)},this.clear=function(){return t.hooks=[]}},h=new f,p=new f},function(e,t,n){"use strict";function r(e,t){if(e==t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return r(e,t[n])});if("object"===(void 0===e?"undefined":c(e))){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))if(void 0===e[n]){if(void 0!==t[n])return!1}else{if(!Object.prototype.hasOwnProperty.call(t,n))return!1;if(!r(e[n],t[n]))return!1}return!0}return String(e)===String(t)}function o(e,t){return"/"!==t.charAt(0)&&(t="/"+t),"/"!==e.charAt(e.length-1)&&(e+="/"),"/"!==t.charAt(t.length-1)&&(t+="/"),t===e}function i(e,t,n){for(var r=e,o=[],i=[],a=0,u=t.length;a<u;++a){var c=t[a],l=c.path||"";if("/"===l.charAt(0)&&(r=e,o=[],i=[]),null!==r&&l){var d=Object(s.c)(l,r);if(d?(r=d.remainingPathname,o=[].concat(o,d.paramNames),i=[].concat(i,d.paramValues)):r=null,""===r)return o.every(function(e,t){return String(i[t])===String(n[e])})}}return!1}function a(e,t){return null==t?null==e:null==e||r(e,t)}function u(e,t,n,r,u){var s=e.pathname,c=e.query;return null!=n&&("/"!==s.charAt(0)&&(s="/"+s),!!(o(s,n.pathname)||!t&&i(s,r,u))&&a(c,n.query))}t.a=u;var s=n(57),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}},function(e,t,n){"use strict";function r(e,t,n){if(t.component||t.components)return void n(null,t.component||t.components);var r=t.getComponent||t.getComponents;if(r){var o=r.call(t,e,n);Object(a.a)(o)&&o.then(function(e){return n(null,e)},n)}else n()}function o(e,t){Object(i.b)(e.routes,function(t,n,o){r(e,t,o)},t)}var i=n(106),a=n(162);t.a=o},function(e,t,n){"use strict";function r(e,t,n,r,o){if(e.childRoutes)return[null,e.childRoutes];if(!e.getChildRoutes)return[];var i=!0,u=void 0,s={location:t,params:a(n,r)},c=e.getChildRoutes(s,function(e,t){if(t=!e&&Object(f.b)(t),i)return void(u=[e,t]);o(e,t)});return Object(l.a)(c)&&c.then(function(e){return o(null,Object(f.b)(e))},o),i=!1,u}function o(e,t,n,i,u){if(e.indexRoute)u(null,e.indexRoute);else if(e.getIndexRoute){var s={location:t,params:a(n,i)},d=e.getIndexRoute(s,function(e,t){u(e,!e&&Object(f.b)(t)[0])});Object(l.a)(d)&&d.then(function(e){return u(null,Object(f.b)(e)[0])},u)}else if(e.childRoutes||e.getChildRoutes){var h=function(e,r){if(e)return void u(e);var a=r.filter(function(e){return!e.path});Object(c.a)(a.length,function(e,r,u){o(a[e],t,n,i,function(t,n){if(t||n){var o=[a[e]].concat(Array.isArray(n)?n:[n]);u(t,o)}else r()})},function(e,t){u(null,t)})},p=r(e,t,n,i,h);p&&h.apply(void 0,p)}else u()}function i(e,t,n){return t.reduce(function(e,t,r){var o=n&&n[r];return Array.isArray(e[t])?e[t].push(o):e[t]=t in e?[e[t],o]:o,e},e)}function a(e,t){return i({},e,t)}function u(e,t,n,i,u,c){var l=e.path||"";if("/"===l.charAt(0)&&(n=t.pathname,i=[],u=[]),null!==n&&l){try{var f=Object(d.c)(l,n);f?(n=f.remainingPathname,i=[].concat(i,f.paramNames),u=[].concat(u,f.paramValues)):n=null}catch(e){c(e)}if(""===n){var h={routes:[e],params:a(i,u)};return void o(e,t,i,u,function(e,t){if(e)c(e);else{if(Array.isArray(t)){var n;(n=h.routes).push.apply(n,t)}else t&&h.routes.push(t);c(null,h)}})}}if(null!=n||e.childRoutes){var p=function(r,o){r?c(r):o?s(o,t,function(t,n){t?c(t):n?(n.routes.unshift(e),c(null,n)):c()},n,i,u):c()},m=r(e,t,i,u,p);m&&p.apply(void 0,m)}else c()}function s(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];void 0===r&&("/"!==t.pathname.charAt(0)&&(t=h({},t,{pathname:"/"+t.pathname})),r=t.pathname),Object(c.a)(e.length,function(n,a,s){u(e[n],t,r,o,i,function(e,t){e||t?s(e,t):a()})},n)}t.a=s;var c=n(106),l=n(162),d=n(57),f=(n(56),n(32)),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";function r(e,t){var n={};return e.path?(Object(o.b)(e.path).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}),n):n}var o=n(57);t.a=r},function(e,t,n){"use strict";var r=n(0),o=n(164),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=r.default.createClass({displayName:"IndexLink",render:function(){return r.default.createElement(o.a,i({},this.props,{onlyActiveOnIndex:!0}))}});t.a=a},function(e,t,n){"use strict";function r(e){return e.displayName||e.name||"Component"}function o(e,t){var n=t&&t.withRef,o=u.default.createClass({displayName:"WithRouter",mixins:[Object(l.b)("router")],contextTypes:{router:d.b},propTypes:{router:d.b},getWrappedInstance:function(){return n||a()(!1),this.wrappedInstance},render:function(){var t=this,r=this.props.router||this.context.router;if(!r)return u.default.createElement(e,this.props);var o=r.params,i=r.location,a=r.routes,s=f({},this.props,{router:r,params:o,location:i,routes:a});return n&&(s.ref=function(e){t.wrappedInstance=e}),u.default.createElement(e,s)}});return o.displayName="withRouter("+r(e)+")",o.WrappedComponent=e,c()(o,e)}t.a=o;var i=n(11),a=n.n(i),u=n(0),s=n(451),c=n.n(s),l=n(108),d=n(109),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},i="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,n){if("string"!=typeof t){var a=Object.getOwnPropertyNames(t);i&&(a=a.concat(Object.getOwnPropertySymbols(t)));for(var u=0;u<a.length;++u)if(!(r[a[u]]||o[a[u]]||n&&n[a[u]]))try{e[a[u]]=t[a[u]]}catch(e){}}return e}},function(e,t,n){"use strict";var r=n(0),o=(n(56),n(11)),i=n.n(o),a=n(165),u=n(67),s=r.default.PropTypes,c=s.string,l=s.object,d=r.default.createClass({displayName:"IndexRedirect",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=a.a.createRouteFromReactElement(e))}},propTypes:{to:c.isRequired,query:l,state:l,onEnter:u.c,children:u.c},render:function(){i()(!1)}});t.a=d},function(e,t,n){"use strict";var r=n(0),o=(n(56),n(11)),i=n.n(o),a=n(32),u=n(67),s=r.default.PropTypes.func,c=r.default.createClass({displayName:"IndexRoute",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=Object(a.a)(e))}},propTypes:{path:u.c,component:u.a,components:u.b,getComponent:s,getComponents:s},render:function(){i()(!1)}});t.a=c},function(e,t,n){"use strict";var r=n(0),o=n(11),i=n.n(o),a=n(32),u=n(67),s=r.default.PropTypes,c=s.string,l=s.func,d=r.default.createClass({displayName:"Route",statics:{createRouteFromReactElement:a.a},propTypes:{path:c,component:u.a,components:u.b,getComponent:l,getComponents:l},render:function(){i()(!1)}});t.a=d},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){var n=e.history,o=e.routes,a=e.location,h=r(e,["history","routes","location"]);n||a||u()(!1),n=n||Object(s.a)(h);var p=Object(c.a)(n,Object(l.b)(o));a=a?n.createLocation(a):n.getCurrentLocation(),p.match(a,function(e,r,o){var a=void 0;if(o){var u=Object(d.b)(n,p,o);a=f({},o,{router:u,matchContext:{transitionManager:p,router:u}})}t(e,r&&n.createLocation(r,i.REPLACE),a)})}var i=n(76),a=(n.n(i),n(11)),u=n.n(a),s=n(166),c=n(161),l=n(32),d=n(163),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.a=o},function(e,t,n){"use strict";function r(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[i(t,e),"[",r,"]"].join(""):[i(t,e),"[",i(r,e),"]=",i(n,e)].join("")};case"bracket":return function(t,n){return null===n?i(t,e):[i(t,e),"[]=",i(n,e)].join("")};default:return function(t,n){return null===n?i(t,e):[i(t,e),"=",i(n,e)].join("")}}}function o(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t)return void(r[e]=n);void 0===r[e]&&(r[e]={}),r[e][t[1]]=n};case"bracket":return function(e,n,r){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===r[e]?void(r[e]=[n]):void(r[e]=[].concat(r[e],n)):void(r[e]=n)};default:return function(e,t,n){if(void 0===n[e])return void(n[e]=t);n[e]=[].concat(n[e],t)}}}function i(e,t){return t.encode?t.strict?u(e):encodeURIComponent(e):e}function a(e){return Array.isArray(e)?e.sort():"object"==typeof e?a(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}var u=n(457),s=n(458);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){t=s({arrayFormat:"none"},t);var n=o(t),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),o=t.shift(),i=t.length>0?t.join("="):void 0;i=void 0===i?null:decodeURIComponent(i),n(decodeURIComponent(o),i,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=a(n):e[t]=n,e},Object.create(null))):r},t.stringify=function(e,t){t=s({encode:!0,strict:!0,arrayFormat:"none"},t);var n=r(t);return e?Object.keys(e).sort().map(function(r){var o=e[r];if(void 0===o)return"";if(null===o)return i(r,t);if(Array.isArray(o)){var a=[];return o.slice().forEach(function(e){void 0!==e&&a.push(n(r,e,a.length))}),a.join("&")}return i(r,t)+"="+i(o,t)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,u,s=r(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)i.call(n,l)&&(s[l]=n[l]);if(o){u=o(n);for(var d=0;d<u.length;d++)a.call(n,u[d])&&(s[u[d]]=n[u[d]])}}return s}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(22),a=(r(i),n(11)),u=r(a),s=n(58),c=n(33),l=n(111),d=r(l),f=n(76),h=function(e){return e.filter(function(e){return e.state}).reduce(function(e,t){return e[t.key]=t.state,e},{})},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Array.isArray(e)?e={entries:e}:"string"==typeof e&&(e={entries:[e]});var t=function(){var e=m[b],t=(0,c.createPath)(e),n=void 0,r=void 0;e.key&&(n=e.key,r=g(n));var i=(0,c.parsePath)(t);return(0,s.createLocation)(o({},i,{state:r}),void 0,n)},n=function(e){var t=b+e;return t>=0&&t<m.length},r=function(e){if(e&&n(e)){b+=e;var r=t();l.transitionTo(o({},r,{action:f.POP}))}},i=function(e){b+=1,b<m.length&&m.splice(b),m.push(e),y(e.key,e.state)},a=function(e){m[b]=e,y(e.key,e.state)},l=(0,d.default)(o({},e,{getCurrentLocation:t,pushLocation:i,replaceLocation:a,go:r})),p=e,m=p.entries,b=p.current;"string"==typeof m?m=[m]:Array.isArray(m)||(m=["/"]),m=m.map(function(e){return(0,s.createLocation)(e)}),null==b?b=m.length-1:b>=0&&b<m.length||(0,u.default)(!1);var v=h(m),y=function(e,t){return v[e]=t},g=function(e){return v[e]};return o({},l,{canGo:n})};t.default=p},function(e,t,n){"use strict";t.__esModule=!0;t.loopAsync=function(e,t,n){var r=0,o=!1,i=!1,a=!1,u=void 0,s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(o=!0,i)return void(u=t);n.apply(void 0,t)};!function c(){if(!o&&(a=!0,!i)){for(i=!0;!o&&r<e&&a;)a=!1,t(r++,c,s);if(i=!1,o)return void n.apply(void 0,u);r>=e&&a&&(o=!0,n())}}()}},function(e,t,n){"use strict";var r=n(0),o=n(107),i=(n(56),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e});t.a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.map(function(e){return e.renderRouterContext}).filter(Boolean),u=t.map(function(e){return e.renderRouteComponent}).filter(Boolean),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.createElement;return function(t,n){return u.reduceRight(function(e,t){return t(e,n)},e(t,n))}};return function(e){return a.reduceRight(function(t,n){return n(t,e)},r.default.createElement(o.a,i({},e,{createElement:s(e.createElement)})))}}},function(e,t,n){"use strict";var r=n(463),o=n.n(r),i=n(171);t.a=Object(i.a)(o.a)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(11),u=o(a),s=n(112),c=n(113),l=r(c),d=n(464),f=r(d),h=n(77),p=n(111),m=o(p),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.canUseDOM||(0,u.default)(!1);var t=e.forceRefresh||!(0,h.supportsHistory)(),n=t?f:l,r=n.getUserConfirmation,o=n.getCurrentLocation,a=n.pushLocation,c=n.replaceLocation,d=n.go,p=(0,m.default)(i({getUserConfirmation:r},e,{getCurrentLocation:o,pushLocation:a,replaceLocation:c,go:d})),b=0,v=void 0,y=function(e,t){1==++b&&(v=l.startListener(p.transitionTo));var n=t?p.listenBefore(e):p.listen(e);return function(){n(),0==--b&&v()}};return i({},p,{listenBefore:function(e){return y(e,!0)},listen:function(e){return y(e,!1)}})};t.default=b},function(e,t,n){"use strict";t.__esModule=!0,t.replaceLocation=t.pushLocation=t.getCurrentLocation=t.go=t.getUserConfirmation=void 0;var r=n(113);Object.defineProperty(t,"getUserConfirmation",{enumerable:!0,get:function(){return r.getUserConfirmation}}),Object.defineProperty(t,"go",{enumerable:!0,get:function(){return r.go}});var o=n(58),i=n(33);t.getCurrentLocation=function(){return(0,o.createLocation)(window.location)},t.pushLocation=function(e){return window.location.href=(0,i.createPath)(e),!1},t.replaceLocation=function(e){return window.location.replace((0,i.createPath)(e)),!1}},function(e,t,n){"use strict";var r=n(466),o=n.n(r),i=n(171);t.a=Object(i.a)(o.a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(22),a=(r(i),n(11)),u=r(a),s=n(112),c=n(77),l=n(467),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),f=n(111),h=r(f),p=function(e){return"/"===e.charAt(0)?e:"/"+e},m={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!"+e},decodePath:function(e){return"!"===e.charAt(0)?e.substring(1):e}},noslash:{encodePath:function(e){return"/"===e.charAt(0)?e.substring(1):e},decodePath:p},slash:{encodePath:p,decodePath:p}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.canUseDOM||(0,u.default)(!1);var t=e.queryKey,n=e.hashType;"string"!=typeof t&&(t="_k"),null==n&&(n="slash"),n in m||(n="slash");var r=m[n],i=d.getUserConfirmation,a=function(){return d.getCurrentLocation(r,t)},l=function(e){return d.pushLocation(e,r,t)},f=function(e){return d.replaceLocation(e,r,t)},p=(0,h.default)(o({getUserConfirmation:i},e,{getCurrentLocation:a,pushLocation:l,replaceLocation:f,go:d.go})),b=0,v=void 0,y=function(e,n){1==++b&&(v=d.startListener(p.transitionTo,r,t));var o=n?p.listenBefore(e):p.listen(e);return function(){o(),0==--b&&v()}},g=function(e){return y(e,!0)},_=function(e){return y(e,!1)};(0,c.supportsGoWithoutReloadUsingHash)();return o({},p,{listenBefore:g,listen:_,go:function(e){p.go(e)},createHref:function(e){return"#"+r.encodePath(p.createHref(e))}})};t.default=b},function(e,t,n){"use strict";t.__esModule=!0,t.replaceLocation=t.pushLocation=t.startListener=t.getCurrentLocation=t.go=t.getUserConfirmation=void 0;var r=n(113);Object.defineProperty(t,"getUserConfirmation",{enumerable:!0,get:function(){return r.getUserConfirmation}}),Object.defineProperty(t,"go",{enumerable:!0,get:function(){return r.go}});var o=n(22),i=(function(e){e&&e.__esModule}(o),n(58)),a=n(77),u=n(170),s=n(33),c=function(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)},l=function(e){return window.location.hash=e},d=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},f=t.getCurrentLocation=function(e,t){var n=e.decodePath(c()),r=(0,s.getQueryStringValueFromPath)(n,t),o=void 0;r&&(n=(0,s.stripQueryStringValueFromPath)(n,t),o=(0,u.readState)(r));var a=(0,s.parsePath)(n);return a.state=o,(0,i.createLocation)(a,void 0,r)},h=void 0,p=(t.startListener=function(e,t,n){var r=function(){var r=c(),o=t.encodePath(r);if(r!==o)d(o);else{var i=f(t,n);if(h&&i.key&&h.key===i.key)return;h=i,e(i)}},o=c(),i=t.encodePath(o);return o!==i&&d(i),(0,a.addEventListener)(window,"hashchange",r),function(){return(0,a.removeEventListener)(window,"hashchange",r)}},function(e,t,n,r){var o=e.state,i=e.key,a=t.encodePath((0,s.createPath)(e));void 0!==o&&(a=(0,s.addQueryStringValueToPath)(a,n,i),(0,u.saveState)(i,o)),h=e,r(a)});t.pushLocation=function(e,t,n){return p(e,t,n,function(e){c()!==e&&l(e)})},t.replaceLocation=function(e,t,n){return p(e,t,n,function(e){c()!==e&&d(e)})}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=n(13),c=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"getChildContext",value:function(){return{store:this.props.store||this.context.store,client:this.props.client}}},{key:"render",value:function(){return this.props.children&&this.props.children[0]||null}}]),t}(u.Component);l.propTypes={store:c.default.shape({subscribe:c.default.func.isRequired,dispatch:c.default.func.isRequired,getState:c.default.func.isRequired}),client:c.default.object.isRequired,children:c.default.element.isRequired},l.childContextTypes={store:c.default.object,client:c.default.object.isRequired},l.contextTypes={store:c.default.object},t.default=l},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(470),d=r(l),f=n(183),h=r(f),p=n(184),m=r(p),b=n(503),v=n(78),y=function(){function t(e){u(this,t);var n=e.cozyURL,r=a(e,["cozyURL"]);this.options=r,this.collections={},this.indexes={},this.specialDirectories={},this.facade=new d.default,n&&this.facade.setup(n,r),this.defineSpecialCollections()}return c(t,[{key:"register",value:function(t){return this.facade.setup(t,s({},this.options,{oauth:s({},this.options.oauth,{onRegistered:function(e,t){return(0,b.authenticateWithCordova)(t)}})})),e.authorize(!0)}},{key:"getUrl",value:function(){return this.facade.getUrl()}},{key:"isV2",value:function(e){return(0,v.isV2)(e)}},{key:"isRegistered",value:function(){function t(e){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return",!1);case 2:return t.prev=2,t.next=5,e.auth.getClient(n);case 5:return t.abrupt("return",!0);case 8:if(t.prev=8,t.t0=t.catch(2),"Failed to fetch"!==t.t0.message){t.next=14;break}return t.abrupt("return",!0);case 14:return console.warn(t.t0),t.abrupt("return",!1);case 16:case"end":return t.stop()}},t,this,[[2,8]])}));return t}()},{key:"defineCollection",value:function(e,t){this.collections[e]=t}},{key:"defineSpecialCollections",value:function(){this.defineCollection(f.SHARINGS_DOCTYPE,new h.default),this.defineCollection(p.APPS_DOCTYPE,new m.default)}},{key:"getCollection",value:function(e){if(!this.collections[e])throw new Error("No collection found for doctype "+e);return this.collections[e]}},{key:"startSync",value:function(e){return this.facade.startSync(e)}},{key:"startReplicationTo",value:function(e){return this.facade.startReplicationTo(e)}},{key:"startReplicationFrom",value:function(e){return this.facade.startReplicationFrom(e)}},{key:"getAdapter",value:function(e){return this.facade.getAdapter(e)}},{key:"fetchDocuments",value:function(){function e(e,n){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.selector){e.next=5;break}return e.next=3,this.getQueryIndex(t,n,o);case 3:return r=e.sent,e.abrupt("return",this.getAdapter(n).queryDocuments(n,r,s({},o,{skip:i})));case 5:return e.abrupt("return",this.getAdapter(n).fetchDocuments(n));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDocument",value:function(e,t){return this.getAdapter(e).fetchDocument(e,t)}},{key:"fetchFile",value:function(e){return this.getAdapter("io.cozy.files").fetchFile(e)}},{key:"fetchReferencedFiles",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.getAdapter(e._type).fetchReferencedFiles(e,t)}},{key:"addReferencedFiles",value:function(e,t){return this.getAdapter(e._type).addReferencedFiles(e,t)}},{key:"removeReferencedFiles",value:function(e,t){return this.getAdapter(e._type).removeReferencedFiles(e,t)}},{key:"createDocument",value:function(e,t){return this.getAdapter(e).createDocument(e,t)}},{key:"updateDocument",value:function(e){return this.getAdapter(e._type).updateDocument(e)}},{key:"updateDocuments",value:function(e,t,n){return this.getAdapter(e).updateDocuments(e,t,n)}},{key:"deleteDocument",value:function(e){return this.getAdapter(e._type).deleteDocument(e)}},{key:"deleteDocuments",value:function(e,t){return this.getAdapter(e).deleteDocuments(e,t)}},{key:"createFile",value:function(e,t){return this.getAdapter("io.cozy.files").createFile(e,t)}},{key:"trashFile",value:function(e){return this.getAdapter("io.cozy.files").trashFile(e)}},{key:"ensureDirectoryExists",value:function(){function t(e){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.specialDirectories[n]){t.next=5;break}return t.next=3,e.files.createDirectoryByPath(n);case 3:r=t.sent,this.specialDirectories[n]=r._id;case 5:return t.abrupt("return",this.specialDirectories[n]);case 6:case"end":return t.stop()}},t,this)}));return t}()},{key:"checkUniquenessOf",value:function(){function t(e,t,r){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n,r,i){var a,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getUniqueIndex(n,r);case 2:return a=t.sent,t.next=5,e.data.query(a,{selector:o({},r,i),fields:["_id"]});case 5:return u=t.sent,t.abrupt("return",0===u.length);case 7:case"end":return t.stop()}},t,this)}));return t}()},{key:"getQueryIndex",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.indexes[t]){e.next=4;break}return e.next=3,this.getAdapter(n).createIndex(n,(0,v.getIndexFields)(r));case 3:this.indexes[t]=e.sent;case 4:return e.abrupt("return",this.indexes[t]);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"getUniqueIndex",value:function(){function e(e,n){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t+"/"+n,this.indexes[r]){e.next=5;break}return e.next=4,this.getAdapter(t).createIndex(t,[n]);case 4:this.indexes[r]=e.sent;case 5:return e.abrupt("return",this.indexes[r]);case 6:case"end":return e.stop()}},e,this)}));return e}()}]),t}();t.default=y}).call(t,n(17))},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(471),c=r(s),l=n(472),d=r(l),f=function(){function t(){i(this,t),this.url=null,this.stackAdapter=new c.default,this.pouchAdapter=new d.default}return u(t,[{key:"setup",value:function(t,n){this.url=t;var r=n.offline,i=o(n,["offline"]),u=r&&r.doctypes&&-1!==r.doctypes.indexOf("io.cozy.files")?a({cozyURL:t,offline:{doctypes:["io.cozy.files"]}},i):a({cozyURL:t},i);e.init(u),r&&r.doctypes?(this.pouchAdapter.registerDoctypes(r.doctypes),this.strategy=new h):this.strategy=new p}},{key:"getUrl",value:function(){return this.url}},{key:"getAdapter",value:function(e){return this.strategy.getAdapter(e,this.stackAdapter,this.pouchAdapter)}},{key:"startSync",value:function(e){return this.pouchAdapter.startSync(e,l.SYNC_BIDIRECTIONAL)}},{key:"startReplicationTo",value:function(e){return this.pouchAdapter.startSync(e,l.SYNC_TO)}},{key:"startReplicationFrom",value:function(e){return this.pouchAdapter.startSync(e,l.SYNC_FROM)}}]),t}();t.default=f;var h=function(){function e(){i(this,e)}return u(e,[{key:"getAdapter",value:function(e,t,n){return void 0===n.getDatabase(e)?t:n}}]),e}(),p=function(){function e(){i(this,e)}return u(e,[{key:"getAdapter",value:function(e,t,n){return t}}]),e}()}).call(t,n(17))},function(e,t,n){"use strict";(function(e){function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(78),l=function(){function t(){a(this,t)}return s(t,[{key:"fetchDocuments",value:function(){function t(e){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n){var r,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.fetchJSON("GET","/data/"+n+"/_all_docs?include_docs=true");case 3:return r=t.sent,o=r.rows.filter(function(e){return!e.doc.hasOwnProperty("views")}),i=o.map(function(e){return Object.assign({},e.doc,{id:e.id,_type:n})}),t.abrupt("return",{data:i,meta:{count:r.total_rows},skip:r.offset,next:!1});case 9:if(t.prev=9,t.t0=t.catch(0),!t.t0.message.match(/not_found/)){t.next=13;break}return t.abrupt("return",{data:[],meta:{count:0},skip:0,next:!1});case 13:throw t.t0;case 14:case"end":return t.stop()}},t,this,[[0,9]])}));return t}()},{key:"queryDocuments",value:function(){function t(e,t,r){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n,i,a){var s,c,l,d,f,h,p,m,b;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=a.fields,c=a.skip||0,l=a.sort?i.fields.map(function(e){return o({},e,a.sort[e]||"desc")}):void 0,d=u({limit:50,wholeResponse:!0},a,{fields:s?[].concat(r(s),["_id","_type","class"]):void 0,skip:c,sort:l}),f=void 0,h=void 0,p=void 0,"io.cozy.files"!==n){t.next=14;break}return t.next=8,e.files.query(i,d);case 8:m=t.sent,f=m.data.map(function(e){return Object.assign({_id:e.id,_type:n},e,e.attributes)}),h=m.meta,p=h.count>c+50,t.next=20;break;case 14:return t.next=16,e.data.query(i,d);case 16:b=t.sent,f=b.docs.map(function(e){return Object.assign({id:e._id,_type:n},e)}),h={},p=b.next;case 20:return t.abrupt("return",{data:f,meta:h,next:p});case 21:case"end":return t.stop()}},t,this)}));return t}()},{key:"fetchDocument",value:function(){function t(e,t){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n,r){var o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.data.find(n,r);case 2:return o=t.sent,i=u({},o,{id:o._id,_type:o._type}),t.abrupt("return",{data:[i]});case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"createDocument",value:function(){function t(e,t){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n,r){var o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.data.create(n,r);case 2:return o=t.sent,i=u({},o,{id:o._id,_type:n}),t.abrupt("return",{data:[i]});case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"updateDocument",value:function(){function t(e){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.data.updateAttributes(n._type,n.id,n);case 2:return r=t.sent,t.abrupt("return",{data:[u({},n,{_rev:r._rev})]});case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"updateDocuments",value:function(){function t(e,t,r){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n,r,o){var i,a,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.createIndex(n,(0,c.getIndexFields)(r));case 2:return i=t.sent,t.next=5,this.queryDocuments(n,i,r);case 5:return a=t.sent,u=a.data.map(o).map(c.sanitizeDoc),t.next=9,e.fetchJSON("POST","/data/"+n+"/_bulk_docs",{docs:u});case 9:return t.abrupt("return",{data:u});case 10:case"end":return t.stop()}},t,this)}));return t}()},{key:"deleteDocument",value:function(){function t(e){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.data.delete(n._type,n);case 2:return t.abrupt("return",{data:[n]});case 3:case"end":return t.stop()}},t,this)}));return t}()},{key:"deleteDocuments",value:function(){function e(e,n){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.updateDocuments(t,n,function(e){return u({},e,{_deleted:!0})}));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"createIndex",value:function(t,n){return e.data.defineIndex(t,n)}},{key:"fetchFileByPath",value:function(){function t(e){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.files.statByPath(n);case 3:return r=t.sent,t.abrupt("return",{data:[d(r)]});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",null);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return t}()},{key:"createFile",value:function(){function t(e,t){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n,r){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.files.create(n,{dirID:r});case 2:return o=t.sent,t.abrupt("return",{data:[d(o)]});case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"trashFile",value:function(){function t(e){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.files.trashById(n.id),t.abrupt("return",{data:[n]});case 2:case"end":return t.stop()}},t,this)}));return t}()},{key:"fetchReferencedFiles",value:function(){function t(e){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n){var r,o,i,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=u({},n,{_id:n.id}),t.next=3,e.data.fetchReferencedFiles(r,{skip:s,limit:50});case 3:return o=t.sent,i=o.included,a=o.meta,t.abrupt("return",{data:i?i.map(function(e){return u({},e,e.attributes,{_type:"io.cozy.files"})}):[],meta:a,next:a.count>s+50,skip:s});case 7:case"end":return t.stop()}},t,this)}));return t}()},{key:"addReferencedFiles",value:function(){function t(e,t){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.data.addReferencedFiles(n,r);case 2:return t.abrupt("return",r);case 3:case"end":return t.stop()}},t,this)}));return t}()},{key:"removeReferencedFiles",value:function(){function t(e,t){return n.apply(this,arguments)}var n=i(regeneratorRuntime.mark(function t(n,r){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=u({},n,{_id:n.id}),t.next=3,e.data.removeReferencedFiles(o,r);case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}},t,this)}));return t}()}]),t}();t.default=l;var d=function(e){return u({},e,e.attributes,{id:e._id})}}).call(t,n(17))},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.SYNC_FROM=t.SYNC_TO=t.SYNC_BIDIRECTIONAL=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(473),f=r(d),h=n(484),p=r(h),m=n(119),b=n(78),v=t.SYNC_BIDIRECTIONAL="SYNC_BIDIRECTIONAL",y=t.SYNC_TO="SYNC_TO",g=t.SYNC_FROM="SYNC_FROM",_=function(){function t(){s(this,t),f.default.plugin(p.default),this.instances={},this.doctypes=[],this.replicationBaseUrl=null}return l(t,[{key:"registerDoctypes",value:function(e){this.doctypes=e;var t=!0,n=!1,r=void 0;try{for(var o,i=this.doctypes[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this.instances[a]=new f.default(a)}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}},{key:"getDatabase",value:function(e){return this.instances[e]}},{key:"getReplicationBaseUrl",value:function(){return e.authorize().then(function(t){var n=t.token.toBasicAuth();return(e._url+"/data/").replace("//","//"+n)})}},{key:"getSeqNumber",value:function(e){return this.getDatabase(e).info().then(function(e){return e.update_seq})}},{key:"startSync",value:function(){function e(e){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sync(t,r);case 3:return n=e.sent,this.scheduleNextSync(t,r),e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),this.scheduleNextSync(t,r),e.t0;case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return e}()},{key:"sync",value:function(e,t){var n=this;return this.getReplicationBaseUrl().then(function(r){return Promise.all(n.doctypes.map(function(o){return n.syncDoctype(o,""+r+o,e,t)}))})}},{key:"syncDoctype",value:function(){function e(e,n,r,o){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t,n,r,o){var i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getSeqNumber(t);case 3:return i=e.sent,r((0,m.startDoctypeSync)(t,i)),e.next=7,this.syncDatabase(t,n,o);case 7:return a=e.sent,r((0,m.syncDoctypeOk)(t,a)),e.abrupt("return",a);case 12:throw e.prev=12,e.t0=e.catch(0),r((0,m.syncDoctypeError)(t,e.t0)),e.t0;case 16:case"end":return e.stop()}},e,this,[[0,12]])}));return e}()},{key:"syncDatabase",value:function(t,n,r){var o=this;return new Promise(function(i,a){var u=o.getDatabase(t),s=void 0;s=r===y?u.replicate.to(n):r===g?u.replicate.from(n):u.sync(n),s.on("complete",function(e){return i(e)}).on("error",function(t){if("code=400, message=Expired token"===t.error)return e.authorize().then(function(n){var r=n.client,o=n.token;e.auth.refreshToken(r,o).then(function(t){return e.saveCredentials(r,t)}).then(function(e){return a(t)})});404!==t.status&&a(t)})})}},{key:"scheduleNextSync",value:function(e,t){var n=this;setTimeout(function(){n.sync(e,t)},3e4)}},{key:"fetchDocuments",value:function(){function e(e){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDatabase(t).allDocs({include_docs:!0});case 2:return n=e.sent,e.abrupt("return",{data:n.rows.filter(function(e){return!e.doc.hasOwnProperty("views")}).map(function(e){return c({},e.doc,{id:e.id,_type:t})}),meta:{count:n.total_rows},skip:n.offset,next:!1});case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"queryDocuments",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t,n,r){var o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c({},r,{fields:[].concat(a(r.fields),["_id"]),sort:r.sort?Object.keys(r.sort).map(function(e){return i({},e,r.sort[e])}):void 0}),e.next=3,this.getDatabase(t).find(o);case 3:return u=e.sent,e.abrupt("return",{data:u.docs.map(function(e){return c({},e,{id:e._id,_type:t})}),meta:{count:u.docs.length},skip:0,next:!1});case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDocument",value:function(){function e(e,n){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDatabase(t).get(n,{revs_info:!0});case 2:return r=e.sent,e.abrupt("return",{data:[c({},r,{id:r.id,_id:r.id,_type:t})]});case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"createDocument",value:function(){function e(e,n){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDatabase(t).post(n);case 2:return r=e.sent,e.abrupt("return",{data:[c({},n,{id:r.id,_id:r.id,_type:t,_rev:r.rev})]});case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"updateDocument",value:function(){function e(e){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._type,r=o(t,["_type"]),e.next=3,this.getDatabase(n).put(r);case 3:return i=e.sent,e.abrupt("return",{data:[c({},t,{_rev:i.rev})]});case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"updateDocuments",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t,n,r){var o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.getDatabase(t),e.next=3,o.createIndex({index:(0,b.getIndexFields)(n)});case 3:return e.next=5,o.find(n);case 5:return i=e.sent,a=i.map(r).map(b.sanitizeDoc),e.next=9,o.bulkDocs(a);case 9:return e.abrupt("return",{data:a});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"deleteDocument",value:function(){function e(e){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDatabase(t._type).remove(t);case 2:return e.abrupt("return",{data:[t]});case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"deleteDocuments",value:function(){function e(e,n){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){return c({},e,{_deleted:!0})},e.abrupt("return",this.updateDocuments(t,n,r));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"createIndex",value:function(e,t){return this.getDatabase(e).createIndex({index:{fields:t}})}},{key:"fetchFileByPath",value:function(e){throw new Error("Not implemented")}},{key:"createFile",value:function(e,t){throw new Error("Not implemented")}},{key:"trashFile",value:function(e){throw new Error("Not implemented")}},{key:"fetchReferencedFiles",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];throw new Error("Not implemented")}},{key:"addReferencedFiles",value:function(e,t){throw new Error("Not implemented")}},{key:"removeReferencedFiles",value:function(e,t){throw new Error("Not implemented")}}]),t}();t.default=_}).call(t,n(17))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function r(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}function o(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}function i(e){if(e instanceof ArrayBuffer)return o(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}function a(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&So.call(n)==Eo}function u(e){var t,n,o;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,o=e.length;n<o;n++)t[n]=u(e[n]);return t}if(e instanceof Date)return e.toISOString();if(r(e))return i(e);if(!a(e))return e;t={};for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var s=u(e[n]);void 0!==s&&(t[n]=s)}return t}function s(e){var t=!1;return co()(function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)})}function c(e){return co()(function(t){t=u(t);var n=this,r="function"==typeof t[t.length-1]&&t.pop(),o=new ko(function(r,o){var i;try{var a=s(function(e,t){e?o(e):r(t)});t.push(a),i=e.apply(n,t),i&&"function"==typeof i.then&&r(i)}catch(e){o(e)}});return r&&o.then(function(e){r(null,e)},r),o})}function l(e,t,n){if(e.constructor.listeners("debug").length){for(var r=["api",e.name,t],o=0;o<n.length-1;o++)r.push(n[o]);e.constructor.emit("debug",r);var i=n[n.length-1];n[n.length-1]=function(n,r){var o=["api",e.name,t];o=o.concat(n?["error",n]:["success",r]),e.constructor.emit("debug",o),i(n,r)}}}function d(e,t){return c(co()(function(n){if(this._closed)return ko.reject(new Error("database is closed"));if(this._destroyed)return ko.reject(new Error("database is destroyed"));var r=this;return l(r,e,n),this.taskqueue.isReady?t.apply(this,n):new ko(function(t,o){r.taskqueue.addTask(function(i){i?o(i):t(r[e].apply(r,n))})})}))}function f(e){return"$"+e}function h(e){return e.substring(1)}function p(){this._store={}}function m(e){if(this._store=new p,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}function b(e,t){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];i in e&&(n[i]=e[i])}return n}function v(e){return e}function y(e){return[{ok:e}]}function g(e,t,n){function r(){var e=[];f.forEach(function(t){t.docs.forEach(function(n){e.push({id:t.id,docs:[n]})})}),n(null,{results:e})}function o(){++d===l&&r()}function i(e,t,n){f[e]={id:t,docs:n},o()}function a(){if(!(p>=h.length)){var e=Math.min(p+Oo,h.length),t=h.slice(p,e);u(t,p),p+=t.length}}function u(n,r){n.forEach(function(n,o){var u=r+o,s=c.get(n),l=b(s[0],["atts_since","attachments"]);l.open_revs=s.map(function(e){return e.rev}),l.open_revs=l.open_revs.filter(v);var d=v;0===l.open_revs.length&&(delete l.open_revs,d=y),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in t&&(l[e]=t[e])}),e.get(n,l,function(e,t){var r;r=e?[{error:e}]:d(t),i(u,n,r),a()})})}var s=t.docs,c=new Ao;s.forEach(function(e){c.has(e.id)?c.get(e.id).push(e):c.set(e.id,[e])});var l=c.size,d=0,f=new Array(l),h=[];c.forEach(function(e,t){h.push(t)});var p=0;a()}function _(){return"undefined"!=typeof chrome&&void 0!==chrome.storage&&void 0!==chrome.storage.local}function w(){return Co}function k(e){_()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):w()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}function S(){lo.EventEmitter.call(this),this._listeners={},k(this)}function E(e){if("undefined"!==console&&e in console){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function x(e,t){return e=parseInt(e,10)||0,t=parseInt(t,10),t!==t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}function A(e){var t=0;return e||(t=2e3),x(e,t)}function C(e,t){E("info","The above "+e+" is totally normal. "+t)}function O(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}function T(e,t){function n(t){for(var n in e)"function"!=typeof e[n]&&(this[n]=e[n]);void 0!==t&&(this.reason=t)}return n.prototype=O.prototype,new n(t)}function P(e){if("object"!=typeof e){var t=e;e=zo,e.data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}function j(e,t,n){try{return!e(t,n)}catch(e){var r="Filter function threw: "+e.toString();return T(Uo,r)}}function D(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(r){r.doc||(r.doc={});var o=n&&j(e.filter,r.doc,t);if("object"==typeof o)return o;if(o)return!1;if(e.include_docs){if(!e.attachments)for(var i in r.doc._attachments)r.doc._attachments.hasOwnProperty(i)&&(r.doc._attachments[i].stub=!0)}else delete r.doc;return!0}}function R(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}function M(){}function I(e){var t;if(e?"string"!=typeof e?t=T(Mo):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=T(Lo)):t=T(Io),t)throw t}function L(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(E("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function z(e,t){return"listenerCount"in e?e.listenerCount(t):lo.EventEmitter.listenerCount(e,t)}function N(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function q(e){var t=N(e);return t?t.join("/"):null}function F(e){for(var t=Jo.exec(e),n={},r=14;r--;){var o=Xo[r],i=t[r]||"",a=-1!==["user","password"].indexOf(o);n[o]=a?decodeURIComponent(i):i}return n[$o]={},n[Xo[12]].replace(Ko,function(e,t,r){t&&(n[$o][t]=r)}),n}function U(e,t){var n=[],r=[];for(var o in t)t.hasOwnProperty(o)&&(n.push(o),r.push(t[o]));return n.push(e),Function.apply(null,n).apply(null,r)}function B(e,t,n){return new ko(function(r,o){e.get(t,function(i,a){if(i){if(404!==i.status)return o(i);a={}}var u=a._rev,s=n(a);if(!s)return r({updated:!1,rev:u});s._id=t,s._rev=u,r(Y(e,s,n))})})}function Y(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(r){if(409!==r.status)throw r;return B(e,t._id,n)})}function H(){return io.a.v4().replace(/-/g,"").toLowerCase()}function W(e){for(var t,n,r,o,i=e.rev_tree.slice();o=i.pop();){var a=o.ids,u=a[2],s=o.pos;if(u.length)for(var c=0,l=u.length;c<l;c++)i.push({pos:s+1,ids:u[c]});else{var d=!!a[1].deleted,f=a[0];t&&!(r!==d?r:n!==s?n<s:t<f)||(t=f,n=s,r=d)}}return n+"-"+t}function V(e,t){for(var n,r=e.slice();n=r.pop();)for(var o=n.pos,i=n.ids,a=i[2],u=t(0===a.length,o,i[0],n.ctx,i[1]),s=0,c=a.length;s<c;s++)r.push({pos:o+1,ids:a[s],ctx:u})}function G(e,t){return e.pos-t.pos}function X(e){var t=[];V(e,function(e,n,r,o,i){e&&t.push({rev:n+"-"+r,pos:n,opts:i})}),t.sort(G).reverse();for(var n=0,r=t.length;n<r;n++)delete t[n].pos;return t}function $(e){for(var t=W(e),n=X(e.rev_tree),r=[],o=0,i=n.length;o<i;o++){var a=n[o];a.rev===t||a.opts.deleted||r.push(a.rev)}return r}function K(e){var t=[];return V(e.rev_tree,function(e,n,r,o,i){"available"!==i.status||e||(t.push(n+"-"+r),i.status="missing")}),t}function J(e){for(var t,n=[],r=e.slice();t=r.pop();){var o=t.pos,i=t.ids,a=i[0],u=i[1],s=i[2],c=0===s.length,l=t.history?t.history.slice():[];l.push({id:a,opts:u}),c&&n.push({pos:o+1-l.length,ids:l});for(var d=0,f=s.length;d<f;d++)r.push({pos:o+1,ids:s[d],history:l})}return n.reverse()}function Q(e,t){return e.pos-t.pos}function Z(e,t,n){for(var r,o=0,i=e.length;o<i;)r=o+i>>>1,n(e[r],t)<0?o=r+1:i=r;return o}function ee(e,t,n){var r=Z(e,t,n);e.splice(r,0,t)}function te(e,t){for(var n,r,o=t,i=e.length;o<i;o++){var a=e[o],u=[a.id,a.opts,[]];r?(r[2].push(u),r=u):n=r=u}return n}function ne(e,t){return e[0]<t[0]?-1:1}function re(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var o=n.pop(),i=o.tree1,a=o.tree2;(i[1].status||a[1].status)&&(i[1].status="available"===i[1].status||"available"===a[1].status?"available":"missing");for(var u=0;u<a[2].length;u++)if(i[2][0]){for(var s=!1,c=0;c<i[2].length;c++)i[2][c][0]===a[2][u][0]&&(n.push({tree1:i[2][c],tree2:a[2][u]}),s=!0);s||(r="new_branch",ee(i[2],a[2][u],ne))}else r="new_leaf",i[2][0]=a[2][u]}return{conflicts:r,tree:e}}function oe(e,t,n){var r,o=[],i=!1,a=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var u=0,s=e.length;u<s;u++){var c=e[u];if(c.pos===t.pos&&c.ids[0]===t.ids[0])r=re(c.ids,t.ids),o.push({pos:c.pos,ids:r.tree}),i=i||r.conflicts,a=!0;else if(!0!==n){var l=c.pos<t.pos?c:t,d=c.pos<t.pos?t:c,f=d.pos-l.pos,h=[],p=[];for(p.push({ids:l.ids,diff:f,parent:null,parentIdx:null});p.length>0;){var m=p.pop();if(0!==m.diff)for(var b=m.ids[2],v=0,y=b.length;v<y;v++)p.push({ids:b[v],diff:m.diff-1,parent:m.ids,parentIdx:v});else m.ids[0]===d.ids[0]&&h.push(m)}var g=h[0];g?(r=re(g.ids,d.ids),g.parent[2][g.parentIdx]=r.tree,o.push({pos:l.pos,ids:l.ids}),i=i||r.conflicts,a=!0):o.push(c)}else o.push(c)}return a||o.push(t),o.sort(Q),{tree:o,conflicts:i||"internal_node"}}function ie(e,t){for(var n,r,o=J(e),i=0,a=o.length;i<a;i++){var u,s=o[i],c=s.ids;if(c.length>t){n||(n={});var l=c.length-t;u={pos:s.pos+l,ids:te(c,l)};for(var d=0;d<l;d++){var f=s.pos+d+"-"+c[d].id;n[f]=!0}}else u={pos:s.pos,ids:te(c,0)};r=r?oe(r,u,!0).tree:[u]}return n&&V(r,function(e,t,r){delete n[t+"-"+r]}),{tree:r,revs:n?Object.keys(n):[]}}function ae(e,t,n){var r=oe(e,t),o=ie(r.tree,n);return{tree:o.tree,stemmedRevs:o.revs,conflicts:r.conflicts}}function ue(e,t){for(var n,r=e.slice(),o=t.split("-"),i=parseInt(o[0],10),a=o[1];n=r.pop();){if(n.pos===i&&n.ids[0]===a)return!0;for(var u=n.ids[2],s=0,c=u.length;s<c;s++)r.push({pos:n.pos+1,ids:u[s]})}return!1}function se(e){return e.ids}function ce(e,t){t||(t=W(e));for(var n,r=t.substring(t.indexOf("-")+1),o=e.rev_tree.map(se);n=o.pop();){if(n[0]===r)return!!n[1].deleted;o=o.concat(n[2])}}function le(e){return/^_local/.test(e)}function de(e,t){for(var n,r=t.rev_tree.slice();n=r.pop();){var o=n.pos,i=n.ids,a=i[0],u=i[1],s=i[2],c=0===s.length,l=n.history?n.history.slice():[];if(l.push({id:a,pos:o,opts:u}),c)for(var d=0,f=l.length;d<f;d++){var h=l[d],p=h.pos+"-"+h.id;if(p===e)return o+"-"+a}for(var m=0,b=s.length;m<b;m++)r.push({pos:o+1,ids:s[m],history:l})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}function fe(e,t){try{e.emit("change",t)}catch(e){E("error",'Error in .on("change", function):',e)}}function he(e,t,n){function r(){o.cancel()}lo.EventEmitter.call(this);var o=this;this.db=e,t=t?u(t):{};var i=t.complete=s(function(t,n){t?z(o,"error")>0&&o.emit("error",t):o.emit("complete",n),o.removeAllListeners(),e.removeListener("destroyed",r)});n&&(o.on("complete",function(e){n(null,e)}),o.on("error",n)),e.once("destroyed",r),t.onChange=function(e){o.isCancelled||fe(o,e)};var a=new ko(function(e,n){t.complete=function(t,r){t?n(t):e(r)}});o.once("cancel",function(){e.removeListener("destroyed",r),t.complete(null,{status:"cancelled"})}),this.then=a.then.bind(a),this.catch=a.catch.bind(a),this.then(function(e){i(null,e)},i),e.taskqueue.isReady?o.validateChanges(t):e.taskqueue.addTask(function(e){e?t.complete(e):o.isCancelled?o.emit("cancel"):o.validateChanges(t)})}function pe(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=X(t.rev_tree).map(function(e){return{rev:e.rev}}));var o={id:t.id,changes:r,doc:e};return ce(t,e._rev)&&(o.deleted=!0),n.conflicts&&(o.doc._conflicts=$(t),o.doc._conflicts.length||delete o.doc._conflicts),o}function me(e,t){return e<t?-1:e>t?1:0}function be(e,t){return function(n,r){n||r[0]&&r[0].error?(n=n||r[0],n.docId=t,e(n)):e(null,r.length?r[0]:r)}}function ve(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),o=0;o<r.length;o++){var i=r[o];n._attachments[i]=b(n._attachments[i],["data","digest","content_type","length","revpos","stub"])}}}function ye(e,t){var n=me(e._id,t._id);return 0!==n?n:me(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function ge(e){var t={},n=[];return V(e,function(e,r,o,i){var a=r+"-"+o;return e&&(t[a]=0),void 0!==i&&n.push({from:i,to:a}),a}),n.reverse(),n.forEach(function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])}),t}function _e(e,t,n){var r="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;if(t.descending&&r.reverse(),!r.length)return e._allDocs({limit:0},n);var o={offset:t.skip};return ko.all(r.map(function(n){var r=Po({key:n,deleted:"ok"},t);return["limit","skip","keys"].forEach(function(e){delete r[e]}),new ko(function(t,i){e._allDocs(r,function(e,r){if(e)return i(e);o.total_rows=r.total_rows,t(r.rows[0]||{key:n,error:"not_found"})})})})).then(function(e){return o.rows=e,o})}function we(e){var t=e._compactionQueue[0],n=t.opts,r=t.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(t){t&&t.last_seq&&(n.last_seq=t.last_seq),e._compact(n,function(t,n){t?r(t):r(null,n),mo()(function(){e._compactionQueue.shift(),e._compactionQueue.length&&we(e)})})})}function ke(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}function Se(){lo.EventEmitter.call(this)}function Ee(){this.isReady=!1,this.failed=!1,this.queue=[]}function xe(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=Ce.adapters,o=Ce.preferredAdapters,i=Ce.prefix,a=t.adapter;if(!a)for(var u=0;u<o.length;++u){a=o[u];{if(!("idb"===a&&"websql"in r&&w()&&localStorage["_pouch__websqldb_"+i+e]))break;E("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.')}}var s=r[a];return{name:s&&"use_prefix"in s&&!s.use_prefix?e:i+e,adapter:a}}function Ae(e){function t(t){e.removeListener("closed",n),t||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}function Ce(e,t){if(!(this instanceof Ce))return new Ce(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(t=e,e=t.name,delete t.name),this.__opts=t=u(t),n.auto_compaction=t.auto_compaction,n.prefix=Ce.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var r=(t.prefix||"")+e,o=xe(r,t);if(t.name=o.name,t.adapter=t.adapter||o.adapter,n.name=e,n._adapter=t.adapter,Ce.emit("debug",["adapter","Picked adapter: ",t.adapter]),!Ce.adapters[t.adapter]||!Ce.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);Se.call(n),n.taskqueue=new Ee,n.adapter=t.adapter,Ce.adapters[t.adapter].call(n,t,function(e){if(e)return n.taskqueue.fail(e);Ae(n),n.emit("created",n),Ce.emit("created",n.name),n.taskqueue.ready(n)})}function Oe(e){e.debug=vo.a;var t={};e.on("debug",function(e){var n=e[0],r=e.slice(1);t[n]||(t[n]=vo()("pouchdb:"+n)),t[n].apply(null,r)})}function Te(e,t){for(var n=e,r=0,o=t.length;r<o;r++){if(!(n=n[t[r]]))break}return n}function Pe(e,t){return e<t?-1:e>t?1:0}function je(e){for(var t=[],n="",r=0,o=e.length;r<o;r++){var i=e[r];"."===i?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=i}return t.push(n),t}function De(e){return ei.indexOf(e)>-1}function Re(e){return Object.keys(e)[0]}function Me(e){return e[Re(e)]}function Ie(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){var r=e[n];if("object"!=typeof r&&(r={$eq:r}),De(n))r instanceof Array?t[n]=r.map(function(e){return Ie([e])}):t[n]=Ie([r]);else{var o=t[n]=t[n]||{};Object.keys(r).forEach(function(e){var t=r[e];return"$gt"===e||"$gte"===e?Le(e,t,o):"$lt"===e||"$lte"===e?ze(e,t,o):"$ne"===e?Ne(t,o):"$eq"===e?qe(t,o):void(o[e]=t)})}})}),t}function Le(e,t,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}function ze(e,t,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}function Ne(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function qe(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function Fe(e){var t=u(e),n=!1;"$and"in t&&(t=Ie(t.$and),n=!0),["$or","$nor"].forEach(function(e){e in t&&t[e].forEach(function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n],o=e[r];"object"==typeof o&&null!==o||(e[r]={$eq:o})}})}),"$not"in t&&(t.$not=Ie([t.$not]));for(var r=Object.keys(t),o=0;o<r.length;o++){var i=r[o],a=t[i];"object"!=typeof a||null===a?a={$eq:a}:"$ne"in a&&!n&&(a.$ne=[a.$ne]),t[i]=a}return t}function Ue(e,t,n){for(var r="",o=n-e.length;r.length<o;)r+=t;return r}function Be(e,t,n){return Ue(e,t,n)+e}function Ye(e,t){if(e===t)return 0;e=He(e),t=He(t);var n=Ze(e),r=Ze(t);if(n-r!=0)return n-r;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return Je(e,t)}return Array.isArray(e)?Ke(e,t):Qe(e,t)}function He(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=He(t[r])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];void 0!==i&&(e[o]=He(i))}}}}return e}function We(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return et(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,o=n.length,i="";if(t)for(;++r<o;)i+=Ve(n[r]);else for(;++r<o;){var a=n[r];i+=Ve(a)+Ve(e[a])}return i}return""}function Ve(e){return e=He(e),Ze(e)+ri+We(e)+"\0"}function Ge(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var o="0"===e[t];t++;var i="",a=e.substring(t,t+ni),u=parseInt(a,10)+ti;for(o&&(u=-u),t+=ni;;){var s=e[t];if("\0"===s)break;i+=s,t++}i=i.split("."),n=1===i.length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),o&&(n-=10),0!==u&&(n=parseFloat(n+"e"+u))}return{num:n,length:t-r}}function Xe(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(n);else if(i===e.length-2){var a=e.pop();o[a]=n}else e.push(n)}}function $e(e){for(var t=[],n=[],r=0;;){var o=e[r++];if("\0"!==o)switch(o){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var i=Ge(e,r);t.push(i.num),r+=i.length;break;case"4":for(var a="";;){var u=e[r];if("\0"===u)break;a+=u,r++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(a);break;case"5":var s={element:[],index:t.length};t.push(s.element),n.push(s);break;case"6":var c={element:{},index:t.length};t.push(c.element),n.push(c);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===t.length)return t.pop();Xe(t,n)}}}function Ke(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var o=Ye(e[r],t[r]);if(0!==o)return o}return e.length===t.length?0:e.length>t.length?1:-1}function Je(e,t){return e===t?0:e>t?1:-1}function Qe(e,t){for(var n=Object.keys(e),r=Object.keys(t),o=Math.min(n.length,r.length),i=0;i<o;i++){var a=Ye(n[i],r[i]);if(0!==a)return a;if(0!==(a=Ye(e[n[i]],t[r[i]])))return a}return n.length===r.length?0:n.length>r.length?1:-1}function Ze(e){var t=["boolean","number","string","object"],n=t.indexOf(typeof e);return~n?null===e?1:Array.isArray(e)?5:n<3?n+2:n+3:Array.isArray(e)?5:void 0}function et(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=e<0,o=r?"0":"2",i=(r?-n:n)-ti,a=Be(i.toString(),"0",ni);o+=ri+a;var u=Math.abs(parseFloat(t[0]));r&&(u=10-u);var s=u.toFixed(20);return s=s.replace(/\.?0+$/,""),o+=ri+s}function tt(e){function t(t){return e.map(function(e){var n=Re(e),r=je(n);return Te(t,r)})}return function(e,n){var r=t(e.doc),o=t(n.doc),i=Ye(r,o);return 0!==i?i:Pe(e.doc._id,n.doc._id)}}function nt(e,t,n){if(e=e.filter(function(e){return rt(e.doc,t.selector,n)}),t.sort){var r=tt(t.sort);e=e.sort(r),"string"!=typeof t.sort[0]&&"desc"===Me(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var o=t.skip||0,i=("limit"in t?t.limit:e.length)+o;e=e.slice(o,i)}return e}function rt(e,t,n){return n.every(function(n){var r=t[n],o=je(n),i=Te(e,o);return De(n)?it(n,r,e):ot(r,e,o,i)})}function ot(e,t,n,r){return!e||Object.keys(e).every(function(o){var i=e[o];return at(o,t,i,n,r)})}function it(e,t,n){return"$or"===e?t.some(function(e){return rt(n,e,Object.keys(e))}):"$not"===e?!rt(n,t,Object.keys(t)):!t.find(function(e){return rt(n,e,Object.keys(e))})}function at(e,t,n,r,o){if(!oi[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return oi[e](t,n,r,o)}function ut(e){return void 0!==e&&null!==e}function st(e){return void 0!==e}function ct(e,t){var n=t[0],r=t[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%n===r}function lt(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}function dt(e,t){return t.every(function(t){return e.indexOf(t)>-1})}function ft(e,t){return e.length===t}function ht(e,t){return new RegExp(t).test(e)}function pt(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}function mt(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");t=Fe(t);var n={doc:e},r=nt([n],{selector:t},Object.keys(t));return r&&1===r.length}function bt(e){return U('"use strict";\nreturn '+e+";",{})}function vt(e){return U(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{})}function yt(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter){var n="string"==typeof e.filter?e.filter:"function";return t(new Error('selector invalid for filter "'+n+'"'))}t()}function gt(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=q(e.view):e.filter=q(e.filter))}function _t(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!L(e.db)}function wt(e,t){var n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var r=T(Uo,"`view` filter parameter not found or invalid.");return n(r)}var o=N(t.view);e.db.get("_design/"+o[0],function(r,i){if(e.isCancelled)return n(null,{status:"cancelled"});if(r)return n(P(r));var a=i&&i.views&&i.views[o[1]]&&i.views[o[1]].map;if(!a)return n(T(Do,i.views?"missing json key: "+o[1]:"missing json key: views"));t.filter=vt(a),e.doChanges(t)})}else if(t.selector)t.filter=function(e){return mt(e,t.selector)},e.doChanges(t);else{var i=N(t.filter);e.db.get("_design/"+i[0],function(r,o){if(e.isCancelled)return n(null,{status:"cancelled"});if(r)return n(P(r));var a=o&&o.filters&&o.filters[i[1]];if(!a)return n(T(Do,o&&o.filters?"missing json key: "+i[1]:"missing json key: filters"));t.filter=bt(a),e.doChanges(t)})}}function kt(e){e._changesFilterPlugin={validate:yt,normalize:gt,shouldFilter:_t,filter:wt}}function St(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}function Et(e){if(!/^\d+-./.test(e))return T(Wo);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function xt(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,o=[r[0],t,[]],i=1,a=r.length;i<a;i++)o=[r[i],{status:"missing"},[o]];return[{pos:n,ids:o}]}function At(e,t){var n,r,o,i={status:"available"};if(e._deleted&&(i.deleted=!0),t)if(e._id||(e._id=Qo()),r=H(),e._rev){if(o=Et(e._rev),o.error)return o;e._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[r,i,[]]]]}],n=o.prefix+1}else e._rev_tree=[{pos:1,ids:[r,i,[]]}],n=1;else if(e._revisions&&(e._rev_tree=xt(e._revisions,i),n=e._revisions.start,r=e._revisions.ids[0]),!e._rev_tree){if(o=Et(e._rev),o.error)return o;n=o.prefix,r=o.id,e._rev_tree=[{pos:n,ids:[r,i,[]]}]}I(e._id),e._rev=n+"-"+r;var a={metadata:{},data:{}};for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var s="_"===u[0];if(s&&!ai[u]){var c=T(Fo,u);throw c.message=Fo.message+": "+u,c}s&&!ui[u]?a.metadata[u.slice(1)]=e[u]:a.data[u]=e[u]}return a}function Ct(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,o=0;o<e.length;o+=1)r.append(e[o]);return r.getBlob(t.type)}}function Ot(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}function Tt(e,t){return Ct([Ot(e)],{type:t})}function Pt(e,t){return Tt(si(e),t)}function jt(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return t}function Dt(e,t){if("undefined"==typeof FileReader)return t(jt((new FileReaderSync).readAsArrayBuffer(e)));var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(r)return t(n);t(jt(n))},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function Rt(e,t){Dt(e,function(e){t(e)})}function Mt(e,t){Rt(e,function(e){t(ci(e))})}function It(e,t){if("undefined"==typeof FileReader)return t((new FileReaderSync).readAsArrayBuffer(e));var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}function Lt(e){return ci(e)}function zt(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}function Nt(e,t,n,r,o){(n>0||r<t.size)&&(t=zt(t,n,r)),It(t,function(t){e.append(t),o()})}function qt(e,t,n,r,o){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),o()}function Ft(e,t){function n(){li(o)}function r(){var e=l.end(!0),n=Lt(e);t(n),l.destroy()}function o(){var t=c*u,o=t+u;c++,c<s?d(l,e,t,o,n):d(l,e,t,o,r)}var i="string"==typeof e,a=i?e.length:e.size,u=Math.min(di,a),s=Math.ceil(a/u),c=0,l=i?new go.a:new go.a.ArrayBuffer,d=i?qt:Nt;o()}function Ut(e){return go.a.hash(e)}function Bt(e){try{return si(e)}catch(e){var t=T(No,"Attachment is not a valid base64 string");return{error:t}}}function Yt(e,t,n){var r=Bt(e.data);if(r.error)return n(r.error);e.length=r.length,e.data="blob"===t?Tt(r,e.content_type):"base64"===t?ci(r):r,Ft(r,function(t){e.digest="md5-"+t,n()})}function Ht(e,t,n){Ft(e.data,function(r){e.digest="md5-"+r,e.length=e.data.size||e.data.length||0,"binary"===t?Rt(e.data,function(t){e.data=t,n()}):"base64"===t?Mt(e.data,function(t){e.data=t,n()}):n()})}function Wt(e,t,n){if(e.stub)return n();"string"==typeof e.data?Yt(e,t,n):Ht(e,t,n)}function Vt(e,t,n){function r(){i++,e.length===i&&(o?n(o):n())}if(!e.length)return n();var o,i=0;e.forEach(function(e){function n(e){o=e,++a===i.length&&r()}var i=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],a=0;if(!i.length)return r();for(var u in e.data._attachments)e.data._attachments.hasOwnProperty(u)&&Wt(e.data._attachments[u],t,n)})}function Gt(e,t,n,r,o,i,a,u){if(ue(t.rev_tree,n.metadata.rev))return r[o]=n,i();var s=t.winningRev||W(t),c="deleted"in t?t.deleted:ce(t,s),l="deleted"in n.metadata?n.metadata.deleted:ce(n.metadata),d=/^1-/.test(n.metadata.rev);if(c&&!l&&u&&d){var f=n.data;f._rev=s,f._id=n.metadata.id,n=At(f,u)}var h=ae(t.rev_tree,n.metadata.rev_tree[0],e);if(u&&(c&&l&&"new_leaf"!==h.conflicts||!c&&"new_leaf"!==h.conflicts||c&&!l&&"new_branch"===h.conflicts)){var p=T(Ro);return r[o]=p,i()}var m=n.metadata.rev;n.metadata.rev_tree=h.tree,n.stemmedRevs=h.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var b,v=W(n.metadata),y=ce(n.metadata,v),g=c===y?0:c<y?-1:1;b=m===v?y:ce(n.metadata,m),a(n,v,y,b,!0,g,o,i)}function Xt(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}function $t(e,t,n,r,o,i,a,u,s){function c(e,t,n){var r=W(e.metadata),o=ce(e.metadata,r);if("was_delete"in u&&o)return i[t]=T(Do,"deleted"),n();if(d&&Xt(e)){var s=T(Ro);return i[t]=s,n()}a(e,r,o,o,!1,o?0:1,t,n)}function l(){++h===p&&s&&s()}e=e||1e3;var d=u.new_edits,f=new Ao,h=0,p=t.length;t.forEach(function(e,t){if(e._id&&le(e._id)){var r=e._deleted?"_removeLocal":"_putLocal";return void n[r](e,{ctx:o},function(e,n){i[t]=e||n,l()})}var a=e.metadata.id;f.has(a)?(p--,f.get(a).push([e,t])):f.set(a,[[e,t]])}),f.forEach(function(t,n){function o(){++s<t.length?u():l()}function u(){var u=t[s],l=u[0],f=u[1];if(r.has(n))Gt(e,r.get(n),l,i,f,o,a,d);else{var h=ae([],l.metadata.rev_tree[0],e);l.metadata.rev_tree=h.tree,l.stemmedRevs=h.stemmedRevs||[],c(l,f,o)}}var s=0;u()})}function Kt(e){try{return JSON.parse(e)}catch(t){return wo.a.parse(e)}}function Jt(e){try{return JSON.stringify(e)}catch(t){return wo.a.stringify(e)}}function Qt(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(T(Yo,n,t.type))}}function Zt(e,t,n){return{data:Jt(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function en(e){if(!e)return null;var t=Kt(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function tn(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function nn(e,t,n,r){n?r(e?"string"!=typeof e?e:Pt(e,t):Ct([""],{type:t})):e?"string"!=typeof e?Dt(e,function(e){r(ci(e))}):r(e):r("")}function rn(e,t,n,r){function o(){++u===a.length&&r&&r()}function i(e,t){var r=e._attachments[t],i=r.digest;n.objectStore(mi).get(i).onsuccess=function(e){r.body=e.target.result.body,o()}}var a=Object.keys(e._attachments||{});if(!a.length)return r&&r();var u=0;a.forEach(function(n){t.attachments&&t.include_docs?i(e,n):(e._attachments[n].stub=!0,o())})}function on(e,t){return ko.all(e.map(function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return ko.all(n.map(function(n){var r=e.doc._attachments[n];if("body"in r){var o=r.body,i=r.content_type;return new ko(function(a){nn(o,i,t,function(t){e.doc._attachments[n]=Po(b(r,["digest","content_type"]),{data:t}),a()})})}}))}}))}function an(e,t,n){function r(){--c||o()}function o(){i.length&&i.forEach(function(e){s.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::",!1,!1)).onsuccess=function(t){t.target.result||u.delete(e)}})}var i=[],a=n.objectStore(pi),u=n.objectStore(mi),s=n.objectStore(bi),c=e.length;e.forEach(function(e){var n=a.index("_doc_id_rev"),o=t+"::"+e;n.getKey(o).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return r();a.delete(t),s.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];i.push(n),s.delete(t.primaryKey),t.continue()}else r()}}})}function un(e,t,n){try{return{txn:e.transaction(t,n)}}catch(e){return{error:e}}}function sn(e,t,n,r,o,i){function a(){var e=[hi,pi,mi,yi,bi,vi],t=un(o,e,"readwrite");if(t.error)return i(t.error);g=t.txn,g.onabort=Qt(i),g.ontimeout=Qt(i),g.oncomplete=d,_=g.objectStore(hi),w=g.objectStore(pi),k=g.objectStore(mi),S=g.objectStore(bi),E=g.objectStore(vi),E.get(vi).onsuccess=function(e){A=e.target.result,c()},h(function(e){if(e)return L=!0,i(e);l()})}function u(){D=!0,c()}function s(){$t(e.revs_limit,C,r,I,g,M,p,n,u)}function c(){A&&D&&(A.docCount+=R,E.put(A))}function l(){function e(){++n===C.length&&s()}function t(t){var n=en(t.target.result);n&&I.set(n.id,n),e()}if(C.length)for(var n=0,r=0,o=C.length;r<o;r++){var i=C[r];if(i._id&&le(i._id))e();else{var a=_.get(i.metadata.id);a.onsuccess=t}}}function d(){L||(_i.notify(r._meta.name),i(null,M))}function f(e,t){k.get(e).onsuccess=function(n){if(n.target.result)t();else{var r=T(Vo,"unknown stub attachment with digest "+e);r.status=412,t(r)}}}function h(e){function t(){++o===n.length&&e(r)}var n=[];if(C.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r,o=0;n.forEach(function(e){f(e,function(e){e&&!r&&(r=e),t()})})}function p(e,t,n,r,o,i,a,u){e.metadata.winningRev=t,e.metadata.deleted=n;var s=e.data;if(s._id=e.metadata.id,s._rev=e.metadata.rev,r&&(s._deleted=!0),s._attachments&&Object.keys(s._attachments).length)return b(e,t,n,o,a,u);R+=i,c(),m(e,t,n,o,a,u)}function m(e,t,n,o,i,a){function u(i){var a=e.stemmedRevs||[];o&&r.auto_compaction&&(a=a.concat(K(e.metadata))),a&&a.length&&an(a,e.metadata.id,g),d.seq=i.target.result;var u=Zt(d,t,n);_.put(u).onsuccess=c}function s(e){e.preventDefault(),e.stopPropagation(),w.index("_doc_id_rev").getKey(l._doc_id_rev).onsuccess=function(e){w.put(l,e.target.result).onsuccess=u}}function c(){M[i]={ok:!0,id:d.id,rev:d.rev},I.set(e.metadata.id,e.metadata),v(e,d.seq,a)}var l=e.data,d=e.metadata;l._doc_id_rev=d.id+"::"+d.rev,delete l._id,delete l._rev;var f=w.put(l);f.onsuccess=u,f.onerror=s}function b(e,t,n,r,o,i){function a(){c===l.length&&m(e,t,n,r,o,i)}function u(){c++,a()}var s=e.data,c=0,l=Object.keys(s._attachments);l.forEach(function(n){var r=e.data._attachments[n];if(r.stub)c++,a();else{var o=r.data;delete r.data,r.revpos=parseInt(t,10);y(r.digest,o,u)}})}function v(e,t,n){function r(){++o===i.length&&n()}var o=0,i=Object.keys(e.data._attachments||{});if(!i.length)return n();for(var a=0;a<i.length;a++)!function(n){var o=e.data._attachments[n].digest,i=S.put({seq:t,digestSeq:o+"::"+t});i.onsuccess=r,i.onerror=function(e){e.preventDefault(),e.stopPropagation(),r()}}(i[a])}function y(e,t,n){k.count(e).onsuccess=function(r){if(r.target.result)return n();var o={digest:e,body:t};k.put(o).onsuccess=n}}for(var g,_,w,k,S,E,x,A,C=t.docs,O=0,P=C.length;O<P;O++){var j=C[O];j._id&&le(j._id)||(j=C[O]=At(j,n.new_edits),j.error&&!x&&(x=j))}if(x)return i(x);var D=!1,R=0,M=new Array(C.length),I=new Ao,L=!1,z=r._meta.blobSupport?"blob":"base64";Vt(C,z,function(e){if(e)return i(e);a()})}function cn(e,t,n,r,o){function i(e){l=e.target.result,c&&o(c,l,d)}function a(e){c=e.target.result,l&&o(c,l,d)}function u(){if(!c.length)return o();var n,u=c[c.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(u,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return o()}else n=IDBKeyRange.lowerBound(u,!0);t=n,c=null,l=null,e.getAll(t,r).onsuccess=i,e.getAllKeys(t,r).onsuccess=a}function s(e){var t=e.target.result;if(!t)return o();o([t.key],[t.value],t)}var c,l,d,f="function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&r>1&&!n;f?(d={continue:u},e.getAll(t,r).onsuccess=i,e.getAllKeys(t,r).onsuccess=a):n?e.openCursor(t,"prev").onsuccess=s:e.openCursor(t).onsuccess=s}function ln(e,t,n){function r(e){var t=e.target.result;t?(o.push(t.value),t.continue()):n({target:{result:o}})}if("function"==typeof e.getAll)return void(e.getAll(t).onsuccess=n);var o=[];e.openCursor(t).onsuccess=r}function dn(e,t,n,r,o){try{if(e&&t)return o?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return o?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return o?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(e){return{error:e}}return null}function fn(e,t,n){function r(t,n,r){var o=t.id+"::"+r;x.get(o).onsuccess=function(r){if(n.doc=tn(r.target.result),e.conflicts){var o=$(t);o.length&&(n.doc._conflicts=o)}rn(n.doc,e,_)}}function o(t,n){var o={id:n.id,key:n.id,value:{rev:t}},i=n.deleted;"ok"===e.deleted?(A.push(o),i?(o.value.deleted=!0,o.doc=null):e.include_docs&&r(n,o,t)):!i&&h--<=0&&(A.push(o),e.include_docs&&r(n,o,t))}function i(e){for(var t=0,n=e.length;t<n&&A.length!==p;t++){var r=e[t],i=en(r);o(i.winningRev,i)}}function a(e,t,n){n&&(i(t),A.length<p&&n.continue())}function u(t){var n=t.target.result;e.descending&&(n=n.reverse()),i(n)}function s(){n(null,{total_rows:w,offset:e.skip,rows:A})}function c(){e.attachments?on(A,e.binary).then(s):s()}var l="startkey"in e&&e.startkey,d="endkey"in e&&e.endkey,f="key"in e&&e.key,h=e.skip||0,p="number"==typeof e.limit?e.limit:-1,m=!1!==e.inclusive_end,b=dn(l,d,m,f,e.descending),v=b&&b.error;if(v&&("DataError"!==v.name||0!==v.code))return n(T(Yo,v.name,v.message));var y=[hi,pi,vi];e.attachments&&y.push(mi);var g=un(t,y,"readonly");if(g.error)return n(g.error);var _=g.txn;_.oncomplete=c,_.onabort=Qt(n);var w,k=_.objectStore(hi),S=_.objectStore(pi),E=_.objectStore(vi),x=S.index("_doc_id_rev"),A=[];return E.get(vi).onsuccess=function(e){w=e.target.result.docCount},v||0===p?void 0:-1===p?ln(k,b,u):void cn(k,b,e.descending,p+h,a)}function hn(e){return new ko(function(t){var n=Ct([""]);e.objectStore(gi).put(n,"key").onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}}).catch(function(){return!1})}function pn(e,t){e.objectStore(hi).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}function mn(e,t,n,r){try{e(t,n)}catch(t){r.emit("error",t)}}function bn(){!wi&&ki.length&&(wi=!0,ki.shift()())}function vn(e,t,n){ki.push(function(){e(function(e,r){mn(t,e,r,n),wi=!1,mo()(function(){bn(n)})})}),bn()}function yn(e,t,n,r){function o(t,n,r){function o(t,n){var r=e.processChange(n,t,e);f=r.seq=t.seq;var o=w(r);if("object"==typeof o)return e.complete(o);o&&(_++,p&&g.push(r),e.attachments&&e.include_docs?rn(n,e,m,function(){on([r],e.binary).then(function(){e.onChange(r)})}):e.onChange(r))}function i(){for(var e=0,t=u.length;e<t&&_!==h;e++){var n=u[e];if(n){o(s[e],n)}}_!==h&&r.continue()}if(r&&t.length){var u=new Array(t.length),s=new Array(t.length),c=0;n.forEach(function(e,n){a(tn(e),t[n],function(e,r){s[n]=e,u[n]=r,++c===t.length&&i()})})}}function i(e,t,n,r){if(n.seq!==t)return r();if(n.winningRev===e._rev)return r(n,e);var o=e._id+"::"+n.winningRev;y.get(o).onsuccess=function(e){r(n,tn(e.target.result))}}function a(e,t,n){if(d&&!d.has(e._id))return n();var r=k.get(e._id);if(r)return i(e,t,r,n);v.get(e._id).onsuccess=function(o){r=en(o.target.result),k.set(e._id,r),i(e,t,r,n)}}function s(){e.complete(null,{results:g,last_seq:f})}function c(){!e.continuous&&e.attachments?on(g).then(s):s()}if(e=u(e),e.continuous){var l=n+":"+Qo();return _i.addListener(n,l,t,e),_i.notify(n),{cancel:function(){_i.removeListener(n,l)}}}var d=e.doc_ids&&new xo(e.doc_ids);e.since=e.since||0;var f=e.since,h="limit"in e?e.limit:-1;0===h&&(h=1);var p;p="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var m,b,v,y,g=[],_=0,w=D(e),k=new Ao,S=[hi,pi];e.attachments&&S.push(mi);var E=un(r,S,"readonly");if(E.error)return e.complete(E.error);m=E.txn,m.onabort=Qt(e.complete),m.oncomplete=c,b=m.objectStore(pi),v=m.objectStore(hi),y=b.index("_doc_id_rev"),cn(b,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,h,o)}function gn(e,t){var n=this;vn(function(t){_n(n,e,t)},t,n.constructor)}function _n(e,t,n){function r(e){var t=e.createObjectStore(hi,{keyPath:"id"});e.createObjectStore(pi,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(mi,{keyPath:"digest"}),e.createObjectStore(vi,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(gi),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore(yi,{keyPath:"_id"});var n=e.createObjectStore(bi,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}function o(e,t){var n=e.objectStore(hi);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var o=r.value,i=ce(o);o.deletedOrLocal=i?"1":"0",n.put(o),r.continue()}else t()}}function i(e){e.createObjectStore(yi,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function a(e,t){var n=e.objectStore(yi),r=e.objectStore(hi),o=e.objectStore(pi);r.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var a=i.value,u=a.id,s=le(u),c=W(a);if(s){var l=u+"::"+c,d=u+"::",f=u+"::~",h=o.index("_doc_id_rev"),p=IDBKeyRange.bound(d,f,!1,!1),m=h.openCursor(p);m.onsuccess=function(e){if(m=e.target.result){var t=m.value;t._doc_id_rev===l&&n.put(t),o.delete(m.primaryKey),m.continue()}else r.delete(i.primaryKey),i.continue()}}else i.continue()}else t&&t()}}function u(e){var t=e.createObjectStore(bi,{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}function s(e,t){var n=e.objectStore(pi),r=e.objectStore(mi),o=e.objectStore(bi);r.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var r=n.value,i=n.primaryKey,a=Object.keys(r._attachments||{}),u={},s=0;s<a.length;s++)u[r._attachments[a[s]].digest]=!0;var c=Object.keys(u);for(s=0;s<c.length;s++){var l=c[s];o.put({seq:i,digestSeq:l+"::"+i})}n.continue()}}}function l(e){function t(e){return e.data?en(e):(e.deleted="1"===e.deletedOrLocal,e)}var n=e.objectStore(pi),r=e.objectStore(hi);r.openCursor().onsuccess=function(e){function o(){var e=Zt(a,a.winningRev,a.deleted);r.put(e).onsuccess=function(){i.continue()}}var i=e.target.result;if(i){var a=t(i.value);if(a.winningRev=a.winningRev||W(a),a.seq)return o();!function(){var e=a.id+"::",t=a.id+"::",r=n.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,t)),i=0;r.onsuccess=function(e){var t=e.target.result;if(!t)return a.seq=i,o();var n=t.primaryKey;n>i&&(i=n),t.continue()}}()}}}var d=t.name,f=null;e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=c(function(t){t(null,e._meta.instanceId)}),e._bulkDocs=function(n,r,o){sn(t,n,r,e,f,o)},e._get=function(e,t,n){function r(){n(a,{doc:o,metadata:i,ctx:u})}var o,i,a,u=t.ctx;if(!u){var s=un(f,[hi,pi,mi],"readonly");if(s.error)return n(s.error);u=s.txn}u.objectStore(hi).get(e).onsuccess=function(e){if(!(i=en(e.target.result)))return a=T(Do,"missing"),r();var n;if(t.rev)n=t.latest?de(t.rev,i):t.rev;else{n=i.winningRev;if(ce(i))return a=T(Do,"deleted"),r()}var s=u.objectStore(pi),c=i.id+"::"+n;s.index("_doc_id_rev").get(c).onsuccess=function(e){if(o=e.target.result,o&&(o=tn(o)),!o)return a=T(Do,"missing"),r();r()}}},e._getAttachment=function(e,t,n,r,o){var i;if(r.ctx)i=r.ctx;else{var a=un(f,[hi,pi,mi],"readonly");if(a.error)return o(a.error);i=a.txn}var u=n.digest,s=n.content_type;i.objectStore(mi).get(u).onsuccess=function(e){nn(e.target.result.body,s,r.binary,function(e){o(null,e)})}},e._info=function(t){var n,r,o=un(f,[vi,pi],"readonly");if(o.error)return t(o.error);var i=o.txn;i.objectStore(vi).get(vi).onsuccess=function(e){r=e.target.result.docCount},i.objectStore(pi).openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},i.oncomplete=function(){t(null,{doc_count:r,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){fn(e,f,t)},e._changes=function(t){return yn(t,e,d,f)},e._close=function(e){f.close(),Si.delete(d),e()},e._getRevisionTree=function(e,t){var n=un(f,[hi],"readonly");if(n.error)return t(n.error);n.txn.objectStore(hi).get(e).onsuccess=function(e){var n=en(e.target.result);n?t(null,n.rev_tree):t(T(Do))}},e._doCompaction=function(e,t,n){var r=[hi,pi,mi,bi],o=un(f,r,"readwrite");if(o.error)return n(o.error);var i=o.txn;i.objectStore(hi).get(e).onsuccess=function(n){var r=en(n.target.result);V(r.rev_tree,function(e,n,r,o,i){var a=n+"-"+r;-1!==t.indexOf(a)&&(i.status="missing")}),an(t,e,i);var o=r.winningRev,a=r.deleted;i.objectStore(hi).put(Zt(r,o,a))},i.onabort=Qt(n),i.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=un(f,[yi],"readonly");if(n.error)return t(n.error);var r=n.txn,o=r.objectStore(yi).get(e);o.onerror=Qt(t),o.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(T(Do))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var r=e._rev,o=e._id;e._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1";var i,a=t.ctx;if(!a){var u=un(f,[yi],"readwrite");if(u.error)return n(u.error);a=u.txn,a.onerror=Qt(n),a.oncomplete=function(){i&&n(null,i)}}var s,c=a.objectStore(yi);r?(s=c.get(o),s.onsuccess=function(o){var a=o.target.result;if(a&&a._rev===r){c.put(e).onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,i)}}else n(T(Ro))}):(s=c.add(e),s.onerror=function(e){n(T(Ro)),e.preventDefault(),e.stopPropagation()},s.onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,i)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var r=t.ctx;if(!r){var o=un(f,[yi],"readwrite");if(o.error)return n(o.error);r=o.txn,r.oncomplete=function(){i&&n(null,i)}}var i,a=e._id,u=r.objectStore(yi),s=u.get(a);s.onerror=Qt(n),s.onsuccess=function(r){var o=r.target.result;o&&o._rev===e._rev?(u.delete(a),i={ok:!0,id:a,rev:"0-0"},t.ctx&&n(null,i)):n(T(Do))}},e._destroy=function(e,t){_i.removeAllListeners(d);var n=Ei.get(d);n&&n.result&&(n.result.close(),Si.delete(d));var r=indexedDB.deleteDatabase(d);r.onsuccess=function(){Ei.delete(d),w()&&d in localStorage&&delete localStorage[d],t(null,{ok:!0})},r.onerror=Qt(t)};var h=Si.get(d);if(h)return f=h.idb,e._meta=h.global,mo()(function(){n(null,e)});var p;p=t.storage?wn(d,t.storage):indexedDB.open(d,fi),Ei.set(d,p),p.onupgradeneeded=function(e){function t(){var e=d[f-1];f++,e&&e(c,t)}var n=e.target.result;if(e.oldVersion<1)return r(n);var c=e.currentTarget.transaction;e.oldVersion<3&&i(n),e.oldVersion<4&&u(n);var d=[o,a,s,l],f=e.oldVersion;t()},p.onsuccess=function(t){function r(){void 0!==u&&l&&(e._meta={name:d,instanceId:s,blobSupport:u},Si.set(d,{idb:f,global:e._meta}),n(null,e))}function o(){if(void 0!==a&&void 0!==i){var e=d+"_id";e in i?s=i[e]:i[e]=s=Qo(),i.docCount=a,c.objectStore(vi).put(i)}}f=t.target.result,f.onversionchange=function(){f.close(),Si.delete(d)},f.onabort=function(e){E("error","Database has a global failure",e.target.error),f.close(),Si.delete(d)};var i,a,u,s,c=f.transaction([vi,gi,hi],"readwrite"),l=!1;c.objectStore(vi).get(vi).onsuccess=function(e){i=e.target.result||{id:vi},o()},pn(c,function(e){a=e,o()}),ii||(ii=hn(c)),ii.then(function(e){u=e,r()}),c.oncomplete=function(){l=!0,r()}},p.onerror=function(){var e="Failed to open indexedDB, are you in private browsing mode?";E("error",e),n(T(Yo,e))}}function wn(e,t){try{return indexedDB.open(e,{version:fi,storage:t})}catch(t){return indexedDB.open(e,fi)}}function kn(e){return decodeURIComponent(escape(e))}function Sn(e){return e<65?e-48:e-55}function En(e,t,n){for(var r="";t<n;)r+=String.fromCharCode(Sn(e.charCodeAt(t++))<<4|Sn(e.charCodeAt(t++)));return r}function xn(e,t,n){for(var r="";t<n;)r+=String.fromCharCode(Sn(e.charCodeAt(t+2))<<12|Sn(e.charCodeAt(t+3))<<8|Sn(e.charCodeAt(t))<<4|Sn(e.charCodeAt(t+1))),t+=4;return r}function An(e,t){return"UTF-8"===t?kn(En(e,0,e.length)):xn(e,0,e.length)}function Cn(e){return"'"+e+"'"}function On(e){return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"")}function Tn(e){return e.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,"")}function Pn(e){return delete e._id,delete e._rev,JSON.stringify(e)}function jn(e,t,n){return e=JSON.parse(e),e._id=t,e._rev=n,e}function Dn(e){for(var t="(";e--;)t+="?",e&&(t+=",");return t+")"}function Rn(e,t,n,r,o){return"SELECT "+e+" FROM "+("string"==typeof t?t:t.join(" JOIN "))+(n?" ON "+n:"")+(r?" WHERE "+("string"==typeof r?r:r.join(" AND ")):"")+(o?" ORDER BY "+o:"")}function Mn(e,t,n){function r(){++i===e.length&&o()}function o(){if(a.length){var e="SELECT DISTINCT digest AS digest FROM "+Di+" WHERE seq IN "+Dn(a.length);n.executeSql(e,a,function(e,t){for(var n=[],r=0;r<t.rows.length;r++)n.push(t.rows.item(r).digest);if(n.length){var o="DELETE FROM "+Di+" WHERE seq IN ("+a.map(function(){return"?"}).join(",")+")";e.executeSql(o,a,function(e){var t="SELECT digest FROM "+Di+" WHERE digest IN ("+n.map(function(){return"?"}).join(",")+")";e.executeSql(t,n,function(e,t){for(var r=new xo,o=0;o<t.rows.length;o++)r.add(t.rows.item(o).digest);n.forEach(function(t){r.has(t)||(e.executeSql("DELETE FROM "+Di+" WHERE digest=?",[t]),e.executeSql("DELETE FROM "+Ti+" WHERE digest=?",[t]))})})})}})}}if(e.length){var i=0,a=[];e.forEach(function(e){var o="SELECT seq FROM "+Oi+" WHERE doc_id=? AND rev=?";n.executeSql(o,[t,e],function(e,t){if(!t.rows.length)return r();var n=t.rows.item(0).seq;a.push(n),e.executeSql("DELETE FROM "+Oi+" WHERE seq=?",[n],r)})})}}function In(e){return function(t){E("error","WebSQL threw an error",t);var n=t&&t.constructor.toString().match(/function ([^(]+)/),r=n&&n[1]||t.type,o=t.target||t.message;e(T(Ho,o,r))}}function Ln(e){return"size"in e?1e6*e.size:"undefined"!=typeof navigator&&/Android/.test(navigator.userAgent)?5e6:1}function zn(e,t,n,r,o,i,a){function u(){if(g)return a(g);i.notify(r._name),a(null,_)}function s(e,t){var n="SELECT count(*) as cnt FROM "+Ti+" WHERE digest=?";y.executeSql(n,[e],function(n,r){if(0===r.rows.item(0).cnt){var o=T(Vo,"unknown stub attachment with digest "+e);t(o)}else t()})}function c(e){function t(){++o===n.length&&e(r)}var n=[];if(b.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r,o=0;n.forEach(function(e){s(e,function(e){e&&!r&&(r=e),t()})})}function l(e,t,n,o,i,a,u,s){function c(){function t(e,t){function r(){return++o===i.length&&t(),!1}var o=0,i=Object.keys(n._attachments||{});if(!i.length)return t();for(var a=0;a<i.length;a++)!function(t){var o="INSERT INTO "+Di+" (digest, seq) VALUES (?,?)",i=[n._attachments[t].digest,e];y.executeSql(o,i,r,r)}(i[a])}var n=e.data,r=o?1:0,i=n._id,a=n._rev,u=Pn(n),s="INSERT INTO "+Oi+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",c=[i,a,u,r];y.executeSql(s,c,function(e,n){var r=n.insertId;t(r,function(){f(e,r)})},function(){var e=Rn("seq",Oi,null,"doc_id=? AND rev=?");return y.executeSql(e,[i,a],function(e,n){var o=n.rows.item(0).seq,s="UPDATE "+Oi+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",c=[u,r,i,a];e.executeSql(s,c,function(e){t(o,function(){f(e,o)})})}),!1})}function l(e){p||(e?(p=e,s(p)):m===b.length&&c())}function d(e){m++,l(e)}function f(n,o){var a=e.metadata.id,c=e.stemmedRevs||[];i&&r.auto_compaction&&(c=K(e.metadata).concat(c)),c.length&&Mn(c,a,n),e.metadata.seq=o;var l=e.metadata.rev;delete e.metadata.rev;var d=i?"UPDATE "+Ci+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+Oi+" WHERE doc_id="+Ci+".id AND rev=?) WHERE id=?":"INSERT INTO "+Ci+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",f=Jt(e.metadata),h=i?[f,o,t,a]:[a,o,o,f];n.executeSql(d,h,function(){_[u]={ok:!0,id:e.metadata.id,rev:l},w.set(a,e.metadata),s()})}var p=null,m=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev;var b=Object.keys(e.data._attachments||{});o&&(e.data._deleted=!0),b.forEach(function(n){var r=e.data._attachments[n];if(r.stub)m++,l();else{var o=r.data;delete r.data,r.revpos=parseInt(t,10);h(r.digest,o,d)}}),b.length||c()}function d(){$t(e.revs_limit,b,r,w,y,_,l,n)}function f(e){function t(){++n===b.length&&e()}if(!b.length)return e();var n=0;b.forEach(function(e){if(e._id&&le(e._id))return t();var n=e.metadata.id;y.executeSql("SELECT json FROM "+Ci+" WHERE id = ?",[n],function(e,r){if(r.rows.length){var o=Kt(r.rows.item(0).json);w.set(n,o)}t()})})}function h(e,t,n){var r="SELECT digest FROM "+Ti+" WHERE digest=?";y.executeSql(r,[e],function(o,i){if(i.rows.length)return n();r="INSERT INTO "+Ti+" (digest, body, escaped) VALUES (?,?,1)",o.executeSql(r,[e,On(t)],function(){n()},function(){return n(),!1})})}var p=n.new_edits,m=t.docs,b=m.map(function(e){return e._id&&le(e._id)?e:At(e,p)}),v=b.filter(function(e){return e.error});if(v.length)return a(v[0]);var y,g,_=new Array(b.length),w=new Ao;Vt(b,"binary",function(e){if(e)return a(e);o.transaction(function(e){y=e,c(function(e){e?g=e:f(d)})},In(a),u)})}function Nn(e){return e.websql(e.name,e.version,e.description,e.size)}function qn(e){try{return{db:Nn(e)}}catch(e){return{error:e}}}function Fn(e){var t=Ri.get(e.name);return t||(t=qn(e),Ri.set(e.name,t)),t}function Un(e,t,n,r,o){function i(){++s===u.length&&o&&o()}function a(e,o){var a=e._attachments[o],u={binary:t.binary,ctx:r};n._getAttachment(e._id,o,a,u,function(t,n){e._attachments[o]=Po(b(a,["digest","content_type"]),{data:n}),i()})}var u=Object.keys(e._attachments||{});if(!u.length)return o&&o();var s=0;u.forEach(function(n){t.attachments&&t.include_docs?a(e,n):(e._attachments[n].stub=!0,i())})}function Bn(e,t){function n(){w()&&(window.localStorage["_pouch__websqldb_"+g._name]=!0),t(null,g)}function r(e,t){e.executeSql(Ni),e.executeSql("ALTER TABLE "+Oi+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){e.executeSql(Li),e.executeSql("ALTER TABLE "+Ci+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){e.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+Ci+" (local, id)");var n="SELECT "+Ci+".winningseq AS seq, "+Ci+".json AS metadata FROM "+Oi+" JOIN "+Ci+" ON "+Oi+".seq = "+Ci+".winningseq";e.executeSql(n,[],function(e,n){for(var r=[],o=[],i=0;i<n.rows.length;i++){var a=n.rows.item(i),u=a.seq,s=JSON.parse(a.metadata);ce(s)&&r.push(u),le(s.id)&&o.push(s.id)}e.executeSql("UPDATE "+Ci+"SET local = 1 WHERE id IN "+Dn(o.length),o,function(){e.executeSql("UPDATE "+Oi+" SET deleted = 1 WHERE seq IN "+Dn(r.length),r,t)})})})})}function o(e,t){var n="CREATE TABLE IF NOT EXISTS "+Pi+" (id UNIQUE, rev, json)";e.executeSql(n,[],function(){var n="SELECT "+Ci+".id AS id, "+Oi+".json AS data FROM "+Oi+" JOIN "+Ci+" ON "+Oi+".seq = "+Ci+".winningseq WHERE local = 1";e.executeSql(n,[],function(e,n){function r(){if(!o.length)return t(e);var n=o.shift(),i=JSON.parse(n.data)._rev;e.executeSql("INSERT INTO "+Pi+" (id, rev, json) VALUES (?,?,?)",[n.id,i,n.data],function(e){e.executeSql("DELETE FROM "+Ci+" WHERE id=?",[n.id],function(e){e.executeSql("DELETE FROM "+Oi+" WHERE seq=?",[n.seq],function(){r()})})})}for(var o=[],i=0;i<n.rows.length;i++)o.push(n.rows.item(i));r()})})}function i(e,t){function n(n){function r(){if(!n.length)return t(e);var o=n.shift(),i=An(o.hex,y),a=i.lastIndexOf("::"),u=i.substring(0,a),s=i.substring(a+2),c="UPDATE "+Oi+" SET doc_id=?, rev=? WHERE doc_id_rev=?";e.executeSql(c,[u,s,i],function(){r()})}r()}var r="ALTER TABLE "+Oi+" ADD COLUMN doc_id";e.executeSql(r,[],function(e){var t="ALTER TABLE "+Oi+" ADD COLUMN rev";e.executeSql(t,[],function(e){e.executeSql(zi,[],function(e){var t="SELECT hex(doc_id_rev) as hex FROM "+Oi;e.executeSql(t,[],function(e,t){for(var r=[],o=0;o<t.rows.length;o++)r.push(t.rows.item(o));n(r)})})})})}function a(e,t){function n(e){var n="SELECT COUNT(*) AS cnt FROM "+Ti;e.executeSql(n,[],function(e,n){function r(){var n=Rn(Bi+", "+Ci+".id AS id",[Ci,Oi],Ui,null,Ci+".id ");n+=" LIMIT "+i+" OFFSET "+o,o+=i,e.executeSql(n,[],function(e,n){if(!n.rows.length)return t(e);for(var o={},i=0;i<n.rows.length;i++)for(var a=n.rows.item(i),u=jn(a.data,a.id,a.rev),s=Object.keys(u._attachments||{}),c=0;c<s.length;c++){var l=u._attachments[s[c]];!function(e,t){var n=o[e]=o[e]||[];-1===n.indexOf(t)&&n.push(t)}(l.digest,a.seq)}var d=[];if(Object.keys(o).forEach(function(e){o[e].forEach(function(t){d.push([e,t])})}),!d.length)return r();var f=0;d.forEach(function(t){var n="INSERT INTO "+Di+" (digest, seq) VALUES (?,?)";e.executeSql(n,t,function(){++f===d.length&&r()})})})}if(!n.rows.item(0).cnt)return t(e);var o=0,i=10;r()})}var r="CREATE TABLE IF NOT EXISTS "+Di+" (digest, seq INTEGER)";e.executeSql(r,[],function(e){e.executeSql(Fi,[],function(e){e.executeSql(qi,[],n)})})}function s(e,t){var n="ALTER TABLE "+Ti+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";e.executeSql(n,[],t)}function l(e,t){var n="ALTER TABLE "+Ci+" ADD COLUMN max_seq INTEGER";e.executeSql(n,[],function(e){var n="UPDATE "+Ci+" SET max_seq=(SELECT MAX(seq) FROM "+Oi+" WHERE doc_id=id)";e.executeSql(n,[],function(e){var n="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+Ci+" (max_seq)";e.executeSql(n,[],t)})})}function d(e,t){e.executeSql('SELECT HEX("a") AS hex',[],function(e,n){var r=n.rows.item(0).hex;y=2===r.length?"UTF-8":"UTF-16",t()})}function f(){for(;S.length>0;){S.pop()(null,_)}}function h(e,t){if(0===t){var n="CREATE TABLE IF NOT EXISTS "+ji+" (dbid, db_version INTEGER)",u="CREATE TABLE IF NOT EXISTS "+Ti+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",c="CREATE TABLE IF NOT EXISTS "+Di+" (digest, seq INTEGER)",d="CREATE TABLE IF NOT EXISTS "+Ci+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",h="CREATE TABLE IF NOT EXISTS "+Oi+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",p="CREATE TABLE IF NOT EXISTS "+Pi+" (id UNIQUE, rev, json)";e.executeSql(u),e.executeSql(p),e.executeSql(c,[],function(){e.executeSql(qi),e.executeSql(Fi)}),e.executeSql(d,[],function(){e.executeSql(Ni),e.executeSql(h,[],function(){e.executeSql(Li),e.executeSql(zi),e.executeSql(n,[],function(){var t="INSERT INTO "+ji+" (db_version, dbid) VALUES (?,?)";_=Qo();var n=[Ai,_];e.executeSql(t,n,function(){f()})})})})}else{var m=function(){t<Ai&&e.executeSql("UPDATE "+ji+" SET db_version = "+Ai);var n="SELECT dbid FROM "+ji;e.executeSql(n,[],function(e,t){_=t.rows.item(0).dbid,f()})},b=[r,o,i,a,s,l,m],v=t,y=function(e){b[v-1](e,y),v++};y(e)}}function p(e){var t="SELECT sql FROM sqlite_master WHERE tbl_name = "+ji;e.executeSql(t,[],function(e,t){t.rows.length?/db_version/.test(t.rows.item(0).sql)?e.executeSql("SELECT db_version FROM "+ji,[],function(e,t){h(e,t.rows.item(0).db_version)}):e.executeSql("ALTER TABLE "+ji+" ADD COLUMN db_version INTEGER",[],function(){h(e,1)}):h(e,0)})}function m(e,t){var n="SELECT MAX(seq) AS seq FROM "+Oi;e.executeSql(n,[],function(e,n){var r=n.rows.item(0).seq||0;t(r)})}function b(e,t){var n=Rn("COUNT("+Ci+".id) AS 'num'",[Ci,Oi],Ui,Oi+".deleted=0");e.executeSql(n,[],function(e,n){t(n.rows.item(0).num)})}function v(e,t,n,r,o){var i=Rn(Bi,[Ci,Oi],Ui,Ci+".id=?"),a=[t];e.executeSql(i,a,function(e,t){if(!t.rows.length){var i=T(Do,"missing");return o(i)}var a=t.rows.item(0),u=Kt(a.metadata);r(de(n,u))})}var y,g=this,_=null,k=Ln(e),S=[];g._name=e.name;var E=Po({},e,{version:Ii,description:e.name,size:k}),x=Fn(E);if(x.error)return In(t)(x.error);var A=x.db;"function"!=typeof A.readTransaction&&(A.readTransaction=A.transaction),function(){A.transaction(function(e){d(e,function(){p(e)})},In(t),n)}(),g._remote=!1,g.type=function(){return"websql"},g._id=c(function(e){e(null,_)}),g._info=function(e){var t,n;A.readTransaction(function(e){m(e,function(e){t=e}),b(e,function(e){n=e})},In(e),function(){e(null,{doc_count:n,update_seq:t,websql_encoding:y})})},g._bulkDocs=function(t,n,r){zn(e,t,n,g,A,Mi,r)},g._get=function(e,t,n){function r(e){n(e,{doc:o,metadata:i,ctx:a})}var o,i,a=t.ctx;if(!a)return A.readTransaction(function(r){g._get(e,Po({ctx:r},t),n)});var u,s;if(t.rev){if(t.latest)return void v(a,e,t.rev,function(r){t.latest=!1,t.rev=r,g._get(e,t,n)},r);u=Rn(Bi,[Ci,Oi],Ci+".id="+Oi+".doc_id",[Oi+".doc_id=?",Oi+".rev=?"]),s=[e,t.rev]}else u=Rn(Bi,[Ci,Oi],Ui,Ci+".id=?"),s=[e];a.executeSql(u,s,function(e,n){if(!n.rows.length){return r(T(Do,"missing"))}var a=n.rows.item(0);if(i=Kt(a.metadata),a.deleted&&!t.rev){return r(T(Do,"deleted"))}o=jn(a.data,i.id,a.rev),r()})},g._allDocs=function(e,t){var n,r=[],o="startkey"in e&&e.startkey,i="endkey"in e&&e.endkey,a="key"in e&&e.key,u="descending"in e&&e.descending,s="limit"in e?e.limit:-1,c="skip"in e?e.skip:0,l=!1!==e.inclusive_end,d=[],f=[];if(!1!==a)f.push(Ci+".id = ?"),d.push(a);else if(!1!==o||!1!==i){if(!1!==o&&(f.push(Ci+".id "+(u?"<=":">=")+" ?"),d.push(o)),!1!==i){var h=u?">":"<";l&&(h+="="),f.push(Ci+".id "+h+" ?"),d.push(i)}!1!==a&&(f.push(Ci+".id = ?"),d.push(a))}"ok"!==e.deleted&&f.push(Oi+".deleted = 0"),A.readTransaction(function(t){if(b(t,function(e){n=e}),0!==s){var o=Rn(Bi,[Ci,Oi],Ui,f,Ci+".id "+(u?"DESC":"ASC"));o+=" LIMIT "+s+" OFFSET "+c,t.executeSql(o,d,function(t,n){for(var o=0,i=n.rows.length;o<i;o++){var a=n.rows.item(o),u=Kt(a.metadata),s=u.id,c=jn(a.data,s,a.rev),l=c._rev,d={id:s,key:s,value:{rev:l}};if(e.include_docs){if(d.doc=c,d.doc._rev=l,e.conflicts){var f=$(u);f.length&&(d.doc._conflicts=f)}Un(d.doc,e,g,t)}if(a.deleted){if("ok"!==e.deleted)continue;d.value.deleted=!0,d.doc=null}r.push(d)}})}},In(t),function(){t(null,{total_rows:n,offset:e.skip,rows:r})})},g._changes=function(e){if(e=u(e),e.continuous){var t=g._name+":"+Qo();return Mi.addListener(g._name,t,g,e),Mi.notify(g._name),{cancel:function(){Mi.removeListener(g._name,t)}}}var n=e.descending;e.since=e.since&&!n?e.since:0;var r="limit"in e?e.limit:-1;0===r&&(r=1);var o;o="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var i=[],a=0;!function(){var t=Ci+".json AS metadata, "+Ci+".max_seq AS maxSeq, "+Oi+".json AS winningDoc, "+Oi+".rev AS winningRev ",u=Ci+" JOIN "+Oi,s=Ci+".id="+Oi+".doc_id AND "+Ci+".winningseq="+Oi+".seq",c=["maxSeq > ?"],l=[e.since];e.doc_ids&&(c.push(Ci+".id IN "+Dn(e.doc_ids.length)),l=l.concat(e.doc_ids));var d="maxSeq "+(n?"DESC":"ASC"),f=Rn(t,u,s,c,d),h=D(e);e.view||e.filter||(f+=" LIMIT "+r);var p=e.since||0;A.readTransaction(function(t){t.executeSql(f,l,function(t,n){function u(t){return function(){e.onChange(t)}}for(var s=0,c=n.rows.length;s<c;s++){var l=n.rows.item(s),d=Kt(l.metadata);p=l.maxSeq;var f=jn(l.winningDoc,d.id,l.winningRev),m=e.processChange(f,d,e);m.seq=l.maxSeq;var b=h(m);if("object"==typeof b)return e.complete(b);if(b&&(a++,o&&i.push(m),e.attachments&&e.include_docs?Un(f,e,g,t,u(m)):u(m)()),a===r)break}})},In(e.complete),function(){e.continuous||e.complete(null,{results:i,last_seq:p})})}()},g._close=function(e){e()},g._getAttachment=function(e,t,n,r,o){var i,a=r.ctx,u=n.digest,s=n.content_type,c="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+Ti+" WHERE digest=?";a.executeSql(c,[u],function(e,t){var n=t.rows.item(0),a=n.escaped?Tn(n.body):An(n.body,y);i=r.binary?Tt(a,s):ci(a),o(null,i)})},g._getRevisionTree=function(e,t){A.readTransaction(function(n){var r="SELECT json AS metadata FROM "+Ci+" WHERE id = ?";n.executeSql(r,[e],function(e,n){if(n.rows.length){var r=Kt(n.rows.item(0).metadata);t(null,r.rev_tree)}else t(T(Do))})})},g._doCompaction=function(e,t,n){if(!t.length)return n();A.transaction(function(n){var r="SELECT json AS metadata FROM "+Ci+" WHERE id = ?";n.executeSql(r,[e],function(n,r){var o=Kt(r.rows.item(0).metadata);V(o.rev_tree,function(e,n,r,o,i){var a=n+"-"+r;-1!==t.indexOf(a)&&(i.status="missing")});var i="UPDATE "+Ci+" SET json = ? WHERE id = ?";n.executeSql(i,[Jt(o),e])}),Mn(t,e,n)},In(n),function(){n()})},g._getLocal=function(e,t){A.readTransaction(function(n){var r="SELECT json, rev FROM "+Pi+" WHERE id=?";n.executeSql(r,[e],function(n,r){if(r.rows.length){var o=r.rows.item(0),i=jn(o.json,e,o.rev);t(null,i)}else t(T(Do))})})},g._putLocal=function(e,t,n){function r(e){var r,c;i?(r="UPDATE "+Pi+" SET rev=?, json=? WHERE id=? AND rev=?",c=[o,s,a,i]):(r="INSERT INTO "+Pi+" (id, rev, json) VALUES (?,?,?)",c=[a,o,s]),e.executeSql(r,c,function(e,r){r.rowsAffected?(u={ok:!0,id:a,rev:o},t.ctx&&n(null,u)):n(T(Ro))},function(){return n(T(Ro)),!1})}"function"==typeof t&&(n=t,t={}),delete e._revisions;var o,i=e._rev,a=e._id;o=e._rev=i?"0-"+(parseInt(i.split("-")[1],10)+1):"0-1";var u,s=Pn(e);t.ctx?r(t.ctx):A.transaction(r,In(n),function(){u&&n(null,u)})},g._removeLocal=function(e,t,n){function r(r){var i="DELETE FROM "+Pi+" WHERE id=? AND rev=?",a=[e._id,e._rev];r.executeSql(i,a,function(r,i){if(!i.rowsAffected)return n(T(Do));o={ok:!0,id:e._id,rev:"0-0"},t.ctx&&n(null,o)})}"function"==typeof t&&(n=t,t={});var o;t.ctx?r(t.ctx):A.transaction(r,In(n),function(){o&&n(null,o)})},g._destroy=function(e,t){Mi.removeAllListeners(g._name),A.transaction(function(e){[Ci,Oi,Ti,ji,Pi,Di].forEach(function(t){e.executeSql("DROP TABLE IF EXISTS "+t,[])})},In(t),function(){w()&&(delete window.localStorage["_pouch__websqldb_"+g._name],delete window.localStorage[g._name]),t(null,{ok:!0})})}}function Yn(){try{return openDatabase("_pouch_validate_websql",1,"",1),!0}catch(e){return!1}}function Hn(){if("undefined"==typeof indexedDB||null===indexedDB||!/iP(hone|od|ad)/.test(navigator.userAgent))return!0;var e=w(),t="_pouch__websqldb_valid_"+navigator.userAgent;if(e&&localStorage[t])return"1"===localStorage[t];var n=Yn();return e&&(localStorage[t]=n?"1":"0"),n}function Wn(){return"function"==typeof openDatabase&&Hn()}function Vn(e,t,n,r){return openDatabase(e,t,n,r)}function Gn(e,t){var n=Po({websql:Vn},e);Bn.call(this,n,t)}function Xn(){for(var e={},t=new ko(function(t,n){e.resolve=t,e.reject=n}),n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.promise=t,ko.resolve().then(function(){return fetch.apply(null,n)}).then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}),e}function $n(e,t){var n,r,o,i=new Headers,a={method:e.method,credentials:"include",headers:i};return e.json&&(i.set("Accept","application/json"),i.set("Content-Type",e.headers["Content-Type"]||"application/json")),e.body&&e.processData&&"string"!=typeof e.body?a.body=JSON.stringify(e.body):a.body="body"in e?e.body:null,Object.keys(e.headers).forEach(function(t){e.headers.hasOwnProperty(t)&&i.set(t,e.headers[t])}),n=Xn(e.url,a),e.timeout>0&&(r=setTimeout(function(){n.reject(new Error("Load timeout for resource: "+e.url))},e.timeout)),n.promise.then(function(t){return o={statusCode:t.status},e.timeout>0&&clearTimeout(r),o.statusCode>=200&&o.statusCode<300?e.binary?t.blob():t.text():t.json()}).then(function(e){o.statusCode>=200&&o.statusCode<300?t(null,o,e):(e.status=o.statusCode,t(e))}).catch(function(e){e||(e=new Error("canceled")),t(e)}),{abort:n.reject}}function Kn(e,t){var n,r,o=!1,i=function(){n.abort(),s()},a=function(){o=!0,n.abort(),s()},u={abort:i},s=function(){clearTimeout(r),u.abort=function(){},n&&(n.onprogress=void 0,n.upload&&(n.upload.onprogress=void 0),n.onreadystatechange=void 0,n=void 0)};n=e.xhr?new e.xhr:new XMLHttpRequest;try{n.open(e.method,e.url)}catch(e){return t(new Error(e.name||"Url is invalid"))}n.withCredentials=!("withCredentials"in e)||e.withCredentials,"GET"===e.method?delete e.headers["Content-Type"]:e.json&&(e.headers.Accept="application/json",e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.body&&e.processData&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body))),e.binary&&(n.responseType="arraybuffer"),"body"in e||(e.body=null);for(var c in e.headers)e.headers.hasOwnProperty(c)&&n.setRequestHeader(c,e.headers[c]);return e.timeout>0&&(r=setTimeout(a,e.timeout),n.onprogress=function(){clearTimeout(r),4!==n.readyState&&(r=setTimeout(a,e.timeout))},void 0!==n.upload&&(n.upload.onprogress=n.onprogress)),n.onreadystatechange=function(){if(4===n.readyState){var r={statusCode:n.status};if(n.status>=200&&n.status<300){var i;i=e.binary?Ct([n.response||""],{type:n.getResponseHeader("Content-Type")}):n.responseText,t(null,r,i)}else{var a={};if(o)a=new Error("ETIMEDOUT"),a.code="ETIMEDOUT";else if("string"==typeof n.response)try{a=JSON.parse(n.response)}catch(e){}a.status=n.status,t(a)}s()}},e.body&&e.body instanceof Blob?It(e.body,function(e){n.send(e)}):n.send(e.body),u}function Jn(e,t){return Hi||e.xhr?Kn(e,t):$n(e,t)}function Qn(){return""}function Zn(e,t){function n(t,n,r){if(!e.binary&&e.json&&"string"==typeof t)try{t=JSON.parse(t)}catch(e){return r(e)}Array.isArray(t)&&(t=t.map(function(e){return e.error||e.missing?P(e):e})),e.binary&&Wi(t,n),r(null,t,n)}return e=u(e),e=Po({method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1},e),e.json&&(e.binary||(e.headers.Accept="application/json"),e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json"),e.binary&&(e.encoding=null,e.json=!1),e.processData||(e.json=!1),Jn(e,function(r,o,i){if(r)return t(P(r));var a,u=o.headers&&o.headers["content-type"],s=i||Qn();if(!e.binary&&(e.json||!e.processData)&&"object"!=typeof s&&(/json/.test(u)||/^[\s]*\{/.test(s)&&/\}[\s]*$/.test(s)))try{s=JSON.parse(s.toString())}catch(e){}o.statusCode>=200&&o.statusCode<300?n(s,o,t):(a=P(s),a.status=o.statusCode,t(a))})}function er(e,t){var n=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",r=-1!==n.indexOf("safari")&&-1===n.indexOf("chrome"),o=-1!==n.indexOf("msie"),i=-1!==n.indexOf("edge"),a=r||(o||i)&&"GET"===e.method,u=!("cache"in e)||e.cache;if(!/^blob:/.test(e.url)&&(a||!u)){var s=-1!==e.url.indexOf("?");e.url+=(s?"&":"?")+"_nonce="+Date.now()}return Zn(e,t)}function tr(e,t){return new ko(function(n,r){function o(){l++,e[d++]().then(a,u)}function i(){++f===h?c?r(c):n():s()}function a(){l--,i()}function u(e){l--,c=c||e,i()}function s(){for(;l<t&&d<h;)o()}var c,l=0,d=0,f=0,h=e.length;s()})}function nr(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];n.data=Pt(n.data,n.content_type)})}function rr(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function or(e){return e._attachments&&Object.keys(e._attachments)?ko.all(Object.keys(e._attachments).map(function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new ko(function(e){Mt(n.data,e)}).then(function(e){n.data=e})})):ko.resolve()}function ir(e){if(!e.prefix)return!1;var t=F(e.prefix).protocol;return"http"===t||"https"===t}function ar(e,t){if(ir(t)){var n=t.name.substr(t.prefix.length);e=t.prefix+encodeURIComponent(n)}var r=F(e);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var o=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=o.pop(),-1===r.db.indexOf("%")&&(r.db=encodeURIComponent(r.db)),r.path=o.join("/"),r}function ur(e,t){return sr(e,e.db+"/"+t)}function sr(e,t){var n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function cr(e){return"?"+Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}function lr(e,t){function n(e,t,n){var r=e.ajax||{},o=Po(u(f),r,t),i=u(f.headers||{});return o.headers=Po(i,r.headers,t.headers||{}),s.constructor.listeners("debug").length&&s.constructor.emit("debug",["http",o.method,o.url]),s._ajax(o,n)}function r(e,t){return new ko(function(r,o){n(e,t,function(e,t){if(e)return o(e);r(t)})})}function o(e,t){return d(e,co()(function(e){i().then(function(){return t.apply(this,e)}).catch(function(t){e.pop()(t)})}))}function i(){return e.skipSetup||e.skip_setup?ko.resolve():v||(v=r({},{method:"GET",url:l}).catch(function(e){return e&&e.status&&404===e.status?(C(404,"PouchDB is just detecting if the remote exists."),r({},{method:"PUT",url:l})):ko.reject(e)}).catch(function(e){return!(!e||!e.status||412!==e.status)||ko.reject(e)}),v.catch(function(){v=null}),v)}function a(e){return e.split("/").map(encodeURIComponent).join("/")}var s=this,c=ar(e.name,e),l=ur(c,"");e=u(e);var f=e.ajax||{};if(e.auth||c.auth){var h=e.auth||c.auth,p=h.username+":"+h.password,m=ci(unescape(encodeURIComponent(p)));f.headers=f.headers||{},f.headers.Authorization="Basic "+m}s._ajax=er;var v;mo()(function(){t(null,s)}),s._remote=!0,s.type=function(){return"http"},s.id=o("id",function(e){n({},{method:"GET",url:sr(c,"")},function(t,n){var r=n&&n.uuid?n.uuid+c.db:ur(c,"");e(null,r)})}),s.request=o("request",function(e,t){e.url=ur(c,e.url),n({},e,t)}),s.compact=o("compact",function(e,t){"function"==typeof e&&(t=e,e={}),e=u(e),n(e,{url:ur(c,"_compact"),method:"POST"},function(){function n(){s.info(function(r,o){o&&!o.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)})}n()})}),s.bulkGet=d("bulkGet",function(e,t){function r(t){var r={};e.revs&&(r.revs=!0),e.attachments&&(r.attachments=!0),e.latest&&(r.latest=!0),n(e,{url:ur(c,"_bulk_get"+cr(r)),method:"POST",body:{docs:e.docs}},t)}function o(){for(var n=Gi,r=Math.ceil(e.docs.length/n),o=0,a=new Array(r),u=0;u<r;u++){var s=b(e,["revs","attachments","latest"]);s.ajax=f,s.docs=e.docs.slice(u*n,Math.min(e.docs.length,(u+1)*n)),g(i,s,function(e){return function(n,i){a[e]=i.results,++o===r&&t(null,{results:R(a)})}}(u))}}var i=this,a=sr(c,""),u=Ki[a];"boolean"!=typeof u?r(function(e,n){e?(Ki[a]=!1,C(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):(Ki[a]=!0,t(null,n))}):u?r(t):o()}),s._info=function(e){i().then(function(){n({},{method:"GET",url:ur(c,"")},function(t,n){if(t)return e(t);n.host=ur(c,""),e(null,n)})}).catch(e)},s.get=o("get",function(e,t,n){function o(e){function n(n){var i=o[n],u=rr(e._id)+"/"+a(n)+"?rev="+e._rev;return r(t,{method:"GET",url:ur(c,u),binary:!0}).then(function(e){return t.binary?e:new ko(function(t){Mt(e,t)})}).then(function(e){delete i.stub,delete i.length,i.data=e})}var o=e._attachments,i=o&&Object.keys(o);if(o&&i.length){return tr(i.map(function(e){return function(){return n(e)}}),5)}}function i(e){return Array.isArray(e)?ko.all(e.map(function(e){if(e.ok)return o(e.ok)})):o(e)}"function"==typeof t&&(n=t,t={}),t=u(t);var s={};t.revs&&(s.revs=!0),t.revs_info&&(s.revs_info=!0),t.latest&&(s.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),s.open_revs=t.open_revs),t.rev&&(s.rev=t.rev),t.conflicts&&(s.conflicts=t.conflicts),e=rr(e);var l={method:"GET",url:ur(c,e+cr(s))};r(t,l).then(function(e){return ko.resolve().then(function(){if(t.attachments)return i(e)}).then(function(){n(null,e)})}).catch(function(t){t.docId=e,n(t)})}),s.remove=o("remove",function(e,t,r,o){var i;"string"==typeof t?(i={_id:e,_rev:t},"function"==typeof r&&(o=r,r={})):(i=e,"function"==typeof t?(o=t,r={}):(o=r,r=t));var a=i._rev||r.rev;n(r,{method:"DELETE",url:ur(c,rr(i._id))+"?rev="+a},o)}),s.getAttachment=o("getAttachment",function(e,t,r,o){"function"==typeof r&&(o=r,r={});var i=r.rev?"?rev="+r.rev:"";n(r,{method:"GET",url:ur(c,rr(e))+"/"+a(t)+i,binary:!0},o)}),s.removeAttachment=o("removeAttachment",function(e,t,r,o){n({},{method:"DELETE",url:ur(c,rr(e)+"/"+a(t))+"?rev="+r},o)}),s.putAttachment=o("putAttachment",function(e,t,r,o,i,u){"function"==typeof i&&(u=i,i=o,o=r,r=null);var s=rr(e)+"/"+a(t),l=ur(c,s);if(r&&(l+="?rev="+r),"string"==typeof o){var d;try{d=si(o)}catch(e){return u(T(No,"Attachment is not a valid base64 string"))}o=d?Tt(d,i):""}n({},{headers:{"Content-Type":i},method:"PUT",url:l,processData:!1,body:o,timeout:f.timeout||6e4},u)}),s._bulkDocs=function(e,t,r){e.new_edits=t.new_edits,i().then(function(){return ko.all(e.docs.map(or))}).then(function(){n(t,{method:"POST",url:ur(c,"_bulk_docs"),timeout:t.timeout,body:e},function(e,t){if(e)return r(e);t.forEach(function(e){e.ok=!0}),r(null,t)})}).catch(r)},s._put=function(e,t,r){i().then(function(){return or(e)}).then(function(){n(t,{method:"PUT",url:ur(c,rr(e._id)),body:e},function(t,n){if(t)return t.docId=e&&e._id,r(t);r(null,n)})}).catch(r)},s.allDocs=o("allDocs",function(e,t){"function"==typeof e&&(t=e,e={}),e=u(e);var n,o={},i="GET";e.conflicts&&(o.conflicts=!0),e.descending&&(o.descending=!0),e.include_docs&&(o.include_docs=!0),e.attachments&&(o.attachments=!0),e.key&&(o.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(o.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(o.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(o.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(o.limit=e.limit),void 0!==e.skip&&(o.skip=e.skip);var a=cr(o);void 0!==e.keys&&(i="POST",n={keys:e.keys}),r(e,{method:i,url:ur(c,"_all_docs"+a),body:n}).then(function(n){e.include_docs&&e.attachments&&e.binary&&n.rows.forEach(nr),t(null,n)}).catch(t)}),s._changes=function(e){var t="batch_size"in e?e.batch_size:Vi;e=u(e),!e.continuous||"heartbeat"in e||(e.heartbeat=$i);var r="timeout"in e?e.timeout:"timeout"in f?f.timeout:3e4;"timeout"in e&&e.timeout&&r-e.timeout<Xi&&(r=e.timeout+Xi),"heartbeat"in e&&e.heartbeat&&r-e.heartbeat<Xi&&(r=e.heartbeat+Xi);var o={};"timeout"in e&&e.timeout&&(o.timeout=e.timeout);var a,s=void 0!==e.limit&&e.limit;a="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var l=s;if(e.style&&(o.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(o.include_docs=!0),e.attachments&&(o.attachments=!0),e.continuous&&(o.feed="longpoll"),e.conflicts&&(o.conflicts=!0),e.descending&&(o.descending=!0),"heartbeat"in e&&e.heartbeat&&(o.heartbeat=e.heartbeat),e.filter&&"string"==typeof e.filter&&(o.filter=e.filter),e.view&&"string"==typeof e.view&&(o.filter="_view",o.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var d in e.query_params)e.query_params.hasOwnProperty(d)&&(o[d]=e.query_params[d]);var h,p="GET";e.doc_ids?(o.filter="_doc_ids",p="POST",h={doc_ids:e.doc_ids}):e.selector&&(o.filter="_selector",p="POST",h={selector:e.selector});var m,b,v=function(a,u){if(!e.aborted){o.since=a,"object"==typeof o.since&&(o.since=JSON.stringify(o.since)),e.descending?s&&(o.limit=l):o.limit=!s||l>t?t:l;var d={method:p,url:ur(c,"_changes"+cr(o)),timeout:r,body:h};b=a,e.aborted||i().then(function(){m=n(e,d,u)}).catch(u)}},y={results:[]},g=function(n,r){if(!e.aborted){var o=0;if(r&&r.results){o=r.results.length,y.last_seq=r.last_seq;({}).query=e.query_params,r.results=r.results.filter(function(t){l--;var n=D(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&nr(t),a&&y.results.push(t),e.onChange(t)),n})}else if(n)return e.aborted=!0,void e.complete(n);r&&r.last_seq&&(b=r.last_seq);var i=s&&l<=0||r&&o<t||e.descending;(!e.continuous||s&&l<=0)&&i?e.complete(null,y):mo()(function(){v(b,g)})}};return v(e.since||0,g),{cancel:function(){e.aborted=!0,m&&m.abort()}}},s.revsDiff=o("revsDiff",function(e,t,r){"function"==typeof t&&(r=t,t={}),n(t,{method:"POST",url:ur(c,"_revs_diff"),body:e},r)}),s._close=function(e){e()},s._destroy=function(e,t){n(e,{url:ur(c,""),method:"DELETE"},function(e,n){if(e&&e.status&&404!==e.status)return t(e);t(null,n)})}}function dr(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,dr)}catch(e){}}function fr(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,fr)}catch(e){}}function hr(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,hr)}catch(e){}}function pr(e,t){return t&&e.then(function(e){mo()(function(){t(null,e)})},function(e){mo()(function(){t(e)})}),e}function mr(e){return co()(function(t){var n=t.pop(),r=e.apply(this,t);return"function"==typeof n&&pr(r,n),r})}function br(e,t){return e.then(function(e){return t().then(function(){return e})},function(e){return t().then(function(){throw e})})}function vr(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}}function yr(e){var t=new xo(e),n=new Array(t.size),r=-1;return t.forEach(function(e){n[++r]=e}),n}function gr(e){var t=new Array(e.size),n=-1;return e.forEach(function(e,r){t[++n]=r}),t}function _r(e){return new hr("builtin "+e+" function requires map values to be numbers or number arrays")}function wr(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e[n];if("number"!=typeof o){if(!Array.isArray(o))throw _r("_sum");t="number"==typeof t?[t]:t;for(var i=0,a=o.length;i<a;i++){var u=o[i];if("number"!=typeof u)throw _r("_sum");void 0===t[i]?t.push(u):t[i]+=u}}else"number"==typeof t?t+=o:t[0]+=o}return t}function kr(e,t){return U("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:wr,log:Qi,isArray:Zi,toJSON:ea})}function Sr(){this.promise=new ko(function(e){e()})}function Er(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function xr(e,t){return Er(e)+Er(t)+"undefined"}function Ar(e,t,n,r,o,i){var a,u=xr(n,r);if(!o&&(a=e._cachedViews=e._cachedViews||{},a[u]))return a[u];var s=e.info().then(function(s){function c(e){e.views=e.views||{};var n=t;-1===n.indexOf("/")&&(n=t+"/"+t);var r=e.views[n]=e.views[n]||{};if(!r[l])return r[l]=!0,e}var l=s.db_name+"-mrview-"+(o?"temp":Ut(u));return B(e,"_local/"+i,c).then(function(){return e.registerDependentDatabase(l).then(function(t){var o=t.db;o.auto_compaction=!0;var i={name:l,db:o,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:r};return i.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return i.seq=e?e.seq:0,a&&i.db.once("destroyed",function(){delete a[u]}),i})})})});return a&&(a[u]=s),s}function Cr(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function Or(e){return 1===e.length&&/^1-/.test(e[0].rev)}function Tr(e,t){try{e.emit("error",t)}catch(e){E("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),E("error",t)}}function Pr(e){if(/^_sum/.test(e))return oa._sum;if(/^_count/.test(e))return oa._count;if(/^_stats/.test(e))return oa._stats;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}function jr(e,t){if("function"==typeof e&&2===e.length){var n=e;return function(e){return n(e,t)}}return kr(e.toString(),t)}function Dr(e){var t=e.toString(),n=Pr(t);return n||kr(t)}function Rr(e,t){var n=e.views&&e.views[t];if("string"!=typeof n.map)throw new fr("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof n.map)}function Mr(e,t,n){return ia.query.call(this,e,t,n)}function Ir(e){return ia.viewCleanup.call(this,e)}function Lr(e){return/^1-/.test(e)}function zr(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}function Nr(e,t){var n=Object.keys(t._attachments);return ko.all(n.map(function(n){return e.getAttachment(t._id,n,{rev:t._rev})}))}function qr(e,t,n){var r=L(t)&&!L(e),o=Object.keys(n._attachments);return r?e.get(n._id).then(function(r){return ko.all(o.map(function(o){return zr(r,n,o)?t.getAttachment(n._id,o):e.getAttachment(r._id,o)}))}).catch(function(e){if(404!==e.status)throw e;return Nr(t,n)}):Nr(t,n)}function Fr(e){var t=[];return Object.keys(e).forEach(function(n){e[n].missing.forEach(function(e){t.push({id:n,rev:e})})}),{docs:t,revs:!0,latest:!0}}function Ur(e,t,n,r){function o(){var o=Fr(n);if(o.docs.length)return e.bulkGet(o).then(function(n){if(r.cancelled)throw new Error("cancelled");return ko.all(n.results.map(function(n){return ko.all(n.docs.map(function(n){var r=n.ok;return n.error&&(f=!1),r&&r._attachments?qr(t,e,r).then(function(e){var t=Object.keys(r._attachments);return e.forEach(function(e,n){var o=r._attachments[t[n]];delete o.stub,delete o.length,o.data=e}),r}):r}))})).then(function(e){d=d.concat(R(e).filter(Boolean))})})}function i(e){return e._attachments&&Object.keys(e._attachments).length>0}function a(e){return e._conflicts&&e._conflicts.length>0}function s(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then(function(e){if(r.cancelled)throw new Error("cancelled");e.rows.forEach(function(e){e.deleted||!e.doc||!Lr(e.value.rev)||i(e.doc)||a(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,d.push(e.doc),delete n[e.id])})})}function c(){var e=Object.keys(n).filter(function(e){var t=n[e].missing;return 1===t.length&&Lr(t[0])});if(e.length>0)return s(e)}function l(){return{ok:f,docs:d}}n=u(n);var d=[],f=!0;return ko.resolve().then(c).then(o).then(l)}function Br(e,t,n,r,o){return e.get(t).catch(function(n){if(404===n.status)return"http"!==e.adapter&&"https"!==e.adapter||C(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:t,history:[],replicator:sa,version:ua};throw n}).then(function(i){if(!o.cancelled&&i.last_seq!==n)return i.history=(i.history||[]).filter(function(e){return e.session_id!==r}),i.history.unshift({last_seq:n,session_id:r}),i.history=i.history.slice(0,ca),i.version=ua,i.replicator=sa,i.session_id=r,i.last_seq=n,e.put(i).catch(function(i){if(409===i.status)return Br(e,t,n,r,o);throw i})})}function Yr(e,t,n,r,o){this.src=e,this.target=t,this.id=n,this.returnValue=r,this.opts=o}function Hr(e,t){return e.session_id===t.session_id?{last_seq:e.last_seq,history:e.history}:Wr(e.history,t.history)}function Wr(e,t){var n=e[0],r=e.slice(1),o=t[0],i=t.slice(1);return n&&0!==t.length?Vr(n.session_id,t)?{last_seq:n.last_seq,history:e}:Vr(o.session_id,r)?{last_seq:o.last_seq,history:i}:Wr(r,i):{last_seq:la,history:[]}}function Vr(e,t){var n=t[0],r=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||Vr(e,r))}function Gr(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}function Xr(e,t,n,r){if(!1===e.retry)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=A),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var o=function(){e.current_back_off=fa},i=function(){t.removeListener("active",o)};t.once("paused",i),t.once("active",o)}e.current_back_off=e.current_back_off||fa,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(r,e.current_back_off)}function $r(e){return Object.keys(e).sort(Ye).reduce(function(t,n){return t[n]=e[n],t},{})}function Kr(e,t,n){var r=n.doc_ids?n.doc_ids.sort(Ye):"",o=n.filter?n.filter.toString():"",i="",a="",u="";return n.selector&&(u=JSON.stringify(n.selector)),n.filter&&n.query_params&&(i=JSON.stringify($r(n.query_params))),n.filter&&"_view"===n.filter&&(a=n.view.toString()),ko.all([e.id(),t.id()]).then(function(e){var t=e[0]+e[1]+o+a+i+r+u;return new ko(function(e){Ft(t,e)})}).then(function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))})}function Jr(e,t,n,r,o){function i(){return S?ko.resolve():Kr(e,t,n).then(function(o){k=o;var i={};i=!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},S=new Yr(e,t,k,r,i)})}function a(){if(N=[],0!==w.docs.length){var e=w.docs,i={timeout:n.timeout};return t.bulkDocs({docs:e,new_edits:!1},i).then(function(t){if(r.cancelled)throw p(),new Error("cancelled");var n=Object.create(null);t.forEach(function(e){e.error&&(n[e.id]=e)});var i=Object.keys(n).length;o.doc_write_failures+=i,o.docs_written+=e.length-i,e.forEach(function(e){var t=n[e._id];if(t){if(o.errors.push(t),"unauthorized"!==t.name&&"forbidden"!==t.name)throw t;r.emit("denied",u(t))}else N.push(e)})},function(t){throw o.doc_write_failures+=e.length,t})}}function s(){if(w.error)throw new Error("There was a problem getting docs.");o.last_seq=P=w.seq;var e=u(o);return N.length&&(e.docs=N,r.emit("change",e)),A=!0,S.writeCheckpoint(w.seq,q).then(function(){if(A=!1,r.cancelled)throw p(),new Error("cancelled");w=void 0,y()}).catch(function(e){throw _(e),e})}function c(){var e={};return w.changes.forEach(function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map(function(e){return e.rev}))}),t.revsDiff(e).then(function(e){if(r.cancelled)throw p(),new Error("cancelled");w.diffs=e})}function l(){return Ur(e,t,w.diffs,r).then(function(e){w.error=!e.ok,e.docs.forEach(function(e){delete w.diffs[e._id],o.docs_read++,w.docs.push(e)})})}function d(){if(!r.cancelled&&!w){if(0===E.length)return void f(!0);w=E.shift(),c().then(l).then(a).then(s).then(d).catch(function(e){h("batch processing terminated with error",e)})}}function f(e){if(0===x.changes.length)return void(0!==E.length||w||((j&&F.live||C)&&(r.state="pending",r.emit("paused")),C&&p()));(e||C||x.changes.length>=R)&&(E.push(x),x={seq:0,changes:[],docs:[]},"pending"!==r.state&&"stopped"!==r.state||(r.state="active",r.emit("active")),d())}function h(e,t){O||(t.message||(t.message=e),o.ok=!1,o.status="aborting",E=[],x={seq:0,changes:[],docs:[]},p(t))}function p(i){O||r.cancelled&&(o.status="cancelled",A)||(o.status=o.status||"complete",o.end_time=new Date,o.last_seq=P,O=!0,i?(i=T(i),i.result=o,"unauthorized"===i.name||"forbidden"===i.name?(r.emit("error",i),r.removeAllListeners()):Xr(n,r,i,function(){Jr(e,t,n,r)})):(r.emit("complete",o),r.removeAllListeners()))}function m(e){if(r.cancelled)return p();D(n)(e)&&(x.seq=e.seq,x.changes.push(e),f(0===E.length&&F.live))}function b(e){if(I=!1,r.cancelled)return p();if(e.results.length>0)F.since=e.last_seq,y(),f(!0);else{var t=function(){j?(F.live=!0,y()):C=!0,f(!0)};w||0!==e.results.length?t():(A=!0,S.writeCheckpoint(e.last_seq,q).then(function(){A=!1,o.last_seq=P=e.last_seq,t()}).catch(_))}}function v(e){if(I=!1,r.cancelled)return p();h("changes rejected",e)}function y(){function t(){i.cancel()}function o(){r.removeListener("cancel",t)}if(!I&&!C&&E.length<M){I=!0,r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",t);var i=e.changes(F).on("change",m);i.then(o,o),i.then(b).catch(v),n.retry&&(r._changes=i,r._abortChanges=t)}}function g(){i().then(function(){return r.cancelled?void p():S.getCheckpoint().then(function(e){P=e,F={since:P,limit:R,batch_size:R,style:"all_docs",doc_ids:L,selector:z,return_docs:!0},n.filter&&("string"!=typeof n.filter?F.include_docs=!0:F.filter=n.filter),"heartbeat"in n&&(F.heartbeat=n.heartbeat),"timeout"in n&&(F.timeout=n.timeout),n.query_params&&(F.query_params=n.query_params),n.view&&(F.view=n.view),y()})}).catch(function(e){h("getCheckpoint rejected with ",e)})}function _(e){A=!1,h("writeCheckpoint completed with error",e)}var w,k,S,E=[],x={seq:0,changes:[],docs:[]},A=!1,C=!1,O=!1,P=0,j=n.continuous||n.live||!1,R=n.batch_size||100,M=n.batches_limit||10,I=!1,L=n.doc_ids,z=n.selector,N=[],q=Qo();o=o||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var F={};if(r.ready(e,t),r.cancelled)return void p();r._addedListeners||(r.once("cancel",p),"function"==typeof n.complete&&(r.once("error",n.complete),r.once("complete",function(e){n.complete(null,e)})),r._addedListeners=!0),void 0===n.since?g():i().then(function(){return A=!0,S.writeCheckpoint(n.since,q)}).then(function(){if(A=!1,r.cancelled)return void p();P=n.since,g()}).catch(_)}function Qr(){lo.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new ko(function(t,n){e.once("complete",t),e.once("error",n)});e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch(function(){})}function Zr(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function eo(e,t,n,r){if("function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw T(Uo,"`doc_ids` filter parameter is not a list.");n.complete=r,n=u(n),n.continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var o=new Qr(n);return Jr(Zr(e,n),Zr(t,n),n,o),o}function to(e,t,n,r){return"function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n=u(n),n.PouchConstructor=n.PouchConstructor||this,e=Zr(e,n),t=Zr(t,n),new no(e,t,n,r)}function no(e,t,n,r){function o(e){p.emit("change",{direction:"pull",change:e})}function i(e){p.emit("change",{direction:"push",change:e})}function a(e){p.emit("denied",{direction:"push",doc:e})}function u(e){p.emit("denied",{direction:"pull",doc:e})}function s(){p.pushPaused=!0,p.pullPaused&&p.emit("paused")}function c(){p.pullPaused=!0,p.pushPaused&&p.emit("paused")}function l(){p.pushPaused=!1,p.pullPaused&&p.emit("active",{direction:"push"})}function d(){p.pullPaused=!1,p.pushPaused&&p.emit("active",{direction:"pull"})}function f(e){return function(t,n){var r="change"===t&&(n===o||n===i),f="denied"===t&&(n===u||n===a),h="paused"===t&&(n===c||n===s),m="active"===t&&(n===d||n===l);(r||f||h||m)&&(t in v||(v[t]={}),v[t][e]=!0,2===Object.keys(v[t]).length&&p.removeAllListeners(t))}}function h(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}var p=this;this.canceled=!1;var m=n.push?Po({},n,n.push):n,b=n.pull?Po({},n,n.pull):n;this.push=eo(e,t,m),this.pull=eo(t,e,b),this.pushPaused=!0,this.pullPaused=!0;var v={};n.live&&(this.push.on("complete",p.pull.cancel.bind(p.pull)),this.pull.on("complete",p.push.cancel.bind(p.push))),this.on("newListener",function(e){"change"===e?(h(p.pull,"change",o),h(p.push,"change",i)):"denied"===e?(h(p.pull,"denied",u),h(p.push,"denied",a)):"active"===e?(h(p.pull,"active",d),h(p.push,"active",l)):"paused"===e&&(h(p.pull,"paused",c),h(p.push,"paused",s))}),this.on("removeListener",function(e){"change"===e?(p.pull.removeListener("change",o),p.push.removeListener("change",i)):"denied"===e?(p.pull.removeListener("denied",u),p.push.removeListener("denied",a)):"active"===e?(p.pull.removeListener("active",d),p.push.removeListener("active",l)):"paused"===e&&(p.pull.removeListener("paused",c),p.push.removeListener("paused",s))}),this.pull.on("removeListener",f("pull")),this.push.on("removeListener",f("push"));var y=ko.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return p.emit("complete",t),r&&r(null,t),p.removeAllListeners(),t},function(e){if(p.cancel(),r?r(e):p.emit("error",e),p.removeAllListeners(),r)throw e});this.then=function(e,t){return y.then(e,t)},this.catch=function(e){return y.catch(e)}}function ro(e){e.replicate=eo,e.sync=to,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return{from:function(t,n,r){return e.constructor.replicate(t,e,n,r)},to:function(t,n,r){return e.constructor.replicate(e,t,n,r)}}}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}}var oo=n(474),io=n.n(oo),ao=n(477),uo=n.n(ao),so=n(174),co=n.n(so),lo=n(478),fo=(n.n(lo),n(116)),ho=n.n(fo),po=n(115),mo=n.n(po),bo=n(479),vo=n.n(bo),yo=n(482),go=n.n(yo),_o=n(483),wo=n.n(_o),ko="function"==typeof Promise?Promise:uo.a,So=Function.prototype.toString,Eo=So.call(Object);p.prototype.get=function(e){var t=f(e);return this._store[t]},p.prototype.set=function(e,t){var n=f(e);return this._store[n]=t,!0},p.prototype.has=function(e){return f(e)in this._store},p.prototype.delete=function(e){var t=f(e),n=t in this._store;return delete this._store[t],n},p.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var o=t[n],i=this._store[o];o=h(o),e(i,o)}},Object.defineProperty(p.prototype,"size",{get:function(){return Object.keys(this._store).length}}),m.prototype.add=function(e){return this._store.set(e,!0)},m.prototype.has=function(e){return this._store.has(e)},m.prototype.forEach=function(e){this._store.forEach(function(t,n){e(n)})},Object.defineProperty(m.prototype,"size",{get:function(){return this._store.size}});var xo,Ao;!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(xo=m,Ao=p):(xo=Set,Ao=Map);var Co,Oo=6;if(_())Co=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),Co=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){Co=!1}ho()(S,lo.EventEmitter),S.prototype.addListener=function(e,t,n,r){function o(){function e(){a=!1}if(i._listeners[t]){if(a)return void(a="waiting");a=!0;var u=b(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);n.changes(u).on("change",function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))}).on("complete",function(){"waiting"===a&&mo()(o),a=!1}).on("error",e)}}if(!this._listeners[t]){var i=this,a=!1;this._listeners[t]=o,this.on(e,o)}},S.prototype.removeListener=function(e,t){t in this._listeners&&(lo.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},S.prototype.notifyLocalWindows=function(e){_()?chrome.storage.local.set({dbName:e}):w()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},S.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var To;To="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t};var Po=To;ho()(O,Error),O.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var jo=(new O(401,"unauthorized","Name or password is incorrect."),new O(400,"bad_request","Missing JSON list of 'docs'")),Do=new O(404,"not_found","missing"),Ro=new O(409,"conflict","Document update conflict"),Mo=new O(400,"bad_request","_id field must contain a string"),Io=new O(412,"missing_id","_id is required for puts"),Lo=new O(400,"bad_request","Only reserved document ids may start with underscore."),zo=(new O(412,"precondition_failed","Database not open"),new O(500,"unknown_error","Database encountered an unknown error")),No=new O(500,"badarg","Some query argument is invalid"),qo=(new O(400,"invalid_request","Request was invalid"),new O(400,"query_parse_error","Some query parameter is invalid")),Fo=new O(500,"doc_validation","Bad special document member"),Uo=new O(400,"bad_request","Something wrong with the request"),Bo=new O(400,"bad_request","Document must be a JSON object"),Yo=(new O(404,"not_found","Database not found"),new O(500,"indexed_db_went_bad","unknown")),Ho=new O(500,"web_sql_went_bad","unknown"),Wo=(new O(500,"levelDB_went_went_bad","unknown"),new O(403,"forbidden","Forbidden by design doc validate_doc_update function"),new O(400,"bad_request","Invalid rev format")),Vo=(new O(412,"file_exists","The database could not be created, the file already exists."),new O(412,"missing_stub","A pre-existing attachment stub wasn't found")),Go=(new O(413,"invalid_url","Provided URL is invalid"),M.name);var Xo=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],$o="queryKey",Ko=/(?:^|&)([^&=]*)=?([^&]*)/g,Jo=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Qo=io.a.v4;ho()(he,lo.EventEmitter),he.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},he.prototype.validateChanges=function(e){var t=e.complete,n=this;Ce._changesFilterPlugin?Ce._changesFilterPlugin.validate(e,function(r){if(r)return t(r);n.doChanges(e)}):n.doChanges(e)},he.prototype.doChanges=function(e){var t=this,n=e.complete;if(e=u(e),"live"in e&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=pe,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"===e.since)return void this.db.info().then(function(r){if(t.isCancelled)return void n(null,{status:"cancelled"});e.since=r.update_seq,t.doChanges(e)},n);if(Ce._changesFilterPlugin){if(Ce._changesFilterPlugin.normalize(e),Ce._changesFilterPlugin.shouldFilter(this,e))return Ce._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach(function(t){t in e&&E("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var r=this.db._changes(e);if(r&&"function"==typeof r.cancel){var o=t.cancel;t.cancel=co()(function(e){r.cancel(),o.apply(this,e)})}},ho()(Se,lo.EventEmitter),Se.prototype.post=d("post",function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(T(Bo));this.bulkDocs({docs:[e]},t,be(n,e._id))}),Se.prototype.put=d("put",function(e,t,n){function r(n){"function"==typeof o._put&&!1!==t.new_edits?o._put(e,t,n):o.bulkDocs({docs:[e]},t,be(n,e._id))}if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(T(Bo));if(I(e._id),le(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,n):this._putLocal(e,n);var o=this;t.force&&e._rev?(!function(){var n=e._rev.split("-"),r=n[1],o=parseInt(n[0],10),i=o+1,a=H();e._revisions={start:i,ids:[a,r]},e._rev=i+"-"+a,t.new_edits=!1}(),r(function(t){var r=t?null:{ok:!0,id:e._id,rev:e._rev};n(t,r)})):r(n)}),Se.prototype.putAttachment=d("putAttachment",function(e,t,n,r,o){function i(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:o,data:r,revpos:++n},a.put(e)}var a=this;return"function"==typeof o&&(o=r,r=n,n=null),void 0===o&&(o=r,r=n,n=null),o||E("warn","Attachment",t,"on document",e,"is missing content_type"),a.get(e).then(function(e){if(e._rev!==n)throw T(Ro);return i(e)},function(t){if(t.reason===Do.message)return i({_id:e});throw t})}),Se.prototype.removeAttachment=d("removeAttachment",function(e,t,n,r){var o=this;o.get(e,function(e,i){return e?void r(e):i._rev!==n?void r(T(Ro)):i._attachments?(delete i._attachments[t],0===Object.keys(i._attachments).length&&delete i._attachments,void o.put(i,r)):r()})}),Se.prototype.remove=d("remove",function(e,t,n,r){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof n&&(r=n,n={})):(o=e,"function"==typeof t?(r=t,n={}):(r=n,n=t)),n=n||{},n.was_delete=!0;var i={_id:o._id,_rev:o._rev||n.rev};if(i._deleted=!0,le(i._id)&&"function"==typeof this._removeLocal)return this._removeLocal(o,r);this.bulkDocs({docs:[i]},n,be(r,i._id))}),Se.prototype.revsDiff=d("revsDiff",function(e,t,n){function r(e,t){u.has(e)||u.set(e,{missing:[]}),u.get(e).missing.push(t)}function o(t,n){var o=e[t].slice(0);V(n,function(e,n,i,a,u){var s=n+"-"+i,c=o.indexOf(s);-1!==c&&(o.splice(c,1),"available"!==u.status&&r(t,s))}),o.forEach(function(e){r(t,e)})}"function"==typeof t&&(n=t,t={});var i=Object.keys(e);if(!i.length)return n(null,{});var a=0,u=new Ao;i.map(function(t){this._getRevisionTree(t,function(r,s){if(r&&404===r.status&&"missing"===r.message)u.set(t,{missing:e[t]});else{if(r)return n(r);o(t,s)}if(++a===i.length){var c={};return u.forEach(function(e,t){c[t]=e}),n(null,c)}})},this)}),Se.prototype.bulkGet=d("bulkGet",function(e,t){g(this,e,t)}),Se.prototype.compactDocument=d("compactDocument",function(e,t,n){var r=this;this._getRevisionTree(e,function(o,i){if(o)return n(o);var a=ge(i),u=[],s=[];Object.keys(a).forEach(function(e){a[e]>t&&u.push(e)}),V(i,function(e,t,n,r,o){var i=t+"-"+n;"available"===o.status&&-1!==u.indexOf(i)&&s.push(i)}),r._doCompaction(e,s,n)})}),Se.prototype.compact=d("compact",function(e,t){"function"==typeof e&&(t=e,e={});var n=this;e=e||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:e,callback:t}),1===n._compactionQueue.length&&we(n)}),Se.prototype._compact=function(e,t){function n(e){a.push(o.compactDocument(e.id,0))}function r(e){var n=e.last_seq;ko.all(a).then(function(){return B(o,"_local/compaction",function(e){return(!e.last_seq||e.last_seq<n)&&(e.last_seq=n,e)})}).then(function(){t(null,{ok:!0})}).catch(t)}var o=this,i={return_docs:!1,last_seq:e.last_seq||0},a=[];o.changes(i).on("change",n).on("complete",r).on("error",t)},Se.prototype.get=d("get",function(e,t,n){function r(){var r=[],a=o.length;if(!a)return n(null,r);o.forEach(function(o){i.get(e,{rev:o,revs:t.revs,latest:t.latest,attachments:t.attachments},function(e,t){if(e)r.push({missing:o});else{for(var i,u=0,s=r.length;u<s;u++)if(r[u].ok&&r[u].ok._rev===t._rev){i=!0;break}i||r.push({ok:t})}--a||n(null,r)})})}if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(T(Mo));if(le(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var o=[],i=this;if(!t.open_revs)return this._get(e,t,function(r,o){if(r)return r.docId=e,n(r);var a=o.doc,u=o.metadata,s=o.ctx;if(t.conflicts){var c=$(u);c.length&&(a._conflicts=c)}if(ce(u,a._rev)&&(a._deleted=!0),t.revs||t.revs_info){for(var l=a._rev.split("-"),d=parseInt(l[0],10),f=l[1],h=J(u.rev_tree),p=null,m=0;m<h.length;m++){var b=h[m],v=b.ids.map(function(e){return e.id}).indexOf(f);(v===d-1||!p&&-1!==v)&&(p=b)}var y=p.ids.map(function(e){return e.id}).indexOf(a._rev.split("-")[1])+1,g=p.ids.length-y;if(p.ids.splice(y,g),p.ids.reverse(),t.revs&&(a._revisions={start:p.pos+p.ids.length-1,ids:p.ids.map(function(e){return e.id})}),t.revs_info){var _=p.pos+p.ids.length;a._revs_info=p.ids.map(function(e){return _--,{rev:_+"-"+e.id,status:e.opts.status}})}}if(t.attachments&&a._attachments){var w=a._attachments,k=Object.keys(w).length;if(0===k)return n(null,a);Object.keys(w).forEach(function(e){this._getAttachment(a._id,e,w[e],{rev:a._rev,binary:t.binary,ctx:s},function(t,r){var o=a._attachments[e];o.data=r,delete o.stub,delete o.length,--k||n(null,a)})},i)}else{if(a._attachments)for(var S in a._attachments)a._attachments.hasOwnProperty(S)&&(a._attachments[S].stub=!0);n(null,a)}});if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){if(e)return n(e);o=X(t).map(function(e){return e.rev}),r()});else{if(!Array.isArray(t.open_revs))return n(T(zo,"function_clause"));o=t.open_revs;for(var a=0;a<o.length;a++){var u=o[a];if("string"!=typeof u||!/^\d+-/.test(u))return n(T(Wo))}r()}}),Se.prototype.getAttachment=d("getAttachment",function(e,t,n,r){var o=this;n instanceof Function&&(r=n,n={}),this._get(e,n,function(i,a){return i?r(i):a.doc._attachments&&a.doc._attachments[t]?(n.ctx=a.ctx,n.binary=!0,o._getAttachment(e,t,a.doc._attachments[t],n,r),void 0):r(T(Do))})}),Se.prototype.allDocs=d("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(n)return void t(T(qo,"Query parameter `"+n+"` is not compatible with multi-get"));if(!L(this))return _e(this,e,t)}return this._allDocs(e,t)}),Se.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),new he(this,e,t)},Se.prototype.close=d("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),Se.prototype.info=d("info",function(e){var t=this;this._info(function(n,r){if(n)return e(n);r.db_name=r.db_name||t.name,r.auto_compaction=!(!t.auto_compaction||L(t)),r.adapter=t.adapter,e(null,r)})}),Se.prototype.id=d("id",function(e){return this._id(e)}),Se.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Se.prototype.bulkDocs=d("bulkDocs",function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(T(jo));for(var r=0;r<e.docs.length;++r)if("object"!=typeof e.docs[r]||Array.isArray(e.docs[r]))return n(T(Bo));var o;if(e.docs.forEach(function(e){e._attachments&&Object.keys(e._attachments).forEach(function(t){o=o||ke(t),e._attachments[t].content_type||E("warn","Attachment",t,"on document",e._id,"is missing content_type")})}),o)return n(T(Uo,o));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var i=this;t.new_edits||L(i)||e.docs.sort(ye),ve(e.docs);var a=e.docs.map(function(e){return e._id});return this._bulkDocs(e,t,function(e,r){if(e)return n(e);if(t.new_edits||(r=r.filter(function(e){return e.error})),!L(i))for(var o=0,u=r.length;o<u;o++)r[o].id=r[o].id||a[o];n(null,r)})}),Se.prototype.registerDependentDatabase=d("registerDependentDatabase",function(e,t){function n(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)}var r=new this.constructor(e,this.__opts);B(this,"_local/_pouch_dependentDbs",n).then(function(){t(null,{db:r})}).catch(t)}),Se.prototype.destroy=d("destroy",function(e,t){function n(){r._destroy(e,function(e,n){if(e)return t(e);r._destroyed=!0,r.emit("destroyed"),t(null,n||{ok:!0})})}"function"==typeof e&&(t=e,e={});var r=this,o=!("use_prefix"in r)||r.use_prefix;if(L(r))return n();r.get("_local/_pouch_dependentDbs",function(e,i){if(e)return 404!==e.status?t(e):n();var a=i.dependentDbs,u=r.constructor,s=Object.keys(a).map(function(e){var t=o?e.replace(new RegExp("^"+u.prefix),""):e;return new u(t,r.__opts).destroy()});ko.all(s).then(n,t)})}),Ee.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},Ee.prototype.fail=function(e){this.failed=e,this.execute()},Ee.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},Ee.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},ho()(Ce,Se),Ce.adapters={},Ce.preferredAdapters=[],Ce.prefix="_pouch_";var Zo=new lo.EventEmitter;!function(e){Object.keys(lo.EventEmitter.prototype).forEach(function(t){"function"==typeof lo.EventEmitter.prototype[t]&&(e[t]=Zo[t].bind(Zo))});var t=e._destructionListeners=new Ao;e.on("ref",function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)}),e.on("unref",function(e){if(t.has(e.name)){var n=t.get(e.name),r=n.indexOf(e);r<0||(n.splice(r,1),n.length>1?t.set(e.name,n):t.delete(e.name))}}),e.on("destroyed",function(e){if(t.has(e)){var n=t.get(e);t.delete(e),n.forEach(function(e){e.emit("destroyed",!0)})}})}(Ce),Ce.adapter=function(e,t,n){t.valid()&&(Ce.adapters[e]=t,n&&Ce.preferredAdapters.push(e))},Ce.plugin=function(e){if("function"==typeof e)e(Ce);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){Ce.prototype[t]=e[t]})}return this.__defaults&&(Ce.__defaults=Po({},this.__defaults)),Ce},Ce.defaults=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);n=n||{},e&&"object"==typeof e&&(n=e,e=n.name,delete n.name),n=Po({},t.__defaults,n),Ce.call(this,e,n)}return ho()(t,Ce),t.preferredAdapters=Ce.preferredAdapters.slice(),Object.keys(Ce).forEach(function(e){e in t||(t[e]=Ce[e])}),t.__defaults=Po({},this.__defaults,e),t};var ei=["$or","$nor","$not"],ti=-324,ni=3,ri="",oi={$elemMatch:function(e,t,n,r){return!!Array.isArray(r)&&(0!==r.length&&("object"==typeof r[0]?r.some(function(e){return rt(e,t,Object.keys(t))}):r.some(function(r){return ot(t,e,n,r)})))},$allMatch:function(e,t,n,r){return!!Array.isArray(r)&&(0!==r.length&&("object"==typeof r[0]?r.every(function(e){return rt(e,t,Object.keys(t))}):r.every(function(r){return ot(t,e,n,r)})))},$eq:function(e,t,n,r){return st(r)&&0===Ye(r,t)},$gte:function(e,t,n,r){return st(r)&&Ye(r,t)>=0},$gt:function(e,t,n,r){return st(r)&&Ye(r,t)>0},$lte:function(e,t,n,r){return st(r)&&Ye(r,t)<=0},$lt:function(e,t,n,r){return st(r)&&Ye(r,t)<0},$exists:function(e,t,n,r){return t?st(r):!st(r)},$mod:function(e,t,n,r){return ut(r)&&ct(r,t)},$ne:function(e,t,n,r){return t.every(function(e){return 0!==Ye(r,e)})},$in:function(e,t,n,r){return ut(r)&&lt(r,t)},$nin:function(e,t,n,r){return ut(r)&&!lt(r,t)},$size:function(e,t,n,r){return ut(r)&&ft(r,t)},$all:function(e,t,n,r){return Array.isArray(r)&&dt(r,t)},$regex:function(e,t,n,r){return ut(r)&&ht(r,t)},$type:function(e,t,n,r){return pt(r,t)}};Ce.plugin(Oe),Ce.plugin(kt),Ce.version="6.3.4";var ii,ai=St(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),ui=St(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]),si=function(e){return atob(e)},ci=function(e){return btoa(e)},li=e.setImmediate||e.setTimeout,di=32768,fi=5,hi="document-store",pi="by-sequence",mi="attach-store",bi="attach-seq-store",vi="meta-store",yi="local-store",gi="detect-blob-support",_i=new S,wi=!1,ki=[],Si=new Ao,Ei=new Ao;gn.valid=function(){return!("undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform))&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange};var xi=function(e){e.adapter("idb",gn,!0)},Ai=7,Ci=Cn("document-store"),Oi=Cn("by-sequence"),Ti=Cn("attach-store"),Pi=Cn("local-store"),ji=Cn("metadata-store"),Di=Cn("attach-seq-store"),Ri=new Ao,Mi=new S,Ii=1,Li="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+Oi+" (seq, deleted)",zi="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+Oi+" (doc_id, rev)",Ni="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+Ci+" (winningseq)",qi="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+Di+" (seq)",Fi="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+Di+" (digest, seq)",Ui=Oi+".seq = "+Ci+".winningseq",Bi=Oi+".seq AS seq, "+Oi+".deleted AS deleted, "+Oi+".json AS data, "+Oi+".rev AS rev, "+Ci+".json AS metadata";Gn.valid=Wn,Gn.use_prefix=!0;var Yi=function(e){e.adapter("websql",Gn,!0)},Hi=function(){try{return new XMLHttpRequest,!0}catch(e){return!1}}(),Wi=function(){},Vi=25,Gi=50,Xi=5e3,$i=1e4,Ki={};lr.valid=function(){return!0};var Ji=function(e){e.adapter("http",lr,!1),e.adapter("https",lr,!1)};ho()(dr,Error),ho()(fr,Error),ho()(hr,Error);var Qi=E.bind(null,"log"),Zi=Array.isArray,ea=JSON.parse;Sr.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},Sr.prototype.finish=function(){return this.promise};var ta={},na=new Sr,ra=50,oa={_sum:function(e,t){return wr(t)},_count:function(e,t){return t.length},_stats:function(e,t){return{sum:wr(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e[n];t+=o*o}return t}(t)}}},ia=function(e,t,n,r){function o(e,t,n){try{t(n)}catch(t){Tr(e,t)}}function i(e,t,n,r,o){try{return{output:t(n,r,o)}}catch(t){return Tr(e,t),{error:t}}}function a(e,t){var n=Ye(e.key,t.key);return 0!==n?n:Ye(e.value,t.value)}function u(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function s(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function c(e){e.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];t[e].data=Pt(n.data,n.content_type)})})}function l(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&c(t),t}}function d(e,t,n,r){var o=t[e];void 0!==o&&(r&&(o=encodeURIComponent(JSON.stringify(o))),n.push(e+"="+o))}function f(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function h(e){return e.group_level=f(e.group_level),e.limit=f(e.limit),e.skip=f(e.skip),e}function p(e){if(e){if("number"!=typeof e)return new dr('Invalid value for integer: "'+e+'"');if(e<0)return new dr('Invalid value for positive integer: "'+e+'"')}}function m(e,t){var n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[r]&&Ye(e[n],e[r])>0)throw new dr("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new dr("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new dr("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var n=p(e[t]);if(n)throw n})}function b(e,t,n){var r,o=[],i="GET";if(d("reduce",n,o),d("include_docs",n,o),d("attachments",n,o),d("limit",n,o),d("descending",n,o),d("group",n,o),d("group_level",n,o),d("skip",n,o),d("stale",n,o),d("conflicts",n,o),d("startkey",n,o,!0),d("start_key",n,o,!0),d("endkey",n,o,!0),d("end_key",n,o,!0),d("inclusive_end",n,o),d("key",n,o,!0),o=o.join("&"),o=""===o?"":"?"+o,void 0!==n.keys){var a="keys="+encodeURIComponent(JSON.stringify(n.keys));a.length+o.length+1<=2e3?o+=("?"===o[0]?"&":"?")+a:(i="POST","string"==typeof t?r={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var u=Cr(t);return e.request({method:i,url:"_design/"+u[0]+"/_view/"+u[1]+o,body:r}).then(function(e){return e.rows.forEach(function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)}),e}).then(l(n))}return r=r||{},Object.keys(t).forEach(function(e){Array.isArray(t[e])?r[e]=t[e]:r[e]=t[e].toString()}),e.request({method:"POST",url:"_temp_view"+o,body:r}).then(l(n))}function v(e,t,n){return new ko(function(r,o){e._query(t,n,function(e,t){if(e)return o(e);r(t)})})}function y(e){return new ko(function(t,n){e._viewCleanup(function(e,r){if(e)return n(e);t(r)})})}function g(e){return function(t){if(404===t.status)return e;throw t}}function _(e,t,n){function r(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):ko.resolve({rows:[]})}function o(e,t){for(var n=[],r=new xo,o=0,i=t.rows.length;o<i;o++){var a=t.rows[o],u=a.doc;if(u&&(n.push(u),r.add(u._id),u._deleted=!s.has(u._id),!u._deleted)){var c=s.get(u._id);"value"in c&&(u.value=c.value)}}var l=gr(s);return l.forEach(function(e){if(!r.has(e)){var t={_id:e},o=s.get(e);"value"in o&&(t.value=o.value),n.push(t)}}),e.keys=yr(l.concat(e.keys)),n.push(e),n}var i="_local/doc_"+e,a={_id:i,keys:[]},u=n.get(e),s=u[0],c=u[1];return function(){return Or(c)?ko.resolve(a):t.db.get(i).catch(g(a))}().then(function(e){return r(e).then(function(t){return o(e,t)})})}function w(e,t,n){return e.db.get("_local/lastSeq").catch(g({_id:"_local/lastSeq",seq:0})).then(function(r){var o=gr(t);return ko.all(o.map(function(n){return _(n,e,t)})).then(function(t){var o=R(t);return r.seq=n,o.push(r),e.db.bulkDocs({docs:o})})})}function k(e){var t="string"==typeof e?e:e.name,n=ta[t];return n||(n=ta[t]=new Sr),n}function S(e){return vr(k(e),function(){return E(e)})()}function E(e){function n(e,t){var n={id:d._id,key:He(e)};void 0!==t&&null!==t&&(n.value=He(t)),l.push(n)}function r(t,n){return function(){return w(e,t,n)}}function i(){return e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:h,limit:ra}).then(u)}function u(e){var t=e.results;if(t.length){var n=s(t);if(p.add(r(n,h)),!(t.length<ra))return i()}}function s(t){for(var n=new Ao,r=0,i=t.length;r<i;r++){var u=t[r];if("_"!==u.doc._id[0]){l=[],d=u.doc,d._deleted||o(e.sourceDB,f,d),l.sort(a);var s=c(l);n.set(u.doc._id,[s,u.changes])}h=u.seq}return n}function c(e){for(var t,n=new Ao,r=0,o=e.length;r<o;r++){var i=e[r],a=[i.key,i.id];r>0&&0===Ye(i.key,t)&&a.push(r),n.set(Ve(a),i),t=i.key}return n}var l,d,f=t(e.mapFun,n),h=e.seq||0,p=new Sr;return i().then(function(){return p.finish()}).then(function(){e.seq=h})}function x(e,t,r){0===r.group_level&&delete r.group_level;var o=r.group||r.group_level,a=n(e.reduceFun),s=[],c=isNaN(r.group_level)?Number.POSITIVE_INFINITY:r.group_level;t.forEach(function(e){var t=s[s.length-1],n=o?e.key:null;if(o&&Array.isArray(n)&&(n=n.slice(0,c)),t&&0===Ye(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);s.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})}),t=[];for(var l=0,d=s.length;l<d;l++){var f=s[l],h=i(e.sourceDB,a,f.keys,f.values,!1);if(h.error&&h.error instanceof hr)throw h.error;t.push({value:h.error?null:h.output,key:f.groupKey})}return{rows:u(t,r.limit,r.skip)}}function A(e,t){return vr(k(e),function(){return C(e,t)})()}function C(e,t){function n(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return o=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=$e(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function r(n){var r;if(r=i?x(e,n,t):{total_rows:o,offset:a,rows:n},t.include_docs){var u=yr(n.map(s));return e.sourceDB.allDocs({keys:u,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t=new Ao;return e.rows.forEach(function(e){t.set(e.id,e.doc)}),n.forEach(function(e){var n=s(e),r=t.get(n);r&&(e.doc=r)}),r})}return r}var o,i=e.reduceFun&&!1!==t.reduce,a=t.skip||0;if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys){var u=t.keys,c=u.map(function(e){return n({startkey:Ve([e]),endkey:Ve([e,{}])})});return ko.all(c).then(R).then(r)}var l,d,f={descending:t.descending};if("start_key"in t&&(l=t.start_key),"startkey"in t&&(l=t.startkey),"end_key"in t&&(d=t.end_key),"endkey"in t&&(d=t.endkey),void 0!==l&&(f.startkey=Ve(t.descending?[l,{}]:[l])),void 0!==d){var h=!1!==t.inclusive_end;t.descending&&(h=!h),f.endkey=Ve(h?[d,{}]:[d])}if(void 0!==t.key){var p=Ve([t.key]),m=Ve([t.key,{}]);f.descending?(f.endkey=p,f.startkey=m):(f.startkey=p,f.endkey=m)}return i||("number"==typeof t.limit&&(f.limit=t.limit),f.skip=a),n(f).then(r)}function O(e){return e.request({method:"POST",url:"_view_cleanup"})}function T(t){return t.get("_local/"+e).then(function(e){var n=new Ao;Object.keys(e.views).forEach(function(e){var t=Cr(e),r="_design/"+t[0],o=t[1],i=n.get(r);i||(i=new xo,n.set(r,i)),i.add(o)});var r={keys:gr(n),include_docs:!0};return t.allDocs(r).then(function(r){var o={};r.rows.forEach(function(t){var r=t.key.substring(8);n.get(t.key).forEach(function(n){var i=r+"/"+n;e.views[i]||(i=n);var a=Object.keys(e.views[i]),u=t.doc&&t.doc.views&&t.doc.views[n];a.forEach(function(e){o[e]=o[e]||u})})});var i=Object.keys(o).filter(function(e){return!o[e]}),a=i.map(function(e){return vr(k(e),function(){return new t.constructor(e,t.__opts).destroy()})()});return ko.all(a).then(function(){return{ok:!0}})})},g({ok:!0}))}function P(t,n,o){if("function"==typeof t._query)return v(t,n,o);if(L(t))return b(t,n,o);if("string"!=typeof n)return m(o,n),na.add(function(){return Ar(t,"temp_view/temp_view",n.map,n.reduce,!0,e).then(function(e){return br(S(e).then(function(){return A(e,o)}),function(){return e.db.destroy()})})}),na.finish();var i=n,a=Cr(i),u=a[0],s=a[1];return t.get("_design/"+u).then(function(n){var a=n.views&&n.views[s];if(!a)throw new fr("ddoc "+n._id+" has no view named "+s);return r(n,s),m(o,a),Ar(t,i,a.map,a.reduce,!1,e).then(function(e){return"ok"===o.stale||"update_after"===o.stale?("update_after"===o.stale&&mo()(function(){S(e)}),A(e,o)):S(e).then(function(){return A(e,o)})})})}function j(e,t,n){var r=this;"function"==typeof t&&(n=t,t={}),t=t?h(t):{},"function"==typeof e&&(e={map:e});var o=ko.resolve().then(function(){return P(r,e,t)});return pr(o,n),o}return{query:j,viewCleanup:mr(function(){var e=this;return"function"==typeof e._viewCleanup?y(e):L(e)?O(e):T(e)})}}("mrviews",jr,Dr,Rr),aa={query:Mr,viewCleanup:Ir},ua=1,sa="pouchdb",ca=5,la=0;Yr.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then(function(){return n.updateSource(e,t)})},Yr.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?Br(this.target,this.id,e,t,this.returnValue):ko.resolve(!0)},Yr.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var n=this;return this.readOnlySource?ko.resolve(!0):Br(this.src,this.id,e,t,this.returnValue).catch(function(e){if(Gr(e))return n.readOnlySource=!0,!0;throw e})}return ko.resolve(!0)};var da={undefined:function(e,t){return 0===Ye(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return Hr(t,e).last_seq}};Yr.prototype.getCheckpoint=function(){var e=this;return e.target.get(e.id).then(function(t){return e.readOnlySource?ko.resolve(t.last_seq):e.src.get(e.id).then(function(e){if(t.version!==e.version)return la;var n;return n=t.version?t.version.toString():"undefined",n in da?da[n](t,e):la},function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:la}).then(function(){return la},function(n){return Gr(n)?(e.readOnlySource=!0,t.last_seq):la});throw n})}).catch(function(e){if(404!==e.status)throw e;return la})};var fa=0;ho()(Qr,lo.EventEmitter),Qr.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},Qr.prototype.ready=function(e,t){function n(){o.cancel()}function r(){e.removeListener("destroyed",n),t.removeListener("destroyed",n)}var o=this;o._readyCalled||(o._readyCalled=!0,e.once("destroyed",n),t.once("destroyed",n),o.once("complete",r))},ho()(no,lo.EventEmitter),no.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},Ce.plugin(xi).plugin(Yi).plugin(Ji).plugin(aa).plugin(ro),t.default=Ce}.call(t,n(40))},function(e,t,n){var r=n(475),o=n(476),i=o;i.v1=r,i.v4=o,e.exports=i},function(e,t,n){function r(e,t,n){var r=t&&n||0,o=t||[];e=e||{};var a=void 0!==e.clockseq?e.clockseq:s,d=void 0!==e.msecs?e.msecs:(new Date).getTime(),f=void 0!==e.nsecs?e.nsecs:l+1,h=d-c+(f-l)/1e4;if(h<0&&void 0===e.clockseq&&(a=a+1&16383),(h<0||d>c)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=d,l=f,s=a,d+=122192928e5;var p=(1e4*(268435455&d)+f)%4294967296;o[r++]=p>>>24&255,o[r++]=p>>>16&255,o[r++]=p>>>8&255,o[r++]=255&p;var m=d/4294967296*1e4&268435455;o[r++]=m>>>8&255,o[r++]=255&m,o[r++]=m>>>24&15|16,o[r++]=m>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var b=e.node||u,v=0;v<6;++v)o[r+v]=b[v];return t||i(o)}var o=n(172),i=n(173),a=o(),u=[1|a[0],a[1],a[2],a[3],a[4],a[5]],s=16383&(a[6]<<8|a[7]),c=0,l=0;e.exports=r},function(e,t,n){function r(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||o)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var u=0;u<16;++u)t[r+u]=a[u];return t||i(a)}var o=n(172),i=n(173);e.exports=r},function(e,t,n){"use strict";function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,e!==r&&s(this,e)}function i(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(e,t,n){p(function(){var r;try{r=t(n)}catch(t){return m.reject(e,t)}r===e?m.reject(e,new TypeError("Cannot resolve promise with itself")):m.resolve(e,r)})}function u(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function s(e,t){function n(t){i||(i=!0,m.reject(e,t))}function r(t){i||(i=!0,m.resolve(e,t))}function o(){t(r,n)}var i=!1,a=c(o);"error"===a.status&&n(a.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function l(e){return e instanceof this?e:m.resolve(new this(r),e)}function d(e){var t=new this(r);return m.reject(t,e)}function f(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=new Array(n),a=0,u=-1,s=new this(r);++u<n;)!function(e,r){function u(e){i[r]=e,++a!==n||o||(o=!0,m.resolve(s,i))}t.resolve(e).then(u,function(e){o||(o=!0,m.reject(s,e))})}(e[u],u);return s}function h(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var i=-1,a=new this(r);++i<n;)!function(e){t.resolve(e).then(function(e){o||(o=!0,m.resolve(a,e))},function(e){o||(o=!0,m.reject(a,e))})}(e[i]);return a}var p=n(115),m={},b=["REJECTED"],v=["FULFILLED"],y=["PENDING"];e.exports=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if("function"!=typeof e&&this.state===v||"function"!=typeof t&&this.state===b)return this;var n=new this.constructor(r);if(this.state!==y){a(n,this.state===v?e:t,this.outcome)}else this.queue.push(new i(n,e,t));return n},i.prototype.callFulfilled=function(e){m.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){m.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},m.resolve=function(e,t){var n=c(u,t);if("error"===n.status)return m.reject(e,n.value);var r=n.value;if(r)s(e,r);else{e.state=v,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},m.reject=function(e,t){e.state=b,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},o.resolve=l,o.reject=d,o.all=f,o.race=h},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,u,s,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),n.apply(this,u)}else if(i(n))for(u=Array.prototype.slice.call(arguments,1),c=n.slice(),o=c.length,s=0;s<o;s++)c[s].apply(this,u);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var o=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,a,u;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(u=a;u-- >0;)if(n[u]===t||n[u].listener&&n[u].listener===t){o=u;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){(function(r){function o(){return!("undefined"==typeof window||!window||void 0===window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r)}}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function u(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function s(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}t=e.exports=n(480),t.log=a,t.formatArgs=i,t.save=u,t.load=s,t.useColors=o,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(s())}).call(t,n(31))},function(e,t,n){function r(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}function o(e){function n(){if(n.enabled){var e=n,r=+new Date,o=r-(c||r);e.diff=o,e.prev=c,e.curr=r,c=r;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var u=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;u++;var o=t.formatters[r];if("function"==typeof o){var a=i[u];n=o.call(e,a),i.splice(u,1),u--}return n}),t.formatArgs.call(e,i);(n.log||t.log||console.log.bind(console)).apply(e,i)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=r(e),"function"==typeof t.init&&t.init(n),n}function i(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(e=n[o].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function u(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function s(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=o.debug=o.default=o,t.coerce=s,t.disable=a,t.enable=i,t.enabled=u,t.humanize=n(481),t.names=[],t.skips=[],t.formatters={};var c},function(e,t){function n(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*s;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(e){return e>=c?Math.round(e/c)+"d":e>=s?Math.round(e/s)+"h":e>=u?Math.round(e/u)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return i(e,c,"day")||i(e,s,"hour")||i(e,u,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,u=60*a,s=60*u,c=24*s,l=365.25*c;e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&e.length>0)return n(e);if("number"===i&&!1===isNaN(e))return t.long?o(e):r(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){!function(t){e.exports=t()}(function(e){"use strict";function t(e,t){var n=e[0],r=e[1],o=e[2],i=e[3];n+=(r&o|~r&i)+t[0]-680876936|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[1]-389564586|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[2]+606105819|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[3]-1044525330|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+t[4]-176418897|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[5]+1200080426|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[6]-1473231341|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[7]-45705983|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+t[8]+1770035416|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[9]-1958414417|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[10]-42063|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[11]-1990404162|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+t[12]+1804603682|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+t[13]-40341101|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+t[14]-1502002290|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+t[15]+1236535329|0,r=(r<<22|r>>>10)+o|0,n+=(r&i|o&~i)+t[1]-165796510|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[6]-1069501632|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[11]+643717713|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[0]-373897302|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+t[5]-701558691|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[10]+38016083|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[15]-660478335|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[4]-405537848|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+t[9]+568446438|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[14]-1019803690|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[3]-187363961|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[8]+1163531501|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+t[13]-1444681467|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+t[2]-51403784|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+t[7]+1735328473|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+t[12]-1926607734|0,r=(r<<20|r>>>12)+o|0,n+=(r^o^i)+t[5]-378558|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[8]-2022574463|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[11]+1839030562|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[14]-35309556|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+t[1]-1530992060|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[4]+1272893353|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[7]-155497632|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[10]-1094730640|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+t[13]+681279174|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[0]-358537222|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[3]-722521979|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[6]+76029189|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+t[9]-640364487|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+t[12]-421815835|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+t[15]+530742520|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+t[2]-995338651|0,r=(r<<23|r>>>9)+o|0,n+=(o^(r|~i))+t[0]-198630844|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[7]+1126891415|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[14]-1416354905|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[5]-57434055|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+t[12]+1700485571|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[3]-1894986606|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[10]-1051523|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[1]-2054922799|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+t[8]+1873313359|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[15]-30611744|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[6]-1560198380|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[13]+1309151649|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+t[4]-145523070|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+t[11]-1120210379|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+t[2]+718787259|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+t[9]-343485551|0,r=(r<<21|r>>>11)+o|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=o+e[2]|0,e[3]=i+e[3]|0}function n(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var r,o,i,a,u,s,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=c;r+=64)t(l,n(e.substring(r-64,r)));for(e=e.substring(r-64),o=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<o;r+=1)i[r>>2]|=e.charCodeAt(r)<<(r%4<<3);if(i[r>>2]|=128<<(r%4<<3),r>55)for(t(l,i),r=0;r<16;r+=1)i[r]=0;return a=8*c,a=a.toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(a[2],16),s=parseInt(a[1],16)||0,i[14]=u,i[15]=s,t(l,i),l}function i(e){var n,o,i,a,u,s,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=c;n+=64)t(l,r(e.subarray(n-64,n)));for(e=n-64<c?e.subarray(n-64):new Uint8Array(0),o=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<o;n+=1)i[n>>2]|=e[n]<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(t(l,i),n=0;n<16;n+=1)i[n]=0;return a=8*c,a=a.toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(a[2],16),s=parseInt(a[1],16)||0,i[14]=u,i[15]=s,t(l,i),l}function a(e){var t,n="";for(t=0;t<4;t+=1)n+=p[e>>8*t+4&15]+p[e>>8*t&15];return n}function u(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function s(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e,t){var n,r=e.length,o=new ArrayBuffer(r),i=new Uint8Array(o);for(n=0;n<r;n+=1)i[n]=e.charCodeAt(n);return t?i:o}function l(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function d(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),n?r:r.buffer}function f(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function h(){this.reset()}var p=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==u(o("hello"))&&function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return e=0|e||0,e<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var o,i,a,u,s=this.byteLength,c=t(n,s),l=s;return r!==e&&(l=t(r,s)),c>l?new ArrayBuffer(0):(o=l-c,i=new ArrayBuffer(o),a=new Uint8Array(i),u=new Uint8Array(this,c,o),a.set(u),i)}}(),h.prototype.append=function(e){return this.appendBinary(s(e)),this},h.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var r,o=this._buff.length;for(r=64;r<=o;r+=64)t(this._hash,n(this._buff.substring(r-64,r)));return this._buff=this._buff.substring(r-64),this},h.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(i,o),n=u(this._hash),e&&(n=f(n)),this.reset(),n},h.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},h.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},h.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},h.prototype._finish=function(e,n){var r,o,i,a=n;if(e[a>>2]|=128<<(a%4<<3),a>55)for(t(this._hash,e),a=0;a<16;a+=1)e[a]=0;r=8*this._length,r=r.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),i=parseInt(r[1],16)||0,e[14]=o,e[15]=i,t(this._hash,e)},h.hash=function(e,t){return h.hashBinary(s(e),t)},h.hashBinary=function(e,t){var n=o(e),r=u(n);return t?f(r):r},h.ArrayBuffer=function(){this.reset()},h.ArrayBuffer.prototype.append=function(e){var n,o=d(this._buff.buffer,e,!0),i=o.length;for(this._length+=e.byteLength,n=64;n<=i;n+=64)t(this._hash,r(o.subarray(n-64,n)));return this._buff=n-64<i?new Uint8Array(o.buffer.slice(n-64)):new Uint8Array(0),this},h.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r[t]<<(t%4<<3);return this._finish(i,o),n=u(this._hash),e&&(n=f(n)),this.reset(),n},h.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.ArrayBuffer.prototype.getState=function(){var e=h.prototype.getState.call(this);return e.buff=l(e.buff),e},h.ArrayBuffer.prototype.setState=function(e){return e.buff=c(e.buff,!0),h.prototype.setState.call(this,e)},h.ArrayBuffer.prototype.destroy=h.prototype.destroy,h.ArrayBuffer.prototype._finish=h.prototype._finish,h.ArrayBuffer.hash=function(e,t){var n=i(new Uint8Array(e)),r=u(n);return t?f(r):r},h})},function(e,t,n){"use strict";function r(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(e);else if(i===t.length-2){var a=t.pop();o[a]=e}else t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,r,o,i,a,u,s,c,l,d,f,h="";n=t.pop();)if(r=n.obj,o=n.prefix||"",i=n.val||"",h+=o,i)h+=i;else if("object"!=typeof r)h+=void 0===r?null:JSON.stringify(r);else if(null===r)h+="null";else if(Array.isArray(r)){for(t.push({val:"]"}),a=r.length-1;a>=0;a--)u=0===a?"":",",t.push({obj:r[a],prefix:u});t.push({val:"["})}else{s=[];for(c in r)r.hasOwnProperty(c)&&s.push(c);for(t.push({val:"}"}),a=s.length-1;a>=0;a--)l=s[a],d=r[l],f=a>0?",":"",f+=JSON.stringify(l)+":",t.push({obj:d,prefix:f});t.push({val:"{"})}return h},t.parse=function(e){for(var t,n,o,i,a,u,s,c,l,d=[],f=[],h=0;;)if("}"!==(t=e[h++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":h+=3,r(null,d,f);break;case"t":h+=3,r(!0,d,f);break;case"f":h+=4,r(!1,d,f);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",h--;;){if(o=e[h++],!/[\d\.\-e\+]/.test(o)){h--;break}n+=o}r(parseFloat(n),d,f);break;case'"':for(i="",a=void 0,u=0;;){if('"'===(s=e[h++])&&("\\"!==a||u%2!=1))break;i+=s,a=s,"\\"===a?u++:u=0}r(JSON.parse('"'+i+'"'),d,f);break;case"[":c={element:[],index:d.length},d.push(c.element),f.push(c);break;case"{":l={element:{},index:d.length},d.push(l.element),f.push(l);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===d.length)return d.pop();r(d.pop(),d,f)}}},function(e,t,n){"use strict";var r=n(27),o=n(489),i=n(490),a={};a.createIndex=r.toPromise(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to create"));("http"===this.type()?o:i).createIndex(this,e,t)}),a.find=r.toPromise(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to find()"));("http"===this.type()?o:i).find(this,e,t)}),a.getIndexes=r.toPromise(function(e){("http"===this.type()?o:i).getIndexes(this,e)}),a.deleteIndex=r.toPromise(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to delete"));("http"===this.type()?o:i).deleteIndex(this,e,t)}),e.exports=a,"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(a)},function(e,t){},function(e,t,n){(function(r){function o(){return!("undefined"==typeof window||!window||void 0===window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r)}}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function u(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function s(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}t=e.exports=n(487),t.log=a,t.formatArgs=i,t.save=u,t.load=s,t.useColors=o,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(s())}).call(t,n(31))},function(e,t,n){function r(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}function o(e){function n(){if(n.enabled){var e=n,r=+new Date,o=r-(c||r);e.diff=o,e.prev=c,e.curr=r,c=r;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var u=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;u++;var o=t.formatters[r];if("function"==typeof o){var a=i[u];n=o.call(e,a),i.splice(u,1),u--}return n}),t.formatArgs.call(e,i);(n.log||t.log||console.log.bind(console)).apply(e,i)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=r(e),"function"==typeof t.init&&t.init(n),n}function i(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(e=n[o].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function u(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function s(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=o.debug=o.default=o,t.coerce=s,t.disable=a,t.enable=i,t.enabled=u,t.humanize=n(488),t.names=[],t.skips=[],t.formatters={};var c},function(e,t){function n(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*s;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(e){return e>=c?Math.round(e/c)+"d":e>=s?Math.round(e/s)+"h":e>=u?Math.round(e/u)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return i(e,c,"day")||i(e,s,"hour")||i(e,u,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,u=60*a,s=60*u,c=24*s,l=365.25*c;e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&e.length>0)return n(e);if("number"===i&&!1===isNaN(e))return t.long?o(e):r(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";function r(e,t,n){t=u(t),e.request({method:"POST",url:"_index",body:t},n)}function o(e,t,n){e.request({method:"POST",url:"_find",body:t},n)}function i(e,t){e.request({method:"GET",url:"_index"},t)}function a(e,t,n){var r=t.ddoc,o=t.type||"json",i=t.name;if(!r)return n(new Error("you must provide an index's ddoc"));if(!i)return n(new Error("you must provide an index's name"));var a="_index/"+[r,o,i].map(encodeURIComponent).join("/");e.request({method:"DELETE",url:a},n)}var u=n(179);t.createIndex=r,t.find=o,t.getIndexes=i,t.deleteIndex=a},function(e,t,n){"use strict";var r=n(27),o=r.callbackify;t.createIndex=o(n(491)),t.find=o(n(498)),t.getIndexes=o(n(182)),t.deleteIndex=o(n(502))},function(e,t,n){"use strict";function r(e,t,n){return u.upsert.call(e,t,n)}function o(e,t){function n(e){return e._rev&&"query"!==e.language&&(m=!0),e.language="query",e.views=e.views||{},!(b=!!e.views[c])&&(e.views[c]={map:{fields:i.mergeObjects(t.index.fields)},reduce:"_count",options:{def:o}},e)}t=f(t);var o=i.clone(t.index);t.index=d(t.index),l(t.index);var u=i.MD5(JSON.stringify(t)),c=t.name||"idx-"+u,h=t.ddoc||"idx-"+u,p="_design/"+h,m=!1,b=!1;return a("creating index",p),r(e,p,n).then(function(){if(m)throw new Error('invalid language for ddoc with id "'+p+'" (should be "query")')}).then(function(){var t=h+"/"+c;return s.query.call(e,t,{limit:0,reduce:!1}).then(function(){return{id:p,name:c,result:b?"exists":"created"}})})}var i=n(27),a=i.log,u=n(180),s=n(117),c=n(59),l=c.validateIndex,d=c.massageIndexDef,f=n(179);e.exports=o},function(e,t,n){"use strict";var r=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(n(176)),o="function"==typeof Promise?Promise:r;e.exports=o},function(e,t,n){"use strict";function r(e,t,n){for(var r="",o=n-e.length;r.length<o;)r+=t;return r}t.padLeft=function(e,t,n){return r(e,t,n)+e},t.padRight=function(e,t,n){return e+r(e,t,n)},t.stringLexCompare=function(e,t){var n,r=e.length,o=t.length;for(n=0;n<r;n++){if(n===o)return 1;var i=e.charAt(n),a=t.charAt(n);if(i!==a)return i<a?-1:1}return r<o?-1:0},t.intToDecimalForm=function(e){var t=e<0,n="";do{n=(t?-Math.ceil(e%10):Math.floor(e%10))+n,e=t?Math.ceil(e/10):Math.floor(e/10)}while(e);return t&&"0"!==n&&(n="-"+n),n}},function(e,t,n){"use strict";(function(t){function r(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,r)}catch(e){}}function o(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,o)}catch(e){}}function i(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function a(e){return 1===e.length&&/^1-/.test(e[0].rev)}function u(e,t){var n=v(e.key,t.key);return 0!==n?n:v(e.value,t.value)}function s(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function c(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function l(e,t){try{e.emit("error",t)}catch(e){console.error("The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),console.error(t)}}function d(e,t,n){try{return{output:t.apply(null,n)}}catch(t){return l(e,t),{error:t}}}function f(e,t){var n=e.descending?"endkey":"startkey",o=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[o]&&v(e[n],e[o])>0)throw new r("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new r("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new r("Multi-key fetches for reduce views must use {group: true}")}if(e.group_level){if("number"!=typeof e.group_level)throw new r('Invalid value for integer: "'+e.group_level+'"');if(e.group_level<0)throw new r('Invalid value for positive integer: "'+e.group_level+'"')}}function h(e){return function(t){if(404===t.status)return e;throw t}}function p(e){function n(e,t,n){function r(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):k.resolve({rows:[]})}function o(e,t){for(var n=[],r={},o=0,i=t.rows.length;o<i;o++){var a=t.rows[o],u=a.doc;if(u&&(n.push(u),r[u._id]=!0,u._deleted=!c[u._id],!u._deleted)){var s=c[u._id];"value"in s&&(u.value=s.value)}}var l=Object.keys(c);return l.forEach(function(e){if(!r[e]){var t={_id:e},o=c[e];"value"in o&&(t.value=o.value),n.push(t)}}),e.keys=w.uniq(l.concat(e.keys)),n.push(e),n}var i="_local/doc_"+e,u={_id:i,keys:[]},s=n[e],c=s.indexableKeysToKeyValues,l=s.changes;return function(){return a(l)?k.resolve(u):t.db.get(i).catch(h(u))}().then(function(e){return r(e).then(function(t){return o(e,t)})})}function r(e,t,r){return e.db.get("_local/lastSeq").catch(h({_id:"_local/lastSeq",seq:0})).then(function(o){var i=Object.keys(t);return k.all(i.map(function(r){return n(r,e,t)})).then(function(t){var n=w.flatten(t);return o.seq=r,n.push(o),e.db.bulkDocs({docs:n})})})}function l(e){var t="string"==typeof e?e:e.name,n=S[t];return n||(n=S[t]=new b),n}function p(e){return w.sequentialize(l(e),function(){return A(e)})()}function A(e){function t(e,t){var n={id:i._id,key:g(e)};void 0!==t&&null!==t&&(n.value=g(t)),o.push(n)}function n(t,n){return function(){return r(e,t,n)}}var o,i,a=R(e.mapFun,t),s=e.seq||0,c=new b;return new k(function(t,r){function l(){c.finish().then(function(){e.seq=s,t()})}function f(){function t(e){r(e)}e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:s,limit:x}).on("complete",function(t){var r=t.results;if(!r.length)return l();for(var h={},p=0,m=r.length;p<m;p++){var b=r[p];if("_"!==b.doc._id[0]){o=[],i=b.doc,i._deleted||d(e.sourceDB,a,[i]),o.sort(u);for(var g,_={},w=0,k=o.length;w<k;w++){var S=o[w],E=[S.key,S.id];0===v(S.key,g)&&E.push(w);_[y(E)]=S,g=S.key}h[b.doc._id]={indexableKeysToKeyValues:_,changes:b.changes}}s=b.seq}return c.add(n(h,s)),r.length<x?l():f()}).on("error",t)}f()})}function C(e,t,n){0===n.group_level&&delete n.group_level;var r=n.group||n.group_level,o=M(e.reduceFun),i=[],a=n.group_level;t.forEach(function(e){var t=i[i.length-1],n=r?e.key:null;if(r&&Array.isArray(n)&&"number"==typeof a&&(n=n.length>a?n.slice(0,a):n),t&&0===v(t.key[0][0],n))return t.key.push([n,e.id]),void t.value.push(e.value);i.push({key:[[n,e.id]],value:[e.value]})});for(var u=0,c=i.length;u<c;u++){var l=i[u],f=d(e.sourceDB,o,[l.key,l.value,!1]);if(f.error&&/BuiltInError/.test(f.error.constructor))throw f.error;l.value=f.error?null:f.output,l.key=l.key[0][0]}return{rows:s(i,n.limit,n.skip)}}function O(e,t){return w.sequentialize(l(e),function(){return T(e,t)})()}function T(e,t){function n(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return o=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=m.parseIndexableString(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function r(n){var r;if(r=i?C(e,n,t):{total_rows:o,offset:a,rows:n},t.include_docs){var u=w.uniq(n.map(c));return e.sourceDB.allDocs({keys:u,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t={};return e.rows.forEach(function(e){e.doc&&(t["$"+e.id]=e.doc)}),n.forEach(function(e){var n=c(e),r=t["$"+n];r&&(e.doc=r)}),r})}return r}var o,i=e.reduceFun&&!1!==t.reduce,a=t.skip||0;void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys);var u=function(e){return e.reduce(function(e,t){return e.concat(t)})};if(void 0!==t.keys){var s=t.keys,l=s.map(function(e){return n({startkey:y([e]),endkey:y([e,{}])})});return k.all(l).then(u).then(r)}var d={descending:t.descending};if(void 0!==t.startkey&&(d.startkey=y(t.descending?[t.startkey,{}]:[t.startkey])),void 0!==t.endkey){var f=!1!==t.inclusive_end;t.descending&&(f=!f),d.endkey=y(f?[t.endkey,{}]:[t.endkey])}if(void 0!==t.key){var h=y([t.key]),p=y([t.key,{}]);d.descending?(d.endkey=h,d.startkey=p):(d.startkey=h,d.endkey=p)}return i||("number"==typeof t.limit&&(d.limit=t.limit),d.skip=a),n(d).then(r)}function P(e){return e.get("_local/"+D).then(function(t){var n={};Object.keys(t.views).forEach(function(e){var t=i(e),r="_design/"+t[0],o=t[1];n[r]=n[r]||{},n[r][o]=!0});var r={keys:Object.keys(n),include_docs:!0};return e.allDocs(r).then(function(r){var o={};r.rows.forEach(function(e){var r=e.key.substring(8);Object.keys(n[e.key]).forEach(function(n){var i=r+"/"+n;t.views[i]||(i=n);var a=Object.keys(t.views[i]),u=e.doc&&e.doc.views&&e.doc.views[n];a.forEach(function(e){o[e]=o[e]||u})})});var i=Object.keys(o).filter(function(e){return!o[e]}),a=i.map(function(t){return w.sequentialize(l(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return k.all(a).then(function(){return{ok:!0}})})},h({ok:!0}))}function j(e,n,r){if("string"!=typeof n){f(r,n);var a={db:e,viewName:"temp_view/temp_view",map:n.map,reduce:n.reduce,temporary:!0,pluginName:D};return E.add(function(){return _(a).then(function(e){function t(){return e.db.destroy()}return w.fin(p(e).then(function(){return O(e,r)}),t)})}),E.finish()}var u=n,s=i(u),c=s[0],l=s[1];return e.get("_design/"+c).then(function(n){var i=n.views&&n.views[l];if(!i)throw new o("ddoc "+n._id+" has no view named "+l);I(n,l),f(r,i);var a={db:e,viewName:u,map:i.map,reduce:i.reduce,pluginName:D};return _(a).then(function(e){return"ok"===r.stale||"update_after"===r.stale?("update_after"===r.stale&&t.nextTick(function(){p(e)}),O(e,r)):p(e).then(function(){return O(e,r)})})})}var D=e.name,R=e.mapper,M=e.reducer,I=e.ddocValidator;return{query:function(e,t,n){var r=this;"function"==typeof t&&(n=t,t={}),t=w.extend(!0,{},t),"function"==typeof e&&(e={map:e});var o=k.resolve().then(function(){return j(r,e,t)});return w.promisedCallback(o,n),o},viewCleanup:w.callbackify(function(){return P(this)})}}var m=n(79),b=n(495),v=m.collate,y=m.toIndexableString,g=m.normalizeKey,_=n(497);"undefined"!=typeof console&&"function"==typeof console.log&&Function.prototype.bind.call(console.log,console);var w=n(118),k=w.Promise,S={},E=new b,x=50;w.inherits(r,Error),w.inherits(o,Error),e.exports=p}).call(t,n(31))},function(e,t,n){"use strict";function r(){this.promise=new o(function(e){e()})}var o=n(118).Promise;r.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},r.prototype.finish=function(){return this.promise},e.exports=r},function(e,t){},function(e,t,n){"use strict";function r(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}var o=n(181),i=n(118),a=i.Promise;e.exports=function(e){var t=e.db,n=e.viewName,u=e.map,s=e.reduce,c=e.temporary,l=e.pluginName,d=r(u)+r(s)+"undefined";if(!c&&t._cachedViews){var f=t._cachedViews[d];if(f)return a.resolve(f)}return t.info().then(function(e){function r(e){e.views=e.views||{};var t=n;-1===t.indexOf("/")&&(t=n+"/"+n);var r=e.views[t]=e.views[t]||{};if(!r[a])return r[a]=!0,e}var a=e.db_name+"-mrview-"+(c?"temp":i.MD5(d));return o(t,"_local/"+l,r).then(function(){return t.registerDependentDatabase(a).then(function(e){var n=e.db;n.auto_compaction=!0;var r={name:a,db:n,sourceDB:t,adapter:t.adapter,mapFun:u,reduceFun:s};return r.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return r.seq=e?e.seq:0,c||(t._cachedViews=t._cachedViews||{},t._cachedViews[d]=r,r.db.on("destroyed",function(){delete t._cachedViews[d]})),r})})})})}},function(e,t,n){"use strict";function r(e){return e.ddoc.substring(8)+"/"+e.name}function o(e,t){var n=u(t);return n.descending?("endkey"in n&&"string"!=typeof n.endkey&&(n.endkey=""),"startkey"in n&&"string"!=typeof n.startkey&&(n.limit=0)):("startkey"in n&&"string"!=typeof n.startkey&&(n.startkey=""),"endkey"in n&&"string"!=typeof n.endkey&&(n.limit=0)),"key"in n&&"string"!=typeof n.key&&(n.limit=0),e.allDocs(n)}function i(e,t){return t.selector&&(t.selector=p(t.selector)),t.sort&&(t.sort=m(t.sort)),v(t),s(e).then(function(n){var i=d(t,n.indexes),u=i.index;y(t,u);var s=a.extend(!0,{include_docs:!0,reduce:!1},i.queryOpts);return"startkey"in s&&"endkey"in s&&c(s.startkey,s.endkey)>0?{docs:[]}:(t.sort&&"string"!=typeof t.sort[0]&&"desc"===b(t.sort[0])&&(s.descending=!0,s=g(s)),i.inMemoryFields.length||("limit"in t&&(s.limit=t.limit),"skip"in t&&(s.skip=t.skip)),w.resolve().then(function(){if("_all_docs"===u.name)return o(e,s);var t=r(u);return l.query.call(e,t,s)}).then(function(e){!1===s.inclusive_start&&(e.rows=_(e.rows,s.startkey,u)),i.inMemoryFields.length&&(e.rows=h(e.rows,t,i.inMemoryFields));var n={docs:e.rows.map(function(e){var n=e.doc;return t.fields?a.pick(n,t.fields):n})};return u.defaultUsed&&(n.warning="no matching index found, create an index to optimize query time"),n}))})}var a=n(27),u=a.clone,s=n(182),c=n(79).collate,l=n(117),d=n(499),f=n(59),h=n(500),p=f.massageSelector,m=f.massageSort,b=f.getValue,v=f.validateFindRequest,y=f.validateSort,g=f.reverseOptions,_=f.filterInclusiveStart,w=a.Promise;e.exports=i},function(e,t,n){"use strict";function r(e,t){for(var n=e.def.fields.map(x),r=0,o=n.length;r<o;r++){if(t===n[r])return!0}return!1}function o(e,t){var n=e[t];return"$eq"!==x(n)}function i(e,t){var n=t.def.fields.map(x);return e.slice().sort(function(e,t){var r=n.indexOf(e),o=n.indexOf(t);return-1===r&&(r=Number.MAX_VALUE),-1===o&&(o=Number.MAX_VALUE),k.compare(r,o)})}function a(e,t,n){n=i(n,e);for(var a=!1,u=0,s=n.length;u<s;u++){var c=n[u];if(a||!r(e,c))return n.slice(u);u<s-1&&o(t,c)&&(a=!0)}return[]}function u(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n];Object.keys(r).forEach(function(e){"$ne"===e&&t.push(n)})}),t}function s(e,t,n,r){var o=k.flatten(e,a(t,n,r),u(n));return i(k.uniq(o),t)}function c(e,t,n){if(t){var r=k.oneArrayIsStrictSubArrayOfOther(t,e),o=k.oneArrayIsSubArrayOfOther(n,e);return r&&o}return k.oneSetIsSubArrayOfOther(n,e)}function l(e){return-1===T.indexOf(e)}function d(e,t){var n=e[0],r=t[n];return void 0===r||!!Object.keys(r).some(function(e){return!l(e)})&&!(1===Object.keys(r).length&&"$ne"===x(r))}function f(e,t,n,r){var o=e.def.fields.map(x);return!!c(o,t,n)&&d(o,r)}function h(e,t,n,r){return r.reduce(function(r,o){return f(o,n,t,e)&&r.push(o),r},[])}function p(e,t,n,r){function o(e){for(var t=e.def.fields.map(x),n=0,r=0,o=t.length;r<o;r++){var i=t[r];u[i]&&n++}return n}var i=h(e,t,n,r);if(0===i.length){var a=r[0];return a.defaultUsed=!0,a}if(1===i.length)return i[0];var u=k.arrayToObject(t);return k.max(i,o)}function m(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function b(e,t){var n,r=x(t.def.fields[0]),o=e[r]||{},i=[],a=Object.keys(o);return a.forEach(function(e){if(l(e))return void i.push(r);var t=o[e],a=m(e,t);n=n?k.mergeObjects([n,a]):a}),{queryOpts:n,inMemoryFields:i}}function v(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function y(e,t){function n(e){!1!==r&&u.push(C),!1!==o&&s.push(O),a=i.slice(e)}for(var r,o,i=t.def.fields.map(x),a=[],u=[],s=[],c=0,d=i.length;c<d;c++){var f=i[c],h=e[f];if(!h){n(c);break}if(c>0){if(Object.keys(h).some(l)){n(c);break}var p="$gt"in h||"$gte"in h||"$lt"in h||"$lte"in h,m=Object.keys(e[i[c-1]]),b=k.arrayEquals(m,["$eq"]),y=k.arrayEquals(m,Object.keys(h));if(p&&!b&&!y){n(c);break}}for(var g=Object.keys(h),_=null,w=0;w<g.length;w++){var S=g[w],E=h[S],A=v(S,E);_=_?k.mergeObjects([_,A]):A}u.push("startkey"in _?_.startkey:C),s.push("endkey"in _?_.endkey:O),"inclusive_start"in _&&(r=_.inclusive_start),"inclusive_end"in _&&(o=_.inclusive_end)}var T={startkey:u,endkey:s};return void 0!==r&&(T.inclusive_start=r),void 0!==o&&(T.inclusive_end=o),{queryOpts:T,inMemoryFields:a}}function g(e){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(e)]}}function _(e,t){return t.defaultUsed?g(e,t):1===t.def.fields.length?b(e,t):y(e,t)}function w(e,t){S("planning query",e);var n=e.selector,r=e.sort,o=A(n,r),i=o.fields,a=o.sortOrder,u=p(n,i,a,t),c=_(n,u),l=c.queryOpts,d=c.inMemoryFields,f=s(d,u,n,i),h={queryOpts:l,index:u,inMemoryFields:f};return S("query plan",h),h}var k=n(27),S=k.log,E=n(59),x=E.getKey,A=E.getUserFields,C=null,O={"":{}},T=["$eq","$gt","$gte","$lt","$lte"];e.exports=w},function(e,t,n){"use strict";function r(e){function t(t){return e.map(function(e){var n=k(e),r=E(n);return A(t,r)})}return function(e,n){var r=t(e.doc),o=t(n.doc),i=g(r,o);return 0!==i?i:x.compare(e.doc._id,n.doc._id)}}function o(e,t,n){if(e=e.filter(function(e){return i(e.doc,t.selector,n)}),t.sort){var o=r(t.sort);e=e.sort(o),"string"!=typeof t.sort[0]&&"desc"===S(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var a=t.skip||0,u=("limit"in t?t.limit:e.length)+a;e=e.slice(a,u)}return e}function i(e,t,n){return n.every(function(n){if(a(e))return!1;var r=t[n],o=E(n),i=A(e,o);return w(n)?s(n,r,e):u(r,e,o,i)})}function a(e){return/^_design\//.test(e._id)}function u(e,t,n,r){return!e||Object.keys(e).every(function(o){var i=e[o];return c(o,t,i,n,r)})}function s(e,t,n){return"$or"===e?t.some(function(e){return i(n,e,Object.keys(e))}):"$not"===e?!i(n,t,Object.keys(t)):!t.find(function(e){return i(n,e,Object.keys(e))})}function c(e,t,n,r,o){if(!C[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type or $all');return C[e](t,n,r,o)}function l(e){return void 0!==e&&null!==e}function d(e){return void 0!==e}function f(e,t){var n=t[0],r=t[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%n===r}function h(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}function p(e,t){return t.every(function(t){return e.indexOf(t)>-1})}function m(e,t){return e.length===t}function b(e,t){return new RegExp(t).test(e)}function v(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}var y=n(501),g=n(79).collate,_=n(59),w=_.isCombinationalField,k=_.getKey,S=_.getValue,E=_.parseField,x=n(27),A=x.getFieldFromDoc,C={$elemMatch:function(e,t,n,r){return!!y(r)&&(0!==r.length&&("object"==typeof r[0]?r.some(function(e){return i(e,t,Object.keys(t))}):r.some(function(r){return u(t,e,n,r)})))},$eq:function(e,t,n,r){return d(r)&&0===g(r,t)},$gte:function(e,t,n,r){return d(r)&&g(r,t)>=0},$gt:function(e,t,n,r){return d(r)&&g(r,t)>0},$lte:function(e,t,n,r){return d(r)&&g(r,t)<=0},$lt:function(e,t,n,r){return d(r)&&g(r,t)<0},$exists:function(e,t,n,r){return t?d(r):!d(r)},$mod:function(e,t,n,r){return l(r)&&f(r,t)},$ne:function(e,t,n,r){return t.every(function(e){return 0!==g(r,e)})},$in:function(e,t,n,r){return l(r)&&h(r,t)},$nin:function(e,t,n,r){return l(r)&&!h(r,t)},$size:function(e,t,n,r){return l(r)&&m(r,t)},$all:function(e,t,n,r){return y(r)&&p(r,t)},$regex:function(e,t,n,r){return l(r)&&b(r,t)},$type:function(e,t,n,r){return v(r,t)}};e.exports=o},function(e,t){var n=Array.isArray,r=Object.prototype.toString;e.exports=n||function(e){return!!e&&"[object Array]"==r.call(e)}},function(e,t,n){"use strict";function r(e,t){function n(e){return 1===Object.keys(e.views).length&&e.views[a]?{_id:r,_deleted:!0}:(delete e.views[a],e)}if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var r=t.ddoc,a=t.name;return i(e,r,n).then(function(){return o.viewCleanup.apply(e)}).then(function(){return{ok:!0}})}var o=n(117),i=n(181);e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return void 0!==window.cordova&&void 0!==window.cordova.InAppBrowser};t.authenticateWithCordova=function(e){return r()?new Promise(function(t,n){var r=window.cordova.InAppBrowser.open(e,"_blank","clearcache=yes,zoom=no"),o=function(){r.removeEventListener("loadstart",i),r.removeEventListener("exit",a)},i=function(e){var n=e.url,i=/\?access_code=(.+)$/.test(n),a=/\?state=(.+)$/.test(n);(i||a)&&(t(n),o(),r.close())},a=function(){n(new Error("REGISTRATION_ABORT")),o(),r.close()};r.addEventListener("loadstart",i),r.addEventListener("exit",a)}):(console.log(e),new Promise(function(e){setTimeout(function(){var t=prompt("Paste the url here:");e(t)},1e4)}))}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(28),d=n(14),f=n(114),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){var h=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this.props.fetchActions,t=this.context.store.dispatch;for(var n in e)t(e[n])}},{key:"render",value:function(){var e=this.context,t=e.t,r=e.f,o=e.client,i=e.store,u=this.props.fetchActions,s=a({t:t,f:r,client:o},this.props,(0,d.enhancePropsForActions)(this.props,u,i.dispatch));return c.default.createElement(n,s)}}]),t}(s.Component),p=function(t,n){var r=e(n),o=function(e){return e&&e.types&&e.promise},i=(0,f.filterValues)(r,function(e){return o(e)}),u=(0,f.filterValues)(r,function(e){return!o(e)});return function(e){return a({},(0,f.mapValues)(i,function(t){return o(t)?(0,d.applySelectorForAction)(e,t):t}),{fetchActions:i},u)}};return(0,l.connect)(p,t)(h)}};t.default=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1],a=n||t+"Subscription",s=function(e){function n(i,a){r(this,n);var u=o(this,e.call(this,i,a));return u[t]=i.store,u}return i(n,e),n.prototype.getChildContext=function(){var e;return e={},e[t]=this[t],e[a]=null,e},n.prototype.render=function(){return u.Children.only(this.props.children)},n}(u.Component);return s.propTypes={store:l.a.isRequired,children:c.a.element.isRequired},s.childContextTypes=(e={},e[t]=l.a.isRequired,e[a]=l.b,e),s}t.a=a;var u=n(0),s=n(13),c=n.n(s),l=n(185);n(120);t.b=a()},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,a=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,s=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,l=c&&c(Object);e.exports=function e(t,n,d){if("string"!=typeof n){if(l){var f=c(n);f&&f!==l&&e(t,f,d)}var h=a(n);u&&(h=h.concat(u(n)));for(var p=0;p<h.length;++p){var m=h[p];if(!(r[m]||o[m]||d&&d[m])){var b=s(n,m);try{i(t,m,b)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){var e=[],t=[];return{clear:function(){t=i,e=i},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==i&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}n.d(t,"a",function(){return u});var i=null,a={notify:function(){}},u=function(){function e(t,n,o){r(this,e),this.store=t,this.parentSub=n,this.onStateChange=o,this.unsubscribe=null,this.listeners=a}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=o())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=a)},e}()},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function i(e,t){return e===t}var a=n(186),u=n(509),s=n(510),c=n(511),l=n(512),d=n(513),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?a.a:t,h=e.mapStateToPropsFactories,p=void 0===h?c.a:h,m=e.mapDispatchToPropsFactories,b=void 0===m?s.a:m,v=e.mergePropsFactories,y=void 0===v?l.a:v,g=e.selectorFactory,_=void 0===g?d.a:g;return function(e,t,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=s.pure,l=void 0===c||c,d=s.areStatesEqual,h=void 0===d?i:d,m=s.areOwnPropsEqual,v=void 0===m?u.a:m,g=s.areStatePropsEqual,w=void 0===g?u.a:g,k=s.areMergedPropsEqual,S=void 0===k?u.a:k,E=r(s,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),x=o(e,p,"mapStateToProps"),A=o(t,b,"mapDispatchToProps"),C=o(a,y,"mergeProps");return n(_,f({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:x,initMapDispatchToProps:A,initMergeProps:C,pure:l,areStatesEqual:h,areOwnPropsEqual:v,areStatePropsEqual:w,areMergedPropsEqual:S},E))}}()},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function o(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!i.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}t.a=o;var i=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";function r(e){return"function"==typeof e?Object(u.b)(e,"mapDispatchToProps"):void 0}function o(e){return e?void 0:Object(u.a)(function(e){return{dispatch:e}})}function i(e){return e&&"object"==typeof e?Object(u.a)(function(t){return Object(a.bindActionCreators)(e,t)}):void 0}var a=n(41),u=n(187);t.a=[r,o,i]},function(e,t,n){"use strict";function r(e){return"function"==typeof e?Object(i.b)(e,"mapStateToProps"):void 0}function o(e){return e?void 0:Object(i.a)(function(){return{}})}var i=n(187);t.a=[r,o]},function(e,t,n){"use strict";function r(e,t,n){return u({},n,e,t)}function o(e){return function(t,n){var r=(n.displayName,n.pure),o=n.areMergedPropsEqual,i=!1,a=void 0;return function(t,n,u){var s=e(t,n,u);return i?r&&o(s,a)||(a=s):(i=!0,a=s),a}}}function i(e){return"function"==typeof e?o(e):void 0}function a(e){return e?void 0:function(){return r}}var u=(n(188),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e});t.a=[i,a]},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function i(e,t,n,r,o){function i(o,i){return p=o,m=i,b=e(p,m),v=t(r,m),y=n(b,v,m),h=!0,y}function a(){return b=e(p,m),t.dependsOnOwnProps&&(v=t(r,m)),y=n(b,v,m)}function u(){return e.dependsOnOwnProps&&(b=e(p,m)),t.dependsOnOwnProps&&(v=t(r,m)),y=n(b,v,m)}function s(){var t=e(p,m),r=!f(t,b);return b=t,r&&(y=n(b,v,m)),y}function c(e,t){var n=!d(t,m),r=!l(e,p);return p=e,m=t,n&&r?a():n?u():r?s():y}var l=o.areStatesEqual,d=o.areOwnPropsEqual,f=o.areStatePropsEqual,h=!1,p=void 0,m=void 0,b=void 0,v=void 0,y=void 0;return function(e,t){return h?c(e,t):i(e,t)}}function a(e,t){var n=t.initMapStateToProps,a=t.initMapDispatchToProps,u=t.initMergeProps,s=r(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),c=n(e,s),l=a(e,s),d=u(e,s);return(s.pure?i:o)(c,l,d,e,s)}t.a=a;n(514)},function(e,t,n){"use strict";n(120)},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(121),u=function(e){return function(t){var n=t.dispatch,u=t.getState;return function(t){return function(s){var c=s.promise,l=s.type,d=s.types,f=s.dependencies,h=r(s,["promise","type","types","dependencies"]);if(!c)return t(s);if(!l&&!d)return c(e,n,u).then(function(e){return n(e)});if(l)return c(e,n,u).then(function(e){return t(i({},h,{response:e,type:l})),e});var p=o(d,3),m=p[0],b=p[1],v=p[2];t(i({},h,{type:m}));var y=[];return f&&f.forEach(function(e){"pending"===(0,a.applySelectorForAction)(u(),e).fetchStatus&&y.push(n(e))}),Promise.all(y).then(function(){return c(e,n,u)}).then(function(e){return t(i({},h,{response:e,type:b})),e},function(e){console.log(e),t(i({},h,{error:e,type:v}))}).catch(function(e){console.error("MIDDLEWARE ERROR:",e),t(i({},h,{error:e,type:v}))})}}}};t.default=u},function(e,t,n){"use strict";(function(t){var r=n(22),o=n(517),i={_isShim:!0,track:function(){},push:function(e){},trackError:function(e){},connectToHistory:function(e){return e},disconnectFromHistory:function(){}},a=null,u=null,s=function(e){if(e=e||{},e.trackErrors=void 0!==e.trackErrors&&e.trackErrors,e.enableLinkTracking=void 0===e.enableLinkTracking||e.enableLinkTracking,e.updateDocumentTitle=void 0===e.updateDocumentTitle||e.updateDocumentTitle,e.ignoreInitialVisit=void 0!==e.ignoreInitialVisit&&e.ignoreInitialVisit,e.injectScript=void 0===e.injectScript||e.injectScript,e.clientTrackerName=void 0!==e.clientTrackerName?e.clientTrackerName:"piwik.js",e.serverTrackerName=void 0!==e.serverTrackerName?e.serverTrackerName:"piwik.php",!e.url||!e.siteId)return"test"!==function(){return t&&t.env?"production".toLowerCase():"development"}()&&r(null,"PiwikTracker cannot be initialized! You haven't passed a url and siteId to it."),i;window._paq=window._paq||[];var n=function(t){var n;n=t.path?t.path:t.basename?o(t.basename,t.pathname,t.search):o(t.pathname,t.search),a!==n&&(e.updateDocumentTitle&&s(["setDocumentTitle",document.title]),s(["setCustomUrl",n]),s(["trackPageView"]),a=n)},s=function(e){window._paq.push(e)},c=function(e,t){t=t||"JavaScript Error",s(["trackEvent",t,e.message,e.filename+": "+e.lineno])},l=function(t){return u=t.listen(function(e){n(e)}),!e.ignoreInitialVisit&&t.location&&n(t.location),t},d=function(){return!!u&&(u(),!0)};return e.trackErrors&&(window.addEventListener?window.addEventListener("error",c,!1):window.attachEvent?window.attachEvent("onerror",c):window.onerror=c),function(){if(-1!==e.url.indexOf("http://")||-1!==e.url.indexOf("https://"))var t=e.url+"/";else var t="https:"==document.location.protocol?"https://"+e.url+"/":"http://"+e.url+"/";if(s(["setSiteId",e.siteId]),s(["setTrackerUrl",t+e.serverTrackerName]),e.userId&&s(["setUserId",e.userId]),e.enableLinkTracking&&s(["enableLinkTracking"]),e.injectScript){var n=document,r=n.createElement("script"),o=n.getElementsByTagName("script")[0];r.type="text/javascript",r.defer=!0,r.async=!0,r.src=t+e.clientTrackerName,o.parentNode.insertBefore(r,o)}}(),{_isShim:!1,track:n,push:s,trackError:c,connectToHistory:l,disconnectFromHistory:d}};"undefined"==typeof window?e.exports=function(){return i}:e.exports=s}).call(t,n(31))},function(e,t,n){var r,o;!function(i,a,u){void 0!==e&&e.exports?e.exports=u():(r=u,void 0!==(o="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=o))}(0,0,function(){function e(e,t){return e=e.replace(/:\//g,"://"),e=e.replace(/([^:\s])\/+/g,"$1/"),e=e.replace(/\/(\?|&|#[^!])/g,"$1"),e=e.replace(/(\?.+)\?/g,"$1&")}return function(){var t=arguments,n={};return"object"==typeof arguments[0]&&(t=arguments[0],n=arguments[1]||{}),e([].slice.call(t,0).join("/"),n)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTranslation=t._polyglot=void 0;var r=n(519),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n(7),a=t._polyglot=void 0;t.initTranslation=function(e,n,r){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.DEFAULT_LANG;if(t._polyglot=a=new o.default({phrases:n(u),locale:u}),e&&e!==u)try{var s=n(e);a.extend(s),a.locale(e)}catch(t){console.warn('The dict phrases for "'+e+"\" can't be loaded")}if(r){var c=n(e,r);a.extend(c)}return a}},function(e,t,n){"use strict";function r(e){var t={};return s(e,function(e,n){s(e,function(e){t[e]=n})}),t}function o(e){var t=r(v);return t[e]||t[p.call(e,/-/,1)[0]]||t.en}function i(e,t){return b[o(e)](t)}function a(e,t,n){if("string"!=typeof e)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==t)return e;var r=e,o="number"==typeof t?{smart_count:t}:t;if(null!=o.smart_count&&r){var a=p.call(r,m);r=d(a[i(n||"en",o.smart_count)]||a[0])}return r=h.call(r,_,function(e,t){return l(o,t)&&null!=o[t]?h.call(o[t],y,g):e})}function u(e){var t=e||{};this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en";var n=t.allowMissing?a:null;this.onMissingKey="function"==typeof t.onMissingKey?t.onMissingKey:n,this.warn=t.warn||f}var s=n(520),c=n(22),l=n(191),d=n(523),f=function(e){c(!1,e)},h=String.prototype.replace,p=String.prototype.split,m="||||",b={arabic:function(e){return e<3?e:e%100>=3&&e%100<=10?3:e%100>=11?4:5},chinese:function(){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},v={arabic:["ar"],chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru","lt"],czech:["cs","sk"],polish:["pl"],icelandic:["is"]},y=/\$/g,g="$$",_=/%\{(.*?)\}/g;u.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},u.prototype.extend=function(e,t){s(e,function(e,n){var r=t?t+"."+n:n;"object"==typeof e?this.extend(e,r):this.phrases[r]=e},this)},u.prototype.unset=function(e,t){"string"==typeof e?delete this.phrases[e]:s(e,function(e,n){var r=t?t+"."+n:n;"object"==typeof e?this.unset(e,r):delete this.phrases[r]},this)},u.prototype.clear=function(){this.phrases={}},u.prototype.replace=function(e){this.clear(),this.extend(e)},u.prototype.t=function(e,t){var n,r,o=null==t?{}:t;if("string"==typeof this.phrases[e])n=this.phrases[e];else if("string"==typeof o._)n=o._;else if(this.onMissingKey){var i=this.onMissingKey;r=i(e,o,this.currentLocale)}else this.warn('Missing translation for key: "'+e+'"'),r=e;return"string"==typeof n&&(r=a(n,o,this.currentLocale)),r},u.prototype.has=function(e){return l(this.phrases,e)},u.transformPhrase=a,e.exports=u},function(e,t,n){function r(e,t,n){if(!u(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===s.call(e)?o(e,t,n):"string"==typeof e?i(e,t,n):a(e,t,n)}function o(e,t,n){for(var r=0,o=e.length;r<o;r++)c.call(e,r)&&t.call(n,e[r],r,e)}function i(e,t,n){for(var r=0,o=e.length;r<o;r++)t.call(n,e.charAt(r),r,e)}function a(e,t,n){for(var r in e)c.call(e,r)&&t.call(n,e[r],r,e)}var u=n(521);e.exports=r;var s=Object.prototype.toString,c=Object.prototype.hasOwnProperty},function(e,t){function n(e){var t=r.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}e.exports=n;var r=Object.prototype.toString},function(e,t,n){"use strict";var r=Array.prototype.slice,o=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==o.call(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n,i=r.call(arguments,1),a=function(){if(this instanceof n){var o=t.apply(this,i.concat(r.call(arguments)));return Object(o)===o?o:this}return t.apply(e,i.concat(r.call(arguments)))},u=Math.max(0,t.length-i.length),s=[],c=0;c<u;c++)s.push("$"+c);if(n=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(a),t.prototype){var l=function(){};l.prototype=t.prototype,n.prototype=new l,l.prototype=null}return n}},function(e,t,n){"use strict";var r=n(122),o=n(192),i=n(193),a=n(195),u=n(534),s=r.call(Function.call,a());o(s,{getPolyfill:a,implementation:i,shim:u}),e.exports=s},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=Array.prototype.slice,a=n(525),u=Object.prototype.propertyIsEnumerable,s=!u.call({toString:null},"toString"),c=u.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},f={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&r.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),p=function(e){if("undefined"==typeof window||!h)return d(e);try{return d(e)}catch(e){return!1}},m=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===o.call(e),i=a(e),u=t&&"[object String]"===o.call(e),d=[];if(!t&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var f=c&&n;if(u&&e.length>0&&!r.call(e,0))for(var h=0;h<e.length;++h)d.push(String(h));if(i&&e.length>0)for(var m=0;m<e.length;++m)d.push(String(m));else for(var b in e)f&&"prototype"===b||!r.call(e,b)||d.push(String(b));if(s)for(var v=p(e),y=0;y<l.length;++y)v&&"constructor"===l[y]||!r.call(e,l[y])||d.push(l[y]);return d};m.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var e=Object.keys;Object.keys=function(t){return e(a(t)?i.call(t):t)}}}else Object.keys=m;return Object.keys||m},e.exports=m},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,t,o){if("[object Function]"!==r.call(t))throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var a=0;a<i;a++)t.call(o,e[a],a,e);else for(var u in e)n.call(e,u)&&t.call(o,e[u],u,e)}},function(e,t,n){"use strict";var r=n(528),o=n(529),i=n(530),a=n(531),u=n(194),s=n(532),c=n(191),l={ToPrimitive:s,ToBoolean:function(e){return!!e},ToNumber:function(e){return Number(e)},ToInteger:function(e){var t=this.ToNumber(e);return r(t)?0:0!==t&&o(t)?i(t)*Math.floor(Math.abs(t)):t},ToInt32:function(e){return this.ToNumber(e)>>0},ToUint32:function(e){return this.ToNumber(e)>>>0},ToUint16:function(e){var t=this.ToNumber(e);if(r(t)||0===t||!o(t))return 0;var n=i(t)*Math.floor(Math.abs(t));return a(n,65536)},ToString:function(e){return String(e)},ToObject:function(e){return this.CheckObjectCoercible(e),Object(e)},CheckObjectCoercible:function(e,t){if(null==e)throw new TypeError(t||"Cannot call method on "+e);return e},IsCallable:u,SameValue:function(e,t){return e===t?0!==e||1/e==1/t:r(e)&&r(t)},Type:function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0},IsPropertyDescriptor:function(e){if("Object"!==this.Type(e))return!1;var t={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in e)if(c(e,n)&&!t[n])return!1;var r=c(e,"[[Value]]"),o=c(e,"[[Get]]")||c(e,"[[Set]]");if(r&&o)throw new TypeError("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(e){if(void 0===e)return!1;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");return!(!c(e,"[[Get]]")&&!c(e,"[[Set]]"))},IsDataDescriptor:function(e){if(void 0===e)return!1;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");return!(!c(e,"[[Value]]")&&!c(e,"[[Writable]]"))},IsGenericDescriptor:function(e){if(void 0===e)return!1;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");return!this.IsAccessorDescriptor(e)&&!this.IsDataDescriptor(e)},FromPropertyDescriptor:function(e){if(void 0===e)return e;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");if(this.IsDataDescriptor(e))return{value:e["[[Value]]"],writable:!!e["[[Writable]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};if(this.IsAccessorDescriptor(e))return{get:e["[[Get]]"],set:e["[[Set]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};throw new TypeError("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(e){if("Object"!==this.Type(e))throw new TypeError("ToPropertyDescriptor requires an object");var t={};if(c(e,"enumerable")&&(t["[[Enumerable]]"]=this.ToBoolean(e.enumerable)),c(e,"configurable")&&(t["[[Configurable]]"]=this.ToBoolean(e.configurable)),c(e,"value")&&(t["[[Value]]"]=e.value),c(e,"writable")&&(t["[[Writable]]"]=this.ToBoolean(e.writable)),c(e,"get")){var n=e.get;if(void 0!==n&&!this.IsCallable(n))throw new TypeError("getter must be a function");t["[[Get]]"]=n}if(c(e,"set")){var r=e.set;if(void 0!==r&&!this.IsCallable(r))throw new TypeError("setter must be a function");t["[[Set]]"]=r}if((c(t,"[[Get]]")||c(t,"[[Set]]"))&&(c(t,"[[Value]]")||c(t,"[[Writable]]")))throw new TypeError("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}};e.exports=l},function(e,t){e.exports=Number.isNaN||function(e){return e!==e}},function(e,t){var n=Number.isNaN||function(e){return e!==e};e.exports=Number.isFinite||function(e){return"number"==typeof e&&!n(e)&&e!==1/0&&e!==-1/0}},function(e,t){e.exports=function(e){return e>=0?1:-1}},function(e,t){e.exports=function(e,t){var n=e%t;return Math.floor(n>=0?n:n+t)}},function(e,t,n){"use strict";var r=Object.prototype.toString,o=n(533),i=n(194),a={"[[DefaultValue]]":function(e,t){var n=t||("[object Date]"===r.call(e)?String:Number);if(n===String||n===Number){var a,u,s=n===String?["toString","valueOf"]:["valueOf","toString"];for(u=0;u<s.length;++u)if(i(e[s[u]])&&(a=e[s[u]](),o(a)))return a;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}};e.exports=function(e,t){return o(e)?e:a["[[DefaultValue]]"](e,t)}},function(e,t){e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},function(e,t,n){"use strict";var r=n(192),o=n(195);e.exports=function(){var e=o();return r(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!==e}}),e}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.initFormat=void 0;var o=n(536),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=n(7);t.initFormat=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.DEFAULT_LANG,o=r({},t,n(201)("./"+t+"/index"));if(e&&e!==t)try{o[e]=n(201)("./"+e+"/index")}catch(t){console.warn('The "'+e+"\" locale isn't supported by date-fns")}return function(t,n){return(0,i.default)(t,n,{locale:o[e]})}}},function(e,t,n){function r(e,t,n){var r=t?String(t):"YYYY-MM-DDTHH:mm:ss.SSSZ",i=n||{},a=i.locale,u=h.format.formatters,s=h.format.formattingTokensRegExp;a&&a.format&&a.format.formatters&&(u=a.format.formatters,a.format.formattingTokensRegExp&&(s=a.format.formattingTokensRegExp));var c=d(e);return f(c)?o(r,u,s)(c):"Invalid Date"}function o(e,t,n){var r,o,a=e.match(n),u=a.length;for(r=0;r<u;r++)o=t[a[r]]||p[a[r]],a[r]=o||i(a[r]);return function(e){for(var t="",n=0;n<u;n++)a[n]instanceof Function?t+=a[n](e,p):t+=a[n];return t}}function i(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|]$/g,""):e.replace(/\\/g,"")}function a(e,t){t=t||"";var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;return n+u(o,2)+t+u(i,2)}function u(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return n}var s=n(537),c=n(541),l=n(197),d=n(42),f=n(544),h=n(198),p={M:function(e){return e.getMonth()+1},MM:function(e){return u(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return u(e.getDate(),2)},DDD:function(e){return s(e)},DDDD:function(e){return u(s(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return c(e)},WW:function(e){return u(c(e),2)},YY:function(e){return u(e.getFullYear(),4).substr(2)},YYYY:function(e){return u(e.getFullYear(),4)},GG:function(e){return String(l(e)).substr(2)},GGGG:function(e){return l(e)},H:function(e){return e.getHours()},HH:function(e){return u(e.getHours(),2)},h:function(e){var t=e.getHours();return 0===t?12:t>12?t%12:t},hh:function(e){return u(p.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return u(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return u(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return u(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return u(e.getMilliseconds(),3)},Z:function(e){return a(e.getTimezoneOffset(),":")},ZZ:function(e){return a(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};e.exports=r},function(e,t,n){function r(e){var t=o(e);return a(t,i(t))+1}var o=n(42),i=n(538),a=n(539);e.exports=r},function(e,t,n){function r(e){var t=o(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}var o=n(42);e.exports=r},function(e,t,n){function r(e,t){var n=o(e),r=o(t),u=n.getTime()-n.getTimezoneOffset()*i,s=r.getTime()-r.getTimezoneOffset()*i;return Math.round((u-s)/a)}var o=n(540),i=6e4,a=864e5;e.exports=r},function(e,t,n){function r(e){var t=o(e);return t.setHours(0,0,0,0),t}var o=n(42);e.exports=r},function(e,t,n){function r(e){var t=o(e),n=i(t).getTime()-a(t).getTime();return Math.round(n/u)+1}var o=n(42),i=n(123),a=n(543),u=6048e5;e.exports=r},function(e,t,n){function r(e,t){var n=t?Number(t.weekStartsOn)||0:0,r=o(e),i=r.getDay(),a=(i<n?7:0)+i-n;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}var o=n(42);e.exports=r},function(e,t,n){function r(e){var t=o(e),n=new Date(0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),i(n)}var o=n(197),i=n(123);e.exports=r},function(e,t,n){function r(e){if(o(e))return!isNaN(e);throw new TypeError(toString.call(e)+" is not an instance of Date")}var o=n(196);e.exports=r},function(e,t,n){var r=n(202),o=n(203);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(204),o=n(205);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(206),o=n(207);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(208),o=n(209);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(210),o=n(211);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(212),o=n(213);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(214),o=n(215);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(216),o=n(217);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(218),o=n(219);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(220),o=n(221);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(222),o=n(223);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(224),o=n(225);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(226),o=n(227);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(228),o=n(229);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(230),o=n(231);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(232),o=n(233);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(234),o=n(235);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(236),o=n(237);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(238),o=n(239);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(240),o=n(241);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(242),o=n(243);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(244),o=n(245);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(246),o=n(247);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(248),o=n(249);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(250),o=n(251);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(252),o=n(253);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(254),o=n(255);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(256),o=n(257);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(258),o=n(259);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(260),o=n(261);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(262),o=n(263);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(264),o=n(265);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){var r=n(266),o=n(267);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),o=n(43),i=n(579),a=function(e){return e&&e.__esModule?e:{default:e}}(i),u=function(e){return{selected:(0,o.getSelectedIds)(e)}},s=function(e){return{hideSelectionBar:function(){return e((0,o.hideSelectionBar)())}}};t.default=(0,r.connect)(u,s)(a.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=r(o),a=(n(28),n(13)),u=r(a),s=n(7),c=n(3),l=(r(c),n(580)),d=r(l),f=function(e){var t=e.t,n=e.actions,r=e.selected,o=e.hideSelectionBar,a=r.length,u=Object.keys(n).filter(function(e){var t=n[e];return void 0===t.displayCondition||t.displayCondition(r)});return i.default.createElement("div",{className:d.default["coz-selectionbar"],role:"toolbar"},i.default.createElement("span",{className:d.default["coz-selectionbar-count"]},a,i.default.createElement("span",null," ",t("SelectionBar.selected_count",{smart_count:a}))),i.default.createElement("span",{className:d.default["coz-selectionbar-separator"]}),u.map(function(e){return i.default.createElement("button",{className:d.default["coz-action-"+e.toLowerCase()],disabled:a<1,onClick:function(){return n[e].action(r)}},t("SelectionBar."+e))}),i.default.createElement("button",{className:d.default["coz-action-close"],onClick:o},t("SelectionBar.close")))};f.propTypes={t:u.default.func.isRequired,actions:u.default.object.isRequired,selected:u.default.array.isRequired,hideSelectionBar:u.default.func.isRequired},t.default=(0,s.translate)()(f)},function(e,t){e.exports={"c-btn":"c-btn--2GSCU","c-btn--regular":"c-btn--regular--33TT8","c-btn--secondary":"c-btn--secondary--3SPGV","c-btn--danger":"c-btn--danger--34syx","c-btn--danger-outline":"c-btn--danger-outline--ZQ5-r","c-btn--highlight":"c-btn--highlight--1t-tf","c-btn-client":"c-btn-client--2eeAL","c-btn-client-mobile":"c-btn-client-mobile--p5VFy",spin:"spin--3B5FM","c-btn--share":"c-btn--share--3ZKpU","c-btn--send":"c-btn--send--3CFNt","c-btn--download":"c-btn--download--16Cti","c-btn--upload":"c-btn--upload--2jkvd","c-btn--delete":"c-btn--delete--1Tc9M","c-link--upload":"c-link--upload--qNEV7","c-link--delete":"c-link--delete--1jtPx","c-btn--more":"c-btn--more--1tkAf","c-btn-extra":"c-btn-extra--2l02h","c-btn-extra--white":"c-btn-extra--white--3-m6i","c-btn--close":"c-btn--close--1OAxN","c-btn-alert":"c-btn-alert--S6dtZ","c-btn-alert--error":"c-btn-alert--error--49DrF","c-btn-alert--info":"c-btn-alert--info--1boJA","c-btn-alert--success":"c-btn-alert--success--3pjvx","coz-selectionbar":"coz-selectionbar--3yrJ2","coz-selectionbar-separator":"coz-selectionbar-separator--1OsBZ","coz-action-share":"coz-action-share--1Li7V","coz-action-download":"coz-action-download--26xrI","coz-action-trash":"coz-action-trash--8LEkK","coz-action-destroy":"coz-action-destroy--3CSas","coz-action-delete":"coz-action-delete--2ill7","coz-action-openwith":"coz-action-openwith--XZwJ0","coz-action-moveto":"coz-action-moveto--1Xp42","coz-action-rename":"coz-action-rename--2ULWU","coz-action-restore":"coz-action-restore--3UQj2","coz-action-album-add":"coz-action-album-add--DPpLG","coz-action-album-remove":"coz-action-album-remove--oeOdP","coz-action-extra":"coz-action-extra--2g1QP","coz-action-close":"coz-action-close--2izmT","coz-selectionbar-count":"coz-selectionbar-count--1A18n"}},function(e,t){e.exports={"c-btn":"c-btn--3dGDP","c-btn--regular":"c-btn--regular--G3WLz","c-btn--secondary":"c-btn--secondary--1X_vA","c-btn--danger":"c-btn--danger--13-cj","c-btn--danger-outline":"c-btn--danger-outline--ivfG-","c-btn--highlight":"c-btn--highlight--2HodS","c-btn-client":"c-btn-client--3kZll","c-btn-client-mobile":"c-btn-client-mobile--3jFjb",spin:"spin--17C30","c-btn--share":"c-btn--share--27gB6","c-btn--send":"c-btn--send--1Jabl","c-btn--download":"c-btn--download--uohlQ","c-btn--upload":"c-btn--upload--hQd2E","c-btn--delete":"c-btn--delete--IA5Di","c-link--upload":"c-link--upload--2c1ko","c-link--delete":"c-link--delete--2ACUc","c-btn--more":"c-btn--more--3PYtp","c-btn-extra":"c-btn-extra--2JEpI","c-btn-extra--white":"c-btn-extra--white--2WA2q","c-btn--close":"c-btn--close--21WOn","c-btn-alert":"c-btn-alert--RlyBZ","c-btn-alert--error":"c-btn-alert--error--3Khqf","c-btn-alert--info":"c-btn-alert--info--2K8dh","c-btn-alert--success":"c-btn-alert--success--1t6xl","coz-sidebar":"coz-sidebar--1sW6j","o-sidebar":"o-sidebar--2jjcz","pho-alerter":"pho-alerter--Shzlc","coz-alert":"coz-alert--2jZpB","coz-alert-title":"coz-alert-title--3ROey","coz-alert--hidden":"coz-alert--hidden--10L_p","coz-alert--error":"coz-alert--error--M3tNk","coz-alert--success":"coz-alert--success--2QaiB","coz-alert--info":"coz-alert--info--1a4Kf","c-nav":"c-nav--1zi9v","c-nav-item":"c-nav-item--4WOMW","c-nav-link":"c-nav-link--1KyuQ",active:"active--NMsZC","is-active":"is-active--3sCXe","coz-nav-item":"coz-nav-item--2x1Uh","coz-hidden":"coz-hidden--29mFW","u-visuallyhidden":"u-visuallyhidden--3Y0DA","u-hide":"u-hide--SfbOL","coz-desktop":"coz-desktop--2aM3R","u-hide--mob":"u-hide--mob--1oxSH","coz-mobile":"coz-mobile--3f30v","u-hide--desk":"u-hide--desk--3dBHk","u-p-1":"u-p-1--2iUSZ","u-pt-1":"u-pt-1--3j6wR","u-pb-1":"u-pb-1--2jIz3","u-pl-1":"u-pl-1--3cCOj","u-pr-1":"u-pr-1--3PA46","u-p-2":"u-p-2--4q5jH","u-pt-2":"u-pt-2--2iwol","u-pb-2":"u-pb-2--glbBO","u-pl-2":"u-pl-2--1BqF5","u-pr-2":"u-pr-2--14xWR","u-p-3":"u-p-3--OboVh","u-pt-3":"u-pt-3--oyae9","u-pb-3":"u-pb-3--3cDKx","u-pl-3":"u-pl-3--2UsLY","u-pr-3":"u-pr-3--3rUQu","u-p-half":"u-p-half--hc4WO","u-pt-half":"u-pt-half--30WeT","u-pb-half":"u-pb-half--Hg96e","u-pl-half":"u-pl-half--N9tLv","u-pr-half":"u-pr-half--22GXp","u-p-1-half":"u-p-1-half--1dBPo","u-pt-1-half":"u-pt-1-half--1p77Y","u-pb-1-half":"u-pb-1-half--CkLi7","u-pl-1-half":"u-pl-1-half--10U9j","u-pr-1-half":"u-pr-1-half--2MDEc","u-p-2-half":"u-p-2-half--2KvsD","u-pt-2-half":"u-pt-2-half--2qDGP","u-pb-2-half":"u-pb-2-half--2N5Sl","u-pl-2-half":"u-pl-2-half--1H1G1","u-pr-2-half":"u-pr-2-half--3QFaQ","u-m-1":"u-m-1--3K0WD","u-mt-1":"u-mt-1--3qAww","u-mb-1":"u-mb-1--1pDkX","u-ml-1":"u-ml-1--2F4VR","u-mr-1":"u-mr-1--FLySk","u-m-2":"u-m-2--1lzrD","u-mt-2":"u-mt-2--2NO9x","u-mb-2":"u-mb-2--1bUHm","u-ml-2":"u-ml-2--2J6-F","u-mr-2":"u-mr-2--2Jd7j","u-m-3":"u-m-3--2ibAc","u-mt-3":"u-mt-3--utaKN","u-mb-3":"u-mb-3--2LoHS","u-ml-3":"u-ml-3--3N0ML","u-mr-3":"u-mr-3--1xSx1","u-m-half":"u-m-half--3cGZM","u-mt-half":"u-mt-half--3MSyq","u-mb-half":"u-mb-half--107xu","u-ml-half":"u-ml-half--3aiWS","u-mr-half":"u-mr-half--1r8D9","u-m-1-half":"u-m-1-half--2EhWb","u-mt-1-half":"u-mt-1-half--3xv2n","u-mb-1-half":"u-mb-1-half--2mCXs","u-ml-1-half":"u-ml-1-half--2R52Z","u-mr-1-half":"u-mr-1-half--2TcKv","u-m-2-half":"u-m-2-half--23TAy","u-mt-2-half":"u-mt-2-half--k64Fq","u-mb-2-half":"u-mb-2-half--ldVQ4","u-ml-2-half":"u-ml-2-half--2igED","u-mr-2-half":"u-mr-2-half--21mEZ","coz-error":"coz-error--3kNbz","u-error":"u-error--15ihN","coz-error--warning":"coz-error--warning--2B9TW","u-error--warning":"u-error--warning--2loiF","u-valid":"u-valid--3ewlf","u-warn":"u-warn--uy0-r","coz-overlay":"coz-overlay--3wtDc"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),d=n(3),f=r(d),h=n(28),p=n(7),m=n(583),b=r(m),v=n(81),y=function(e){var t=e.lastIndexOf(".")-1>>>0;return{extension:e.slice(t+1),filename:e.slice(0,t+1)}},g=(0,p.translate)()(function(e){return l.default.createElement("span",{className:b.default["item-pending"]},e.t("UploadQueue.item.pending"))}),_=(0,p.translate)()(function(e){var t,n=(e.t,e.file),r=e.status,o=y(n),i=o.filename,a=o.extension;return l.default.createElement("div",{className:(0,f.default)(b.default["upload-queue-item"],(t={},u(t,b.default["upload-queue-item--done"],"loaded"===r),u(t,b.default["upload-queue-item--error"],"failed"===r||"conflict"===r),t))},l.default.createElement("div",{className:(0,f.default)(b.default["item-cell"],b.default["item-file"],b.default["item-image"])},l.default.createElement("div",null,i,a&&l.default.createElement("span",{className:b.default["item-ext"]},a))),l.default.createElement("div",{className:b.default["item-status"]},"pending"===r?l.default.createElement(g,null):l.default.createElement("div",{className:b.default["item-"+r]})))}),w=(0,p.translate)()(function(e){var t=e.t,n=e.total,r=e.done;return l.default.createElement("div",{className:b.default["upload-queue-header-inner"]},l.default.createElement("span",{className:"coz-desktop"},t("UploadQueue.header",{smart_count:n})),l.default.createElement("span",{className:b.default["u-hide--desk"]},t("UploadQueue.header_mobile",{done:r,total:n})))}),k=(0,p.translate)()(function(e){var t=e.t,n=e.total,r=e.successful,o=e.onClose;return l.default.createElement("div",{className:b.default["upload-queue-header-inner"]},l.default.createElement("span",null,t("UploadQueue.header_done",{done:r,total:n})),l.default.createElement("button",{className:(0,f.default)(b.default["btn-close"]),onClick:o},t("UploadQueue.close")))}),S=function(e){function t(){var e,n,r,a;o(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={collapsed:!1},r.toggleCollapsed=function(){r.setState(function(e){return{collapsed:!e.collapsed}})},a=n,i(r,a)}return a(t,e),s(t,[{key:"render",value:function(){var e,t=this.props,n=t.queue,r=t.doneCount,o=t.successCount,i=t.purgeQueue,a=this.state.collapsed;return l.default.createElement("div",{className:(0,f.default)(b.default["upload-queue"],(e={},u(e,b.default["upload-queue--visible"],0!==n.length),u(e,b.default["upload-queue--collapsed"],a),e))},l.default.createElement("h4",{className:b.default["upload-queue-header"],onDoubleClick:this.toggleCollapsed},r<n.length?l.default.createElement(w,{total:n.length,done:r}):l.default.createElement(k,{total:n.length,successful:o,onClose:i})),l.default.createElement("progress",{className:b.default["upload-queue-progress"],value:r,max:n.length}),l.default.createElement("div",{className:b.default["upload-queue-content"]},l.default.createElement("div",{className:b.default["upload-queue-list"]},n.map(function(e){return l.default.createElement(_,{file:e.file.name,status:e.status})}))))}}]),t}(c.Component),E=function(e,t){return{queue:(0,v.getUploadQueue)(e),doneCount:(0,v.getProcessed)(e).length,successCount:(0,v.getSuccessful)(e).length}},x=function(e,t){return{purgeQueue:function(){return e((0,v.purgeUploadQueue)())}}};t.default=(0,p.translate)()((0,h.connect)(E,x)(S))},function(e,t){e.exports={"c-btn":"c-btn--gKVMS","c-btn--regular":"c-btn--regular--2LFQ2","c-btn--secondary":"c-btn--secondary--13jUq","c-btn--danger":"c-btn--danger--1y1th","c-btn--danger-outline":"c-btn--danger-outline--1vlKi","c-btn--highlight":"c-btn--highlight--3TqxQ","c-btn-client":"c-btn-client--2_BWF","c-btn-client-mobile":"c-btn-client-mobile--2vzKe","upload-queue-item":"upload-queue-item--2oTRx","item-loading":"item-loading--3zXS_","item-canceled":"item-canceled--25dz7","item-failed":"item-failed--2gSpf","item-conflict":"item-conflict--3W-P5","item-loaded":"item-loaded--R-Ktt",spin:"spin--3291m","c-btn--share":"c-btn--share--3qcoI","c-btn--send":"c-btn--send--24NuQ","c-btn--download":"c-btn--download--nzQhq","c-btn--upload":"c-btn--upload--1bxBs","c-btn--delete":"c-btn--delete--3g2Y9","c-link--upload":"c-link--upload--1EKgL","c-link--delete":"c-link--delete--1HeN7","c-btn--more":"c-btn--more--1CdfT","c-btn-extra":"c-btn-extra--2N1ja","c-btn-extra--white":"c-btn-extra--white--1xXDd","c-btn--close":"c-btn--close--3cs2p","c-btn-alert":"c-btn-alert--25yxi","c-btn-alert--error":"c-btn-alert--error--1hcvM","c-btn-alert--info":"c-btn-alert--info--3h6Ep","c-btn-alert--success":"c-btn-alert--success--2KBjf","coz-sidebar":"coz-sidebar--39kHy","o-sidebar":"o-sidebar--mBtXt","upload-queue":"upload-queue--2RXFj","c-nav":"c-nav--3h9Ld","c-nav-item":"c-nav-item--1RqI3","c-nav-link":"c-nav-link--1sd9g",active:"active--202ld","is-active":"is-active--2fp1J","coz-nav-item":"coz-nav-item--Evoft","coz-hidden":"coz-hidden--3-zqw","u-visuallyhidden":"u-visuallyhidden--29ypl","u-hide":"u-hide--3ImCu","coz-desktop":"coz-desktop--HOnbH","u-hide--mob":"u-hide--mob--1gPiY","coz-mobile":"coz-mobile--2iFxR","u-hide--desk":"u-hide--desk--2F6PV","u-p-1":"u-p-1--29iOI","u-pt-1":"u-pt-1--2e9B6","u-pb-1":"u-pb-1--dIIjl","u-pl-1":"u-pl-1--2sMSx","u-pr-1":"u-pr-1--gLl6C","u-p-2":"u-p-2--2t8Mo","u-pt-2":"u-pt-2--2rLGd","u-pb-2":"u-pb-2--2cqFq","u-pl-2":"u-pl-2--AI-x8","u-pr-2":"u-pr-2--2tvjg","u-p-3":"u-p-3--5ERpC","u-pt-3":"u-pt-3--1hxHQ","u-pb-3":"u-pb-3--2m99G","u-pl-3":"u-pl-3--233M4","u-pr-3":"u-pr-3--2gdfj","u-p-half":"u-p-half--3_nIB","u-pt-half":"u-pt-half--2l7II","u-pb-half":"u-pb-half--1Bzzx","u-pl-half":"u-pl-half--3uHYS","u-pr-half":"u-pr-half--Er0yz","u-p-1-half":"u-p-1-half--2-2t0","u-pt-1-half":"u-pt-1-half--2DK6_","u-pb-1-half":"u-pb-1-half--OHV4s","u-pl-1-half":"u-pl-1-half--40wCf","u-pr-1-half":"u-pr-1-half--13Hvm","u-p-2-half":"u-p-2-half--3846l","u-pt-2-half":"u-pt-2-half--zOz4q","u-pb-2-half":"u-pb-2-half--CzPuA","u-pl-2-half":"u-pl-2-half--kRE2y","u-pr-2-half":"u-pr-2-half--29qHE","u-m-1":"u-m-1--2aPyX","u-mt-1":"u-mt-1--2XHGJ","u-mb-1":"u-mb-1--1eT5o","u-ml-1":"u-ml-1--1TCIB","u-mr-1":"u-mr-1--37mue","u-m-2":"u-m-2--1IN70","u-mt-2":"u-mt-2--XKBYB","u-mb-2":"u-mb-2--13R5v","u-ml-2":"u-ml-2--3VWb8","u-mr-2":"u-mr-2--3epIA","u-m-3":"u-m-3--Ah5kT","u-mt-3":"u-mt-3--29Pfb","u-mb-3":"u-mb-3--1YK8A","u-ml-3":"u-ml-3--ObRAt","u-mr-3":"u-mr-3--3Kqcl","u-m-half":"u-m-half--2T_jm","u-mt-half":"u-mt-half--1NST0","u-mb-half":"u-mb-half--FaY5-","u-ml-half":"u-ml-half--2tl0Z","u-mr-half":"u-mr-half--33eAj","u-m-1-half":"u-m-1-half--feXos","u-mt-1-half":"u-mt-1-half--3eNob","u-mb-1-half":"u-mb-1-half--1grlf","u-ml-1-half":"u-ml-1-half--5IoJw","u-mr-1-half":"u-mr-1-half--2rSEe","u-m-2-half":"u-m-2-half--2ta8N","u-mt-2-half":"u-mt-2-half--2eXpq","u-mb-2-half":"u-mb-2-half--qp3jf","u-ml-2-half":"u-ml-2-half--3GoEA","u-mr-2-half":"u-mr-2-half--3ybBi","coz-error":"coz-error--11biv","u-error":"u-error--3Ll3L","coz-error--warning":"coz-error--warning--2_1qU","u-error--warning":"u-error--warning--1f71l","u-valid":"u-valid--qEcxV","u-warn":"u-warn--3QFMm","upload-queue--visible":"upload-queue--visible--frmGj","upload-queue-header":"upload-queue-header--Vz871","upload-queue-header-inner":"upload-queue-header-inner--1AQpy","btn-close":"btn-close--32K_q","upload-queue-progress":"upload-queue-progress--2O2Rw","upload-queue-content":"upload-queue-content--UNBUz","upload-queue--collapsed":"upload-queue--collapsed--nIVVP","upload-queue-list":"upload-queue-list--2dzTR","upload-queue-item--error":"upload-queue-item--error--3UNkr","upload-queue-item--done":"upload-queue-item--done--23Ps1","item-cell":"item-cell--1mZJx","item-file":"item-file--24emt","item-ext":"item-ext--3vgYK","item-image":"item-image--wp0ZG","item-status":"item-status--2Azg6","item-pending":"item-pending--wp4pw"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mapDispatchToProps=t.Toolbar=void 0;var o=n(124),i=r(o),a=n(0),u=r(a),s=n(28),c=n(19),l=n(7),d=n(585),f=r(d),h=n(68),p=r(h),m=n(83),b=n(43),v=n(81),y=n(82),g=t.Toolbar=function(e){var t=e.t,n=e.disabled,r=void 0!==n&&n,o=e.uploadPhotos,a=(e.deleteAlbum,e.selectItems);e.params;return u.default.createElement("div",{className:i.default["pho-toolbar"],role:"toolbar"},u.default.createElement(f.default,{className:i.default["u-hide--mob"],onUpload:o,disabled:r,label:t("Toolbar.photo_upload")}),u.default.createElement(p.default,{disabled:r,className:i.default["pho-toolbar-menu"],button:u.default.createElement(m.MoreButton,null)},u.default.createElement(h.Item,null,u.default.createElement(f.default,{onUpload:o,disabled:r,label:t("Toolbar.menu.photo_upload"),type:"menu-item",className:i.default["u-hide--desk"]})),u.default.createElement("hr",{className:i.default["u-hide--desk"]}),u.default.createElement(h.Item,null,u.default.createElement("a",{className:i.default["pho-action-select"],onClick:a},t("Toolbar.menu.select_items")))))},_=function(e,t){return{disabled:(0,b.isSelectionBarVisible)(e)}},w=t.mapDispatchToProps=function(e,t){return{selectItems:function(){return e((0,b.showSelectionBar)())},uploadPhotos:function(n){return e((0,v.addToUploadQueue)(n,function(e){return(0,y.uploadPhoto)(e,t.t("UploadQueue.path"))}))}}};t.default=(0,c.withRouter)((0,l.translate)()((0,s.connect)(_,w)(g)))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UploadButton=void 0;var o=n(0),i=r(o),a=n(7),u=n(3),s=r(u),c=n(586),l=r(c),d={parent:{position:"relative",overflow:"hidden"},input:{position:"absolute",top:0,left:0,opacity:0,width:"100%",height:"100%",zIndex:1}},f=t.UploadButton=function(e){var t=(e.t,e.label),n=e.type,r=void 0===n?"button":n,o=e.disabled,a=e.onUpload,u=e.className,c=void 0===u?"":u;return i.default.createElement("label",{role:"button",disabled:o,className:c+" "+("menu-item"===r?l.default["c-link--upload"]:(0,s.default)(l.default["c-btn"],l.default["c-btn--regular"],l.default["c-btn--upload"])),style:d.parent},t,i.default.createElement("input",{type:"file",accept:"image/*",multiple:!0,disabled:o,style:d.input,onChange:function(e){var t=Array.from(e.target.files);a(t)}}))};t.default=(0,a.translate)()(f)},function(e,t){e.exports={"c-btn":"c-btn--1rZpg","c-btn--regular":"c-btn--regular--nMx9W","c-btn--secondary":"c-btn--secondary--1lgY6","c-btn--danger":"c-btn--danger--3rUtv","c-btn--danger-outline":"c-btn--danger-outline--309E-","c-btn--highlight":"c-btn--highlight--3yiK_","c-btn-client":"c-btn-client--LOmEr","c-btn-client-mobile":"c-btn-client-mobile--1nVgY",spin:"spin--vcqIU","c-btn--share":"c-btn--share--2MKKl","c-btn--send":"c-btn--send--c1iSe","c-btn--download":"c-btn--download--c5_7O","c-btn--upload":"c-btn--upload--sQV6a","c-btn--delete":"c-btn--delete--15sVz","c-link--upload":"c-link--upload--1qyYI","c-link--delete":"c-link--delete--3vniQ","c-btn--more":"c-btn--more--1cR-Z","c-btn-extra":"c-btn-extra--bgNaG","c-btn-extra--white":"c-btn-extra--white--1kulC","c-btn--close":"c-btn--close--2iAr0","c-btn-alert":"c-btn-alert--2BTjq","c-btn-alert--error":"c-btn-alert--error--26U2d","c-btn-alert--info":"c-btn-alert--info--2uBHX","c-btn-alert--success":"c-btn-alert--success--30cgR"}},function(e,t){e.exports={"c-btn":"c-btn--1a2fu","c-btn--regular":"c-btn--regular--1KK17","c-btn--secondary":"c-btn--secondary--1Rtj1","c-btn--danger":"c-btn--danger--13RWV","c-btn--danger-outline":"c-btn--danger-outline--2oemX","c-btn--highlight":"c-btn--highlight--RCSlW","c-btn-client":"c-btn-client--2ad3o","c-btn-client-mobile":"c-btn-client-mobile--3cEGF",spin:"spin--dWrqX","c-btn--share":"c-btn--share--1pjPE","c-btn--send":"c-btn--send--1-ywO","c-btn--download":"c-btn--download--3yMuo","c-btn--upload":"c-btn--upload--1ZZQV","c-btn--delete":"c-btn--delete--223Xj","c-link--upload":"c-link--upload--2aMPO","c-link--delete":"c-link--delete--1vAUG","c-btn--more":"c-btn--more--3yWOi","c-btn-extra":"c-btn-extra--2WVpr","c-btn-extra--white":"c-btn-extra--white--y-7g-","c-btn--close":"c-btn--close--34s19","c-btn-alert":"c-btn-alert--2ULGP","c-btn-alert--error":"c-btn-alert--error--REX4M","c-btn-alert--info":"c-btn-alert--info--qAnE-","c-btn-alert--success":"c-btn-alert--success--3wHXN","coz-sidebar":"coz-sidebar--azXn0","o-sidebar":"o-sidebar--kRtPq","coz-menu-inner":"coz-menu-inner--1HCUw","c-nav":"c-nav--1Umiu","c-nav-item":"c-nav-item--wMrnf","c-nav-link":"c-nav-link--fHpM-",active:"active--3RLJ1","is-active":"is-active--2qrFh","coz-nav-item":"coz-nav-item--30T61","coz-hidden":"coz-hidden--1P2Z9","u-visuallyhidden":"u-visuallyhidden--2MrYh","u-hide":"u-hide--XiPRb","coz-desktop":"coz-desktop--255Jw","u-hide--mob":"u-hide--mob--1D0RJ","coz-mobile":"coz-mobile--18taV","u-hide--desk":"u-hide--desk--3M5dY","u-p-1":"u-p-1--1KZqW","u-pt-1":"u-pt-1--1NabW","u-pb-1":"u-pb-1--2EU6P","u-pl-1":"u-pl-1--tKhtn","u-pr-1":"u-pr-1--3YUpT","u-p-2":"u-p-2--2AIg8","u-pt-2":"u-pt-2--ctdlk","u-pb-2":"u-pb-2--3tsug","u-pl-2":"u-pl-2--2DO1i","u-pr-2":"u-pr-2--1cWi1","u-p-3":"u-p-3--3UiY3","u-pt-3":"u-pt-3--JMf_t","u-pb-3":"u-pb-3--wum-J","u-pl-3":"u-pl-3--1b_Jc","u-pr-3":"u-pr-3--36KYp","u-p-half":"u-p-half--JapSM","u-pt-half":"u-pt-half--1gzbO","u-pb-half":"u-pb-half--2T53N","u-pl-half":"u-pl-half--2g-Zn","u-pr-half":"u-pr-half--3pbvD","u-p-1-half":"u-p-1-half--3tfTJ","u-pt-1-half":"u-pt-1-half--1CUes","u-pb-1-half":"u-pb-1-half--24-eo","u-pl-1-half":"u-pl-1-half--3_dEh","u-pr-1-half":"u-pr-1-half--3czKx","u-p-2-half":"u-p-2-half--120X8","u-pt-2-half":"u-pt-2-half--31w1R","u-pb-2-half":"u-pb-2-half--2lVF3","u-pl-2-half":"u-pl-2-half--3_0YH","u-pr-2-half":"u-pr-2-half--3Kpf1","u-m-1":"u-m-1--3JWEE","u-mt-1":"u-mt-1--qPTzR","u-mb-1":"u-mb-1--3Y-uO","u-ml-1":"u-ml-1--da1md","u-mr-1":"u-mr-1--2pizh","u-m-2":"u-m-2--3T60p","u-mt-2":"u-mt-2--3PIp3","u-mb-2":"u-mb-2--At9OA","u-ml-2":"u-ml-2--26OmG","u-mr-2":"u-mr-2--2YKM1","u-m-3":"u-m-3--2Ry1K","u-mt-3":"u-mt-3--2hKnL","u-mb-3":"u-mb-3--3EiI7","u-ml-3":"u-ml-3--1T9A4","u-mr-3":"u-mr-3--2e0km","u-m-half":"u-m-half--tZcUE","u-mt-half":"u-mt-half--KyTM1","u-mb-half":"u-mb-half--3xYwe","u-ml-half":"u-ml-half--2tzks","u-mr-half":"u-mr-half--1i9cj","u-m-1-half":"u-m-1-half--3Jrlq","u-mt-1-half":"u-mt-1-half--24wcK","u-mb-1-half":"u-mb-1-half--2VP61","u-ml-1-half":"u-ml-1-half--2ZNU_","u-mr-1-half":"u-mr-1-half--2lDvl","u-m-2-half":"u-m-2-half--1LAqi","u-mt-2-half":"u-mt-2-half--2vOTL","u-mb-2-half":"u-mb-2-half--1Be77","u-ml-2-half":"u-ml-2-half--fB5SX","u-mr-2-half":"u-mr-2-half--3ec0l","coz-error":"coz-error--394fv","u-error":"u-error--1tCVn","coz-error--warning":"coz-error--warning--2FDIn","u-error--warning":"u-error--warning--lH9rG","u-valid":"u-valid--1jCjD","u-warn":"u-warn--2k51o","coz-menu":"coz-menu--2DvlI","coz-menu-inner--opened":"coz-menu-inner--opened--1fdzR","coz-menu-item":"coz-menu-item--2MxiQ"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=r(o),a=n(3),u=r(a),s=n(7),c=n(589),l=r(c),d=function(e){var t=e.t,n=e.disabled,r=e.onClick;return i.default.createElement("button",{role:"button",className:(0,u.default)(l.default["c-btn"],l.default["c-btn--secondary"],l.default["c-btn--more"],l.default["dri-btn--more"]),disabled:n,onClick:r},i.default.createElement("span",{className:l.default["u-visuallyhidden"]},t("Toolbar.more")))};t.default=(0,s.translate)()(d)},function(e,t){e.exports={"c-btn":"c-btn--3SqR6","c-btn--regular":"c-btn--regular--26hUf","c-btn--secondary":"c-btn--secondary--2ZcmB","c-btn--danger":"c-btn--danger--2oj_2","c-btn--danger-outline":"c-btn--danger-outline--3YQfn","c-btn--highlight":"c-btn--highlight--2moZv","c-btn-client":"c-btn-client--19HQi","c-btn-client-mobile":"c-btn-client-mobile--1WRpM",spin:"spin--3tXLg","c-btn--share":"c-btn--share--2AyEx","c-btn--send":"c-btn--send--HWIuh","c-btn--download":"c-btn--download--18g9F","c-btn--upload":"c-btn--upload--RbCq6","c-btn--delete":"c-btn--delete--3DPjH","c-link--upload":"c-link--upload--324vv","c-link--delete":"c-link--delete--33RWA","c-btn--more":"c-btn--more--wW_hi","c-btn-extra":"c-btn-extra--1TocU","c-btn-extra--white":"c-btn-extra--white--2ZHdo","c-btn--close":"c-btn--close--3POpB","c-btn-alert":"c-btn-alert--3VCwX","c-btn-alert--error":"c-btn-alert--error--1fkMN","c-btn-alert--info":"c-btn-alert--info--dlQUW","c-btn-alert--success":"c-btn-alert--success--1kJtm","coz-sidebar":"coz-sidebar--MWzLx","o-sidebar":"o-sidebar--1BVgx","c-nav":"c-nav--2fy_l","c-nav-item":"c-nav-item--3Bh2L","c-nav-link":"c-nav-link--1BHRh",active:"active--3ZatV","is-active":"is-active--1KzTp","coz-nav-item":"coz-nav-item--3WwOG","coz-hidden":"coz-hidden--37nxT","u-visuallyhidden":"u-visuallyhidden--1L4hk","u-hide":"u-hide--3Td-s","coz-desktop":"coz-desktop--2U1Vv","u-hide--mob":"u-hide--mob--1dWaL","coz-mobile":"coz-mobile--2UOyW","u-hide--desk":"u-hide--desk--1MPRK","u-p-1":"u-p-1--3PlU4","u-pt-1":"u-pt-1--1iWQ2","u-pb-1":"u-pb-1--3bTIv","u-pl-1":"u-pl-1--1qkpn","u-pr-1":"u-pr-1--1dh-n","u-p-2":"u-p-2--2NhmB","u-pt-2":"u-pt-2--3AM9m","u-pb-2":"u-pb-2--XivUl","u-pl-2":"u-pl-2--3gnGB","u-pr-2":"u-pr-2--KM99N","u-p-3":"u-p-3--2UbfW","u-pt-3":"u-pt-3--1cVei","u-pb-3":"u-pb-3--15RVo","u-pl-3":"u-pl-3--2yM5Q","u-pr-3":"u-pr-3--FcDLm","u-p-half":"u-p-half--3mVto","u-pt-half":"u-pt-half--3iAZl","u-pb-half":"u-pb-half--1Z1Q9","u-pl-half":"u-pl-half--1Bgdj","u-pr-half":"u-pr-half--17355","u-p-1-half":"u-p-1-half--1Ayvi","u-pt-1-half":"u-pt-1-half--1zeVK","u-pb-1-half":"u-pb-1-half--3MZ6n","u-pl-1-half":"u-pl-1-half--3mxKb","u-pr-1-half":"u-pr-1-half--302TF","u-p-2-half":"u-p-2-half--3p5oa","u-pt-2-half":"u-pt-2-half--1dC8C","u-pb-2-half":"u-pb-2-half--2P2o8","u-pl-2-half":"u-pl-2-half--1S0BG","u-pr-2-half":"u-pr-2-half--3CZDi","u-m-1":"u-m-1--2j29M","u-mt-1":"u-mt-1--3Nev1","u-mb-1":"u-mb-1--1W_iL","u-ml-1":"u-ml-1--2F_O0","u-mr-1":"u-mr-1--60UhK","u-m-2":"u-m-2--2k4hs","u-mt-2":"u-mt-2--24lT0","u-mb-2":"u-mb-2--Insh3","u-ml-2":"u-ml-2--3lb4G","u-mr-2":"u-mr-2--1qwQr","u-m-3":"u-m-3--1HaFL","u-mt-3":"u-mt-3--96uj0","u-mb-3":"u-mb-3--3jLhK","u-ml-3":"u-ml-3--20ssV","u-mr-3":"u-mr-3--3_q9U","u-m-half":"u-m-half--3YdHw","u-mt-half":"u-mt-half--2qeHv","u-mb-half":"u-mb-half--2mPpC","u-ml-half":"u-ml-half--3nG3V","u-mr-half":"u-mr-half--xiW8i","u-m-1-half":"u-m-1-half--1UY6M","u-mt-1-half":"u-mt-1-half--3bRnY","u-mb-1-half":"u-mb-1-half--2fXwA","u-ml-1-half":"u-ml-1-half--QD9r5","u-mr-1-half":"u-mr-1-half--3-8GD","u-m-2-half":"u-m-2-half--38cCF","u-mt-2-half":"u-mt-2-half--1krgc","u-mb-2-half":"u-mb-2-half--2sDky","u-ml-2-half":"u-ml-2-half--iAQ1s","u-mr-2-half":"u-mr-2-half--3tY9w","coz-error":"coz-error--aa7cj","u-error":"u-error--ZXjnF","coz-error--warning":"coz-error--warning--2y-d1","u-error--warning":"u-error--warning--WHrF0","u-valid":"u-valid--1i5M1","u-warn":"u-warn--YPPgU","dri-btn--more":"dri-btn--more--MNdqs"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(125),i=r(o),a=n(3),u=r(a),s=n(0),c=r(s),l=n(61),d=r(l),f=function(e){var t=e.t,n=e.count,r=e.confirm,o=e.abort,a=e.related,s=["trash","restore","shared"];!0===a&&s.push("related");var l=s.map(function(e){return c.default.createElement("p",{className:(0,u.default)(i.default["fil-confirm-text"],i.default["icon-"+e])},t("timeline.DeleteConfirm."+e,n))});return c.default.createElement(d.default,{title:t("timeline.DeleteConfirm.title",n),description:l,secondaryType:"secondary",secondaryText:t("timeline.DeleteConfirm.cancel"),secondaryAction:o,primaryType:"danger",primaryText:t("timeline.DeleteConfirm.delete"),primaryAction:r})};t.default=f},function(e,t){e.exports={"c-btn":"c-btn--1u-np","c-btn--regular":"c-btn--regular--29e0X","c-btn--secondary":"c-btn--secondary--2lWvv","c-btn--danger":"c-btn--danger--1lqUu","c-btn--danger-outline":"c-btn--danger-outline--t_iCB","c-btn--highlight":"c-btn--highlight--SLo0e","c-btn-client":"c-btn-client--bFIet","c-btn-client-mobile":"c-btn-client-mobile--2XTWl","coz-btn":"coz-btn--20F6W","coz-btn--regular":"coz-btn--regular--3Hd7G","coz-btn--secondary":"coz-btn--secondary--1EoSs","coz-btn--danger":"coz-btn--danger--1FQu3","coz-btn--danger-outline":"coz-btn--danger-outline--1b3w9","coz-btn--highlight":"coz-btn--highlight--2hHgY",spin:"spin--1NeSh","c-btn--share":"c-btn--share--Ggq-D","coz-btn--share":"coz-btn--share--1soYI","c-btn--send":"c-btn--send--sB9i8","c-btn--download":"c-btn--download--NIPLj","coz-btn--download":"coz-btn--download--33zMV","c-btn--upload":"c-btn--upload--3PdNh","coz-btn--upload":"coz-btn--upload--3Pa4_","c-btn--delete":"c-btn--delete--Gn6Qq","coz-btn--delete":"coz-btn--delete--2LdUb","c-link--upload":"c-link--upload--Wt8nv","c-link--delete":"c-link--delete--2_J0Y","c-btn--more":"c-btn--more--1uMTt","c-btn-extra":"c-btn-extra--tH2VR","c-btn-extra--white":"c-btn-extra--white--2j4MB","c-btn--close":"c-btn--close--mNkWl","coz-btn--close":"coz-btn--close--2Bp_d","c-btn-alert":"c-btn-alert--1kI-P","c-btn-alert--error":"c-btn-alert--error--2C2_6","c-btn-alert--info":"c-btn-alert--info--9Xv7P","c-btn-alert--success":"c-btn-alert--success--2B9Po","coz-hidden":"coz-hidden---Yo3a","u-visuallyhidden":"u-visuallyhidden--Hb-tM","u-hide":"u-hide--R61Eb","coz-desktop":"coz-desktop--27Ik8","u-hide--mob":"u-hide--mob--2Lud2","coz-mobile":"coz-mobile--3DPGY","u-hide--desk":"u-hide--desk--2YbQz","coz-modal-container":"coz-modal-container--2vz0v","coz-overlay":"coz-overlay--QScPO","coz-overlay--hidden":"coz-overlay--hidden--RLAD_","coz-modal-wrapper":"coz-modal-wrapper--3XQJj","coz-modal":"coz-modal--1aqZh","coz-modal-content":"coz-modal-content--3AT0Z","coz-btn-modal-close":"coz-btn-modal-close--1a5a9","coz-modal-section":"coz-modal-section--EmVXv","coz-modal-title":"coz-modal-title--2FtGT","coz-modal-buttons":"coz-modal-buttons--2Uwue","coz-modal--hidden":"coz-modal--hidden--2B1MS","coz-modal--fullbleed":"coz-modal--fullbleed--3y-yQ"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FILE_DOCTYPE="io.cozy.files",t.STACK_FILES_DOWNLOAD_PATH="http://cozy.local:8080/files/download",t.FETCH_LIMIT=50},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.mapDispatchToProps=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=r(s),l=n(28),d=n(19),f=n(14),h=n(7),p=n(60),m=r(p),b=n(68),v=r(b),y=n(83),g=n(43),_=n(44),w=n(594),k=r(w),S=n(595),E=r(S),x=n(309),A=r(x),C=n(69),O=n(3),T=r(O),P=n(124),j=r(P),D=function(e){function t(){var e,n,r,a;o(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={showShareModal:!1,showSharingDetailsModal:!1},r.showShareModal=function(){r.setState({showShareModal:!0})},r.closeShareModal=function(){r.setState({showShareModal:!1})},r.showSharingDetailsModal=function(){r.setState({showSharingDetailsModal:!0})},r.closeSharingDetailsModal=function(){r.setState({showSharingDetailsModal:!1})},a=n,i(r,a)}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.t,n=e.location,r=e.album,o=e.photos,i=e.sharedWithMe,a=e.sharedByMe,u=e.readOnly,s=e.disabled,l=void 0!==s&&s,f=this.props,h=f.deleteAlbum,p=f.leaveAlbum,m=f.selectItems,g=f.onRename;return c.default.createElement("div",{className:j.default["pho-toolbar"],role:"toolbar"},c.default.createElement("div",{className:j.default["u-hide--mob"]},!a&&!i&&c.default.createElement(C.ShareButton,{disabled:l,label:t("Albums.share.cta"),onClick:this.showShareModal}),a&&c.default.createElement(C.SharedByMeButton,{disabled:l,label:t("Albums.share.sharedByMe"),onClick:this.showShareModal}),i&&c.default.createElement(C.SharedWithMeButton,{disabled:l,label:t("Albums.share.sharedWithMe"),onClick:this.showSharingDetailsModal})),c.default.createElement(v.default,{disabled:l,className:j.default["pho-toolbar-menu"],button:c.default.createElement(y.MoreButton,null)},!i&&c.default.createElement(b.Item,null,c.default.createElement("a",{className:(0,T.default)(j.default["pho-action-share"],j.default["u-hide--desk"]),onClick:this.showShareModal},t("Albums.share.cta"))),c.default.createElement(b.Item,null,c.default.createElement("a",{className:(0,T.default)(j.default["pho-action-download"]),onClick:function(){return(0,_.downloadAlbum)(r,o)}},t("Toolbar.menu.download_album"))),c.default.createElement(b.Item,null,c.default.createElement("a",{className:(0,T.default)(j.default["pho-action-rename"]),onClick:g},t("Toolbar.menu.rename_album"))),!u&&c.default.createElement(b.Item,null,c.default.createElement(d.Link,{className:(0,T.default)(j.default["pho-action-addphotos"]),to:n.pathname+"/edit"},t("Toolbar.menu.add_photos"))),c.default.createElement("hr",{className:j.default["u-hide--desk"]}),c.default.createElement(b.Item,null,c.default.createElement("a",{className:(0,T.default)(j.default["pho-action-select"],j.default["u-hide--desk"]),onClick:m},t("Toolbar.menu.select_items"))),c.default.createElement("hr",null),!i&&c.default.createElement(b.Item,null,c.default.createElement("a",{className:(0,T.default)(j.default["pho-action-delete"]),onClick:function(){return h(r)}},t("Toolbar.menu.album_delete"))),i&&c.default.createElement(b.Item,null,c.default.createElement("a",{className:(0,T.default)(j.default["pho-action-delete"]),onClick:function(){return p(r)}},t("Toolbar.menu.album_quit")))),this.state.showShareModal&&c.default.createElement(C.ShareModal,{document:r,documentType:"Albums",sharingDesc:r.name,onClose:this.closeShareModal}),this.state.showSharingDetailsModal&&c.default.createElement(C.SharingDetailsModal,{document:r,documentType:"Albums",sharingDesc:r.name,onClose:this.closeSharingDetailsModal}))}}]),t}(s.Component),R=function(e,t){return{disabled:(0,g.isSelectionBarVisible)(e)}},M=t.mapDispatchToProps=function(e,t){return{selectItems:function(){return e((0,g.showSelectionBar)())},deleteAlbum:function(n){return(0,A.default)(c.default.createElement(k.default,{t:t.t,albumName:n.name}),function(){return e((0,_.deleteAlbum)(n)).then(function(){t.router.replace("albums"),m.default.success("Albums.remove_album.success",{name:n.name})}).catch(function(){return m.default.error("Albums.remove_album.error.generic")})})},leaveAlbum:function(n){return(0,A.default)(c.default.createElement(E.default,{t:t.t,albumName:n.name}),function(){return e((0,f.leave)(n)).then(function(){return e((0,_.deleteAlbum)(n))}).then(function(){t.router.replace("albums"),m.default.success("Albums.quit_album.success",{name:n.name})}).catch(function(){return m.default.error("Albums.quit_album.error.generic")})})}}};t.default=(0,d.withRouter)((0,h.translate)()((0,l.connect)(R,M)(D)))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(125),i=r(o),a=n(3),u=r(a),s=n(0),c=r(s),l=n(61),d=r(l),f=function(e){var t=e.t,n=(e.albumName,e.confirm),r=e.abort,o=["forbidden","eye","link"].map(function(e){return c.default.createElement("p",{className:(0,u.default)(i.default["fil-confirm-text"],i.default["icon-"+e])},t("destroyconfirmation."+e))});return c.default.createElement(d.default,{title:t("destroyconfirmation.title"),description:o,secondaryType:"secondary",secondaryText:t("destroyconfirmation.cancel"),secondaryAction:r,primaryType:"danger",primaryText:t("destroyconfirmation.delete"),primaryAction:n})};t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(125),i=r(o),a=n(3),u=r(a),s=n(0),c=r(s),l=n(61),d=r(l),f=function(e){var t=e.t,n=(e.albumName,e.confirm),r=e.abort,o=["forbidden"].map(function(e){return c.default.createElement("p",{className:(0,u.default)(i.default["fil-confirm-text"],i.default["icon-"+e])},t("quitconfirmation."+e))});return c.default.createElement(d.default,{title:t("quitconfirmation.title"),description:o,secondaryType:"secondary",secondaryText:t("quitconfirmation.cancel"),secondaryAction:r,primaryType:"danger",primaryText:t("quitconfirmation.quit"),primaryAction:n})};t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ShareModal=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(80),c=r(s),l=n(0),d=r(l),f=n(14),h=n(61),p=r(h),m=n(597),b=n(599),v=r(b),y=n(606),g=r(y),_=t.ShareModal=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.context.t,t=this.props,n=t.onClose,r=t.sharing,o=t.sharingDesc,i=t.share,a=t.unshare,u=t.shareByLink,s=t.revokeLink,l=t.contacts,f=t.documentType,h=void 0===f?"Document":f,b="loaded"===l.fetchStatus,y=window.location.search.toLowerCase().includes("sharingiscaring"),_=[d.default.createElement(m.Tab,{name:"link"},e(h+".share.shareByLink.title"))],w=[d.default.createElement(m.TabPanel,{name:"link"},d.default.createElement(v.default,{document:this.props.document,documentType:h,checked:!!r.sharingLink,link:r.sharingLink,onEnable:u,onDisable:s}))];return _.push(d.default.createElement(m.Tab,{name:"email"},e(h+".share.shareByEmail.title"))),y?w.push(d.default.createElement(m.TabPanel,{name:"email"},b&&d.default.createElement(g.default,{document:this.props.document,documentType:h,recipients:r.recipients,contacts:l.data,sharingDesc:o,onShare:i,onUnshare:a}))):w.push(d.default.createElement(m.TabPanel,{name:"email"},d.default.createElement("div",{className:c.default["coz-form-group"]},d.default.createElement("p",{className:c.default["coz-form-desc"],style:{width:"30rem"}},e(h+".share.shareByEmail.comingsoon"))))),d.default.createElement(p.default,{title:e(h+".share.title"),secondaryAction:n},d.default.createElement(m.Tabs,{initialActiveTab:"link"},d.default.createElement(m.TabList,{className:c.default["pho-share-modal-tabs"]},_),d.default.createElement(m.TabPanels,{className:c.default["pho-share-modal-content"]},w)))}}]),t}(l.Component);t.default=(0,f.cozyConnect)(function(e){return{sharing:(0,f.fetchSharings)(e.document._type,e.document._id,{include:["recipients"]}),contacts:(0,f.fetchContacts)()}},function(e,t){return{share:function(t,n,r,o){return e((0,f.share)(t,n,r,o))},unshare:function(t,n){return e((0,f.unshare)(t,n))},shareByLink:function(t){return e((0,f.shareByLink)(t))},revokeLink:function(t){return e((0,f.revokeLink)(t))}}})(_)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Tabs=t.TabPanels=t.TabPanel=t.TabList=t.Tab=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),d=n(598),f=r(d),h=n(3),p=r(h);t.Tab=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return u(t,e),s(t,[{key:"render",value:function(e){var t=(e.name,e.children),n=e.className,r=e.active,i=e.activeClass,a=(e.changeTab,e.onClick,o({},f.default["coz-tab--active"],r));return i&&(a[i]=r),l.default.createElement("div",{className:(0,p.default)(f.default["coz-tab"],n,a),onClick:this.onClick},t)}},{key:"onClick",value:function(){var e=this.props,t=e.changeTab,n=e.name,r=e.onClick;t(n),r&&r()}}]),t}(c.Component),t.TabList=function(e){var t=e.children,n=e.activeTab,r=e.changeTab,o=e.className;return l.default.createElement("div",{className:(0,p.default)(f.default["coz-tab-list"],o)},l.default.Children.map(t,function(e){return l.default.cloneElement(e,{active:e.props.name===n,changeTab:r})}))},t.TabPanel=function(e){var t=e.children,n=e.active,r=(e.changeTab,e.className);return n?l.default.createElement("div",{className:(0,p.default)(f.default["coz-tab-panel"],r)},t):null},t.TabPanels=function(e){var t=e.children,n=e.activeTab,r=(e.name,e.changeTab),o=e.className;return l.default.createElement("div",{className:(0,p.default)(f.default["coz-tab-panels"],o)},l.default.Children.map(t,function(e){return l.default.cloneElement(e,{active:e.props.active||n==e.props.name,changeTab:r})}))},t.Tabs=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.changeTab=n.changeTab.bind(n),n}return u(t,e),s(t,[{key:"getInitialState",value:function(){return{activeTab:this.props.initialActiveTab}}},{key:"changeTab",value:function(e){this.setState({activeTab:e})}},{key:"render",value:function(e,t){var n=e.children,r=e.className,o=t.activeTab,i=this.changeTab;return l.default.createElement("div",{className:(0,p.default)(f.default["coz-tabs"],r)},l.default.Children.map(n,function(e){return l.default.cloneElement(e,{activeTab:o,changeTab:i})}))}}]),t}(c.Component)},function(e,t){e.exports={"coz-tabs":"coz-tabs--25Htz","coz-tab-list":"coz-tab-list--2oiVX","coz-tab":"coz-tab--jzb2o","coz-tab--active":"coz-tab--active--wZ84J","coz-tab-panel":"coz-tab-panel--1k2r-"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ShareWithLink=t.ShareWithLinkToggle=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),d=n(600),f=r(d),h=n(3),p=r(h),m=n(604),b=r(m),v=n(80),y=r(v),g=t.ShareWithLinkToggle=function(e,t){var n=e.active,r=e.onToggle,o=e.documentType,i=t.t;return l.default.createElement("div",{className:y.default["coz-form-group"]},l.default.createElement("h3",null,i(o+".share.shareByLink.subtitle")),l.default.createElement("div",{className:y.default["pho-input-dual"]},l.default.createElement("div",null,l.default.createElement("label",{htmlFor:"",className:y.default["coz-form-desc"]},i(o+".share.shareByLink.desc"))),l.default.createElement("div",null,l.default.createElement(b.default,{id:"pho-album-share-toggle",name:"share",checked:n,onToggle:r}))))},_=t.ShareWithLink=function(e,t){var n=e.shareLink,r=e.onCopy,o=e.copied,i=e.documentType,a=t.t;return l.default.createElement("div",{className:y.default["coz-form"]},l.default.createElement("h4",null,a(i+".share.sharingLink.title")),l.default.createElement("div",{className:y.default["pho-input-dual"]},l.default.createElement("div",null,l.default.createElement("input",{type:"text",name:"",id:"",value:n})),l.default.createElement("div",null,!o&&l.default.createElement(f.default,{text:n,onCopy:r},l.default.createElement("div",null,l.default.createElement("button",{className:(0,p.default)(y.default["c-btn"],y.default["c-btn--secondary"],y.default["pho-btn-copy"])},a(i+".share.sharingLink.copy")))),o&&l.default.createElement("button",{className:(0,p.default)(y.default["c-btn"],y.default["c-btn--secondary"],y.default["pho-btn-copied"]),"aria-disabled":!0},a(i+".share.sharingLink.copied")))))},w=function(e){function t(){var e,n,r,a;o(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={copied:!1,loading:!1},a=n,i(r,a)}return a(t,e),s(t,[{key:"toggleShareLink",value:function(e){e?this.createShareLink():this.deleteShareLink()}},{key:"createShareLink",value:function(){var e=this;this.setState(function(e){return u({},e,{loading:!0})}),this.props.onEnable(this.props.document).then(function(){return e.setState(function(e){return u({},e,{loading:!1})})})}},{key:"deleteShareLink",value:function(){this.props.onDisable(this.props.document)}},{key:"render",value:function(){var e=this,t=this.context.t,n=this.state,r=n.copied,o=n.loading,i=this.props,a=i.link,s=i.checked,c=i.documentType;return l.default.createElement("div",null,l.default.createElement(g,{active:s,onToggle:function(t){return e.toggleShareLink(t)},documentType:c}),s&&!o&&l.default.createElement(_,{shareLink:a,onCopy:function(){return e.setState(function(e){return u({},e,{copied:!0})})},copied:r,documentType:c}),o&&l.default.createElement("div",{className:y.default["pho-share-modal-footer"]},l.default.createElement("p",null,t(c+".share.gettingLink"))))}}]),t}(l.default.Component);t.default=w},function(e,t,n){"use strict";var r=n(601),o=r.CopyToClipboard;o.CopyToClipboard=o,e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),d=r(l),f=n(602),h=r(f);(t.CopyToClipboard=function(e){function t(){var e,n,r,o;i(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.onClick=function(e){var t=r.props,n=t.text,o=t.onCopy,i=t.children,a=t.options,u=d.default.Children.only(i),s=(0,h.default)(n,a);o&&o(n,s),u&&u.props&&"function"==typeof u.props.onClick&&u.props.onClick(e)},o=n,a(r,o)}return u(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),n=o(e,["text","onCopy","options","children"]),r=d.default.Children.only(t);return d.default.cloneElement(r,s({},n,{onClick:this.onClick}))}}]),t}(d.default.PureComponent)).defaultProps={onCopy:void 0,options:void 0}},function(e,t,n){"use strict";function r(e){var t=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function o(e,t){var n,o,u,s,c,l,d=!1;t||(t={}),n=t.debug||!1;try{u=i(),s=document.createRange(),c=document.getSelection(),l=document.createElement("span"),l.textContent=e,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",document.body.appendChild(l),s.selectNode(l),c.addRange(s);if(!document.execCommand("copy"))throw new Error("copy command was unsuccessful");d=!0}catch(i){n&&console.error("unable to copy using execCommand: ",i),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData("text",e),d=!0}catch(i){n&&console.error("unable to copy using clipboardData: ",i),n&&console.error("falling back to prompt"),o=r("message"in t?t.message:a),window.prompt(o,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(s):c.removeAllRanges()),l&&document.body.removeChild(l),u()}return d}var i=n(603),a="Copy to clipboard: #{key}, Enter";e.exports=o},function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(605),c=r(s),l=n(0),d=r(l),f=n(13),h=r(f),p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"onChange",value:function(){this.props.onToggle&&this.props.onToggle(!this.props.checked)}},{key:"render",value:function(e,t){return d.default.createElement("span",{className:c.default.toggle},d.default.createElement("input",{type:"checkbox",id:e.id,className:c.default.checkbox,checked:e.checked,onChange:this.onChange.bind(this)}),d.default.createElement("label",{htmlFor:e.id,className:c.default.label}))}}]),t}(l.Component);p.propTypes={id:h.default.string.isRequired,checked:h.default.bool,onToggle:h.default.func},t.default=p},function(e,t){e.exports={toggle:"toggle--1Is7c",checkbox:"checkbox--23mtA",label:"label--20AHi"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),d=r(l),f=n(3),h=r(f),p=n(60),m=r(p),b=n(607),v=r(b),y=n(625),g=r(y),_=n(69),w=n(80),k=r(w),S=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"share",value:function(e,t){var n=this,r=this.props,o=r.document,i=r.documentType,a=r.sharingDesc;return Promise.all(e.map(function(e){return n.props.onShare(o,[e],t,a)})).then(function(){1===e.length?m.default.info(i+".share.shareByEmail.success",{email:e[0].id?(0,_.getPrimaryEmail)(e[0]):e[0].email}):m.default.info(i+".share.shareByEmail.genericSuccess",{count:e.length})}).catch(function(e){throw m.default.error("Error.generic"),e})}},{key:"unshare",value:function(e){var t=this.props,n=t.document,r=t.documentType;return this.props.onUnshare(n,e).then(function(){m.default.info(r+".share.unshare.success",{email:(0,_.getPrimaryEmail)(e)})}).catch(function(e){throw m.default.error("Error.generic"),e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.document,r=t.documentType,o=t.contacts,i=t.recipients;return d.default.createElement("div",null,d.default.createElement(E,{onSend:function(t,n){return e.share(t,n)},contacts:o,documentType:r}),d.default.createElement(g.default,{document:n,documentType:r,recipients:i,onUnshare:function(t){return e.unshare(t)}}))}}]),t}(d.default.Component);t.default=S;var E=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={recipients:[],sharingType:"master-slave"},n}return u(t,e),c(t,[{key:"onRecipientPick",value:function(e){this.state.recipients.find(function(t){return t===e})||this.setState(function(t){return s({},t,{recipients:[].concat(o(t.recipients),[e])})})}},{key:"onRecipientRemove",value:function(e){var t=this.state.recipients.findIndex(function(t){return t===e});this.setState(function(e){return s({},e,{recipients:[].concat(o(e.recipients.slice(0,t)),o(e.recipients.slice(t+1)))})})}},{key:"reset",value:function(){this.setState(function(e){return s({},e,{recipients:[],sharingType:"master-slave"})})}},{key:"sendSharingLink",value:function(){var e=this,t=this.state,n=t.recipients,r=t.sharingType;0!==n.length&&this.props.onSend(n,r).then(function(){e.reset()}).catch(function(){e.reset()})}},{key:"changeSharingType",value:function(e){this.setState(function(t){return s({},t,{sharingType:e})})}},{key:"render",value:function(){var e=this,t=this.context.t,n=this.props,r=n.contacts,o=n.documentType,i=this.state.recipients;return d.default.createElement("div",{className:k.default["coz-form-group"]},d.default.createElement("h3",null,t(o+".share.shareByEmail.subtitle")),d.default.createElement("div",{className:k.default["coz-form"]},d.default.createElement("label",{className:k.default["coz-form-label"],htmlFor:"email"},t(o+".share.shareByEmail.email")),d.default.createElement(v.default,{contacts:r,recipients:i,onPick:function(t){return e.onRecipientPick(t)},onRemove:function(t){return e.onRecipientRemove(t)}})),d.default.createElement("div",{className:(0,h.default)(k.default["coz-form-controls"],k.default["coz-form-controls--dispatch"])},d.default.createElement("select",{name:"select",className:k.default["coz-select"],value:this.state.sharingType,onChange:function(t){return e.changeSharingType(t.target.value)}},d.default.createElement("option",{value:"master-slave"},t("Share.type.master-slave")),d.default.createElement("option",{value:"master-master"},t("Share.type.master-master"))),d.default.createElement("button",{className:(0,h.default)(k.default["c-btn"],k.default["c-btn--regular"]),onClick:function(t){return e.sendSharingLink()}},t(o+".share.shareByEmail.send"))))}}]),t}(d.default.Component)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),d=r(l),f=n(608),h=r(f),p=n(620),m=r(p),b=n(127),v=r(b),y=n(69),g=function(e,t){if(!t.email)return!1;var n=new RegExp(e);return Array.isArray(t.email)?t.email.some(function(e){return n.test(e.address)}):n.test(t.email)},_=function(e,t){if(!t.cozy||!t.url)return!1;var n=new RegExp(e);return t.cozy&&Array.isArray(t.cozy)?t.cozy.some(function(e){return n.test(e.url)}):n.test(t.url)},w=function(e){function t(){var e,n,r,a;o(this,t);for(var c=arguments.length,l=Array(c),d=0;d<c;d++)l[d]=arguments[d];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={inputValue:"",suggestions:[]},r.onSuggestionsFetchRequested=function(e){var t=e.value;r.setState(function(e){return s({},e,{suggestions:r.computeSuggestions(t)})})},r.onSuggestionsClearRequested=function(){r.setState(function(e){return s({},e,{suggestions:[]})})},r.onChange=function(e,t){var n=t.newValue,o=t.method;"object"!==(void 0===n?"undefined":u(n))?r.setState(function(e){return s({},e,{inputValue:n})}):"click"!==o&&"enter"!==o||r.onPick(n)},r.onKeyPress=function(e){"Enter"!==e.key&&13!==e.keyCode||""===r.state.inputValue||r.onPick({email:r.state.inputValue})},r.onBlur=function(e,t){var n=t.highlightedSuggestion;n?(r.props.onPick(n),r.setState(function(e){return s({},e,{inputValue:""})})):""!==r.state.inputValue&&r.state.inputValue.match(/\S+@\S+/)&&(r.props.onPick({email:r.state.inputValue}),r.setState(function(e){return s({},e,{inputValue:""})}))},r.onPick=function(e){r.props.onPick(e),r.setState(function(e){return s({},e,{inputValue:""})}),setTimeout(function(){return r.input.focus()},1)},r.onRemove=function(e){r.props.onRemove(e),setTimeout(function(){return r.input.focus()},1)},a=n,i(r,a)}return a(t,e),c(t,[{key:"computeSuggestions",value:function(e){var t=e.trim().toLowerCase();return 0===t.length?[]:this.props.contacts.filter(function(e){return g(t,e)||_(t,e)})}},{key:"renderInput",value:function(e){var t=this;return d.default.createElement("div",{className:m.default.recipientsContainer},this.props.recipients.map(function(e){return d.default.createElement("div",{className:m.default.recipientChip},d.default.createElement("span",null,e.id?(0,y.getPrimaryEmail)(e):e.email),d.default.createElement("button",{className:m.default.removeRecipient,onClick:function(){return t.onRemove(e)}}))}),d.default.createElement("div",null,d.default.createElement("input",s({},e,{onKeyPress:this.onKeyPress}))))}},{key:"render",value:function(){var e=this,t=this.state,n=t.inputValue,r=t.suggestions;return d.default.createElement(h.default,{ref:function(t){e.input=t?t.input:null},theme:m.default,suggestions:r,getSuggestionValue:function(e){return e},onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,renderSuggestion:function(e){return d.default.createElement(v.default,{contact:e})},renderInputComponent:function(t){return e.renderInput(t)},highlightFirstSuggestion:!0,inputProps:{onChange:this.onChange,onBlur:this.onBlur,value:n,type:"email"}})}}]),t}(l.Component);t.default=w},function(e,t,n){"use strict";e.exports=n(609).default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),d=n(13),f=r(d),h=n(610),p=r(h),m=n(611),b=r(m),v=n(619),y=function(){return!0},g=function(e){return e.trim().length>0},_=function(e){var t=e.containerProps,n=e.children;return l.default.createElement("div",t,n)},w=function(e){function t(e){var n=e.alwaysRenderSuggestions;o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return k.call(r),r.state={isFocused:!1,isCollapsed:!n,highlightedSectionIndex:null,highlightedSuggestionIndex:null,valueBeforeUpDown:null},r.justPressedUpDown=!1,r}return a(t,e),s(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.onDocumentMouseDown),this.input=this.autowhatever.input,this.suggestionsContainer=this.autowhatever.itemsContainer}},{key:"componentWillReceiveProps",value:function(e){(0,p.default)(e.suggestions,this.props.suggestions)?e.highlightFirstSuggestion&&e.suggestions.length>0&&!1===this.justPressedUpDown&&this.highlightFirstSuggestion():this.willRenderSuggestions(e)?(e.highlightFirstSuggestion&&this.highlightFirstSuggestion(),this.state.isCollapsed&&!this.justSelectedSuggestion&&this.revealSuggestions()):this.resetHighlightedSuggestion()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.onSuggestionHighlighted;if(n){var r=this.state,o=r.highlightedSectionIndex,i=r.highlightedSuggestionIndex;if(o!==t.highlightedSectionIndex||i!==t.highlightedSuggestionIndex){n({suggestion:this.getHighlightedSuggestion()})}}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.onDocumentMouseDown)}},{key:"updateHighlightedSuggestion",value:function(e,t,n){this.setState(function(r){var o=r.valueBeforeUpDown;return null===t?o=null:null===o&&void 0!==n&&(o=n),{highlightedSectionIndex:e,highlightedSuggestionIndex:t,valueBeforeUpDown:o}})}},{key:"resetHighlightedSuggestion",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState(function(t){var n=t.valueBeforeUpDown;return{highlightedSectionIndex:null,highlightedSuggestionIndex:null,valueBeforeUpDown:e?null:n}})}},{key:"revealSuggestions",value:function(){this.setState({isCollapsed:!1})}},{key:"closeSuggestions",value:function(){this.setState({highlightedSectionIndex:null,highlightedSuggestionIndex:null,valueBeforeUpDown:null,isCollapsed:!0})}},{key:"getSuggestion",value:function(e,t){var n=this.props,r=n.suggestions,o=n.multiSection,i=n.getSectionSuggestions;return o?i(r[e])[t]:r[t]}},{key:"getHighlightedSuggestion",value:function(){var e=this.state,t=e.highlightedSectionIndex,n=e.highlightedSuggestionIndex;return null===n?null:this.getSuggestion(t,n)}},{key:"getSuggestionValueByIndex",value:function(e,t){return(0,this.props.getSuggestionValue)(this.getSuggestion(e,t))}},{key:"getSuggestionIndices",value:function(e){var t=e.getAttribute("data-section-index"),n=e.getAttribute("data-suggestion-index");return{sectionIndex:"string"==typeof t?parseInt(t,10):null,suggestionIndex:parseInt(n,10)}}},{key:"findSuggestionElement",value:function(e){var t=e;do{if(null!==t.getAttribute("data-suggestion-index"))return t;t=t.parentNode}while(null!==t);throw console.error("Clicked element:",e),new Error("Couldn't find suggestion element")}},{key:"maybeCallOnChange",value:function(e,t,n){var r=this.props.inputProps,o=r.value,i=r.onChange;t!==o&&i(e,{newValue:t,method:n})}},{key:"willRenderSuggestions",value:function(e){var t=e.suggestions,n=e.inputProps,r=e.shouldRenderSuggestions,o=n.value;return t.length>0&&r(o)}},{key:"getQuery",value:function(){var e=this.props.inputProps,t=e.value;return(this.state.valueBeforeUpDown||t).trim()}},{key:"render",value:function(){var e=this,t=this.props,n=t.suggestions,r=t.renderInputComponent,o=t.onSuggestionsFetchRequested,i=t.renderSuggestion,a=t.inputProps,s=t.multiSection,c=t.renderSectionTitle,d=t.id,f=t.getSectionSuggestions,h=t.theme,p=t.getSuggestionValue,m=t.alwaysRenderSuggestions,g=this.state,_=g.isFocused,w=g.isCollapsed,k=g.highlightedSectionIndex,S=g.highlightedSuggestionIndex,E=g.valueBeforeUpDown,x=m?y:this.props.shouldRenderSuggestions,A=a.value,C=a.onFocus,O=a.onKeyDown,T=this.willRenderSuggestions(this.props),P=m||_&&!w&&T,j=P?n:[],D=u({},a,{onFocus:function(t){if(!e.justSelectedSuggestion&&!e.justClickedOnSuggestionsContainer){var n=x(A);e.setState({isFocused:!0,isCollapsed:!n}),C&&C(t),n&&o({value:A,reason:"input-focused"})}},onBlur:function(t){if(e.justClickedOnSuggestionsContainer)return void e.input.focus();e.blurEvent=t,e.justSelectedSuggestion||(e.onBlur(),e.onSuggestionsClearRequested())},onChange:function(t){var n=t.target.value,r=x(n);e.maybeCallOnChange(t,n,"type"),e.setState({highlightedSectionIndex:null,highlightedSuggestionIndex:null,valueBeforeUpDown:null,isCollapsed:!r}),r?o({value:n,reason:"input-changed"}):e.onSuggestionsClearRequested()},onKeyDown:function(t,r){var i=t.keyCode;switch(i){case 40:case 38:if(w)x(A)&&(o({value:A,reason:"suggestions-revealed"}),e.revealSuggestions());else if(n.length>0){var a=r.newHighlightedSectionIndex,u=r.newHighlightedItemIndex,s=void 0;s=null===u?null===E?A:E:e.getSuggestionValueByIndex(a,u),e.updateHighlightedSuggestion(a,u,A),e.maybeCallOnChange(t,s,40===i?"down":"up")}t.preventDefault(),e.justPressedUpDown=!0,setTimeout(function(){e.justPressedUpDown=!1});break;case 13:if(229===t.keyCode)break;var c=e.getHighlightedSuggestion();if(P&&!m&&e.closeSuggestions(),null!==c){var l=p(c);e.maybeCallOnChange(t,l,"enter"),e.onSuggestionSelected(t,{suggestion:c,suggestionValue:l,suggestionIndex:S,sectionIndex:k,method:"enter"}),e.justSelectedSuggestion=!0,setTimeout(function(){e.justSelectedSuggestion=!1})}break;case 27:P&&t.preventDefault();var d=P&&!m;if(null===E){if(!d){e.maybeCallOnChange(t,"","escape"),x("")?o({value:"",reason:"escape-pressed"}):e.onSuggestionsClearRequested()}}else e.maybeCallOnChange(t,E,"escape");d?(e.onSuggestionsClearRequested(),e.closeSuggestions()):e.resetHighlightedSuggestion()}O&&O(t)}}),R={query:this.getQuery()};return l.default.createElement(b.default,{multiSection:s,items:j,renderInputComponent:r,renderItemsContainer:this.renderSuggestionsContainer,renderItem:i,renderItemData:R,renderSectionTitle:c,getSectionItems:f,highlightedSectionIndex:k,highlightedItemIndex:S,inputProps:D,itemProps:this.itemProps,theme:(0,v.mapToAutowhateverTheme)(h),id:d,ref:this.storeAutowhateverRef})}}]),t}(c.Component);w.propTypes={suggestions:f.default.array.isRequired,onSuggestionsFetchRequested:function(e,t){if("function"!=typeof e[t])throw new Error("'onSuggestionsFetchRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsFetchRequestedProp")},onSuggestionsClearRequested:function(e,t){var n=e[t];if(!1===e.alwaysRenderSuggestions&&"function"!=typeof n)throw new Error("'onSuggestionsClearRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsClearRequestedProp")},onSuggestionSelected:f.default.func,onSuggestionHighlighted:f.default.func,renderInputComponent:f.default.func,renderSuggestionsContainer:f.default.func,getSuggestionValue:f.default.func.isRequired,renderSuggestion:f.default.func.isRequired,inputProps:function(e,t){var n=e[t];if(!n.hasOwnProperty("value"))throw new Error("'inputProps' must have 'value'.");if(!n.hasOwnProperty("onChange"))throw new Error("'inputProps' must have 'onChange'.")},shouldRenderSuggestions:f.default.func,alwaysRenderSuggestions:f.default.bool,multiSection:f.default.bool,renderSectionTitle:function(e,t){var n=e[t];if(!0===e.multiSection&&"function"!=typeof n)throw new Error("'renderSectionTitle' must be implemented. See: https://github.com/moroshko/react-autosuggest#renderSectionTitleProp")},getSectionSuggestions:function(e,t){var n=e[t];if(!0===e.multiSection&&"function"!=typeof n)throw new Error("'getSectionSuggestions' must be implemented. See: https://github.com/moroshko/react-autosuggest#getSectionSuggestionsProp")},focusInputOnSuggestionClick:f.default.bool,highlightFirstSuggestion:f.default.bool,theme:f.default.object,id:f.default.string},w.defaultProps={renderSuggestionsContainer:_,shouldRenderSuggestions:g,alwaysRenderSuggestions:!1,multiSection:!1,focusInputOnSuggestionClick:!0,highlightFirstSuggestion:!1,theme:v.defaultTheme,id:"1"};var k=function(){var e=this;this.onDocumentMouseDown=function(t){e.justClickedOnSuggestionsContainer=!1;for(var n=t.detail&&t.detail.target||t.target;null!==n&&n!==document;){if(null!==n.getAttribute("data-suggestion-index"))return;if(n===e.suggestionsContainer)return void(e.justClickedOnSuggestionsContainer=!0);n=n.parentNode}},this.storeAutowhateverRef=function(t){null!==t&&(e.autowhatever=t)},this.onSuggestionMouseEnter=function(t,n){var r=n.sectionIndex,o=n.itemIndex;e.updateHighlightedSuggestion(r,o)},this.highlightFirstSuggestion=function(){e.updateHighlightedSuggestion(e.props.multiSection?0:null,0)},this.onSuggestionMouseDown=function(){e.justSelectedSuggestion=!0},this.onSuggestionsClearRequested=function(){var t=e.props.onSuggestionsClearRequested;t&&t()},this.onSuggestionSelected=function(t,n){var r=e.props,o=r.alwaysRenderSuggestions,i=r.onSuggestionSelected,a=r.onSuggestionsFetchRequested;i&&i(t,n),o?a({value:n.suggestionValue,reason:"suggestion-selected"}):e.onSuggestionsClearRequested(),e.resetHighlightedSuggestion()},this.onSuggestionClick=function(t){var n=e.props,r=n.alwaysRenderSuggestions,o=n.focusInputOnSuggestionClick,i=e.getSuggestionIndices(e.findSuggestionElement(t.target)),a=i.sectionIndex,u=i.suggestionIndex,s=e.getSuggestion(a,u),c=e.props.getSuggestionValue(s);e.maybeCallOnChange(t,c,"click"),e.onSuggestionSelected(t,{suggestion:s,suggestionValue:c,suggestionIndex:u,sectionIndex:a,method:"click"}),r||e.closeSuggestions(),!0===o?e.input.focus():e.onBlur(),setTimeout(function(){e.justSelectedSuggestion=!1})},this.onBlur=function(){var t=e.props,n=t.inputProps,r=t.shouldRenderSuggestions,o=n.value,i=n.onBlur,a=e.getHighlightedSuggestion(),u=r(o);e.setState({isFocused:!1,highlightedSectionIndex:null,highlightedSuggestionIndex:null,valueBeforeUpDown:null,isCollapsed:!u}),i&&i(e.blurEvent,{highlightedSuggestion:a})},this.resetHighlightedSuggestionOnMouseLeave=function(){e.resetHighlightedSuggestion(!1)},this.itemProps=function(t){return{"data-section-index":t.sectionIndex,"data-suggestion-index":t.itemIndex,onMouseEnter:e.onSuggestionMouseEnter,onMouseLeave:e.resetHighlightedSuggestionOnMouseLeave,onMouseDown:e.onSuggestionMouseDown,onTouchStart:e.onSuggestionMouseDown,onClick:e.onSuggestionClick}},this.renderSuggestionsContainer=function(t){var n=t.containerProps,r=t.children;return(0,e.props.renderSuggestionsContainer)({containerProps:n,children:r,query:e.getQuery()})}};t.default=w},function(e,t){e.exports=function(e,t){if(e===t)return!0;var n=e.length;if(t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}},function(e,t,n){"use strict";e.exports=n(612).default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),d=r(l),f=n(13),h=r(f),p=n(613),m=r(p),b=n(614),v=r(b),y=n(616),g=r(y),_=n(617),w=r(_),k={},S=function(e){return d.default.createElement("input",e)},E=function(e){var t=e.containerProps,n=e.children;return d.default.createElement("div",t,n)},x={container:"react-autowhatever__container",containerOpen:"react-autowhatever__container--open",input:"react-autowhatever__input",inputOpen:"react-autowhatever__input--open",inputFocused:"react-autowhatever__input--focused",itemsContainer:"react-autowhatever__items-container",itemsContainerOpen:"react-autowhatever__items-container--open",itemsList:"react-autowhatever__items-list",item:"react-autowhatever__item",itemFirst:"react-autowhatever__item--first",itemHighlighted:"react-autowhatever__item--highlighted",sectionContainer:"react-autowhatever__section-container",sectionContainerFirst:"react-autowhatever__section-container--first",sectionTitle:"react-autowhatever__section-title"},A=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.storeInputReference=function(e){null!==e&&(n.input=e)},n.storeItemsContainerReference=function(e){null!==e&&(n.itemsContainer=e)},n.onHighlightedItemChange=function(e){n.highlightedItem=e},n.getItemId=function(e,t){return null===t?null:"react-autowhatever-"+n.props.id+"-"+(null===e?"":"section-"+e)+"-item-"+t},n.onFocus=function(e){var t=n.props.inputProps;n.setState({isInputFocused:!0}),t.onFocus&&t.onFocus(e)},n.onBlur=function(e){var t=n.props.inputProps;n.setState({isInputFocused:!1}),t.onBlur&&t.onBlur(e)},n.onKeyDown=function(e){var t=n.props,r=t.inputProps,o=t.highlightedSectionIndex,i=t.highlightedItemIndex;switch(e.key){case"ArrowDown":case"ArrowUp":var a="ArrowDown"===e.key?"next":"prev",u=n.sectionIterator[a]([o,i]),c=s(u,2),l=c[0],d=c[1];r.onKeyDown(e,{newHighlightedSectionIndex:l,newHighlightedItemIndex:d});break;default:r.onKeyDown(e,{highlightedSectionIndex:o,highlightedItemIndex:i})}},n.highlightedItem=null,n.state={isInputFocused:!1},n.setSectionsItems(e),n.setSectionIterator(e),n.setTheme(e),n}return a(t,e),c(t,[{key:"componentDidMount",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"componentWillReceiveProps",value:function(e){e.items!==this.props.items&&this.setSectionsItems(e),e.items===this.props.items&&e.multiSection===this.props.multiSection||this.setSectionIterator(e),e.theme!==this.props.theme&&this.setTheme(e)}},{key:"componentDidUpdate",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"setSectionsItems",value:function(e){e.multiSection&&(this.sectionsItems=e.items.map(function(t){return e.getSectionItems(t)}),this.sectionsLengths=this.sectionsItems.map(function(e){return e.length}),this.allSectionsAreEmpty=this.sectionsLengths.every(function(e){return 0===e}))}},{key:"setSectionIterator",value:function(e){this.sectionIterator=(0,m.default)({multiSection:e.multiSection,data:e.multiSection?this.sectionsLengths:e.items.length})}},{key:"setTheme",value:function(e){this.theme=(0,v.default)(e.theme)}},{key:"renderSections",value:function(){var e=this;if(this.allSectionsAreEmpty)return null;var t=this.theme,n=this.props,r=n.id,o=n.items,i=n.renderItem,a=n.renderItemData,u=n.renderSectionTitle,s=n.highlightedSectionIndex,c=n.highlightedItemIndex,l=n.itemProps;return o.map(function(n,o){var f="react-autowhatever-"+r+"-",h=f+"section-"+o+"-",p=0===o;return d.default.createElement("div",t(h+"container","sectionContainer",p&&"sectionContainerFirst"),d.default.createElement(g.default,{section:n,renderSectionTitle:u,theme:t,sectionKeyPrefix:h}),d.default.createElement(w.default,{items:e.sectionsItems[o],itemProps:l,renderItem:i,renderItemData:a,sectionIndex:o,highlightedItemIndex:s===o?c:null,onHighlightedItemChange:e.onHighlightedItemChange,getItemId:e.getItemId,theme:t,keyPrefix:f,ref:e.storeItemsListReference}))})}},{key:"renderItems",value:function(){var e=this.props.items;if(0===e.length)return null;var t=this.theme,n=this.props,r=n.id,o=n.renderItem,i=n.renderItemData,a=n.highlightedSectionIndex,u=n.highlightedItemIndex,s=n.itemProps;return d.default.createElement(w.default,{items:e,itemProps:s,renderItem:o,renderItemData:i,highlightedItemIndex:null===a?u:null,onHighlightedItemChange:this.onHighlightedItemChange,getItemId:this.getItemId,theme:t,keyPrefix:"react-autowhatever-"+r+"-"})}},{key:"ensureHighlightedItemIsVisible",value:function(){var e=this.highlightedItem;if(e){var t=this.itemsContainer,n=e.offsetParent===t?e.offsetTop:e.offsetTop-t.offsetTop,r=t.scrollTop;n<r?r=n:n+e.offsetHeight>r+t.offsetHeight&&(r=n+e.offsetHeight-t.offsetHeight),r!==t.scrollTop&&(t.scrollTop=r)}}},{key:"render",value:function(){var e=this.theme,t=this.props,n=t.id,r=t.multiSection,o=t.renderInputComponent,i=t.renderItemsContainer,a=t.highlightedSectionIndex,s=t.highlightedItemIndex,c=this.state.isInputFocused,l=r?this.renderSections():this.renderItems(),f=null!==l,h=this.getItemId(a,s),p=e("react-autowhatever-"+n+"-container","container",f&&"containerOpen"),m="react-autowhatever-"+n,b=o(u({type:"text",value:"",autoComplete:"off",role:"combobox","aria-autocomplete":"list","aria-owns":m,"aria-expanded":f,"aria-haspopup":f,"aria-activedescendant":h},e("react-autowhatever-"+n+"-input","input",f&&"inputOpen",c&&"inputFocused"),this.props.inputProps,{onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.props.inputProps.onKeyDown&&this.onKeyDown,ref:this.storeInputReference})),v=i({containerProps:u({id:m},e("react-autowhatever-"+n+"-items-container","itemsContainer",f&&"itemsContainerOpen"),{ref:this.storeItemsContainerReference}),children:l});return d.default.createElement("div",p,b,v)}}]),t}(l.Component);A.propTypes={id:h.default.string,multiSection:h.default.bool,renderInputComponent:h.default.func,renderItemsContainer:h.default.func,items:h.default.array.isRequired,renderItem:h.default.func,renderItemData:h.default.object,renderSectionTitle:h.default.func,getSectionItems:h.default.func,inputProps:h.default.object,itemProps:h.default.oneOfType([h.default.object,h.default.func]),highlightedSectionIndex:h.default.number,highlightedItemIndex:h.default.number,theme:h.default.oneOfType([h.default.object,h.default.array])},A.defaultProps={id:"1",multiSection:!1,renderInputComponent:S,renderItemsContainer:E,renderItem:function(){throw new Error("`renderItem` must be provided")},renderItemData:k,renderSectionTitle:function(){throw new Error("`renderSectionTitle` must be provided")},getSectionItems:function(){throw new Error("`getSectionItems` must be provided")},inputProps:k,itemProps:k,highlightedSectionIndex:null,highlightedItemIndex:null,theme:x},t.default=A},function(e,t,n){"use strict";var r=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.exports=function(e){function t(e){for(null===e?e=0:e++;e<u.length&&0===u[e];)e++;return e===u.length?null:e}function n(e){for(null===e?e=u.length-1:e--;e>=0&&0===u[e];)e--;return-1===e?null:e}function o(e){var n=r(e,2),o=n[0],i=n[1];return s?null===i||i===u[o]-1?(o=t(o),null===o?[null,null]:[o,0]):[o,i+1]:0===u||i===u-1?[null,null]:null===i?[null,0]:[null,i+1]}function i(e){var t=r(e,2),o=t[0],i=t[1];return s?null===i||0===i?(o=n(o),null===o?[null,null]:[o,u[o]-1]):[o,i-1]:0===u||0===i?[null,null]:null===i?[null,u-1]:[null,i-1]}function a(e){return null===o(e)[1]}var u=e.data,s=e.multiSection;return{next:o,prev:i,isLast:a}}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(615),a=function(e){return e&&e.__esModule?e:{default:e}}(i),u=function(e){return e};t.default=function(e){var t=Array.isArray(e)&&2===e.length?e:[e,null],n=o(t,2),i=n[0],s=n[1];return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var c=n.map(function(e){return i[e]}).filter(u);return"string"==typeof c[0]||"function"==typeof s?{key:e,className:s?s.apply(void 0,r(c)):c.join(" ")}:{key:e,style:a.default.apply(void 0,[{}].concat(r(c)))}}},e.exports=t.default},function(e,t,n){"use strict";function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function o(e){var t=Object.getOwnPropertyNames(e);return Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t.filter(function(t){return i.call(e,t)})}var i=Object.prototype.propertyIsEnumerable;e.exports=Object.assign||function(e,t){for(var n,i,a=r(e),u=1;u<arguments.length;u++){n=arguments[u],i=o(Object(n));for(var s=0;s<i.length;s++)a[i[s]]=n[i[s]]}return a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=r(s),l=n(13),d=r(l),f=n(126),h=r(f),p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e){return(0,h.default)(e,this.props)}},{key:"render",value:function(){var e=this.props,t=e.section,n=e.renderSectionTitle,r=e.theme,o=e.sectionKeyPrefix,i=n(t);return i?c.default.createElement("div",r(o+"title","sectionTitle"),i):null}}]),t}(s.Component);p.propTypes={section:d.default.any.isRequired,renderSectionTitle:d.default.func.isRequired,theme:d.default.func.isRequired,sectionKeyPrefix:d.default.string.isRequired},t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),d=n(13),f=r(d),h=n(618),p=r(h),m=n(126),b=r(m),v=function(e){function t(){var e,n,r,a;o(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.storeHighlightedItemReference=function(e){r.props.onHighlightedItemChange(null===e?null:e.item)},a=n,i(r,a)}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return(0,b.default)(e,this.props,["itemProps"])}},{key:"render",value:function(){var e=this,t=this.props,n=t.items,r=t.itemProps,o=t.renderItem,i=t.renderItemData,a=t.sectionIndex,s=t.highlightedItemIndex,c=t.getItemId,d=t.theme,f=t.keyPrefix,h=null===a?f:f+"section-"+a+"-",m="function"==typeof r;return l.default.createElement("ul",u({role:"listbox"},d(h+"items-list","itemsList")),n.map(function(t,n){var f=0===n,b=n===s,v=h+"item-"+n,y=m?r({sectionIndex:a,itemIndex:n}):r,g=u({id:c(a,n)},d(v,"item",f&&"itemFirst",b&&"itemHighlighted"),y);return b&&(g.ref=e.storeHighlightedItemReference),l.default.createElement(p.default,u({},g,{sectionIndex:a,isHighlighted:b,itemIndex:n,item:t,renderItem:o,renderItemData:i}))}))}}]),t}(c.Component);v.propTypes={items:f.default.array.isRequired,itemProps:f.default.oneOfType([f.default.object,f.default.func]),renderItem:f.default.func.isRequired,renderItemData:f.default.object.isRequired,sectionIndex:f.default.number,highlightedItemIndex:f.default.number,onHighlightedItemChange:f.default.func.isRequired,getItemId:f.default.func.isRequired,theme:f.default.func.isRequired,keyPrefix:f.default.string.isRequired},v.defaultProps={sectionIndex:null},t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),d=r(l),f=n(13),h=r(f),p=n(126),m=r(p),b=function(e){function t(){var e,n,r,o;i(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.storeItemReference=function(e){null!==e&&(r.item=e)},r.onMouseEnter=function(e){var t=r.props,n=t.sectionIndex,o=t.itemIndex;r.props.onMouseEnter(e,{sectionIndex:n,itemIndex:o})},r.onMouseLeave=function(e){var t=r.props,n=t.sectionIndex,o=t.itemIndex;r.props.onMouseLeave(e,{sectionIndex:n,itemIndex:o})},r.onMouseDown=function(e){var t=r.props,n=t.sectionIndex,o=t.itemIndex;r.props.onMouseDown(e,{sectionIndex:n,itemIndex:o})},r.onClick=function(e){var t=r.props,n=t.sectionIndex,o=t.itemIndex;r.props.onClick(e,{sectionIndex:n,itemIndex:o})},o=n,a(r,o)}return u(t,e),c(t,[{key:"shouldComponentUpdate",value:function(e){return(0,m.default)(e,this.props,["renderItemData"])}},{key:"render",value:function(){var e=this.props,t=e.isHighlighted,n=e.item,r=e.renderItem,i=e.renderItemData,a=o(e,["isHighlighted","item","renderItem","renderItemData"]);return delete a.sectionIndex,delete a.itemIndex,"function"==typeof a.onMouseEnter&&(a.onMouseEnter=this.onMouseEnter),"function"==typeof a.onMouseLeave&&(a.onMouseLeave=this.onMouseLeave),"function"==typeof a.onMouseDown&&(a.onMouseDown=this.onMouseDown),"function"==typeof a.onClick&&(a.onClick=this.onClick),d.default.createElement("li",s({role:"option"},a,{ref:this.storeItemReference}),r(n,s({isHighlighted:t},i)))}}]),t}(l.Component);b.propTypes={sectionIndex:h.default.number,isHighlighted:h.default.bool.isRequired,itemIndex:h.default.number.isRequired,item:h.default.any.isRequired,renderItem:h.default.func.isRequired,renderItemData:h.default.object.isRequired,onMouseEnter:h.default.func,onMouseLeave:h.default.func,onMouseDown:h.default.func,onClick:h.default.func},t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.defaultTheme={container:"react-autosuggest__container",containerOpen:"react-autosuggest__container--open",input:"react-autosuggest__input",inputOpen:"react-autosuggest__input--open",inputFocused:"react-autosuggest__input--focused",suggestionsContainer:"react-autosuggest__suggestions-container",suggestionsContainerOpen:"react-autosuggest__suggestions-container--open",suggestionsList:"react-autosuggest__suggestions-list",suggestion:"react-autosuggest__suggestion",suggestionFirst:"react-autosuggest__suggestion--first",suggestionHighlighted:"react-autosuggest__suggestion--highlighted",sectionContainer:"react-autosuggest__section-container",sectionContainerFirst:"react-autosuggest__section-container--first",sectionTitle:"react-autosuggest__section-title"},t.mapToAutowhateverTheme=function(e){var t={};for(var n in e)switch(n){case"suggestionsContainer":t.itemsContainer=e[n];break;case"suggestionsContainerOpen":t.itemsContainerOpen=e[n];break;case"suggestion":t.item=e[n];break;case"suggestionFirst":t.itemFirst=e[n];break;case"suggestionHighlighted":t.itemHighlighted=e[n];break;case"suggestionsList":t.itemsList=e[n];break;default:t[n]=e[n]}return t}},function(e,t){e.exports={"c-btn":"c-btn--9wSqg","c-btn--regular":"c-btn--regular--3XMAq","c-btn--secondary":"c-btn--secondary--2uoab","c-btn--danger":"c-btn--danger--2pmWy","c-btn--danger-outline":"c-btn--danger-outline--3wvl-","c-btn--highlight":"c-btn--highlight--32XFP","c-btn-client":"c-btn-client--1a2uZ","c-btn-client-mobile":"c-btn-client-mobile--3eDbn",spin:"spin--2PbCg","c-btn--share":"c-btn--share--3wNhX","c-btn--send":"c-btn--send--3Rvel","c-btn--download":"c-btn--download--1mBfu","c-btn--upload":"c-btn--upload--2Rdxo","c-btn--delete":"c-btn--delete--26vvB","c-link--upload":"c-link--upload--3cOkc","c-link--delete":"c-link--delete--1MLRk","c-btn--more":"c-btn--more--Uaa9H","c-btn-extra":"c-btn-extra--2Sw63","c-btn-extra--white":"c-btn-extra--white--1aoJD","c-btn--close":"c-btn--close--1crJK","c-btn-alert":"c-btn-alert--3nnib","c-btn-alert--error":"c-btn-alert--error--2P6XC","c-btn-alert--info":"c-btn-alert--info--d1oUK","c-btn-alert--success":"c-btn-alert--success--MVddS","coz-sidebar":"coz-sidebar--15VQ8","o-sidebar":"o-sidebar--3VU2h","c-nav":"c-nav--1nDaj","c-nav-item":"c-nav-item--NRwHw","c-nav-link":"c-nav-link--2ifQ4",active:"active--3jm7o","is-active":"is-active--3r7tf","coz-nav-item":"coz-nav-item--2yFs9","coz-hidden":"coz-hidden--1x9vx","u-visuallyhidden":"u-visuallyhidden--1jEdL","u-hide":"u-hide--3glJu","coz-desktop":"coz-desktop--35M1b","u-hide--mob":"u-hide--mob--3ZZFU","coz-mobile":"coz-mobile--3VnfN","u-hide--desk":"u-hide--desk--3eu6E","u-p-1":"u-p-1--6pZj3","u-pt-1":"u-pt-1--1V7Vp","u-pb-1":"u-pb-1--1Ha4Z","u-pl-1":"u-pl-1--Op7P6","u-pr-1":"u-pr-1--3dVgO","u-p-2":"u-p-2--3doy-","u-pt-2":"u-pt-2--3N1qF","u-pb-2":"u-pb-2--JV-W2","u-pl-2":"u-pl-2--25Ew3","u-pr-2":"u-pr-2--1Z2YC","u-p-3":"u-p-3--3v6HL","u-pt-3":"u-pt-3--2Z4qo","u-pb-3":"u-pb-3--R2z8v","u-pl-3":"u-pl-3--2I4Xg","u-pr-3":"u-pr-3--CxiU-","u-p-half":"u-p-half--3lVOU","u-pt-half":"u-pt-half--wNOtZ","u-pb-half":"u-pb-half--2oZwh","u-pl-half":"u-pl-half--1V0CY","u-pr-half":"u-pr-half--12sdj","u-p-1-half":"u-p-1-half--2G1XQ","u-pt-1-half":"u-pt-1-half--1eUCk","u-pb-1-half":"u-pb-1-half--zCy_b","u-pl-1-half":"u-pl-1-half--TqWap","u-pr-1-half":"u-pr-1-half--k1ZQ1","u-p-2-half":"u-p-2-half--S0N5e","u-pt-2-half":"u-pt-2-half--tqQEM","u-pb-2-half":"u-pb-2-half--13W0V","u-pl-2-half":"u-pl-2-half--3wQ9f","u-pr-2-half":"u-pr-2-half--26fRY","u-m-1":"u-m-1--hyBTf","u-mt-1":"u-mt-1--3pjeb","u-mb-1":"u-mb-1--3wBsg","u-ml-1":"u-ml-1--yghgC","u-mr-1":"u-mr-1--1K_XP","u-m-2":"u-m-2--2ndyC","u-mt-2":"u-mt-2--3R5Z6","u-mb-2":"u-mb-2--3ektE","u-ml-2":"u-ml-2--3LYao","u-mr-2":"u-mr-2--2zC1m","u-m-3":"u-m-3--2048L","u-mt-3":"u-mt-3--y6AK4","u-mb-3":"u-mb-3--3Vrms","u-ml-3":"u-ml-3--1SVwi","u-mr-3":"u-mr-3--2hg-5","u-m-half":"u-m-half--BYdJF","u-mt-half":"u-mt-half--2Wb1B","u-mb-half":"u-mb-half--1-h-R","u-ml-half":"u-ml-half--11ckX","u-mr-half":"u-mr-half--Fqgbl","u-m-1-half":"u-m-1-half--3dHnq","u-mt-1-half":"u-mt-1-half--2DlWL","u-mb-1-half":"u-mb-1-half--14NDK","u-ml-1-half":"u-ml-1-half--3OsJV","u-mr-1-half":"u-mr-1-half--3YzpM","u-m-2-half":"u-m-2-half--1QhBU","u-mt-2-half":"u-mt-2-half--3nvwE","u-mb-2-half":"u-mb-2-half--2mAGL","u-ml-2-half":"u-ml-2-half--3YS8K","u-mr-2-half":"u-mr-2-half--1_m1T","coz-error":"coz-error--1DCoD","u-error":"u-error--3alE0","coz-error--warning":"coz-error--warning--1Go6Y","u-error--warning":"u-error--warning--35-KN","u-valid":"u-valid--gULS8","u-warn":"u-warn--8S68H",container:"container--3-RCo",suggestionsContainer:"suggestionsContainer--3lRrx",suggestionsContainerOpen:"suggestionsContainerOpen--3Y523",input:"input--2DlOl",suggestionsList:"suggestionsList--35tTI",suggestion:"suggestion--iMlMu",suggestionHighlighted:"suggestionHighlighted--3v0My",recipientsContainer:"recipientsContainer--1GWdl",recipientChip:"recipientChip--1HV-h",removeRecipient:"removeRecipient--2dtVM"}},function(e,t){e.exports={"c-btn":"c-btn--1HcxQ","c-btn--regular":"c-btn--regular--3sw4J","c-btn--secondary":"c-btn--secondary--3gQax","c-btn--danger":"c-btn--danger--3tI2d","c-btn--danger-outline":"c-btn--danger-outline--3A_sq","c-btn--highlight":"c-btn--highlight--1bOYx","c-btn-client":"c-btn-client--3_WBn","c-btn-client-mobile":"c-btn-client-mobile--3b60u","pho-recipient-menu-btn":"pho-recipient-menu-btn--1E0TS",spin:"spin--2Hvw_","c-btn--share":"c-btn--share--4UK3c","c-btn--send":"c-btn--send--1qF_2","c-btn--download":"c-btn--download--1hXpl","c-btn--upload":"c-btn--upload--lPNIc","c-btn--delete":"c-btn--delete--2gk8X","c-link--upload":"c-link--upload--Z-SFK","c-link--delete":"c-link--delete--ahE4j","c-btn--more":"c-btn--more--2PIDj","c-btn-extra":"c-btn-extra--1w9WH","c-btn-extra--white":"c-btn-extra--white--3KTEW","c-btn--close":"c-btn--close--3EY7r","c-btn-alert":"c-btn-alert--8S4Wp","c-btn-alert--error":"c-btn-alert--error--keoGc","c-btn-alert--info":"c-btn-alert--info--1isR1","c-btn-alert--success":"c-btn-alert--success--1Bd5Y","coz-sidebar":"coz-sidebar--1n-4G","o-sidebar":"o-sidebar--3vyeO","c-nav":"c-nav--14BZy","c-nav-item":"c-nav-item--133Y9","c-nav-link":"c-nav-link--3ktwk",active:"active--31Z5W","is-active":"is-active--_1zVQ","coz-nav-item":"coz-nav-item--10Z8r","coz-hidden":"coz-hidden--1MbUm","u-visuallyhidden":"u-visuallyhidden--GU8r9","u-hide":"u-hide--3V5Fp","coz-desktop":"coz-desktop--MbTZf","u-hide--mob":"u-hide--mob--2eJS4","coz-mobile":"coz-mobile--ksnlO","u-hide--desk":"u-hide--desk--1pG40","u-p-1":"u-p-1--2nMVp","u-pt-1":"u-pt-1--3ijdr","u-pb-1":"u-pb-1--1_VpJ","u-pl-1":"u-pl-1--2-SPa","u-pr-1":"u-pr-1--3huND","u-p-2":"u-p-2--3__NX","u-pt-2":"u-pt-2--_ztW-","u-pb-2":"u-pb-2--2_hzs","u-pl-2":"u-pl-2--1LY9R","u-pr-2":"u-pr-2--1y_fc","u-p-3":"u-p-3--3zY_h","u-pt-3":"u-pt-3--KKWbe","u-pb-3":"u-pb-3--k43Hj","u-pl-3":"u-pl-3--yZy3G","u-pr-3":"u-pr-3--2xYJG","u-p-half":"u-p-half--qFpV5","u-pt-half":"u-pt-half--ICLLy","u-pb-half":"u-pb-half--3y69G","u-pl-half":"u-pl-half--2VHxG","u-pr-half":"u-pr-half--3dvqG","u-p-1-half":"u-p-1-half--2WxYd","u-pt-1-half":"u-pt-1-half--2Art4","u-pb-1-half":"u-pb-1-half--1J5Ep","u-pl-1-half":"u-pl-1-half--1Gl-h","u-pr-1-half":"u-pr-1-half--3YoKV","u-p-2-half":"u-p-2-half--1nQ2C","u-pt-2-half":"u-pt-2-half--5m9iK","u-pb-2-half":"u-pb-2-half--3W4jW","u-pl-2-half":"u-pl-2-half--2Ai-z","u-pr-2-half":"u-pr-2-half--2I8gF","u-m-1":"u-m-1--2WTrQ","u-mt-1":"u-mt-1--3Mm6i","u-mb-1":"u-mb-1--quuKS","u-ml-1":"u-ml-1--2kDJU","u-mr-1":"u-mr-1--18cRY","u-m-2":"u-m-2--1ZpDf","u-mt-2":"u-mt-2--3gizs","u-mb-2":"u-mb-2--1bLgt","u-ml-2":"u-ml-2--hns_8","u-mr-2":"u-mr-2--c5sPE","u-m-3":"u-m-3--3l9c4","u-mt-3":"u-mt-3--26o3Y","u-mb-3":"u-mb-3--37d68","u-ml-3":"u-ml-3--D3YxR","u-mr-3":"u-mr-3--1lNqQ","u-m-half":"u-m-half--3xrNB","u-mt-half":"u-mt-half--3ooXn","u-mb-half":"u-mb-half--2iI3h","u-ml-half":"u-ml-half--1RiBs","u-mr-half":"u-mr-half--3JLU4","u-m-1-half":"u-m-1-half--2hdO5","u-mt-1-half":"u-mt-1-half--1GXSg","u-mb-1-half":"u-mb-1-half--eHkTD","u-ml-1-half":"u-ml-1-half--2OCPo","u-mr-1-half":"u-mr-1-half--9vpgF","u-m-2-half":"u-m-2-half--1Djrc","u-mt-2-half":"u-mt-2-half--V58nh","u-mb-2-half":"u-mb-2-half--2tmNp","u-ml-2-half":"u-ml-2-half--PhZ40","u-mr-2-half":"u-mr-2-half--2gXcE","coz-error":"coz-error--3V22U","u-error":"u-error--rgMXF","coz-error--warning":"coz-error--warning--3PFFK","u-error--warning":"u-error--warning--1PLhn","u-valid":"u-valid--1Sgxk","u-warn":"u-warn--2i_Id","pho-recipient":"pho-recipient--3QLIU","pho-avatar":"pho-avatar--2vD7Y","pho-recipient-avatar":"pho-recipient-avatar--3k-Eh","pho-recipient-idents":"pho-recipient-idents--3QqX_","pho-recipient-status":"pho-recipient-status--3vHac","pho-recipient-user":"pho-recipient-user--tGPhu","pho-recipient-url":"pho-recipient-url--2k3aK","pho-action-unshare":"pho-action-unshare--3MvRQ"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.Spinner=void 0;var i=n(0),a=r(i),u=n(307),s=n(3),c=r(s),l=n(623),d=r(l),f=t.Spinner=function(e){var t,n=e.t,r=e.loadingType,i=e.middle,u=e.noMargin,s=e.color,l=e.size;return a.default.createElement("div",{className:(0,c.default)(d.default["coz-spinner"],(t={},o(t,d.default["coz-spinner--middle"],i),o(t,d.default["coz-spinner--no-margin"],u),o(t,d.default["coz-spinner--"+s],s),o(t,d.default["coz-spinner--"+l],l),t))},r&&a.default.createElement("p",null,n("loading."+r)))};t.default=(0,u.translate)()(f)},function(e,t){e.exports={"coz-spinner":"coz-spinner--6cG0u","coz-spinner--blue":"coz-spinner--blue--1fL-n","coz-spinner--grey":"coz-spinner--grey--1Nk96","coz-spinner--white":"coz-spinner--white--2AN8H","coz-spinner--red":"coz-spinner--red--TAJ8V","coz-spinner--tiny":"coz-spinner--tiny--3X4-A","coz-spinner--small":"coz-spinner--small--AWitf","coz-spinner--medium":"coz-spinner--medium--JCb_v","coz-spinner--large":"coz-spinner--large--2QW6o","coz-spinner--xlarge":"coz-spinner--xlarge--1oC3p","coz-spinner--xxlarge":"coz-spinner--xxlarge--3rzJm",spin:"spin--3DZqI","coz-spinner--middle":"coz-spinner--middle--3u_lQ","coz-spinner--nomargin":"coz-spinner--nomargin--3KjGZ"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t={base:["304FFE","2979FF","00B0FF","00DCE9","00D5B8","00C853","E70505","FF5700","FF7900","FFA300","B3C51D","64DD17","FF2828","F819AA","AA00FF","6200EA","7190AB","51658D"]},n=function(e){var t,n,r,o;for(t=0,o=Math.pow(2,32),n=0,r=e.length;n<r;n++)t=(31*t+e.charCodeAt(n))%o;return t};return{getHash:n,getColor:function(e,r){var o,i;return o=t[r]||t.base,i=n(e),"#"+o[i%o.length]}}};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=r(o),a=n(127),u=r(a),s=function(e){var t=e.recipients,n=e.documentType,r=e.onUnshare;return i.default.createElement("div",null,t.filter(function(e){return"revoked"!==e.status}).map(function(e){var t=e.contact,o=e.status,a=e.type;return i.default.createElement(u.default,{contact:t,status:o,type:a,documentType:n,onUnshare:r})}))};t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SharingDetailsModal=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(80),c=r(s),l=n(0),d=r(l),f=n(14),h=n(127),p=n(61),m=r(p),b=h.UserAvatar,v=t.SharingDetailsModal=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.context,t=e.t,n=e.f,r=this.props,o=r.onClose,i=r.sharing,a=r.document,u=r.documentType,s=void 0===u?"Document":u;return d.default.createElement(m.default,{title:t(s+".share.details.title"),secondaryAction:o},d.default.createElement("div",{className:c.default["pho-share-modal-content"]},d.default.createElement(b,{name:t(s+".share.sharedWithMe"),url:i.sharer.url}),d.default.createElement("div",{className:c.default["pho-share-details-created"]},t(s+".share.details.createdAt",{date:n(a.created_at||null,"Do MMMM YYYY")})),d.default.createElement("div",{className:c.default["pho-share-details-perm"]},t(s+".share.details."+("master-slave"===i.sharingType?"ro":"rw")))))}}]),t}(l.Component);t.default=(0,f.cozyConnect)(function(e){return{sharing:(0,f.fetchSharings)(e.document._type,e.document._id)}})(v)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=r(i),u=n(3),s=r(u),c=n(628),l=r(c),d=function(e){var t=e.byMe,n=e.className,r=e.small,i=e.xsmall;return a.default.createElement("div",{className:(0,s.default)(l.default["shared-badge"],n,o({},l.default["--small"],r),o({},l.default["--xsmall"],i))},a.default.createElement("div",{className:(0,s.default)(l.default["shared-badge-icon"],l.default[t?"--by-me":"--with-me"])}))};t.default=d},function(e,t){e.exports={"c-btn":"c-btn--3w-LM","c-btn--regular":"c-btn--regular--3EwRJ","c-btn--secondary":"c-btn--secondary--tg_oi","c-btn--danger":"c-btn--danger--XfxT-","c-btn--danger-outline":"c-btn--danger-outline--3w3L3","c-btn--highlight":"c-btn--highlight--KXL7F","c-btn-client":"c-btn-client--mBeeQ","c-btn-client-mobile":"c-btn-client-mobile--2QvlD",spin:"spin--2woLM","c-btn--share":"c-btn--share--23EU_","c-btn--send":"c-btn--send--1NGHb","c-btn--download":"c-btn--download--1RW71","c-btn--upload":"c-btn--upload--_DV76","c-btn--delete":"c-btn--delete--FZPTn","c-link--upload":"c-link--upload--1DUNv","c-link--delete":"c-link--delete--1kTcZ","c-btn--more":"c-btn--more--3DJ1J","c-btn-extra":"c-btn-extra--1Ck88","c-btn-extra--white":"c-btn-extra--white--1PM6V","c-btn--close":"c-btn--close--3JC9v","c-btn-alert":"c-btn-alert--1VRKj","c-btn-alert--error":"c-btn-alert--error--NVPZy","c-btn-alert--info":"c-btn-alert--info--r16YL","c-btn-alert--success":"c-btn-alert--success--21s98","coz-sidebar":"coz-sidebar--1hanM","o-sidebar":"o-sidebar--1C0mV","c-nav":"c-nav--4wDJi","c-nav-item":"c-nav-item--2VD0Z","c-nav-link":"c-nav-link--9OVH3",active:"active--1nHSX","is-active":"is-active--2ecD6","coz-nav-item":"coz-nav-item--1G-rj","coz-hidden":"coz-hidden--4TlSU","u-visuallyhidden":"u-visuallyhidden--3qPt9","u-hide":"u-hide--1HCkn","coz-desktop":"coz-desktop--35qFn","u-hide--mob":"u-hide--mob--1eQxn","coz-mobile":"coz-mobile--2h1bT","u-hide--desk":"u-hide--desk--320yM","u-p-1":"u-p-1--1V0Ay","u-pt-1":"u-pt-1--31kyx","u-pb-1":"u-pb-1--2JWOY","u-pl-1":"u-pl-1--1vaZB","u-pr-1":"u-pr-1--3LfdT","u-p-2":"u-p-2--3T4TG","u-pt-2":"u-pt-2--3lhSw","u-pb-2":"u-pb-2--3cgNd","u-pl-2":"u-pl-2--2xQbW","u-pr-2":"u-pr-2--3nZr3","u-p-3":"u-p-3--6XRlN","u-pt-3":"u-pt-3--2woXi","u-pb-3":"u-pb-3--3XbXL","u-pl-3":"u-pl-3--1ywl7","u-pr-3":"u-pr-3--2_s4z","u-p-half":"u-p-half--ruiST","u-pt-half":"u-pt-half--3iK2T","u-pb-half":"u-pb-half--2FDLK","u-pl-half":"u-pl-half--44ouy","u-pr-half":"u-pr-half--3bPw2","u-p-1-half":"u-p-1-half--IDt9F","u-pt-1-half":"u-pt-1-half--PYk5W","u-pb-1-half":"u-pb-1-half--3S_Ph","u-pl-1-half":"u-pl-1-half--2HWvR","u-pr-1-half":"u-pr-1-half--3lJq6","u-p-2-half":"u-p-2-half--1-mRH","u-pt-2-half":"u-pt-2-half--1Oll2","u-pb-2-half":"u-pb-2-half--2G5hy","u-pl-2-half":"u-pl-2-half--2ucT-","u-pr-2-half":"u-pr-2-half--kq9Uk","u-m-1":"u-m-1--o4QdZ","u-mt-1":"u-mt-1--2Ucav","u-mb-1":"u-mb-1--3b3kG","u-ml-1":"u-ml-1--1YAj3","u-mr-1":"u-mr-1--3S4f4","u-m-2":"u-m-2--rUbXp","u-mt-2":"u-mt-2--1Wuqn","u-mb-2":"u-mb-2--1Nv5W","u-ml-2":"u-ml-2--z1zO3","u-mr-2":"u-mr-2--3H9gp","u-m-3":"u-m-3--1-Knj","u-mt-3":"u-mt-3--2qO4s","u-mb-3":"u-mb-3--1Anuw","u-ml-3":"u-ml-3--Noi0G","u-mr-3":"u-mr-3--d_jQo","u-m-half":"u-m-half--5qSg8","u-mt-half":"u-mt-half--2P_yU","u-mb-half":"u-mb-half--YU6MO","u-ml-half":"u-ml-half--3PFqx","u-mr-half":"u-mr-half--363Ru","u-m-1-half":"u-m-1-half--33Zmu","u-mt-1-half":"u-mt-1-half--2tnmk","u-mb-1-half":"u-mb-1-half--3xSyy","u-ml-1-half":"u-ml-1-half--p3U1v","u-mr-1-half":"u-mr-1-half--Dv8ww","u-m-2-half":"u-m-2-half--2I_AF","u-mt-2-half":"u-mt-2-half--2lD-H","u-mb-2-half":"u-mb-2-half--1uUCa","u-ml-2-half":"u-ml-2-half--2W-T1","u-mr-2-half":"u-mr-2-half--25mmi","coz-error":"coz-error--3-8Pv","u-error":"u-error--351FO","coz-error--warning":"coz-error--warning--3WqiI","u-error--warning":"u-error--warning--3rzO_","u-valid":"u-valid--jH9bB","u-warn":"u-warn--3nVa8","shared-badge":"shared-badge--2cmgU","--small":"_--small--thdoQ","shared-badge-icon":"shared-badge-icon--V-RtM","--xsmall":"_--xsmall--3hL0z","--by-me":"_--by-me--3gc-L","--with-me":"_--with-me--32UlG"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.SharedWithMeButton=t.SharedByMeButton=t.ShareButton=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(0),u=r(a),s=n(3),c=r(s),l=n(630),d=r(l),f=function(e){var t=e.label,n=e.onClick,r=e.className,a=o(e,["label","onClick","className"]);return u.default.createElement("button",i({role:"button",className:(0,c.default)(d.default["c-btn"],d.default["c-btn--secondary"],d.default["c-btn--share"],r),onClick:function(){return n()}},a),t)};t.ShareButton=f;var h=function(e){var t=e.label,n=e.onClick,r=e.className,a=o(e,["label","onClick","className"]);return u.default.createElement("button",i({role:"button",className:(0,c.default)(d.default["c-btn"],d.default["coz-btn-shared"],r),onClick:function(){return n()}},a),t)};t.SharedByMeButton=h;var p=function(e){var t=e.label,n=e.onClick,r=e.className,a=o(e,["label","onClick","className"]);return u.default.createElement("button",i({role:"button",className:(0,c.default)(d.default["c-btn"],d.default["coz-btn-sharedWithMe"],r),onClick:function(){return n()}},a),t)};t.SharedWithMeButton=p,t.default=f},function(e,t){e.exports={"c-btn":"c-btn--1U4w4","c-btn--regular":"c-btn--regular--1Y5YX","c-btn--secondary":"c-btn--secondary--qhqEA","c-btn--danger":"c-btn--danger--2LHxf","c-btn--danger-outline":"c-btn--danger-outline--GDGWj","c-btn--highlight":"c-btn--highlight--C9f1d","c-btn-client":"c-btn-client--2VNWb","c-btn-client-mobile":"c-btn-client-mobile--2-NXU",spin:"spin--2qlmF","c-btn--share":"c-btn--share--vSy1J","coz-btn-shared":"coz-btn-shared--27aW9","coz-btn-sharedWithMe":"coz-btn-sharedWithMe--1CdsF","c-btn--send":"c-btn--send--1Sv4J","c-btn--download":"c-btn--download--3CU-y","c-btn--upload":"c-btn--upload--3b-uP","c-btn--delete":"c-btn--delete--3ycra","c-link--upload":"c-link--upload--2BNhr","c-link--delete":"c-link--delete--1D9J4","c-btn--more":"c-btn--more--Ci5Q0","c-btn-extra":"c-btn-extra--15OeR","c-btn-extra--white":"c-btn-extra--white--32g6U","c-btn--close":"c-btn--close--Cehr_","c-btn-alert":"c-btn-alert--2Q3K_","c-btn-alert--error":"c-btn-alert--error--UFUwh","c-btn-alert--info":"c-btn-alert--info--2FjYG","c-btn-alert--success":"c-btn-alert--success--1eKNg","coz-sidebar":"coz-sidebar--1Rwy3","o-sidebar":"o-sidebar--2sbum","c-nav":"c-nav--17bHP","c-nav-item":"c-nav-item--2SAFZ","c-nav-link":"c-nav-link--3KDPw",active:"active--1Myt5","is-active":"is-active--2KQNy","coz-nav-item":"coz-nav-item--27HgV","coz-hidden":"coz-hidden--1GRm0","u-visuallyhidden":"u-visuallyhidden--3T6iy","u-hide":"u-hide--1KpIW","coz-desktop":"coz-desktop--1mbtG","u-hide--mob":"u-hide--mob--4F3tT","coz-mobile":"coz-mobile--1xK_Q","u-hide--desk":"u-hide--desk--2Yk1I","u-p-1":"u-p-1--PJyOc","u-pt-1":"u-pt-1--cfqTz","u-pb-1":"u-pb-1--3V3TO","u-pl-1":"u-pl-1--1vmhi","u-pr-1":"u-pr-1--1BusK","u-p-2":"u-p-2--1H0Aq","u-pt-2":"u-pt-2--2ebSF","u-pb-2":"u-pb-2--1rvbH","u-pl-2":"u-pl-2--2TkZq","u-pr-2":"u-pr-2--SLYQy","u-p-3":"u-p-3--2PgRK","u-pt-3":"u-pt-3--58_px","u-pb-3":"u-pb-3--TrOMl","u-pl-3":"u-pl-3--3XZBf","u-pr-3":"u-pr-3--hggrH","u-p-half":"u-p-half--2BODn","u-pt-half":"u-pt-half--1UefD","u-pb-half":"u-pb-half--2IQ8z","u-pl-half":"u-pl-half--1LTAz","u-pr-half":"u-pr-half--2JgaW","u-p-1-half":"u-p-1-half--3vVcI","u-pt-1-half":"u-pt-1-half--2-y_Z","u-pb-1-half":"u-pb-1-half--1Zlwi","u-pl-1-half":"u-pl-1-half--1KpQ0","u-pr-1-half":"u-pr-1-half--3uK9r","u-p-2-half":"u-p-2-half--26434","u-pt-2-half":"u-pt-2-half--18vyt","u-pb-2-half":"u-pb-2-half--3muaX","u-pl-2-half":"u-pl-2-half--QEuT9","u-pr-2-half":"u-pr-2-half--1iIIE","u-m-1":"u-m-1--NBSRW","u-mt-1":"u-mt-1--2oAzC","u-mb-1":"u-mb-1--1RizB","u-ml-1":"u-ml-1--eC3UC","u-mr-1":"u-mr-1--lOeBB","u-m-2":"u-m-2--32ojh","u-mt-2":"u-mt-2--L_Z_z","u-mb-2":"u-mb-2--2MU13","u-ml-2":"u-ml-2--qbu4W","u-mr-2":"u-mr-2--1oWcM","u-m-3":"u-m-3--2OPBQ","u-mt-3":"u-mt-3--1QIDc","u-mb-3":"u-mb-3--3awoK","u-ml-3":"u-ml-3--38ysD","u-mr-3":"u-mr-3--3m3XR","u-m-half":"u-m-half--1Nkxa","u-mt-half":"u-mt-half--1M4ih","u-mb-half":"u-mb-half--1xEsm","u-ml-half":"u-ml-half--3Agv1","u-mr-half":"u-mr-half--1kAEB","u-m-1-half":"u-m-1-half--34dJY","u-mt-1-half":"u-mt-1-half--1ujBX","u-mb-1-half":"u-mb-1-half--5RFwe","u-ml-1-half":"u-ml-1-half--QdHXV","u-mr-1-half":"u-mr-1-half--3qs7y","u-m-2-half":"u-m-2-half--3cZHd","u-mt-2-half":"u-mt-2-half--1IdRA","u-mb-2-half":"u-mb-2-half--xUMPI","u-ml-2-half":"u-ml-2-half--1x5ix","u-mr-2-half":"u-mr-2-half--Ab7PF","coz-error":"coz-error--P6EFN","u-error":"u-error--29jb6","coz-error--warning":"coz-error--warning--2J6zg","u-error--warning":"u-error--warning--yMkGT","u-valid":"u-valid--2c6o9","u-warn":"u-warn--1II_H"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=r(o),a=n(19),u=n(3),s=r(u),c=n(7),l=n(68),d=r(l),f=n(83),h=n(124),p=r(h),m=function(e){var t=e.t;return i.default.createElement("div",{className:p.default["pho-toolbar"],role:"toolbar"},i.default.createElement("div",{className:p.default["u-hide--mob"]},i.default.createElement(a.Link,{role:"button",className:(0,s.default)(p.default["pho-btn-new"]),to:"/albums/new"},t("Toolbar.album_new"))),i.default.createElement(d.default,{className:(0,s.default)(p.default["pho-toolbar-menu"],p.default["u-hide--desk"]),button:i.default.createElement(f.MoreButton,null)},i.default.createElement(l.Item,null,i.default.createElement("div",null,i.default.createElement(a.Link,{to:"/albums/new",className:p.default["pho-action-newalbum"]},t("Toolbar.album_new"))))))};t.default=(0,c.translate)()(m)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),d=r(l),f=n(14),h=n(19),p=n(82),m=n(44),b=n(3),v=r(b),y=n(268),g=r(y),_=n(60),w=r(_),k=n(641),S=r(k),E=function(e){function t(e){var n=this;a(this,t);var r=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.onPhotoToggle=function(e){r.setState(function(t){var n=t.selected,r=n.findIndex(function(t){return t===e.id});return{selected:-1===r?[].concat(i(n),[e.id]):[].concat(i(n.slice(0,r)),i(n.slice(r+1)))}})},r.onPhotosSelect=function(e){r.setState(function(t){var n=t.selected,r=e.filter(function(e){return-1===n.indexOf(e)});return{selected:[].concat(i(n),i(r))}})},r.onPhotosUnselect=function(e){r.setState(function(t){return{selected:t.selected.filter(function(t){return-1===e.indexOf(t)})}})},r.onNameChange=function(e){r.setState({name:e.target.value})},r.onCancel=function(){r.props.router.goBack()},r.onCreate=o(regeneratorRuntime.mark(function e(){var t,o,i,a,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=r.state,o=t.name,i=t.selected,o){e.next=6;break}return w.default.error("Albums.create.error.name_missing"),r.input.focus(),e.abrupt("return");case 6:return e.next=8,r.props.client.checkUniquenessOf("io.cozy.photos.albums","name",o);case 8:if(a=e.sent){e.next=14;break}return w.default.error("Albums.create.error.already_exists",{name:o}),r.input.focus(),r.input.select(),e.abrupt("return");case 14:return e.next=16,r.props.createAlbum(o);case 16:return u=e.sent,s=u.data[0],e.next=20,r.props.addToAlbum(s,i);case 20:c=e.sent,w.default.success("Albums.create.success",{name:o,smart_count:c.length}),r.props.router.push("/albums/"+s.id),e.next=29;break;case 25:e.prev=25,e.t0=e.catch(0),w.default.error("Albums.create.error.generic"),console.log(e.t0);case 29:case"end":return e.stop()}},e,n,[[0,25]])})),r.onUpdate=o(regeneratorRuntime.mark(function e(){var t,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=r.props.album,o=r.state.selected,i=o,e.next=6,r.props.addToAlbum(t,i);case 6:a=e.sent,i.length!==o.length?w.default.info("Alerter.photos.already_added_photo"):w.default.success("Albums.add_photos.success",{name:t.name,smart_count:a.length}),r.props.router.push("/albums/"+t.id),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),w.default.error("Albums.add_photos.error.reference");case 15:case"end":return e.stop()}},e,n,[[0,11]])})),r.state={selected:[],name:e.t("Albums.create.panel_form.placeholder")},r}return s(t,e),c(t,[{key:"componentDidMount",value:function(){this.props.album||(this.input.focus(),this.input.select())}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,r=t.album,o=this.state.name,i=null===r;return d.default.createElement("div",{className:S.default["pho-panel"]},d.default.createElement("div",{className:S.default["pho-panel-form"]},d.default.createElement("header",{className:S.default["pho-panel-header"]},d.default.createElement("div",{className:S.default["pho-panel-wrap"]},i&&d.default.createElement("div",null,d.default.createElement("label",{className:S.default["coz-form-label"]},n("Albums.create.panel_form.label")),d.default.createElement("input",{type:"text",ref:function(t){e.input=t},value:o,onChange:this.onNameChange})),!i&&d.default.createElement("h3",null,r.name))),d.default.createElement("div",{className:S.default["pho-panel-content"]},d.default.createElement("div",{className:S.default["pho-panel-wrap"]},this.renderBoard())),d.default.createElement("footer",{className:S.default["pho-panel-footer"]},d.default.createElement("div",{className:S.default["pho-panel-wrap"]},d.default.createElement("div",{className:S.default["pho-panel-controls"]},d.default.createElement("button",{className:(0,v.default)(S.default["c-btn"],S.default["c-btn--secondary"]),onClick:this.onCancel},n("Albums.create.panel_form.cancel")),d.default.createElement("button",{className:(0,v.default)(S.default["c-btn"],S.default["c-btn--regular"]),onClick:i?this.onCreate:this.onUpdate},n(i?"Albums.create.panel_form.submit":"Albums.create.panel_form.update")))))))}},{key:"renderBoard",value:function(){var e=this.props,t=e.f,n=e.photos;if(!n)return null;var r=n.data?(0,p.getPhotosByMonth)(n.data,t,"MMMM YYYY"):[];return d.default.createElement(g.default,{lists:r,selected:this.state.selected,photosContext:"timeline",showSelection:!0,onPhotoToggle:this.onPhotoToggle,onPhotosSelect:this.onPhotosSelect,onPhotosUnselect:this.onPhotosUnselect,fetchStatus:n.fetchStatus,hasMore:n.hasMore,onFetchMore:n.fetchMore})}}]),t}(l.Component),x=function(e){return{photos:(0,p.fetchTimeline)(),album:e.params.albumId?(0,m.fetchAlbum)(e.params.albumId):null}},A=function(e,t){return{createAlbum:function(t,n){return e((0,m.createAlbum)(t,n))},addToAlbum:function(t,n){return e((0,m.addToAlbum)(t,n))}}};t.default=(0,h.withRouter)((0,f.cozyConnect)(x,A)(E))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoSizer=t.default=void 0;var r=n(634),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=o.default,t.AutoSizer=o.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=r(s),l=n(635),d=r(l),f=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={height:0,width:0},n._onResize=n._onResize.bind(n),n._setRef=n._setRef.bind(n),n}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this._parentNode=this._autoSizer.parentNode,this._detectElementResize=(0,d.default)(),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize()}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.disableHeight,r=e.disableWidth,o=this.state,i=o.height,a=o.width,u={overflow:"visible"};return n||(u.height=0),r||(u.width=0),c.default.createElement("div",{ref:this._setRef,style:u},t({height:i,width:a}))}},{key:"_onResize",value:function(){var e=this.props,t=e.disableHeight,n=e.disableWidth,r=e.onResize,o=this._parentNode.offsetHeight||0,i=this._parentNode.offsetWidth||0,a=window.getComputedStyle(this._parentNode)||{},u=parseInt(a.paddingLeft,10)||0,s=parseInt(a.paddingRight,10)||0,c=parseInt(a.paddingTop,10)||0,l=parseInt(a.paddingBottom,10)||0,d=o-c-l,f=i-u-s;(!t&&this.state.height!==d||!n&&this.state.width!==f)&&(this.setState({height:o-c-l,width:i-u-s}),r({height:o,width:i}))}},{key:"_setRef",value:function(e){this._autoSizer=e}}]),t}(s.PureComponent);f.defaultProps={onResize:function(){}},t.default=f},function(e,t,n){"use strict";function r(){var e;e="undefined"!=typeof window?window:"undefined"!=typeof self?self:this;var t="undefined"!=typeof document&&document.attachEvent;if(!t){var n=function(){var t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){return e.setTimeout(t,20)};return function(e){return t(e)}}(),r=function(){var t=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.clearTimeout;return function(e){return t(e)}}(),o=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,o=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},i=function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height},a=function(e){if(!(e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;o(this),this.__resizeRAF__&&r(this.__resizeRAF__),this.__resizeRAF__=n(function(){i(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach(function(n){n.call(t,e)}))})}},u=!1,s="",c="animationstart",l="Webkit Moz O ms".split(" "),d="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),f="",h=document.createElement("fakeelement");if(void 0!==h.style.animationName&&(u=!0),!1===u)for(var p=0;p<l.length;p++)if(void 0!==h.style[l[p]+"AnimationName"]){f=l[p],f+"Animation",s="-"+f.toLowerCase()+"-",c=d[p],u=!0;break}var m="resizeanim",b="@"+s+"keyframes "+m+" { from { opacity: 0; } to { opacity: 0; } } ",v=s+"animation: 1ms "+m+"; "}var y=function(){if(!document.getElementById("detectElementResize")){var e=(b||"")+".resize-triggers { "+(v||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id="detectElementResize",n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)}};return{addResizeListener:function(n,r){if(t)n.attachEvent("onresize",r);else{if(!n.__resizeTriggers__){var i=e.getComputedStyle(n);i&&"static"==i.position&&(n.style.position="relative"),y(),n.__resizeLast__={},n.__resizeListeners__=[],(n.__resizeTriggers__=document.createElement("div")).className="resize-triggers",n.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',n.appendChild(n.__resizeTriggers__),o(n),n.addEventListener("scroll",a,!0),c&&(n.__resizeTriggers__.__animationListener__=function(e){e.animationName==m&&o(n)},n.__resizeTriggers__.addEventListener(c,n.__resizeTriggers__.__animationListener__))}n.__resizeListeners__.push(r)}},removeResizeListener:function(e,n){if(t)e.detachEvent("onresize",n);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(n),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",a,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(c,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoList=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=r(s),l=n(637),d=r(l),f=n(3),h=r(f),p=n(7),m=n(128),b=r(m),v=n(639),y=r(v),g={width:1,height:1},_=function(e){return 180+(e||1800)/30},w=t.PhotoList=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.t,n=e.key,r=e.title,o=e.photos,i=e.selected,a=e.showSelection,u=e.onPhotoToggle,s=e.onPhotosSelect,l=e.onPhotosUnselect,f=e.containerWidth;if(!f)return null;var p={spacing:16,padding:32},m={spacing:8,padding:0},v=f>=768?p:m,w=(0,d.default)(o.map(function(e){var t=e.metadata||e.attributes.metadata;return t&&t.width&&t.height?t:g}),{containerWidth:f,targetRowHeight:_(f),boxSpacing:{horizontal:v.spacing,vertical:v.spacing},containerPadding:{top:0,right:v.padding,bottom:0,left:v.padding}}),k=o.map(function(e){return e.id}),S=i.length===k.length&&i.every(function(e){return-1!==k.indexOf(e)}),E=w.boxes[0].top,x=w.boxes.findIndex(function(e){return e.top!==E}),A=-1===x?w.boxes[w.boxes.length-1]:w.boxes[x-1],C=f-A.left-A.width-v.padding;return c.default.createElement("div",{className:(0,h.default)(b.default["pho-section"],a&&b.default["pho-section--has-selection"]),key:n,style:"width:"+f+"px;"},c.default.createElement("div",{className:b.default["pho-section-header"]},c.default.createElement("h3",null,r),a&&o.length>1&&S&&c.default.createElement("a",{style:{marginRight:C+"px"},onClick:function(){return l(k)}},t("Board.unselect_all")),a&&o.length>1&&!S&&c.default.createElement("a",{style:{marginRight:C+"px"},onClick:function(){return s(k)}},t("Board.select_all"))),c.default.createElement("div",{className:b.default["pho-photo-wrapper"],style:"width:"+f+"px; height:"+w.containerHeight+"px;"},o.map(function(e,t){return c.default.createElement(y.default,{photo:e,box:w.boxes[t],key:e.id,selected:-1!==i.indexOf(e.id),onToggle:u})})))}}]),t}(s.Component);t.default=(0,p.translate)()(w)},function(e,t,n){"use strict";function r(e,t){var n;return!1!==e.fullWidthBreakoutRowCadence&&(t._rows.length+1)%e.fullWidthBreakoutRowCadence==0&&(n=!0),new u({top:t._containerHeight,left:e.containerPadding.left,width:e.containerWidth-e.containerPadding.left-e.containerPadding.right,spacing:e.boxSpacing.horizontal,targetRowHeight:e.targetRowHeight,targetRowHeightTolerance:e.targetRowHeightTolerance,edgeCaseMinRowHeight:.5*e.targetRowHeight,edgeCaseMaxRowHeight:2*e.targetRowHeight,rightToLeft:!1,isBreakoutRow:n,widowLayoutStyle:e.widowLayoutStyle})}function o(e,t,n){return t._rows.push(n),t._layoutItems=t._layoutItems.concat(n.getItems()),t._containerHeight+=n.height+e.boxSpacing.vertical,n.items}function i(e,t,n){var i,a,u,s=[];return e.forceAspectRatio&&n.forEach(function(t){t.forcedAspectRatio=!0,t.aspectRatio=e.forceAspectRatio}),n.some(function(n,u){if(isNaN(n.aspectRatio))throw new Error("Item "+u+" has an invalid aspect ratio");if(a||(a=r(e,t)),i=a.addItem(n),a.isLayoutComplete()){if(s=s.concat(o(e,t,a)),t._rows.length>=e.maxNumRows)return a=null,!0;if(a=r(e,t),!i&&(i=a.addItem(n),a.isLayoutComplete())){if(s=s.concat(o(e,t,a)),t._rows.length>=e.maxNumRows)return a=null,!0;a=r(e,t)}}}),a&&a.getItems().length&&e.showWidows&&(t._rows.length?(u=t._rows[t._rows.length-1].isBreakoutRow?t._rows[t._rows.length-1].targetRowHeight:t._rows[t._rows.length-1].height,a.forceComplete(!1,u)):a.forceComplete(!1),s=s.concat(o(e,t,a)),e._widowCount=a.getItems().length),t._containerHeight=t._containerHeight-e.boxSpacing.vertical,t._containerHeight=t._containerHeight+e.containerPadding.bottom,{containerHeight:t._containerHeight,widowCount:e._widowCount,boxes:t._layoutItems}}/*!
 * Copyright 2016 Yahoo Inc.
 * Licensed under the terms of the MIT license. Please see LICENSE file in the project root for terms.
 * @license
 */
var a=n(269),u=n(638);e.exports=function(e,t){var n={},r={},o={containerWidth:1060,containerPadding:10,boxSpacing:10,targetRowHeight:320,targetRowHeightTolerance:.25,maxNumRows:Number.POSITIVE_INFINITY,forceAspectRatio:!1,showWidows:!0,fullWidthBreakoutRowCadence:!1,widowLayoutStyle:"left"},u={},s={};return t=t||{},n=a(o,t),u.top=isNaN(parseFloat(n.containerPadding.top))?n.containerPadding:n.containerPadding.top,u.right=isNaN(parseFloat(n.containerPadding.right))?n.containerPadding:n.containerPadding.right,u.bottom=isNaN(parseFloat(n.containerPadding.bottom))?n.containerPadding:n.containerPadding.bottom,u.left=isNaN(parseFloat(n.containerPadding.left))?n.containerPadding:n.containerPadding.left,s.horizontal=isNaN(parseFloat(n.boxSpacing.horizontal))?n.boxSpacing:n.boxSpacing.horizontal,s.vertical=isNaN(parseFloat(n.boxSpacing.vertical))?n.boxSpacing:n.boxSpacing.vertical,n.containerPadding=u,n.boxSpacing=s,r._layoutItems=[],r._awakeItems=[],r._inViewportItems=[],r._leadingOrphans=[],r._trailingOrphans=[],r._containerHeight=n.containerPadding.top,r._rows=[],r._orphans=[],n._widowCount=0,i(n,r,e.map(function(e){return e.width&&e.height?{aspectRatio:e.width/e.height}:{aspectRatio:e}}))}},function(e,t,n){/*!
 * Copyright 2016 Yahoo Inc.
 * Licensed under the terms of the MIT license. Please see LICENSE file in the project root for terms.
 * @license
 */
var r=n(269);(e.exports=function(e){this.top=e.top,this.left=e.left,this.width=e.width,this.spacing=e.spacing,this.targetRowHeight=e.targetRowHeight,this.targetRowHeightTolerance=e.targetRowHeightTolerance,this.minAspectRatio=this.width/e.targetRowHeight*(1-e.targetRowHeightTolerance),this.maxAspectRatio=this.width/e.targetRowHeight*(1+e.targetRowHeightTolerance),this.edgeCaseMinRowHeight=e.edgeCaseMinRowHeight,this.edgeCaseMaxRowHeight=e.edgeCaseMaxRowHeight,this.widowLayoutStyle=e.widowLayoutStyle,this.isBreakoutRow=e.isBreakoutRow,this.items=[],this.height=0}).prototype={addItem:function(e){var t,n,o,i=this.items.concat(e),a=this.width-(i.length-1)*this.spacing,u=i.reduce(function(e,t){return e+t.aspectRatio},0),s=a/this.targetRowHeight;return this.isBreakoutRow&&0===this.items.length&&e.aspectRatio>=1?(this.items.push(e),this.completeLayout(a/e.aspectRatio,"justify"),!0):u<this.minAspectRatio?(this.items.push(r(e)),!0):u>this.maxAspectRatio?0===this.items.length?(this.items.push(r(e)),this.completeLayout(a/u,"justify"),!0):(t=this.width-(this.items.length-1)*this.spacing,n=this.items.reduce(function(e,t){return e+t.aspectRatio},0),o=t/this.targetRowHeight,Math.abs(u-s)>Math.abs(n-o)?(this.completeLayout(t/n,"justify"),!1):(this.items.push(r(e)),this.completeLayout(a/u,"justify"),!0)):(this.items.push(r(e)),this.completeLayout(a/u,"justify"),!0)},isLayoutComplete:function(){return this.height>0},completeLayout:function(e,t){var n,r,o,i,a,u,s=this.left,c=this.width-(this.items.length-1)*this.spacing;(void 0===t||["justify","center","left"].indexOf(t)<0)&&(t="left"),r=Math.max(this.edgeCaseMinRowHeight,Math.min(e,this.edgeCaseMaxRowHeight)),e!==r?(this.height=r,n=c/r/(c/e)):(this.height=e,n=1),this.items.forEach(function(e){e.top=this.top,e.width=e.aspectRatio*this.height*n,e.height=this.height,e.left=s,s+=e.width+this.spacing},this),"justify"===t?(s-=this.spacing+this.left,o=(s-this.width)/this.items.length,i=this.items.map(function(e,t){return Math.round((t+1)*o)}),1===this.items.length?(a=this.items[0],a.width-=Math.round(o)):this.items.forEach(function(e,t){t>0?(e.left-=i[t-1],e.width-=i[t]-i[t-1]):e.width-=i[t]})):"center"===t&&(u=(this.width-s)/2,this.items.forEach(function(e){e.left+=u+this.spacing},this))},forceComplete:function(e,t){"number"==typeof t?this.completeLayout(t,this.widowLayoutStyle):this.completeLayout(this.targetRowHeight,this.widowLayoutStyle)},getItems:function(){return this.items}}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(128),a=r(i),u=n(0),s=r(u),c=n(3),l=r(c),d=n(19),f=n(129),h=r(f),p=function(e){var t={};return e&&(e.width&&(t.width=e.width+"px"),e.height&&(t.height=e.height+"px"),e.top&&(t.top=e.top+"px"),e.left&&(t.left=e.left+"px")),t},m=function(t){var n=t.photo,r=t.box,i=t.selected,u=void 0!==i&&i,c=t.onToggle,f=t.router,m=p(r);return s.default.createElement("div",{style:m,className:(0,l.default)(a.default["pho-photo"],o({},a.default["pho-photo--selected"],u))},s.default.createElement("div",null,s.default.createElement("span",{className:a.default["pho-photo-select"],"data-input":"checkbox",onClick:function(e){e.stopImmediatePropagation(),c({id:n.id},u)}},s.default.createElement("input",{type:"checkbox",checked:u}),s.default.createElement("label",null)),s.default.createElement(d.Link,{to:{pathname:f.location.pathname+"/"+n.id,query:f.location.query}},s.default.createElement(h.default,{photo:n,className:a.default["pho-photo-item"],style:m,src:""+e._url+n.links.small}))))};t.default=(0,d.withRouter)(m)}).call(t,n(17))},function(e,t){e.exports={"c-btn":"c-btn--RKdHq","c-btn--regular":"c-btn--regular--1a3a9","c-btn--secondary":"c-btn--secondary--3xbW_","c-btn--danger":"c-btn--danger--o6c1_","c-btn--danger-outline":"c-btn--danger-outline--v3SQt","c-btn--highlight":"c-btn--highlight--1miH0","c-btn-client":"c-btn-client--5s9US","c-btn-client-mobile":"c-btn-client-mobile--2RSnN","pho-loading":"pho-loading--2vILC","pho-loading--grey":"pho-loading--grey--JkExW","pho-loading--white":"pho-loading--white--36vkC","pho-loading--red":"pho-loading--red--3SS2o",spin:"spin--3ejui","c-btn--share":"c-btn--share--ieB0G","c-btn--send":"c-btn--send--5HRhv","c-btn--download":"c-btn--download--24E-J","c-btn--upload":"c-btn--upload--YIXdm","c-btn--delete":"c-btn--delete--1RcNR","c-link--upload":"c-link--upload--3AfYr","c-link--delete":"c-link--delete--1yECD","c-btn--more":"c-btn--more--3_Vd8","c-btn-extra":"c-btn-extra--1fw1c","c-btn-extra--white":"c-btn-extra--white--Tfjb2","c-btn--close":"c-btn--close--37inP","c-btn-alert":"c-btn-alert--vVjm6","c-btn-alert--error":"c-btn-alert--error--3Lv16","c-btn-alert--info":"c-btn-alert--info--5uft5","c-btn-alert--success":"c-btn-alert--success--1Ahjk","coz-sidebar":"coz-sidebar--1cIv3","o-sidebar":"o-sidebar--1uPUu","c-nav":"c-nav--3tPq2","c-nav-item":"c-nav-item--hUM5s","c-nav-link":"c-nav-link--3KEgq",active:"active--W9r_8","is-active":"is-active--ripR_","coz-nav-item":"coz-nav-item--5A0J4","coz-hidden":"coz-hidden--1h1pY","u-visuallyhidden":"u-visuallyhidden--qyrce","u-hide":"u-hide--1N1X8","coz-desktop":"coz-desktop--3c_mC","u-hide--mob":"u-hide--mob--2dfRM","coz-mobile":"coz-mobile--2j5b0","u-hide--desk":"u-hide--desk--2eA8_","u-p-1":"u-p-1--1rnfL","u-pt-1":"u-pt-1--GPNkd","u-pb-1":"u-pb-1--WrmBr","u-pl-1":"u-pl-1--2uMju","u-pr-1":"u-pr-1--3-80t","u-p-2":"u-p-2--rE24P","u-pt-2":"u-pt-2--2Qf4H","u-pb-2":"u-pb-2--1ca8h","u-pl-2":"u-pl-2--2GabX","u-pr-2":"u-pr-2--M17pN","u-p-3":"u-p-3--NFoQi","u-pt-3":"u-pt-3--ouMzv","u-pb-3":"u-pb-3--t6gBc","u-pl-3":"u-pl-3--27QrU","u-pr-3":"u-pr-3--2UdVd","u-p-half":"u-p-half--1BGkW","u-pt-half":"u-pt-half--2FMhM","u-pb-half":"u-pb-half--38q51","u-pl-half":"u-pl-half--1MABK","u-pr-half":"u-pr-half--2BXML","u-p-1-half":"u-p-1-half--1bNyr","u-pt-1-half":"u-pt-1-half--2TIsL","u-pb-1-half":"u-pb-1-half--3mQly","u-pl-1-half":"u-pl-1-half--2jzAb","u-pr-1-half":"u-pr-1-half--NN6sV","u-p-2-half":"u-p-2-half--1ELpA","u-pt-2-half":"u-pt-2-half--W8vLU","u-pb-2-half":"u-pb-2-half--2RWQ-","u-pl-2-half":"u-pl-2-half--3f23_","u-pr-2-half":"u-pr-2-half--TDT1q","u-m-1":"u-m-1--14j3e","u-mt-1":"u-mt-1--3QL7b","u-mb-1":"u-mb-1--vl0S9","u-ml-1":"u-ml-1--2SBa3","u-mr-1":"u-mr-1--L71_n","u-m-2":"u-m-2--2mH3C","u-mt-2":"u-mt-2--1AhZb","u-mb-2":"u-mb-2--1L5wy","u-ml-2":"u-ml-2--3WO7J","u-mr-2":"u-mr-2--etzV0","u-m-3":"u-m-3--3HqBE","u-mt-3":"u-mt-3--16k3Z","u-mb-3":"u-mb-3--3fNy2","u-ml-3":"u-ml-3--3Kc3g","u-mr-3":"u-mr-3--3e3Tk","u-m-half":"u-m-half--2ZJRF","u-mt-half":"u-mt-half--1RnMA","u-mb-half":"u-mb-half--2I-X5","u-ml-half":"u-ml-half--2E2Do","u-mr-half":"u-mr-half--2snkx","u-m-1-half":"u-m-1-half--3G2eS","u-mt-1-half":"u-mt-1-half--1qS7X","u-mb-1-half":"u-mb-1-half--1p6Yb","u-ml-1-half":"u-ml-1-half--E4UVE","u-mr-1-half":"u-mr-1-half--2bYlX","u-m-2-half":"u-m-2-half--2uOb1","u-mt-2-half":"u-mt-2-half--1YxOv","u-mb-2-half":"u-mb-2-half--5DEtR","u-ml-2-half":"u-ml-2-half--2yjiy","u-mr-2-half":"u-mr-2-half--2dTEe","coz-error":"coz-error--31MvS","u-error":"u-error--2-imu","coz-error--warning":"coz-error--warning--3ZwPO","u-error--warning":"u-error--warning--10MNd","u-valid":"u-valid--4T9wa","u-warn":"u-warn--3FUy2","pho-loading--no-margin":"pho-loading--no-margin--1UvFv","pho-empty":"pho-empty--2ISCA"}},function(e,t){e.exports={"c-btn":"c-btn--3nJLh","c-btn--regular":"c-btn--regular--2dtvz","c-btn--secondary":"c-btn--secondary--2EArP","c-btn--danger":"c-btn--danger--OfXR6","c-btn--danger-outline":"c-btn--danger-outline--3J7oQ","c-btn--highlight":"c-btn--highlight--2kjf4","c-btn-client":"c-btn-client--gZ7lS","c-btn-client-mobile":"c-btn-client-mobile--2eOg0",spin:"spin--t2Bmx","c-btn--share":"c-btn--share--jHLuW","c-btn--send":"c-btn--send--2BgVk","c-btn--download":"c-btn--download--LzqBV","c-btn--upload":"c-btn--upload--312M3","c-btn--delete":"c-btn--delete--2ll6F","c-link--upload":"c-link--upload--1YLDB","c-link--delete":"c-link--delete--395xV","c-btn--more":"c-btn--more--12x30","c-btn-extra":"c-btn-extra--1PkGJ","c-btn-extra--white":"c-btn-extra--white--1DolD","c-btn--close":"c-btn--close--2dj8q","c-btn-alert":"c-btn-alert--35V1a","c-btn-alert--error":"c-btn-alert--error--2QkUa","c-btn-alert--info":"c-btn-alert--info--2TRPq","c-btn-alert--success":"c-btn-alert--success--2hrPx","pho-panel-form":"pho-panel-form--1S6en","coz-form":"coz-form--cCo_s","coz-form-group":"coz-form-group--1I069","coz-form-desc":"coz-form-desc--3FnDz","coz-form-label":"coz-form-label--385WH","coz-form-label--error":"coz-form-label--error--1Kr_k","coz-form-errors":"coz-form-errors--1RCYk",error:"error--3qEb3","coz-sidebar":"coz-sidebar--3JKvz","o-sidebar":"o-sidebar--2e9q1","c-nav":"c-nav--2D8CZ","c-nav-item":"c-nav-item--37I69","c-nav-link":"c-nav-link--3mp5n",active:"active--x8fC9","is-active":"is-active--h1b5Z","coz-nav-item":"coz-nav-item--3DZsB","coz-hidden":"coz-hidden--xBDn2","u-visuallyhidden":"u-visuallyhidden--1A3fe","u-hide":"u-hide--3qB5Q","coz-desktop":"coz-desktop--1iblS","u-hide--mob":"u-hide--mob--1sKS-","coz-mobile":"coz-mobile--3sHgv","u-hide--desk":"u-hide--desk--yQ8UR","u-p-1":"u-p-1--3CHRt","u-pt-1":"u-pt-1--npCsw","u-pb-1":"u-pb-1--xer4m","u-pl-1":"u-pl-1--3SMwk","u-pr-1":"u-pr-1--X75gA","u-p-2":"u-p-2--22qs3","u-pt-2":"u-pt-2--1m3P7","u-pb-2":"u-pb-2--1JuyP","u-pl-2":"u-pl-2--2wCab","u-pr-2":"u-pr-2--1Kpjp","u-p-3":"u-p-3--30RJf","u-pt-3":"u-pt-3--1j_ly","u-pb-3":"u-pb-3--31sV5","u-pl-3":"u-pl-3--1zF0O","u-pr-3":"u-pr-3--3L2MQ","u-p-half":"u-p-half--3V56F","u-pt-half":"u-pt-half--1n-li","u-pb-half":"u-pb-half--288l7","u-pl-half":"u-pl-half--gABNv","u-pr-half":"u-pr-half--MPvgy","u-p-1-half":"u-p-1-half--3_h3m","u-pt-1-half":"u-pt-1-half--2GR9z","u-pb-1-half":"u-pb-1-half--1oOBm","u-pl-1-half":"u-pl-1-half--1YRjx","u-pr-1-half":"u-pr-1-half--3YAal","u-p-2-half":"u-p-2-half--39j7v","u-pt-2-half":"u-pt-2-half--2udc-","u-pb-2-half":"u-pb-2-half--rFpnE","u-pl-2-half":"u-pl-2-half--3PUQK","u-pr-2-half":"u-pr-2-half--30z0Q","u-m-1":"u-m-1---2zgI","u-mt-1":"u-mt-1--1Ff-m","u-mb-1":"u-mb-1--3vc6D","u-ml-1":"u-ml-1--3lGk_","u-mr-1":"u-mr-1--1eejN","u-m-2":"u-m-2--3ZSBE","u-mt-2":"u-mt-2--1KLB2","u-mb-2":"u-mb-2--1CFtY","u-ml-2":"u-ml-2--3rTjx","u-mr-2":"u-mr-2--2wQYj","u-m-3":"u-m-3--34n3T","u-mt-3":"u-mt-3--2yyNJ","u-mb-3":"u-mb-3--1Mq5m","u-ml-3":"u-ml-3--2PcxW","u-mr-3":"u-mr-3--2f8XE","u-m-half":"u-m-half--5HJGE","u-mt-half":"u-mt-half--3y-Su","u-mb-half":"u-mb-half--LMcp_","u-ml-half":"u-ml-half--2qNPH","u-mr-half":"u-mr-half--3NrWD","u-m-1-half":"u-m-1-half--2Qe--","u-mt-1-half":"u-mt-1-half--2mGVj","u-mb-1-half":"u-mb-1-half--2Wh22","u-ml-1-half":"u-ml-1-half--LQL7U","u-mr-1-half":"u-mr-1-half--1KnTN","u-m-2-half":"u-m-2-half--3-tvm","u-mt-2-half":"u-mt-2-half--2vTQI","u-mb-2-half":"u-mb-2-half--3i5nK","u-ml-2-half":"u-ml-2-half--1W11w","u-mr-2-half":"u-mr-2-half--UdZ3b","coz-error":"coz-error--2cAIt","u-error":"u-error--3oVvp","coz-error--warning":"coz-error--warning--1qn4c","u-error--warning":"u-error--warning--3xA0f","u-valid":"u-valid--3gAkh","u-warn":"u-warn--3B_ll","pho-panel":"pho-panel--vFzlq","pho-panel-header":"pho-panel-header--2aCpb","pho-panel-footer":"pho-panel-footer--2Ynjt","pho-panel-controls":"pho-panel-controls--1UDSQ","pho-panel-content":"pho-panel-content--2OXQJ","pho-panel-wrap":"pho-panel-wrap--1OkG3"}},,,function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Viewer=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(645),d=r(l),f=n(3),h=r(f),p=n(0),m=r(p),b=n(19),v=n(646),y=r(v),g=n(647),_=r(g),w=n(84),k=r(w),S=n(129),E=r(S),x=function(e,t,n){return Math.max(e,Math.min(n,t))},A=t.Viewer=function(t){function n(e){i(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state=s({isImageLoading:!0},C(e.photos,e.params),{scale:1,offsetX:0,offsetY:0,initialOffset:{x:0,y:0},initialScale:0,momentum:{x:0,y:0},hideActions:!1}),t.navigateToPhoto=t.navigateToPhoto.bind(t),t.handleImageLoaded=t.handleImageLoaded.bind(t),t.hideActionsTimeout=null,t}return u(n,t),c(n,[{key:"componentWillReceiveProps",value:function(e){this.setState(s({},C(e.photos,e.params)))}},{key:"componentDidMount",value:function(){var e=this;this.onKeyDownCallback=this.onKeyDown.bind(this),document.addEventListener("keydown",this.onKeyDownCallback,!1),this.gesturesHandler=new y.default(this.viewer),this.gesturesHandler.on("swipe",this.onSwipe.bind(this)),this.gesturesHandler.get("pinch").set({enable:!0}),this.gesturesHandler.get("pan").set({direction:y.default.DIRECTION_ALL}),this.gesturesHandler.on("panstart",this.prepareForGesture.bind(this)),this.gesturesHandler.on("pinchstart",this.prepareForGesture.bind(this)),this.gesturesHandler.on("pinchend",this.prepareForGesture.bind(this)),this.gesturesHandler.on("pan",function(t){e.setState(function(n){var r=e.computeMaxOffset();return{offsetX:x(-r.x,n.initialOffset.x+t.deltaX/n.scale,r.x),offsetY:x(-r.y,n.initialOffset.y+t.deltaY/n.scale,r.y)}})}),this.gesturesHandler.on("pinch",function(t){t.isFinal||e.setState(function(n){var r=x(1/n.initialScale,t.scale,6/n.initialScale),o=e.viewer.getBoundingClientRect(),i={x:(o.right-o.left)/2,y:(o.bottom-o.top)/2},a={x:(i.x-t.center.x)/n.scale,y:(i.y-t.center.y)/n.scale},u={x:a.x*r,y:a.y*r},s={x:u.x-a.x+n.initialOffset.x,y:u.y-a.y+n.initialOffset.y},c=e.computeMaxOffset();return{scale:n.initialScale*r,offsetX:x(-c.x,s.x,c.x),offsetY:x(-c.y,s.y,c.y)}})}),this.gesturesHandler.on("panend",function(t){e.setState({momentum:{x:10*t.velocityX,y:10*t.velocityY}},e.applyMomentum.bind(e))}),this.gesturesHandler.on("tap",this.toggleActions.bind(this)),document.addEventListener("mousemove",this.showActions.bind(this)),this.hideActionsAfterDelay()}},{key:"applyMomentum",value:function(){var e=this;this.setState(function(t){var n=e.computeMaxOffset();return{offsetX:x(-n.x,t.offsetX+t.momentum.x,n.x),offsetY:x(-n.y,t.offsetY+t.momentum.y,n.y),momentum:{x:.9*t.momentum.x,y:.9*t.momentum.y}}},function(){(Math.abs(e.state.momentum.x)>.1||Math.abs(e.state.momentum.y)>.1)&&requestAnimationFrame(e.applyMomentum.bind(e))})}},{key:"computeMaxOffset",value:function(){if(this.viewer&&this.photo){var e=this.viewer.getBoundingClientRect(),t=this.photo.getBoundingClientRect();return{x:Math.max(t.width/2-e.width/2,0)/this.state.scale,y:Math.max(t.height/2-e.height/2,0)/this.state.scale}}return{x:0,y:0}}},{key:"prepareForGesture",value:function(){this.setState(function(e){return{initialScale:e.scale,initialOffset:{x:e.offsetX,y:e.offsetY},momentum:{x:0,y:0},hideActions:!0}})}},{key:"componentDidUpdate",value:function(e,t){t.hideActions&&!this.state.hideActions&&this.hideActionsAfterDelay()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDownCallback,!1)}},{key:"onKeyDown",value:function(e){37===e.keyCode?this.navigateToPhoto(this.state.previousID):39===e.keyCode&&this.navigateToPhoto(this.state.nextID)}},{key:"onSwipe",value:function(e){this.state.scale>1||(e.direction===y.default.DIRECTION_LEFT?this.navigateToPhoto(this.state.nextID):e.direction===y.default.DIRECTION_RIGHT&&this.navigateToPhoto(this.state.previousID))}},{key:"navigateToPhoto",value:function(e){if(!this.state.singlePhoto){this.setState({isImageLoading:!0,hideActions:!0,scale:1,offsetX:0,offsetY:0});var t=this.props.router,n=t.location.pathname,r=n.substring(0,n.lastIndexOf("/"));t.push({pathname:r+"/"+e,query:t.location.query})}}},{key:"handleImageLoaded",value:function(){this.setState({isImageLoading:!1})}},{key:"toggleActions",value:function(){this.setState(function(e){return s({},e,{hideActions:!e.hideActions})})}},{key:"showActions",value:function(){this.setState(function(e){return s({},e,{hideActions:!1})})}},{key:"hideActionsAfterDelay",value:function(){var e=this;clearTimeout(this.hideActionsTimeout),this.hideActionsTimeout=setTimeout(function(){e.setState({hideActions:!0})},3e3)}},{key:"render",value:function(){var t=this,n=this.state,r=n.isImageLoading,i=n.previousID,a=n.nextID,u=n.currentPhoto,s=n.singlePhoto,c=n.hideActions,l=n.scale,f=n.offsetX,p=n.offsetY,b={transform:"scale("+l+") translate("+f+"px, "+p+"px)",display:r?"none":"initial"};return m.default.createElement("div",{className:d.default["pho-viewer-wrapper"],role:"viewer"},m.default.createElement(_.default,{hidden:c,currentPhoto:u}),!s&&m.default.createElement("a",{role:"button",className:(0,h.default)(d.default["pho-viewer-nav-previous"],o({},d.default["pho-viewer-nav-previous--hidden"],c)),onClick:function(){return t.navigateToPhoto(i)}}),m.default.createElement("div",{className:d.default["pho-viewer-photo"],ref:function(e){t.viewer=e}},u&&m.default.createElement(E.default,{photo:u,onLoad:this.handleImageLoaded,src:""+e._url+u.links.large,style:b,ref:function(e){t.photo=m.default.findDOMNode(e)}}),(!u||r)&&m.default.createElement(k.default,{noMargin:!0,color:"white"})),!s&&m.default.createElement("a",{role:"button",className:(0,h.default)(d.default["pho-viewer-nav-next"],o({},d.default["pho-viewer-nav-next--hidden"],c)),onClick:function(){return t.navigateToPhoto(a)}}))}}]),n}(p.Component),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=e.map(function(e){return e.id}),r=t.photoId,o=n.indexOf(r),i=e[o],a=n[(o+1)%n.length],u=n[o-1>=0?o-1:n.length-1];return{singlePhoto:r===u&&r===a,currentPhoto:i,previousID:u,nextID:a}};t.default=(0,b.withRouter)(A)}).call(t,n(17))},function(e,t){e.exports={"c-btn":"c-btn--3WY7k","c-btn--regular":"c-btn--regular--25Fbf","c-btn--secondary":"c-btn--secondary--2oIKw","c-btn--danger":"c-btn--danger--1GYmD","c-btn--danger-outline":"c-btn--danger-outline--1mcr9","c-btn--highlight":"c-btn--highlight--23YF_","c-btn-client":"c-btn-client--1yAl3","c-btn-client-mobile":"c-btn-client-mobile--2ZrTN",spin:"spin--7tlfZ","c-btn--share":"c-btn--share--1fD_S","c-btn--send":"c-btn--send--piocf","c-btn--download":"c-btn--download--zTZzU","c-btn--upload":"c-btn--upload--2M9Bm","c-btn--delete":"c-btn--delete--2BCGU","c-link--upload":"c-link--upload--2qMUE","c-link--delete":"c-link--delete--2q_8c","c-btn--more":"c-btn--more--2pZ6s","c-btn-extra":"c-btn-extra--26_ki","c-btn-extra--white":"c-btn-extra--white--129F_","c-btn--close":"c-btn--close--3hLo8","c-btn-alert":"c-btn-alert--teGy2","c-btn-alert--error":"c-btn-alert--error--2j81d","c-btn-alert--info":"c-btn-alert--info--2sRCQ","c-btn-alert--success":"c-btn-alert--success--3G-nC","coz-sidebar":"coz-sidebar--1wWYv","o-sidebar":"o-sidebar--mRQGg","c-nav":"c-nav--ByXhb","c-nav-item":"c-nav-item--1Sy_1","c-nav-link":"c-nav-link--Lox1I",active:"active--3BeSE","is-active":"is-active--1ch-s","coz-nav-item":"coz-nav-item--3jEKY","coz-hidden":"coz-hidden--L9wWn","u-visuallyhidden":"u-visuallyhidden--3RURp","u-hide":"u-hide--334En","coz-desktop":"coz-desktop--3J2hJ","u-hide--mob":"u-hide--mob--34XWA","coz-mobile":"coz-mobile--3rJaM","u-hide--desk":"u-hide--desk--zw3Wz","u-p-1":"u-p-1--15PWq","u-pt-1":"u-pt-1--1_k-k","u-pb-1":"u-pb-1--H8Gr1","u-pl-1":"u-pl-1--13688","u-pr-1":"u-pr-1--186Ul","u-p-2":"u-p-2--24P_g","u-pt-2":"u-pt-2--3LwwM","u-pb-2":"u-pb-2--2_r88","u-pl-2":"u-pl-2--3Mc0c","u-pr-2":"u-pr-2--1FVdh","u-p-3":"u-p-3--3dTz8","u-pt-3":"u-pt-3--3ERJC","u-pb-3":"u-pb-3--1JTy_","u-pl-3":"u-pl-3--IOA5q","u-pr-3":"u-pr-3--2oa_-","u-p-half":"u-p-half--3i_Eo","u-pt-half":"u-pt-half--_6-SQ","u-pb-half":"u-pb-half--2W5q5","u-pl-half":"u-pl-half--2BoMH","u-pr-half":"u-pr-half--1pL8H","u-p-1-half":"u-p-1-half--1Izgz","u-pt-1-half":"u-pt-1-half--3OroC","u-pb-1-half":"u-pb-1-half--9o0Me","u-pl-1-half":"u-pl-1-half--1RZud","u-pr-1-half":"u-pr-1-half--H0ZM-","u-p-2-half":"u-p-2-half--3yGLb","u-pt-2-half":"u-pt-2-half--tY6WH","u-pb-2-half":"u-pb-2-half--1ev1n","u-pl-2-half":"u-pl-2-half--2jRRh","u-pr-2-half":"u-pr-2-half--BaLQg","u-m-1":"u-m-1--1NKET","u-mt-1":"u-mt-1--3dFBW","u-mb-1":"u-mb-1--3RGlR","u-ml-1":"u-ml-1--1I1dm","u-mr-1":"u-mr-1--2ILhf","u-m-2":"u-m-2--1K2fQ","u-mt-2":"u-mt-2--nQW67","u-mb-2":"u-mb-2--2CaR-","u-ml-2":"u-ml-2--J5XxM","u-mr-2":"u-mr-2--2AuM4","u-m-3":"u-m-3--3Y3fP","u-mt-3":"u-mt-3--2uioA","u-mb-3":"u-mb-3--3mfZM","u-ml-3":"u-ml-3--1aAr2","u-mr-3":"u-mr-3--2r1Fp","u-m-half":"u-m-half--mfjbG","u-mt-half":"u-mt-half--3RQBK","u-mb-half":"u-mb-half--doP6-","u-ml-half":"u-ml-half--1YfZQ","u-mr-half":"u-mr-half--VPi10","u-m-1-half":"u-m-1-half--30TjF","u-mt-1-half":"u-mt-1-half--d92xA","u-mb-1-half":"u-mb-1-half--O-Cwx","u-ml-1-half":"u-ml-1-half--1KRqZ","u-mr-1-half":"u-mr-1-half--1_lfk","u-m-2-half":"u-m-2-half--2pksa","u-mt-2-half":"u-mt-2-half--2hH_F","u-mb-2-half":"u-mb-2-half--iQRPy","u-ml-2-half":"u-ml-2-half--2F5XJ","u-mr-2-half":"u-mr-2-half--3bXjF","coz-error":"coz-error--2fC6k","u-error":"u-error--PzzH4","coz-error--warning":"coz-error--warning--26x8u","u-error--warning":"u-error--warning--11ILY","u-valid":"u-valid--3gFyV","u-warn":"u-warn--XxuAD","pho-viewer-wrapper":"pho-viewer-wrapper--3nY_0","pho-viewer-nav-previous":"pho-viewer-nav-previous--1MPF2","pho-viewer-nav-next":"pho-viewer-nav-next--13Bgz","pho-viewer-nav-previous--hidden":"pho-viewer-nav-previous--hidden---IlS2","pho-viewer-nav-next--hidden":"pho-viewer-nav-next--hidden--fnLgC","pho-viewer-photo":"pho-viewer-photo--25Kwq"}},function(e,t,n){var r;/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(o,i,a,u){"use strict";function s(e,t,n){return setTimeout(h(e,n),t)}function c(e,t,n){return!!Array.isArray(e)&&(l(e,n[t],n),!0)}function l(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==u)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function d(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,r,n),e.apply(this,arguments)}}function f(e,t,n){var r,o=t.prototype;r=e.prototype=Object.create(o),r.constructor=e,r._super=o,n&&pe(r,n)}function h(e,t){return function(){return e.apply(t,arguments)}}function p(e,t){return typeof e==ve?e.apply(t?t[0]||u:u,t):e}function m(e,t){return e===u?t:e}function b(e,t,n){l(_(t),function(t){e.addEventListener(t,n,!1)})}function v(e,t,n){l(_(t),function(t){e.removeEventListener(t,n,!1)})}function y(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function g(e,t){return e.indexOf(t)>-1}function _(e){return e.trim().split(/\s+/g)}function w(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function k(e){return Array.prototype.slice.call(e,0)}function S(e,t,n){for(var r=[],o=[],i=0;i<e.length;){var a=t?e[i][t]:e[i];w(o,a)<0&&r.push(e[i]),o[i]=a,i++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}function E(e,t){for(var n,r,o=t[0].toUpperCase()+t.slice(1),i=0;i<me.length;){if(n=me[i],(r=n?n+o:t)in e)return r;i++}return u}function x(){return Se++}function A(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||o}function C(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){p(e.options.enable,[e])&&n.handler(t)},this.init()}function O(e){var t=e.options.inputClass;return new(t||(Ae?B:Ce?W:xe?G:U))(e,T)}function T(e,t,n){var r=n.pointers.length,o=n.changedPointers.length,i=t&Te&&r-o==0,a=t&(je|De)&&r-o==0;n.isFirst=!!i,n.isFinal=!!a,i&&(e.session={}),n.eventType=t,P(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function P(e,t){var n=e.session,r=t.pointers,o=r.length;n.firstInput||(n.firstInput=R(t)),o>1&&!n.firstMultiple?n.firstMultiple=R(t):1===o&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,u=a?a.center:i.center,s=t.center=M(r);t.timeStamp=_e(),t.deltaTime=t.timeStamp-i.timeStamp,t.angle=N(u,s),t.distance=z(u,s),j(n,t),t.offsetDirection=L(t.deltaX,t.deltaY);var c=I(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=ge(c.x)>ge(c.y)?c.x:c.y,t.scale=a?F(a.pointers,r):1,t.rotation=a?q(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,D(n,t);var l=e.element;y(t.srcEvent.target,l)&&(l=t.srcEvent.target),t.target=l}function j(e,t){var n=t.center,r=e.offsetDelta||{},o=e.prevDelta||{},i=e.prevInput||{};t.eventType!==Te&&i.eventType!==je||(o=e.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=o.x+(n.x-r.x),t.deltaY=o.y+(n.y-r.y)}function D(e,t){var n,r,o,i,a=e.lastInterval||t,s=t.timeStamp-a.timeStamp;if(t.eventType!=De&&(s>Oe||a.velocity===u)){var c=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,d=I(s,c,l);r=d.x,o=d.y,n=ge(d.x)>ge(d.y)?d.x:d.y,i=L(c,l),e.lastInterval=t}else n=a.velocity,r=a.velocityX,o=a.velocityY,i=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=o,t.direction=i}function R(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:ye(e.pointers[n].clientX),clientY:ye(e.pointers[n].clientY)},n++;return{timeStamp:_e(),pointers:t,center:M(t),deltaX:e.deltaX,deltaY:e.deltaY}}function M(e){var t=e.length;if(1===t)return{x:ye(e[0].clientX),y:ye(e[0].clientY)};for(var n=0,r=0,o=0;o<t;)n+=e[o].clientX,r+=e[o].clientY,o++;return{x:ye(n/t),y:ye(r/t)}}function I(e,t,n){return{x:t/e||0,y:n/e||0}}function L(e,t){return e===t?Re:ge(e)>=ge(t)?e<0?Me:Ie:t<0?Le:ze}function z(e,t,n){n||(n=Ue);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return Math.sqrt(r*r+o*o)}function N(e,t,n){n||(n=Ue);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return 180*Math.atan2(o,r)/Math.PI}function q(e,t){return N(t[1],t[0],Be)+N(e[1],e[0],Be)}function F(e,t){return z(t[0],t[1],Be)/z(e[0],e[1],Be)}function U(){this.evEl=He,this.evWin=We,this.pressed=!1,C.apply(this,arguments)}function B(){this.evEl=Xe,this.evWin=$e,C.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function Y(){this.evTarget=Je,this.evWin=Qe,this.started=!1,C.apply(this,arguments)}function H(e,t){var n=k(e.touches),r=k(e.changedTouches);return t&(je|De)&&(n=S(n.concat(r),"identifier",!0)),[n,r]}function W(){this.evTarget=et,this.targetIds={},C.apply(this,arguments)}function V(e,t){var n=k(e.touches),r=this.targetIds;if(t&(Te|Pe)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o,i,a=k(e.changedTouches),u=[],s=this.target;if(i=n.filter(function(e){return y(e.target,s)}),t===Te)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;for(o=0;o<a.length;)r[a[o].identifier]&&u.push(a[o]),t&(je|De)&&delete r[a[o].identifier],o++;return u.length?[S(i.concat(u),"identifier",!0),u]:void 0}function G(){C.apply(this,arguments);var e=h(this.handler,this);this.touch=new W(this.manager,e),this.mouse=new U(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function X(e,t){e&Te?(this.primaryTouch=t.changedPointers[0].identifier,$.call(this,t)):e&(je|De)&&$.call(this,t)}function $(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches,o=function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)};setTimeout(o,tt)}}function K(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(t-o.x),a=Math.abs(n-o.y);if(i<=nt&&a<=nt)return!0}return!1}function J(e,t){this.manager=e,this.set(t)}function Q(e){if(g(e,ut))return ut;var t=g(e,st),n=g(e,ct);return t&&n?ut:t||n?t?st:ct:g(e,at)?at:it}function Z(e){this.options=pe({},this.defaults,e||{}),this.id=x(),this.manager=null,this.options.enable=m(this.options.enable,!0),this.state=dt,this.simultaneous={},this.requireFail=[]}function ee(e){return e&bt?"cancel":e&pt?"end":e&ht?"move":e&ft?"start":""}function te(e){return e==ze?"down":e==Le?"up":e==Me?"left":e==Ie?"right":""}function ne(e,t){var n=t.manager;return n?n.get(e):e}function re(){Z.apply(this,arguments)}function oe(){re.apply(this,arguments),this.pX=null,this.pY=null}function ie(){re.apply(this,arguments)}function ae(){Z.apply(this,arguments),this._timer=null,this._input=null}function ue(){re.apply(this,arguments)}function se(){re.apply(this,arguments)}function ce(){Z.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function le(e,t){return t=t||{},t.recognizers=m(t.recognizers,le.defaults.preset),new de(e,t)}function de(e,t){this.options=pe({},le.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=O(this),this.touchAction=new J(this,this.options.touchAction),fe(this,!0),l(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function fe(e,t){var n=e.element;if(n.style){var r;l(e.options.cssProps,function(o,i){r=E(n.style,i),t?(e.oldCssProps[r]=n.style[r],n.style[r]=o):n.style[r]=e.oldCssProps[r]||""}),t||(e.oldCssProps={})}}function he(e,t){var n=i.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}var pe,me=["","webkit","Moz","MS","ms","o"],be=i.createElement("div"),ve="function",ye=Math.round,ge=Math.abs,_e=Date.now;pe="function"!=typeof Object.assign?function(e){if(e===u||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==u&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t}:Object.assign;var we=d(function(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;)(!n||n&&e[r[o]]===u)&&(e[r[o]]=t[r[o]]),o++;return e},"extend","Use `assign`."),ke=d(function(e,t){return we(e,t,!0)},"merge","Use `assign`."),Se=1,Ee=/mobile|tablet|ip(ad|hone|od)|android/i,xe="ontouchstart"in o,Ae=E(o,"PointerEvent")!==u,Ce=xe&&Ee.test(navigator.userAgent),Oe=25,Te=1,Pe=2,je=4,De=8,Re=1,Me=2,Ie=4,Le=8,ze=16,Ne=Me|Ie,qe=Le|ze,Fe=Ne|qe,Ue=["x","y"],Be=["clientX","clientY"];C.prototype={handler:function(){},init:function(){this.evEl&&b(this.element,this.evEl,this.domHandler),this.evTarget&&b(this.target,this.evTarget,this.domHandler),this.evWin&&b(A(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(A(this.element),this.evWin,this.domHandler)}};var Ye={mousedown:Te,mousemove:Pe,mouseup:je},He="mousedown",We="mousemove mouseup";f(U,C,{handler:function(e){var t=Ye[e.type];t&Te&&0===e.button&&(this.pressed=!0),t&Pe&&1!==e.which&&(t=je),this.pressed&&(t&je&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var Ve={pointerdown:Te,pointermove:Pe,pointerup:je,pointercancel:De,pointerout:De},Ge={2:"touch",3:"pen",4:"mouse",5:"kinect"},Xe="pointerdown",$e="pointermove pointerup pointercancel";o.MSPointerEvent&&!o.PointerEvent&&(Xe="MSPointerDown",$e="MSPointerMove MSPointerUp MSPointerCancel"),f(B,C,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),o=Ve[r],i=Ge[e.pointerType]||e.pointerType,a="touch"==i,u=w(t,e.pointerId,"pointerId");o&Te&&(0===e.button||a)?u<0&&(t.push(e),u=t.length-1):o&(je|De)&&(n=!0),u<0||(t[u]=e,this.callback(this.manager,o,{pointers:t,changedPointers:[e],pointerType:i,srcEvent:e}),n&&t.splice(u,1))}});var Ke={touchstart:Te,touchmove:Pe,touchend:je,touchcancel:De},Je="touchstart",Qe="touchstart touchmove touchend touchcancel";f(Y,C,{handler:function(e){var t=Ke[e.type];if(t===Te&&(this.started=!0),this.started){var n=H.call(this,e,t);t&(je|De)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var Ze={touchstart:Te,touchmove:Pe,touchend:je,touchcancel:De},et="touchstart touchmove touchend touchcancel";f(W,C,{handler:function(e){var t=Ze[e.type],n=V.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});var tt=2500,nt=25;f(G,C,{handler:function(e,t,n){var r="touch"==n.pointerType,o="mouse"==n.pointerType;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)X.call(this,t,n);else if(o&&K.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var rt=E(be.style,"touchAction"),ot=rt!==u,it="auto",at="manipulation",ut="none",st="pan-x",ct="pan-y",lt=function(){if(!ot)return!1;var e={},t=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!t||o.CSS.supports("touch-action",n)}),e}();J.prototype={set:function(e){"compute"==e&&(e=this.compute()),ot&&this.manager.element.style&&lt[e]&&(this.manager.element.style[rt]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return l(this.manager.recognizers,function(t){p(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),Q(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var r=this.actions,o=g(r,ut)&&!lt[ut],i=g(r,ct)&&!lt[ct],a=g(r,st)&&!lt[st];if(o){var u=1===e.pointers.length,s=e.distance<2,c=e.deltaTime<250;if(u&&s&&c)return}return a&&i?void 0:o||i&&n&Ne||a&&n&qe?this.preventSrc(t):void 0},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var dt=1,ft=2,ht=4,pt=8,mt=pt,bt=16;Z.prototype={defaults:{},set:function(e){return pe(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(c(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=ne(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return c(e,"dropRecognizeWith",this)?this:(e=ne(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(c(e,"requireFailure",this))return this;var t=this.requireFail;return e=ne(e,this),-1===w(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(c(e,"dropRequireFailure",this))return this;e=ne(e,this);var t=w(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,r=this.state;r<pt&&t(n.options.event+ee(r)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),r>=pt&&t(n.options.event+ee(r))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|dt)))return!1;e++}return!0},recognize:function(e){var t=pe({},e);if(!p(this.options.enable,[this,t]))return this.reset(),void(this.state=32);this.state&(mt|bt|32)&&(this.state=dt),this.state=this.process(t),this.state&(ft|ht|pt|bt)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},f(re,Z,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(ft|ht),o=this.attrTest(e);return r&&(n&De||!o)?t|bt:r||o?n&je?t|pt:t&ft?t|ht:ft:32}}),f(oe,re,{defaults:{event:"pan",threshold:10,pointers:1,direction:Fe},getTouchAction:function(){var e=this.options.direction,t=[];return e&Ne&&t.push(ct),e&qe&&t.push(st),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,o=e.direction,i=e.deltaX,a=e.deltaY;return o&t.direction||(t.direction&Ne?(o=0===i?Re:i<0?Me:Ie,n=i!=this.pX,r=Math.abs(e.deltaX)):(o=0===a?Re:a<0?Le:ze,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=o,n&&r>t.threshold&&o&t.direction},attrTest:function(e){return re.prototype.attrTest.call(this,e)&&(this.state&ft||!(this.state&ft)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=te(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),f(ie,re,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ut]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&ft)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),f(ae,Z,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[it]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(je|De)&&!o)this.reset();else if(e.eventType&Te)this.reset(),this._timer=s(function(){this.state=mt,this.tryEmit()},t.time,this);else if(e.eventType&je)return mt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===mt&&(e&&e.eventType&je?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=_e(),this.manager.emit(this.options.event,this._input)))}}),f(ue,re,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ut]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&ft)}}),f(se,re,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ne|qe,pointers:1},getTouchAction:function(){return oe.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Ne|qe)?t=e.overallVelocity:n&Ne?t=e.overallVelocityX:n&qe&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&ge(t)>this.options.velocity&&e.eventType&je},emit:function(e){var t=te(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),f(ce,Z,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[at]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime<t.time;if(this.reset(),e.eventType&Te&&0===this.count)return this.failTimeout();if(r&&o&&n){if(e.eventType!=je)return this.failTimeout();var i=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||z(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,a&&i?this.count+=1:this.count=1,this._input=e;if(0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=s(function(){this.state=mt,this.tryEmit()},t.interval,this),ft):mt}return 32},failTimeout:function(){return this._timer=s(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==mt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),le.VERSION="2.0.7",le.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[ue,{enable:!1}],[ie,{enable:!1},["rotate"]],[se,{direction:Ne}],[oe,{direction:Ne},["swipe"]],[ce],[ce,{event:"doubletap",taps:2},["tap"]],[ae]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};de.prototype={set:function(e){return pe(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,r=this.recognizers,o=t.curRecognizer;(!o||o&&o.state&mt)&&(o=t.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],2===t.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(e),!o&&n.state&(ft|ht|pt)&&(o=t.curRecognizer=n),i++}},get:function(e){if(e instanceof Z)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(c(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(c(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=w(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==u&&t!==u){var n=this.handlers;return l(_(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==u){var n=this.handlers;return l(_(e),function(e){t?n[e]&&n[e].splice(w(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&he(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&fe(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},pe(le,{INPUT_START:Te,INPUT_MOVE:Pe,INPUT_END:je,INPUT_CANCEL:De,STATE_POSSIBLE:dt,STATE_BEGAN:ft,STATE_CHANGED:ht,STATE_ENDED:pt,STATE_RECOGNIZED:mt,STATE_CANCELLED:bt,STATE_FAILED:32,DIRECTION_NONE:Re,DIRECTION_LEFT:Me,DIRECTION_RIGHT:Ie,DIRECTION_UP:Le,DIRECTION_DOWN:ze,DIRECTION_HORIZONTAL:Ne,DIRECTION_VERTICAL:qe,DIRECTION_ALL:Fe,Manager:de,Input:C,TouchAction:J,TouchInput:W,MouseInput:U,PointerEventInput:B,TouchMouseInput:G,SingleTouchInput:Y,Recognizer:Z,AttrRecognizer:re,Tap:ce,Pan:oe,Swipe:se,Pinch:ie,Rotate:ue,Press:ae,on:b,off:v,each:l,merge:ke,extend:we,assign:pe,inherit:f,bindFn:h,prefixed:E}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=le,(r=function(){return le}.call(t,n,t,e))!==u&&(e.exports=r)}(window,document)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewerToolbar=void 0;var i=n(648),a=r(i),u=n(3),s=r(u),c=n(0),l=r(c),d=n(7),f=n(19),h=n(14),p=t.ViewerToolbar=function(e){var t=e.t,n=e.router,r=e.hidden,i=e.currentPhoto,u=function(){var e=n.location.pathname;n.push({pathname:e.substring(0,e.lastIndexOf("/")),query:n.location.query})};return l.default.createElement("div",{className:(0,s.default)(a.default["pho-viewer-toolbar"],o({},a.default["pho-viewer-toolbar--hidden"],r)),role:"viewer-toolbar"},l.default.createElement("div",{className:(0,s.default)(a.default["coz-selectionbar"],a.default["pho-viewer-toolbar-actions"])},l.default.createElement("button",{className:a.default["coz-action-download"],onClick:function(){return(0,h.downloadFile)(i)}},t("Viewer.actions.download"))),l.default.createElement("div",{className:a.default["pho-viewer-toolbar-close"],onClick:u,title:t("Viewer.close")},l.default.createElement("div",{className:a.default["pho-viewer-toolbar-close-cross"]})))};t.default=(0,d.translate)()((0,f.withRouter)(p))},function(e,t){e.exports={"c-btn":"c-btn--2wTLI","c-btn--regular":"c-btn--regular--1XGID","c-btn--secondary":"c-btn--secondary--2Cqkq","c-btn--danger":"c-btn--danger--_jZTv","c-btn--danger-outline":"c-btn--danger-outline--1mH_h","c-btn--highlight":"c-btn--highlight--2f1Am","c-btn-client":"c-btn-client--3uX-s","c-btn-client-mobile":"c-btn-client-mobile--3Nqwo",spin:"spin--1cwIu","c-btn--share":"c-btn--share--2-9rs","c-btn--send":"c-btn--send--3BluQ","c-btn--download":"c-btn--download--3keue","c-btn--upload":"c-btn--upload--1ymn6","c-btn--delete":"c-btn--delete--3lY1i","c-link--upload":"c-link--upload--1kmfF","c-link--delete":"c-link--delete--36r8M","c-btn--more":"c-btn--more--22o7K","c-btn-extra":"c-btn-extra--3wFIA","c-btn-extra--white":"c-btn-extra--white--3hLGI","c-btn--close":"c-btn--close--ZsYZ3","c-btn-alert":"c-btn-alert--qdLTv","c-btn-alert--error":"c-btn-alert--error--7Hgyw","c-btn-alert--info":"c-btn-alert--info--3YrA7","c-btn-alert--success":"c-btn-alert--success--3RtiT","coz-sidebar":"coz-sidebar--qowCD","o-sidebar":"o-sidebar--MH3J7","c-nav":"c-nav--2quE8","c-nav-item":"c-nav-item--3n-73","c-nav-link":"c-nav-link--1aEv0",active:"active--3z8cH","is-active":"is-active--1Y6hG","coz-nav-item":"coz-nav-item--2aC0t","coz-selectionbar":"coz-selectionbar--1uwGG","coz-selectionbar-separator":"coz-selectionbar-separator--ZVazr","coz-action-share":"coz-action-share--3QJzh","coz-action-download":"coz-action-download--iY8Um","coz-action-trash":"coz-action-trash--3bE6t","coz-action-destroy":"coz-action-destroy--2k7ES","coz-action-delete":"coz-action-delete--2UWEV","coz-action-openwith":"coz-action-openwith--1u8Ju","coz-action-moveto":"coz-action-moveto--Ddktv","coz-action-rename":"coz-action-rename--3imQl","coz-action-restore":"coz-action-restore--2DpWY","coz-action-album-add":"coz-action-album-add--wWFQc","coz-action-album-remove":"coz-action-album-remove--1ODEH","coz-action-extra":"coz-action-extra--17e4g","coz-action-close":"coz-action-close--w8Z8w","coz-selectionbar-count":"coz-selectionbar-count--2sJhZ","coz-hidden":"coz-hidden--1oHwk","u-visuallyhidden":"u-visuallyhidden--U8x2t","u-hide":"u-hide--2-Qci","coz-desktop":"coz-desktop--1aYm1","u-hide--mob":"u-hide--mob--3cDii","coz-mobile":"coz-mobile--7Om2Y","u-hide--desk":"u-hide--desk--2Cqi2","u-p-1":"u-p-1--28AVr","u-pt-1":"u-pt-1--1JIoT","u-pb-1":"u-pb-1--11SJH","u-pl-1":"u-pl-1--1SzRT","u-pr-1":"u-pr-1--18MdU","u-p-2":"u-p-2--1nOn8","u-pt-2":"u-pt-2--jfNsN","u-pb-2":"u-pb-2--Bh1Kz","u-pl-2":"u-pl-2--2yZ15","u-pr-2":"u-pr-2--2DIRn","u-p-3":"u-p-3--3Fftd","u-pt-3":"u-pt-3--2v-i7","u-pb-3":"u-pb-3--3osOW","u-pl-3":"u-pl-3--3o27v","u-pr-3":"u-pr-3--2V5GM","u-p-half":"u-p-half--1OmZn","u-pt-half":"u-pt-half--2PiRS","u-pb-half":"u-pb-half--2sMkc","u-pl-half":"u-pl-half--1Q3VK","u-pr-half":"u-pr-half--lkuRO","u-p-1-half":"u-p-1-half--3vPYH","u-pt-1-half":"u-pt-1-half--2Yo2C","u-pb-1-half":"u-pb-1-half--1Ehyb","u-pl-1-half":"u-pl-1-half--2xWwR","u-pr-1-half":"u-pr-1-half--3k2ap","u-p-2-half":"u-p-2-half--K4bVs","u-pt-2-half":"u-pt-2-half--9toYu","u-pb-2-half":"u-pb-2-half--s3GN9","u-pl-2-half":"u-pl-2-half--2iu8N","u-pr-2-half":"u-pr-2-half--1Mv_k","u-m-1":"u-m-1--284kM","u-mt-1":"u-mt-1--3OSWw","u-mb-1":"u-mb-1--3eSG5","u-ml-1":"u-ml-1--1cCbv","u-mr-1":"u-mr-1--2301D","u-m-2":"u-m-2--1Hx7J","u-mt-2":"u-mt-2--10jAi","u-mb-2":"u-mb-2--2jdcs","u-ml-2":"u-ml-2--3tseG","u-mr-2":"u-mr-2--1QXe8","u-m-3":"u-m-3--1msS6","u-mt-3":"u-mt-3--3UbLF","u-mb-3":"u-mb-3--1bZ9s","u-ml-3":"u-ml-3--3pP8B","u-mr-3":"u-mr-3--3urSC","u-m-half":"u-m-half--1Qd1n","u-mt-half":"u-mt-half--1YWWK","u-mb-half":"u-mb-half--3gEz4","u-ml-half":"u-ml-half--QtYUj","u-mr-half":"u-mr-half--2xcZJ","u-m-1-half":"u-m-1-half--3opA-","u-mt-1-half":"u-mt-1-half--3NBS4","u-mb-1-half":"u-mb-1-half--32LXS","u-ml-1-half":"u-ml-1-half--wgtkL","u-mr-1-half":"u-mr-1-half--uiY-f","u-m-2-half":"u-m-2-half--2rTN3","u-mt-2-half":"u-mt-2-half--6IFqx","u-mb-2-half":"u-mb-2-half--DrK6k","u-ml-2-half":"u-ml-2-half--4U089","u-mr-2-half":"u-mr-2-half--19R3S","coz-error":"coz-error--2Bz6n","u-error":"u-error--1yCi4","coz-error--warning":"coz-error--warning--csnq7","u-error--warning":"u-error--warning--Ebfjg","u-valid":"u-valid--yZZVL","u-warn":"u-warn--buyiX","pho-viewer-toolbar":"pho-viewer-toolbar--2hH7w","pho-viewer-toolbar--hidden":"pho-viewer-toolbar--hidden--3qVIp","pho-viewer-toolbar-actions":"pho-viewer-toolbar-actions--lWqNS","pho-viewer-toolbar-close":"pho-viewer-toolbar-close--2r-L2","pho-viewer-toolbar-close-cross":"pho-viewer-toolbar-close-cross--3EPqg"}},function(e,t,n){function r(e){return n(o(e))}function o(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var i={"./ar":271,"./ar.json":271,"./ca":272,"./ca.json":272,"./cs":273,"./cs.json":273,"./cs_CZ":274,"./cs_CZ.json":274,"./da":275,"./da.json":275,"./de":276,"./de.json":276,"./de_DE":277,"./de_DE.json":277,"./el":278,"./el.json":278,"./en":279,"./en.json":279,"./eo":280,"./eo.json":280,"./es":281,"./es.json":281,"./es_CO":282,"./es_CO.json":282,"./es_ES":283,"./es_ES.json":283,"./fr":284,"./fr.json":284,"./it":285,"./it.json":285,"./ja":286,"./ja.json":286,"./ko":287,"./ko.json":287,"./nl":288,"./nl.json":288,"./nl_NL":289,"./nl_NL.json":289,"./pl":290,"./pl.json":290,"./pt":291,"./pt.json":291,"./pt_BR":292,"./pt_BR.json":292,"./ro":293,"./ro.json":293,"./ro_RO":294,"./ro_RO.json":294,"./ru":295,"./ru.json":295,"./ru_RU":296,"./ru_RU.json":296,"./sk":297,"./sk.json":297,"./sk_SK":298,"./sk_SK.json":298,"./sq":299,"./sq.json":299,"./sq_AL":300,"./sq_AL.json":300,"./sv":301,"./sv.json":301,"./tr":302,"./tr.json":302,"./uk_UA":303,"./uk_UA.json":303,"./zh":304,"./zh.json":304,"./zh_CN":305,"./zh_CN.json":305,"./zh_TW":306,"./zh_TW.json":306};r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=649},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=document.documentElement.getAttribute("lang")||"en",t=document.querySelector("[role=application]"),r=t.dataset,o=w(),a=o.id,l=o.sharecode,b=new p.CozyClient({cozyURL:"//"+r.cozyDomain,token:l});r.cozyAppName&&r.cozyAppEditor&&r.cozyIconPath&&r.cozyLocale&&cozy.bar.init({appName:r.cozyAppName,appEditor:r.cozyAppEditor,iconPath:r.cozyIconPath,lang:r.cozyLocale,replaceTitleOnMobile:!0});var y=(0,c.createStore)((0,c.combineReducers)({cozy:p.reducer}),(0,c.applyMiddleware)((0,p.cozyMiddleware)(b),d.default,(0,f.createLogger)()));(0,s.render)(u.default.createElement(m.I18n,{lang:e,dictRequire:function(e){return n(649)("./"+e)}},u.default.createElement(p.CozyProvider,{store:y,client:b},u.default.createElement(h.Router,{history:h.hashHistory},u.default.createElement(h.Route,{path:"shared",component:function(e){return u.default.createElement(v.default,i({albumId:a},e))}},u.default.createElement(h.Route,{path:":photoId",component:g.default})),u.default.createElement(h.Redirect,{from:"/*",to:"shared"})))),t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};n(310),n(311),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(326),n(327),n(328),n(329),n(330),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(347),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(363),n(364),n(365),n(366),n(367),n(369),n(370),n(371),n(372),n(373),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(97),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419);var a=n(0),u=r(a),s=n(0),c=n(41),l=n(440),d=r(l),f=n(441),h=n(19),p=n(14),m=n(7);n(420);var b=n(681),v=r(b),y=n(644),g=r(y),_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["var","val"];return e[t[0]]=t[1],e},w=function(){return window.location.search.substring(1).split("&").map(function(e){return e.split("=")}).reduce(_,{})};document.addEventListener("DOMContentLoaded",o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),d=n(14),f=n(268),h=r(f),p=n(84),m=r(p),b=n(131),v=r(b),y=n(682),g=r(y),_=n(83),w=n(68),k=r(w),S=n(44),E=n(3),x=r(E),A=n(683),C=r(A),O=function(e){function t(){var e,n,r,u;i(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={selected:[]},r.onPhotoToggle=function(e){r.setState(function(t){var n=t.selected,r=n.findIndex(function(t){return t===e.id});return{selected:-1===r?[].concat(o(n),[e.id]):[].concat(o(n.slice(0,r)),o(n.slice(r+1)))}})},r.onPhotosSelect=function(e){r.setState(function(t){var n=t.selected,r=e.filter(function(e){return-1===n.indexOf(e)});return{selected:[].concat(o(n),o(r))}})},r.onPhotosUnselect=function(e){r.setState(function(t){return{selected:t.selected.filter(function(t){return-1===e.indexOf(t)})}})},r.onDownload=function(){var e=0!==r.state.selected.length?r.getSelectedPhotos():r.props.photos.data;(0,S.downloadAlbum)(r.props.album,e)},r.getSelectedPhotos=function(){var e=r.state.selected,t=r.props.photos;return e.map(function(e){return t.data.find(function(t){return t.id===e})})},u=n,a(r,u)}return u(t,e),s(t,[{key:"componentDidMount",value:function(){if(!this.props.albumId)return this.setState({error:"Missing ID"})}},{key:"componentWillReceiveProps",value:function(e){var t=e.album;"failed"===e.photos.fetchStatus&&null===t&&this.setState({error:"Fetch error"})}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.album,r=e.photos;if(this.state.error)return l.default.createElement("div",{className:(0,x.default)(C.default["pho-public-layout"],C.default["pho-public-layout--full"])},l.default.createElement(g.default,{errorType:"public_album_unshared"}));if(r&&r.error)return l.default.createElement("div",{className:C.default["pho-public-layout"]},l.default.createElement(v.default,{errorType:"public_album_error"}));if(!n||!r||"pending"===r.fetchStatus||"loading"===r.fetchStatus)return l.default.createElement("div",{className:C.default["pho-public-layout"]},l.default.createElement(m.default,{loadingType:"photos_fetching"}));var o=r.data,i=r.hasMore,a=r.fetchMore,u=this.state.selected;return l.default.createElement("div",{className:C.default["pho-public-layout"]},l.default.createElement("div",{className:(0,x.default)(C.default["pho-content-header"],C.default["--no-icon"])},l.default.createElement("h2",{className:C.default["pho-content-title"]},n.name),l.default.createElement("div",{className:C.default["pho-toolbar"],role:"toolbar"},l.default.createElement("button",{role:"button",className:(0,x.default)(C.default["c-btn"],C.default["c-btn--secondary"],C.default["pho-public-download"]),onClick:this.onDownload},t("Toolbar.album_download")),l.default.createElement(k.default,{title:t("Toolbar.more"),className:(0,x.default)(C.default["pho-toolbar-menu"]),button:l.default.createElement(_.MoreButton,null)},l.default.createElement(w.Item,null,l.default.createElement("a",{className:(0,x.default)(C.default["pho-public-download"]),onClick:this.onDownload},t("Toolbar.album_download")))))),l.default.createElement(h.default,{photosContext:"shared_album",lists:[{photos:o}],selected:u,showSelection:0!==u.length,onPhotoToggle:this.onPhotoToggle,onPhotosSelect:this.onPhotosSelect,onPhotosUnselect:this.onPhotosUnselect,hasMore:i,onFetchMore:a}),this.renderViewer(this.props.children))}},{key:"renderViewer",value:function(e){var t=this;return e?l.default.Children.map(e,function(e){return l.default.cloneElement(e,{photos:t.props.photos.data})}):null}}]),t}(c.Component),T=function(e){return{album:(0,S.fetchAlbum)(e.albumId),photos:(0,S.fetchAlbumPhotos)(e.albumId)}};t.default=(0,d.cozyConnect)(T)(O)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorShare=void 0;var o=n(130),i=r(o),a=n(0),u=r(a),s=n(7),c=t.ErrorShare=function(e){var t=e.t,n=e.errorType;return u.default.createElement("div",{className:i.default["c-error--share"]},u.default.createElement("h2",null,t("error."+n+"_title")),u.default.createElement("p",null,t("error."+n+"_text")))};t.default=(0,s.translate)()(c)},function(e,t){e.exports={"c-btn":"c-btn--2l7TN","c-btn--regular":"c-btn--regular--1C3qd","c-btn--secondary":"c-btn--secondary--1s75E","c-btn--danger":"c-btn--danger--2sW1Y","c-btn--danger-outline":"c-btn--danger-outline--2SY-l","c-btn--highlight":"c-btn--highlight--nNeat","c-btn-client":"c-btn-client--1CR-3","c-btn-client-mobile":"c-btn-client-mobile--1Yveh","pho-toolbar":"pho-toolbar--Gr6vD","pho-btn-new":"pho-btn-new--hZcQ-",spin:"spin--2epnT","c-btn--share":"c-btn--share--3Y_9j","c-btn--send":"c-btn--send--3qE7E","c-btn--download":"c-btn--download--2SPM8","c-btn--upload":"c-btn--upload--egOlM","c-btn--delete":"c-btn--delete--UPEdo","c-link--upload":"c-link--upload--2cmXY","c-link--delete":"c-link--delete--mU3X4","c-btn--more":"c-btn--more--37gac","c-btn-extra":"c-btn-extra--1D-hB","c-btn-extra--white":"c-btn-extra--white--FMPSk","c-btn--close":"c-btn--close--18hPv","c-btn-alert":"c-btn-alert--6qa-F","c-btn-alert--error":"c-btn-alert--error--38zk0","c-btn-alert--info":"c-btn-alert--info--5DR2W","c-btn-alert--success":"c-btn-alert--success--wcyhK","pho-content-title":"pho-content-title--2dL6C",error:"error--1h-kN","coz-sidebar":"coz-sidebar--4q5_D","o-sidebar":"o-sidebar--393q8","c-nav":"c-nav--2vYG5","c-nav-item":"c-nav-item--3_Wpx","c-nav-link":"c-nav-link--2hSxc",active:"active--18JzN","is-active":"is-active--1m8EY","coz-nav-item":"coz-nav-item--17ofG","coz-hidden":"coz-hidden--36f2U","u-visuallyhidden":"u-visuallyhidden--vGOOj","u-hide":"u-hide--2JYN8","coz-desktop":"coz-desktop--3PJue","u-hide--mob":"u-hide--mob--3GSz2","coz-mobile":"coz-mobile--n_J_5","u-hide--desk":"u-hide--desk--3Z2VP","u-p-1":"u-p-1--2Gq_8","u-pt-1":"u-pt-1--31TWW","u-pb-1":"u-pb-1--SyZ1Q","u-pl-1":"u-pl-1--1eWxA","u-pr-1":"u-pr-1--Bb60m","u-p-2":"u-p-2--28txh","u-pt-2":"u-pt-2--KVjsi","u-pb-2":"u-pb-2--M4tKt","u-pl-2":"u-pl-2--2tmlr","u-pr-2":"u-pr-2--1XP0s","u-p-3":"u-p-3--3qH7B","u-pt-3":"u-pt-3--nwdDD","u-pb-3":"u-pb-3--2zCjk","u-pl-3":"u-pl-3--PcExr","u-pr-3":"u-pr-3--2ZV8N","u-p-half":"u-p-half--2E5hE","u-pt-half":"u-pt-half--2q9ga","u-pb-half":"u-pb-half--O1tuZ","u-pl-half":"u-pl-half--1FZaf","u-pr-half":"u-pr-half--1IPZU","u-p-1-half":"u-p-1-half--3PJB6","u-pt-1-half":"u-pt-1-half--a6oMM","u-pb-1-half":"u-pb-1-half--ITNZm","u-pl-1-half":"u-pl-1-half--2uyAM","u-pr-1-half":"u-pr-1-half--3BMfK","u-p-2-half":"u-p-2-half--s4T-c","u-pt-2-half":"u-pt-2-half--22d8T","u-pb-2-half":"u-pb-2-half--1bySJ","u-pl-2-half":"u-pl-2-half--1Yspo","u-pr-2-half":"u-pr-2-half--3jwzN","u-m-1":"u-m-1--2BMjt","u-mt-1":"u-mt-1--1glJx","u-mb-1":"u-mb-1--3rr8S","u-ml-1":"u-ml-1--3wj87","u-mr-1":"u-mr-1--22QK3","u-m-2":"u-m-2--24NrR","u-mt-2":"u-mt-2--3gQsc","u-mb-2":"u-mb-2--28_kh","u-ml-2":"u-ml-2--1MZQn","u-mr-2":"u-mr-2--n4J9C","u-m-3":"u-m-3--y3vzt","u-mt-3":"u-mt-3--14Ri3","u-mb-3":"u-mb-3--1m_i-","u-ml-3":"u-ml-3--1vErW","u-mr-3":"u-mr-3--1Shq1","u-m-half":"u-m-half--3Ob74","u-mt-half":"u-mt-half--3Bgv1","u-mb-half":"u-mb-half--3BG-W","u-ml-half":"u-ml-half--2Pnmj","u-mr-half":"u-mr-half--1IMY9","u-m-1-half":"u-m-1-half--1BO9L","u-mt-1-half":"u-mt-1-half--O7ReZ","u-mb-1-half":"u-mb-1-half--3D5Cn","u-ml-1-half":"u-ml-1-half--30Mur","u-mr-1-half":"u-mr-1-half--1ZtqH","u-m-2-half":"u-m-2-half--2afll","u-mt-2-half":"u-mt-2-half--3ACS2","u-mb-2-half":"u-mb-2-half--3IGXA","u-ml-2-half":"u-ml-2-half--1yjqe","u-mr-2-half":"u-mr-2-half--cPVRe","coz-error":"coz-error--3UkLe","u-error":"u-error--2N20k","coz-error--warning":"coz-error--warning--1iIQ9","u-error--warning":"u-error--warning--x_wtQ","u-valid":"u-valid--3kC43","u-warn":"u-warn--RntgU","pho-content-header":"pho-content-header--2IRdd","pho-content-album-previous":"pho-content-album-previous--2UEiS","pho-action-newalbum":"pho-action-newalbum--1dDwd","pho-action-select":"pho-action-select--3BYoA","pho-action-rename":"pho-action-rename--2vrAo","pho-action-addphotos":"pho-action-addphotos--NVgbU","pho-action-share":"pho-action-share--3D4Lu","pho-action-download":"pho-action-download--30Htw","pho-action-delete":"pho-action-delete--1VA2W","pho-public-layout":"pho-public-layout--1YF01","pho-public-layout--full":"pho-public-layout--full--2f0ZW","--no-icon":"_--no-icon--1uC13","pho-public-download":"pho-public-download--1snKj","pho-toolbar-menu":"pho-toolbar-menu--1PfnV"}}]);