(()=>{var e,t,n,r,i,a,l={5979:function(e,t,n){var r={"./en.json":"93343","./fr.json":"26108","./nl_NL.json":"21325","./ru.json":"19337","./vi.json":"2369"};function i(e){return n(a(e))}function a(e){if(!n.o(r,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=5979},57584:function(e,t,n){var r={"./":"77629","./ar":"4044","./ar.json":"4044","./de":"42264","./de.json":"42264","./en":"61284","./en.json":"61284","./es":"79619","./es.json":"79619","./fr":"51679","./fr.json":"51679","./index":"77629","./index.js":"77629","./it":"26026","./it.json":"26026","./ja":"36434","./ja.json":"36434","./ko":"42225","./ko.json":"42225","./nl":"22989","./nl.json":"22989","./nl_NL":"39656","./nl_NL.json":"39656","./pl":"95911","./pl.json":"95911","./ru":"50246","./ru.json":"50246","./vi":"33750","./vi.json":"33750","./zh_CN":"7279","./zh_CN.json":"7279","./zh_TW":"49279","./zh_TW.json":"49279"};function i(e){return n(a(e))}function a(e){if(!n.o(r,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=57584},77629:function(e,t,n){"use strict";n.r(t),n.d(t,{getDriveI18n:()=>a,locales:()=>i});var r=n(39149);let i={ar:n(4044),de:n(42264),en:n(61284),es:n(79619),fr:n(51679),it:n(26026),ja:n(36434),ko:n(42225),nl:n(22989),nl_NL:n(39656),pl:n(95911),ru:n(50246),zh_CN:n(7279),zh_TW:n(49279)},a=()=>(0,r.getI18n)(void 0,e=>i[e])},63562:function(e,t,n){"use strict";let r,i,a,l;var o=n(74848);n(7856),n(39107),n(98326),n(1569),n(6362),n(78624);var s=n(96540),d=n(40961),c=n(84976),u=n(50104),h=n.n(u),m=n(42895),p=n.n(m),f=n(59939),y=n(94619),g=n(57771),v=JSON.parse('{"UU":"Drive","Hs":"Twake","yR":"drive","rE":"1.84.1"}');let _={slug:v.yR,version:v.rE,name:v.UU,prefix:v.Hs};var b=n(62878);class x extends f.Contact{static getInitials(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(x.isContact(e))return(0,b.getInitials)(e);{let n=e.public_name||e.name||e.email;return n&&n[0].toUpperCase()||t}}static getDisplayName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return x.isContact(e)?(0,b.getDisplayName)(e):e.public_name||e.name||e.email||t}}let j="io.cozy.files",w="io.cozy.files.settings",k="io.cozy.files.encryption",C="io.cozy.photos.albums",S="io.cozy.konnectors",z={files:{doctype:j,relationships:{old_versions:{type:"has-many",doctype:"io.cozy.files.versions"},encryption:{type:"io.cozy.files:has-many",doctype:k}}},contacts:{doctype:x.doctype,doctypeVersion:2},groups:{doctype:f.Group.doctype},versions:{doctype:"io.cozy.files.versions"},...{}};var F=n(4595),A=n(53566),T=n(79448),N=n(1265),D=n(81259),I=n(99327);let E="SHOW_MODAL",B="HIDE_MODAL",M=e=>({type:E,component:e,meta:{hideActionMenu:!0}}),P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:B,meta:e}},R=(0,I.Ng)(e=>({...e.ui.modal}))(e=>{let{show:t,component:n,dispatch:r}=e;return t?s.cloneElement(n,{onClose:e=>r(P(e))}):null}),q=(0,A.HY)({modal:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{show:!1,component:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return{show:!0,component:t.component};case B:return{show:!1,component:null};default:return e}}}),O="START_RENAMING",L="ABORT_RENAMING",$={file:null,name:null},U=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{...e,file:t.file,name:t.file.name};case L:return $;default:return e}},V=e=>async t=>{await t({type:O,file:e})},W="SHOW_NEW_FOLDER_INPUT",H="HIDE_NEW_FOLDER_INPUT",Q="IS_ENCRYPTED_FILE",Z=()=>({type:W}),G=()=>({type:H}),K={isTypingNewFolderName:!1,isEncryptedFolder:!1},Y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return{...e,isTypingNewFolderName:!0};case H:return{...e,isTypingNewFolderName:!1};case Q:return{...e,isEncryptedFolder:!0};default:return e}},J=e=>e.filelist.isTypingNewFolderName,X=e=>e.filelist.isEncryptedFolder;var ee=n(39046),et=n(38321);let en="io.cozy.files.root-dir",er="io.cozy.files.trash-dir",ei="io.cozy.files.shared-with-me-dir",ea="io.cozy.files.shared-drives-dir",el="io.cozy.remote.nextcloud.files",eo="/.cozy_trash";var es=n(58156),ed=n.n(es);let ec=e=>(0,m.hasQueryBeenLoaded)(e)&&e.data,eu=e=>{let t=e.split(" ");return 4!==t.length?null:{type:t[0],folderId:t[1],sortAttribute:t[2],sortOrder:t[3]}},eh=function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return`${e} ${t} ${n} ${r} ${i}`.trim()},em=p().fetchPolicies.olderThan(54e4),ep=e=>{let{currentFolderId:t,type:n,sortAttribute:r,sortOrder:i}=e;return{definition:()=>(0,m.Q)("io.cozy.files").where({dir_id:t,type:n,[r]:{$gt:null}}).partialIndex({_id:{$nin:[er,"io.cozy.files.shared-drives-dir"]}}).indexFields(["dir_id","type",r]).sortBy([{dir_id:i},{type:i},{[r]:i}]).include(["encryption"]).limitBy(100),options:{as:eh(n,t,r,i),fetchPolicy:em}}},ef=()=>({definition:()=>(0,m.Q)("io.cozy.files").where({updated_at:{$gt:null}}).partialIndex({type:"file",trashed:!1,dir_id:{$nin:[ea,er]}}).indexFields(["updated_at"]).sortBy([{updated_at:"desc"}]).limitBy(50),options:{as:"recent-view-query",fetchPolicy:em}}),ey=e=>{let{attribute:t}=e;return{definition:()=>(0,m.Q)("io.cozy.files").where({type:"file",trashed:!1,[`metadata.${t}`]:!0,updated_at:{$gt:null}}).indexFields([`metadata.${t}`,"type","trashed","updated_at"]).limitBy(1),options:{as:`recent-view-query-with-${t}`,fetchPolicy:em}}},eg=e=>({definition:()=>(0,m.Q)("io.cozy.files").getByIds(e),options:{as:`parents-by-ids-${e.join("")}`,fetchPolicy:em}}),ev=e=>{let{ids:t,enabled:n=!0}=e;return{definition:()=>(0,m.Q)("io.cozy.files").getByIds(t).sortBy([{type:"asc"},{name:"asc"}]),options:{as:`sharings-by-ids-${t.join("")}`,enabled:n,fetchPolicy:em}}},e_=e=>{let{sharedDocumentIds:t,attribute:n}=e;return{definition:()=>(0,m.Q)("io.cozy.files").getByIds(t).where({[`metadata.${n}`]:!0}).limitBy(1),options:{as:`sharings-by-ids-${t.join("")}-with-${n}`,fetchPolicy:em}}},eb=e=>{let{currentFolderId:t,sortAttribute:n,sortOrder:r,type:i,limit:a}=e;return{definition:()=>(0,m.Q)("io.cozy.files").where({dir_id:t,type:i,[n]:{$gt:null}}).indexFields(["dir_id","type",n]).sortBy([{dir_id:r},{type:r},{[n]:r}]).limitBy(a||100),options:{as:`trash-${eh(i,t,n,r)}`,fetchPolicy:p().fetchPolicies.olderThan(54e4)}}},ex=e=>{let{currentFolderId:t,attribute:n}=e;return{definition:()=>(0,m.Q)("io.cozy.files").where({dir_id:t,[`metadata.${n}`]:!0,type:"file"}).indexFields(["dir_id",`metadata.${n}`,"type"]).limitBy(1),options:{as:`specific-metadata-${n}-for-${t}`,fetchPolicy:em}}},ej=e=>({definition:()=>(0,m.Q)("io.cozy.files").getById(e),options:{as:`io.cozy.files/${e}`,fetchPolicy:em,singleDocData:!0,enabled:!!e}}),ew=e=>{let{sourceAccount:t,path:n}=e;return{definition:()=>(0,m.Q)("io.cozy.remote.nextcloud.files").where({"cozyMetadata.sourceAccount":t,parentPath:n}).indexFields(["cozyMetadata.sourceAccount","parentPath"]),options:{as:`io.cozy.remote.nextcloud.files/sourceAccount/${t??"unknown"}/path${n}`,fetchPolicy:em,enabled:!!t&&!!n}}},ek=e=>{let{sortAttribute:t,sortOrder:n}=e;return{definition:()=>(0,m.Q)("io.cozy.files").where({[t]:{$gt:null}}).partialIndex({"cozyMetadata.favorite":!0,path:{$or:[{$exists:!1},{$regex:"^(?!/.cozy_trash)"}]},trashed:{$or:[{$exists:!1},{$eq:!1}]}}).indexFields([t]).sortBy([{[t]:n}]),options:{as:"io.cozy.files/metadata.favorite/true",fetchPolicy:em}}},eC=()=>(0,m.Q)(w),eS={as:w},ez=e=>{let{driveId:t,folderId:n}=e;return{definition:()=>(0,m.Q)("io.cozy.files").getById(n).sharingById(t),options:{as:`io.cozy.files/driveId/${t}/folderId/${n}`,enabled:!!t&&!!n}}},{isEncrypted:eF}=m.models.file,eA=e=>ed()(e,"referenced_by",[]).find(e=>e.type===k),eT=async(e,t)=>{let n;if(!(0,y.default)("drive.enable-encryption"))return null;let r={definition:()=>(0,m.Q)(k).getById(n),options:{as:n=`${j}/${t}`,fetchPolicy:em}},i=await e.query(r.definition(),{options:r.options});return i&&i.data?i.data.key:null},eN=async(e,t,n)=>{let{name:r,dirID:i,driveId:a}=n,{data:l}=await e.collection(j,{driveId:a}).create({name:r,dirId:i,type:"directory"}),o=`${j}/${l._id}`,s=await t.generateEncryptionKey(),{data:d}=await e.create(k,{_id:o,key:s.encryptedKey.encryptedString});return e.hydrateDocument(l,z,{forceHydratation:!0}).encryption.addById(d._id)},eD=async(e,t,n)=>{let{file:r,encryptionKey:i,fileOptions:a,driveId:l}=n,{name:o,dirID:s,onUploadProgress:d}=a,c=await t.encryptFile(r,i);return(await e.collection(j,{driveId:l}).createFile(c,{name:o,dirId:s,onUploadProgress:d,encrypted:!0})).data},eI=async(e,t)=>(await e.collection(j).fetchFileContentById(t)).arrayBuffer(),eE=async(e,t,n)=>{let{file:r,encryptionKey:i}=n,a=await eI(e,r._id);return new Blob([await t.decryptFile(a,i)],{type:r.type})},eB=async(e,t,n)=>{let{file:r,encryptionKey:i}=n,a=await eM(e,t,{file:r,encryptionKey:i});return e.collection(j).forceFileDownload(a,r.name)},eM=async(e,t,n)=>{let{file:r,encryptionKey:i}=n,a=await eE(e,t,{file:r,encryptionKey:i});return URL.createObjectURL(a)},eP=(e,t)=>{let n,r=1===(n=t.reduce((e,t)=>(e.add(t.type),e),new Set)).size&&n.has("directory")?"directory":1===n.size&&n.has("file")?"file":"element";return e(`EntriesType.${r}`,t.length)};var eR=n(13572),eq=n.n(eR);let eO=eq()("cozy-drive");eq().enable(),eq().suggest.allow("cozy-drive","log"),eq().suggest.allow("cozy-drive","info");var eL=n(97551),e$=n.n(eL),eU=n(55477);let eV="ADD_TO_UPLOAD_QUEUE",eW="UPLOAD_FILE",eH="UPLOAD_PROGRESS",eQ="RECEIVE_UPLOAD_SUCCESS",eZ="RECEIVE_UPLOAD_ERROR",eG="PURGE_UPLOAD_QUEUE",eK="pending",eY="created",eJ="updated",eX="failed",e0="conflict",e1="quota",e2="network",e3="The file is too big and exceeds the filesystem maximum file size",e4=[],e5=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isUpdate:!1};return{...e,status:((e,t)=>{switch(t.type){case eW:return"loading";case eQ:return t.isUpdate?eJ:eY;case eZ:return t.status;default:return e}})(e.status,t),progress:((e,t)=>{if(t.type==eQ)return null;if(t.type===eH){let n,a,l,o=e?(n=e.loaded,a=e.lastUpdated,l=t.date,(t.loaded-n)/(l-a)*1e3):null,s=t.loaded,d=t.total,c=o&&d&&s?(d-s)/o:null;return r||(r=c),c&&e4.push(c),i||(i=setTimeout(()=>{r=e4.reduce((e,t)=>e+t,0)/e4.length,clearTimeout(i),i=void 0,e4=[]},3e3)),{loaded:s,total:d,lastUpdated:t.date,speed:o,remainingTime:r}}return t.type===eZ?null:e})(e.progress,t)}},e6=(0,A.HY)({queue:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case eV:return[...e.filter(e=>e.status!==eY),...t.files.map(e=>({...e,status:eK,progress:null}))];case eG:return[];case eW:case eQ:case eZ:case eH:return e.map(e=>e.file.name!==t.file.name?e:e5(e,t));default:return e}}}),e7=(e,t,n)=>({type:eH,file:e,loaded:t.loaded,total:t.total,date:n||Date.now()}),e8=(e,t,n,r,i,a,l)=>{let{client:o,vaultClient:s}=i;return async(i,d)=>{let c=null;if(!o)throw Error("Upload module needs a cozy-client instance to work. This instance should be made available by using the extraArgument function of redux-thunk");let u=tp(d()).find(e=>e.status===eK);if(!u)return i(ta(t));let{file:h,entry:m,isDirectory:p}=u,g=(0,y.default)("drive.enable-encryption")?await eT(o,n):null;try{if(i({type:eW,file:h}),m&&p){let t=await te(o,m,n,{vaultClient:s,encryptionKey:g},a);null==l||l([t]),e(t)}else{let t=await tn(o,h,n,{vaultClient:s,encryptionKey:g,onUploadProgress:e=>{i(e7(h,e))}},a);null==l||l([t]),e(t)}i({type:eQ,file:h})}catch(t){if(c=t,409===t.status)try{let t=a?await (0,ee.getFullpath)(o,n,h.name,a):await f.CozyFile.getFullpath(n,h.name),r=await tr(o,h,t,{onUploadProgress:e=>{i(e7(h,e))}},a);null==l||l([r]),e(r),i({type:eQ,file:h,isUpdate:!0}),c=null}catch(e){c=e}if(c){var v;eO.error(`Upload module catches an error when executing processNextFile(): ${c}`);let e={409:e0,413:e1};i({type:eZ,file:h,status:(null==(v=c.message)?void 0:v.includes(e3))?e3:c.status in e?e[c.status]:/Failed to fetch$/.exec(c.toString())?e2:eX})}}i(e8(e,t,n,r,{client:o,vaultClient:s},a,l))}},e9=e=>new Promise(t=>e.file(t)),te=async(e,t,n,r,i)=>{let{vaultClient:a,encryptionKey:l}=r,o=await tt(e,t.name,n,i),s=t.createReader();return new Promise(t=>{let n=async n=>{for(let t=0;t<n.length;t+=1){let r=n[t];if(r.isFile){let t=await e9(r);await tn(e,t,o.id,{vaultClient:a,encryptionKey:l},i)}else r.isDirectory&&await te(e,r,o.id,{vaultClient:a,encryptionKey:l},i)}t(o)};s.readEntries(n)})},tt=async(e,t,n,r)=>(await e.collection(j,{driveId:r}).createDirectory({name:t,dirId:n})).data,tn=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0;if(window.chrome){let n=parseInt(t.size,10);if(n>0x140000000)throw Error(JSON.stringify({status:413,title:"Request Entity Too Large",detail:e3}));let{data:r}=await e.getStackClient().fetchJSON("GET","/settings/disk-usage");if(r.attributes.quota){let e=parseInt(r.attributes.used,10);if(n>parseInt(r.attributes.quota,10)-e){let e=Error("Insufficient Disk Space");throw e.status=413,e}}}let{onUploadProgress:a,encryptionKey:l,vaultClient:o}=r;if(!l||!o)return(await e.collection(j,{driveId:i}).createFile(t,{dirId:n,onUploadProgress:a})).data;{let r=new FileReader;r.onloadend=async()=>eD(e,o,{file:r.result,encryptionKey:l,fileOptions:{name:t.name,dirID:n,onUploadProgress:a,driveId:i}}),r.readAsArrayBuffer(t)}},tr=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,{id:a,dir_id:l}=(await e.collection(j,{driveId:i}).statByPath(n)).data;return(await e.collection(j,{driveId:i}).updateFile(t,{dirId:l,fileId:a,options:r})).data},ti=()=>({type:eG}),ta=e=>(t,n)=>{let r=tp(n()),i=td(r),a=to(r),l=tu(r),o=th(r);return e(l,i,a,tc(r),ts(r),o,tm(r))},tl=(e,t)=>e.filter(e=>e.status===t),to=e=>tl(e,e0),ts=e=>tl(e,eX),td=e=>tl(e,e1),tc=e=>tl(e,e2),tu=e=>tl(e,eY),th=e=>tl(e,eJ),tm=e=>tl(e,e3),tp=e=>e.upload.queue,tf="SORT_FOLDER",ty="navigation/OPERATION_REDIRECTED",tg=()=>({type:ty}),tv=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";return{type:tf,folderId:e,sortAttribute:t,sortOrder:n}},t_=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>null,{client:i,vaultClient:a,showAlert:l,t:o}=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,d=arguments.length>6?arguments[6]:void 0;return c=>{let u=t,h=!1;(null==t||t===er)&&(u=en,h=!0),c(((e,t,n,r,i,a,l,o)=>{let{client:s,vaultClient:d}=a;return async a=>{a({type:eV,files:(e=>{let t=[];for(let n=0;n<e.length;n+=1){let r=e[n];if(null!=r.webkitGetAsEntry&&r.webkitGetAsEntry()){let e=r.webkitGetAsEntry();t.push({file:r.getAsFile(),isDirectory:!0===e.isDirectory,entry:e})}else t.push({file:r,isDirectory:!1,entry:null})}return 0===t.length&&eO.warn("Upload module files entries extraction: no file entry"),t})(e)}),a(e8(r,i,t,n,{client:s,vaultClient:d},l,o))}})(e,u,n,r,(e,t,n,r,i,a,s)=>c(tb(e,t,n,r,i,a,l,o,s,h,d)),{client:i,vaultClient:a},s,d))}},tb=(e,t,n,r,i,a,l,s,d,c,u)=>h=>{let m=n.length,p=e.length,f=a.length,y=eP(s,[...e,...a,...n]),g=[...e,...a];if(g.length>0&&u(g),eO.debug("uploadQueueProcessed called with:",{created:e.map(e=>e.name),updated:a.map(e=>e.name),quotas:t.map(e=>e.name),conflicts:n.map(e=>e.name),networkErrors:r.map(e=>e.name),errors:i.map(e=>({name:e.name,status:e.status,message:e.message})),fileTooLargeErrors:d.map(e=>e.name),navigateAfterUpload:c}),t.length>0)eO.warn(`Upload module triggers a quota alert: ${t}`),h(M((0,o.jsx)(et.A,{})));else if(r.length>0)eO.warn(`Upload module triggers a network error: ${r}`),l({message:s("upload.alert.network"),severity:"secondary"});else if(i.length>0){eO.error(`Upload module triggers an error: ${i}`);let e=i.map(e=>e.message||JSON.stringify(e)).join(", ");l({message:s("upload.alert.errors_detailed",{type:y,count:i.length,details:e}),severity:"secondary"})}else f>0&&p>0&&m>0?l({message:s("upload.alert.success_updated_conflicts",{smart_count:p,updatedCount:f,conflictCount:m,type:y}),severity:"success"}):f>0&&p>0?l({message:s("upload.alert.success_updated",{smart_count:p,updatedCount:f,type:y}),severity:"success"}):f>0&&m>0?l({message:s("upload.alert.updated_conflicts",{smart_count:f,conflictCount:m,type:y}),severity:"success"}):m>0?l({message:s("upload.alert.success_conflicts",{smart_count:p,conflictNumber:m,type:y}),severity:"secondary"}):f>0&&0===p?l({message:s("upload.alert.updated",{smart_count:f,type:y}),severity:"success"}):d.length>0?l({message:s("upload.alert.fileTooLargeErrors",{max_size_value:5}),severity:"error"}):l({message:s("upload.alert.success",{smart_count:p,type:y}),severity:"success"});let v=e.length>0||a.length>0;c&&v?(eO.debug("Dispatching operationRedirected for upload."),h(tg())):eO.debug("Not dispatching operationRedirected for upload.",{navigateAfterUpload:c,hasSuccessfulUploads:v})},tx=function(e,t,n,r){let{isEncryptedFolder:i=!1,showAlert:a,t:l}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};return async(d,c)=>{let u=c(),h=r,m=i,p=!1;if((null==r||r===er)&&(h=en,m=!1,p=!0),(((e,t)=>{let n=((e,t)=>{let n=Object.entries(e.cozy.queries).filter(e=>{let[n]=e,r=eu(n);if(!r)return!1;let{folderId:i}=r;return i===t}).map(e=>e[1]);if(n.length>0){let t=e$()(n,e=>e.lastUpdate)||n[0],r=(e=>{let{type:t,folderId:n,sortAttribute:r,sortOrder:i}=eu(e);return eh("directory"===t?"file":"directory",n,r,i)})(t.id);return[t,e.cozy.queries[r]]}return[]})(e,t);if(!(n.length>0))return null;{let[t,r]=n;return t.data.concat(r?r.data:[]).map(t=>(0,eU.getDocumentFromState)(e,j,t))}})(u,h)||[]).find(e=>(0,ee.isDirectory)(e)&&e.name===n))throw a({message:l("alert.folder_name",{folderName:n}),severity:"error"}),Error("alert.folder_name");let f=null;try{if(m)if(h===r)f=await eN(e,t,{name:n,dirID:h,driveId:o});else throw eO.error("Attempted to create encrypted folder in non-original/root target."),Error("Cannot create encrypted folder in root via redirection.");else f=await e.collection("io.cozy.files",{driveId:o}).create({name:n,dirId:h,type:"directory"});f&&s([f.data]),p&&f&&d(tg())}catch(e){throw e.response&&409===e.response.status?a({message:l("alert.folder_name",{folderName:n}),severity:"error"}):a({message:l("alert.folder_generic"),severity:"error"}),e}}},tj="navigation/RESET_OPERATION_REDIRECTED",tw=(0,A.HY)({sort:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===tf?{attribute:t.sortAttribute,order:t.sortOrder}:e},operationRedirected:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ty:return!0;case tj:return!1;default:return e}}}),tk=e=>e.view.operationRedirected,tC=[{label:"name",attr:"name",css:"file",defaultOrder:"asc"},{label:"update",attr:"updated_at",css:"date",defaultOrder:"desc"}],tS={attribute:"name",order:"asc"},tz={attribute:"updated_at",order:"desc"},tF=e=>{let t=(0,y.default)("drive.default-updated-at-sort.enabled")||e===er?tz:tS,n=(0,I.wA)();return[(0,I.d4)(e=>e.view.sort)||t,(0,s.useCallback)(t=>{let{attribute:r,order:i}=t;n(tv(e,r,i))},[n,e])]},tA=e=>new URLSearchParams(e.search).get("sharing"),tT=h()(()=>{let e=document.querySelector("[role=application]"),t=JSON.parse(e.dataset.cozy),r=window.location?window.location.protocol:"https:",i=`${r}//${t.domain}`,a=[new m.StackLink({platform:{isOnline:()=>{var e,t;return null==(t=window)||null==(e=t.navigator)?void 0:e.onLine}}})];if((0,y.default)("dataproxy.queries.enabled")){let e=new m.DataProxyLink;a.push(e)}let l=new(p())({uri:i,token:t.token,appMetadata:_,schema:z,useCustomStore:!0,links:a});f.Document.cozyClient||f.Document.registerClient(l);let o=t.locale;l.registerPlugin(F.RealtimePlugin),l.registerPlugin(y.default.plugin);let s=(0,g.i9)(o,e=>n(57584)(`./${e}`)),d=(e=>{let t,n,{client:r,t:i,initialState:a={},setStoreToClient:l=!0}=e,o=[N.A.withExtraArgument({client:r,t:i})];(0,y.default)("drive.logger")&&o.push((0,T.createLogger)((0,y.default)("debug")?{}:{level:{prevState:!1,nextState:!1}}));let s=(0,y.default)("debug")&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||A.Zz,d=(t={...{ui:q,view:tw,filelist:Y,upload:e6,rename:U},...D.barReducers,cozy:r.reducer()},n=(0,A.HY)(t),(e,t)=>n(e,t)),c=(0,A.y$)(d,a,s((0,A.Tw)(...o)));return l&&r.setStore(c),c})({client:l,t:s.t.bind(s)});return{locale:o,polyglot:s,client:l,store:d,root:e}});var tN=n(5556),tD=n.n(tN),tI=n(23794),tE=n(57844),tB=n(84660),tM=n(24242);let tP="COPY_FILES",tR="CUT_FILES",tq="CLEAR_CLIPBOARD",tO="SHOW_SHARING_MODAL",tL="HIDE_SHARING_MODAL",t$={files:[],operation:null,timestamp:null,cutItemIds:new Set,sourceFolderIds:new Set,moveValidationModal:{isVisible:!1,type:null,file:null,targetFolder:{},onConfirm:null,onCancel:null}},tU=(e,t)=>{switch(t.type){case tP:return{...e,files:[...t.payload.files],operation:"copy",timestamp:Date.now(),cutItemIds:new Set,sourceFolderIds:t.payload.sourceFolderIds??null};case tR:return{...e,files:[...t.payload.files],operation:"cut",timestamp:Date.now(),cutItemIds:new Set(t.payload.files.map(e=>e._id)),sourceFolderIds:t.payload.sourceFolderIds??null};case tq:return{...t$};case tO:return{...e,moveValidationModal:{isVisible:!0,type:t.payload.type,file:t.payload.file,targetFolder:t.payload.targetFolder,onConfirm:t.payload.onConfirm,onCancel:t.payload.onCancel}};case tL:return{...e,moveValidationModal:{...t$.moveValidationModal}};default:return e}},tV=(0,s.createContext)(void 0),tW=()=>{let e=(0,s.useContext)(tV);if(!e)throw Error("useClipboardContext must be used within a ClipboardProvider");return e},tH=e=>{let{children:t}=e,[n,r]=(0,s.useReducer)(tU,t$),i=(0,s.useCallback)((e,t)=>{r({type:tP,payload:{files:e,sourceFolderIds:t}})},[]),a=(0,s.useCallback)((e,t)=>{r({type:tR,payload:{files:e,sourceFolderIds:t}})},[]),l=(0,s.useCallback)(()=>{r({type:tq})},[]),d=(0,s.useCallback)((e,t,n,i,a)=>{r({type:tO,payload:{type:e,file:t,targetFolder:n,onConfirm:i,onCancel:a}})},[]),c=(0,s.useCallback)(()=>{r({type:tL})},[]),u=n.files.length>0&&!!n.operation,h=(0,s.useCallback)(e=>n.cutItemIds.has(e),[n.cutItemIds]),m={clipboardData:n,copyFiles:i,cutFiles:a,clearClipboard:l,hasClipboardData:u,isItemCut:h,showMoveValidationModal:d,hideMoveValidationModal:c,moveValidationModal:n.moveValidationModal};return(0,o.jsx)(tV.Provider,{value:m,children:t})};var tQ=n(36040),tZ=n(48313),tG=n(33616),tK=n(39968);let tY=()=>(0,o.jsx)(tZ.A,{open:!0,content:(0,o.jsx)("div",{className:"u-h-3",children:(0,o.jsx)(tK.default,{size:"xlarge",noMargin:!0,middle:!0})})}),tJ=e=>{let{entries:t,folderId:n,onCancel:r,onConfirm:i}=e,{t:a}=(0,tG.useI18n)(),l=ej(n),{fetchStatus:s,data:d}=(0,m.useQuery)(l.definition,l.options);if("loaded"===s){let e=eP(a,t);return(0,o.jsx)(tZ.A,{open:!0,title:a("Move.insideSharedFolder.title"),content:a("Move.insideSharedFolder.content",{destination:d.name,source:t[0].name,type:e,smart_count:t.length}),actions:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(tQ.default,{variant:"secondary",label:a("Move.insideSharedFolder.cancel"),onClick:r}),(0,o.jsx)(tQ.default,{label:a("Move.insideSharedFolder.confirm"),onClick:i})]})})}return(0,o.jsx)(tY,{})};tJ.propTypes={entries:tD().array.isRequired,onCancel:tD().func.isRequired,onConfirm:tD().func.isRequired};var tX=n(12395),t0=n(39274);let t1=e=>{let t,{entries:n,onCancel:r,onConfirm:i}=e,{t:a}=(0,tG.useI18n)(),{getSharedParentPath:l}=(0,tX.r)(),s=(t=l(n[0].path),{definition:()=>(0,m.Q)("io.cozy.files").where({type:"directory",path:t}).indexFields(["type"," path"]),options:{as:`io.cozy.files/path${t}`,fetchPolicy:em}}),{fetchStatus:d,data:c}=(0,m.useQuery)(s.definition,s.options);if("loaded"===d){let e=eP(a,n);return(0,o.jsx)(tZ.A,{open:!0,title:a("Move.outsideSharedFolder.title",{sharedFolder:c[0].name}),content:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t0.default,{variant:"body1",className:"u-mb-half",children:a("Move.outsideSharedFolder.content_1",{sharedFolder:c[0].name,name:n[0].name,type:e,smart_count:n.length})}),(0,o.jsx)(t0.default,{variant:"body1",children:a("Move.outsideSharedFolder.content_2",{name:n[0].name,type:e,smart_count:n.length})})]}),actions:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(tQ.default,{variant:"secondary",label:a("Move.outsideSharedFolder.cancel"),onClick:r}),(0,o.jsx)(tQ.default,{label:a("Move.outsideSharedFolder.confirm"),onClick:i})]})})}return(0,o.jsx)(tY,{})};t1.propTypes={entries:tD().array.isRequired,onCancel:tD().func.isRequired,onConfirm:tD().func.isRequired};let t2=async e=>{let{client:t,entries:n,trashedFiles:r,registerCancelable:i,showAlert:a,t:l,refreshSharing:o}=e;try{await Promise.all(n.map(e=>i(f.CozyFile.move(e._id,{folderId:e.dir_id}))));let e=t.collection(f.CozyFile.doctype),o=0;await Promise.all(r.map(t=>{try{i(e.restore(t))}catch{o++}})),a(o?{message:l("Move.cancelledWithRestoreErrors",{subject:1===n.length?n[0].name:"",smart_count:n.length,restoreErrorsCount:o}),severity:"secondary"}:{message:l("Move.cancelled",{subject:1===n.length?n[0].name:"",smart_count:n.length}),severity:"secondary"})}catch(e){eO.warn(e),a({message:l("Move.cancelled_error",{smart_count:n.length}),severity:"error"})}finally{o&&o()}},t3=(e,t)=>e.filter(e=>{let{_id:n}=e,r=t[n];return void 0!==r&&(!(r.permissions.length>0)||0!==r.sharings.length)}).length>0,t4=e=>{let{entries:t,folderId:n,onCancel:r,onConfirm:i}=e,{t:a}=(0,tG.useI18n)(),{byDocId:l}=(0,tX.r)(),s=ej(n),{fetchStatus:d,data:c}=(0,m.useQuery)(s.definition,s.options);if("loaded"===d){let e=t.filter(e=>{let{_id:t}=e;return void 0!==l[t]});return(0,o.jsx)(tZ.A,{open:!0,title:a("Move.sharedFolderInsideAnother.title"),content:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t0.default,{variant:"body1",className:"u-mb-half",children:a("Move.sharedFolderInsideAnother.content_1")}),(0,o.jsx)(t0.default,{variant:"body1",className:"u-mb-half",children:a("Move.sharedFolderInsideAnother.content_2",{source:1!==t.length?a("Move.multipleEntries",{smart_count:t.length}):t[0].name,destination:c.name})}),(0,o.jsx)("ul",{children:e.map(e=>{let{_id:t,name:n}=e;return(0,o.jsxs)("li",{children:[n," "]},t)})})]}),actions:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(tQ.default,{variant:"secondary",label:a("Move.sharedFolderInsideAnother.cancel"),onClick:r}),(0,o.jsx)(tQ.default,{label:a("Move.sharedFolderInsideAnother.confirm"),onClick:i})]})})}return(0,o.jsx)(tY,{})};t4.propTypes={entries:tD().array.isRequired,folderId:tD().string.isRequired,onCancel:tD().func.isRequired,onConfirm:tD().func.isRequired};let t5=()=>{let{moveValidationModal:e,hideMoveValidationModal:t}=tW();if(!e.isVisible)return null;let n=()=>{e.onCancel&&e.onCancel(),t()},r=async()=>{e.onConfirm&&await e.onConfirm(),t()};switch(e.type){case"moveOutside":return(0,o.jsx)(t1,{entries:[e.file],onCancel:n,onConfirm:r});case"moveInside":return(0,o.jsx)(tJ,{entries:[e.file],folderId:e.targetFolder._id,onCancel:n,onConfirm:r});case"moveSharedInside":return(0,o.jsx)(t4,{entries:[e.file],folderId:e.targetFolder._id,onCancel:n,onConfirm:r});default:return null}},t6=(0,s.createContext)(),t7=e=>{let{children:t}=e,[n,r]=(0,s.useState)({quota:!1});return(0,o.jsx)(t6.Provider,{value:{bannerDismissed:n,dismissPushBanner:e=>{"quota"===e&&r({...n,quota:!0})}},children:t})},t8=()=>(0,s.useContext)(t6),t9=(0,s.createContext)(),ne=e=>{let{children:t}=e,[n,r]=(0,s.useState)({}),[i,a]=(0,s.useState)();return(0,o.jsx)(t9.Provider,{value:{sharingsValue:n,setSharingsValue:r,fileValue:i,setFileValue:a},children:t})};var nt=n(61122),nn=n(37238),nr=n(48099),ni=n(48907),na=n(4493),nl=n(95926);let no={mouseX:null,mouseY:null},ns=(0,s.createContext)(),nd=()=>{let e=(0,s.useContext)(ns);if(!e)throw Error("useRightClick must be used within a RightClickProvider");return e},nc=e=>{let{children:t}=e,[n,r]=(0,s.useState)(no),[i,a]=(0,s.useState)(""),l=(0,s.useCallback)((e,t)=>{e.preventDefault(),e.stopPropagation(),a(t),r({mouseX:e.clientX-2,mouseY:e.clientY-4})},[]),d=()=>r(no),c=(0,s.useMemo)(()=>({position:n,isOpen:e=>e===i&&null!==n.mouseY&&null!==n.mouseX,onOpen:l,onClose:d}),[n,i,l]);return(0,o.jsx)(ns.Provider,{value:c,children:t})},nu=(0,s.createContext)(),nh=e=>{let{children:t}=e,[n,r]=(0,s.useState)(!1);return(0,o.jsx)(nu.Provider,{value:{isFabDisplayed:n,setIsFabDisplayed:r},children:t})},nm=(0,s.createContext)({isPublic:!1}),np=e=>{let{children:t,isPublic:n=!1}=e;return(0,o.jsx)(nm.Provider,{value:{isPublic:n},children:t})},nf=()=>{let e=(0,s.useContext)(nm);if(void 0===e)throw Error("usePublicContext must be used within a PublicProvider");return e},ny=e=>{let{client:t,lang:n,polyglot:r,dictRequire:i,children:a}=e,{isPublic:l}=nf();return(0,o.jsx)(tG.I18n,{lang:n,polyglot:r,dictRequire:i,children:(0,o.jsx)(m.CozyProvider,{client:t,children:(0,o.jsx)(ng,{isPublic:l,children:(0,o.jsx)(nn.EY,{cozyClient:t,children:(0,o.jsx)(nn.Iy,{children:(0,o.jsx)(nr.default,{doctype:"io.cozy.files",documentType:"Files",children:(0,o.jsx)(ni.Hz,{children:(0,o.jsx)(nl.default,{ignoreCozySettings:l,className:"u-w-100",children:(0,o.jsx)(tM.BreakpointsProvider,{children:(0,o.jsxs)(na.default,{children:[(0,o.jsx)(nn.WE,{}),(0,o.jsx)(nh,{children:(0,o.jsx)(nc,{children:a})})]})})})})})})})})})})},ng=e=>{let{children:t,isPublic:n}=e;return n?t:(0,o.jsx)(nt.DataProxyProvider,{options:{doctypes:[j,"io.cozy.contacts","io.cozy.apps"]},children:t})};ny.propTypes={client:tD().object.isRequired,lang:tD().string.isRequired,polyglot:tD().object,dictRequire:tD().func};let nv=s.createContext(void 0),n_=e=>{let{children:t}=e,[n,r]=(0,s.useState)([]),i=(0,s.useCallback)(e=>{r(t=>[...t,e])},[]),a=(0,s.useCallback)(()=>{r(e=>e.slice(0,e.length-1))},[]);return(0,o.jsx)(nv.Provider,{value:{modalStack:n,pushModal:i,popModal:a},children:t})},nb=()=>{let e=(0,s.useContext)(nv);if(!e)throw Error("useModalContext must be used within a ModalContextProvider");return e},nx=()=>{let{modalStack:e}=nb();return 0===e.length?null:e[e.length-1]},nj="list",nw=(0,s.createContext)({viewType:nj,switchView:async()=>Promise.resolve()}),nk=e=>{let{children:t}=e,n=(0,m.useClient)(),[r,i]=(0,s.useState)(nj);(0,s.useEffect)(()=>{(async()=>{if(n)try{var e,t,r;let a=await n.query((0,m.Q)(w));if(!(null==a?void 0:a.data))return;let l=null==a||null==(r=a.data)||null==(t=r[0])||null==(e=t.attributes)?void 0:e.preferredDriveViewType;i(l||nj)}catch(e){eO.error("Failed to load settings:",e),i(nj)}})()},[n]);let a=async e=>{if(i(e),!n)return void eO.warn("Client not available");try{let{data:t}=await n.query((0,m.Q)(w));if(!t)return void eO.warn("Settings not found");let r=null==t?void 0:t[0];await n.save({...r||{_type:w},attributes:{...(null==r?void 0:r.attributes)||{},preferredDriveViewType:e}})}catch(e){eO.error("Failed to save view preference:",e)}};return(0,o.jsx)(nw.Provider,{value:{viewType:r,switchView:a},children:t})},nC=()=>(0,s.useContext)(nw);var nS=n(40918),nz=n.n(nS);let nF=async e=>{nz()("info","getFilesToHandle called");let t=await e.call("getFilesToHandle");if(0===t.length)throw Error("No files to upload");if(t.length>0)return nz()("info","getFilesToHandle success"),t.map(e=>({...e.file,name:e.file.fileName}));throw nz()("info","getFilesToHandle no files to upload"),Error("No files to upload")},nA=e=>{let{children:t}=e,{isMobile:n}=(0,tM.useBreakpoints)(),[r,i]=(0,y.default)("drive.virtualization.enabled")&&!n?[tI.Q,{backend:tE.t2}]:[s.Fragment,{}];return(0,o.jsx)(D.BarProvider,{children:(0,o.jsx)(t7,{children:(0,o.jsx)(tH,{children:(0,o.jsx)(ne,{children:(0,o.jsx)(nk,{children:(0,o.jsx)(n_,{children:(0,o.jsxs)(r,{...i,children:[t,(0,o.jsx)(t5,{})]})})})})})})})},nT=e=>{let{isPublic:t,store:n,client:r,lang:i,polyglot:a,children:l}=e;return(0,o.jsx)(tB.WebviewIntentProvider,{methods:{onFileUploaded:(e,t)=>{var r,i;return r={file:e,isSuccess:t},i=n.dispatch,void(r.file&&i(2===r.file.status?{type:eQ,file:r.file}:{type:eZ,file:r.file}))}},children:(0,o.jsx)(np,{isPublic:t,children:(0,o.jsx)(I.Kq,{store:n,children:(0,o.jsx)(ny,{client:r,lang:i,polyglot:a,children:(0,o.jsx)(nA,{children:l})})})})})};nT.propTypes={store:tD().object,lang:tD().string,polyglot:tD().object,client:tD().object};var nN=n(47767),nD=n(86960),nI=n(95674),nE=n(66550);let nB=e=>(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",...e,children:(0,o.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,o.jsx)("path",{fill:"#FDD5D5",d:"M0 6.006A2 2 0 0 1 2.002 4h27.996A2 2 0 0 1 32 6.003V17l-8 4-16-7-8 4zM0 20l8-4 16 7 8-4v9.008c0 1.1-.89 1.992-2.002 1.992H2.002A1.996 1.996 0 0 1 0 28z"}),(0,o.jsx)("path",{fill:"#F52D2D",d:"M0 2.99C0 2.445.45 2 1.007 2h11.986c.556 0 1.32.313 1.718.71l.578.58c.393.392 1.156.71 1.712.71h13.005C31.107 4 32 4.895 32 6H17c-.552 0-1.312.313-1.71.71l-.58.58c-.392.392-1.16.71-1.717.71H1.007A1.004 1.004 0 0 1 0 7.01z"})]})});var nM=n(31462),nP=n(8443);let nR=e=>{let{children:t}=e;return(0,o.jsxs)(nP.PE,{monoColumn:!0,children:[t,(0,o.jsx)(nM.A,{})]})},nq=(0,nE.A)()(e=>{let{t}=e,{fileId:n}=(0,nN.g)(),r=(0,m.useClient)(),{shortcutInfos:i,fetchStatus:a}=(0,m.useFetchShortcut)(r,n);return i&&(window.location.href=i.data.attributes.url),(0,o.jsxs)(nR,{children:["failed"===a&&(0,o.jsx)(nD.default,{"data-testid":"empty-share",icon:nB,title:t("External.redirection.title"),text:t("External.redirection.error")}),"failed"!==a&&(0,o.jsx)(nD.default,{"data-testid":"empty-share",icon:nI.default,title:t("External.redirection.title"),text:t("External.redirection.text")})]})}),nO=async e=>{let{client:t,sharingId:n,sharingsValue:r}=e,i=await t.query((0,m.Q)("io.cozy.sharings").getById(n));return Object.assign({[`${i.data.id}`]:i.data},r)},nL=async e=>{let{client:t,sharingsValue:n,setSharingsValue:r,setFileValue:i,navigate:a,sharingId:l}=e;if(!l)return a("/folder",{replace:!0});try{let e=(await t.collection("io.cozy.files").findReferencedBy({_type:"io.cozy.sharings",_id:l})).included,o=e.length>=1,s=o?e[0]:null,d=!!o&&m.models.file.isSharingShortcut(s);if(d&&i(s),!o||d){let e=await nO({client:t,sharingId:l,sharingsValue:n});r(e)}if(!o)return a(`/folder/${ei}`,{replace:!0});return a(`/folder/${s.dir_id}`,{replace:!0})}catch(e){return console.warn(`fetchSharing error : ${e}. Redirect to /folder/${ei}`),a(`/folder/${ei}`,{replace:!0})}},n$=()=>{let e=(0,m.useClient)(),t=(0,nN.Zp)(),{sharingsValue:n,setFileValue:r,setSharingsValue:i}=(0,s.useContext)(t9),a=tA(window.location);return(0,s.useEffect)(()=>{nL({client:e,sharingsValue:n,setSharingsValue:i,navigate:t,sharingId:a,setFileValue:r})},[e,a,t,i,r,n]),null};var nU=n(69032),nV=n(92372),nW=n(65132),nH=n(82092);let nQ=e=>{var t,n,r,i,a,l;let d,c,u,h,p,{folderId:f}=e,y=(d=(0,m.useClient)(),c=(0,I.d4)(e=>{if(f)return(0,eU.getDocumentFromState)(e,"io.cozy.files",f)}),(0,s.useMemo)(()=>d.hydrateDocument(c),[d,c])),{isMobile:g}=(0,tM.useBreakpoints)(),v=null==y||null==(i=y.relationships)||null==(r=i.contents)||null==(n=r.data)||null==(t=n[0])?void 0:t.id,_=ej(v),b=(0,m.useQuery)(_.definition,{..._.options,enabled:!!v});b.data&&(u=null==(a=b.data.cozyMetadata)?void 0:a.createdByApp,h=null==(l=b.data.cozyMetadata)?void 0:l.sourceAccount);let x=(p=h,{definition:()=>(0,m.Q)("io.cozy.triggers").where({"message.account":p}).indexFields(["message.account"]),options:{as:`io.cozy.triggers/accounts/${p}`,enabled:!!p,fetchPolicy:em}}),{data:j,...w}=(0,m.useQuery)(x.definition,x.options),k=(0,m.isQueryLoading)(w),C=(0,m.useQuery)((0,m.Q)("io.cozy.konnectors").getById(`io.cozy.konnectors/${u}`||" "),{as:`io.cozy.konnectors/${u}`,enabled:!!u,singleDocData:!0});return!C.data||0===C.data.length||k?null:(0,o.jsxs)("div",{className:"u-mh-0-s u-mb-0-s u-mh-2 u-mb-1",children:[(0,o.jsx)(nW.mu,{flowProps:{initialTrigger:j[0],konnector:C.data},konnectorRoot:`harvest/${u}`}),g&&(0,o.jsx)(nH.default,{style:{height:12,backgroundColor:"var(--defaultBackgroundColor)"}})]})};nQ.propTypes={folderId:tD().string.isRequired};let nZ=e=>{let{sourceAccount:t,path:n}=e;return`io.cozy.remote.nextcloud.files/sourceAccount/${t}/path${n}`},nG=e=>{var t;return(0,ee.isShortcut)(e)&&(null==(t=e.cozyMetadata)?void 0:t.createdByApp)==="nextcloud"&&!(0,y.default)("drive.hide-nextcloud-dev")},nK=e=>e.path?e.dir_id===en?e.path.replace(e.name,""):e.path.replace(`/${e.name}`,""):"",nY=(e,t)=>{if(e._id===er)return{title:t("FileName.trash"),filename:t("FileName.trash")};if(e._id===ea||e._id===en)return{title:t("FileName.sharedDrive"),filename:t("FileName.sharedDrive")};let{filename:n,extension:r}=(0,ee.splitFilename)(e);return"io.cozy.files"===e._type&&nG(e)?{title:n,filename:n}:{title:e.name,filename:n,extension:r}},nJ=()=>{let{folderId:e,fileId:t}=(0,nN.g)();(e=>{let{t}=(0,tG.useI18n)(),n=(0,m.useClient)(),r=ej(e),{data:i,fetchStatus:a}=(0,m.useQuery)(r.definition,r.options),l=(0,s.useMemo)(()=>`${n.appMetadata.prefix} ${n.appMetadata.name}`,[n.appMetadata]),o=(0,s.useMemo)(()=>((e,t,n)=>{if(!e)return;let r=e&&e.name&&!eo.includes(e.name)?`${e.name} `:"",i=nK(e),a="";if(m.models.file.isDirectory(e)){if(e&&e.path)if(e.path.startsWith(eo)){let t=e.path.split(`${eo}/`)[1];a=t?`(${n("Nav.item_trash")}/${t}) `:`${n("Nav.item_trash")} `}else"/"!==e.path&&e.path!==`/${e.name}`&&(a=`(${e.path.substring(1)}) `)}else if(e&&i)if(i.startsWith(eo)){let e=i.split(`${eo}/`)[1];a=e?`(${n("Nav.item_trash")}/${e}) `:`(${n("Nav.item_trash")}) `}else a=`(${i.substring(1)}) `;let l=r||a?"- ":"";return`${r}${a}${l}${t}`})(i,l,t),[i,l,t]);(0,s.useEffect)(()=>{"loaded"===a&&o!==document.title&&(document.title=o)},[a,o])})((0,s.useMemo)(()=>void 0!==t,[t])?t:e)},nX=()=>{let{folderId:e}=(0,nN.g)(),{pathname:t=""}=(0,nN.zy)();return e?e:t.startsWith("/folder/io.cozy.files.shared-drives-dir")?"io.cozy.files.shared-drives-dir":"/folder"===t?en:"/trash"===t?er:null},n0=()=>{let e=nX()??en,t=ej(e),n=(0,m.useQuery)(t.definition,t.options),r=n.data??null,i=(null==r?void 0:r.id)??null;return e?{isNotFound:"failed"===n.fetchStatus&&404===n.lastError.status,displayedFolder:r,initialDirId:i}:{isNotFound:!0,displayedFolder:null,initialDirId:null}},n1=e=>e&&e._id!==er?e:{id:en},n2=function(){let{isPublic:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t]=(0,c.useSearchParams)(),n=new URLSearchParams(location.search),r=(0,m.useClient)(),i=(0,nN.Zp)(),a="true"===t.get("fromPublicFolder"),[l,o]=(0,s.useState)(void 0);(0,s.useEffect)(()=>{let t=async()=>{try{var e,t;let n=await r.collection("io.cozy.permissions").fetchOwnPermissions();(null==(e=n.included)?void 0:e.length)>0&&o(null==(t=n.included[0].attributes)?void 0:t.instance)}catch{eO.warn("Cannot fetch permissions")}};e&&!a&&t()},[r,e,a]);let d=t.get("redirectLink")||n.get("redirectLink"),u=!!d&&(!e||a||!!l||window.history.length>2);return{redirectLink:d,redirectBack:()=>{if(!d)return eO.warn("Cannot find a redirect link");let{slug:t,pathname:n,hash:o}=(0,m.deconstructRedirectLink)(d);if(!e||a)return i(o);if(l)try{var s;let{subdomain:e}=r.getInstanceOptions();return s=(0,m.generateWebLink)({cozyUrl:l,subDomainType:e,slug:t,pathname:n,hash:o}),void(window.location=s)}catch(e){eO.error(`Cannot generate a web link : ${e}`)}if(window.history.length>2)return i(-2)},canRedirect:u}},n3=()=>window.navigator.userAgent&&window.navigator.userAgent.indexOf("Android")>=0,n4=()=>window.navigator.userAgent&&/iPad|iPhone|iPod/.test(window.navigator.userAgent),n5="desktop_banner",n6="desktop_small_banner",n7="noviewer_desktop_cta",n8=async e=>{let t={definition:(0,m.Q)("io.cozy.settings").getById("io.cozy.settings.clients"),options:{as:"io.cozy.settings/io.cozy.settings.clients",fetchPolicy:p().fetchPolicies.olderThan(3e4),singleDocData:!0}},{data:n}=await e.fetchQueryAndGetFromState(t);return!!n&&Object.values(n).some(e=>(null==e?void 0:e.software_id)==="github.com/cozy-labs/cozy-desktop")},n9=e=>{let{t}=e,n=(0,y.default)("cozy.desktop-app-download-link");return n||t(window.navigator&&-1===window.navigator.appVersion.indexOf("Win")&&-1===window.navigator.appVersion.indexOf("Mac")?"Nav.link-client":"Nav.link-client-desktop")};function re(e,t){return`${e}${e.endsWith("/")?"":"/"}${t}`}let rt=e=>{if("/"===e)return;let t=e.split("/");return t.pop(),1===t.length?"/":t.join("/")},rn=(e,t)=>{var n;let r=e.find(e=>e._id===t._id);return"file"===t.type&&("io.cozy.remote.nextcloud.files"===t._type||(null==(n=t.cozyMetadata)?void 0:n.createdByApp)!=="nextcloud")||void 0!==r},rr=async(e,t)=>{let n=ej(t),r=await (null==e?void 0:e.fetchQueryAndGetFromState({definition:n.definition(),options:n.options}));if(!r.data)throw Error("Parent folder not found");return r.data},ri=e=>{let{sourceAccount:t,instanceName:n}=e;return{id:"io.cozy.remote.nextcloud.files.root-dir",_id:"io.cozy.remote.nextcloud.files.root-dir",_type:"io.cozy.remote.nextcloud.files",name:`${n??""} (Nextcloud)`,path:"/",parentPath:"",cozyMetadata:{sourceAccount:t},type:"directory",links:{self:"unknown"},size:0,updated_at:new Date().toISOString()}},ra=async(e,t)=>{let n=ew({sourceAccount:t.cozyMetadata.sourceAccount,path:rt(t.parentPath)??"unknown"}),r=((await (null==e?void 0:e.fetchQueryAndGetFromState({definition:n.definition(),options:n.options}))).data??[]).find(e=>e.path===t.parentPath);if(!r)throw Error("Parent folder not found");return r},rl=async(e,t,n)=>{let{instanceName:r}=n;return"io.cozy.remote.nextcloud.files"===t._type?"/"===t.path?await rr(e,"io.cozy.files.shared-drives-dir"):"/"===t.parentPath?ri({sourceAccount:t.cozyMetadata.sourceAccount,instanceName:r}):await ra(e,t):await rr(e,t.dir_id)},ro=e=>{let{sourceAccount:t,path:n,insideTrash:r=!1}=e,i=(r?e=>{let{sourceAccount:t,path:n}=e;return{definition:()=>(0,m.Q)("io.cozy.remote.nextcloud.files").where({"cozyMetadata.sourceAccount":t,parentPath:n,trashed:!0}).indexFields(["cozyMetadata.sourceAccount","parentPath","trashed"]),options:{as:`io.cozy.remote.nextcloud.files/sourceAccount/${t??"unknown"}/path${n}/trashed`,fetchPolicy:em,enabled:!!t&&!!n}}}:ew)({sourceAccount:t,path:n}),a=(0,m.useQuery)(i.definition,i.options);return{nextcloudQuery:i,nextcloudResult:a}},rs=e=>{let{sourceAccount:t}=e,n=(e=>{let{sourceAccount:t}=e;return{definition:()=>(0,m.Q)("io.cozy.files").where({"cozyMetadata.sourceAccount":t}).partialIndex({"cozyMetadata.createdByApp":"nextcloud"}).indexFields(["cozyMetadata.sourceAccount"]).limitBy(1),options:{as:`io.cozy.files/createdByApp/nextcloud/sourceAccount/${t}`,fetchPolicy:em,enabled:!!t,singleDocData:!0}}})({sourceAccount:t}),r=(0,m.useQuery)(n.definition,n.options);if((0,m.hasQueryBeenLoaded)(r)&&r.data.length>0&&r.data[0].metadata){let e=r.data[0].metadata.instanceName;return{isLoading:!1,instanceName:r.data[0].metadata.instanceName,instanceUrl:r.data[0].metadata.fileIdAttributes,rootFolderName:`${e} (Nextcloud)`}}return{isLoading:!0}},rd=function(){let{insideTrash:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t]=(0,c.useSearchParams)();return t.get("path")??(e?"/trash/":"/")},rc=()=>{let{sourceAccount:e}=(0,nN.g)(),t=rd(),{instanceName:n}=rs({sourceAccount:e}),{nextcloudResult:r}=ro({sourceAccount:e,path:rt(t)});return"/"===t&&e?ri({sourceAccount:e,instanceName:n}):ec(r)?(r.data??[]).find(e=>e.path===t):void 0},ru=async(e,t)=>{if(!t||!t._id)throw Error("Invalid targetFolder: missing _id");let n=(0,m.Q)("io.cozy.files").where({dir_id:t._id,trashed:!1}).indexFields(["dir_id","trashed"]);return new Set(((await e.query(n)).data||[]).map(e=>e.name))},rh=async(e,t,n)=>{if(!Array.isArray(t))throw Error("files must be an array");let r=await ru(e,n);return t.map(e=>{let t=(0,ee.isFile)(e),n=e.name,i=((e,t,n)=>{let r;if(!t.has(e))return e;let{base:i,extension:a,suffix:l}=((e,t)=>{let n=e,r="",i=null;if(t){let t=e.lastIndexOf(".");t>0&&(n=e.substring(0,t),r=e.substring(t))}let a=n.match(/^(.*)\s\((\d+)\)$/);return a&&(n=a[1],i=parseInt(a[2],10)),{base:n,extension:r,suffix:i}})(e,n),o=l?l+1:1;do r=`${i} (${o})${a}`,o++;while(t.has(r));return r})(n,r,t);return r.add(i),{...e,needsRename:n!==i,uniqueName:i,attributes:{...e.attributes,name:i}}})},rm=async function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},{showAlert:a,t:l,sharingContext:o}=i,s=[],d=t;for(let c of("cut"===n&&(d=await rh(e,t,r)),d))try{if("copy"===n){if(!(0,ee.isFile)(c))continue;let t=await rp(e,c,r,{showAlert:a,t:l});s.push({success:!0,file:t,operation:"copy"})}else if("cut"===n){let t=await rf(e,c,r,{sharingContext:o,showMoveValidationModal:i.showMoveValidationModal});s.push({success:!0,file:t,operation:"move"})}}catch(e){s.push({success:!1,file:c,error:e,operation:n})}return s},rp=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{showAlert:i,t:a}=r,l=await (0,ee.copy)(e,t,n);return n._type===el&&ry(e,n),i&&a&&i({message:a("DuplicateModal.success",{smart_count:1,fileName:t.name,destinationName:n._id===en?a("breadcrumb.title_drive"):n.name}),severity:"success"}),l},rf=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{sharingContext:i,showMoveValidationModal:a}=r;if(i&&t.path&&n.path&&a){let{getSharedParentPath:r,hasSharedParent:l,byDocId:o}=i;if(r&&l&&o)try{let i=r(t.path),s=re(n.path,t.name),d=t3([t],o),c=l(t.path),u=l(s);if(!(i&&s.startsWith(i))){if(c&&!u)return new Promise((r,i)=>{a("moveOutside",t,n,async()=>{try{let i=await (0,ee.move)(e,t,n);r(i)}catch(e){i(e)}},()=>i(Error("Move cancelled by user")))});if(!d&&u)return new Promise((r,i)=>{a("moveInside",t,n,async()=>{try{let i=await (0,ee.move)(e,t,n);r(i)}catch(e){i(e)}},()=>i(Error("Move cancelled by user")))});if(d&&u)return new Promise((r,i)=>{a("moveSharedInside",t,n,async()=>{try{let i=await (0,ee.move)(e,t,n);r(i)}catch(e){i(e)}},()=>i(Error("Move cancelled by user")))})}}catch(e){eO.error("Failed to paste:",e)}}t.needsRename&&await e.collection(j).update({...t,name:t.uniqueName,_rev:t._rev||t.meta.rev});let l=await (0,ee.move)(e,t,n),o=n._type===el,s=!o&&t._type===el;return(o||s)&&ry(e,n,t,{isMovingInsideNextcloud:o,isMovingOutsideNextcloud:s}),l},ry=function(e,t){var n,r;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{isMovingInsideNextcloud:l=!1,isMovingOutsideNextcloud:o=!1}=a;if(l||t._type===el){let r=nZ({sourceAccount:null==(n=t.cozyMetadata)?void 0:n.sourceAccount,path:t.path});null==e||e.resetQuery(r)}if(o&&i){let t=nZ({sourceAccount:null==(r=i.cozyMetadata)?void 0:r.sourceAccount,path:i.path});null==e||e.resetQuery(t)}},rg=(0,s.createContext)(),rv=e=>{let{children:t}=e,[n,r]=(0,s.useState)([]),[i,a]=(0,s.useState)(new Set),l=(0,s.useCallback)(()=>{(0,y.default)("drive.highlight-new-items.enabled")&&(r([]),a(new Set))},[r,a]);return(0,o.jsx)(rg.Provider,{value:{highlightedItems:n,addItems:e=>{if(!(0,y.default)("drive.highlight-new-items.enabled"))return;if(!Array.isArray(e))throw Error("addItems expects an array");let t=e.filter(e=>e&&e._id&&!i.has(e._id));0!==t.length&&(r(e=>[...e,...t]),a(e=>{let n=new Set(e);return t.forEach(e=>n.add(e._id)),n}))},clearItems:l,isNew:e=>!!(0,y.default)("drive.highlight-new-items.enabled")&&null!=e&&!!e._id&&i.has(e._id)},children:t})},r_=()=>{let e=(0,s.useContext)(rg);if(!(0,y.default)("drive.highlight-new-items.enabled"))return{highlightedItems:[],addItems:()=>{},clearItems:()=>{},isNew:()=>!1};if(!e)throw Error("useNewItemHighlightContext must be used within NewItemHighlightProvider");return e},rb=(0,s.createContext)(),rx=e=>{let{children:t}=e,n=(0,nN.zy)(),[r,i]=(0,s.useState)({}),[a,l]=(0,s.useState)(!1),[d,c]=(0,s.useState)(!1),{highlightedItems:u,clearItems:h}=r_(),m=e=>void 0!==r[e],p=e=>{i(e.reduce((e,t)=>(e[t._id]=t,e),{})),c(!0)},f=(0,s.useCallback)(()=>{c(!1),i({})},[]),y=(0,s.useCallback)(()=>{f(),l(!1)},[f]),g=(0,s.useMemo)(()=>0!==Object.keys(r).length||a,[a,r]);return(0,s.useEffect)(()=>{y()},[n,y]),(0,o.jsx)(rb.Provider,{value:{showSelectionBar:()=>l(!0),hideSelectionBar:y,clearSelection:f,isSelectionBarVisible:g,selectedItems:Object.values(r),toggleSelectedItem:e=>{if((null==u?void 0:u.length)>0&&h(),m(e._id)){let{[e._id]:t,...n}=r;i(n)}else i({...r,[e._id]:e})},selectAll:p,isItemSelected:m,isSelectAll:d,toggleSelectAllItems:e=>{d?f():p(e)},setSelectedItems:i,setIsSelectAll:c},children:t})},rj=()=>(0,s.useContext)(rb),rw=e=>{let{onPaste:t=null,canPaste:n=!1,client:r=null,items:i=[],sharingContext:a=null,allowCopy:l=!0,isNextCloudFolder:o=!1}=e,d=(0,I.wA)(),{t:c}=(0,tG.useI18n)(),{showAlert:u}=(0,na.useAlert)(),{selectedItems:h,selectAll:m,hideSelectionBar:p,clearSelection:f,isSelectAll:g}=rj(),{clipboardData:v,copyFiles:_,cutFiles:b,clearClipboard:x,hasClipboardData:j,showMoveValidationModal:w}=tW(),{displayedFolder:k}=n0(),C=rc(),S=o?C:k,z=window.navigator&&/Mac/.test(window.navigator.platform),F=(0,s.useCallback)(()=>{if(!l)return void u({message:c("alert.copy_not_allowed"),severity:"secondary"});let e=h.map(e=>e.dir_id);if(e.includes(ea))return void u({message:c("alert.cannot_copy_shared_drive"),severity:"secondary"});if(!h.length)return;let t=h.filter(ee.isFile);0===t.length?u({message:c("alert.copy_files_only"),severity:"secondary"}):(_(t,new Set(e)),u({message:1===t.length?c("alert.item_copied"):c("alert.items_copied",{count:t.length}),severity:"success"}),f())},[l,h,_,u,c,f]),A=(0,s.useCallback)(()=>{if(!h.length)return;let e=h.map(e=>e.dir_id);e.includes(ea)?u({message:c("alert.cannot_move_shared_drive"),severity:"secondary"}):(b(h,new Set(e)),u({message:1===h.length?c("alert.item_cut"):c("alert.items_cut",{count:h.length}),severity:"success"}),f())},[h,b,u,c,f]),T=(0,s.useCallback)(async()=>{var e;if(j&&r&&S){if(!n)return void u({message:c("alert.paste_not_allowed"),severity:"secondary"});if("cut"===v.operation&&(null==(e=v.sourceFolderIds)?void 0:e.has(S._id)))return void u({message:c("alert.paste_same_folder_skipped"),severity:"secondary"});try{let e=await rm(r,v.files,v.operation,S,{showAlert:u,t:c,sharingContext:a,showMoveValidationModal:w}),n=e.filter(e=>e.success).length,i=e.filter(e=>!e.success).length;if(n>0){let e=1===n?c("alert.item_pasted"):c("alert.items_pasted",{count:n});u({message:e,severity:"success"})}else i>0&&u({message:c("alert.paste_failed"),severity:"error"});"cut"===v.operation&&x(),null==t||t()}catch(e){u({message:c("alert.paste_error"),severity:"error"})}}},[j,n,r,S,v,u,c,a,w,x,t]),N=(0,s.useCallback)(()=>{g?f():m(i)},[g,f,m,i]),D=(0,s.useCallback)(()=>{1===h.length&&d(V(h[0]))},[h,d]),E=(0,s.useCallback)(()=>{p(),x()},[p,x]);(0,s.useEffect)(()=>{if(!(0,y.default)("drive.keyboard-shortcuts.enabled"))return;let e={"Ctrl+c":F,"Ctrl+x":A,"Ctrl+v":T,"Ctrl+a":N,f2:D,escape:E},t=t=>{let n,r;if(!t.target||(n=t.target)instanceof HTMLInputElement||n instanceof HTMLTextAreaElement||n instanceof HTMLElement&&n.isContentEditable)return;let i=e[r=[],(z?t.metaKey:t.ctrlKey)&&r.push("Ctrl"),r.push(t.key.toLowerCase()),r.join("+")];i&&(t.preventDefault(),i())};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[z,F,A,T,N,D,E])},rk=(0,s.createContext)({isBigThumbnail:!1,toggleThumbnailSize:()=>{}}),rC=()=>(0,s.useContext)(rk);var rS=n(14307),rz=n(647),rF=n(90774),rA=n(91292),rT=n(72637),rN=n(38143);let rD=e=>{let{navigate:t,pathname:n,files:r,path:i}=e,a=Array.isArray(r)?r[0]:r;return t(n?re(n,`file/${a.id}/${i}`):`v/${i}`)},rI=e=>{let{navigate:t,pathname:n,files:r,path:i,search:a}=e;return t({pathname:n?re(n,i):`v/${i}`,search:a?`?${a}`:""},{state:{fileIds:r.map(e=>e.id)}})},rE=e=>{try{return e.rules[0].values[0]}catch{return}},rB=e=>e&&"io.cozy.files"==e._type&&e.dir_id===ea&&!(e&&e.driveId),rM=e=>"io.cozy.files"===e._type&&"io.cozy.files.shared-drives-dir"===e.dir_id&&"directory"===e.type,rP=e=>{let{t,hasWriteAccess:n,navigate:r,pathname:i,allLoaded:a}=e,l=t("Files.share.cta"),d=rA.default;return{name:"share",label:l,icon:d,displayCondition:e=>{let t;return a&&n&&(null==e?void 0:e.length)===1&&!(eA(t=e[0])||eF(t))&&!rM(e[0])},action:e=>rD({navigate:r,pathname:i,files:e,path:"share"}),Component:(0,s.forwardRef)(function(e,t){let{isMobile:n}=(0,tM.default)();return(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:d})}),(0,o.jsx)(rN.default,{primary:l}),n&&e.docs?(0,o.jsx)(rT.default,{classes:{root:"u-w-auto"},children:(0,o.jsx)(rS.i,{docId:e.docs[0].id,size:"small"})}):null]})})}};var rR=n(98427);let rq=async function(e,t){let{vaultClient:n,showAlert:r,t:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,l=await eT(e,t[0].dir_id);if(1!==t.length||(0,ee.isDirectory)(t[0])){if(l||t.find(e=>(0,ee.isDirectory)(e)&&!!eA(e)))return r({message:i("error.download_file.encryption_many"),severity:"error"});let n=t.map(e=>e.id);return e.collection(j).downloadArchive(n)}{let o=t[0];try{let t=o.name;if(l)return eB(e,n,{file:o,encryptionKey:l});return e.collection(j,{driveId:a}).download(o,null,t)}catch(e){r({message:i(404===e.status?"error.download_file.missing":"error.download_file.offline"),severity:"error"})}}},rO=async(e,t,n)=>{let{showAlert:r,t:i,driveId:a}=n;try{for(let n of t){let{data:t}=await e.collection(j,{driveId:a}).destroy(n);e.store.dispatch((0,eU.receiveQueryResult)(null,{data:t})),e.collection("io.cozy.permissions").revokeSharingLink(n)}r({message:i("alert.trash_file_success"),severity:"success"})}catch(e){(e=>{let t=void 0!==e.reason?e.reason.errors:void 0;if(t){for(let e of t)if("File or directory is already in the trash"===e.detail)return!0}return!1})(e)||r({message:i("alert.try_again"),severity:"error"})}},rL=async(e,t)=>{for(let n of t)await e.collection(j).restore(n.id)},r$=e=>{let t,{client:n,t:r,vaultClient:i,showAlert:a,driveId:l}=e,d=r("SelectionBar.download"),c=rR.default;return{name:"download",label:d,icon:c,displayCondition:e=>e.length>0&&!e.some(e=>!!eA(e))&&!(e.length>1&&e.some(e=>eF(e))),action:e=>rq(n,e,{vaultClient:i,showAlert:a,t:r},l),Component:((t=(0,s.forwardRef)((e,t)=>(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:c})}),(0,o.jsx)(rN.default,{primary:d})]}))).displayName="Download",t)}},rU=()=>({name:"hr",icon:"hr",displayInSelectionBar:!1,Component:(0,s.forwardRef)(function(e,t){return(0,o.jsx)(nH.default,{ref:t,className:"u-mv-half"})})});var rV=n(58057),rW=n(71602),rH=n(24199),rQ=n(95037);let rZ=e=>{let{type:t,fileCount:n}=e,r="referenced"===t?"album":t.includes("share")?"people":t,{t:i}=(0,tG.useI18n)();return(0,o.jsxs)("div",{className:"u-flex u-flex-items-center",children:[(0,o.jsx)(rF.default,{icon:r,className:"u-flex-shrink-0",color:"var(--iconTextColor)"}),(0,o.jsx)(t0.default,{className:"u-pl-1-half",children:i(`DeleteConfirm.${t}`,n)})]})},rG=e=>{let{files:t,afterConfirmation:n,onClose:r,children:i,driveId:a}=e,{t:l}=(0,tG.useI18n)(),{showAlert:d}=(0,na.useAlert)(),c=t.length,u=(0,m.useClient)(),[h,p]=(0,s.useState)(!1),[f,y]=(0,s.useState)(!1),{setSelectedItems:g}=rj();(0,s.useEffect)(()=>{(async()=>{let e=t.flatMap(e=>(e&&e.relationships&&e.relationships.referenced_by&&e.relationships.referenced_by.data||[]).filter(e=>e.type===C).map(e=>e.id));y(!!(await Promise.all(e.map(e=>{let t={definition:()=>(0,m.Q)(C).getById(e),options:{as:`io.cozy.photos.albums/${e}`,fetchPolicy:em,singleDocData:!0}};return u.fetchQueryAndGetFromState({definition:t.definition(),options:t.options})}))).filter(e=>e&&e.data&&!e.data.auto).length)})()},[u,t]);let v=(0,s.useCallback)(async()=>{p(!0),await rO(u,t,{showAlert:d,t:l,driveId:a}),n(),g(e=>{let n=t.map(e=>e.id);return Object.fromEntries(Object.entries(e).filter(e=>{let[t]=e;return!n.includes(t)}))}),r()},[u,t,n,r,d,l,g,a]),_=eP(l,t);return(0,o.jsx)(tZ.A,{open:!0,onClose:r,title:l("DeleteConfirm.title",{filename:(0,ee.splitFilename)(t[0]).filename,smart_count:c,type:_}),content:(0,o.jsxs)(rQ.default,{children:[(0,o.jsx)(rZ,{type:"trash",fileCount:c}),(0,o.jsx)(rZ,{type:"restore",fileCount:c}),f&&(0,o.jsx)(rZ,{type:"referenced",fileCount:c}),i]}),actions:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(tQ.default,{variant:"secondary",onClick:r,label:l("DeleteConfirm.cancel")}),(0,o.jsx)(tQ.default,{variant:"primary",onClick:v,label:l("DeleteConfirm.delete"),color:"error",busy:h})]})})},rK=e=>{let{files:t,...n}=e;return 1!==t.length?(0,o.jsx)(rG,{files:t,...n}):(0,o.jsx)(rW.v,{docId:t[0].id,children:e=>{let{isSharedByMe:r,link:i,recipients:a}=e,l=a.map(e=>e.status).filter(e=>"owner"!==e),s=l.reduce((e,t)=>e&&t===l[0],!0)?"ready"===l[0]?"share_accepted":"share_waiting":"share_both";return(0,o.jsxs)(rG,{files:t,...n,children:[r&&i?(0,o.jsx)(rZ,{type:"link",fileCount:t.length}):null,r&&l.length>0?(0,o.jsx)(rZ,{type:s,fileCount:t.length}):null,r&&a.length>0?(0,o.jsx)(rH.y,{className:"u-ml-2-half",docId:t[0].id}):null]})}})},rY=e=>{let{t,pushModal:n,popModal:r,hasWriteAccess:i,refresh:a,byDocId:l,isOwner:d,driveId:c}=e,u=rV.default;return{name:"trash",icon:u,displayCondition:e=>e.length>0&&i,action:e=>n((0,o.jsx)(rK,{files:e,afterConfirmation:a,onClose:r,driveId:c})),Component:(e=>{let{icon:t,t:n,byDocId:r,isOwner:i}=e,a=(0,s.forwardRef)((e,a)=>{let l=void 0!==r&&r[e.docs[0].id]&&!i(e.docs[0].id)?n("toolbar.leave"):n("SelectionBar.trash");return(0,o.jsxs)(rz.A,{...e,ref:a,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:t,color:"var(--errorColor)"})}),(0,o.jsx)(rN.default,{primary:l,primaryTypographyProps:{color:"error"}})]})});return a.displayName="Trash",a})({icon:u,t,byDocId:l,isOwner:d})}};var rJ=n(87681);let rX=e=>{let t,{t:n,hasWriteAccess:r,dispatch:i}=e,a=n("SelectionBar.rename"),l=rJ.default;return{name:"rename",label:a,icon:l,displayCondition:e=>r&&1===e.length,action:e=>i(V(e[0])),Component:((t=(0,s.forwardRef)((e,t)=>(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:l})}),(0,o.jsx)(rN.default,{primary:a})]}))).displayName="Rename",t)}};var r0=n(162),r1=n(73670),r2=n(59007),r3=n(87352);let r4=e=>{let{t,lang:n,navigate:r,pathname:i}=e,a=t("SelectionBar.qualify"),l=(0,r1.getBoundT)(n||"en");return{name:"qualify",label:a,icon:r3.A,displayCondition:e=>1===e.length&&(0,ee.isFile)(e[0]),action:e=>rD({navigate:r,pathname:i,files:e,path:"qualify"}),Component:(e=>{let{label:t,scannerT:n,t:r}=e,i=(0,s.forwardRef)((e,i)=>{let a=e.docs[0],l=(0,r0.getQualification)(a);return(0,o.jsxs)(rz.A,{...e,ref:i,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:l?r3.A:r2.default})}),(0,o.jsx)(rN.default,{primary:l?r("Scan.requalify"):t}),l&&(0,o.jsx)(rN.default,{secondary:n(`Scan.items.${l.label}`),secondaryTypographyProps:{variant:"caption"},className:"u-ta-right"})]})});return i.displayName="Qualify",i})({label:a,scannerT:l,t})}};var r5=n(98755);let r6=e=>{let t,{t:n,navigate:r,pathname:i}=e,a=n("SelectionBar.history"),l=r5.A;return{name:"history",label:a,icon:l,displayCondition:e=>1===e.length&&(0,ee.isFile)(e[0]),action:e=>rD({navigate:r,pathname:i,files:e,path:"revision"}),Component:((t=(0,s.forwardRef)((e,t)=>(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:l})}),(0,o.jsx)(rN.default,{primary:a})]}))).displayName="Versions",t)}};var r7=n(1153);let r8=e=>{let t,{t:n,refresh:r,client:i}=e,a=n("SelectionBar.restore"),l=r7.A;return{name:"restore",label:a,icon:l,action:async e=>{await rL(i,e),r()},Component:((t=(0,s.forwardRef)((e,t)=>(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:l})}),(0,o.jsx)(rN.default,{primary:a})]}))).displayName="Restore",t)}};var r9=n(49663);let ie=e=>{let t,{t:n,isMobile:r,navigate:i}=e,a=r9.A,l=n(r?"actions.infosMobile":"actions.infos");return{name:"infos",icon:a,label:l,displayCondition:e=>e.length<=1&&(0,ee.isFile)(e[0]),Component:((t=(0,s.forwardRef)((e,t)=>(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:a})}),(0,o.jsx)(rN.default,{primary:l})]}))).displayName="infos",t),action:e=>{i(`file/${e[0]._id}`)}}};var it=n(20725),ir=n(9193),ii=n(1990);let ia=e=>(0,o.jsxs)("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,o.jsx)("path",{opacity:"0.34",fillRule:"evenodd",clipRule:"evenodd",d:"M12.9657 1C13.5206 1 14.2876 1.3125 14.6803 1.6995L16 3H30.0059C31.1072 3 32 3.89498 32 4.997V27.003C32 28.1059 31.1107 29 29.9983 29H2.00174C0.896211 29 0 28.1001 0 27.0088V1.99653C0 1.44616 0.448999 1 1.00472 1H12.9657Z",fill:"#297EF2"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 1C0.447715 1 0 1.44772 0 2V6C0 6.55228 0.447716 7 1 7H13.5858C13.851 7 14.1054 6.89464 14.2929 6.70711L15.7071 5.29289C15.8946 5.10536 16.149 5 16.4142 5H32C32 3.89543 31.1046 3 30 3H16.4142C16.149 3 15.8946 2.89464 15.7071 2.70711L14.2929 1.29289C14.1054 1.10536 13.851 1 13.5858 1H1ZM10 15.9954V24.0046C10 24.5543 10.4558 25 11.0025 25H20.9975C21.5512 25 22 24.5443 22 24.0046V15.9954C22 15.4457 21.5561 15 21 15H20V13C20 10.794 18.2053 9 16 9C13.794 9 12 10.794 12 13V15H11C10.4477 15 10 15.4557 10 15.9954ZM16 11C14.8968 11 14 12.1215 14 13.5V15H18V13.5C18 12.1215 17.1028 11 16 11ZM17.5 19C17.5 18.172 16.8265 17.5 16 17.5C15.172 17.5 14.5 18.172 14.5 19C14.5 19.552 14.803 20.032 15.25 20.29V22.75C15.25 23.1625 15.586 23.5 16 23.5C16.4125 23.5 16.75 23.1625 16.75 22.75V20.29C17.1955 20.032 17.5 19.552 17.5 19Z",fill:"#297EF2"})]}),il=(0,I.Ng)(null,e=>({addEncryptedFolder:()=>{e({type:Q}),e(Z())}}))(e=>{let{addEncryptedFolder:t,onClick:n,isReadOnly:r}=e,{t:i}=(0,tG.useI18n)(),{showUnlockForm:a}=(0,nn.Z$)(),{showAlert:l}=(0,na.useAlert)();return(0,o.jsxs)(rz.A,{"data-testid":"add-encrypted-folder-link",onClick:()=>{if(r){l({message:i("AddMenu.readOnlyFolder","This is a read-only folder. You cannot perform this action."),severity:"warning"}),n();return}a({onUnlock:t}),n()},children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(ia,{width:16,height:16})}),(0,o.jsx)(rN.default,{primary:i("toolbar.menu_new_encrypted_folder")})]})});var io=n(6397);let is=(0,I.Ng)(null,e=>({addFolder:()=>e(Z())}))(e=>{let{addFolder:t,onClick:n,isReadOnly:r}=e,{t:i}=(0,tG.useI18n)(),{showAlert:a}=(0,na.useAlert)();return(0,o.jsxs)(rz.A,{"data-testid":"add-folder-link",onClick:()=>{if(r){a({message:i("AddMenu.readOnlyFolder","This is a read-only folder. You cannot perform this action."),severity:"warning"}),n();return}t(),n()},children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:io.default})}),(0,o.jsx)(rN.default,{primary:i("toolbar.menu_new_folder")})]})});var id=n(8230),ic=n(23478);let iu=e=>{let{onClick:t,isReadOnly:n}=e,{t:r}=(0,tG.useI18n)(),{showAlert:i}=(0,na.useAlert)(),a=(0,I.wA)();return(0,o.jsxs)(rz.A,{"data-testid":"add-folder-link",onClick:()=>{if(n){i({message:r("AddMenu.readOnlyFolder","This is a read-only folder. You cannot perform this action."),severity:"warning"}),t();return}a(M((0,o.jsx)(id.F,{}))),t()},children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:ic.A})}),(0,o.jsx)(rN.default,{primary:r("toolbar.menu_new_shared_drive")})]})},ih=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 33",...e,children:[(0,o.jsx)("path",{fill:"#C9191E",d:"M21.63 29.581c1.168-.327 2.287-.925 3.02-1.98.725-1.035.929-2.346.929-3.608V5.5q0-.492-.057-.98.87.344 1.34 1.131.556.898.556 2.362v18.782q0 1.983-.972 2.969-.973.984-2.93.985H16.42l.505-.091a54 54 0 0 0 4.693-1.074z"}),(0,o.jsx)("path",{fill:"#000091",fillRule:"evenodd",d:"M4.582 26.405V7.598q0-1.718.922-2.602.934-.885 2.476-.973a77 77 0 0 0 4.307-.379 77 77 0 0 0 7.528-1.313q1.819-.43 2.791.43.973.858.973 2.74v18.492q0 1.654-.569 2.463-.569.82-1.92 1.2-2.4.656-4.521 1.035a51 51 0 0 1-4.143.594q-2.021.202-4.143.316-1.755.1-2.728-.733-.973-.82-.973-2.463m4.627-15.393q2.781-.177 5.099-.544a84 84 0 0 0 1.121-.19.816.816 0 0 0 .672-.805.826.826 0 0 0-.966-.811q-.434.074-.871.144a54 54 0 0 1-5.069.542c-.277.018-.497.104-.639.276a.9.9 0 0 0-.2.581q0 .342.23.587l.002.002a.76.76 0 0 0 .62.218m-.001 4.194q2.783-.178 5.1-.544a82 82 0 0 0 4.603-.885c.308-.069.539-.177.654-.344a.93.93 0 0 0 .17-.55q-.001-.347-.259-.59c-.184-.174-.441-.215-.746-.152h-.002a70 70 0 0 1-4.465.858 54 54 0 0 1-5.068.542c-.277.018-.497.104-.639.277a.87.87 0 0 0-.2.568q0 .353.23.6l.004.004a.82.82 0 0 0 .616.216zm0 4.193a58 58 0 0 0 5.1-.556 75 75 0 0 0 4.603-.873c.309-.069.54-.18.655-.357a.9.9 0 0 0 .169-.536c0-.23-.088-.43-.259-.59-.184-.175-.441-.215-.746-.152h-.001q-2.17.48-4.465.845a57 57 0 0 1-5.069.555c-.277.018-.497.104-.639.276a.87.87 0 0 0-.2.569q0 .353.23.599l.004.004a.82.82 0 0 0 .616.217zm5.1 3.608a55 55 0 0 1-5.1.544.76.76 0 0 1-.62-.218l-.002-.002a.83.83 0 0 1-.23-.587q0-.336.2-.581c.142-.172.362-.259.64-.277a54 54 0 0 0 5.939-.685c.503-.086.966.3.966.811a.816.816 0 0 1-.672.804q-.56.1-1.122.191",clipRule:"evenodd"})]}),im=e=>{let{displayedFolder:t,isReadOnly:n,onClick:r}=e,i=(0,m.useClient)(),{t:a}=(0,tG.useI18n)(),{capabilities:l}=(0,m.useCapabilities)(i),s=ed()(l,"flat_subdomains"),{showAlert:d}=(0,na.useAlert)(),c=n1(t),u=async()=>{if(n){d({message:a("AddMenu.readOnlyFolder","This is a read-only folder. You cannot perform this action."),severity:"warning"}),r();return}let e=(0,m.generateWebLink)({slug:"docs",cozyUrl:i.getStackClient().uri,subDomainType:s?"flat":"nested",pathname:"",hash:`/bridge/docs/new/${c._id}`});window.location.href=e};return(0,o.jsxs)(rz.A,{onClick:u,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:ih})}),(0,o.jsx)(rN.default,{primary:a("toolbar.menu_create_docs")})]})};var ip=n(7127),iy=n(66519),ig=n(24577);let iv=(0,nE.A)()((0,m.withClient)(e=>{let t,{client:n,t:r,displayedFolder:i,isReadOnly:a,onClick:l}=e,{capabilities:s}=(0,m.useCapabilities)(n),d=ed()(s,"flat_subdomains"),c=(0,tB.useWebviewIntent)(),{showAlert:u}=(0,na.useAlert)(),h=(0,nN.Zp)(),{driveId:p,id:f}=n1(i),y=!0,{fetchStatus:g,url:v,isInstalled:_}=(0,m.useAppLinkWithStoreFallback)("notes",n);"loaded"===g&&(t=v,y=_);let b="";b=(0,ip.isFlagshipApp)()&&c?(0,m.generateWebLink)({slug:"drive",cozyUrl:n.getStackClient().uri,subDomainType:d?"flat":"nested",pathname:"",hash:`/files/${f}`}):(0,iy.Bz)({slug:"drive",cozyUrl:n.getStackClient().uri,subDomainType:d?"flat":"nested",nativePath:p?`/shareddrive/${p}/files/${f}`:`/files/${f}`});let x=async()=>{if(a){u({message:r("AddMenu.readOnlyFolder","This is a read-only folder. You cannot perform this action."),severity:"warning"}),l();return}if(void 0!==t)if(y){let{data:e}=await n.collection("io.cozy.notes",{driveId:p}).create({dir_id:f});if(p)return void h(`/note/${p}/${e.id}`);let r=await m.models.note.generatePrivateUrl(t,e,{returnUrl:b});if((0,ip.isFlagshipApp)()&&c)return c.call("openApp",r,{slug:"notes"});window.location.href=r}else window.location.href=t};return(0,o.jsxs)(rz.A,{"data-testid":"create-a-note",onClick:x,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:ig.default})}),(0,o.jsx)(rN.default,{primary:r("toolbar.menu_create_note")})]})}));var i_=n(82150),ib=n(21452),ix=n(82706);let ij=e=>{let t=(0,y.default)(`drive.office.${!e||(0,ip.isMobile)()?"touchScreen.":""}enabled`);return null!==t?t:!!(0,y.default)("drive.onlyoffice.enabled")};function iw(){let e=(0,y.default)("drive.office.write");return null!==e?e:!!(0,y.default)("drive.onlyoffice.enabled")}let ik=e=>!(!ij(e)||(!e||(0,ip.isMobile)())&&(0,y.default)("drive.office.touchScreen.readOnly")),iC=function(e){let{driveId:t,fromCreate:n=!1,fromPathname:r,fromRedirect:i,fromEdit:a=!1,fromPublicFolder:l=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=new URLSearchParams;n&&o.append("fromCreate",!0),r&&o.append("redirectLink",`drive#${r}`),i&&o.append("redirectLink",i),a&&o.append("fromEdit",a),l&&o.append("fromPublicFolder",l);let s=o.size>0?`?${o.toString()}`:"";return t?`/onlyoffice/${t}/${e}${s}`:`/onlyoffice/${e}${s}`},iS=e=>({spreadsheet:i_.default,slide:ib.default,text:ix.default})[e],iz=s.memo(e=>{let{fileClass:t,isReadOnly:n,onClick:r}=e,{folderId:i=en,driveId:a}=(0,nN.g)(),{t:l}=(0,tG.useI18n)(),d=(0,nN.Zp)(),{showAlert:c}=(0,na.useAlert)(),u=i===er?en:i,h=(0,s.useCallback)(()=>{if(n){c({message:l("AddMenu.readOnlyFolder","This is a read-only folder. You cannot perform this action."),severity:"warning"}),r();return}iw()?d(a?`/onlyoffice/create/${a}/${u}/${t}`:`/onlyoffice/create/${u}/${t}`):d(a?`/onlyoffice/${a}/${u}/paywall`:`/folder/${u}/paywall`)},[n,c,l,r,d,a,u,t]),m=(0,s.useMemo)(()=>iS(t),[t]);return(0,o.jsxs)(rz.A,{onClick:h,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:m})}),(0,o.jsx)(rN.default,{primary:l(`toolbar.menu_onlyOffice.${t}`)})]})});var iF=n(35285),iA=n(17007),iT=n(2589),iN=n(29592);let iD=e=>{try{return new URL(e),!0}catch(e){return!1}},iI=e=>{let{onClose:t,onCreated:n}=e,{displayedFolder:r}=n0(),{t:i}=(0,tG.useI18n)(),[a,l]=(0,s.useState)(""),[d,c]=(0,s.useState)(""),u=(0,m.useClient)(),{showAlert:h}=(0,na.useAlert)(),p=(0,it.A)(),f=n1(r),y=(0,s.useCallback)(async()=>{if(!a||!d)return void h({message:i("Shortcut.needs_info"),severity:"error"});let e=iD(d)?d:!!iD(`https://${d}`)&&`https://${d}`;if(!e)return void h({message:i("Shortcut.url_badformat"),severity:"error"});try{p?h({message:i("alert.offline"),severity:"error"}):(await u.save({_type:"io.cozy.files.shortcuts",dir_id:f.id,name:a.endsWith(".url")?a:a+".url",url:e}),h({message:i("Shortcut.created"),severity:"success"}),n&&n()),t()}catch(e){e.message.includes("NetworkError when attempting to fetch resource.")?h({message:i("upload.alert.network"),severity:"error"}):e.message.includes("Invalid filename containing illegal character(s):")?h({message:i("alert.file_name_illegal_characters",{fileName:a,characters:e.message.split("Invalid filename containing illegal character(s): ")[1]}),severity:"error",duration:2e3}):e.message.includes("Invalid filename:")?h({message:i("alert.file_name_illegal_name",{fileName:a}),severity:"error"}):e.message.includes("Missing name argument")?h({message:i("alert.file_name_missing"),severity:"error"}):h({message:i("Shortcut.errored"),severity:"error"})}},[u,a,t,n,i,d,f,p,h]),g=e=>{13===e.keyCode&&y()};return(0,s.useEffect)(()=>{let e=setTimeout(()=>{(0,ip.isIOS)()&&window.scrollTo(0,0)},30);return()=>clearTimeout(e)},[]),(0,o.jsx)(iA.A,{onClose:t,title:i("Shortcut.title_modal"),open:!0,content:(0,o.jsxs)(rQ.default,{children:[(0,o.jsx)("div",{children:(0,o.jsx)(iN.default,{label:i("Shortcut.url"),id:"shortcuturl",variant:"outlined",onChange:e=>c(e.target.value),onKeyDown:e=>g(e),fullWidth:!0,margin:"normal",autoFocus:!0})}),(0,o.jsx)("div",{children:(0,o.jsx)(iN.default,{label:i("Shortcut.filename"),id:"shortcutfilename",variant:"outlined",onChange:e=>l(e.target.value),fullWidth:!0,margin:"normal",onKeyDown:e=>g(e),InputProps:{endAdornment:(0,o.jsx)(iT.default,{position:"end",children:".url"})}})})]}),actions:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(tQ.default,{variant:"secondary",onClick:t,label:i("Shortcut.cancel")}),(0,o.jsx)(tQ.default,{variant:"primary",label:i("Shortcut.create"),onClick:y})]})})},iE=(0,I.Ng)(null,(e,t)=>({openModal:()=>e(M((0,o.jsx)(iI,{onCreated:t.onCreated})))}))(e=>{let{openModal:t,onClick:n,isReadOnly:r}=e,{t:i}=(0,tG.useI18n)(),{showAlert:a}=(0,na.useAlert)();return(0,o.jsxs)(rz.A,{"data-testid":"create-a-shortcut",onClick:()=>{if(r){a({message:i("AddMenu.readOnlyFolder","This is a read-only folder. You cannot perform this action."),severity:"warning"}),n();return}t(),n()},children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:iF.A})}),(0,o.jsx)(rN.default,{primary:i("toolbar.menu_create_shortcut")})]})});var iB=n(16840),iM=n(82096);let iP=(0,iM.A)(()=>({root:{position:"fixed",right:e=>{let{right:t="1rem"}=e;return t},bottom:e=>{let{bottom:t="1rem"}=e;return t}}})),iR=e=>(e=>{if("object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message)return e;try{return Error(JSON.stringify(e))}catch{return Error(String(e))}})(e).message,iq=s.createContext({startScanner:void 0,hasScanner:!1}),iO=()=>(0,s.useContext)(iq),iL=e=>{let{children:t,displayedFolder:n}=e,r=(e=>{let[t,n]=(0,s.useState)(!1),r=(0,tB.useWebviewIntent)(),i=(0,I.wA)(),a=(0,m.useClient)(),{t:l}=(0,tG.useI18n)(),{showAlert:o}=(0,na.useAlert)();(0,s.useEffect)(()=>{let e=async()=>{try{let e=await (null==r?void 0:r.call("isAvailable","scanner"));n(!!e)}catch(e){nz()("error",`scanner won't be available, ${iR(e)}`)}};r&&e()},[r]);let d=(0,s.useCallback)(async()=>{nz()("info","Starting scanner");let e=await (null==r?void 0:r.call("scanDocument"));if(!e)throw Error("No base64 returned by scanDocument");return nz()("info",`Scan done, base64 trimmed: ${e.slice(0,20)}...`),e},[r]),c=(0,s.useCallback)(async()=>{try{var t,n;let r,s;if(!e)return;let c=await d(),u=t_([(r=Date.now(),s=Math.random().toString(36).substring(7),t=`scan_${r}_${s}.jpg`,n="image/jpeg",new File([((e,t)=>{let n=atob(e),r=Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return new Blob([new Uint8Array(r)],{type:t})})(c,n)],t,{type:n}))],e.id,{isScanned:!0},()=>nz()("info","File uploaded successfully"),{client:a,vaultClient:{},showAlert:o,t:l},e.driveId,void 0);i(u)}catch(e){nz()("error",`startScanner error, ${iR(e)}`),o({message:l("ImportToDrive.error"),severity:"error"})}},[e,d,i,a,l,o]);return{hasScanner:t,startScanner:c}})(n);return(0,o.jsx)(iq.Provider,{value:r,children:t})},i$=nz().namespace("Toolbar/components/Scanner/ScannerMenuItem"),iU=e=>{let{onClick:t}=e,{t:n}=(0,tG.useI18n)(),{hasScanner:r,startScanner:i}=iO();return r?(0,o.jsxs)(rz.A,{onClick:()=>{i&&i().catch(e=>{i$("error",`Failed to start scanner: ${e.message}`)}),t()},"data-testid":"scan-doc",children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:iB.A})}),(0,o.jsx)(rN.default,{primary:n("Scan.scan_a_doc")})]}):null};var iV=n(49676),iW=n(33967),iH=n(6918);let iQ=(0,iV.A)(e=>{let{onClick:t,isReadOnly:n,displayedFolder:r,sharingState:i,onUploaded:a}=e,l=(0,m.useClient)(),s=(0,nn.Zx)(),{showAlert:d}=(0,na.useAlert)(),{initialDirId:c}=n0(),{addItems:u}=r_(),{t:h}=(0,tG.useI18n)(),p=(0,I.wA)();return(0,o.jsx)(iW.A,{label:h("toolbar.menu_upload"),multiple:!0,onChange:e=>{!n&&e&&0!==e.length&&(p(t_(e,c,i,a,{client:l,vaultClient:s,showAlert:d,t:h},null==r?void 0:r.driveId,u)),t())},"data-testid":"upload-btn",value:[],children:(0,o.jsxs)(rz.A,{onClick:e=>{if(n){e.preventDefault(),e.stopPropagation(),d({message:h("AddMenu.readOnlyFolder","This is a read-only folder. You cannot perform this action."),severity:"warning"}),t();return}},children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:iH.A})}),(0,o.jsx)(rN.default,{primary:h("toolbar.menu_upload")})]})})}),iZ=(0,s.forwardRef)((e,t)=>{let{isUploadDisabled:n,canCreateFolder:r,canUpload:i,refreshFolderContent:a,isPublic:l,isEncryptedFolder:s,displayedFolder:d,onClick:c,isReadOnly:u}=e,{t:h}=(0,tG.useI18n)(),{isDesktop:m}=(0,tM.default)(),{hasScanner:p}=iO(),{showAlert:f}=(0,na.useAlert)(),g=u?e=>{e.stopPropagation(),e.preventDefault(),f(h("AddMenu.readOnlyFolder","This is a read-only folder. You cannot perform this action."),"warning"),c()}:c;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ii.default,{children:(0,o.jsx)(rN.default,{primary:h("toolbar.menu_create"),primaryTypographyProps:{variant:"h6"}})}),r&&!s&&(0,o.jsx)(is,{onClick:c,isReadOnly:u}),r&&!l&&(0,y.default)("drive.shared-drive.enabled")&&(0,o.jsx)(iu,{onClick:c,isReadOnly:u}),r&&!l&&(0,y.default)("drive.enable-encryption")&&(0,o.jsx)(il,{onClick:c,isReadOnly:u}),!l&&!s&&(0,o.jsx)(iv,{displayedFolder:d,isReadOnly:u,onClick:c}),!l&&!s&&(0,y.default)("drive.lasuitedocs.enabled")&&(0,o.jsx)(im,{displayedFolder:d,isReadOnly:u,onClick:c}),i&&ik(m)&&!s&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(iz,{fileClass:"text",isReadOnly:u,onClick:c}),(0,o.jsx)(iz,{fileClass:"spreadsheet",isReadOnly:u,onClick:c}),(0,o.jsx)(iz,{fileClass:"slide",isReadOnly:u,onClick:c})]}),!s&&(0,o.jsx)(iE,{onCreated:a,onClick:c,isReadOnly:u}),i&&!n&&(0,o.jsxs)(rv,{children:[(0,o.jsx)(nH.default,{className:"u-mv-half"}),(0,o.jsx)(iQ,{onUploaded:a,displayedFolder:d,onClick:c,isReadOnly:u})]}),p&&(0,o.jsx)(iU,{onClick:g})]})});iZ.displayName="AddMenuContent";let iG=e=>{let{anchorRef:t,handleClose:n,isUploadDisabled:r,canCreateFolder:i,canUpload:a,refreshFolderContent:l,isPublic:s,isEncryptedFolder:d,displayedFolder:c,isReadOnly:u,...h}=e;return(0,o.jsx)(ir.default,{open:!0,ref:t,onClose:n,docs:[c],actions:[],...h,children:(0,o.jsx)(iZ,{isUploadDisabled:r,canCreateFolder:i,canUpload:a,refreshFolderContent:l,isPublic:s,isEncryptedFolder:d,displayedFolder:c,onClick:n,isReadOnly:u})})};var iK=n(74710),iY=n(93583);let iJ=e=>{let{disabled:t,onClick:n,...r}=e,{t:i}=(0,tG.useI18n)();return(0,o.jsx)("div",{children:(0,o.jsx)(iK.default,{"data-testid":"more-button",disabled:t,onClick:n,size:"medium","aria-label":i("Toolbar.more"),...r,children:(0,o.jsx)(rF.default,{icon:iY.default})})})};var iX=n(94283);let i0=e=>{let{onClick:t}=e,{t:n}=(0,tG.useI18n)(),{anchorRef:r,handleToggle:i,isDisabled:a,handleOfflineClick:l,isOffline:d,a11y:c}=(0,s.useContext)(ac);return(0,o.jsxs)(rz.A,{ref:r,disabled:a||d,onClick:()=>{d?l():i(),t()},...c,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:(0,o.jsx)(rF.default,{icon:iX.A})})}),(0,o.jsx)(rN.default,{primary:n("toolbar.menu_add_item")})]})},i1=e=>{let{files:t}=e,{showAlert:n}=(0,na.useAlert)(),{t:r}=(0,tG.useI18n)(),i=(0,m.useClient)();return(0,o.jsxs)(rz.A,{onClick:()=>{rq(i,t,{showAlert:n,t:r})},children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:rR.default})}),(0,o.jsx)(rN.default,{primary:r("toolbar.menu_download_folder")})]})},i2=e=>{let{children:t,displayedFolder:n,folderId:r}=e;return r&&n&&n.id!==en&&!eA(n)?t:null},i3=e=>{let{files:t}=e,{t:n}=(0,tG.useI18n)(),r=(0,m.useClient)(),i=(0,nN.Zp)(),{showAlert:a}=(0,na.useAlert)(),l=async()=>{var e,l,o,s;let d=null==(s=t[0].relationships)||null==(o=s.referenced_by)||null==(l=o.data)||null==(e=l.find(e=>"io.cozy.sharings"===e.type))?void 0:e.id;d&&(await r.collection("io.cozy.sharings").revokeSelf({_id:d}),a({message:n("Files.share.revokeSelf.success"),severity:"success"}),i("/sharings"))};return(0,o.jsxs)(rz.A,{onClick:l,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:rV.default,className:"u-error"})}),(0,o.jsx)(rN.default,{primary:n("toolbar.menu_leave_shared_drive")})]})};var i4=n(70804);let i5=e=>{let{onClick:t}=e,n=(0,nN.Zp)(),{t:r}=(0,tG.useI18n)();return(0,o.jsxs)(rz.A,{onClick:()=>{n("./share"),t()},children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:i4.default})}),(0,o.jsx)(rN.default,{primary:r("toolbar.menu_manage_access")})]})};var i6=n(71382),i7=n.n(i6);let i8=e=>{let{folder:t,...n}=e,r=(0,nN.Zp)(),i=(0,s.useCallback)(()=>r(`/folder/${t.dir_id}`),[r,t]);return(0,o.jsx)(rK,{files:[t],afterConfirmation:i,...n})},i9=(0,I.Ng)(null,e=>({trashFolder:t=>e(M((0,o.jsx)(i8,{folder:t})))})),ae=e=>{let{t,isSharedDriveOwner:n,isSharedWithMe:r,trashFolder:i,displayedFolder:a}=e,l=t(r?"toolbar.leave":n?"toolbar.delete_shared_drive":"toolbar.trash");return(0,o.jsxs)(rz.A,{"data-testid":"fil-action-delete",onClick:()=>{i(a)},children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:rV.default,color:"var(--errorColor)"})}),(0,o.jsx)(rN.default,{style:{color:"var(--errorColor)"},primary:l})]})};ae.propTypes={t:tD().func.isRequired,isSharedWithMe:tD().bool.isRequired,trashFolder:tD().func.isRequired,displayedFolder:tD().object.isRequired};let at=i7()((0,nE.A)(),i9)(ae);var an=n(95376);let ar=e=>{let{onClick:t}=e,{t:n}=(0,tG.useI18n)();return(0,o.jsxs)(rz.A,{onClick:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:an.A})}),(0,o.jsx)(rN.default,{primary:n("toolbar.menu_select")})]})};ar.propTypes={onClick:tD().func.isRequired};var ai=n(63070);function aa(e){return re(e,"share")}let al=e=>{let{displayedFolder:t}=e,{t:n}=(0,tG.useI18n)(),r=(0,nN.Zp)(),{pathname:i}=(0,nN.zy)(),a=()=>{r(aa(i))};return(0,o.jsx)(rW.v,{docId:t.id,children:e=>{let{isSharedWithMe:t,recipients:r,link:i}=e;return(0,o.jsxs)(rz.A,{onClick:a,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:rA.default})}),(0,o.jsx)(rN.default,{primary:n(t?"Files.share.sharedWithMe":"toolbar.menu_share_folder")}),(0,o.jsx)(ai.Qp,{recipients:r,link:i,size:"small"})]})}})},ao=e=>{e(!1)},as=(e,t)=>{if(e)return ao(t);t(!0)},ad=s.memo(e=>{let{isDisabled:t,hasWriteAccess:n,canUpload:r,canCreateFolder:i,displayedFolder:a,folderId:l,showSelectionBar:d,isSelectionBarVisible:c,isSharedWithMe:u,isSharedDriveRecipient:h,isSharedDriveOwner:m}=e,[p,f]=(0,s.useState)(!1),y=(0,s.useRef)(),{isMobile:g}=(0,tM.default)(),{allLoaded:v}=(0,tX.r)(),_=(0,s.useCallback)(()=>as(p,f),[p,f]),b=(0,s.useCallback)(()=>ao(f),[f]);return(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{ref:y,children:(0,o.jsx)(iJ,{onClick:_,disabled:t})}),(0,o.jsx)(au,{canCreateFolder:i,canUpload:r,disabled:t,displayedFolder:a,isSelectionBarVisible:c,children:p&&(0,o.jsxs)(ir.default,{open:!0,ref:y,onClose:b,docs:[a],actions:[],anchorOrigin:{vertical:"bottom",horizontal:"right"},children:[g&&v&&(0,o.jsx)(i2,{displayedFolder:a,folderId:l,children:(0,o.jsx)(al,{displayedFolder:a})}),(0,o.jsx)(i2,{displayedFolder:a,folderId:l,children:!h&&(0,o.jsx)(i1,{files:[a]})}),g&&n&&(0,o.jsx)(i0,{}),(0,o.jsx)(ar,{onClick:d}),m&&(0,o.jsx)(i5,{}),n&&(0,o.jsxs)(i2,{displayedFolder:a,folderId:l,children:[(0,o.jsx)(nH.default,{className:"u-mv-half"}),(0,o.jsx)(at,{displayedFolder:a,isSharedDriveOwner:m,isSharedWithMe:u})]}),h&&u&&(0,o.jsx)(i3,{files:[a]})]})})]})}),ac=(0,s.createContext)(),au=s.memo(e=>{let{disabled:t,canCreateFolder:n,canUpload:r,refreshFolderContent:i,children:a,isPublic:l,displayedFolder:d,isSelectionBarVisible:c,componentsProps:u,isReadOnly:h}=e,[m,p]=(0,s.useState)(!1),f=(0,it.A)(),y=(0,s.useRef)(),{showAlert:g}=(0,na.useAlert)(),{t:v}=(0,tG.useI18n)(),_=(0,s.useCallback)(()=>ao(p),[p]),b=(0,s.useCallback)(()=>as(m,p),[m,p]),x=(0,s.useMemo)(()=>t||c,[t,c]),j=(0,s.useMemo)(()=>!!eA(d),[d]),w=(0,s.useCallback)(e=>{e.stopPropagation(),g({message:v("alert.offline"),severity:"error"}),eO.error(`Offline click on AddMenu button detected. Here is the value of window.navigator.onLine: ${window.navigator.onLine}`)},[g,v]);return(0,o.jsxs)(ac.Provider,{value:{anchorRef:y,handleToggle:b,isDisabled:x,isOffline:f,handleOfflineClick:w,isPublic:l,a11y:{"aria-controls":m?"add-menu":void 0,"aria-haspopup":!0,"aria-expanded":!!m||void 0}},children:[a,(0,o.jsx)(iL,{displayedFolder:d,children:m&&(0,o.jsx)(iG,{id:"add-menu",anchorRef:y,handleClose:_,canCreateFolder:n,canUpload:r,refreshFolderContent:i,isPublic:l,isEncryptedFolder:j,displayedFolder:d,isReadOnly:h,...null==u?void 0:u.AddMenu})})]})});var ah=n(38470);let am=e=>{let t,{t:n,selectAll:r,isSelectAll:i,isMobile:a}=e,l=n(`toolbar.${i?"clear_selection":"select_all"}${a?"_mobile":""}`),d=i?an.A:ah.A;return{name:"selectAllItems",label:l,icon:d,displayCondition:e=>e.length>0,action:()=>r(),Component:((t=(0,s.forwardRef)((e,t)=>(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:d})}),(0,o.jsx)(rN.default,{primary:l})]}))).displayName="SelectAllItems",t)}};var ap=n(37149);let af=e=>{let{t,client:n,isMobile:r,showAlert:i}=e,a=ap.A,l=r?t("favorites.label.addMobile"):t("favorites.label.add");return{name:"addToFavourites",label:l,icon:a,displayCondition:e=>e.length>0&&e.every(e=>{var t;return!(null==(t=e.cozyMetadata)?void 0:t.favorite)}),action:async e=>{try{for(let t of e)await n.save({...t,cozyMetadata:{...t.cozyMetadata,favorite:!0}});let{filename:r}=(0,ee.splitFilename)(e[0]);i({message:t("favorites.success.add",{filename:r,smart_count:e.length}),severity:"success"})}catch(e){i({message:t("favorites.error"),severity:"error"})}},Component:(0,s.forwardRef)(function(e,t){return(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:a})}),(0,o.jsx)(rN.default,{primary:l})]})})}};var ay=n(12939);let ag=e=>{let{t,pathname:n,navigate:r,isMobile:i,search:a}=e,l=ay.default,d=t(i?"actions.duplicateToMobile.label":"actions.duplicateTo.label");return{name:"duplicateTo",label:d,icon:l,displayCondition:e=>1===e.length&&(0,ee.isFile)(e[0]),action:e=>{rI({files:e,pathname:n,navigate:r,path:"duplicate",search:a})},Component:(0,s.forwardRef)(function(e,t){return(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:l})}),(0,o.jsx)(rN.default,{primary:d})]})})}};var av=n(39743);let a_=e=>{let{t,canMove:n,pathname:r,navigate:i,isMobile:a,search:l}=e,d=av.A,c=t(a?"SelectionBar.moveto_mobile":"SelectionBar.moveto");return{name:"moveTo",label:c,icon:d,displayCondition:e=>e.length>0&&n&&e.every(e=>!rM(e)),action:async e=>{rI({files:e,pathname:r,navigate:i,path:"move",search:l})},Component:(0,s.forwardRef)(function(e,t){return(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:d})}),(0,o.jsx)(rN.default,{primary:c})]})})}};var ab=n(34507);let ax=e=>{let{t,client:n,showAlert:r}=e,i=t("favorites.label.remove"),a=ab.A;return{name:"removeFromFavorites",label:i,icon:a,displayCondition:e=>e.length>0&&e.every(e=>{var t;return null==(t=e.cozyMetadata)?void 0:t.favorite}),action:async e=>{try{for(let t of e)await n.save({...t,cozyMetadata:{...t.cozyMetadata,favorite:!1}});let{filename:i}=(0,ee.splitFilename)(e[0]);r({message:t("favorites.success.remove",{filename:i,smart_count:e.length}),severity:"success"})}catch(e){r({message:t("favorites.error"),severity:"error"})}},Component:(0,s.forwardRef)(function(e,t){return(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:a})}),(0,o.jsx)(rN.default,{primary:i})]})})}};var aj=n(32485),aw=n.n(aj),ak=n(40630),aC=n(26273);let aS={"fil-content-row-selected":"fil-content-row-selected-NCUdFl",filContentRowSelected:"fil-content-row-selected-NCUdFl","fil-content-column-selected":"fil-content-column-selected-fP4zEq",filContentColumnSelected:"fil-content-column-selected-fP4zEq","fil-file-list-container":"fil-file-list-container-U34Psk",filFileListContainer:"fil-file-list-container-U34Psk","fil-content-cell":"fil-content-cell-ZXKNDz",filContentCell:"fil-content-cell-ZXKNDz","fil-content-row":"fil-content-row-WbMkV0",filContentRow:"fil-content-row-WbMkV0","fil-content-file-select":"fil-content-file-select-R1SsnF",filContentFileSelect:"fil-content-file-select-R1SsnF","fil-content-row--center":"fil-content-row--center-wh4_tE",filContentRowCenter:"fil-content-row--center-wh4_tE","fil-content-row-actioned":"fil-content-row-actioned-svyW32",filContentRowActioned:"fil-content-row-actioned-svyW32","fil-content-row-disabled":"fil-content-row-disabled-RsrFh9",filContentRowDisabled:"fil-content-row-disabled-RsrFh9","fil-content-row-bigger":"fil-content-row-bigger-vYPd5W",filContentRowBigger:"fil-content-row-bigger-vYPd5W","fil-content-head-grid-view":"fil-content-head-grid-view-QVt0Zo",filContentHeadGridView:"fil-content-head-grid-view-QVt0Zo","fil-content-column":"fil-content-column-zvhV6P",filContentColumn:"fil-content-column-zvhV6P","fil-content-file-action":"fil-content-file-action-Vjb5wW",filContentFileAction:"fil-content-file-action-Vjb5wW","fil-content-column-virtualized":"fil-content-column-virtualized-snn5dT",filContentColumnVirtualized:"fil-content-column-virtualized-snn5dT","fil-content-column--center":"fil-content-column--center-IdWreC",filContentColumnCenter:"fil-content-column--center-IdWreC","fil-content-grid-item":"fil-content-grid-item-Dl6arl",filContentGridItem:"fil-content-grid-item-Dl6arl","fil-content-column-disabled":"fil-content-column-disabled-GTZSVk",filContentColumnDisabled:"fil-content-column-disabled-GTZSVk","fil-content-column-actioned":"fil-content-column-actioned-fr7pq7",filContentColumnActioned:"fil-content-column-actioned-fr7pq7","fil-content-ext":"fil-content-ext-BGBCPR",filContentExt:"fil-content-ext-BGBCPR","fil-content-header":"fil-content-header-dS5Zie",filContentHeader:"fil-content-header-dS5Zie","fil-content-header--capitalize":"fil-content-header--capitalize-AJkmls",filContentHeaderCapitalize:"fil-content-header--capitalize-AJkmls","fil-content-mobile-head":"fil-content-mobile-head-fz7lsM",filContentMobileHead:"fil-content-mobile-head-fz7lsM","fil-content-mobile-header":"fil-content-mobile-header-S8lq5j",filContentMobileHeader:"fil-content-mobile-header-S8lq5j","fil-content-header-sortableasc":"fil-content-header-sortableasc-rwsr0v",filContentHeaderSortableasc:"fil-content-header-sortableasc-rwsr0v","fil-content-header-sortabledesc":"fil-content-header-sortabledesc-lYA0Lo",filContentHeaderSortabledesc:"fil-content-header-sortabledesc-lYA0Lo","fil-content-header-sortasc":"fil-content-header-sortasc-O3WruI",filContentHeaderSortasc:"fil-content-header-sortasc-O3WruI","fil-content-header-sortdesc":"fil-content-header-sortdesc-rOhhgT",filContentHeaderSortdesc:"fil-content-header-sortdesc-rOhhgT","fil-content-file":"fil-content-file-PjsoJV",filContentFile:"fil-content-file-PjsoJV","fil-content-file-openable":"fil-content-file-openable-w4fSbg",filContentFileOpenable:"fil-content-file-openable-w4fSbg","fil-content-grid-view":"fil-content-grid-view-IcpmNR",filContentGridView:"fil-content-grid-view-IcpmNR","fil-content-status":"fil-content-status-mlUIFz",filContentStatus:"fil-content-status-mlUIFz","fil-file-filename-and-ext":"fil-file-filename-and-ext-OiCHoH",filFileFilenameAndExt:"fil-file-filename-and-ext-OiCHoH","fil-file-path":"fil-file-path-QpjKUQ",filFilePath:"fil-file-path-QpjKUQ","fil-file-thumbnail":"fil-file-thumbnail-rpHzt4",filFileThumbnail:"fil-file-thumbnail-rpHzt4","fil-file-thumbnail--spinner":"fil-file-thumbnail--spinner-O6sI3a",filFileThumbnailSpinner:"fil-file-thumbnail--spinner-O6sI3a","fil-file-thumbnail-image":"fil-file-thumbnail-image-aSwcGt",filFileThumbnailImage:"fil-file-thumbnail-image-aSwcGt","fil-content-shared":"fil-content-shared-zvv5t8",filContentShared:"fil-content-shared-zvv5t8","fil-content-shared-vz":"fil-content-shared-vz-KeE43d",filContentSharedVz:"fil-content-shared-vz-KeE43d","fil-content-date":"fil-content-date-HtLOvl",filContentDate:"fil-content-date-HtLOvl","fil-content-size":"fil-content-size-g8UdsX",filContentSize:"fil-content-size-g8UdsX","fil-content-narrow":"fil-content-narrow-_7PCcR",filContentNarrow:"fil-content-narrow-_7PCcR","fil-content-header-status":"fil-content-header-status-Zu9sRa",filContentHeaderStatus:"fil-content-header-status-Zu9sRa","fil-content-offline":"fil-content-offline-BQezVT",filContentOffline:"fil-content-offline-BQezVT","fil-content-header-sharing-shortcut":"fil-content-header-sharing-shortcut-uJBLGr",filContentHeaderSharingShortcut:"fil-content-header-sharing-shortcut-uJBLGr","fil-content-sharing-shortcut":"fil-content-sharing-shortcut-n0_0Cc",filContentSharingShortcut:"fil-content-sharing-shortcut-n0_0Cc","fil-content-header-action":"fil-content-header-action-DaVBEb",filContentHeaderAction:"fil-content-header-action-DaVBEb","fil-content-body--selectable":"fil-content-body--selectable-ysGYEP",filContentBodySelectable:"fil-content-body--selectable-ysGYEP","fil-file":"fil-file-uCZ8mV",filFile:"fil-file-uCZ8mV","fil-file-filename":"fil-file-filename-hp04pN",filFileFilename:"fil-file-filename-hp04pN","fil-file-filename-wrapper":"fil-file-filename-wrapper-Zw5My2",filFileFilenameWrapper:"fil-file-filename-wrapper-Zw5My2","fil-file-filename-spinner":"fil-file-filename-spinner-SOjBXM",filFileFilenameSpinner:"fil-file-filename-spinner-SOjBXM","fil-file-description":"fil-file-description-b0n8tl",filFileDescription:"fil-file-description-b0n8tl","fil-file-description--path":"fil-file-description--path-CEAtUK",filFileDescriptionPath:"fil-file-description--path-CEAtUK","fil-file-certifications":"fil-file-certifications-dSxenJ",filFileCertifications:"fil-file-certifications-dSxenJ","fil-file-certifications--separator":"fil-file-certifications--separator-J9D6MP",filFileCertificationsSeparator:"fil-file-certifications--separator-J9D6MP","fil-file-certifications--icon":"fil-file-certifications--icon-jdevT6",filFileCertificationsIcon:"fil-file-certifications--icon-jdevT6","fil-file-infos":"fil-file-infos-p_2xRT",filFileInfos:"fil-file-infos-p_2xRT","fil-file-shared":"fil-file-shared-fz8CXG",filFileShared:"fil-file-shared-fz8CXG","fil-file-shared-icon":"fil-file-shared-icon-zuB17W",filFileSharedIcon:"fil-file-shared-icon-zuB17W","fil-content-file-placeholder":"fil-content-file-placeholder-KfCMho",filContentFilePlaceholder:"fil-content-file-placeholder-KfCMho",placeHolderShimmer:"placeHolderShimmer-Lwg8Ym","fil-content-sharestatus":"fil-content-sharestatus-ubp7Lv",filContentSharestatus:"fil-content-sharestatus-ubp7Lv","fil-content-sharestatus--disabled":"fil-content-sharestatus--disabled-PVHJb7",filContentSharestatusDisabled:"fil-content-sharestatus--disabled-PVHJb7","fil-content-file-action--disabled":"fil-content-file-action--disabled-fxhBHH",filContentFileActionDisabled:"fil-content-file-action--disabled-fxhBHH","fil-content-body":"fil-content-body-PUmIfq",filContentBody:"fil-content-body-PUmIfq","fil-content-table-selection":"fil-content-table-selection-ZXNxNb",filContentTableSelection:"fil-content-table-selection-ZXNxNb","fil-content-body--withFabActive":"fil-content-body--withFabActive-mG7JmE",filContentBodyWithFabActive:"fil-content-body--withFabActive-mG7JmE","fil-content-head":"fil-content-head-R_tm8i",filContentHead:"fil-content-head-R_tm8i"},az=e=>{let{withSelectionCheckbox:t,selected:n,onClick:r,disabled:i,viewType:a}=e;return(0,o.jsx)(aC.nA,{className:aw()(aS["fil-content-cell"],aS["fil-content-file-select"]),...!i&&{onClick:r},children:t&&!i&&(0,o.jsx)(ak.default,{checked:n,size:"grid"===a?"small":"medium",onChange:()=>{}})})};var aF=n(36444),aA=n(99851),aT=n(69441);class aN extends s.Component{handleKeyDown(e){let{value:t}=this.state;13!==e.keyCode||""===t.toString()?27===e.keyCode&&(this.setState({hasBeenSubmitedOrAborted:!0}),this.abort()):(this.setState({hasBeenSubmitedOrAborted:!0}),this.submit())}handleChange(e){let{onChange:t}=this.props,n=e.target.value;this.setState({value:n}),t&&t(n)}handleBlur(){let{hasBeenSubmitedOrAborted:e,value:t}=this.state;e||(""===t.toString()?this.abort(!0):this.submit())}submit(){let{value:e}=this.state,{file:t}=this.props;if(this.setState({working:!0,error:!1}),!this.fileNameOnMount)return this.save();t&&!(0,ee.isDirectory)(t)&&f.CozyFile.splitFilename({name:this.fileNameOnMount,type:"file"}).extension!==f.CozyFile.splitFilename({name:e,type:"file"}).extension?this.setState({isModalOpened:!0}):this.save()}abort(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{isModalOpened:t}=this.state,{onAbort:n}=this.props;t&&this.setState({isModalOpened:!1}),n&&n(e)}handleFocus(){let{name:e,file:t}=this.props;if(!e)return;let{filename:n}=f.CozyFile.splitFilename({name:e,type:"file"});setTimeout(()=>{this.textInput.current&&this.textInput.current.setSelectionRange(0,(0,ee.isDirectory)(t)?e.length:n.length)},5)}render(){let{value:e,working:t,error:n,isModalOpened:r}=this.state,{t:i,className:a,style:l}=this.props;return(0,o.jsxs)("div",{"data-testid":"name-input",className:aw()("fil-file-name-input-G5Eytm",a),style:l,children:[(0,o.jsx)("input",{type:"text",value:e,ref:this.textInput,disabled:t,onChange:e=>this.handleChange(e),onFocus:()=>this.handleFocus(),onBlur:()=>this.handleBlur(),onKeyDown:e=>this.handleKeyDown(e),className:n?"error-M9EoFM":null,autoFocus:"autofocus"}),t&&(0,o.jsx)(tK.default,{}),(0,o.jsx)(aT.A,{onClose:this.abort,open:r,title:i("RenameModal.title"),content:i("RenameModal.description"),actions:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(tQ.default,{variant:"secondary",onClick:this.abort,label:i("RenameModal.cancel")}),(0,o.jsx)(tQ.default,{variant:"primary",label:i("RenameModal.continue"),onClick:this.save})]}),actionsLayout:"row"})]})}constructor(e){super(e),(0,aA._)(this,"save",async()=>{let{onSubmit:e}=this.props,{value:t}=this.state;if(e)try{await e(t)}catch(e){this.setState({working:!1,error:!0})}}),this.textInput=s.createRef(),this.state={value:e.name||"",working:!1,error:!1,hasBeenSubmitedOrAborted:!1,isModalOpened:!1},this.fileNameOnMount=e.name,this.abort=this.abort.bind(this),this.save=this.save.bind(this)}}let aD=(0,nE.A)()(aN),aI=async(e,t,n)=>e.collection("io.cozy.files",{driveId:t.driveId}).update({...t,name:n,_rev:t._rev||t.meta.rev}),aE=e=>{let{onAbort:t,file:n,refreshFolderContent:r,className:i,style:a,withoutExtension:l}=e,s=(0,m.useClient)(),{showAlert:d}=(0,na.useAlert)(),{t:c}=(0,tG.useI18n)(),{filename:u,extension:h}=f.CozyFile.splitFilename(n),p=l?u:n.name,y=(0,it.A)();return(0,o.jsx)(aD,{className:i,style:a,name:p,file:n,onSubmit:async e=>{let i=l?e+h:e;try{y?d({message:c("alert.offline"),severity:"error"}):(await aI(s,n,i),r&&r())}catch(e){e.message.includes("NetworkError when attempting to fetch resource.")?d({message:c("upload.alert.network"),severity:"error"}):e.message.includes("Invalid filename containing illegal character(s):")?d({message:c("alert.file_name_illegal_characters",{fileName:i,characters:e.message.split("Invalid filename containing illegal character(s): ")[1]}),severity:"error",duration:2e3}):e.message.includes("Invalid filename:")?d({message:c("alert.file_name_illegal_name",{fileName:i}),severity:"error"}):e.message.includes("Missing name argument")?d({message:c("alert.file_name_missing"),severity:"error"}):d({message:c("alert.file_name",{fileName:i}),severity:"error"})}finally{t()}},onAbort:t})},aB=(0,I.Ng)(null,e=>({onAbort:()=>e({type:L})}))(aE);var aM=n(53909),aP=n(95567);let aR=e=>{let{attributes:t}=e,n=ed()(t,"metadata.carbonCopy"),r=ed()(t,"metadata.electronicSafe"),i=ed()(t,"cozyMetadata.uploadedBy.slug");return(0,o.jsxs)("div",{className:aS["fil-file-certifications"],children:[(n||r)&&(0,o.jsx)("span",{className:aS["fil-file-certifications--separator"],children:" - "}),n&&(r?(0,o.jsx)("span",{"data-testid":"certificationsIcons-carbonCopyIcon",children:(0,o.jsx)(rF.default,{icon:aP.default,className:`u-mr-half ${aS["fil-file-certifications--icon"]}`})}):(0,o.jsx)("span",{"data-testid":"certificationsIcons-carbonCopyAppIcon",children:(0,o.jsx)(aM.default,{app:i,className:aS["fil-file-certifications--icon"],type:"konnector",priority:"registry"})})),r&&(0,o.jsx)("span",{"data-testid":"certificationsIcons-electronicSafeAppIcon",children:(0,o.jsx)(aM.default,{app:i,className:aS["fil-file-certifications--icon"],type:"konnector",priority:"registry"})})]})},aq=e=>{let{attributes:t,isRenaming:n,interactive:r,withFilePath:i,isMobile:a,formattedSize:l,formattedUpdatedAt:s,refreshFolderContent:d,isInSyncFromSharing:u}=e,{t:h}=(0,tG.useI18n)(),{viewType:m}=nC(),p=aw()(aS["fil-content-cell"],aS["fil-content-file"],{[aS["fil-content-file-openable"]]:!n&&r},{[aS["fil-content-row-disabled"]]:u},{[aS["fil-content-grid-view"]]:"grid"===m}),{title:f,filename:y,extension:g}=nY(t,h),v=nK(t);return(0,o.jsx)(aC.nA,{className:p,children:n?(0,o.jsx)(aB,{file:t,refreshFolderContent:d}):(0,o.jsxs)("div",{className:aS["fil-file"],children:[(0,o.jsx)("div",{className:aS["fil-file-filename"],children:(0,o.jsx)("div",{className:aS["fil-file-filename-wrapper"],children:(0,o.jsxs)("div",{"data-testid":"fil-file-filename-and-ext",className:aS["fil-file-filename-and-ext"],title:f,children:[y,g&&(0,o.jsx)("span",{className:aS["fil-content-ext"],children:g})]})})}),i&&v&&(a?(0,o.jsxs)("div",{className:aS["fil-file-description"],title:y+g,children:[(0,o.jsx)(aF.default,{className:aS["fil-file-description--path"],text:v}),(0,o.jsx)(aR,{attributes:t})]}):(0,o.jsx)(c.Link,{to:`/folder/${t.dir_id}`,className:aS["fil-file-path"],children:(0,o.jsx)(aF.default,{text:v})})),!i&&((0,ee.isDirectory)(t)||(0,o.jsxs)("div",{className:aS["fil-file-infos"],children:[`${s}${l?` - ${l}`:""}`,a&&(0,o.jsx)(aR,{attributes:t})]})),!i&&rM(t)&&(0,o.jsxs)("div",{className:aS["fil-file-shared"],children:[(0,o.jsx)(rF.default,{icon:rA.default,size:"10",className:aS["fil-file-shared-icon"]}),h("Files.share.shared")]})]})})},aO=e=>{let{date:t,formatted:n="—"}=e,{f:r,t:i}=(0,tG.useI18n)();return(0,o.jsx)(aC.nA,{className:aw()(aS["fil-content-cell"],aS["fil-content-date"]),..."—"!==n&&{title:r(t,i("LastUpdate.titleFormat"))},children:(0,o.jsx)("time",{dateTime:t,children:n})})};aO.propTypes={date:tD().string,formatted:tD().string};let aL=s.memo(aO),a$=s.memo(e=>{let{filesize:t="—"}=e;return(0,o.jsx)(aC.nA,{className:aw()(aS["fil-content-cell"],aS["fil-content-size"]),children:t})});var aU=n(32645);let aV=e=>{let{file:t,disabled:n,isInSyncFromSharing:r}=e,i=(0,nN.Zp)(),{pathname:a}=(0,nN.zy)(),{byDocId:l}=(0,tX.r)(),{viewType:s}=nC(),d=void 0!==l[t.id];return(0,o.jsx)("div",{className:aw()(aS["fil-content-sharestatus"],{[aS["fil-content-sharestatus--disabled"]]:n}),children:r||!d?"list"===s?(0,o.jsx)("span",{"data-testid":"fil-content-sharestatus--noAvatar",children:"—"}):null:(0,o.jsx)(aU.g,{onClick:e=>{e.preventDefault(),e.stopPropagation(),n||i(re(a,`file/${t._id}/share`))},docId:t.id})})},aW=e=>{let{file:t,disabled:n,isInSyncFromSharing:r}=e;return(0,o.jsx)(aC.nA,{className:aw()(aS["fil-content-cell"],aS["fil-content-status"]),children:(0,o.jsx)(aV,{file:t,disabled:n,isInSyncFromSharing:r})})},aH=(0,s.forwardRef)(function(e,t){let{t:n,onClick:r,disabled:i,isInSyncFromSharing:a}=e;return(0,o.jsx)(aC.nA,{className:aw()(aS["fil-content-cell"],aS["fil-content-file-action"],{[aS["fil-content-file-action--disabled"]]:a}),children:(0,o.jsx)("span",{ref:t,children:(0,o.jsx)(iK.default,{disabled:i,onClick:r,size:"small","aria-label":n("Toolbar.more"),children:(0,o.jsx)(rF.default,{icon:iY.default,size:17})})})})});var aQ=n(16035),aZ=n(51270);let aG=e=>{let{body:t,caption:n,content:r}=e;return(0,o.jsx)(aZ.A,{title:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t0.default,{variant:"body1",color:"inherit",children:t}),(0,o.jsx)(t0.default,{variant:"caption",color:"inherit",children:n})]}),children:(0,o.jsx)("span",{className:"u-w-100",children:r})})},aK=e=>{let{file:t}=e,n=ed()(t,"metadata.electronicSafe"),r=ed()(t,"cozyMetadata.uploadedBy.slug");return n?(0,o.jsx)(rF.default,{icon:aQ.A}):(0,o.jsx)(aM.default,{app:r,type:"konnector"})},aY=e=>{let{className:t}=e;return(0,o.jsx)(aC.nA,{className:aw()(aS["fil-content-cell"],t),children:"—"})};var aJ=n(88991);let aX=e=>{let{file:t}=e,{t:n}=(0,tG.useI18n)();return(0,o.jsx)(aC.nA,{className:aw()(aS["fil-content-cell"],aS["fil-content-sharing-shortcut"]),children:(0,ee.isSharingShortcutNew)(t)?(0,o.jsx)(aJ.A,{size:"xsmall",backgroundColor:"var(--errorColor)",children:(0,o.jsx)("span",{style:{fontSize:"11px",lineHeight:"1rem"},"aria-label":n("table.row_sharing_shortcut_aria_label"),children:"1"})}):null})};aX.propTypes={file:tD().object,isInSyncFromSharing:tD().bool};var a0=n(61674);let a1={carbonCopy:{query:e=>{let{queryBuilder:t,currentFolderId:n,sharedDocumentIds:r,attribute:i}=e;return t({currentFolderId:n,sharedDocumentIds:r,attribute:i})},condition:e=>{let{conditionBuilder:t,files:n,attribute:r}=e;return t({files:n,attribute:r})},label:"carbonCopy",HeaderComponent:()=>{let{t:e}=(0,tG.useI18n)();return(0,o.jsx)(aC.A0,{className:aS["fil-content-header"],children:(0,o.jsx)(aG,{body:e("table.tooltip.carbonCopy.title"),caption:e("table.tooltip.carbonCopy.caption"),content:(0,o.jsx)(rF.default,{icon:aP.default,size:16})})})},CellComponent:e=>{let{file:t}=e,{t:n}=(0,tG.useI18n)(),r=ed()(t,"metadata.carbonCopy");return(0,o.jsx)(aC.nA,{className:aw()(aS["fil-content-cell"],aS["fil-content-narrow"]),children:r?(0,o.jsx)(aG,{body:n("table.tooltip.carbonCopy.title"),caption:n("table.tooltip.carbonCopy.caption"),content:(0,o.jsx)(aK,{file:t})}):"—"})}},electronicSafe:{query:e=>{let{queryBuilder:t,currentFolderId:n,sharedDocumentIds:r,attribute:i}=e;return t({currentFolderId:n,sharedDocumentIds:r,attribute:i})},condition:e=>{let{conditionBuilder:t,files:n,attribute:r}=e;return t({files:n,attribute:r})},label:"electronicSafe",HeaderComponent:()=>{let{t:e}=(0,tG.useI18n)();return(0,o.jsx)(aC.A0,{className:aS["fil-content-header"],children:(0,o.jsx)(aG,{body:e("table.tooltip.electronicSafe.title"),caption:e("table.tooltip.electronicSafe.caption"),content:(0,o.jsx)(rF.default,{icon:a0.default,size:16})})})},CellComponent:e=>{let{file:t}=e,{t:n}=(0,tG.useI18n)(),r=ed()(t,"metadata.electronicSafe"),i=ed()(t,"cozyMetadata.uploadedBy.slug");return(0,o.jsx)(aC.nA,{className:aw()(aS["fil-content-cell"],aS["fil-content-narrow"]),children:r?(0,o.jsx)(aG,{body:n("table.tooltip.electronicSafe.title"),caption:n("table.tooltip.electronicSafe.caption"),content:(0,o.jsx)(aM.default,{app:i,type:"konnector"})}):"—"})}}},a2=tD().shape({query:tD().func,condition:tD().func,label:tD().string,HeaderComponent:tD().func,CellComponent:tD().func}),a3=tD().arrayOf(a2),a4=e=>{let{isMobile:t,mobileExtraColumnsNames:n,desktopExtraColumnsNames:r}=e;return t?n:r},a5=e=>{let{columnsNames:t,queryBuilder:n,conditionBuilder:r,currentFolderId:i,sharedDocumentIds:a,files:l}=e,o=(0,m.useClient)(),d=(0,s.useMemo)(()=>t.map(e=>a1[e]),[t]);return(0,s.useEffect)(()=>{if(n)for(let e of d){if(!e.query)continue;let t={queryBuilder:n,currentFolderId:i,sharedDocumentIds:a,attribute:e.label},r=e.query(t).definition();o.query(r,e.query(t).options)}},[o,d,i,a,n]),d.filter(e=>{if(r){let t={conditionBuilder:r,files:l,attribute:e.label};return e.condition(t)}if(n){let t={queryBuilder:n,currentFolderId:i,sharedDocumentIds:a,attribute:e.label},{fetchStatus:r,data:l}=o.getQueryFromState(e.query(t).options.as);return"loaded"===r&&l.length>0}throw Error("useExtraColumns must have queryBuilder or conditionBuilder")})};var a6=n(78080);let a7=s.memo(e=>{let{noSidebar:t}=e,{t:n}=(0,tG.useI18n)(),{anchorRef:r,handleToggle:i,isDisabled:a,handleOfflineClick:l,isOffline:d,a11y:c}=(0,s.useContext)(ac),u=iP({bottom:t?"1rem":"calc(var(--sidebarHeight) + 2rem)"});return(0,o.jsx)("div",{onClick:d?l:void 0,children:(0,o.jsx)(a6.A,{ref:r||void 0,color:"primary",label:n("button.create"),icon:iX.A,className:u.root,disabled:a||d,follow:window,onClick:i,...c})})}),a8=e=>{let{children:t}=e,{isMobile:n}=(0,tM.default)();return n?(0,o.jsx)(D.BarRight,{children:t}):t};var a9=n(13691);let le=()=>{let{t:e}=(0,tG.useI18n)(),t=(0,nN.Zp)(),{pathname:n}=(0,nN.zy)(),r=(0,s.useCallback)(()=>{t(`/search?returnPath=${n}`)},[t,n]);return(0,o.jsx)(iK.default,{onClick:r,"aria-label":e("search.action"),children:(0,o.jsx)(rF.default,{icon:a9.default})})};var lt=n(75303),ln=n(29335),lr=n(53835),li=n(24594);let la=e=>{let{className:t}=e,{t:n}=(0,tG.useI18n)(),{viewType:r,switchView:i}=nC();return(0,o.jsxs)(li.A,{value:r,exclusive:!0,onChange:(e,t)=>{null!==t&&i(t)},"aria-label":n("table.head_view_mode"),size:"small",className:t,variant:"rounded",children:[(0,o.jsx)(lr.A,{value:"list","aria-label":n("table.head_view_list"),rounded:!0,color:"default",children:(0,o.jsx)(rF.default,{icon:lt.A})}),(0,o.jsx)(lr.A,{value:"grid","aria-label":n("table.head_view_grid"),rounded:!0,color:"default",children:(0,o.jsx)(rF.default,{icon:ln.A})})]})};var ll=n(97988);let lo=e=>{let{isDisabled:t,className:n,useShortLabel:r}=e,{displayedFolder:i}=n0(),a=(0,nN.Zp)(),{pathname:l}=(0,nN.zy)();return(0,o.jsx)(ll.w,{docId:i.id,disabled:t,useShortLabel:r,className:aw()("u-hide--mob",n),onClick:()=>void a(aa(l))})},ls=()=>{let{displayedFolder:e}=n0(),t=(0,nN.Zp)(),{pathname:n}=(0,nN.zy)();return(0,o.jsx)(rS.i,{docId:e&&e.id,onClick:()=>{t(aa(n))}})},ld=e=>{let{folderId:t,disabled:n,canUpload:r,canCreateFolder:i,hasWriteAccess:a,isSharedWithMe:l,showShareButton:s=!0}=e,{displayedFolder:d}=n0(),{isMobile:c}=(0,tM.default)(),{showSelectionBar:u,isSelectionBarVisible:h}=rj(),{allLoaded:m}=(0,tX.r)(),p=n||h,f=p||!m,y=d&&!!d.driveId,g=rB(d);return n?null:(0,o.jsxs)("div",{"data-testid":"fil-toolbar-files",className:aw()("fil-toolbar-files-oPNRQA","u-flex-items-center"),role:"toolbar",children:[(0,o.jsx)(i2,{displayedFolder:d,folderId:t,children:(0,o.jsx)(ls,{})}),(0,o.jsx)(i2,{displayedFolder:d,folderId:t,children:a&&s&&(0,o.jsx)(lo,{isDisabled:f,useShortLabel:y,className:"u-mr-half"})}),(0,o.jsx)(la,{className:"u-mr-half"}),(0,o.jsx)(ad,{isDisabled:p,hasWriteAccess:a,isSharedWithMe:l,canCreateFolder:i,canUpload:r,folderId:t,displayedFolder:d,showSelectionBar:u,isSelectionBarVisible:h,isSharedDriveRecipient:y,isSharedDriveOwner:g}),(0,o.jsx)(a8,{children:c&&(0,o.jsx)(le,{})})]})};ld.propTypes={folderId:tD().string,disabled:tD().bool,canUpload:tD().bool,canCreateFolder:tD().bool,hasWriteAccess:tD().bool},ld.defaultProps={canUpload:!1,canCreateFolder:!1,hasWriteAccess:!1};let lc=e=>{let t=nX(),{driveId:n}=e;return t?(0,o.jsx)(rW.v,{docId:t,driveId:n,children:n=>{let{hasWriteAccess:r,isSharedWithMe:i}=n;return(0,o.jsx)(ld,{hasWriteAccess:r,isSharedWithMe:i,folderId:t,...e})}}):(0,o.jsx)(ld,{...e})};lc.displayName="ToolbarWithSharingContext";var lu=n(26321);let lh="fil-dropzone-active-YW0vEC",lm=e=>{let{children:t,...n}=e,{isDesktop:r}=(0,tM.useBreakpoints)(),{onOpen:i}=nd(),{handleToggle:a,handleOfflineClick:l,isOffline:o}=(0,s.useContext)(ac);return t?r?s.Children.map(t,e=>s.isValidElement(e)?s.cloneElement(e,{...n,onContextMenu:e=>{o?l():(i(e,"AddMenu"),a())}}):null):s.Children.map(t,e=>s.isValidElement(e)?s.cloneElement(e,{...n}):null):null},lp=e=>{let{children:t,...n}=e,{isOpen:r,position:i}=nd(),{displayedFolder:a}=n0(),{hasWriteAccess:l}=(0,tX.r)(),s=!!a&&!l(a._id,a.driveId);return(0,o.jsx)(au,{canCreateFolder:!0,canUpload:!0,disabled:!1,displayedFolder:a,isSelectionBarVisible:!1,isReadOnly:s,componentsProps:{AddMenu:{anchorReference:"anchorPosition",anchorPosition:r("AddMenu")?{top:i.mouseY,left:i.mouseX}:void 0}},children:(0,o.jsx)(lm,{...n,children:t})})},lf=(0,nE.A)()(e=>{let{t,currentFolder:n}=e;return(0,o.jsxs)("div",{className:"fil-dropzone-teaser-jqF5rR",children:[(0,o.jsx)("div",{className:"fil-dropzone-teaser-claudy-kM8PRQ",children:(0,o.jsx)(rF.default,{icon:iH.A,size:24,color:"var(--white)"})}),(0,o.jsxs)("div",{className:"fil-dropzone-teaser-content-U9Ywcc",children:[(0,o.jsx)("p",{children:t("Files.dropzone.teaser")}),(0,o.jsx)("span",{className:"fil-dropzone-teaser-folder-tY6xHu",children:n&&n.name||"Drive"})]})]})}),ly=e=>{let{displayedFolder:t,disabled:n,refreshFolderContent:r=null,children:i}=e,a=(0,m.useClient)(),{t:l}=(0,tG.useI18n)(),{isMobile:s}=(0,tM.default)(),{showAlert:d}=(0,na.useAlert)(),c=(0,tX.r)(),u=(0,nn.Zx)(),h=(0,I.wA)(),{addItems:p}=r_(),f=r||(()=>null),y=async(e,n,r)=>{(e=>{let t=e.dataTransfer.items;for(let e=0;e<t.length;e+=1)if("file"!==t[e].kind)return!1;return!0})(r)&&h(t_((e=>{if(!e.dataTransfer)return!1;let t=e.dataTransfer;return t.items&&t.items.length&&null!=t.items[0].webkitGetAsEntry})(r)?r.dataTransfer.items:e,t.id,c,f,{client:a,vaultClient:u,showAlert:d,t:l},t.driveId,p))},{getRootProps:g,isDragActive:v}=(0,lu.VB)({onDrop:y,disabled:n,noClick:!0,noKeyboard:!0});return(0,o.jsx)(lp,{children:(0,o.jsxs)(nP.UC,{className:aw()(s?"":"u-pt-1",{[lh]:v}),...g(),children:[v&&(0,o.jsx)(lf,{currentFolder:t}),i]})})};var lg=n(92346),lv=n(93497);let l_=e=>{let{displayedFolder:t,children:n}=e,r=(0,m.useClient)(),{t:i}=(0,tG.useI18n)(),{isMobile:a}=(0,tM.default)(),{showAlert:l}=(0,na.useAlert)(),s=(0,tX.r)(),d=(0,nn.Zx)(),c=(0,I.wA)(),{addItems:u}=r_(),[{canDrop:h,isOver:p},f]=(0,lg.H)(()=>({accept:[lv.FILE],canDrop:e=>(e=>{let t=e.dataTransfer.items;for(let e=0;e<t.length;e+=1)if("file"!==t[e].kind)return!1;return!0})(e),drop(e){c(t_((e=>{if(!e.dataTransfer)return!1;let t=e.dataTransfer;return t.items&&t.items.length&&null!=t.items[0].webkitGetAsEntry})(e)?e.dataTransfer.items:e.files,t._id,s,()=>null,{client:r,vaultClient:d,showAlert:l,t:i},t.driveId,u))},collect:e=>({isOver:e.isOver(),canDrop:e.canDrop()})}),[t]),y=h&&p;return(0,o.jsx)(lp,{children:(0,o.jsxs)(nP.UC,{ref:f,className:aw()(a?"":"u-pt-1",{[lh]:y}),children:[y&&(0,o.jsx)(lf,{currentFolder:t}),n]})})},lb=e=>{let{displayedFolder:t,disabled:n,children:r}=e,{isMobile:i}=(0,tM.default)();return n?(0,o.jsx)(nP.UC,{className:i?"":"u-pt-1",children:r}):(0,o.jsx)(l_,{displayedFolder:t,children:r})},lx=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:235,height:96,fill:"none",viewBox:"0 0 235 96",...e,children:[(0,o.jsx)("path",{fill:"#B3D3FF",fillOpacity:.24,fillRule:"evenodd",d:"M200.928 24.954c-5.059-11.554-17.316-19.097-30.915-22.13-8.974-2-18.555-2.516-27.779-2.746-9.844-.246-19.698.107-29.502.825-9.525.697-19.01 1.748-28.447 3.04-9.16 1.255-18.56 2.137-27.205 5.173-7.99 2.807-19.041 6.746-27.8 23.419-6.43 12.242-3.063 28.078 5.856 39.207 15.96 19.92 46.844 20.677 72.173 19.971 7.392-.206 14.844-.312 22.185-1.088a160.4 160.4 0 0 0 27.241-5.286c8.107-2.32 16.379-5.189 23.325-9.517 6.103-3.802 10.902-8.74 14.551-14.385 7.122-11.017 11.726-24.129 6.317-36.483",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#66E475",fillRule:"evenodd",d:"M41.116 62.454v3.23h-2.337V47.793a4.064 4.064 0 0 0-4.067-4.062 4.064 4.064 0 0 0-4.065 4.062v10.524h-2.895v-3.231a4.064 4.064 0 0 0-4.066-4.062 4.064 4.064 0 0 0-4.066 4.062v7.294a4.064 4.064 0 0 0 4.066 4.062h6.96l.068 22.12h8.132l-.067-14.752h6.402a4.064 4.064 0 0 0 4.067-4.062v-7.293a4.064 4.064 0 0 0-4.067-4.062 4.064 4.064 0 0 0-4.065 4.062z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#FFE4B5",fillRule:"evenodd",d:"M.168 95.76s41.956-18.705 49.107-18.705c7.152 0 27.086 9.153 27.086 9.153s26.45-3.756 28.945-3.756 36.6 13.341 36.6 13.341z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#FFE4B5",fillRule:"evenodd",d:"M92.418 95.754s33.518-12.44 41.275-12.44 29.376 6.096 29.376 6.096 28.686-2.502 31.392-2.502 39.695 8.885 39.695 8.885z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#F7FAFF",fillRule:"evenodd",d:"M165.635 29.763c0 9.667-7.844 17.504-17.521 17.504s-17.522-7.837-17.522-17.504 7.846-17.505 17.522-17.505c9.677 0 17.521 7.837 17.521 17.505",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#66E475",fillRule:"evenodd",d:"M204.806 54.829a6.897 6.897 0 0 0-6.9 6.894v5.484h-3.967V36.838a6.9 6.9 0 0 0-6.901-6.894 6.9 6.9 0 0 0-6.901 6.894v17.863h-4.913v-5.484a6.9 6.9 0 0 0-6.901-6.895 6.9 6.9 0 0 0-6.901 6.895v12.378a6.9 6.9 0 0 0 6.901 6.894h11.814v27.26h13.802V80.996h10.867a6.897 6.897 0 0 0 6.901-6.894V61.723a6.897 6.897 0 0 0-6.901-6.894",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#FFC35C",fillRule:"evenodd",d:"M87.177 83.472c-1.419 2.151-3.495 3.838-5.803 4.96-2.111 1.026-4.412 1.547-6.765 1.702A17.3 17.3 0 0 0 79.3 87.98q1.128-.452 2.187-.99c2.804-1.43 5.38-3.495 6.987-6.237l.032-.056a11.2 11.2 0 0 1-1.33 2.775zm-30.433 1.482c-2.093-2.108-2.64-4.931-2.21-7.806q.055-.355.12-.715.201.79.447 1.541c.945 2.895 2.586 5.627 5.137 7.374l.14.094q.283.245.585.476a9.4 9.4 0 0 0 2.114 2.577c-2.306-.741-4.61-1.806-6.333-3.54zm5.76-21.25q-.133.132-.264.267a10 10 0 0 0-2.849 1.117 9 9 0 0 0-1.605 1.222q.138-.136.281-.267c1.323-1.196 2.83-1.931 4.436-2.34zm10.176-2.755a10 10 0 0 1 1.856.616 17.4 17.4 0 0 0-3.588.668q-.316-.003-.632.004a29 29 0 0 0-3.118-.345c.427-.224.867-.423 1.321-.587 1.335-.48 2.764-.66 4.16-.356zm7.98 2.685-.105-.028-.006-.004q.055.014.11.032zm8.556 5.837c.882 1.294 1.143 2.676.79 4.196l-.026-.114a11 11 0 0 0-.211-1.187 9.3 9.3 0 0 0-.9-2.33c-.473-1.108-1.085-2.148-1.912-3.031.862.73 1.636 1.553 2.259 2.466m-24.814-4.379q.442-.029.888-.04a18.9 18.9 0 0 0-3.496 3.338 8 8 0 0 0-1.094.724c.185-.492.421-.97.717-1.424.722-1.11 1.737-1.962 2.891-2.59zm14.38 3.135c-3.246-1.704-7.03-1.666-10.594-1.392-1.132.087-2.306.221-3.444.48a17.3 17.3 0 0 1 2.99-2.182c2.092.18 4.178.63 6.16 1.204 2.813.815 5.837 1.916 7.972 4 1.848 1.804 3.018 4.85 1.59 7.256a4 4 0 0 1-.102.16 8.8 8.8 0 0 0 .27-2.25c-.04-3.187-2.087-5.831-4.841-7.276zm-.798 11.97a4.6 4.6 0 0 0 .47-1.543c.673-.292 1.26-.763 1.64-1.408.687-1.169.495-2.626-.27-3.707-.778-1.097-1.995-1.87-3.343-2a3 3 0 0 0-.177-.01 5.7 5.7 0 0 0-1.2-.419c-2.731-2.198-6.332-2.471-9.72-2.31a12 12 0 0 0-1.09.094q.393-.12.8-.213c1.47-.332 2.988-.433 4.49-.513 1.683-.089 3.397-.106 5.063.184 2.622.456 5.285 1.703 6.69 4.069 1.325 2.233.989 4.954-.24 7.143-.97.41-2.06.594-3.113.633m-7.192-8.592c-.752-.52-1.587-.888-2.471-1.039-2.265-.383-4.96 1.025-5.601 3.264-.284-.948-.411-2.188.294-2.954.466-.507 1.208-.582 1.856-.625a32 32 0 0 1 2.352-.069c1.652.013 3.323.193 4.873.796q.114.044.227.092a5.6 5.6 0 0 0-1.53.535m7.572 5.462a5 5 0 0 0-.076-.279c.163-.4.275-.815.324-1.235.194-.217.245-.582.085-.83l-.085-.127a4 4 0 0 0-.077-.414c.338.42.566.92.567 1.459.002.603-.298 1.091-.738 1.426m-15.71-.186q.016-.024.034-.047c1.132 1.546 2.716 2.741 4.508 3.48.704.289 1.451.506 2.216.64q.036.033.073.062c-1.65-.033-3.29-.42-4.736-1.214a8.4 8.4 0 0 1-2.556-2.187q.21-.375.46-.734zm-1.095-2.07q.159.392.352.765a10 10 0 0 0-.56.766 9.4 9.4 0 0 1-.984-2.695q.322-.827.732-1.614c-.086.94.115 1.918.46 2.777zm5.85-2.707a9.6 9.6 0 0 0-2.615 1.014c.421-.47.98-.844 1.596-1.04a3.5 3.5 0 0 1 1.602-.127 6 6 0 0 0-.583.153m-.68 5.678.042.033c-.794-.238-1.522-.635-2.087-1.251a2.4 2.4 0 0 1-.625-1.228q.481-.415 1.018-.754c-.137 1.242.692 2.412 1.652 3.2m2.3-4.47.075-.003a3.3 3.3 0 0 0-.333 1.645c.021.363.097.714.22 1.042a4.5 4.5 0 0 0-.435 1.363l-.104-.067c-.846-.57-2.514-1.772-1.819-2.992.217-.381.575-.632.99-.793q.691-.163 1.406-.196zm6.486 2.883a5 5 0 0 0-.202-.707q.277.234.534.49-.165.11-.332.217m.574 1.32.236-.148-.13.169-.106-.022zm-3.479 1.837a17 17 0 0 1-.503-.18q.354-.084.703-.19a1.7 1.7 0 0 1-.2.37m-.132-3.42c.217.477.389.988.464 1.499q-.475.165-.961.291c.052-.39.143-.773.247-1.118q.1-.334.25-.673zm-1.823.12q.171-.207.371-.38-.105.263-.191.532a1.3 1.3 0 0 1-.18-.152m.062-2.646q.25.238.475.497a5 5 0 0 0-.99.619c.023-.192.07-.378.14-.545a2 2 0 0 1 .375-.571m-.713 3.945q.237.17.515.29a6 6 0 0 0-.03.376q-.266.036-.54.06a2.2 2.2 0 0 1 .055-.726m-8.444 1.722c1 1.078 2.232 1.935 3.653 2.515 2.42.988 5.19 1.094 7.727.452q.1.037.2.07a9.5 9.5 0 0 1-1.398.846c-3.38 1.66-7.907 1.26-10.546-1.375a7.6 7.6 0 0 1 .364-2.508m-1.907.198a8 8 0 0 1-.216-.594 12 12 0 0 1 .212-2.544c.254.59.56 1.148.908 1.67a9.4 9.4 0 0 0-.633 2.041 7 7 0 0 1-.271-.573m5.425 6.461a10.5 10.5 0 0 1-3.17-1.074 8 8 0 0 1-.362-.948q.152.104.308.2c4.13 2.531 9.945 1.695 13.341-1.667a4 4 0 0 0 1.52-.62c.998.056 1.997.006 2.966-.175-1.555 1.603-3.644 2.672-5.754 3.354-2.798.906-5.92 1.43-8.85.93zm16.697-1.845a14.5 14.5 0 0 1-2.36 2.269c-1.582.515-3.255.773-4.937.892-1.494.106-3.017.166-4.53.101l.12-.015c3.282-.447 6.654-1.486 9.308-3.525a11.6 11.6 0 0 0 2.726-2.97 6.6 6.6 0 0 0 2.246-1.905c-.476 1.877-1.338 3.653-2.573 5.153m1.342-15.154c.358.633.655 1.296.896 1.978-1.001-1.43-2.421-2.59-3.992-3.46-3.042-1.684-6.541-2.694-9.977-3.228q.383-.148.772-.278c1.698.305 3.358.717 4.896 1.105a93 93 0 0 1 5.81 1.669 12.8 12.8 0 0 1 1.595 2.214m5.444 4.913a9.86 9.86 0 0 1-.545 4.675c-1.174 2.119-2.635 4.135-4.53 5.66l.004-.006c1.82-2.546 2.737-5.701 2.715-8.82-.019-2.707-.758-5.378-2.185-7.665q.398.193.782.415a7.55 7.55 0 0 1 3.003 3.213c.322.819.566 1.675.756 2.528m-31.245-4.52a8.4 8.4 0 0 1 2.995-2.864 24 24 0 0 0-1.51 2.32c-1.628 2.857-2.572 6.167-2.17 9.465l.002.02a19.7 19.7 0 0 1-1.087-5.15c.454-1.342 1.038-2.636 1.77-3.791m34.27 2.687c-.277-3.214-3.258-5.792-5.814-7.412a18.8 18.8 0 0 0-8.037-2.785 23 23 0 0 0-2.718-1.387c-1.598-.685-3.264-1.005-4.995-.763-1.61.226-3.139.89-4.496 1.771q-.508.33-.995.698c-.968.087-1.928.26-2.87.544-2.796.845-5.483 2.694-6.729 5.406-.718 1.563-.933 3.3-.838 5.042-1.038 3.282-1.758 6.962-.311 10.229 1.17 2.642 3.614 4.472 6.178 5.652 3.028 1.394 6.37 2.15 9.668 2.546 6.616.795 13.794-.707 18.075-6.19 1.912-2.448 2.917-5.407 2.735-8.514.687-1.516 1.292-3.156 1.147-4.837",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#BBD9FD",fillRule:"evenodd",d:"M132.442 90.585c-17.053 0-43.956-.076-44.98-.127-1.162-.099-1.875-.275-2.472-.962-.688-.79-.725-1.703-.766-2.76-.198-4.997-.27-9.787-.232-15.1.011-1.478.01-3.325 0-5.647l-.003-.492.002-.076c.012-2.322.012-4.169.001-5.648-.039-5.312.034-10.102.23-15.075.043-1.081.08-1.994.768-2.784.594-.683 1.337-.866 2.5-.964 4.22-.356 17.087-.395 22.423-.395 5.279 0 9.727.033 11.625.065l.054-.001c1.912-.04 4.973-.065 7.987-.065 6.671 0 11.804.113 13.732.303.653.064.964.196 1.292.335.362.152.636.29.702.328.213.14.493.422.547 1.227.21 3.104.174 6.29.139 9.372a224 224 0 0 0-.02 5.129c.032 2.853.011 5.736-.014 8.444.025 2.734.046 5.617.014 8.471-.019 1.714 0 3.45.02 5.128.035 3.082.071 6.269-.139 9.372-.054.805-.334 1.087-.572 1.242-.042.024-.315.16-.65.302a3.9 3.9 0 0 1-1.319.346c-.154.008-1.592.032-10.869.032",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#3281EE",fillRule:"evenodd",d:"M129.587 39.114c-3.218 0-6.2.027-8.026.066a859 859 0 0 0-11.654-.065c-8.53 0-18.835.087-22.539.4-1.227.104-2.472.312-3.466 1.453-1.028 1.181-1.073 2.502-1.12 3.674a318 318 0 0 0-.23 15.142c.01 1.598.008 3.54-.002 5.63h-.003l.002.291-.002.29h.003c.01 2.09.013 4.034.001 5.631a318 318 0 0 0 .231 15.142c.047 1.172.092 2.493 1.12 3.674.994 1.141 2.239 1.35 3.466 1.453.666.056 28.932.13 45.08.13 6.279 0 10.723-.011 11.004-.039.894-.088 1.366-.295 1.74-.453.391-.165.763-.348.879-.424.678-.444 1.14-1.17 1.219-2.349.329-4.857.067-9.72.123-14.58.031-2.827.011-5.651-.014-8.475.025-2.824.045-5.647.014-8.474-.056-4.86.206-9.724-.123-14.58-.079-1.18-.541-1.906-1.219-2.35-.116-.076-.488-.259-.879-.424-.374-.158-.846-.365-1.74-.453-2.36-.233-8.447-.31-13.865-.31m0 2.88c6.622 0 11.7.11 13.582.296.435.043.599.113.871.227l.029.012c.124.053.236.103.325.145q.012.064.019.17c.207 3.049.172 6.068.136 9.264-.019 1.684-.039 3.426-.019 5.155.031 2.843.01 5.717-.014 8.417v.051c.024 2.7.045 5.573.014 8.415-.02 1.73 0 3.472.019 5.157.036 3.196.071 6.215-.136 9.264a2 2 0 0 1-.019.169 10 10 0 0 1-.325.145l-.029.012c-.259.11-.42.177-.809.22-.351.011-2.14.032-10.783.032-16.658 0-43.25-.074-44.889-.124-.993-.088-1.262-.217-1.482-.47-.323-.37-.372-.831-.413-1.872l-.001-.023a315 315 0 0 1-.229-15.008 484 484 0 0 0-.003-5.77v-.347l.002-.102c.011-2.316.011-4.17.001-5.666-.039-5.29.034-10.059.229-15.007v-.025c.042-1.04.091-1.501.414-1.873.224-.256.498-.385 1.534-.473 2.933-.248 11.06-.39 22.296-.39 5.276 0 9.715.033 11.607.065h.108c1.906-.041 4.958-.067 7.965-.067z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#3281EE",fillRule:"evenodd",d:"M147.452 50.17s.007-5.015-.162-7.52c-.079-1.179-.542-1.905-1.219-2.35a8 8 0 0 0-.88-.423c-.373-.158-.845-.365-1.739-.453-3.76-.37-16.992-.348-21.891-.245-5.365-.087-28.256-.165-34.193.336-1.227.104-2.472.312-3.466 1.453-1.028 1.181-1.073 2.502-1.12 3.673-.073 1.875-.168 5.53-.168 5.53z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#BBD9FD",fillRule:"evenodd",d:"M143.971 44.606c-.098-.488-.431-.94-.717-1.136-.78-.539-1.958-.427-2.53.34-.577.771-.727 2.022.462 2.783 1.012.649 2.334.035 2.714-1.056.102-.292.132-.627.071-.93zm-5.865 0c-.098-.488-.432-.94-.717-1.136-.78-.539-1.958-.427-2.531.34-.576.771-.726 2.022.463 2.783 1.012.649 2.333.035 2.713-1.056.102-.292.133-.627.072-.93zm-5.865 0c-.099-.488-.432-.94-.718-1.136-.779-.539-1.957-.427-2.53.34-.577.771-.726 2.022.463 2.783 1.012.649 2.333.035 2.713-1.056.102-.292.133-.627.072-.93z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#3281EE",fillRule:"evenodd",d:"M100.641 68.116c-.165 0-.396-.043-.733-.38-.357-.355-1.173-1.581-.279-2.511.129-.134.913-.86 1.067-.996l.707-.62-.642-.685a11 11 0 0 0-1.04-.998c-.3-.246-.377-.611-.39-.874-.022-.475.157-.975.456-1.274.291-.291.634-.44 1.017-.44.42 0 .867.178 1.257.499.274.225.523.476.742.713l-.003.027.444.466.441.485s.729-.418 1.771-1.86c.254-.352.645-.462 1.006-.462.614 0 1.258.455 1.532 1.083.124.285.187.798-.096 1.166-.386.5-1.04 1.348-1.466 1.795l-.602.574.893.748c.191.158.371.307.537.464.472.439.601.93.391 1.463-.256.652-.951 1.144-1.615 1.144-.368 0-.714-.147-1.026-.439a24 24 0 0 0-.851-.745l-.602-.51-.59.522c-.258.228-.469.475-.655.692-.3.35-.81 1.144-1.671.953m22.061 0c-.164 0-.396-.043-.733-.38-.357-.355-1.173-1.581-.279-2.511.129-.134.913-.86 1.067-.996l.707-.62-.642-.685a11 11 0 0 0-1.04-.998c-.299-.246-.377-.611-.39-.874-.022-.475.156-.975.455-1.274.292-.291.634-.44 1.018-.44.42 0 .867.178 1.256.499.275.225.524.476.743.713l-.002.027.444.466.44.485s.73-.418 1.771-1.86c.254-.352.645-.462 1.006-.462.614 0 1.258.455 1.532 1.083.125.285.187.798-.096 1.166-.385.5-1.04 1.348-1.466 1.795l-.602.574.893.748c.191.158.371.307.536.464.473.439.602.93.393 1.463-.257.652-.951 1.144-1.615 1.144h-.001c-.368 0-.713-.147-1.027-.439a24 24 0 0 0-.85-.745l-.602-.51-.59.522c-.258.228-.469.475-.655.692-.3.35-.81 1.144-1.671.953m-1.689 8.879c-5.019-.528-5.018-.826-10.035-1.553-2.066-.299-2.484 2.914-.413 3.214 5.016.728 5.016 1.026 10.037 1.553 2.069.219 2.496-2.994.411-3.214",clipRule:"evenodd"})]}),lj=()=>{let{t:e}=(0,tG.useI18n)();return(0,o.jsx)(nD.default,{icon:lx,title:e("NotFound.title"),text:e("NotFound.text")})};var lw=n(38221),lk=n.n(lw);let lC=new Map,lS=new Map,lz=new Map,lF=async(e,t)=>{let n=e.getDocumentFromState("io.cozy.files",t);if(!n){let r=ej(t);n=(await e.fetchQueryAndGetFromState({definition:r.definition(),options:r.options})).data}return n},lA=async(e,t)=>{if(e.path)return e;let n=await lF(t,e.dir_id);return(0,ee.ensureFilePath)(e,n)},lT=async(e,t)=>{let n,r,i;if("created"===t&&(n=lC,r=m.Mutations.createDocument,i=m.Mutations.createDocuments),"updated"===t&&(n=lS,r=m.Mutations.updateDocument,i=m.Mutations.updateDocuments),"deleted"===t&&(n=lz,r=m.Mutations.deleteDocument,i=m.Mutations.deleteDocuments),0===n.length)return;let a=n.keys(),l=lD(n);for(let t in l){let n=[],a=await lF(e,t);for(let e of l[t]){let t=(0,ee.ensureFilePath)(e,a);n.push(t)}if(n.length<1)return;let o=n.length>1?i(n):r(n[0]);e.dispatch((0,eU.receiveMutationResult)(e.generateRandomId(),{data:n},{},o))}a.forEach(e=>n.delete(e))},lN=lk()(lT,500,{leading:!0,trailing:!0}),lD=e=>{let t={};return e.forEach(e=>{let n=e.dir_id;t[n]||(t[n]=[]),t[n].push(e)}),t},lI=(0,s.memo)(e=>{let{doctype:t="io.cozy.files",computeDocBeforeDispatchCreate:n=lA,computeDocBeforeDispatchUpdate:r=lA,computeDocBeforeDispatchDelete:i=(e,t)=>lA({...e,_deleted:!0},t)}=e,a=(0,m.useClient)();return(0,s.useEffect)(()=>{let{realtime:e}=a.plugins||{};if(!e)throw Error("You must include the realtime plugin to use RealTimeQueries");let n=(e,n)=>r=>{let i={id:r._id,_type:t,...r};e.set(r._id,i),lN(a,n)},r={created:n(lC,"created"),updated:n(lS,"updated"),deleted:n(lz,"deleted")};return(async()=>{await Promise.all(Object.entries(r).map(n=>{let[r,i]=n;return e.subscribe(r,t,i)}))})().catch(e=>console.error("Failed to subscribe to realtime events:",e)),()=>{Object.entries(r).forEach(n=>{let[r,i]=n;return e.unsubscribe(r,t,i)})}},[a,t,n,r,i]),null});var lE=n(40543),lB=n(76325),lM=n(79925);let lP=()=>{let{t:e}=(0,tG.useI18n)(),{dismissPushBanner:t}=t8(),n=(0,m.useInstanceInfo)(),r=(0,tB.useWebviewIntent)(),[i,a]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=async()=>{let e=await (null==r?void 0:r.call("isAvailable","iap"))??!1,t=!!(0,y.default)("flagship.iap.enabled");a(e&&t)};(0,ip.isFlagshipApp)()&&e()},[r]);let l=(0,lE.arePremiumLinksEnabled)(n)&&(!(0,ip.isFlagshipApp)()||i);return(0,o.jsx)("div",{className:"u-pos-relative",children:(0,o.jsx)(lB.A,{inline:!0,icon:(0,o.jsx)(rF.default,{icon:lM.A}),bgcolor:"var(--defaultBackgroundColor)",text:e("PushBanner.quota.text"),buttonOne:(0,o.jsx)(tQ.default,{label:e("PushBanner.quota.actions.first"),variant:"text",onClick:()=>{t("quota")}}),buttonTwo:l?(0,o.jsx)(tQ.default,{label:e("PushBanner.quota.actions.second"),variant:"text",onClick:()=>{let e=(0,lE.buildPremiumLink)(n);window.open(e,"_self")}}):null})})};var lR=n(73790),lq=n.n(lR),lO=n(49870),lL=n.n(lO),l$=n(57987),lU=n(23047),lV=!0;class lW extends s.Component{async componentDidMount(){this.willUnmount=!1,!await lq().getItem(n5)&&(await n8(this.props.client)||this.willUnmount||this.setState({mustShow:!0}))}componentWillUnmount(){this.willUnmount=!0}markAsSeen(){lq().setItem(n5,!0),this.setState({mustShow:!1})}render(){if(!0!==lV||!this.state.mustShow)return null;let{t:e}=this.props,t=n4()||n3(),n=t?(e=>{let{t}=e;return t(n4()?"Nav.link-client-ios":n3()?"Nav.link-client-android":"Nav.link-client")})({t:e}):n9({t:e});return(0,o.jsx)("div",{className:"u-pos-relative",children:(0,o.jsx)(lB.A,{inline:!0,disableIconStyles:!0,icon:(0,o.jsx)(rF.default,{className:"u-mt-1 u-ml-1",icon:t?lU.A:l$.A,color:"var(--primaryTextColor)",size:t?24:20}),text:e(t?"Nav.btn-client-mobile":"Nav.banner-txt-client",{name:"Twake Drive"}),bgcolor:"var(--defaultBackgroundColor)",buttonOne:(0,o.jsx)(tQ.default,{component:"a",variant:"text",label:e("Nav.banner-btn-client"),size:"small",onClick:()=>this.markAsSeen("banner"),startIcon:(0,o.jsx)(rF.default,{icon:rR.default}),target:"_blank",href:n}),buttonTwo:(0,o.jsx)(tQ.default,{variant:"text",label:e("SelectionBar.close"),size:"small",onClick:()=>this.markAsSeen("close")}),noDivider:!0})})}constructor(e){super(e),(0,aA._)(this,"state",{mustShow:!1}),this.willUnmount=!1}}let lH=lL()((0,nE.A)(),m.withClient)(lW),lQ=e=>{var t,n,r,i;let{isPublic:a}=e,{bannerDismissed:l}=t8(),{isLoaded:s,diskUsage:d}=(0,m.useInstanceInfo)();if(a||!s)return null;let c=(0,lE.makeDiskInfos)(null==d||null==(n=d.data)||null==(t=n.attributes)?void 0:t.used,null==d||null==(i=d.data)||null==(r=i.attributes)?void 0:r.quota);return!l.quota&&c.percentUsage>=80?(0,o.jsx)(lP,{}):(0,ip.isFlagshipApp)()?null:(0,o.jsx)(lH,{})};lQ.defaultProps={isPublic:!1},lQ.propTypes={isPublic:tD().bool};let lZ=e=>{let{children:t,isPublic:n=!1}=e;return(0,o.jsxs)(nP.gZ,{children:[(0,o.jsx)(lQ,{isPublic:n}),t]})};lZ.propTypes={isPublic:tD().bool,children:tD().array};let lG=s.memo(e=>{let{children:t,isNotFound:n}=e;return(0,o.jsxs)(lZ,{children:[(0,o.jsx)(lI,{}),(0,o.jsx)(m.RealTimeQueries,{doctype:"io.cozy.settings"}),(0,o.jsx)(nx,{}),(0,o.jsx)(R,{}),n?(0,o.jsx)(lj,{}):t]})}),lK=(e,t)=>{let n=ed()(e,"relationships.referenced_by.data");if(!n)return!1;let r=n.find(e=>"io.cozy.sharings"===e.type).id;return!1!==ed()(t,r,!1)},lY=e=>{let{isEmpty:t,queryResults:n}=e,{sharingsValue:r,setSharingsValue:i,fileValue:a}=(0,s.useContext)(t9);return{syncingFakeFile:(e=>{let{isEmpty:t,isSharingContextEmpty:n,queryResults:r,sharingId:i,sharingsValue:a,setSharingsValue:l,fileValue:o}=e;if(t||n)return null;let s=a[i];return o||!s?null:(e=>{let{queryResults:t,sharingId:n,sharingsValue:r,setSharingsValue:i,syncingFakeFile:a}=e;return t.some(e=>e.data.some(e=>!!e.referenced_by&&e.referenced_by.length>=1&&e.referenced_by.some(e=>"io.cozy.sharings"===e.type&&e.id===n)))?((e=>{let{sharingsValue:t,setSharingsValue:n,sharingId:r}=e;delete t[r],n(t)})({sharingsValue:r,setSharingsValue:i,sharingId:n}),null):a})({syncingFakeFile:(e=>{let{sharingValue:t}=e;return t?{name:t.attributes.description,id:t.id,type:"directory"}:null})({sharingValue:s}),queryResults:r,sharingId:i,sharingsValue:a,setSharingsValue:l,fileValue:o})})({isEmpty:t,isSharingContextEmpty:(0,s.useMemo)(()=>Object.keys(r).length<=0,[r]),queryResults:n,sharingId:tA(window.location),sharingsValue:r,setSharingsValue:i,fileValue:a})}},lJ="fil-folder-body-grid-YI7eCf",lX=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:160,height:160,fill:"none",...e,children:[(0,o.jsx)("path",{fill:"#ACF",d:"M30.936 112.766a147.6 147.6 0 0 1-3.778-22.89c19.45 1 38.919 1.627 58.513 2.05 2.71-5.157 4.415-5.485 7.593-5.472l30.604.112c2.618 0 5.472.1 7.478 1.778 1.79 1.494 2.475 3.9 3.281 6.138-.041 0-.078 0-.103.09 1.928-.09 3.861 0 5.772.272 2.684.385 2.603 1.875 1.206 6.722-4.322 15-6.375 29.969-10.381 45.069-.031 0-1.25-.288-1.806 0-8.26-6.622-19.832-9.232-29.579-13.369-16.778-7.122-15.937-9.284-44.459-17.025-8.044-2.178-16.31-4.366-24.34-3.475Z"}),(0,o.jsx)("path",{fill:"#FFE09D",d:"M152.518 27.475c0-3.219 1.347-5.469-4.319-6.153a124.5 124.5 0 0 0-31.084.175c-2.981.394-4.469 1.15-5.119 5.775a90 90 0 0 0-.669 18.475c.291 4.35 1.716 6.375 8.157 5.86l28.921-2.32c2.697-.215 4.419-.996 4.375-6.118-.059-5.222-.109-10.44-.262-15.694"}),(0,o.jsx)("path",{fill:"#E0EDFF",d:"M135.674 59.478c-11.019.57-10.779.45-11.313.844-.447.328-.594.922-.709 1.466a81 81 0 0 0-1.685 17.065c0 1.897.525 2.666 2.897 2.785 5.865.293 11.744.135 17.585-.472 1.562-.163 2.071-.556 2.315-2.36a124 124 0 0 0 1.097-15.68c0-.938-.041-2.01-.709-2.688-1.344-1.375-7.575-1.063-9.478-.96M80.727 88.409c.838-3.384 1.825-4.575 6.303-4.59a273 273 0 0 1 23.125.893c3.897.313 4.569 1.988 3.175 5.203a124.7 124.7 0 0 0-7.734 24.55c-.391 1.903-1.016 2.213-2.56 2.035-3.75-.429-27.812-2.241-28.168-2.813-.213-.353-.447.228 5.86-25.278Z"}),(0,o.jsx)("path",{fill:"#fff",d:"M128.565 70.31h-2.813a.78.78 0 0 0-.781.78v5.391c0 .432.35.782.781.782h2.813c.431 0 .781-.35.781-.782v-5.39a.78.78 0 0 0-.781-.781"}),(0,o.jsx)("path",{fill:"#ACF",d:"M134.719 66.565h-2.813a.78.78 0 0 0-.781.782v9.134c0 .431.35.781.781.781h2.813c.431 0 .781-.35.781-.78v-9.135a.78.78 0 0 0-.781-.782"}),(0,o.jsx)("path",{fill:"#FFE09D",d:"M142.072 63.89h-2.812a.78.78 0 0 0-.781.782v11.81a.78.78 0 0 0 .781.78h2.812c.432 0 .782-.35.782-.78v-11.81a.78.78 0 0 0-.782-.781Z"}),(0,o.jsx)("path",{fill:"#fff",d:"M115.907 41.01c.868-2.582 2.162-4.507 3.846-5.713 2.147-1.54 5.025-1.747 6.997-.5 1.222.772 1.96 1.922 2.897 2.781.75.69 1.86 1.203 2.65.803 1.25-.625 3.381-5.231 6.469-7.666 4.709-3.715 10.194-.912 8.916.55a.8.8 0 0 1-.536.268.78.78 0 0 1-.568-.193c-1.875-1.634-4.925-.912-6.843.6-3.025 2.388-4.857 6.875-6.732 7.838-1.562.788-3.3-.025-4.412-1.047-.966-.887-1.703-2-2.675-2.612-1.45-.916-3.606-.732-5.25.447-1.416 1.012-2.516 2.674-3.278 4.94-.328.994-1.81.484-1.481-.497Z"}),(0,o.jsx)("path",{fill:"#fff",d:"M131.949 40.878a2.406 2.406 0 1 0 0-4.812 2.406 2.406 0 0 0 0 4.812m-9.385-3.748a2.407 2.407 0 1 0 0-4.813 2.407 2.407 0 0 0 0 4.814Zm20.29-5.086a2.406 2.406 0 1 0 0-4.812 2.406 2.406 0 0 0 0 4.812"}),(0,o.jsx)("path",{fill:"#E0EDFF",d:"M103.438 37.441a207.3 207.3 0 0 1-8.06 37.447c-12.993 1.962-26.874 3.906-40.446 1.734 2.097-6.36 1.912-8.531 5.722-57.606 12.987-.625 25.696-1.09 38.406-1.178.019.022.047.044.069.066 5.412 4.909 5.131 12.559 4.309 19.537"}),(0,o.jsx)("path",{fill:"#ACF",d:"M103.818 28.69a10.09 10.09 0 0 0-9.2-4.2 33.6 33.6 0 0 0 4.494-6.587c2.947 2.663 4.441 6.785 4.706 10.788ZM71.89 22.035c-.134.85-.381 3.582.272 4.147.286.193.629.282.972.253 6.875.197 18.394.338 18.75.05a.94.94 0 0 0 .262-.647q.232-1.852.353-3.712a158 158 0 0 0-20.609-.09Zm24.454 9.315c-9.52-.65-19.068-.831-28.606-.54a.314.314 0 0 1-.322-.304.313.313 0 0 1 .303-.322 290 290 0 0 1 28.669.54.313.313 0 0 1-.044.626m-4.397 5.494c-9.419 0-19.04-2.263-28.334-1.013a.316.316 0 0 1-.084-.625c10.98-1.456 22.096 1.853 33.034.806a.314.314 0 1 1 .06.625 51 51 0 0 1-4.676.207M71.332 40.69c-8.035-.459-8.57-.065-8.544-.662s.56-.16 8.569.037a.313.313 0 1 1-.025.625m33.14 60.444c-.49 3.472-3.953 7.5-6.54 9.041-4.325 2.562-10.547 1.05-13.31-3.15s-1.787-10.4 2.06-13.64c3.846-3.242 10-3.226 13.918-.054 2.382 1.928 4.307 4.766 3.872 7.803"}),(0,o.jsx)("path",{fill:"#fff",d:"M104.471 101.134c-.312 2.187-1.562 4.147-2.975 5.841-1.99 2.371-4.062 4.003-7.118 4.375-.207-6.741-1.044-13.782.69-20.313 5.888.725 9.988 5.994 9.403 10.097"}),(0,o.jsx)("path",{fill:"#FFE09D",d:"M101.496 106.975c-2.838 3.381-6.066 5.244-10.681 4.188 4.79-12.613 1.115-7.403 13.703-11.353.168 2.662-1.31 5.118-3.022 7.165"}),(0,o.jsx)("path",{fill:"#E0EDFF",d:"M17.275 102a547 547 0 0 1 61.925-.244c4.688 2.787 9.357 5.578 13.991 8.625 8.672 0 17.341 0 25.753.212 3.497 14.444 6.531 20.313 7.431 23.916.872 3.494.625 7.209 4.747 12.125a2262 2262 0 0 0-99.375-.534c-4.437-9.85-9-18.385-11.681-28.913-1.172-4.578-1.875-9.325-2.79-15.187Z"}),(0,o.jsx)("path",{fill:"#FFE09D",d:"M38.623 33.704C25.02 37.028 7.482 43.195 5.603 44.837c-.908.795-1.365 1.999-1.56 3.19-.663 4.141.807 6.785 7.939 24.695 1.206 3.032 2.392 3.665 5.625 2.57a734 734 0 0 0 29.93-10.838c2.97-1.15 3.471-2.32 2.457-5.273-8.283-24.09-7.916-23.597-8.964-24.71a2.62 2.62 0 0 0-2.407-.767"}),(0,o.jsx)("path",{fill:"#fff",d:"M32.552 41.263a10.08 10.08 0 0 1 5.604-2.643c.625-.077.762.147.8.504.265 1.663.433 3.34.505 5.022.053.36-.018.727-.2 1.042a1.11 1.11 0 0 1-1.117.331c-.417-.091-.667-.272-1.878-1.024-1.73 4.103-3.429 8.322-5.587 12.33a1.65 1.65 0 0 1-2.164.716 52 52 0 0 0-5.383-2.234 2.06 2.06 0 0 0-1.295-.143c-.685.227-.496.236-7.207 10.54-.611.943-2.13.478-2.037-.641.066-.791.492-1.518.89-2.193 5.39-9.047 5.873-10.53 7.605-10.522.602.003.73.12 6.621 2.504.433.165.938.326 1.302.064.434-.317 4.492-9.99 5.293-11.57-1.66-.906-2.802-1.106-1.752-2.083"})]}),l0=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:160,height:160,fill:"none",...e,children:[(0,o.jsx)("path",{fill:"#FFE09D",d:"M65.834 62.095s8.999 20.134 19.046 25.493l14.315-13.3s-7.702-7.41-13.762-20.355l-4.459-1.531z"}),(0,o.jsx)("path",{fill:"#fff",d:"m82.888 56.435 2.61-2.518-4.442-1.532zm-9.823 10.749a.28.28 0 0 1 .048-.393l10.07-7.88a.28.28 0 0 1 .344.441l-10.069 7.88a.28.28 0 0 1-.393-.048m1.12 5.01a.28.28 0 0 1-.204-.51 114 114 0 0 0 13.118-9.596.28.28 0 0 1 .362.427c-6.13 5.197-13 9.624-13.276 9.68Zm2.097 4.9a.28.28 0 0 1-.21-.507 90.6 90.6 0 0 0 13.675-11.171.28.28 0 1 1 .395.397c-6.567 6.53-13.602 11.228-13.86 11.281m3.113 4.496a.28.28 0 0 1 .07-.389c4.661-3.243 9.48-6.596 13.478-10.758a.28.28 0 1 1 .403.387c-4.035 4.203-8.878 7.572-13.562 10.83a.28.28 0 0 1-.39-.07Z"}),(0,o.jsx)("path",{fill:"#ACF",d:"m106.86 43.412-9.022 3.098L99.793 50l7.216-4.343 14.914 14.137-3.533 6.379 2.911 2.532 3.369-8.537z"}),(0,o.jsx)("path",{fill:"#E0EDFF",d:"M75.124 38.92s28.188 29.652 56.163 50.58l4.342-9.286-51.595-46.83-8.91 5.535Zm-27.699 1.936L25.859 51.059a1.885 1.885 0 0 0-.898 2.51l10.204 21.566a1.885 1.885 0 0 0 2.51.897L59.24 65.83a1.885 1.885 0 0 0 .898-2.51L49.935 41.753a1.885 1.885 0 0 0-2.51-.897"}),(0,o.jsx)("path",{fill:"#fff",d:"M31.157 55.951a.963.963 0 0 0-.405 1.307l.686 1.29a.963.963 0 0 0 1.291.403l6.432-3.311a.963.963 0 0 0 .413-1.303l-.694-1.324a.963.963 0 0 0-1.298-.408z"}),(0,o.jsx)("path",{fill:"#ACF",d:"M33.613 61.683a.963.963 0 0 0-.432 1.282l1.022 2.096a.963.963 0 0 0 1.297.44l13.767-6.89a.963.963 0 0 0 .412-1.329l-1.162-2.094a.963.963 0 0 0-1.277-.393z"}),(0,o.jsx)("path",{fill:"#FFE09D",d:"M36.342 67.646a.963.963 0 0 0-.455 1.283l1.027 2.16a.963.963 0 0 0 1.282.457l16.955-8.02a.963.963 0 0 0 .44-1.322l-1.152-2.173a.963.963 0 0 0-1.266-.418z"}),(0,o.jsx)("path",{fill:"#E0EDFF",d:"M48.296 81.478s54.734 1.366 71.721-1.13l-7.731 71.577s-25.479 8.156-55.182 1.029z"}),(0,o.jsx)("path",{fill:"#ACF",d:"m65.637 148.071-9.386-58.596a.65.65 0 0 1 .795-.74.65.65 0 0 1 .492.534l9.386 58.596a.65.65 0 1 1-1.287.206m10.053.73-4.692-58.118a.653.653 0 0 1 .85-.673.65.65 0 0 1 .45.568l4.691 58.119a.65.65 0 0 1-1.072.548.65.65 0 0 1-.227-.444m8.834.761L81.78 90.84a.652.652 0 1 1 1.303-.06l2.742 58.72a.655.655 0 0 1-.37.629.652.652 0 0 1-.931-.568zm10.427.82a.64.64 0 0 1-.465-.195.65.65 0 0 1-.186-.469l1.15-59.136a.652.652 0 0 1 1.303.026l-1.15 59.136a.65.65 0 0 1-.652.638m8.855-1.327a.655.655 0 0 1-.594-.704l4.987-58.77a.653.653 0 0 1 .704-.593.65.65 0 0 1 .594.704l-4.987 58.769a.65.65 0 0 1-.704.594M39.754 27.25s5.83-16.486 8.317-16.31c2.486.178 29.663 6.086 30.096 7.915s-6.023 21.335-9.899 20.727-28.514-12.331-28.514-12.331Z"}),(0,o.jsx)("path",{fill:"#E0EDFF",d:"M68.268 39.582s-29.506-4.657-30.19-7.022c-.685-2.364 1.378-18.146 1.603-20.133.227-1.987 4.002-.453 6.413.13 2.411.584 2.989 1.25 3.256 2.838.268 1.588-.694 2.25 2.455 3.39 3.148 1.138 21.321 4.27 22.469 6.021 1.147 1.75-3.477 15.101-6.006 14.776"})]}),l1=e=>{let{label:t,disabled:n,className:r,displayedFolder:i,sharingState:a,componentsProps:l,onUploaded:s}=e,{showAlert:d}=(0,na.useAlert)(),{addItems:c}=r_(),{t:u}=(0,tG.useI18n)(),h=(0,I.wA)(),p=(0,m.useClient)(),f=(0,nn.Zx)();return(0,o.jsx)(iW.A,{className:r,label:t,disabled:n,multiple:!0,onChange:e=>{h(t_(e,i.id,a,s,{client:p,vaultClient:f,showAlert:d,t:u},i.driveId,c))},"data-testid":"upload-btn",value:[],children:(0,o.jsx)(tQ.default,{...null==l?void 0:l.button,component:"span",startIcon:(0,o.jsx)(rF.default,{icon:iH.A}),label:t})})};l1.propTypes={label:tD().string.isRequired,disabled:tD().bool,className:tD().string,componentsProps:tD().object,onUploaded:tD().func,displayedFolder:tD().object,sharingState:tD().object.isRequired},l1.defaultProps={disabled:!1};let l2=(0,iV.A)(l1),l3=e=>{let{className:t,variant:n,label:r}=e,i=(0,I.wA)();return(0,o.jsx)(tQ.default,{className:t,variant:n,startIcon:(0,o.jsx)(rF.default,{icon:iX.A}),label:r,onClick:()=>i(M((0,o.jsx)(id.F,{})))})},l4=e=>{let{type:t,canUpload:n,localeKey:r,hasTextMobileVersion:i}=e,{t:a}=(0,tG.useI18n)(),{isDesktop:l}=(0,tM.default)(),{displayedFolder:s}=n0(),d="drive"===t||"encrypted"===t,c=r?a(`empty.${t}_title`):void 0,u=i&&!l&&a("empty.mobile_text")||r&&a(`empty.${r}_text`)||n&&a("empty.text")||"sharing"===t&&a("empty.shared-drive_text");return(0,o.jsx)(nD.default,{className:aw()({"empty-H_rqId":d}),"data-testid":"empty-folder",icon:(0,o.jsx)("div",{className:"u-w-100",children:(0,o.jsx)(rF.default,{icon:"trash"===t?l0:lX,size:160})}),iconSize:l?"medium":"large",centered:!l,title:c,text:(0,o.jsxs)(o.Fragment,{children:[u,d&&(0,o.jsx)("span",{className:"u-db u-mt-1",children:(0,o.jsx)(l2,{disabled:!n,componentsProps:{button:{variant:"secondary"}},label:a("toolbar.menu_upload"),displayedFolder:s})}),"sharing"===t&&(0,o.jsx)("span",{className:"u-db u-mt-1",children:(0,o.jsx)(l3,{variant:"secondary",label:a("button.create")})})]})})},l5=e=>{let{isEncrypted:t}=e;return t?(0,o.jsx)(l4,{type:"encrypted",hasTextMobileVersion:!0,...e}):(0,o.jsx)(l4,{type:"drive",hasTextMobileVersion:!0,...e})},l6=e=>(0,o.jsx)(l4,{type:"trash",localeKey:"trash",...e}),l7=e=>{let{currentFolderId:t,displayedFolder:n,canUpload:r}=e,{pathname:i}=(0,nN.zy)();return"/sharings"===i?(0,o.jsx)(l4,{type:"sharing"}):t!==er?(0,o.jsx)(l5,{isEncrypted:!!eA(n),canUpload:r}):(0,o.jsx)(l6,{canUpload:r})},l8=()=>{window.location.reload()},l9=e=>{let{title:t,icon:n}=e,{t:r}=(0,tG.useI18n)();return(0,o.jsx)(nD.default,{title:t||r("error.open_folder"),icon:n||nB,className:"oops-tmW_k0",children:(0,o.jsx)(tQ.default,{onClick:l8,label:r("error.button.reload")})})};l9.propTypes={title:tD().string,icon:tD().node};let oe=e=>{let{doc:t,actions:n,disabled:r,children:i,...a}=e,{position:l,isOpen:d,onOpen:c,onClose:u}=nd(),{isDesktop:h}=(0,tM.useBreakpoints)();return i?r||!h?s.Children.map(i,e=>s.isValidElement(e)?s.cloneElement(e,{...a}):null):(0,o.jsxs)(o.Fragment,{children:[s.Children.map(i,e=>s.isValidElement(e)?s.cloneElement(e,{...a,onContextMenu:e=>{c(e,`FileMenu-${t._id}`)}}):null),d(`FileMenu-${t._id}`)&&(0,o.jsx)(ir.default,{open:!0,docs:[t],actions:n,anchorReference:"anchorPosition",anchorPosition:{top:l.mouseY,left:l.mouseX},autoClose:!0,onClose:u})]}):null};var ot=n(88055),on=n.n(ot);let or=(e,t)=>Math.max(0,Math.min(e-1,t)),oi=(e,t)=>{let{items:n,viewType:r="list"}=e,{isMobile:i}=(0,tM.default)(),a=(0,s.useRef)([]);a.current=(0,s.useMemo)(()=>n,[n]);let{selectedItems:l,setSelectedItems:o,isItemSelected:d,setIsSelectAll:c}=rj(),[u,h]=(0,s.useState)(null),m=(0,s.useMemo)(()=>u?a.current.findIndex(e=>e._id===u):0,[u]),p=(0,s.useMemo)(()=>l.reduce((e,t)=>({...e,[t._id]:t}),{}),[l]),f=(0,s.useCallback)((e,t)=>{if(!t.shiftKey)return;t.stopPropagation();let{newSelectedItems:r,lastInteractedItemId:i}=(e=>{let{startIdx:t,endIdx:n,selectedItems:r,items:i}=e,a=!Object.hasOwn(r,i[n]._id),l=Math.min(t,n);return{newSelectedItems:Array.from({length:Math.max(t,n)-l+1},(e,t)=>l+t).reduce((e,t)=>{let n=i[t];if(a)e[n._id]=n;else{let{[n._id]:t,...r}=e;return r}return e},on()(r)),lastInteractedItemId:i[n]._id}})({startIdx:m,endIdx:n.findIndex(t=>t._id===e),selectedItems:p,items:n});o(r),h(i),c(Object.keys(r).length===a.current.length)},[n,m,p,o,c,h]),y=(0,s.useCallback)(e=>{if(!e.shiftKey)return;let t=e.key,n="list"===r&&["ArrowUp","ArrowDown"].includes(t),i="grid"===r&&["ArrowLeft","ArrowRight"].includes(t);if(!n&&!i)return;e.preventDefault();let{newSelectedItems:s,lastInteractedItemId:u}=(e=>{var t,n;let{direction:r,items:i,selectedItems:a={},lastInteractedIdx:l,isItemSelected:o}=e;if(0===Object.keys(a).length){let e=1===r?i[0]:i[i.length-1];return{newSelectedItems:{[e._id]:e},lastInteractedItemId:e._id}}let s=or(i.length,l+r),d=o(null==(t=i[l])?void 0:t._id),c=o(null==(n=i[s])?void 0:n._id),u=d&&!c,h=(e=>{let{items:t,selectedItems:n,currentIdx:r,lastInteractedIdx:i,isMovingToSelect:a,isItemSelected:l}=e,o=a?t[r]:l(t[i]._id)?t[i]:t[r];return Object.entries(n).reduce((e,t)=>{let[n,r]=t;return a?(e[n]=r,e[o._id]=o):n!==o._id&&(e[n]=r),e},{})})({items:i,selectedItems:a,currentIdx:s,lastInteractedIdx:l,isMovingToSelect:u,isItemSelected:o}),m=(e=>{var t;let{items:n,startIdx:r,direction:i,isMovingToSelect:a,isReturnCurrent:l,isItemSelected:o}=e;if(l)return r;let s=r+i;for(;s>=0&&s<n.length&&a===o(null==(t=n[s])?void 0:t._id);)s+=i;return or(n.length,s-i)})({items:i,startIdx:s,direction:r,isMovingToSelect:u,isItemSelected:o,isReturnCurrent:Object.keys(h).length<=1});return{newSelectedItems:h,lastInteractedItemId:i[m]._id}})({direction:"ArrowUp"===t||"ArrowLeft"===t?-1:1,items:a.current,selectedItems:p,lastInteractedIdx:m,isItemSelected:d});o(s),h(u),c(l.length===a.current.length)},[r,p,m,l.length,o,d,c,h]);return(0,s.useEffect)(()=>{if(i||!a.current.length||!t.current)return;let e=t.current;return e.focus(),e.addEventListener("keydown",y),()=>{e.removeEventListener("keydown",y)}},[i,t,y]),{setLastInteractedItem:h,onShiftClick:f}};var oa=n(50057),ol=n(18896),oo=n(89004),os=n(91215),od=n(29979),oc=n(68485),ou=n(68851),oh=n(25174);let om=(0,iM.A)({badge:{backgroundColor:"var(--white)",height:"1.5rem",minWidth:"1.5rem",borderRadius:"0.375rem",border:"1px solid var(--borderMainColor)"},appIcon:{width:"75%",height:"75%"},anchorOriginBottomRightCircular:{bottom:"10px"}}),op=e=>{let t,{file:n,children:r}=e,{badge:i,anchorOriginBottomRightCircular:a,appIcon:l}=om(),s=(t=(0,m.getReferencedBy)(n,S)[0])?t.id.split("/")[1]:null,d=ej(n.dir_id),{data:c,...u}=(0,m.useQuery)(d.definition,d.options),h=(0,m.isQueryLoading)(u),p=(0,m.isReferencedBy)(c,S)||(0,m.isReferencedBy)(n,S)&&(0,m.isReferencedBy)(n,"io.cozy.accounts.sourceAccountIdentifier");return h||p||!(0,m.isReferencedBy)(n,S)?(0,o.jsx)(o.Fragment,{children:r}):(0,o.jsx)(oh.A,{classes:{badge:i,anchorOriginBottomRightCircular:a},anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:(0,o.jsx)(aM.default,{className:l,type:"konnector",app:{slug:s}}),children:r})};op.propTypes={file:tD().object.isRequired};var of=n(6450),oy=n(57611),og=n(14196),ov=n(13612),o_=n(88382),ob=n(36572),ox=n(4799),oj=n(946),ow=n(29650),ok=n(86049);let oC={word:"text",text:"text",zip:"zip",pdf:"pdf",spreadsheet:"sheet",excel:"sheet",sheet:"sheet",presentation:"slide",powerpoint:"slide"},oS=function(e,t,n){let{isEncrypted:r=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(r)return ia;if(e)return io.default;{if(/\.cozy-note$/.test(t))return ig.default;if(/\.docs-note$/.test(t))return ih;let e={audio:oy.default,bin:og.default,code:ov.default,image:ob.default,pdf:ox.default,slide:ib.default,sheet:i_.default,text:ix.default,video:oj.default,zip:ow.default},r=function(){let t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",[i,a]=("application/octet-stream"===n?(t=r.toLowerCase(),ok.lookup(t)||"application/octet-stream"):n).split("/");if(e[i])return i;if("application"===i){let e=a.match(Object.keys(oC).join("|"));return e?oC[e[0]]:void 0}}(n,t);return ed()(e,r,o_.default)}},oz=e=>{let{file:t,size:n=32,isEncrypted:r=!1}=e,i=(0,ee.isDirectory)(t),a=r||ee.isDirectory&&!!eA(t);return(0,o.jsx)(rF.default,{icon:oS(i,t.name,t.mime,{isEncrypted:a}),size:n})};oz.propTypes={file:tD().shape({type:tD().string,mime:tD().string,name:tD().string}).isRequired,size:tD().number};let oF=e=>{let{file:t,size:n=32}=e,r=(0,m.useClient)(),{shortcutImg:i}=(0,m.useFetchShortcut)(r,t.id),[a,l]=(0,s.useState)(null);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:{display:i&&!a?"block":"none"},children:(0,o.jsx)("img",{src:i,width:n,height:n,onError:()=>{l(!0)}})}),(0,o.jsx)("div",{style:{display:!i||a?"block":"none"},children:(0,o.jsx)(rF.default,{icon:nI.default,size:n,color:"var(--iconTextColor)"})})]})},oA=e=>{let{file:t,size:n,isEncrypted:r,viewType:i="list"}=e,a="image"===t.class,l="shortcut"===t.class;return a||"pdf"===t.class?(0,o.jsx)(of.default,{file:t,linkType:"grid"===i?"small":"tiny",render:e=>(0,o.jsx)("img",{src:e,width:n||32,height:n||32,className:aS["fil-file-thumbnail-image"]}),renderFallback:()=>(0,o.jsx)(oz,{file:t,size:n})}):l?(0,o.jsx)(oF,{file:t,size:n}):(0,o.jsx)(oz,{file:t,size:n,isEncrypted:r})},oT=e=>{let{file:t,size:n}=e,r=(0,ee.getSharingShortcutTargetMime)(t),i=(0,ee.getSharingShortcutTargetDoctype)(t),a="application/internet-shortcut"===r,l=""===r&&i===j;return a?(0,o.jsx)(oF,{file:t,size:n}):(0,o.jsx)(rF.default,{icon:oS(l,t.name,r),size:n})},oN=e=>{var t;let{file:n,size:r,isInSyncFromSharing:i,isEncrypted:a,showSharedBadge:l=!1,componentsProps:s={sharedBadge:{}}}=e,{viewType:d}=nC();if("io.cozy.remote.nextcloud.files"===n._type)return(0,o.jsx)(oz,{file:n,size:r});if(null==(t=n._id)?void 0:t.endsWith(".trash-dir"))return r&&r>=48?(0,o.jsx)(oo.default,{className:"u-flex u-flex-items-center u-flex-justify-center u-bdrs-4",width:r,height:r,bgcolor:"var(--contrastBackgroundColor)",children:(0,o.jsx)(rF.default,{icon:oc.A,size:48})}):(0,o.jsx)(rF.default,{icon:oc.A,size:r??32});if("io.cozy.files.shared-drives-dir"===n._id||nG(n)||rM(n))return(0,o.jsx)(rF.default,{className:"u-mr-half",icon:ic.A,size:r??32});let c=m.models.file.isSharingShortcut(n)&&!i,u=!c&&"shortcut"===n.class&&!i,h=!c&&!u&&!i,p=h&&(0,ee.isDirectory)(n),f=(0,m.isReferencedBy)(n,S);return p&&r&&r>=48?(0,o.jsx)(oo.default,{className:"u-flex u-flex-items-center u-flex-justify-center u-bdrs-4",width:r,height:r,bgcolor:"list"===d?"var(--contrastBackgroundColor)":"",children:f?(0,o.jsxs)(op,{file:n,children:[(0,o.jsx)(oA,{file:n,size:r,isEncrypted:a,viewType:d}),"shortcut"!==n.class&&l&&"grid"===d&&(0,o.jsx)(oa.D,{docId:n._id,...s.sharedBadge,xsmall:!0})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(oA,{file:n,size:r,isEncrypted:a,viewType:d}),"shortcut"!==n.class&&l&&"grid"===d&&(0,o.jsx)(oa.D,{docId:n._id,...s.sharedBadge,xsmall:!0})]})}):f?(0,o.jsx)(op,{file:n,children:(0,o.jsx)(oA,{file:n,size:r,isEncrypted:a,viewType:d})}):(0,o.jsxs)(o.Fragment,{children:[h&&(0,o.jsx)(oA,{file:n,size:r,isEncrypted:a,viewType:d}),u&&(0,o.jsx)(ou.A,{badgeContent:(0,o.jsx)(rF.default,{icon:od.A,size:10}),children:(0,o.jsx)(oA,{file:n,size:r,isEncrypted:a,viewType:d})}),c&&(0,o.jsx)(os.A,{badgeContent:(0,o.jsx)(oT,{file:n,size:16}),children:(0,o.jsx)(ol.l,{docId:n._id,size:"small"})}),i&&(0,o.jsx)("span",{"data-testid":"fil-file-thumbnail--spinner",children:(0,o.jsx)(tK.default,{size:"large",className:aS["fil-file-thumbnail--spinner"]})}),"shortcut"!==n.class&&l&&!i&&(0,o.jsx)(oa.D,{docId:n._id,...s.sharedBadge,xsmall:!0})]})},oD=e=>{let{isEncrypted:t,onSubmit:n,onAbort:r}=e;return(0,o.jsxs)("div",{className:aw()(aS["fil-content-column"]),children:[(0,o.jsx)("div",{className:aw()(aS["fil-content-cell"],aS["fil-file-thumbnail"],aS["fil-content-grid-view"]),children:(0,o.jsx)(oN,{file:{type:"directory"},isEncrypted:t,size:96})}),(0,o.jsx)(aD,{onSubmit:n,onAbort:r})]})},oI=e=>{let{isEncrypted:t,onSubmit:n,onAbort:r,extraColumns:i}=e,{isMobile:a}=(0,tM.default)();return(0,o.jsxs)(aC.Hj,{className:aS["fil-content-row"],children:[(0,o.jsx)(aC.nA,{className:aw()(aS["fil-content-cell"],aS["fil-content-file-select"])}),(0,o.jsx)(aC.nA,{className:aw()(aS["fil-content-cell"],aS["fil-file-thumbnail"],{"u-pl-0":!a}),children:(0,o.jsx)(oN,{file:{type:"directory"},isEncrypted:t})}),(0,o.jsx)(aC.nA,{className:aw()(aS["fil-content-cell"],aS["fil-content-file"]),children:(0,o.jsx)(aD,{onSubmit:n,onAbort:r})}),!a&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(aL,{}),(0,o.jsx)(aY,{className:aS["fil-content-size"]}),i&&i.map(e=>(0,o.jsx)(aY,{className:aS["fil-content-narrow"]},e.label)),(0,o.jsx)(aY,{className:aS["fil-content-status"]})]}),(0,o.jsx)(aC.nA,{className:aw()(aS["fil-content-cell"],aS["fil-content-file-action"])})]})},oE=e=>{let{isEncrypted:t,onSubmit:n,onAbort:r}=e;return(0,o.jsxs)("div",{className:"u-flex u-flex-items-center",children:[(0,o.jsx)(oz,{file:{type:"directory"},size:35,isEncrypted:t}),(0,o.jsx)(aD,{className:"u-ml-half u-m-half",onSubmit:n,onAbort:r})]})},oB=e=>{let{visible:t,isEncrypted:n,onSubmit:r,onAbort:i,extraColumns:a}=e,{t:l}=(0,tG.useI18n)(),{showAlert:s}=(0,na.useAlert)(),{isMobile:d}=(0,tM.useBreakpoints)(),{viewType:c}=nC();if(!t)return null;let u="grid"===c?oD:(0,y.default)("drive.virtualization.enabled")&&!d?oE:oI;return(0,o.jsx)(u,{isEncrypted:n,onSubmit:e=>r(e,s,l),onAbort:e=>i(e,s,l),extraColumns:a})},oM=e=>{let{vaultClient:t,currentFolderId:n,driveId:r,extraColumns:i,afterSubmit:a,afterAbort:l,addItems:s}=e,d=(0,m.useClient)(),c=(0,I.wA)(),u=(0,I.d4)(J),h=(0,I.d4)(X);return(0,o.jsx)(oB,{visible:u,isEncrypted:h,extraColumns:i,onSubmit:(e,i,l)=>c(async o=>o(tx(d,t,e,n,{isEncryptedFolder:h,showAlert:i,t:l},r,s)).then(()=>{null==a||a()})),onAbort:(e,t,n)=>{e&&t({message:n("alert.folder_abort"),severity:"secondary",noClickAway:!0}),null==l||l()}})},oP=e=>{let{refreshFolderContent:t,...n}=e,r=(0,I.wA)(),{addItems:i}=r_();return(0,o.jsx)(oM,{afterSubmit:()=>{t&&t(),r(G())},afterAbort:()=>{r(G())},addItems:i,...n})};var oR=n(83292),oq=n(98661);let oO=e=>{let{file:t,actions:n,onClose:r,anchorElRef:i}=e;return(0,o.jsx)(ir.default,{open:!0,ref:i,onClose:r,actions:n,docs:[t],anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,o.jsx)(ii.default,{children:(0,o.jsx)(oL,{file:t})})})},oL=e=>{let{file:t}=e,{filename:n,extension:r}=f.CozyFile.splitFilename(t);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:oS((0,ee.isDirectory)(t),t.name,t.mime),size:32})}),(0,o.jsx)(rN.default,{primary:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"fil-mobileactionmenu-file-name-FOFt9U",children:n}),(0,o.jsx)("span",{className:"fil-mobileactionmenu-file-ext-XTXQ2_",children:r})]}),primaryTypographyProps:{variant:"h6"}})]})},o$=(0,s.forwardRef)(function(e,t){let{link:n,children:r,...i}=e,a=n.openInNewTab?{target:"_blank"}:{};return"drive"===n.app?(0,o.jsx)(c.Link,{to:n.to,...a,...i,ref:t,children:r}):(0,o.jsx)("a",{href:n.href,...a,...i,ref:t,children:r})}),oU=function(e){let{isOfficeEnabled:t=!1,isPublic:n=!1,cozyUrl:r=""}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e._id===er)return"trash";if("io.cozy.remote.nextcloud.files.trash-dir"===e._id)return"nextcloud-trash";if(e.dir_id===ea&&!nG(e))return"shared-drive";if("io.cozy.remote.nextcloud.files"===e._type)return(0,ee.isDirectory)(e)?"nextcloud-directory":"nextcloud-file";if((0,ee.isNote)(e)){var i;let t=re(r,"")===(null==(i=e.cozyMetadata)?void 0:i.createdOn);return n&&t?"public-note-same-instance":t?"note":"public-note"}else if((0,ee.isDocs)(e))return"docs";else if((0,ee.shouldBeOpenedByOnlyOffice)(e)&&t)return"onlyoffice";else if(nG(e))return"nextcloud";else if((0,ee.isShortcut)(e))return"shortcut";else if((0,ee.isDirectory)(e))return"directory";else return"file"},oV=e=>`/folder/${e}`,oW=(0,s.createContext)(),oH=e=>{let{children:t}=e,n=(0,nN.Zp)(),[r,i]=(0,s.useState)(!1),[a,l]=(0,s.useState)(null);if((0,s.useEffect)(()=>{window.top.postMessage("loaded","*"),window.onmessage=function(e){if(void 0!=e.data&&null!=e.data&&"string"==typeof e.data){if("inShell:true"===e.data&&(i(!0),console.log("Set runsInShell to true from parent")),e.data.startsWith("selectedFile:")){let t=e.data.split("selectedFile:")[1].trim();console.log("Set selectedFile to "+t+" from parent"),l(t)}if(e.data.startsWith("openFolder:")){let t=e.data.split("openFolder:")[1].trim();console.log("Set folderId to "+t+" from parent"),n(`/folder/${t}`)}}}},[]),r){let e=`
      .coz-bar-container nav, .coz-bar-container a {
        display: none !important;
      }

      .coz-bar-container button[aria-label="Rechercher"] {
        margin-right: -12px;
      }
    `,t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(e)),document.head.appendChild(t)}return(0,o.jsxs)(oW.Provider,{value:{runsInShell:r,setRunsInShell:i,selectedFile:a,setSelectedFile:l,openFileInParent:e=>{window.top.postMessage("openFile:"+e.metadata.externalId,"*")}},children:[r&&(0,o.jsx)(D.BarLeft,{children:(0,o.jsx)("div",{style:{width:12}})}),t]})},oQ=()=>{let e=(0,s.useContext)(oW);if(!e)throw Error("useShell must be used within a ShellProvider");return e},oZ=function(e){let{forceFolderPath:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,nN.Zp)(),{pathname:r}=(0,nN.zy)(),i=(0,m.useClient)(),{isDesktop:a}=(0,tM.default)(),l=ij(a),{isPublic:o}=nf(),{runsInShell:d,selectedFile:c,openFileInParent:u}=oQ(),h=null==i?void 0:i.getStackClient().uri,p=oU(e,{isOfficeEnabled:l,isPublic:o,cozyUrl:h}),f=(e=>{switch(e){case"nextcloud-file":return"nextcloud";case"note":case"public-note-same-instance":return"notes";case"docs":return"docs";default:return"drive"}})(p),y=((e,t)=>{var n,r;let{type:i,pathname:a,isPublic:l}=t,o=a.split("/").slice(1),s=e.driveId;switch(i){case"trash":return"/trash";case"nextcloud-trash":return`${a}/trash`;case"nextcloud":return`/nextcloud/${(null==(n=e.cozyMetadata)?void 0:n.sourceAccount)??"unknown"}`;case"nextcloud-directory":return`${a}?path=${e.path??"/"}`;case"nextcloud-file":return(null==(r=e.links)?void 0:r.self)??"";case"note":return`/n/${e._id}`;case"public-note-same-instance":return`/?id=${e._id}`;case"public-note":return s?`/note/${s}/${e._id}`:`/note/${e._id}`;case"docs":return`/bridge/docs/${e.metadata.externalId}`;case"shortcut":return`/external/${e._id}`;case"directory":if(a.startsWith("/favorites"))return`/folder/${e._id}`;return 1===o.length?e._id:`../${e._id}`;case"onlyoffice":return iC(e._id,{driveId:s,fromPathname:a,fromPublicFolder:l});case"shared-drive":if(!s)return`/folder/${e._id}`;return`/shareddrive/${s}/${e._id}`;default:if(a.startsWith("/favorites"))return`/folder/${e.dir_id}/file/${e._id}`;return`file/${e._id}`}})(e,{type:p,pathname:r,isPublic:o}),g="shortcut"===p||"nextcloud-file"===p,v=new URL(window.location.href),_=v.pathname,b=v.searchParams,x=(0,nN.x$)(y,{relative:t?"route":"path"});t&&!g&&(x={...x,pathname:("directory"===p?"/folder":oV(e.dir_id))+x.pathname});let j=new URLSearchParams({...Object.fromEntries(b.entries()),...Object.fromEntries(new URLSearchParams(x.search).entries())}),w="nextcloud-file"===p?y:(0,m.generateWebLink)({slug:f,cozyUrl:h,subDomainType:null==i?void 0:i.getInstanceOptions().subdomain,pathname:"public-note-same-instance"===p?re(_,""):_,searchParams:j,hash:x.pathname}),k=(0,s.useCallback)(t=>{t.ctrlKey||t.metaKey||t.shiftKey||g?window.open(w,"_blank"):d&&e.type&&"file"===e.type?e.name&&e.name.endsWith(".docs-note")?u(e):window.open(w,"_blank"):"drive"===f?n(x):window.location.href=w},[f,w,n,x,g]);return{link:{app:f,href:w,to:x,openInNewTab:g},openLink:k}},oG=e=>{let{file:t,toggle:n,disabled:r,isRenaming:i,onInteractWithFile:a,children:l}=e,d=(0,s.useRef)(),{link:c,openLink:u}=oZ(t),h=(e=>{let{file:t,disabled:n,isRenaming:r,openLink:i,toggle:a,onInteractWithFile:l}=e,o=(0,s.useRef)(),d=(0,s.useRef)(!1),[c,u]=(0,s.useState)(0),{isDesktop:h}=(0,tM.useBreakpoints)(),{setSelectedItems:m,clearSelection:p,isSelectionBarVisible:f}=rj(),{clearItems:g}=r_();return h?(e=>{let{file:t,timerId:n,disabled:r,isRenaming:i,openLink:a,toggle:l,selectionModeActive:o,lastClickTime:s,setLastClickTime:d,clearSelection:c,setSelectedItems:u,clearHighlightedItems:h,onInteractWithFile:m}=e;return{onMouseDown:()=>clearTimeout(n.current),onMouseUp:()=>clearTimeout(n.current),onClick:e=>(e=>{let{event:t,file:n,disabled:r,isRenaming:i,openLink:a,toggle:l,selectionModeActive:o,lastClickTime:s,setLastClickTime:d,setSelectedItems:c,onInteractWithFile:u,clearHighlightedItems:h}=e;if(t.preventDefault(),r||i)return;if(null==h||h(),!(0,y.default)("drive.doubleclick.enabled"))if(o)return l(t);else return a(t);let m=Date.now();m-s<400?a(t):c({[n._id]:n}),u(n._id,t),d(m)})({event:e,file:t,disabled:r,isRenaming:i,openLink:a,toggle:l,selectionModeActive:o,lastClickTime:s,setLastClickTime:d,clearSelection:c,setSelectedItems:u,clearHighlightedItems:h,onInteractWithFile:m})}})({file:t,timerId:o,disabled:n,isRenaming:r,openLink:i,toggle:a,selectionModeActive:f,lastClickTime:c,setLastClickTime:u,clearSelection:p,setSelectedItems:m,onInteractWithFile:l,clearHighlightedItems:g}):(e=>{let{timerId:t,disabled:n,selectionModeActive:r,isRenaming:i,isLongPress:a,openLink:l,toggle:o,clearHighlightedItems:s}=e;return{onTouchStart:e=>{e.persist(),a.current=!1,t.current=setTimeout(()=>{a.current=!0,i||o(e)},250)},onTouchMove:()=>clearTimeout(t.current),onTouchEnd:()=>clearTimeout(t.current),onClick:e=>(e=>{let{event:t,disabled:n,selectionModeActive:r,isLongPress:i,isRenaming:a,openLink:l,toggle:o,clearHighlightedItems:s}=e;t.preventDefault(),n||i.current||a||(r?o(t):l(t),null==s||s())})({event:e,disabled:n,selectionModeActive:r,isLongPress:a,isRenaming:i,openLink:l,toggle:o,clearHighlightedItems:s})}})({timerId:o,disabled:n,selectionModeActive:f,isRenaming:r,isLongPress:d,openLink:i,toggle:a,clearHighlightedItems:g})})({file:t,disabled:r,isRenaming:i,openLink:u,toggle:n,onInteractWithFile:a});return(0,o.jsx)(o$,{ref:d,link:c,className:"file-opener-OXxveU file-opener__a-NazX3K",...h,children:l})},oK=e=>{let{children:t,viewType:n,className:r,onContextMenu:i}=e;return"list"===n?(0,o.jsx)(aC.Hj,{className:r,onContextMenu:i,children:t}):(0,o.jsx)(oq.A,{className:r,onContextMenu:i,children:t})},oY=e=>{let{children:t,viewType:n,className:r}=e;return"list"===n?(0,o.jsx)(aC.nA,{className:r,children:t}):(0,o.jsx)("div",{className:r,children:t})},oJ=e=>{let{t,f:n,attributes:r,actions:i,isRenaming:a,withSelectionCheckbox:l,withFilePath:d,disabled:c,styleDisabled:u,refreshFolderContent:h,isInSyncFromSharing:m,extraColumns:p,breakpoints:{isExtraLarge:f,isMobile:y},disableSelection:g=!1,canInteractWith:v,onContextMenu:_,onToggleSelect:b}=e,{viewType:x}=nC(),{runsInShell:j,selectedFile:w}=oQ(),[k,C]=(0,s.useState)(!1),S=(0,s.useRef)(),{toggleSelectedItem:z,isItemSelected:F}=rj(),{isItemCut:A}=tW(),T=()=>{C(!1)},N=e=>{z(r),null==b||b(null==r?void 0:r._id,e)},D=c||m,I=A(r._id),E=F(r._id),B=j&&w&&w===r._id,M=aw()(aS["fil-content-row"],{[aS["fil-content-row-selected"]]:E||B,[aS["fil-content-row-actioned"]]:k,[aS["fil-content-row-disabled"]]:u||I}),P=aw()(aS["fil-content-column"],{[aS["fil-content-column-selected"]]:E,[aS["fil-content-column-actioned"]]:k,[aS["fil-content-column-disabled"]]:u||I}),R=!(0,ee.isDirectory)(r)&&r.size?(0,oR.O)(r.size,{base:10}):void 0,q=r.updated_at||r.created_at,O=n(q,t(f?"table.row_update_format_full":"table.row_update_format")),L=r._id&&"io.cozy.files.shared-drives-dir"!==r._id&&"io.cozy.files.shared-drives-dir"!==r.dir_id&&!r._id.endsWith(".trash-dir");return"function"==typeof v&&L&&(L=v(r)),(0,o.jsxs)(oK,{viewType:x,className:"list"===x?M:P,onContextMenu:_,children:[(0,o.jsx)(az,{viewType:x,withSelectionCheckbox:l&&(null==i?void 0:i.length)>0,selected:E,onClick:N,disabled:!L||D||g||I}),(0,o.jsxs)(oG,{file:r,disabled:D||I||k,toggle:N,isRenaming:a,onInteractWithFile:b,children:[(0,o.jsxs)(oY,{viewType:x,className:aw()(aS["fil-content-cell"],aS["fil-file-thumbnail"],{"u-pl-0":!y,[aS["fil-content-grid-view"]]:"grid"===x,"u-ml-half":!L||D||g}),children:[(0,o.jsx)(oN,{file:r,size:"grid"===x?96:void 0,isInSyncFromSharing:m,showSharedBadge:y,componentsProps:{sharedBadge:{className:aS["fil-content-shared"]}}}),"grid"===x&&(0,o.jsx)(aW,{file:r,disabled:D,isInSyncFromSharing:m})]}),(0,o.jsx)(aq,{attributes:r,isRenaming:a,interactive:!D,withFilePath:d,isMobile:y,formattedSize:R,formattedUpdatedAt:O,refreshFolderContent:h,isInSyncFromSharing:m}),"list"===x&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(aL,{date:q,formatted:(0,ee.isDirectory)(r)?void 0:O}),(0,o.jsx)(a$,{filesize:R}),p&&p.map(e=>(0,o.jsx)(e.CellComponent,{file:r},e.label)),(0,o.jsx)(aW,{file:r,disabled:D,isInSyncFromSharing:m})]}),(0,o.jsx)(aX,{file:r})]}),i&&L&&(0,o.jsx)(aH,{t:t,ref:S,disabled:D||I,isInSyncFromSharing:m,onClick:()=>{(()=>{if(k)return T();C(!0)})()}}),i&&k&&(0,o.jsx)(oO,{file:r,anchorElRef:S,actions:i.filter(e=>!e.selectAllItems),onClose:T})]})};oJ.propTypes={t:tD().func,f:tD().func,attributes:tD().object.isRequired,actions:tD().array,isRenaming:tD().bool,withSelectionCheckbox:tD().bool.isRequired,withFilePath:tD().bool,disabled:tD().bool,styleDisabled:tD().bool,breakpoints:tD().object.isRequired,refreshFolderContent:tD().func,isInSyncFromSharing:tD().bool,extraColumns:a3,disableSelection:tD().bool,onToggleSelect:tD().func};let oX=e=>{let{t,f:n}=(0,tG.useI18n)(),r=(0,tM.default)();return(0,o.jsx)(oJ,{t:t,f:n,breakpoints:r,...e})},o0=e=>{let t=(0,I.d4)(t=>t.rename!==$&&ed()(t.rename.file,"_id")===e.attributes._id);return(0,o.jsx)(oX,{isRenaming:t,...e})},o1=(0,s.forwardRef)((e,t)=>{let{children:n}=e;return(0,o.jsx)(aC.XI,{ref:t,className:aw()("u-ov-auto",aS["fil-file-list-container"]),role:"table",tabIndex:0,children:n})});o1.displayName="FileList";let o2=e=>{let{className:t,children:n}=e,{isSelectionBarVisible:r}=rj(),{isFabDisplayed:i}=(0,s.useContext)(nu);return(0,o.jsx)(aC.BF,{"data-testid":"fil-content-body",className:aw()(t,aS["fil-content-body"],{[aS["fil-content-body--selectable"]]:r,[aS["fil-content-body--withFabActive"]]:i}),children:n})},o3=e=>{let{label:t,css:n,attr:r,order:i=null,className:a,defaultOrder:l,onSort:d}=e,{t:c}=(0,tG.useI18n)(),u=(0,s.useCallback)(()=>d&&d(r,i?"asc"===i?"desc":"asc":l),[d,r,i,l]);return(0,o.jsx)(aC.A0,{onClick:u,className:aw()(aS["fil-content-header"],aS[`fil-content-${n}`],a,{[aS["fil-content-header-sortableasc"]]:d&&null===i&&"asc"===l,[aS["fil-content-header-sortabledesc"]]:d&&null===i&&"desc"===l,[aS["fil-content-header-sortasc"]]:d&&"asc"===i,[aS["fil-content-header-sortdesc"]]:d&&"desc"===i}),children:c(`table.head_${t}`)})},o4=e=>{let{folderId:t,canSort:n,sort:r,onFolderSort:i,extraColumns:a,viewType:l}=e,{t:s}=(0,tG.useI18n)(),d=r||((0,y.default)("drive.default-updated-at-sort.enabled")?tz:tS);return(0,o.jsx)(aC.nd,{className:aw()(aS["fil-content-head"],{[aS["fil-content-head-grid-view"]]:"grid"===l}),children:(0,o.jsxs)(aC.Hj,{className:aS["fil-content-row-head"],children:[(0,o.jsx)(aC.A0,{className:aw()(aS["fil-content-header"],aS["fil-content-file-select"],aS["fil-content-header--capitalize"])}),tC.map((e,r)=>{let{label:a,attr:l,css:s,defaultOrder:c}=e;if(!n)return(0,o.jsx)(o3,{label:a,css:s,className:aS["fil-content-header--capitalize"]},r);let u=d&&d.attribute===l;return(0,o.jsx)(o3,{label:a,attr:l,css:s,defaultOrder:c,order:u?d.order:null,onSort:(e,n)=>i(t,e,n),className:aS["fil-content-header--capitalize"]},`key_cell_${r}`)}),(0,o.jsx)(aC.A0,{className:aw()(aS["fil-content-header"],aS["fil-content-size"],aS["fil-content-header--capitalize"]),children:s("table.head_size")}),a&&a.map(e=>(0,o.jsx)(e.HeaderComponent,{},e.label)),(0,o.jsx)(aC.A0,{className:aw()(aS["fil-content-header"],aS["fil-content-header-status"],aS["fil-content-header--capitalize"]),children:s("table.head_status")}),(0,o.jsx)(aC.A0,{className:aw()(aS["fil-content-header"],aS["fil-content-header-sharing-shortcut"],aS["fil-content-header--capitalize"])}),(0,o.jsx)(aC.A0,{className:aw()(aS["fil-content-header"],aS["fil-content-header-action"],aS["fil-content-header--capitalize"])})]})})};var o5=n(1363),o6=n(68946),o7=n(29781);let o8=e=>{let{sort:t,onSort:n,onClose:r}=e,{t:i}=(0,tG.useI18n)();return(0,o.jsx)(o6.A,{open:!0,onClose:r,children:tC.map(e=>{let{attr:t}=e;return[{attr:t,order:"asc"},{attr:t,order:"desc"}]}).reduce((e,t)=>[...e,...t],[]).map(e=>{let{attr:a,order:l}=e,s=`sort_by_${a}_${l}`;return(0,o.jsxs)(rz.A,{onClick:()=>{n(a,l),r()},children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(o7.A,{checked:t.order===l&&t.attribute===a,tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":s}})}),(0,o.jsx)(rN.default,{id:s,primary:i(`table.mobile.head_${a}_${l}`)})]},`key_${a}_${l}`)})})},o9=e=>{let{folderId:t,canSort:n,sort:r,onFolderSort:i,viewType:a,switchViewType:l}=e,{t:d}=(0,tG.useI18n)(),[c,u]=(0,s.useState)(!1),h=(0,s.useCallback)(()=>u(!0),[u]),m=(0,s.useCallback)(()=>u(!1),[u]);if(!n)return null;let p=r||((0,y.default)("drive.default-updated-at-sort.enabled")?tz:tS);return(0,o.jsx)(aC.nd,{className:aS["fil-content-mobile-head"],children:(0,o.jsxs)(aC.Hj,{className:aS["fil-content-row-head"],children:[(0,o.jsx)(aC.A0,{onClick:h,className:aw()(aS["fil-content-mobile-header"],aS["fil-content-header--capitalize"],{[aS["fil-content-header-sortasc"]]:"asc"===p.order,[aS["fil-content-header-sortdesc"]]:"desc"===p.order}),children:d(`table.mobile.head_${p.attribute}_${p.order}`)}),c&&(0,o.jsx)(o8,{t:d,sort:p,onClose:m,onSort:(e,n)=>i(t,e,n)}),(0,o.jsx)(aC.A0,{className:aw()(aS["fil-content-mobile-header"],aS["fil-content-header-action"],aS["fil-content-header--capitalize"]),children:(0,o.jsx)(tQ.default,{variant:"text",onClick:()=>{l("list"===a?"grid":"list")},label:(0,o.jsx)(rF.default,{icon:"list"===a?lt.A:o5.A,size:17})})})]})})},se=e=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(o4,{...e}),(0,o.jsx)(o9,{...e})]});var st=n(71231);let sn=(e,t,n)=>{let r;return e+((r=1e4*Math.sin(n))-Math.floor(r))*(t-e)},sr=e=>{let{width:t}=e;return(0,o.jsx)("div",{className:aS["fil-content-file-placeholder"],style:{width:t}})};sr.propTypes={width:tD().string},sr.defaultProps={width:"100%"};let si=e=>{let{index:t,breakpoints:{isMobile:n}}=e;return(0,o.jsxs)(aC.Hj,{className:aS["fil-content-row"],children:[(0,o.jsx)(aC.nA,{className:aw()(aS["fil-content-cell"],aS["fil-content-file-select"])}),(0,o.jsx)(aC.nA,{className:aw()(aS["fil-content-cell"],aS["fil-file-thumbnail"],{"u-pl-0":!n}),children:(0,o.jsx)(sr,{width:"2rem"})}),(0,o.jsx)(aC.nA,{className:aw()(aS["fil-content-cell"],aS["fil-content-file"]),children:(0,o.jsx)(sr,{width:`${sn(3,12,t)}rem`})}),(0,o.jsx)(aC.nA,{className:aw()(aS["fil-content-cell"],aS["fil-content-date"]),children:(0,o.jsx)(sr,{width:"5rem"})}),(0,o.jsx)(aC.nA,{className:aw()(aS["fil-content-cell"],aS["fil-content-size"]),children:(0,o.jsx)(sr,{width:`${sn(3.75,5,t)}rem`})}),(0,o.jsx)(aC.nA,{className:aw()(aS["fil-content-cell"],aS["fil-content-status"]),children:(0,o.jsx)(sr,{width:"1.25rem"})})]})};si.propTypes={index:tD().number},si.defaultProps={index:1};let sa=(0,st.default)()(si),sl=e=>{let{rows:t}=e;return(0,o.jsx)("div",{children:[...Array(t)].map((e,t)=>(0,o.jsx)(sa,{index:t},`key_file_placeholder_${t}`))})};sl.propTypes={rows:tD().number},sl.defaultProps={rows:8};var so=n(94562);let ss=e=>{let{fetchMore:t}=e,{t:n}=(0,tG.useI18n)();return(0,o.jsx)(aC.Hj,{className:aw()(aS["fil-content-row"],aS["fil-content-row--center"]),children:(0,o.jsx)(so.A,{fetchMore:t,label:n("table.load_more")})})};ss.propTypes={fetchMore:tD().func.isRequired};let sd=e=>{let{children:t,folder:n,onDismiss:r}=e,i=(0,nn.Zx)(),a=!!eA(n),[l,d]=(0,s.useState)(!0),c=(0,s.useCallback)(()=>{d(!1),r()},[r]),u=(0,s.useCallback)(()=>{d(!1)},[]);return((0,s.useEffect)(()=>{let e=async()=>{d(await i.isLocked())};a&&e()},[i,a,l]),a&&l)?(0,o.jsx)(nn.gT,{onDismiss:c,onUnlock:u}):t};var sc=n(28513);let su=e=>{let{actions:t,autoClose:n=!1}=e,{isSelectionBarVisible:r,hideSelectionBar:i,selectedItems:a}=rj();if(r&&t){let e=t.filter(e=>{let t=Object.values(e)[0];return void 0===t.displayInSelectionBar||t.displayInSelectionBar});return(0,o.jsx)(sc.A,{actions:e,docs:a,onClose:i,autoClose:n})}return null},sh=e=>{let{viewType:t,children:n}=e;return(0,o.jsx)("div",{className:aw()("grid"===t?lJ:""),children:n})},sm=e=>{let{currentFolderId:t,displayedFolder:n,queryResults:r,actions:i,canSort:a,canUpload:l=!0,withFilePath:d=!1,refreshFolderContent:c=null,extraColumns:u}=e,{isDesktop:h}=(0,tM.default)(),m=(0,nN.Zp)(),{viewType:p,switchView:f}=nC(),y=(0,s.useRef)(),g=(0,I.d4)(J),{setLastInteractedItem:v,onShiftClick:_}=oi({items:(0,s.useMemo)(()=>{let e=[];return r.forEach(t=>{t.data&&t.data.length>0&&e.push(...t.data)}),e},[r]),viewType:p},y);(0,s.useEffect)(()=>{if(h){let e=document.querySelectorAll("[data-testid=fil-content-body]")[0];e&&e.scroll({top:0})}else window.scroll({top:0})},[t,h]);let{isBigThumbnail:b}=rC(),{sharingsValue:x}=(0,s.useContext)(t9),[j,w]=tF(t),k=(0,nn.Zx)(),C=(0,s.useCallback)((e,t,n)=>w({attribute:t,order:n}),[w]),S=r.some(e=>"failed"===e.fetchStatus),z=!S&&r.some(e=>e.data&&e.data.length>0),F=!z&&r.some(e=>"loading"===e.fetchStatus&&!e.lastUpdate),A=!S&&!F&&!z,T=null!==n&&!g&&A,N=Object.keys(x).length<=0,{syncingFakeFile:D}=lY({isEmpty:A,queryResults:r}),[E,B]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=null;return F||(e=setTimeout(()=>{B(!1)},50)),()=>clearTimeout(e)},[F]);let M=(0,s.useCallback)(()=>{m("/folder")},[m]);return(0,o.jsxs)(sd,{folder:n,onDismiss:M,children:[(0,o.jsx)(su,{actions:i}),(0,o.jsxs)(o1,{ref:y,children:[z&&(0,o.jsx)(se,{folderId:null,canSort:a,sort:j,onFolderSort:C,viewType:p,switchViewType:f,extraColumns:u}),(0,o.jsxs)(o2,{selectionModeActive:!1,children:[!z&&!E&&(0,o.jsx)(sh,{viewType:p,isDesktop:h,children:(0,o.jsx)(oP,{vaultClient:k,refreshFolderContent:c,extraColumns:u,currentFolderId:t})}),S&&(0,o.jsx)(l9,{}),(E||F)&&(0,o.jsx)(sl,{}),T&&(0,o.jsx)(l7,{currentFolderId:t,displayedFolder:n,canUpload:l}),z&&!E&&(0,o.jsx)(sh,{viewType:p,isDesktop:h,children:(0,o.jsxs)(o.Fragment,{children:[D&&(0,o.jsx)(o0,{attributes:D,withSelectionCheckbox:!1,actions:[],isInSyncFromSharing:!0,extraColumns:u,disableSelection:!0}),(0,o.jsx)(oP,{vaultClient:k,refreshFolderContent:c,extraColumns:u,currentFolderId:t}),r.map((e,t)=>null!==e.data&&e.data.length>0?(0,o.jsxs)(s.Fragment,{children:[e.data.map(e=>(0,o.jsx)(oe,{doc:e,actions:i.filter(e=>!e.selectAllItems),children:(0,o.jsx)(o0,{attributes:e,withSelectionCheckbox:!0,withFilePath:d,thumbnailSizeBig:b,actions:i,refreshFolderContent:c,isInSyncFromSharing:!N&&(0,ee.isSharingShortcut)(e)&&lK(e,x),extraColumns:u,onToggleSelect:t=>{var n;n=null==e?void 0:e._id,v(n),_(n,t)}},e._id)},e._id)),e.hasMore&&(0,o.jsx)(ss,{fetchMore:e.fetchMore})]},t):null)]})})]})]})]})};var sp=n(4403),sf=n(64007),sy=n(83393);let sg="fil-path-backdrop-TyeU_h",sv="fil-path-title-aCzlut",s_="fil-path-link-U6EV5L",sb="fil-path-separator-WV9SPe",sx="fil-path-current-name-JLxV4q",sj=e=>{let{item:t,isCurrent:n,onClick:r,icon:i}=e,{t:a}=(0,tG.useI18n)(),l=(0,s.useCallback)(e=>{e.stopPropagation(),r(t)},[r,t]),d="io.cozy.files.shared-drives-dir"===t.id?a("breadcrumb.title_shared_drives"):t.name;return(0,o.jsx)("span",{className:aw()(n?sx:s_,sv),onClick:l,children:i?(0,o.jsx)(iK.default,{size:"small","aria-label":t.name,children:(0,o.jsx)(rF.default,{icon:i})}):d},t.name)},sw=e=>{let{onBreadcrumbClick:t,path:n}=e,{t:r}=(0,tG.useI18n)(),i=(0,s.useMemo)(()=>r("breadcrumb.label"),[r]),[a,l]=(0,s.useState)(document.querySelector(`[aria-label="${i}"]`)),d=(0,s.useMemo)(()=>({current:a}),[a]),[c,u]=(0,s.useState)(!1),h=()=>u(!1),m=e=>{e.stopPropagation(),u(!0)};(0,s.useEffect)(()=>{h(),l(document.querySelector(`[aria-label="${i}"]`))},[n]),(0,s.useEffect)(()=>{let e=d.current;if(e)return e.addEventListener("click",m),()=>{h(),e.removeEventListener("click",m)}},[d.current]);let p=(0,o.jsx)(rF.default,{icon:sy.default,className:sb}),f=(0,s.useMemo)(()=>{let e=n.findIndex(e=>"io.cozy.files.shared-drives-dir"===e.id);return -1!==e&&n.length>2?n.slice(e):n},[n]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(sp.A,{className:sg,maxItems:3,separator:p,itemsAfterCollapse:2,expandText:i,children:f.map((e,n)=>f.length>1&&e.id===en?(0,o.jsx)(sj,{onClick:t,item:e,isCurrent:n===f.length-1,icon:sf.default},e.name):0===n&&"io.cozy.files.shared-drives-dir"===e.id?(0,o.jsx)(sj,{onClick:t,item:e,isCurrent:n===f.length-1,icon:ic.A},e.name):(0,o.jsx)(sj,{onClick:t,item:e,isCurrent:n===f.length-1},e.name))}),c&&(0,o.jsx)(ir.default,{open:!0,ref:d,onClose:h,actions:[],docs:[],anchorOrigin:{vertical:"bottom",horizontal:"left"},children:n.slice(1,-2).map(e=>(0,o.jsx)(rz.A,{onClick:n=>{n.stopPropagation(),t(e)},children:(0,o.jsx)(rN.default,{primary:e.name})},e.name))})]})};var sk=n(60610);let sC=e=>{let{onClick:t,...n}=e,{t:r}=(0,tG.useI18n)();return(0,o.jsx)(iK.default,{onClick:t,...n,"aria-label":r("button.back"),children:(0,o.jsx)(rF.default,{icon:sk.default})})},sS=e=>{let{path:t,onBreadcrumbClick:n,opening:r,inlined:i,className:a=""}=e,{t:l}=(0,tG.useI18n)(),[d,c]=(0,s.useState)(!1),u=(0,s.useRef)(null),h=(0,s.useCallback)(()=>{c(!1)},[c]),m=(0,s.useCallback)(()=>{c(!0)},[c]);(0,s.useEffect)(()=>{function e(e){u.current&&!u.current.contains(e.target)&&h()}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[u,h]);let p=()=>d?h():m();return!!t&&(0,o.jsx)("div",{className:aw()(sg,{"deployed-kCktIa":d},{"inlined-xWDi_r":i},a),children:(0,o.jsx)("h2",{"data-testid":"path-title",className:sv,ref:u,onClick:p,children:t.map((e,i)=>{let a="io.cozy.files.shared-drives-dir"===e._id?l("breadcrumb.title_shared_drives"):e.name;return i<t.length-1?(0,o.jsxs)("span",{className:s_,onClick:t=>{t.stopPropagation(),n(e)},children:[(0,o.jsx)("span",{className:"fil-path-link-name-PHg6mX",children:a}),(0,o.jsx)(rF.default,{icon:sy.default,className:sb})]},i):(0,o.jsxs)("span",{className:"fil-path-current-cPEoG2",onClick:e=>{e.stopPropagation(),t.length>=2&&p()},children:[(0,o.jsx)("span",{className:sx,children:a}),t.length>=2&&(0,o.jsx)("span",{className:"fil-path-down-LyIea7"}),r&&(0,o.jsx)(tK.default,{})]},i)})})})};sS.propTypes={path:tD().array,onBreadcrumbClick:tD().func,opening:tD().bool,inlined:tD().bool,className:tD().string};let sz=e=>{let{onBreadcrumbClick:t,path:n,...r}=e,i=(0,s.useCallback)(()=>{t(n[n.length-2])},[t,n]);return(0,o.jsxs)("div",{children:[n.length>=2&&(0,o.jsx)(D.BarLeft,{children:(0,o.jsx)(sC,{onClick:i})}),(0,o.jsx)(D.BarCenter,{children:(0,o.jsx)(sS,{...r,path:n,onBreadcrumbClick:t})})]})},sF=e=>{let{isMobile:t}=(0,tM.default)();return t?(0,o.jsx)(sz,{...e}):(0,o.jsx)(sw,{...e})},sA=async e=>{var t;let{client:n,folderId:r,driveId:i}=e,{options:a,definition:l}=i?ez({driveId:i,folderId:r}):ej(r),o=await n.fetchQueryAndGetFromState({definition:l(),options:a});return i?null==(t=o.data)?void 0:t[0]:o.data},sT=e=>{let{currentFolderId:t,rootBreadcrumbPath:n,sharedDocumentIds:r,driveId:i}=e,a=(0,m.useClient)(),[l,o]=(0,s.useState)([]);return(0,s.useEffect)(()=>{let e=e=>!r||!r.includes(e),l=!0,s=[];return(async()=>{let r=t;for(;r&&r!==n.id&&r!==ea;){let t=await sA({client:a,driveId:i,folderId:r});t?(s.unshift({name:t.name,id:t.id}),r=e(t.id)?t.dir_id:void 0):r=void 0}l&&("Public"!==n.name&&s.unshift(n),o(s))})().catch(e=>{n&&"Public"===n.name?l&&o(s):(l&&n&&o([n]),nz()("error",`Error while fetching folder for breadcrumbs of folder id: ${t}, here is the error: ${e}`))}),()=>{l=!1}},[t,a,r,n,i]),l},sN=e=>{let{currentFolderId:t,rootBreadcrumbPath:n,sharedDocumentIds:r}=e,i=(0,nN.Zp)(),a=sT({currentFolderId:t,rootBreadcrumbPath:n,sharedDocumentIds:r}),l=(0,s.useCallback)(e=>{let{id:t}=e;i(t?`../${t}`:"..",{relative:"path"})},[i]);return a&&a.length>0?(0,o.jsx)(sF,{path:a,onBreadcrumbClick:l,opening:!1}):null};sN.propTypes={currentFolderId:tD().string.isRequired,rootBreadcrumbPath:tD().exact({id:tD().string,name:tD().string}).isRequired,sharedDocumentIds:tD().array};let sD={"fil-topbar":"fil-topbar-ovGJX_",filTopbar:"fil-topbar-ovGJX_","hidden-mobile":"hidden-mobile-B0E6_B",hiddenMobile:"hidden-mobile-B0E6_B","fil-tab-item":"fil-tab-item-orwooZ",filTabItem:"fil-tab-item-orwooZ","fil-tab-item--selected":"fil-tab-item--selected-At4M_D",filTabItemSelected:"fil-tab-item--selected-At4M_D","fil-tab-icon":"fil-tab-icon-ak5Cv0",filTabIcon:"fil-tab-icon-ak5Cv0"},sI=e=>{let{children:t,hideOnMobile:n=!0}=e;return(0,o.jsx)("div",{className:aw()("u-mb-1-half",sD["fil-topbar"],{[sD["hidden-mobile"]]:n}),children:t})},sE=e=>{let{children:t}=e;return(0,o.jsx)(sI,{children:t})};var sB=n(85598),sM=n(76735);let sP=(0,s.forwardRef)((e,t)=>{let{style:n,children:r}=e;return(0,o.jsx)("div",{ref:t,className:aw()(lJ),style:n,children:r})});sP.displayName="GridWrapper";let sR=e=>{let{t,f:n,attributes:r,actions:i,isRenaming:a,withSelectionCheckbox:l,withFilePath:d,disabled:c,refreshFolderContent:u,isInSyncFromSharing:h,breakpoints:{isExtraLarge:m,isMobile:p},disableSelection:f=!1,canInteractWith:y,onContextMenu:g,isOver:v,onInteractWithFile:_}=e,[b,x]=(0,s.useState)(!1),j=(0,s.useRef)(),{toggleSelectedItem:w,isItemSelected:k,isSelectionBarVisible:C}=rj(),{isItemCut:S}=tW(),{isNew:z}=r_(),F=()=>{x(!1)},A=e=>{w(r),null==_||_(null==r?void 0:r._id,e)},T=c||h,N=k(r._id),D=S(r._id),I=!(0,ee.isDirectory)(r)&&r.size?(0,oR.O)(r.size,{base:10}):void 0,E=n(r.updated_at||r.created_at,t(m?"table.row_update_format_full":"table.row_update_format")),B=r._id&&"io.cozy.files.shared-drives-dir"!==r._id&&!r._id.endsWith(".trash-dir");return"function"==typeof y&&B&&(B=y(r)),(0,o.jsxs)(oq.A,{className:aw()(aS["fil-content-column"],aS["fil-content-column-virtualized"],{[aS["fil-content-column-selected"]]:N||z(r),[aS["fil-content-column-actioned"]]:b||v,[aS["fil-content-body--selectable"]]:C,[aS["fil-content-row-disabled"]]:D}),onContextMenu:g,children:[(0,o.jsx)(az,{viewType:"grid",withSelectionCheckbox:l&&(null==i?void 0:i.length)>0,selected:N,onClick:e=>A(e),disabled:!B||T||f}),(0,o.jsxs)(oG,{file:r,disabled:T||D||b,toggle:A,onInteractWithFile:_,isRenaming:a,children:[(0,o.jsxs)("div",{className:aw()(aS["fil-content-cell"],aS["fil-file-thumbnail"],aS["fil-content-grid-view"],{"u-pl-0":!p}),children:[(0,o.jsx)(oN,{file:r,size:96,isInSyncFromSharing:h,showSharedBadge:p,componentsProps:{sharedBadge:{className:aS["fil-content-shared"]}}}),(0,o.jsx)(aW,{file:r,disabled:T,isInSyncFromSharing:h})]}),(0,o.jsx)(aq,{attributes:r,isRenaming:a,interactive:!T,withFilePath:d,isMobile:p,formattedSize:I,formattedUpdatedAt:E,refreshFolderContent:u,isInSyncFromSharing:h}),(0,o.jsx)(aX,{file:r})]}),i&&B&&(0,o.jsx)(aH,{t:t,ref:j,disabled:T||D,isInSyncFromSharing:h,onClick:()=>{(()=>{if(b)return F();x(!0)})()}}),i&&b&&(0,o.jsx)(oO,{file:r,anchorElRef:j,actions:i.filter(e=>!e.selectAllItems),onClose:F})]})};sR.propTypes={t:tD().func,f:tD().func,attributes:tD().object.isRequired,actions:tD().array,isRenaming:tD().bool,withSelectionCheckbox:tD().bool.isRequired,withFilePath:tD().bool,onContextMenu:tD().func,disabled:tD().bool,breakpoints:tD().object.isRequired,refreshFolderContent:tD().func,isInSyncFromSharing:tD().bool,extraColumns:a3,disableSelection:tD().bool,isOver:tD().bool};let sq=e=>{let{t,f:n}=(0,tG.useI18n)(),r=(0,tM.default)();return(0,o.jsx)(sR,{t:t,f:n,breakpoints:r,...e})},sO=e=>{let t=(0,I.d4)(t=>t.rename!==$&&ed()(t.rename.file,"id")===e.attributes.id);return(0,o.jsx)(sq,{isRenaming:t,...e})},sL=(0,s.forwardRef)((e,t)=>{let{items:n,actions:r,withFilePath:i=!1,refreshFolderContent:a,isSharingContextEmpty:l,isSharingShortcut:s=null,isReferencedByShareInSharingContext:d,sharingsValue:c,fetchMore:u,dragProps:h,currentFolderId:m,onInteractWithFile:p}=e,f=(0,nn.Zx)();return(0,o.jsx)("div",{className:"u-h-100",ref:t,tabIndex:0,style:{outline:"none"},children:(0,o.jsx)(sM.A,{components:{List:sP},componentProps:{Item:{className:aw()(aS["fil-content-grid-item"])}},items:n,dragProps:h,itemRenderer:(e,t)=>{let{isOver:n}=t;return(0,o.jsx)(o.Fragment,{children:"tempDirectory"!=e.type?(0,o.jsx)(oe,{doc:e,actions:r.filter(e=>!e.selectAllItems),children:(0,o.jsx)(sO,{attributes:e,withSelectionCheckbox:!0,withFilePath:i,actions:r,refreshFolderContent:a,isInSyncFromSharing:!l&&(null==s?void 0:s(e))&&d(e,c),isOver:n,onInteractWithFile:p},null==e?void 0:e._id)},null==e?void 0:e._id):(0,o.jsx)(oP,{vaultClient:f,currentFolderId:m})})},endReached:u,context:r})})});sL.displayName="Grid";let s$=s.memo(sL);var sU=n(77629);let sV=e=>{let{tempFolder:t,folders:n,files:r,trashFolder:i}=e.reduce((e,t)=>("tempDirectory"===t.type?e.tempFolder.push(t):"directory"===t.type?".cozy_trash"===t.name?e.trashFolder.push(t):t._id===ea?e.folders.unshift(t):e.folders.push(t):"file"===t.type&&e.files.push(t),e),{tempFolder:[],folders:[],files:[],trashFolder:[]});return[...t,...n,...i,...r]},sW=()=>{let e=(0,s.useRef)([]);return(0,s.useEffect)(()=>()=>{e.current.forEach(e=>e.cancel()),e.current=[]},[]),{registerCancelable:(0,s.useCallback)(t=>{let n=(0,m.cancelable)(t);return e.current.push(n),n},[])}};var sH=n(54877),sQ=n(52676),sZ=n(89609);let sG=(0,s.forwardRef)(function(e,t){let{onClick:n,disabled:r}=e,{t:i}=(0,tG.useI18n)();return(0,o.jsx)(rT.default,{children:(0,o.jsx)(iK.default,{ref:t,onClick:n,disabled:r,"arial-label":i("Toolbar.more"),children:(0,o.jsx)(rF.default,{icon:iY.default})})})});var sK=n(82058);let sY=e=>{let{attributes:t,withFilePath:n,formattedSize:r,formattedUpdatedAt:i,parentFolderPath:a}=e,{isMobile:l}=(0,tM.useBreakpoints)(),{t:s}=(0,tG.useI18n)(),{filename:d,extension:u}=nY(t,s);return n?l?(0,o.jsxs)("div",{className:aS["fil-file-description"],title:d+u,children:[(0,o.jsx)(aF.default,{className:aS["fil-file-description--path"],text:a}),(0,o.jsx)(aR,{attributes:t})]}):(0,o.jsx)(c.Link,{to:`/folder/${t.dir_id}`,className:aS["fil-file-path"],children:(0,o.jsx)(aF.default,{text:a})}):(0,o.jsxs)("div",{className:aS["fil-file-infos"],children:[`${i}${r?` - ${r}`:""}`,(0,o.jsx)(aR,{attributes:t})]})},sJ=e=>{let{attributes:t,isRenaming:n,withFilePath:r,formattedSize:i,formattedUpdatedAt:a,refreshFolderContent:l,isInSyncFromSharing:s}=e,{t:d}=(0,tG.useI18n)(),{title:c,filename:u,extension:h}=nY(t,d),{isBigThumbnail:m}=rC(),{isMobile:p}=(0,tM.useBreakpoints)(),f=nK(t),y=r?!f:(0,ee.isDirectory)(t)||!p;return n?(0,o.jsxs)("div",{className:"u-flex",children:[(0,o.jsx)("div",{className:"u-mr-half",children:(0,o.jsx)(oN,{file:t,size:m?96:32,isInSyncFromSharing:s,showSharedBadge:p,componentsProps:{sharedBadge:{className:aS["fil-content-shared-vz"]}}})}),(0,o.jsx)(aB,{style:{display:"flex"},className:"u-flex-items-center",file:t,refreshFolderContent:l})]}):(0,o.jsx)("span",{title:c,children:(0,o.jsx)(sK.A,{icon:(0,o.jsx)(oN,{file:t,size:m?96:32,isInSyncFromSharing:s,showSharedBadge:p,componentsProps:{sharedBadge:{className:aS["fil-content-shared-vz"]}}}),variant:"body1",filename:u,extension:h,midEllipsis:!0,path:y?void 0:(0,o.jsx)(sY,{attributes:t,withFilePath:r,formattedSize:i,formattedUpdatedAt:a,parentFolderPath:f})})})},sX=e=>{let{date:t,formatted:n}=e,{f:r,t:i}=(0,tG.useI18n)();return(0,o.jsx)("time",{dateTime:t,title:r(t,i("LastUpdate.titleFormat")),children:n})};sX.propTypes={date:tD().string,formatted:tD().string};let s0=s.memo(sX),s1=e=>{let{file:t,disabled:n}=e,r=(0,nN.Zp)(),{pathname:i}=(0,nN.zy)();return(0,o.jsx)("div",{className:aw()(aS["fil-content-sharestatus"],{[aS["fil-content-sharestatus--disabled"]]:n}),children:(0,o.jsx)(aU.g,{onClick:e=>{e.preventDefault(),e.stopPropagation(),n||r(re(i,`file/${t._id}/share`))},docId:t.id})})},s2=e=>{let{file:t}=e,{t:n}=(0,tG.useI18n)();return(0,ee.isSharingShortcutNew)(t)?(0,o.jsx)(aJ.A,{size:"xsmall",backgroundColor:"var(--errorColor)",children:(0,o.jsx)("span",{style:{fontSize:"11px",lineHeight:"1rem"},"aria-label":n("table.row_sharing_shortcut_aria_label"),children:"1"})}):null};s2.propTypes={file:tD().object,isInSyncFromSharing:tD().bool};let s3=e=>{let{row:t,isRowDisabledOrInSyncFromSharing:n}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s1,{file:t,disabled:n}),(0,o.jsx)(s2,{file:t})]})},s4=s.memo(e=>{let{filesize:t}=e;return(0,o.jsx)(o.Fragment,{children:t})}),s5=s.memo(e=>{let{row:t,column:n,cell:r,currentFolderId:i,withFilePath:a,actions:l,onInteractWithFile:d}=e,{f:c,t:u}=(0,tG.useI18n)(),h=(0,nn.Zx)(),{isExtraLarge:m}=(0,tM.useBreakpoints)(),{sharingsValue:p}=(0,s.useContext)(t9),{byDocId:f}=(0,tX.r)(),y=(0,s.useRef)(),{toggleSelectedItem:g}=rj(),[v,_]=(0,s.useReducer)(e=>!e,!1),b=(0,I.d4)(e=>e.rename!==$&&ed()(e.rename.file,"id")===t.id);if("tempDirectory"===t.type)return"name"===n.id?(0,o.jsx)(oP,{vaultClient:h,currentFolderId:i}):"menu"===n.id?null:"—";let x=!(0,ee.isDirectory)(t)&&t.size?(0,oR.O)(t.size,{base:10}):void 0,j=c(t.updated_at||t.created_at,u(m?"table.row_update_format_full":"table.row_update_format")),w=!(Object.keys(p).length<=0)&&(0,ee.isSharingShortcut)(t)&&lK(t,p);if("name"===n.id)return r?(0,o.jsx)(oG,{file:t,disabled:w||v,toggle:e=>{e.stopPropagation(),g(t)},isRenaming:b,onInteractWithFile:d,children:(0,o.jsx)(sJ,{attributes:t,isRenaming:b,interactive:!w,withFilePath:a,formattedSize:x,formattedUpdatedAt:j,isInSyncFromSharing:w})}):"—";if("updated_at"===n.id)return r?(0,o.jsx)(s0,{date:r,formatted:j}):"—";if("size"===n.id)return r?(0,o.jsx)(s4,{filesize:x}):"—";if("share"===n.id){let e=void 0!==f[t.id];return w||!e?"—":(0,o.jsx)(s3,{row:t,isInSyncFromSharing:w})}if("menu"===n.id){let e=t._id&&"io.cozy.files.shared-drives-dir"!==t._id&&!t._id.endsWith(".trash-dir");return l&&e?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(sG,{file:t,ref:y,disabled:w,onClick:_}),l&&v&&(0,o.jsx)(oO,{file:t,anchorElRef:y,actions:l,onClose:_})]}):null}return(0,o.jsx)(o.Fragment,{children:r})}),s6=e=>{let{row:t,column:n,cell:r,currentFolderId:i,withFilePath:a,actions:l,onInteractWithFile:s}=e;return(0,o.jsx)(s5,{row:t,column:n,cell:r,currentFolderId:i,withFilePath:a,actions:l,onInteractWithFile:s})},s7=(0,s.forwardRef)((e,t)=>{let{item:n,context:r,children:i,...a}=e,{isItemCut:l}=tW(),s=l(n._id);return(0,o.jsx)(oe,{doc:n,actions:r.actions,...a,children:(0,o.jsx)(sQ.A,{ref:t,item:n,context:r,componentsProps:{tableRow:{disabled:s}},children:i})})});s7.displayName="TableRow";let s8=s.memo(s7),s9={...sZ.A,TableRow:s8},de=(0,s.forwardRef)((e,t)=>{let{rows:n,columns:r,dragProps:i,selectAll:a,fetchMore:l,isSelectedItem:s,selectedItems:d,currentFolderId:c,withFilePath:u,actions:h,orderProps:m,onInteractWithFile:p}=e,{toggleSelectedItem:f}=rj(),{isNew:y}=r_(),{order:g,orderBy:v,setOrder:_,setOrderBy:b}=m;return(0,o.jsx)("div",{className:"u-h-100",ref:t,tabIndex:0,style:{outline:"none"},children:(0,o.jsx)(sH.A,{context:{actions:h},components:s9,rows:n,columns:r,dragProps:i,endReached:l,defaultOrder:{direction:g,by:v},secondarySort:sV,onSelectAll:a,onSelect:(e,t)=>{f(e),null==p||p(null==e?void 0:e._id,t)},isSelectedItem:s,isNewItem:y,selectedItems:d,increaseViewportBy:200,onSortChange:e=>{let{order:t,orderBy:n}=e;_(t),b(n)},componentsProps:{rowContent:{children:(0,o.jsx)(s6,{currentFolderId:c,withFilePath:u,actions:h,onInteractWithFile:p})}}})})});de.displayName="Table";let dt=s.memo(de),dn=e=>{let{client:t,showAlert:n,selectAll:r,registerCancelable:i,sharedPaths:a,t:l}=e;return async(e,o,s)=>{if("directory"!==o.type||e.some(e=>{let{_id:t}=e;return t===o._id}))return null;s.length>0&&r([]);try{await Promise.all(e.map(async e=>{let n=!a.includes(o.path);await i((0,ee.move)(t,e,o,{force:n}))})),n({severity:"success",message:l("Move.success",{subject:e[0].name,target:o.name,smart_count:e.length})})}catch(t){eO.warn("Error while dragging files:",t),n({severity:"error",message:l("Move.error",{smart_count:e.length})})}}},dr=e=>{var t,n;let{currentFolderId:r,displayedFolder:i,actions:a,columns:l,queryResults:d,isEmpty:c,canDrag:u,withFilePath:h,sortOrder:p}=e,f=(0,s.useRef)(),y=(0,m.useClient)(),g=(0,nN.Zp)(),{selectAll:v,selectedItems:_}=rj(),{sharedPaths:b}=(0,tX.r)(),{registerCancelable:x}=sW(),{showAlert:j}=(0,na.useAlert)(),{viewType:w}=nC(),{t:k}=(0,tG.useI18n)(),C=(0,I.d4)(J),[S,z]=(0,s.useState)((null==p?void 0:p.order)||"asc"),[F,A]=(0,s.useState)((null==p?void 0:p.attribute)||(null==l||null==(t=l[0])?void 0:t.id)),T=null==(n=d.find(e=>e.hasMore))?void 0:n.fetchMore,{syncingFakeFile:N}=lY({isEmpty:c,queryResults:d}),D=(0,s.useMemo)(()=>(e=>{let{queryResults:t,IsAddingFolder:n,syncingFakeFile:r}=e,i=t.flatMap(e=>e.data);return n&&i.push({type:"tempDirectory"}),r&&i.push(r),i})({queryResults:d,IsAddingFolder:C,syncingFakeFile:N}),[d,C,N]),{setLastInteractedItem:E,onShiftClick:B}=oi({items:(0,s.useMemo)(()=>sV((0,sB.q)(D,(0,sB.h)(S,F))),[D,S,F]),viewType:w},f),M=(e,t)=>{E(e),B(e,t)},P=(0,s.useCallback)(()=>{g("/folder")},[g]);return(0,o.jsxs)(sd,{folder:i,onDismiss:P,children:[(0,o.jsx)(su,{actions:a}),"list"===w?(0,o.jsx)(dt,{rows:D,columns:l,dragProps:{enabled:u,dragId:"drag-drive",onDrop:dn({client:y,showAlert:j,selectAll:v,registerCancelable:x,sharedPaths:b,t:k})},fetchMore:T,selectAll:v,isSelectedItem:e=>e._id!==ea&&_.some(t=>t._id===e._id),selectedItems:_,currentFolderId:r,withFilePath:h,actions:a,ref:f,onInteractWithFile:M,orderProps:{order:S,orderBy:F,setOrder:z,setOrderBy:A}}):(0,o.jsx)(s$,{items:D,currentFolderId:r,withFilePath:h,actions:a,fetchMore:T,dragProps:{enabled:u,dragId:"drag-drive",onDrop:dn({client:y,showAlert:j,selectAll:v,registerCancelable:x,sharedPaths:b,t:k})},onInteractWithFile:M,ref:f})]})};var di=n(15133),da=n(83181),dl=n(88245),ds=n(16839),dd=n(38599);let dc=e=>{let{columns:t,currentFolderId:n}=e,r=(0,nn.Zx)(),{viewType:i}=nC();return"grid"===i?(0,o.jsx)("div",{className:lJ,children:(0,o.jsx)(oP,{vaultClient:r,currentFolderId:n})}):(0,o.jsxs)(di.default,{children:[(0,o.jsx)(ds.A,{children:(0,o.jsx)(dd.default,{children:t.map((e,t)=>(0,o.jsx)(dl.default,{className:"name"===e.id?"u-pl-1":"",children:e.label},t))})}),(0,o.jsx)(da.default,{children:(0,o.jsxs)(dd.default,{children:[(0,o.jsx)(dl.default,{className:"u-pl-1",children:(0,o.jsx)(oP,{vaultClient:r,currentFolderId:n})}),(0,o.jsx)(dl.default,{children:"—"}),(0,o.jsx)(dl.default,{children:"—"}),(0,o.jsx)(dl.default,{children:"—"})]})})]})},du=e=>{let{currentFolderId:t,displayedFolder:n,queryResults:r,actions:i,canUpload:a=!0,canDrag:l,withFilePath:d=!1,sortOrder:c}=e,{isDesktop:u}=(0,tM.useBreakpoints)(),h=(0,I.d4)(J),{isBigThumbnail:m}=rC(),{clearItems:p}=r_(),f=r.some(e=>"failed"===e.fetchStatus),y=!f&&r.some(e=>e.data&&e.data.length>0),g=!y&&r.some(e=>"loading"===e.fetchStatus&&!e.lastUpdate),v=!f&&!g&&!y,_=(0,s.useMemo)(()=>(e=>{let{t}=(0,sU.getDriveI18n)();return[{id:"name",maxWidth:0,disablePadding:!e,label:t("table.head_name")},{id:"updated_at",disablePadding:!1,width:160,label:t("table.head_update"),textAlign:"right"},{id:"size",disablePadding:!1,width:80,label:t("table.head_size"),textAlign:"right"},{id:"share",disablePadding:!1,width:125,label:t("table.head_status"),textAlign:"right",sortable:!1},{id:"menu",disablePadding:!1,width:60,label:"",textAlign:"center",sortable:!1}]})(m),[m]);(0,s.useEffect)(()=>{if(u){let e=document.querySelectorAll("[data-testid=fil-content-body]")[0];e&&e.scroll({top:0})}else window.scroll({top:0});p()},[t,u,p]);let[b,x]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{let e=null;return g||(e=setTimeout(()=>{x(!1)},50)),()=>clearTimeout(e)},[g]),b||g)?(0,o.jsx)(sl,{}):f?(0,o.jsx)(l9,{}):v?h?(0,o.jsx)(dc,{columns:_,currentFolderId:t}):(0,o.jsx)(l7,{currentFolderId:t,displayedFolder:n,canUpload:a}):(0,o.jsx)(dr,{currentFolderId:t,displayedFolder:n,actions:i,columns:_,queryResults:r,isEmpty:v,canDrag:l,withFilePath:d,sortOrder:c})},dh=[],dm=[],dp=()=>{let e,t,n,r,i,a=(0,nN.Zp)(),{pathname:l}=(0,nN.zy)(),d=(0,nN.g)(),c=nX();nJ();let{isSelectionBarVisible:u,toggleSelectAllItems:h,isSelectAll:p}=rj(),{isMobile:f,isDesktop:g}=(0,tM.default)(),{t:v,lang:_}=(0,tG.useI18n)(),{isFabDisplayed:b,setIsFabDisplayed:x}=(0,s.useContext)(nu),{isBigThumbnail:j,toggleThumbnailSize:w}=rC(),k=(0,tX.r)(),{allLoaded:C,hasWriteAccess:S,refresh:z,isOwner:F,byDocId:A}=k,{isNativeFileSharingAvailable:T,shareFilesNative:N}=(0,ni.zI)(),D=(0,m.useClient)(),E=(0,nn.Zx)(),{pushModal:B,popModal:M}=nb(),P=(0,I.wA)(),R=a4({isMobile:f,desktopExtraColumnsNames:dh,mobileExtraColumnsNames:dm}),{showAlert:q}=(0,na.useAlert)(),{hasClipboardData:O}=tW(),L=a5({columnsNames:R,queryBuilder:ex,currentFolderId:c}),{displayedFolder:$,isNotFound:U}=n0(),V=(0,s.useMemo)(()=>$,[$]);e=(0,nN.Zp)(),(0,s.useEffect)(()=>{V&&V.path.startsWith(eo)&&e("/trash/"+V.id)},[e,V]);let[W]=tF(c),H=ep({currentFolderId:c,type:"directory",sortAttribute:W.attribute,sortOrder:W.order}),Q=ep({currentFolderId:c,type:"file",sortAttribute:W.attribute,sortOrder:W.order}),Z=(0,m.useQuery)(H.definition,H.options),G=(0,m.useQuery)(Q.definition,Q.options),K=[Z,G],Y=K.some(e=>"failed"===e.fetchStatus),J=K.some(e=>"loading"===e.fetchStatus&&!e.lastUpdate),X=K.some(e=>"pending"===e.fetchStatus),ee=S(c);rw({canPaste:O&&ee,client:D,items:[...Z.data||[],...G.data||[]],sharingContext:k});let et=(0,nV.gW)([am,rP,nU.D,r$,rU,rX,a_,ag,af,ax,ie,rU,r6,rU,rY],{client:D,t:v,lang:_,vaultClient:E,pushModal:B,popModal:M,refresh:z,dispatch:P,navigate:a,pathname:l,hasWriteAccess:ee,canMove:!0,isPublic:!1,allLoaded:C,showAlert:q,isOwner:F,byDocId:A,isMobile:f,isNativeFileSharingAvailable:T,shareFilesNative:N,selectAll:()=>h(K.map(e=>e.data).flat()),isSelectAll:p}),er=(0,s.useMemo)(()=>({id:en,name:v("breadcrumb.title_drive")}),[v]);t=(0,m.useClient)(),n=(0,I.wA)(),r=(0,tB.useWebviewIntent)(),i=(0,I.d4)(tp),(0,s.useEffect)(()=>{(async()=>{if(r&&!((null==i?void 0:i.length)>0))try{let{filesToHandle:e}=await r.call("hasFilesToHandle");if(!e||0===e.length)return;n({type:eV,files:e})}catch(t){let e=iR(t);if(nz()("info",`hasFilesToHandle error, ${e}`),e.includes("has not been implemented"))return}})()},[t,n,r,i]),(0,s.useEffect)(()=>{if(ee)return x(!g),()=>{x(!1)}},[x,g,ee]);let ei=(0,y.default)("drive.virtualization.enabled")&&!f?lb:ly;return(0,o.jsx)(lG,{isNotFound:U,children:(0,o.jsxs)(ei,{disabled:!ee,displayedFolder:V,children:[(0,o.jsxs)(sE,{children:[c&&(0,o.jsx)(sN,{rootBreadcrumbPath:er,currentFolderId:c}),(0,o.jsx)(lc,{canUpload:!0,canCreateFolder:!0,disabled:J||Y||X,isBigThumbnail:j,toggleThumbnailSize:w})]}),(0,y.default)("drive.show.harvest-banner")&&(0,o.jsx)(nQ,{folderId:c}),(0,y.default)("drive.virtualization.enabled")&&!f?(0,o.jsx)(du,{actions:et,queryResults:K,currentFolderId:c,displayedFolder:V,extraColumns:L,canDrag:!0,canUpload:ee}):(0,o.jsx)(sm,{actions:et,queryResults:K,canSort:!0,currentFolderId:c,displayedFolder:V,extraColumns:L,canUpload:ee}),b&&(0,o.jsx)(au,{componentsProps:{AddMenu:{anchorOrigin:{vertical:"top",horizontal:"left"}}},canCreateFolder:!0,canUpload:!0,disabled:J||Y||X,navigate:a,params:d,displayedFolder:V,isSelectionBarVisible:u,children:(0,o.jsx)(a7,{})}),(0,o.jsx)(nN.sv,{})]})})};var df=n(73017);let dy=()=>(0,o.jsx)(df.A,{isOver:!0,open:!0,children:(0,o.jsx)(tK.default,{size:"xxlarge",middle:!0,noMargin:!0,color:"var(--white)"})});var dg=n(69836),dv=n(77608),d_=n(53811);class db extends s.Component{async componentDidMount(){if(!0===lV&&!await lq().getItem(n7))try{await n8(this.props.client)||this.setState({mustShow:!0})}catch(e){this.setState({mustShow:!1})}}render(){if(!this.state.mustShow||!0!==lV)return null;let{t:e}=this.props,t=n9({t:e});return(0,o.jsxs)("div",{className:"pho-viewer-noviewer-cta-YqkcnE",children:[(0,o.jsx)(rF.default,{className:"pho-viewer-noviewer-cta-cross-ZF5bcZ",color:"var(--white)",icon:d_.A,onClick:this.markAsSeen}),(0,o.jsx)("h3",{children:e("Viewer.noviewer.cta.saveTime")}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:(0,o.jsx)("a",{target:"_blank",href:t,rel:"noreferrer",children:e("Viewer.noviewer.cta.installDesktop")})}),(0,o.jsx)("li",{children:e("Viewer.noviewer.cta.accessFiles")})]})]})}constructor(...e){super(...e),(0,aA._)(this,"state",{mustShow:!1}),(0,aA._)(this,"markAsSeen",()=>{lq().setItem(n7,!0),this.setState({mustShow:!1})})}}let dx=(0,m.withClient)(db),dj=async(e,t,n)=>{let{vaultClient:r}=n;if(!eF(t))return e.collection("io.cozy.files",{driveId:t.driveId}).download(t);{let n=await eT(e,t.dir_id);return eB(e,r,{file:t,encryptionKey:n})}},dw=e=>{let{file:t,t:n}=e,r=(0,m.useClient)(),i=(0,nn.Zx)();return(0,o.jsx)(tQ.default,{onClick:()=>dj(r,t,{vaultClient:i}),label:n("Viewer.noviewer.download")})},dk=e=>{let{file:t,t:n}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(dw,{file:t,t:n}),(0,o.jsx)(dx,{t:n})]})};dk.propTypes={file:tD().object.isRequired,t:tD().func.isRequired};var dC=n(66747),dS=n(76365),dz=n(58403),dF=n(98973);let dA=e=>{let{file:t}=e,[n,r]=(0,s.useState)(!1),{isDesktop:i}=(0,tM.useBreakpoints)(),a=(0,s.useRef)(),l=(e=>{let[t,n]=(0,s.useState)(!1),r=(0,m.useClient)(),i=(0,nn.Zx)(),a=(0,tB.useWebviewIntent)(),{t:l,lang:o}=(0,tG.useI18n)(),{isMobile:d}=(0,tM.useBreakpoints)(),c=(0,nN.Zp)(),{pushModal:u,popModal:h}=nb(),{allLoaded:p,hasWriteAccess:f,isOwner:y,byDocId:g}=(0,tX.r)(),{showAlert:v}=(0,na.useAlert)(),{isNativeFileSharingAvailable:_,shareFilesNative:b}=(0,ni.zI)(),x=nX(),{isSharingShortcutCreated:j,addSharingLink:w,syncSharingLink:k}=(0,dC.x)(),C=f(x,e.driveId),S="application/pdf"===e.mime,z="/preview"===window.location.pathname,F=!(window.location.href.includes("/shareddrive/")&&!C),A=(0,nV.gW)([rP,nU.D,z&&dS.e,z&&dz.y,r$,S&&t&&dF.y,rU,a_,F&&ag,F&&af,F&&ax,rU,r6,rU,rY],{client:r,t:l,lang:o,vaultClient:i,pushModal:u,popModal:h,refresh:()=>c(".."),navigate:c,hasWriteAccess:C,canMove:F,isPublic:!1,allLoaded:p,showAlert:v,isOwner:y,byDocId:g,isNativeFileSharingAvailable:_,shareFilesNative:b,isSharingShortcutCreated:j,openSharingLinkDisplayed:z,syncSharingLink:k,isMobile:d,addSharingLink:w,driveId:e.driveId});return(0,s.useEffect)(()=>{(async()=>{n(await (null==a?void 0:a.call("isAvailable","print"))??!0)})()},[a]),A})(t);return t.trashed?null:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(iK.default,{ref:a,variant:"secondary",className:aw()({"u-white":i}),onClick:()=>r(e=>!e),children:(0,o.jsx)(rF.default,{icon:iY.default})}),n&&(0,o.jsx)(ir.default,{open:!0,ref:a,docs:[t],actions:l,anchorOrigin:{vertical:"bottom",horizontal:"right"},autoClose:!0,onClose:()=>r(!1)})]})},dT=s.memo(e=>{let{filesQuery:t,files:n,onClose:r,onChange:i,viewerProps:a}=e,[l,d]=(0,s.useState)(null),[c,u]=(0,s.useState)(null),[h,p]=(0,s.useState)(!1),{isDesktop:f}=(0,tM.default)(),y=(()=>{let{fileId:e}=(0,nN.g)();return e||null})(),g=(0,m.useClient)(),{t:v}=(0,tG.useI18n)(),_=(0,nn.Zx)(),b=(0,nN.Zp)(),{driveId:x}=(0,nN.g)(),j=(0,s.useCallback)(()=>{r&&r()},[r]),w=(0,s.useCallback)(e=>{i&&i(e.id)},[i]),k=(0,s.useMemo)(()=>n.findIndex(e=>e.id===y),[n,y]),C=(0,s.useMemo)(()=>-1!=k,[k]),S=(0,s.useMemo)(()=>C?n:[l],[C,n,l]);(0,s.useEffect)(()=>{let e=!0;return(async()=>{if(!C){l&&e&&d(null);try{let{data:t}=await g.query((0,m.Q)("io.cozy.files").getById(y).sharingById(x));e&&d(t)}catch(e){eO.warn("can't find the file"),j()}}})(),()=>{e=!1}},[]),(0,s.useEffect)(()=>{(async()=>{let e=n[k];if(e&&eF(e)){let t=await eT(g,e.dir_id);u(await eM(g,_,{file:e,encryptionKey:t}))}})()},[k]),(0,s.useEffect)(()=>{let e=!0;return(async()=>{if(!h){p(!0);try{let r=n.findIndex(e=>e.id===y);(t.data.length-r<=5||-1===r)&&t.hasMore&&e&&await t.fetchMore()}finally{p(!1)}}})(),()=>{e=!1}},[h,t,n,y]);let z=(0,s.useMemo)(()=>C?k:0,[C,k]);return -1!==k||l?(0,o.jsx)(dg.A,{children:(0,o.jsxs)(dv.default,{files:S,currentURL:c,currentIndex:z,onChangeRequest:w,onCloseRequest:j,renderFallbackExtraContent:e=>(0,o.jsx)(dk,{file:e,t:v}),componentsProps:{OnlyOfficeViewer:{isEnabled:ij(f),opener:e=>b(iC(e.id))},toolbarProps:{showFilePath:!0},...a||{}},children:[(0,o.jsx)(dv.ToolbarButtons,{children:(0,o.jsx)(dA,{})}),(0,o.jsxs)(dv.FooterActionButtons,{children:[(0,o.jsx)(dv.SharingButton,{}),(0,o.jsx)(dv.ForwardOrDownloadButton,{variant:"buttonIcon"})]})]})}):(0,o.jsx)(dy,{})}),dN=()=>{let e=(0,nN.Zp)(),[t]=tF(),n=nX(),r=ep({currentFolderId:n,type:"file",sortAttribute:t.attribute,sortOrder:t.order}),i=(0,m.useQuery)(r.definition,r.options),a=i.data;return a?(0,o.jsx)(dT,{files:a,filesQuery:i,onClose:()=>e(oV(n)),onChange:t=>e(`/folder/${n}/file/${t}`)}):(0,o.jsx)(dy,{})};var dD=n(41827),dI=n(10230);let dE=(0,s.createContext)(),dB=e=>{var t;let{fileId:n,driveId:r,isPublic:i,isReadOnly:a,isFromSharing:l,username:d,isInSharedFolder:u,children:h}=e,p=(0,m.useClient)(),{isDesktop:f,isMobile:g}=(0,tM.default)(),[v]=(0,c.useSearchParams)(),{hasWriteAccess:_}=(0,tX.r)(),[b,x]=(0,s.useState)(!1),[j,w]=(0,s.useState)(function(e,t){if(!e&&(0,y.default)("drive.office.touchScreen.readOnly"))return"view";let n=iw(),r=(0,y.default)("drive.office.mobile.defaultMode");if(t&&n&&null!==r)return r;let i=(0,y.default)("drive.office.defaultMode");return n&&null!==i?i:"view"}(f,g)),[k,C]=(0,s.useState)(!1),[S,z]=(0,s.useState)(!1),[F,A]=(0,s.useState)(null),[T,N]=(0,s.useState)(!1),[D,I]=(0,s.useState)("edit"===j),E=(0,s.useMemo)(()=>"view"===j,[j]),B=ej(n),M=(0,m.useQuery)(B.definition,B.options),P=(0,s.useCallback)(e=>{var t;(null==M||null==(t=M.data)?void 0:t.md5sum)!==e.md5sum&&"onlyoffice-server"!==e.cozyMetadata.uploadedBy.slug&&D&&C(!0),e.trashed&&D&&z(!0)},[null==M||null==(t=M.data)?void 0:t.md5sum,D]);return(0,s.useEffect)(()=>{let e=p.plugins.realtime;return e.subscribe("updated","io.cozy.files",n,P),()=>{e.unsubscribe("updated","io.cozy.files",n,P)}},[p,n,P]),(0,s.useEffect)(()=>{if(_(n,r)){if((0,y.default)("drive.onlyoffice.editor-mode-by-access.enabled"))return void w("edit");("true"===v.get("fromCreate")||"true"===v.get("fromEdit"))&&w("edit")}},[v,n,r,_]),(0,s.useEffect)(()=>{var e;(null==(e=M.data)?void 0:e.trashed)?(N(!0),w("view")):N(!1)},[M]),(0,s.useEffect)(()=>{"edit"===j&&I(!0)},[j]),(0,o.jsx)(dE.Provider,{value:{fileId:n,driveId:r,hasFileDiverged:k,setFileDiverged:C,hasFileDeleted:S,setFileDeleted:z,isPublic:i,isReadOnly:a,isFromSharing:l,username:d,isInSharedFolder:u,isEditorReady:b,setIsEditorReady:x,editorMode:j,setEditorMode:w,isEditorModeView:E,setOfficeKey:A,officeKey:F,isTrashed:T},children:h})},dM=()=>(0,s.useContext)(dE),dP=s.memo(()=>{let{t:e}=(0,tG.useI18n)(),{fileId:t,isPublic:n}=dM(),{redirectBack:r}=n2({isPublic:n}),i=(0,s.useMemo)(()=>ej(t),[t]),a=(0,m.useQuery)(i.definition,i.options),l=(0,s.useMemo)(()=>[a.data],[a]);return(0,m.isQueryLoading)(a)?(0,o.jsx)(tK.default,{className:"u-flex u-flex-items-center u-flex-justify-center u-flex-grow-1",size:"xxlarge"}):"failed"===a.fetchStatus?(0,o.jsx)(l9,{title:e("error.open_file")}):(0,o.jsx)(dg.A,{children:(0,o.jsxs)(dv.default,{files:l,currentIndex:0,onCloseRequest:r,children:[(0,o.jsx)(dv.ToolbarButtons,{children:(0,o.jsx)(dv.SharingButton,{variant:"iconButton"})}),(0,o.jsxs)(dv.FooterActionButtons,{children:[(0,o.jsx)(dv.SharingButton,{}),(0,o.jsx)(dv.ForwardOrDownloadButton,{variant:"buttonIcon"})]})]})})}),dR=()=>(0,o.jsx)(dI.A,{className:"u-flex u-flex-items-center u-flex-justify-center",children:(0,o.jsx)("span",{"data-testid":"onlyoffice-content-spinner",children:(0,o.jsx)(tK.default,{size:"xxlarge"})})});var dq=n(95383),dO=n(61199),dL=n(52129),d$=n(56024),dU=n(33422),dV=n(70879),dW=n(27282);let dH=e=>{let{files:t,onClose:n,onConfirm:r}=e,{t:i}=(0,tG.useI18n)(),[a,l]=(0,s.useState)(!1),{showAlert:d}=(0,na.useAlert)(),c=eP(i,t),u=async()=>{try{l(!0),await r(),d({message:i("DestroyConfirm.success",{smart_count:t.length,type:c}),severity:"success"})}catch{d({message:i("DestroyConfirm.error"),severity:"error"})}finally{l(!1),n()}},h=t.length>0?(0,ee.splitFilename)(t[0]).filename:"";return(0,o.jsx)(tZ.A,{open:!0,onClose:n,title:i("DestroyConfirm.title",{filename:h,smart_count:t.length,type:c}),content:(0,o.jsxs)(dV.default,{children:[(0,o.jsxs)(dW.default,{gutters:"disabled",size:"small",ellipsis:!1,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:dU.A})}),(0,o.jsx)(rN.default,{primary:i("DestroyConfirm.forbidden",{smart_count:t.length,type:c})})]}),(0,o.jsxs)(dW.default,{gutters:"disabled",size:"small",ellipsis:!1,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:r7.A})}),(0,o.jsx)(rN.default,{primary:i("DestroyConfirm.restore",{smart_count:t.length,type:c})})]})]}),actions:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(tQ.default,{variant:"secondary",onClick:n,label:i("DestroyConfirm.cancel")}),(0,o.jsx)(tQ.default,{variant:"primary",onClick:u,label:i("DestroyConfirm.delete"),color:"error",busy:a})]})})},dQ=e=>{let{fileId:t,isPublic:n}=e,{t:r}=(0,tG.useI18n)(),i=(0,m.useClient)(),a=(0,nN.Zp)(),{showAlert:l}=(0,na.useAlert)(),{isMobile:d}=(0,tM.default)(),c=ej(t),u=(0,m.useQuery)(c.definition,c.options),[h,p]=(0,s.useState)(!1),[f,y]=(0,s.useState)(!1),g=async()=>{try{await i.collection("io.cozy.files").restore(t),l({message:r("TrashedBanner.restoreSuccess"),severity:"secondary"})}catch(e){eO.warn(`Error while restoring file ${t}`,e),l({message:r("TrashedBanner.restoreError"),severity:"error"})}finally{p(!1)}},v=async()=>{y(!0)},_=async()=>{await (null==i?void 0:i.collection("io.cozy.files").deleteFilePermanently(t)),l({message:r("TrashedBanner.destroySuccess"),severity:"secondary"}),a(`/trash/${u.data.dir_id}`)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d$.default,{square:!0,severity:"secondary",icon:(0,o.jsx)(rF.default,{icon:oc.A,size:32}),block:d,action:n?null:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(tQ.default,{size:"small",variant:"text",label:r("TrashedBanner.restore"),onClick:g,busy:h}),(0,o.jsx)(tQ.default,{size:"small",variant:"text",label:r("TrashedBanner.destroy"),onClick:v,disabled:h})]}),children:r("TrashedBanner.text")}),f?(0,o.jsx)(dH,{files:[u.data],onCancel:()=>{y(!1)},onConfirm:_}):null]})};var dZ=n(45709),dG=n(28620);let dK=e=>{let{files:t,actions:n}=e,r=(0,s.useRef)(),{isMobile:i}=(0,tM.default)(),[a,l]=(0,s.useState)(!1),d=(0,s.useCallback)(()=>l(!0),[l]),c=(0,s.useCallback)(()=>l(!1),[l]),u=(0,s.useCallback)(()=>{if(a)return c();d()},[c,d,a]);return 0===n.length?null:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{ref:r,"data-testid":"more-menu",className:aw()({"u-ml-half":!i}),children:(0,o.jsx)(iJ,{onClick:u})}),a&&(0,o.jsx)(ir.default,{open:!0,onClose:c,ref:r,docs:t,actions:n})]})},dY=s.memo(e=>{let{onClick:t}=e,{t:n}=(0,tG.useI18n)();return(0,o.jsx)(iK.default,{"data-testid":"onlyoffice-backButton",className:"u-ml-half-s",onClick:t,size:"medium","aria-label":n("button.back"),children:(0,o.jsx)(rF.default,{icon:sk.default})})});var dJ=n(46060);let dX=(0,iM.A)({popper:{pointerEvents:"auto","& .actions-tooltip":{display:"flex",justifyContent:"flex-end",marginTop:"0.5rem","& > button":{color:"var(--white)"}}},tooltip:{backgroundColor:"var(--primaryColor)"},arrow:{color:"var(--primaryColor)"}}),d0=e=>{let{openTooltip:t}=e,n=dX(),r=(0,m.useClient)(),{t:i}=(0,tG.useI18n)(),{editorMode:a,setEditorMode:l}=dM(),d=(0,nN.Zp)(),[c,u]=(0,s.useState)(!0),h=async()=>{let{data:e}=await r.query((0,m.Q)(w)),t=(null==e?void 0:e[0])||{};await r.save({...t,_type:w,hideOOEditTooltip:!0})};return(0,o.jsx)(aZ.A,{open:c&&t,classes:n,title:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"u-flex u-flex-items-center u-mb-half",children:[(0,o.jsx)(rF.default,{icon:dJ.A,className:"u-mr-half"}),(0,o.jsx)(t0.default,{variant:"h6",color:"inherit",children:i("OnlyOffice.tooltip.title")})]}),(0,o.jsx)(t0.default,{variant:"body2",color:"inherit",children:i("OnlyOffice.tooltip.text")}),(0,o.jsxs)("div",{className:"actions-tooltip",children:[(0,o.jsx)(tQ.default,{onClick:h,variant:"text",label:i("OnlyOffice.tooltip.actions.hide")}),(0,o.jsx)(tQ.default,{onClick:()=>{u(!1)},variant:"text",label:i("OnlyOffice.tooltip.actions.ok")})]})]}),children:(0,o.jsx)(tQ.default,{className:"u-ml-half",onClick:()=>{iw()?l("view"===a?"edit":"view"):d("./paywall")},disabled:"edit"===a,startIcon:(0,o.jsx)(rF.default,{icon:rJ.default}),label:i("OnlyOffice.actions.edit")})})},d1=()=>{var e;let{isEditorModeView:t}=dM(),{data:n,...r}=(0,m.useQuery)(eC,eS),i=null==n||null==(e=n[0])?void 0:e.hideOOEditTooltip,a=!(0,m.isQueryLoading)(r)&&!i&&t&&iw();return(0,o.jsx)(d0,{openTooltip:a})},d2=()=>{let{isPublic:e}=dM();return e?(0,o.jsx)(d1,{}):(0,o.jsx)(d0,{openTooltip:!1})},d3=e=>{let{fileClass:t}=e;return(0,o.jsx)(rF.default,{className:"u-ml-half",icon:iS(t),size:32})};d3.propTypes={fileClass:tD().string.isRequired};let d4=(0,iM.A)(e=>({name:{margin:"1px 0 3px 1px"},renamable:{"&:hover":{margin:"0 0 2px",border:`1px solid ${e.palette.text.secondary}`,borderRadius:"2px",cursor:"text"}}})),d5=e=>{let{file:t,isPublic:n}=e,r=d4(),{isMobile:i}=(0,tM.default)(),{isReadOnly:a}=dM(),[l,d]=(0,s.useState)(!1),u=nK(t),h=(0,s.useCallback)(()=>d(!0),[d]),m=(0,s.useCallback)(()=>d(!1),[d]);return(0,o.jsxs)("div",{className:"fileName-Zx_7SQ u-mh-1 u-mh-half-s u-ellipsis u-flex-grow-1",children:[l?(0,o.jsx)(t0.default,{variant:"h6",noWrap:!0,children:(0,o.jsx)(aE,{className:"filename-renameInput-ce_3bJ",file:t,withoutExtension:!0,refreshFolderContent:m,onAbort:m})}):(0,o.jsx)(t0.default,{className:aw()(r.name,{[`${r.renamable}`]:!a}),variant:"h6",noWrap:!0,onClick:a?void 0:h,children:t.name}),u&&!i&&!n&&(0,o.jsx)(c.Link,{"data-testid":"onlyoffice-filename-path",to:`/folder/${t.dir_id}`,className:aS["fil-file-path"],children:(0,o.jsx)(t0.default,{variant:"caption",children:(0,o.jsx)(aF.default,{text:u})})})]})};d5.propTypes={file:tD().object.isRequired,isPublic:tD().bool};let d6=s.memo(d5),d7=()=>{let e=(0,m.useClient)();return(0,o.jsx)("div",{className:"u-h-2 u-w-2 u-ml-1",children:(0,o.jsx)("img",{className:"u-w-100 u-h-100 u-maw-2 u-mah-2",src:`${e.getStackClient().uri}/assets/images/icon-cozy-home.svg`})})};var d8=n(75945);let d9=e=>{let t,{children:n}=e,{t:r}=(0,tG.useI18n)(),i=(0,m.useClient)(),a=()=>(0,m.Q)("io.cozy.apps"),l={as:"io.cozy.apps",fetchPolicy:em},s=(t="context",{definition:()=>(0,m.Q)("io.cozy.settings").getById(t),options:{as:`io.cozy.settings/${t}`,fetchPolicy:em,singleDocData:!0}}),d=(0,m.useQuery)(a,l),c=(0,m.useQuery)(s.definition,s.options);if((0,m.isQueryLoading)(d)||(0,m.isQueryLoading)(c))return(0,o.jsx)(o.Fragment,{children:n});let u=(e=>{let{apps:t,context:n}=e,r=n&&n.attributes&&n.attributes.default_redirection,i=null;if(r){let e=r.match(/^([^/]+)\/.*/),n=e&&e[1];i=t.find(e=>e.slug===n)}else i=t.find(e=>"home"===e.slug);return i})({apps:d.data,context:c.data}),h=(0,m.generateWebLink)({cozyUrl:i.getStackClient().uri,slug:u.slug,pathname:"/",subDomainType:i.getInstanceOptions().subdomain});return(0,o.jsx)(d8.default,{app:u,href:h,children:e=>{let{onClick:t,href:i}=e;return(0,o.jsx)("a",{href:i,onClick:t,"aria-label":r("OnlyOffice.toolbar.goToHome"),children:n})}})},ce=()=>(0,o.jsx)("span",{className:"separator-ffrmrr"});var ct=n(28436);let cn=s.memo(e=>{let{file:t}=e,[n,r]=(0,s.useState)(!1),{isMobile:i}=(0,tM.default)(),a=(0,s.useCallback)(()=>r(e=>!e),[r]);return(0,o.jsxs)(o.Fragment,{children:[i?(0,o.jsx)(iK.default,{"data-testid":"onlyoffice-sharing-icon",onClick:a,size:"medium",children:(0,o.jsx)(rF.default,{icon:rA.default})}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(rS.i,{docId:t._id,size:32,onClick:a}),(0,o.jsx)(ll.w,{"data-testid":"onlyoffice-sharing-button",docId:t._id,onClick:a})]}),n&&(0,o.jsx)(ct.Z,{document:t,documentType:"Files",sharingDesc:t.name,onClose:a})]})}),cr=s.memo(e=>{let{sharingInfos:t}=e,{isMobile:n,isDesktop:r}=(0,tM.default)(),[i]=(0,c.useSearchParams)(window.location.search),{isEditorReady:a,isReadOnly:l,isTrashed:s,fileId:d,isPublic:u}=dM(),{t:h}=(0,tG.useI18n)(),{redirectBack:p,canRedirect:f}=n2({isPublic:u}),g=u?ej(d):{definition:()=>(0,m.Q)("io.cozy.files").where({_id:d}).indexFields(["_id"]).limitBy(1),options:{as:`io.cozy.files/whereById/${d}`,fetchPolicy:em,enabled:!!d}},{data:v}=(0,m.useQuery)(g.definition,g.options),_=Array.isArray(v)?v[0]:v;if(!_)return null;let{addSharingLink:b,syncSharingLink:x,createCozyLink:j,isSharingShortcutCreated:w,loading:k}=t,C=!k&&!w,S="/preview"===window.location.pathname,z=i.has("username"),F=S?b:j,A=(0,nV.gW)([!S&&dZ.a,S&&dS.e,S&&dz.y],{t:h,addSharingLink:b,syncSharingLink:x,createCozyLink:j,isSharingShortcutCreated:w}),T=u&&!n&&a&&!l&&!s&&ik(r),N=u&&!n&&C&&!z,D=!(0,y.default)("drive.onlyoffice.editor-mode-by-access.enabled");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(lI,{}),(0,o.jsxs)("div",{className:"u-flex u-flex-items-center u-flex-grow-1 u-ellipsis",children:[!n&&(0,o.jsxs)(o.Fragment,{children:[u?(0,o.jsx)(d7,{}):(0,o.jsx)(d9,{children:(0,o.jsx)(d7,{})}),(0,o.jsx)(ce,{})]}),f&&(0,o.jsx)(dY,{onClick:()=>{p()}}),!n&&_.class&&(0,o.jsx)(d3,{fileClass:_.class}),(0,o.jsx)(d6,{file:_,isPublic:u})]}),N&&(0,o.jsx)(dG.A,{link:F,isSharingShortcutCreated:w,variant:T?"secondary":"primary"}),T&&D&&(0,o.jsx)(d2,{}),u&&!z&&(0,o.jsx)(dK,{files:[_],actions:A}),!u&&a&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(cn,{file:_}),D?(0,o.jsx)(d2,{}):null]})]})}),ci=(0,iM.A)(e=>({root:{width:"100%",height:"3rem",backgroundColor:e.palette.background.paper}})),ca=s.memo(()=>{let[e]=(0,c.useSearchParams)(window.location.search),{isMobile:t}=(0,tM.default)(),{fileId:n,isPublic:r,isEditorModeView:i,isTrashed:a}=dM(),l=(0,dC.x)(),{loading:s,isSharingShortcutCreated:d}=l,u=ci(),h=!s&&d,m="/preview"===window.location.pathname,p=e.has("username"),f=r&&(!h||!m)&&!p;return(0,o.jsxs)("div",{style:{zIndex:"var(--zIndex-nav)"},children:[(i||!t)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(dL.A,{"data-testid":"onlyoffice-title",disableTypography:!0,className:"u-ellipsis u-flex u-flex-items-center u-p-0 u-pr-1",classes:u,children:(0,o.jsx)(cr,{sharingInfos:l})}),(0,o.jsx)(nH.default,{})]}),a?(0,o.jsx)("div",{style:{backgroundColor:"var(--paperBackgroundColor)"},children:(0,o.jsx)(dQ,{fileId:n,isPublic:r})}):f?(0,o.jsx)(dq.k,{}):null,t&&m&&!h&&(0,o.jsx)(dO.A,{link:l.addSharingLink})]})});var cl=n(96984);let co=s.memo(()=>{let e=(0,nN.Zp)(),{t}=(0,tG.useI18n)(),{isMobile:n}=(0,tM.default)(),{isEditorModeView:r,editorMode:i,setEditorMode:a}=dM(),l=(0,s.useCallback)(()=>{iw()?a("view"===i?"edit":"view"):e("./paywall")},[i,a,e]),d=t(r?"OnlyOffice.actions.edit":"OnlyOffice.actions.validate"),c=n?{"aria-label":d}:{variant:"extended"},u=iP({right:n?"1rem":"30px",bottom:n?"1rem":"55px"});return(0,o.jsxs)(cl.default,{className:u.root,color:"primary",onClick:l,...c,children:[(0,o.jsx)(rF.default,{icon:r?rJ.default:aQ.A,className:n?"":"u-mr-half","aria-hidden":"true"}),!n&&d]})}),cs=e=>{let t=document.getElementsByName("frameEditor")[0];t&&(t.style.height=e)},cd=e=>{let{id:t,apiUrl:n,docEditorConfig:r}=e,[i,a]=(0,s.useState)(!1),{isEditorReady:l,isReadOnly:d,isTrashed:c}=dM(),{isMobile:u,isDesktop:h}=(0,tM.default)(),m=(0,s.useCallback)(()=>{new window.DocsAPI.DocEditor("onlyOfficeEditor",r),cs("0")},[r]),p=(0,s.useCallback)(()=>{let e=document.getElementById(t);e&&e.remove(),a(!0)},[a,t]);(0,s.useEffect)(()=>{if(document.getElementById(t))return m();let e=document.createElement("script");e.id=t,e.src=n,e.async=!0,e.onload=()=>m(),e.onerror=()=>p(),document.body.appendChild(e)},[t,n,m,p]),(0,s.useEffect)(()=>{l&&cs("100%")},[l]);let f=u&&l&&!d&&!c&&ik(h);return i?(0,o.jsx)(dP,{}):(0,o.jsxs)(o.Fragment,{children:[!l&&(0,o.jsx)("div",{className:"u-flex u-flex-items-center u-flex-justify-center u-flex-grow-1",children:(0,o.jsx)(tK.default,{size:"xxlarge"})}),(0,o.jsx)("div",{id:"onlyOfficeEditor"}),f&&(0,o.jsx)(co,{})]})};cd.propTypes={id:tD().string.isRequired,apiUrl:tD().string.isRequired,docEditorConfig:tD().object.isRequired};let cc=s.memo(cd),cu=()=>{let{fileId:e,setFileDeleted:t,editorMode:n,isPublic:r}=dM(),i=(0,nN.Zp)(),a=(0,m.useClient)(),{t:l}=(0,tG.useI18n)(),[d,c]=(0,s.useState)(!1),[u,h]=(0,s.useState)(!1),{redirectLink:p,redirectBack:f}=n2({isPublic:r}),y=async()=>{c(!1),h(u);try{let r=await a.collection(j).restore(e),l=iC(r.data.id,{fromRedirect:p,fromEdit:"edit"===n});i(l),t(!1)}catch{c(!0)}finally{h(!1)}};return(0,o.jsx)(tZ.A,{open:!0,title:l("FileDeletedModal.title"),content:(0,o.jsxs)(o.Fragment,{children:[d?(0,o.jsx)(d$.default,{severity:"error",className:"u-mb-1",children:l("FileDeletedModal.error")}):null,(0,o.jsx)(t0.default,{children:l("FileDeletedModal.content")})]}),actions:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(tQ.default,{disabled:u,variant:"secondary",color:"error",label:l("FileDeletedModal.cancel"),onClick:()=>{f()}}),(0,o.jsx)(tQ.default,{busy:u,disabled:u,label:l("FileDeletedModal.confirm"),onClick:y})]})})},ch=()=>{let{officeKey:e,setFileDiverged:t,editorMode:n}=dM(),r=(0,nN.Zp)(),i=(0,m.useClient)(),{t:a}=(0,tG.useI18n)(),[l,d]=(0,s.useState)(!1),[u,h]=(0,s.useState)(!1),[p,f]=(0,s.useState)(!1),[y]=(0,c.useSearchParams)(),g=new URLSearchParams(location.search),v=y.get("redirectLink")||g.get("redirectLink"),_=async()=>{d(!1),h(!0);try{let a=await i.getStackClient().fetchJSON("POST",`/office/keys/${e}`),l=iC(a.data.id,{fromRedirect:v,fromEdit:"edit"===n});r(l),t(!1)}catch{d(!0)}finally{h(!1)}},b=()=>{location.reload()},x=()=>{f(!p)};return"view"===n?(0,o.jsx)(tZ.A,{open:!0,title:a("FileDivergedModal.viewMode.title"),content:a("FileDivergedModal.viewMode.content"),actions:(0,o.jsx)(tQ.default,{label:a("FileDivergedModal.viewMode.confirm"),onClick:b})}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(tZ.A,{open:!0,title:a("FileDivergedModal.title"),content:(0,o.jsxs)(o.Fragment,{children:[l?(0,o.jsx)(d$.default,{severity:"error",className:"u-mb-1",children:a("FileDivergedModal.error")}):null,(0,o.jsx)(t0.default,{children:a("FileDivergedModal.content")})]}),actions:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(tQ.default,{variant:"secondary",disabled:u,label:a("FileDivergedModal.cancel"),onClick:x}),(0,o.jsx)(tQ.default,{busy:u,disabled:u,label:a("FileDivergedModal.confirm"),onClick:_})]})}),p?(0,o.jsx)(tZ.A,{open:!0,title:a("FileDivergedModal.confirmReload.title"),onClose:x,content:a("FileDivergedModal.confirmReload.content"),actions:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(tQ.default,{variant:"secondary",label:a("FileDivergedModal.confirmReload.cancel"),onClick:x}),(0,o.jsx)(tQ.default,{label:a("FileDivergedModal.confirmReload.confirm"),onClick:b})]})}):null]})};var cm=n(57921);let cp=()=>{var e;let{config:t,status:n}=(()=>{let{fileId:e,driveId:t,setIsEditorReady:n,isPublic:r,username:i,isFromSharing:a,editorMode:l,isEditorModeView:o,setOfficeKey:d}=dM(),u=(0,m.useClient)().getStackClient().uri,[h]=(0,c.useSearchParams)(),[p,f]=(0,s.useState)(),[y,g]=(0,s.useState)("loading"),v=(0,cm.default)("GET",t?`/sharings/drives/${t}/office/${e}/open`:`/office/${e}/open`),{data:_,fetchStatus:b}=v,{isDesktop:x}=(0,tM.default)();return(0,s.useEffect)(()=>{g(b)},[b]),(0,s.useEffect)(()=>{f()},[o]),(0,s.useEffect)(()=>{if(!(0,m.isQueryLoading)(v)&&"error"!==b&&!p)if(((e,t)=>{let{data:n}=e;return!!t&&!t.includes(n.attributes.instance)})(_,u)){let{protocol:e,instance:t,document_id:n,subdomain:r,sharecode:i,public_name:a}=_.data.attributes,l=[["sharecode",i]];l.push(["isOnlyOfficeDocShared",!0]),l.push(["onlyOfficeDocId",n]),h.get("redirectLink")&&l.push(["redirectLink",h.get("redirectLink")]),a&&l.push(["username",a]);let o=(0,m.generateWebLink)({cozyUrl:`${e}://${t}`,searchParams:l,pathname:"/public/",slug:"drive",subDomainType:r});window.location=o}else if(ij(x)){let{attributes:e}=_.data,{onlyoffice:t,public_name:o}=e,s=(e=>{let{isPublic:t,isFromSharing:n,username:r,public_name:i}=e;return t&&!n?void 0:r||i})({isPublic:r,isFromSharing:a,username:i,public_name:o});d(t.document.key);let c=t.url,u=`${c}/web-apps/apps/api/documents/api.js`;f({serverUrl:c,apiUrl:u,docEditorConfig:{document:t.document,editorConfig:{...t.editor,mode:"edit"===t.editor.mode?l:"view",user:{name:s},customization:{reviewDisplay:"markup"}},token:t.token,documentType:t.documentType,events:{onAppReady:()=>n(!0)}}})}else g("error")},[l,v,b,_,p,f,n,r,i,a,u,x,h,d]),{config:p,status:y}})(),{isEditorModeView:r,hasFileDiverged:i,hasFileDeleted:a}=dM();if("error"===n)return(0,o.jsx)(dP,{});if("loaded"!==n||!t)return(0,o.jsx)(dR,{});let{serverUrl:l,apiUrl:d,docEditorConfig:u}=t,h=Number.isInteger(e=(0,y.default)("drive.onlyoffice.editorToolbarHeight"))?e:(0,ip.isIOS)()?68:32;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ca,{}),(0,o.jsxs)(dI.A,{style:r?{marginTop:`-${h}px`}:void 0,className:"u-flex u-flex-column u-p-0",children:[(0,o.jsx)(cc,{id:new URL(l).hostname,apiUrl:d,docEditorConfig:u}),i?(0,o.jsx)(ch,{}):null,a?(0,o.jsx)(cu,{}):null]})]})},cf=e=>{let{isPublic:t,isReadOnly:n=!1,isFromSharing:r,username:i,isInSharedFolder:a}=e,{fileId:l,driveId:s}=(0,nN.g)();return nJ(),(0,o.jsx)(dD.default,{open:!0,fullScreen:!0,transitionDuration:0,children:(0,o.jsxs)(dB,{fileId:l,driveId:s,isPublic:t,isReadOnly:n,isFromSharing:r,username:i,isInSharedFolder:a,children:[(0,o.jsx)(cp,{}),(0,o.jsx)(nN.sv,{})]})})},cy=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,[r,i]=(0,s.useState)("pending"),[a,l]=(0,s.useState)(null),{t:o}=(0,tG.useI18n)(),d=(0,m.useClient)(),c=(0,s.useMemo)(()=>({text:"docx",spreadsheet:"xlsx",slide:"pptx"})[t],[t]),u=(0,s.useMemo)(()=>({text:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",spreadsheet:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",slide:"application/vnd.openxmlformats-officedocument.presentationml.presentation"})[t],[t]),h=(0,s.useMemo)(()=>`/onlyOffice/${t}.${c}`,[t,c]),p=(0,s.useMemo)(()=>o(`OnlyOffice.createFileName.${t}`)+`.${c}`,[o,t,c]);return(0,s.useEffect)(()=>{(async()=>{let t=new FileReader;t.onloadend=async()=>{try{let{data:r}=await (0,ee.uploadFileWithConflictStrategy)(d,t.result,{name:p,dirId:e,conflictStrategy:"rename",driveId:n,contentType:u});i("loaded"),l(r.id)}catch(e){eO.error(`Creating Only Office file failed: ${e}`),i("error")}};try{let e=await fetch(h),n=await e.blob();t.readAsArrayBuffer(n)}catch(e){eO.error(`Fetching Only Office template file failed: ${e}`),i("error")}})()},[t,h,e,u,p,n,d]),{status:r,fileId:a}},cg=s.memo(e=>{let{isPublic:t=!1}=e,n=(0,nN.Zp)(),{folderId:r,fileClass:i,driveId:a}=(0,nN.g)(),{status:l,fileId:s}=cy(r,i,a),d=`/folder/${r}`;return iw()?"error"===l?(0,o.jsx)(l9,{}):"loaded"===l&&s?n(iC(s,{fromCreate:!0,fromPathname:a?`/shareddrive/${a}/${r}`:d,fromPublicFolder:t,driveId:a}),{replace:!0}):(0,o.jsx)(dD.default,{open:!0,fullScreen:!0,transitionDuration:0,children:(0,o.jsx)(dI.A,{className:"u-flex u-flex-column u-flex-items-center u-flex-justify-center",children:(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(tK.default,{size:"xxlarge",middle:!0,loadingType:"onlyOfficeCreateInProgress"})})})}):(0,o.jsx)(nN.C5,{to:a?`/onlyoffice/${a}/${r}/paywall`:`${d}/paywall`})});var cv=n(40647);let c_=e=>{let{isPublic:t=!1}=e,n=(0,nN.Zp)();return(0,o.jsx)(cv.A,{isPublic:t,onClose:()=>{n("..")}})},cb=["carbonCopy","electronicSafe"],cx=[],cj=()=>{let e=(0,nN.Zp)(),{pathname:t}=(0,nN.zy)(),{t:n,lang:r}=(0,tG.useI18n)(),{isMobile:i}=(0,tM.default)(),a=(0,m.useClient)(),{pushModal:l,popModal:s}=nb(),{isSelectionBarVisible:d,toggleSelectAllItems:c,isSelectAll:u}=rj(),h=(0,tX.r)(),{allLoaded:p,refresh:f,isOwner:g,byDocId:v}=h,{isNativeFileSharingAvailable:_,shareFilesNative:b}=(0,ni.zI)(),x=(0,I.wA)();nJ();let{showAlert:j}=(0,na.useAlert)(),w=a5({columnsNames:a4({isMobile:i,desktopExtraColumnsNames:cb,mobileExtraColumnsNames:cx}),queryBuilder:ey}),k=ef(),C=(0,m.useQuery)(k.definition,k.options);rw({client:a,items:(null==C?void 0:C.data)||[],sharingContext:h,allowCopy:!1});let S=(0,nV.gW)([am,rP,nU.D,r$,rU,rX,a_,af,ax,ie,rU,r6,rU,rY],{client:a,t:n,lang:r,pushModal:l,popModal:s,refresh:f,dispatch:x,navigate:e,pathname:t,hasWriteAccess:!0,canMove:!0,isPublic:!1,allLoaded:p,showAlert:j,isOwner:g,byDocId:v,isMobile:i,isNativeFileSharingAvailable:_,shareFilesNative:b,selectAll:()=>c(C.data),isSelectAll:u});return(0,o.jsx)(lG,{children:(0,o.jsxs)(nP.UC,{className:i?"":"u-pt-1",children:[(0,o.jsxs)(sE,{children:[(0,o.jsx)(sF,{path:[{name:n("breadcrumb.title_recent")}]}),(0,o.jsx)(lc,{canUpload:!1,canCreateFolder:!1})]}),(0,y.default)("drive.virtualization.enabled")&&!i?(0,o.jsx)(du,{actions:S,queryResults:[C],withFilePath:!0,extraColumns:w}):(0,o.jsx)(sm,{actions:S,queryResults:[C],canSort:!1,withFilePath:!0,extraColumns:w}),(0,o.jsx)(nN.sv,{}),i&&(0,o.jsx)(au,{canCreateFolder:!0,canUpload:!0,disabled:!1,displayedFolder:null,isSelectionBarVisible:d,isPublic:!1,refreshFolderContent:()=>{},children:(0,o.jsx)(a7,{noSidebar:!1})})]})})},cw=()=>{let e=ef(),t=(0,m.useQuery)(e.definition,e.options),n=(0,nN.Zp)();if(!t.data)return(0,o.jsx)(dy,{});{let e=t.data;return(0,o.jsx)(dT,{files:e,filesQuery:t,onClose:()=>n("/recent"),onChange:e=>n(`/recent/file/${e}`)})}},ck=()=>{let e=(0,nN.Zp)(),[t]=tF(),n=nX(),{driveId:r}=(0,nN.g)(),{hasWriteAccess:i}=(0,tX.r)(),a=(e=>{let{currentFolderId:t,type:n,sortAttribute:r,sortOrder:i,driveId:a}=e;return{definition:()=>(0,m.Q)("io.cozy.files").where({dir_id:t,driveId:a,type:n,[r]:{$gt:null}}).indexFields(["dir_id","type","driveId",r]).sortBy([{dir_id:i},{driveId:i},{type:i},{[r]:i}]).include(["encryption"]).limitBy(100),options:{as:eh(n,t,r,i,a),fetchPolicy:em}}})({currentFolderId:n,type:"file",sortAttribute:t.attribute,sortOrder:t.order,driveId:r}),l=(0,m.useQuery)(a.definition,a.options),s=l.data;return s?(0,o.jsx)(dT,{files:s,filesQuery:l,onClose:()=>e(`/shareddrive/${r}/${n}`),onChange:t=>e(`/shareddrive/${r}/${n}/file/${t}`),viewerProps:{panel:{sharing:{disabled:!i(n,r)}}}}):(0,o.jsx)(dy,{})};var cC=n(95678),cS=n(11319);let cz=e=>{let{tab:t,setTab:n}=e,r=["sharings_tab_all","sharings_tab_drives"],{isMobile:i}=(0,tM.default)(),{t:a}=(0,tG.useI18n)(),l=(e,t)=>{n(t)};return(0,o.jsx)(o.Fragment,{children:i?(0,o.jsx)(cS.A,{indicatorColor:"primary",textColor:"primary",value:t,narrowed:!0,onChange:l,children:r.map(e=>(0,o.jsx)(cC.A,{label:a(`toolbar.${e}`)},e))}):(0,o.jsx)(li.A,{variant:"rounded",value:t,exclusive:!0,onChange:l,className:aw()("u-mb-1-half",sD["fil-topbar"]),children:r.map((e,n)=>(0,o.jsxs)(lr.A,{value:n,rounded:!0,className:aw()(sD["fil-tab-item"],"u-ml-0",{[sD["fil-tab-item--selected"]]:n===t}),children:[(0,o.jsx)(rF.default,{icon:"sharings_tab_all"===e?io.default:ic.A,className:aw()(sD["fil-tab-icon"],"u-mr-1")}),(0,o.jsx)(t0.default,{className:aw()(sD["fil-tab-name"]),children:a(`toolbar.${e}`)})]},e))})})};var cF=n(30084);let cA=e=>{let t=t=>(0,o.jsx)(cF.A,{children:n=>{let{sharedDocuments:r,allLoaded:i}=n;return(0,o.jsx)(e,{...t,sharedDocumentIds:r,allLoaded:i})}});return t.displayName=`withSharedDocumentIds(${e.displayName})`,t},cT=e=>{let{sharedDrive:t,client:n,dispatch:r,showAlert:i,t:a}=e,l=a("toolbar.delete_shared_drive"),d=rV.default;return{name:"deleteSharedDrive",label:l,icon:d,displayCondition:e=>t?t.owner:rB(e[0]),action:async e=>{let l=t?rE(t):e[0]._id;if(!l)return void i({message:a("alert.folder_generic"),severity:"error"});let{data:s}=await n.query((0,m.Q)("io.cozy.files").getById(l));s?r(M((0,o.jsx)(rK,{files:[s],afterConfirmation:()=>i({message:a("alert.trash_shared_drive_success"),severity:"success"})}))):i({message:a("alert.folder_generic"),severity:"error"})},Component:(0,s.forwardRef)(function(e,t){return(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:d,className:"u-error"})}),(0,o.jsx)(rN.default,{primary:l})]})})}},cN=e=>{let{sharedDrive:t,client:n,showAlert:r,t:i}=e,a=i("toolbar.menu_leave_shared_drive"),l=rV.default;return{name:"leaveSharedDrive",label:a,icon:l,displayCondition:e=>{let n;return t?!t.owner:(n=e[0])&&!!n.driveId},action:async e=>{let a=t?t.id:e[0].driveId;await n.collection("io.cozy.sharings").revokeSelf({_id:a}),r({message:i("Files.share.revokeSelf.success"),severity:"success"})},Component:(0,s.forwardRef)(function(e,t){return(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:l,className:"u-error"})}),(0,o.jsx)(rN.default,{primary:a})]})})}},cD=e=>{let{sharedDrive:t,navigate:n,pathname:r,t:i}=e,a=i("toolbar.menu_manage_access"),l=i4.default;return{name:"manageAccess",label:a,icon:l,displayCondition:e=>t?t.owner:rB(e[0]),action:e=>{let i=t?rE(t):e[0]._id;i?"/sharings"===r?rD({navigate:n,pathname:r,files:e,path:"share"}):n(`/folder/${i}/share`):n("/sharings")},Component:(0,s.forwardRef)(function(e,t){return(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:l})}),(0,o.jsx)(rN.default,{primary:a})]})})}},cI=()=>{let e=(0,m.useClient)(),[t,n]=(0,s.useState)(!1),[r,i]=(0,s.useState)(!1),[a,l]=(0,s.useState)([]),o=ep({currentFolderId:ea,type:"directory",sortAttribute:tS.attribute,sortOrder:tS.order}),{lastUpdate:d}=(0,m.useQuery)(o.definition,o.options);return(0,s.useEffect)(()=>{let t=!1;return(async()=>{n(!0);try{let{data:n}=await e.collection("io.cozy.sharings").fetchSharedDrives();t||l(n)}finally{t||(n(!1),i(!0))}})(),()=>{t=!0}},[e,d]),{isLoading:t,isLoaded:r,sharedDrives:a}},cE=["carbonCopy","electronicSafe"],cB=[],cM=cA(e=>{let{sharedDocumentIds:t=[]}=e,n=(0,nN.Zp)(),{pathname:r,search:i}=(0,nN.zy)(),a=Number(new URLSearchParams(i).get("tab"))||0,{t:l,lang:d}=(0,tG.useI18n)(),{isMobile:c}=(0,tM.default)(),u=(0,m.useClient)(),{pushModal:h,popModal:p}=nb(),{isSelectionBarVisible:f,toggleSelectAllItems:g,isSelectAll:v}=rj(),_=(0,tX.r)(),{allLoaded:b,refresh:x,isOwner:j}=_,{isNativeFileSharingAvailable:w,shareFilesNative:k}=(0,ni.zI)(),{sharedDrives:C}=cI(),S=(0,I.wA)();nJ();let{showAlert:z}=(0,na.useAlert)(),[F,A]=(0,s.useState)(a),T=(0,y.default)("drive.shared-drive.enabled"),N=a5({columnsNames:a4({isMobile:c,desktopExtraColumnsNames:cE,mobileExtraColumnsNames:cB}),queryBuilder:e_,sharedDocumentIds:t}),D=(0,s.useMemo)(()=>ev({ids:t,enabled:b}),[t,b]),E=(0,m.useQuery)(D.definition,D.options),B=(0,s.useMemo)(()=>{var e,t;if(!T){let e=(null==(t=E.data)?void 0:t.filter(e=>e.dir_id!==ea))||[];return{...E,data:e,count:e.length}}let n=(C||[]).map(e=>{var t,n,r,i,a,l;let[o,s]=[null==(r=e.rules)||null==(n=r[0])||null==(t=n.values)?void 0:t[0],null==(a=e.rules)||null==(i=a[0])?void 0:i.title],d=null==(l=E.data)?void 0:l.find(t=>{var n,r,i,a;return(null==(a=t.relationships)||null==(i=a.referenced_by)||null==(r=i.data)||null==(n=r[0])?void 0:n.id)===e.id});if(d&&j(null==d?void 0:d.id))return d;let c={type:"directory",name:s,dir_id:ea,driveId:e.id};return{...d,_id:o,id:ea,_type:"io.cozy.files",path:`/Drives/${s}`,...c,attributes:c}}),r=(null==(e=E.data)?void 0:e.filter(e=>e.dir_id!==ea))||[],i=1===F?n:[...n,...r];return{...E,data:i,count:i.length}},[C,E,F,j,T]);rw({onPaste:()=>x(),client:u,items:(null==B?void 0:B.data)||[],sharingContext:_,allowCopy:!1});let M=(0,nV.gW)([am,rP,nU.D,r$,rU,rX,a_,af,ax,ie,rU,r6,cD,rU,cT,cN],{client:u,t:l,lang:d,pushModal:h,popModal:p,refresh:x,dispatch:S,navigate:n,pathname:r,hasWriteAccess:!0,canMove:!0,isPublic:!1,allLoaded:b,showAlert:z,isMobile:c,isNativeFileSharingAvailable:w,shareFilesNative:k,selectAll:()=>g(E.data),isSelectAll:v});return(0,o.jsx)(lG,{children:(0,o.jsxs)(nP.UC,{className:c?"":"u-pt-1",children:[(0,o.jsxs)(sE,{children:[(0,o.jsx)(sF,{path:[{name:l("breadcrumb.title_sharings")}]}),(0,o.jsx)(lc,{canUpload:!1,canCreateFolder:!1})]}),T&&(0,o.jsx)(cz,{tab:F,setTab:A}),b&&(0,m.hasQueryBeenLoaded)(E)?(0,o.jsxs)(o.Fragment,{children:[(0,y.default)("drive.virtualization.enabled")&&!c?(0,o.jsx)(du,{actions:M,queryResults:[B],withFilePath:!0,extraColumns:N}):(0,o.jsx)(sm,{actions:M,queryResults:[B],canSort:!1,withFilePath:!0,extraColumns:N}),(0,o.jsx)(nN.sv,{})]}):(0,o.jsx)(sl,{}),c&&(0,o.jsx)(au,{canCreateFolder:!0,canUpload:!0,disabled:!1,displayedFolder:null,isSelectionBarVisible:f,isPublic:!1,refreshFolderContent:()=>{},children:(0,o.jsx)(a7,{noSidebar:!1})})]})})}),cP=cA(e=>{let{sharedDocumentIds:t}=e,n=nX(),r=ev({ids:t}),i=(0,m.useQuery)(r.definition,r.options),a=(0,nN.Zp)();if(!i.data)return(0,o.jsx)(dy,{});{let e=i.data.filter(e=>"directory"!==e.type),t=n?`/sharings/${n}`:"/sharings";return(0,o.jsx)(dT,{files:e,filesQuery:i,onClose:()=>a(t),onChange:e=>a(`${t}/file/${e}`)})}}),cR=["carbonCopy","electronicSafe"],cq=[],cO=e=>{let{sharedDocumentIds:t}=e,n=(0,nN.Zp)(),{pathname:r}=(0,nN.zy)(),i=nX(),{isMobile:a}=(0,tM.default)(),{t:l}=(0,tG.useI18n)(),{showAlert:d}=(0,na.useAlert)(),c=(0,m.useClient)(),{allLoaded:u,hasWriteAccess:h,refresh:p,isOwner:f,byDocId:y}=(0,tX.r)(),{pushModal:g,popModal:v}=nb(),_=(0,I.wA)(),{displayedFolder:b,isNotFound:x}=n0(),{toggleSelectAllItems:j,isSelectAll:w}=rj();nJ();let k=a5({columnsNames:a4({isMobile:a,desktopExtraColumnsNames:cR,mobileExtraColumnsNames:cq}),queryBuilder:ex,currentFolderId:i}),[C]=tF(i),S=ep({currentFolderId:i,type:"directory",sortAttribute:C.attribute,sortOrder:C.order}),z=ep({currentFolderId:i,type:"file",sortAttribute:C.attribute,sortOrder:C.order}),F=(0,m.useQuery)(S.definition,S.options),A=(0,m.useQuery)(z.definition,z.options),T=h(i),N=(0,nV.gW)([am,rP,r$,rY,rX,a_,r4,r6],{client:c,t:l,pushModal:g,popModal:v,refresh:p,dispatch:_,navigate:n,showAlert:d,pathname:r,hasWriteAccess:T,canMove:!0,allLoaded:u,isOwner:f,byDocId:y,selectAll:()=>j([F,A].map(e=>e.data).flat()),isSelectAll:w}),D=(0,s.useMemo)(()=>({name:l("breadcrumb.title_sharings")}),[l]);return(0,o.jsx)(lG,{isNotFound:x,children:(0,o.jsxs)(ly,{disabled:!T,displayedFolder:b,children:[(0,o.jsxs)(sE,{children:[i&&(0,o.jsx)(sN,{sharedDocumentIds:t,rootBreadcrumbPath:D,currentFolderId:i}),(0,o.jsx)(lc,{canUpload:T,canCreateFolder:T})]}),(0,o.jsx)(sm,{actions:N,queryResults:[F,A],canSort:!0,extraColumns:k,currentFolderId:i}),(0,o.jsx)(nN.sv,{})]})})},cL=e=>(0,o.jsx)(cF.A,{children:t=>{let{sharedDocuments:n}=t;return(0,o.jsx)(cO,{...e,sharedDocumentIds:n})}}),c$=()=>{let e=nX(),[t]=tF(e),n=(0,nN.Zp)(),r=eb({currentFolderId:e,type:"file",sortAttribute:t.attribute,sortOrder:t.order}),i=(0,m.useQuery)(r.definition,r.options);if(!i.data)return(0,o.jsx)(dy,{});{let t=i.data;return(0,o.jsx)(dT,{files:t,filesQuery:i,onClose:()=>n(`/trash/${e}`),onChange:t=>n(`/trash/${e}/file/${t}`)})}},cU=e=>{let{currentFolderId:t}=e,{t:n}=(0,tG.useI18n)(),r=(0,nN.Zp)(),i=sT({currentFolderId:t,rootBreadcrumbPath:(0,s.useMemo)(()=>({id:er,name:n("breadcrumb.title_trash")}),[n])}),a=[{id:en,name:n("breadcrumb.title_drive")},...i],l=(0,s.useCallback)(e=>{let{id:t}=e;t===en?r(`/folder/${en}`):r(`/trash/${t}`)},[r]);return(0,o.jsx)(sF,{path:a,onBreadcrumbClick:l,opening:!1})},cV=e=>{let{actions:t,docs:n=[],disabled:r}=e,[i,a]=(0,s.useState)(!1),l=(0,s.useRef)(null),d=(0,s.useCallback)(()=>a(!0),[a]),c=(0,s.useCallback)(()=>a(!1),[a]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{ref:l,children:(0,o.jsx)(iJ,{onClick:d,disabled:r})}),i?(0,o.jsx)(ir.default,{open:!0,ref:l,onClose:c,actions:t,docs:n,anchorOrigin:{strategy:"fixed",vertical:"bottom",horizontal:"right"}}):null]})},cW=e=>{let{t,showSelectionBar:n}=e,r=t("toolbar.menu_select"),i=an.A;return{name:"selectable",label:r,icon:i,action:()=>{n()},Component:(0,s.forwardRef)(function(e,t){return(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:i})}),(0,o.jsx)(rN.default,{primary:r})]})})}},cH=e=>{let{t,navigate:n}=e,r=t("TrashToolbar.emptyTrash"),i=rV.default;return{name:"emptyTrash",label:r,icon:i,action:()=>{n("empty")},Component:(0,s.forwardRef)(function(e,t){return(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:i,color:"var(--errorColor)"})}),(0,o.jsx)(rN.default,{primary:r,primaryTypographyProps:{color:"error"}})]})})}},cQ=()=>{let{t:e}=(0,tG.useI18n)(),{isMobile:t}=(0,tM.default)(),n=(0,nN.Zp)(),{showSelectionBar:r,isSelectionBarVisible:i}=rj(),a=(0,nV.gW)([cW,cH],{t:e,showSelectionBar:r,navigate:n});return t?(0,o.jsxs)(D.BarRight,{children:[(0,o.jsx)(le,{}),(0,o.jsx)(cV,{actions:a,docs:[]})]}):(0,o.jsxs)("div",{className:aw()("u-flex","u-flex-items-center","u-ml-auto"),role:"toolbar",children:[(0,o.jsx)(la,{className:"u-mr-half"}),(0,o.jsx)(tQ.default,{variant:"secondary",color:"error",onClick:()=>{n("empty")},disabled:i,startIcon:(0,o.jsx)(rF.default,{icon:rV.default}),label:e("TrashToolbar.emptyTrash")})]})},cZ=e=>{let{t,navigate:n,pathname:r,search:i}=e,a=t("SelectionBar.destroy"),l=rV.default;return{name:"destroy",label:a,icon:l,action:e=>{rI({files:e,pathname:r,navigate:n,path:"destroy",search:i})},Component:(0,s.forwardRef)(function(e,t){return(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:l,color:"var(--errorColor)"})}),(0,o.jsx)(rN.default,{primary:a,primaryTypographyProps:{color:"error"}})]})})}},cG=["carbonCopy","electronicSafe"],cK=[],cY=()=>{let{isMobile:e}=(0,tM.default)(),t=(0,nN.Zp)(),{pathname:n}=(0,nN.zy)(),{isSelectionBarVisible:r,toggleSelectAllItems:i,isSelectAll:a}=rj(),l=nX(),{t:s}=(0,tG.useI18n)(),{refresh:d}=(0,tX.r)(),c=(0,m.useClient)();nJ();let{displayedFolder:u,isNotFound:h}=n0(),p=a5({columnsNames:a4({isMobile:e,desktopExtraColumnsNames:cG,mobileExtraColumnsNames:cK}),queryBuilder:ex,currentFolderId:l}),[f]=tF(l),g=eb({currentFolderId:l,type:"directory",sortAttribute:f.attribute,sortOrder:f.order}),v=eb({currentFolderId:l,type:"file",sortAttribute:f.attribute,sortOrder:f.order,limit:50}),_=(0,m.useQuery)(g.definition,g.options),b=(0,m.useQuery)(v.definition,v.options),x=(0,nV.gW)([am,r8,cZ],{client:c,t:s,refresh:d,navigate:t,pathname:n,selectAll:()=>i([_,b].map(e=>e.data).flat()),isSelectAll:a});return(0,o.jsx)(lG,{isNotFound:h,children:(0,o.jsxs)(nP.UC,{className:e?"":"u-pt-1",children:[(0,o.jsxs)(sE,{children:[(0,o.jsx)(cU,{currentFolderId:l}),(0,o.jsx)(cQ,{})]}),(0,y.default)("drive.virtualization.enabled")&&!e?(0,o.jsx)(du,{actions:x,queryResults:[_,b],currentFolderId:l,withFilePath:!0,extraColumns:p,sortOrder:f}):(0,o.jsx)(sm,{currentFolderId:l,displayedFolder:u,actions:x,queryResults:[_,b],canSort:!0,extraColumns:p}),(0,o.jsx)(nN.sv,{}),e&&(0,o.jsx)(au,{canCreateFolder:!0,canUpload:!0,disabled:!1,displayedFolder:u,isSelectionBarVisible:r,isPublic:!1,refreshFolderContent:()=>{},children:(0,o.jsx)(a7,{noSidebar:!1})})]})})};var cJ=n(8039);let cX={HistoryRowRevisionLoader:"HistoryRowRevisionLoader-s7WQmY",historyRowRevisionLoader:"HistoryRowRevisionLoader-s7WQmY"},c0=e=>{let{file:t,revisions:n,client:r,f:i,t:a,revisionsFetchStatus:l}=e,s=r.collection("io.cozy.files",{driveId:t.driveId}),d=(0,m.useCapabilities)(r),c=ed()(d,"capabilities.file_versioning"),u=(0,nN.Zp)();return(0,o.jsx)(aT.A,{onClose:()=>u("../"),open:!0,title:t.name,content:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t0.default,{variant:"caption",className:cX.HistoryRowCaption,children:["loading"===d.fetchStatus&&(0,o.jsx)("span",{children:a("History.loading")}),"loaded"===d.fetchStatus&&c&&(0,o.jsx)("span",{children:a("History.description")}),("failed"===d.fetchStatus||!c&&"loading"!==d.fetchStatus)&&(0,o.jsx)("span",{children:a("History.noFileVersionEnabled")})]}),(0,o.jsx)(cJ.A,{tag:a("History.current_version"),primaryText:i(t.updated_at,"dd LLLL - HH:mm"),secondaryText:s.getBeautifulSize(t),downloadLink:()=>{s.download(t)}}),"loading"===l&&(0,o.jsx)("div",{className:cX.HistoryRowRevisionLoader,children:(0,o.jsx)(tK.default,{size:"xxlarge"})}),"loaded"===l&&n.map(e=>(0,o.jsx)(cJ.A,{primaryText:i(e.updated_at,"dd LLLL - HH:mm"),secondaryText:s.getBeautifulSize(e),downloadLink:()=>{s.download(t,e.id,f.CozyFile.generateFileNameForRevision(t,e,i))}},e._id))]})})};c0.propTypes={file:tD().object.isRequired,revisions:tD().array,client:tD().object.isRequired,f:tD().func.isRequired,t:tD().func.isRequired,revisionsFetchStatus:tD().string.isRequired};let c1=(0,nE.A)()((0,m.withClient)(c0)),c2=()=>{let{fileId:e,driveId:t}=(0,nN.g)();return(0,o.jsx)(m.Query,{query:()=>(0,m.Q)("io.cozy.files").getById(e).sharingById(t),children:t=>{let{data:n,fetchStatus:r}=t;return(0,o.jsx)(m.Query,{query:t=>t.all("io.cozy.files.versions").where({relationships:{file:{data:{_id:e}}},updated_at:{$gt:null}}).sortBy([{"relationships.file.data._id":"desc"},{updated_at:"desc"}]).indexFields(["relationships.file.data._id","updated_at"]),children:e=>{let{data:t,fetchStatus:i}=e;return"loaded"===r?(0,o.jsx)(c1,{revisions:t,file:n,revisionsFetchStatus:i,fileFetchStatus:r}):null}})}})};var c3=n(68510),c4=n(95271),c5=n(88025),c6=n(45588);c3.T({dsn:"https://05f3392b39bb4504a179c95aa5b0e8f6@errors.cozycloud.cc/41",environment:"production",release:_.version,integrations:[c4.q({levels:["error"]}),c5.jS({useEffect:s.useEffect,useLocation:nN.zy,useNavigationType:nN.wQ,createRoutesFromChildren:nN.AV,matchRoutes:c6.ue})],tracesSampleRate:.1,ignoreErrors:[/^Warning: /]});let c7=c5.oW(nN.BV),c8=e=>{let{file:t,disabled:n=!1,onClick:r,showDivider:i=!1}=e,{f:a,t:l}=(0,tG.useI18n)(),{isMobile:s}=(0,tM.default)(),d=a(new Date(t.updated_at),l("table.row_update_format")),c=t.size?(0,oR.O)(t.size,{base:10}):void 0,u=(0,ee.isDirectory)(t)?void 0:`${d}${c?` - ${c}`:""}`,{title:h}=nY(t,l);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(dW.default,{button:!0,onClick:()=>{r(t)},disabled:n,gutters:s?"default":"double",children:[(0,o.jsx)(rT.default,{className:"u-pos-relative",children:(0,o.jsx)(oN,{file:t,showSharedBadge:!0,componentsProps:{sharedBadge:{className:"icon-shared-U2Cwcs"}}})}),(0,o.jsx)(rN.default,{primary:h,secondary:u})]}),i&&(0,o.jsx)(nH.default,{})]})},c9=e=>{let{isEncrypted:t,currentFolderId:n,visible:r,afterSubmit:i,afterAbort:a}=e,{isMobile:l}=(0,tM.default)(),s=(0,I.wA)(),{showAlert:d}=(0,na.useAlert)(),{t:c}=(0,tG.useI18n)(),u=(0,nn.Zx)(),h=(0,m.useClient)();return r?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(dW.default,{gutters:l?"default":"double",children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:t?ia:io.default,size:32})}),(0,o.jsx)(aD,{onSubmit:e=>{s(tx(h,u,e,n,{isEncryptedFolder:t,showAlert:d,t:c})),"function"==typeof i&&i()},onAbort:e=>{e&&d({message:c("alert.folder_abort"),severity:"secondary"}),"function"==typeof a&&a()}})]}),(0,o.jsx)(nH.default,{})]}):null},ue=e=>{let{onClick:t,isLoading:n,text:r}=e;return(0,o.jsx)(aC.Hj,{className:aw()(aS["fil-content-row"],aS["fil-content-row--center"]),children:(0,o.jsx)(tQ.default,{variant:"secondary",onClick:t,label:n?(0,o.jsx)(tK.default,{noMargin:!0}):r})})};ue.propTypes={onClick:tD().func,isLoading:tD().bool,text:tD().string.isRequired},ue.defaultProps={onClick:null,isLoading:!1};let ut=(0,nE.A)()(e=>{let{t,...n}=e;return(0,o.jsx)(ue,{text:t("table.load_more"),...n})}),un=e=>{let{hasMore:t,fetchMore:n}=e;return t?(0,o.jsx)(ut,{onClick:n,isLoading:!1}):null};var ur=n(79293);let ui=e=>{let{fetchStatus:t,hasNoData:n,children:r}=e,{isMobile:i}=(0,tM.default)(),a=i?"default":"double";return"loading"===t?(0,o.jsx)(o.Fragment,{children:Array.from({length:8},(e,t)=>(0,o.jsx)(ur.default,{gutters:a,hasSecondary:!0,divider:7!==t},`key_file_placeholder_${t}`))}):"failed"===t?(0,o.jsx)(l9,{}):"loaded"===t&&n?(0,o.jsx)(l5,{canUpload:!1}):(0,o.jsx)(o.Fragment,{children:r})},ua=e=>{let t,{folder:n,isFolderCreationDisplayed:r,hideFolderCreation:i,entries:a,navigateTo:l,showNextcloudFolder:d}=e,c=(0,m.useClient)(),u=(t=n._id,{definition:()=>(0,m.Q)("io.cozy.files").where({dir_id:t,type:{$gt:null},name:{$gt:null}}).partialIndex({_id:{$nin:[ea,er]}}).indexFields(["dir_id","type","name"]).sortBy([{dir_id:"asc"},{type:"asc"},{name:"asc"}]).limitBy(100),options:{as:`moveOrImport-${t}`,fetchPolicy:p().fetchPolicies.olderThan(54e4)}}),{fetchStatus:h,data:f,hasMore:y,fetchMore:g}=(0,m.useQuery)(u.definition,u.options),v=(e=>{let{id:t,enabled:n=!1}=e;return{definition:()=>(0,m.Q)("io.cozy.files").getById(t),options:{as:"io.cozy.files/"+t,fetchPolicy:em,singleDocData:!1,enabled:n}}})({id:"io.cozy.files.shared-drives-dir",enabled:n._id===en}),_=(0,m.useQuery)(v.definition,v.options),b=!!eA(n),x=(0,s.useMemo)(()=>n._id===en&&d?[..."loaded"===_.fetchStatus?_.data??[]:[],...f??[]]:[...f??[]],[f,_,n,d]),j=async()=>{let e=ej(n.dir_id),t=await (null==c?void 0:c.fetchQueryAndGetFromState({definition:e.definition(),options:e.options}));if(!t.data)throw Error("Parent folder not found");l(t.data)},w=e=>{var t;(0,ee.isDirectory)(e)&&l(e),"io.cozy.files"===e._type&&(null==(t=e.cozyMetadata)?void 0:t.createdByApp)==="nextcloud"&&e.cozyMetadata.sourceAccount&&l(ri({sourceAccount:e.cozyMetadata.sourceAccount,instanceName:e.metadata.instanceName}))};return(0,o.jsxs)(dV.default,{children:[(0,o.jsx)(c9,{isEncrypted:b,currentFolderId:n._id,visible:r,afterSubmit:i,afterAbort:i}),(0,o.jsxs)(ui,{fetchStatus:h,hasNoData:0===x.length,children:[(0,o.jsx)(sd,{folder:n,onDismiss:j,children:x.map((e,t)=>(0,o.jsx)(c8,{file:e,disabled:rn(a,e),onClick:w,showDivider:t!==x.length-1},e._id))}),(0,o.jsx)(un,{hasMore:y,fetchMore:g})]})]})},ul=e=>{let{folder:t,entries:n,navigateTo:r}=e,i=ew({sourceAccount:t.cozyMetadata.sourceAccount,path:t.path}),{fetchStatus:a,data:l}=(0,m.useQuery)(i.definition,i.options),s=l??[],d=e=>{(0,ee.isDirectory)(e)&&r(e)};return(0,o.jsx)(dV.default,{children:(0,o.jsx)(ui,{fetchStatus:a,hasNoData:0===s.length,children:s.map((e,t)=>(0,o.jsx)(c8,{file:e,disabled:rn(n,e),onClick:d,showDivider:t!==s.length-1},e._id))})})},uo=e=>{let{folder:t,entries:n,navigateTo:r,isFolderCreationDisplayed:i,hideFolderCreation:a,showNextcloudFolder:l}=e;return"io.cozy.remote.nextcloud.files"===t._type?(0,o.jsx)(ul,{folder:t,entries:n,navigateTo:r}):(0,o.jsx)(ua,{folder:t,isFolderCreationDisplayed:i,hideFolderCreation:a,entries:n,navigateTo:r,showNextcloudFolder:l})},us=e=>{let{onConfirm:t,onClose:n,entries:r,folder:i,isBusy:a=!1,confirmLabel:l,cancelLabel:s,canPickEntriesParentFolder:d}=e,{t:c}=(0,tG.useI18n)(),u=l||c("Move.action"),h=s||c("Move.cancel"),m=a||"io.cozy.files.shared-drives-dir"===i._id||!d&&!!i&&r.every(e=>e.dir_id?e.dir_id===i._id:e._type===i._type&&!!e.path&&rt(e.path)===i.path);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(tQ.default,{variant:"secondary",label:h,onClick:n}),(0,o.jsx)(tQ.default,{label:u,onClick:()=>{t(i)},disabled:m,busy:a})]})};var ud=n(10093);let uc=e=>{let{entries:t}=e;if(1===t.length){let e=t[0];return e.class?(0,o.jsx)(oN,{file:e,isEncrypted:!1,isInSyncFromSharing:!1}):e.name&&e.mime?(0,o.jsx)(rF.default,{icon:oS(!1,e.name,e.mime),size:32}):(0,o.jsx)(rF.default,{icon:io.default,size:32})}return t.length>1?(0,o.jsx)(aJ.A,{children:(0,o.jsx)(ud.A,{count:t.length})}):null},uu={marginLeft:"2rem",marginRight:"4rem",marginTop:"1rem",marginBottom:"1rem",background:"var(--contrastBackgroundColor)",display:"flex",alignItems:"center",gap:"1rem"},uh=e=>{let{entries:t,title:n,subTitle:r}=e,{t:i}=(0,tG.useI18n)(),a=n||i("Move.title",{smart_count:t.length}),l=r||i("Move.to");return(0,o.jsxs)(oq.A,{inset:!0,style:uu,children:[(0,o.jsx)(uc,{entries:t}),(0,o.jsxs)("div",{className:"u-ellipsis",children:[(0,o.jsx)(t0.default,{variant:"h6",noWrap:!0,children:1!==t.length?a:t[0].name}),(0,o.jsx)(t0.default,{variant:"caption",color:"textSecondary",noWrap:!0,children:l})]})]})};var um=n(2072);let up=e=>{var t;let{navigateTo:n,folder:r,showFolderCreation:i,canCreateFolder:a}=e,{t:l}=(0,tG.useI18n)(),d=(0,m.useClient)(),{isMobile:c}=(0,tM.default)(),[u,h]=(0,s.useState)(!1),p=r._id!==en,{instanceName:f}=rs({sourceAccount:null==(t=r.cozyMetadata)?void 0:t.sourceAccount}),y=(0,s.useCallback)(async()=>{h(!0),n(await rl(d,r,{instanceName:f})),h(!1)},[d,r,n,f]),g=r._id===en?l("breadcrumb.title_drive"):r.name,v=a&&"io.cozy.remote.nextcloud.files"!==r._type;return(0,o.jsxs)("div",{style:{height:"3rem"},className:aw()("u-flex u-flex-items-center",c?"":"u-mh-1"),children:[p?(0,o.jsx)(sC,{onClick:y,disabled:u}):null,(0,o.jsx)(t0.default,{variant:"h4",className:p?"":"u-ml-1",children:g}),v?(0,o.jsx)(iK.default,{className:"u-ml-auto",onClick:i,"aria-label":l("Move.addFolder"),children:(0,o.jsx)(rF.default,{icon:um.A})}):null]})},uf=(0,iM.A)({paper:{height:"100%","& .MuiDialogContent-root":{padding:"0"},"& .MuiDialogTitle-root":{padding:"0"}}}),uy=e=>{let{currentFolder:t,entries:n,onConfirm:r,onClose:i,isBusy:a,canCreateFolder:l=!0,slotProps:d,showNextcloudFolder:c=!1,canPickEntriesParentFolder:u=!1}=e,[h,m]=(0,s.useState)(t),[p,f]=(0,s.useState)(!1),y=uf(),g=e=>{m(e),f(!1)};return(0,o.jsx)(iA.A,{open:!0,onClose:i,size:"large",classes:{paper:y.paper},title:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(uh,{entries:n,...null==d?void 0:d.header}),(0,o.jsx)(up,{navigateTo:g,folder:h,canCreateFolder:l,showFolderCreation:()=>{f(!0)}})]}),content:(0,o.jsx)(uo,{folder:h,navigateTo:g,entries:n,isFolderCreationDisplayed:p,hideFolderCreation:()=>{f(!1)},showNextcloudFolder:c}),actions:(0,o.jsx)(us,{onConfirm:r,onClose:i,entries:n,folder:h,isBusy:a,canPickEntriesParentFolder:u,...null==d?void 0:d.footer})})},ug=()=>{let{t:e}=(0,tG.useI18n)(),{items:t,uploadFilesFromFlagship:n,onClose:r,uploadInProgress:i}=(()=>{let e=(0,tB.useWebviewIntent)(),[t]=(0,c.useSearchParams)(),[n,r]=(0,s.useState)(),i=t.get("fromFlagshipUpload"),a=(0,nN.Zp)(),[l]=(0,s.useState)(!1),o=(0,I.wA)(),{t:d}=(0,tG.useI18n)(),{showAlert:u}=(0,na.useAlert)();(0,s.useEffect)(()=>{(async()=>{if(i&&e)try{let t=await nF(e);r(t),nz()("info","getFilesToHandle success, setting didFetch = true")}catch(e){nz()("info",`getFilesToHandle error, setting didFetch = true, ${iR(e)}`),u({message:d("ImportToDrive.error"),severity:"error"}),a("/")}})()},[i,e,a,u,d]);let h=(0,s.useCallback)(t=>{if(!n||0===n.length||!e)return;let r=n.map(e=>({file:e,isDirectory:!1}));o({type:eV,files:r});try{let n;n=r.map(e=>{if(!e.file)throw Error("No file to upload");return{fileOptions:{name:e.file.name,dirId:t}}}),nz()("info","uploadFilesFromFlagship called"),e.call("uploadFiles",JSON.stringify(n)),nz()("info","uploadFilesFromFlagship success"),a(`/folder/${t}`)}catch(e){u({message:d("ImportToDrive.error"),severity:"error"}),nz()("info",`uploadFilesFromNative error, ${iR(e)}`),a("/")}},[o,n,a,d,e,u]);return{onClose:(0,s.useCallback)(async()=>{await (null==e?void 0:e.call("cancelUploadByCozyApp")),o(ti()),a("/")},[o,a,e]),uploadInProgress:l,items:n,uploadFilesFromFlagship:h,resetFilesToHandle:(0,s.useCallback)(async()=>{try{nz()("info","resetFilesToHandle called"),await (null==e?void 0:e.call("resetFilesToHandle")),nz()("info","resetFilesToHandle success")}catch(e){nz()("info",`resetFilesToHandle error, ${iR(e)}`),a("/")}},[a,e])}})(),a=ej(en),l=(0,m.useQuery)(a.definition,a.options);if(t&&t.length>0&&l.data){let a=t.map(e=>({_type:"io.cozy.files",type:"file",dir_id:e.dirId,name:e.fileName,mime:e.mimeType}));return(0,o.jsx)(uy,{currentFolder:l.data,entries:a,canCreateFolder:!1,onConfirm:e=>{if(!(null==e?void 0:e._id))throw Error("A folder id is required");n(e._id)},onClose:r,isBusy:i,slotProps:{header:{title:e("ImportToDrive.title",{smart_count:a.length}),subTitle:e("ImportToDrive.to")},footer:{confirmLabel:e("ImportToDrive.action"),cancelLabel:e("ImportToDrive.cancel")}}})}return(0,o.jsx)(iA.A,{className:"u-p-0",open:!0,size:"large",content:(0,o.jsx)(tK.default,{size:"xxlarge",noMargin:!0,middle:!0})})};var uv=n(72192),u_=n(72376),ub=n(52365),ux=n(55878),uj=n(69688),uw=n(26051),uk=n(32859);class uC extends s.Component{async UNSAFE_componentWillMount(){if(!(!0!==lV||(0,ip.isFlagshipApp)())&&await lq().getItem(n5)){let e=await n8(this.props.client),t=await lq().getItem(n6)||!1;e||t||this.setState(e=>({...e,mustShow:!0}))}}render(){if(!0!==lV||!this.state.mustShow||(0,ip.isFlagshipApp)())return null;let{t:e}=this.props,t=n9({t:e});return(0,o.jsxs)(uk.default,{elevation:10,className:"u-pos-relative u-mh-1-half u-mb-1-half u-c-pointer",style:{backgroundColor:"var(--defaultBackgroundColor)"},onClick:()=>window.open(t),children:[(0,o.jsx)(iK.default,{className:"u-top-0 u-right-0",style:{position:"absolute",zIndex:1},size:"small",onClick:this.handleClick,children:(0,o.jsx)(rF.default,{icon:uj.A,size:8})}),(0,o.jsxs)(dW.default,{component:"div",children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:uw.A,size:32})}),(0,o.jsx)(rN.default,{primaryTypographyProps:{variant:"overline",color:"textPrimary"},primary:"Twake Drive App",secondaryTypographyProps:{variant:"overline",color:"primary"},secondary:e("Nav.banner-btn-client")})]})]})}constructor(...e){super(...e),(0,aA._)(this,"state",{mustShow:!1}),(0,aA._)(this,"handleClick",e=>{e.stopPropagation(),this.setState(e=>({...e,mustShow:!1})),lq().setItem(n6,!0)})}}let uS=(0,nE.A)()((0,m.withClient)(uC)),uz=s.memo(e=>{let{className:t,isPublic:n}=e,{t:r}=(0,tG.useI18n)(),{anchorRef:i,handleToggle:a,isDisabled:l,handleOfflineClick:d,isOffline:c,a11y:u}=(0,s.useContext)(ac);return(0,o.jsx)("div",{ref:i,onClick:c?d:void 0,children:(0,o.jsx)(tQ.default,{className:t,variant:n?"secondary":"primary",style:n?void 0:{color:"var(--primaryTextColor)",backgroundColor:"var(--paperBackgroundColor)"},disabled:l||c,startIcon:(0,o.jsx)(rF.default,{icon:iX.A}),label:r("toolbar.menu_create"),onClick:a,...u})})});var uF=n(10845),uA=n(60048),uT=n(6173);let uN=e=>{let{file:t,clickState:[n,r]}=e,{link:i}=oZ(t,{forceFolderPath:!(rM(t)||(0,ee.isNote)(t)||(0,ee.isOnlyOfficeFile)(t))}),{filename:a}=(0,ee.splitFilename)(t),l=nG(t)||rM(t)?ic.A:(0,ee.isDirectory)(t)?sf.default:uT.default;return(0,o.jsx)(uA.jl,{children:(0,o.jsxs)(o$,{link:i,className:uA.k2.className,onClick:()=>r(void 0),children:[(0,o.jsx)(uA.FT,{icon:l}),(0,o.jsx)(t0.default,{variant:"inherit",color:"inherit",noWrap:!0,children:a})]})},t._id)},uD=e=>{let{clickState:t}=e,{t:n}=(0,tG.useI18n)(),r=ek({sortAttribute:"name",sortOrder:"desc"}),i=(0,m.useQuery)(r.definition,r.options);return i.data&&i.data.length>0?(0,o.jsx)(uA.tH,{label:n("Nav.item_favorites"),children:i.data.map(e=>(0,o.jsx)(uN,{file:e,clickState:t},e._id))}):null},uI=(0,s.createContext)(),uE=e=>{let{children:t}=e,n=(0,s.useState)(null);return(0,o.jsx)(uI.Provider,{value:n,children:t})},uB=()=>{let e=(0,s.useContext)(uI);if(void 0===e)throw Error("useNavContext must be used within a NavProvider");return e},uM=e=>{let{icon:t,badgeContent:n,label:r}=e,{isDesktop:i}=(0,tM.default)();if(n)if(i)return(0,o.jsxs)(o.Fragment,{children:[t&&(0,o.jsx)(uA.FT,{icon:t}),(0,o.jsx)(uA.Jm,{children:r}),(0,o.jsx)(aJ.A,{size:"xsmall",className:"u-ml-auto u-mr-1",backgroundColor:"var(--errorColor)",children:(0,o.jsx)("span",{style:{fontSize:"11px",lineHeight:"1rem"},children:n>99?"99+":n})})]});else return(0,o.jsxs)(o.Fragment,{children:[t&&(0,o.jsx)(oh.A,{badgeContent:n,color:"error",withBorder:!1,children:(0,o.jsx)(uA.FT,{icon:t})}),(0,o.jsx)(uA.Jm,{children:r})]});return(0,o.jsxs)(o.Fragment,{children:[t&&(0,o.jsx)(uA.FT,{icon:t}),(0,o.jsx)(uA.Jm,{children:r})]})},uP=e=>{let{children:t,to:n,rx:r,clickState:[i,a]}=e,l=(0,nN.zy)(),s=i||l.pathname,d=r?r.test(s):s.slice(1)===n;return(0,o.jsx)("a",{style:{outline:"none"},onClick:e=>{n||e.preventDefault(),a(n)},href:`#${n}`,className:aw()(uA.k2.className,d?uA.k2.activeClassName:null),children:t})};uP.propTypes={children:tD().node.isRequired,to:tD().string,rx:tD().shape(RegExp)};let uR=e=>{let{to:t,icon:n,label:r,rx:i,clickState:a,badgeContent:l,secondary:s,forcedLabel:d}=e,{t:c}=(0,tG.useI18n)();return(0,o.jsx)(uA.jl,{secondary:s,children:(0,o.jsx)(uP,{to:t,rx:i,clickState:a,children:(0,o.jsx)(uM,{icon:n,label:d??c(`Nav.item_${r}`),badgeContent:l})})})};uR.propTypes={to:tD().string,icon:tD().oneOfType(tD().string,tD().object),label:tD().string,forcedLabel:tD().string,rx:tD().shape(RegExp),badgeContent:tD().number};let uq=e=>{var t;let{clickState:n}=e,r=()=>(0,m.Q)("io.cozy.files").where({"metadata.sharing.status":"new",class:"shortcut",trashed:!1}).indexFields(["metadata.sharing.status","class","trashed"]),i={as:"io.cozy.files/metadata.sharing.status/new/class/shortcut",fetchPolicy:em},a=(0,m.useQuery)(r,i);return(0,o.jsx)(uR,{to:"/sharings",icon:(0,o.jsx)(rF.default,{icon:rA.default}),label:"sharings",rx:/\/sharings(\/.*)?/,clickState:n,badgeContent:null==(t=a.data)?void 0:t.length})};var uO=n(62858);let uL=e=>{let{file:t,setLastClicked:n}=e,{link:r}=oZ(t,{forceFolderPath:!1}),{filename:i}=(0,ee.splitFilename)(t);return(0,o.jsx)(uA.jl,{children:(0,o.jsxs)(o$,{link:r,className:uA.k2.className,onClick:()=>n(void 0),children:[(0,o.jsx)(uA.FT,{icon:ic.A}),(0,o.jsx)(t0.default,{variant:"inherit",color:"inherit",noWrap:!0,children:i})]})},t._id)},u$=e=>{let{className:t,clickState:n}=e,{t:r}=(0,tG.useI18n)(),i=(e=>{let{sortAttribute:t,sortOrder:n}=e;return{definition:()=>(0,m.Q)("io.cozy.files").where({[t]:{$gt:null}}).partialIndex({"cozyMetadata.createdByApp":"nextcloud"}).indexFields([t]).sortBy([{[t]:n}]),options:{as:"io.cozy.files/metadata.createdByApp/nextcloud",fetchPolicy:em}}})({sortAttribute:"name",sortOrder:"desc"}),a=(0,m.useQuery)(i.definition,i.options);return a.data&&a.data.length>0?(0,o.jsx)(dV.default,{subheader:(0,o.jsx)(uO.A,{children:r("Nav.item_external_drives")}),className:t,children:a.data.map(e=>(0,o.jsx)(uL,{file:e,setLastClicked:n[1]},e._id))}):null};var uU=n(94404);let uV=e=>{let{isOpen:t,toggleMenu:n,sharedDrive:r}=e,i=(0,s.useRef)(null),a=(0,m.useClient)(),l=(0,nN.Zp)(),d=(0,I.wA)(),{showAlert:c}=(0,na.useAlert)(),{t:u}=(0,tG.useI18n)(),h=(0,nV.gW)([cD,r.owner&&uU.y,cT,cN],{sharedDrive:r,client:a,dispatch:d,navigate:l,showAlert:c,t:u});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(iK.default,{ref:i,onClick:n,size:"small",children:(0,o.jsx)(rF.default,{icon:iY.default})}),(0,o.jsx)(ir.default,{ref:i,open:t,actions:h,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoClose:!0,onClose:n})]})},uW=(0,iM.A)({withMenu:{flex:1,minWidth:0},menuContainer:{display:"flex",alignItems:"center",marginLeft:"auto",marginRight:"1.5rem"}}),uH=e=>{let{sharedDrive:t,clickState:[n,r]}=e,i=uW(),{link:a}=(e=>{let t=(0,nN.Zp)(),n=(0,m.useClient)(),r=null==n?void 0:n.getStackClient().uri,i="drive",a=rE(e);if(!a)throw Error("Missing folder id in shared drive");let l=e.owner?`folder/${a}`:`shareddrive/${e._id}/${a}`,o=new URL(window.location.href),d=o.pathname,c=o.searchParams,u=(0,nN.x$)(l,{relative:"route"}),h=new URLSearchParams({...Object.fromEntries(c.entries())}),p=(0,m.generateWebLink)({slug:i,cozyUrl:r,subDomainType:null==n?void 0:n.getInstanceOptions().subdomain,pathname:d,searchParams:h,hash:u.pathname}),f=(0,s.useCallback)(e=>{e.ctrlKey||e.metaKey||e.shiftKey?window.open(p,"_blank"):t(u)},[i,p,t,u]);return{link:{app:i,href:p,to:u,openInNewTab:!1},openLink:f}})(t),[l,d]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!1);return(0,o.jsxs)(uA.jl,{className:"u-flex",onMouseOver:()=>d(!0),onMouseLeave:()=>d(!1),children:[(0,o.jsxs)(o$,{link:a,className:aw()(uA.k2.className,l&&i.withMenu),onClick:()=>r(void 0),children:[(0,o.jsx)(uA.FT,{icon:ic.A}),(0,o.jsx)(t0.default,{variant:"inherit",color:"inherit",noWrap:!0,children:t.description})]}),l&&(0,o.jsx)("div",{className:aw()(i.menuContainer),children:(0,o.jsx)(uV,{isOpen:c,toggleMenu:()=>u(!c),sharedDrive:t})})]},t._id)},uQ=e=>{let{sharedDrives:t,clickState:n}=e,{t:r}=(0,tG.useI18n)();return t.length>0?(0,o.jsx)(uA.tH,{label:r("Nav.item_shared_drives"),children:t.map(e=>(0,o.jsx)(uH,{sharedDrive:e,clickState:n},e._id))}):null},uZ=()=>{let e=uB(),{isDesktop:t}=(0,tM.default)(),{isLoaded:n,sharedDrives:r}=cI(),i=(0,y.default)("drive.shared-drive.enabled");return(0,o.jsxs)(uA.Ay,{children:[(0,o.jsx)(uR,{to:"/folder",icon:(0,o.jsx)(rF.default,{icon:sf.default}),label:"drive",rx:/\/(folder|nextcloud)(\/.*)?/,clickState:e}),t?null:(0,o.jsx)(uR,{to:"/favorites",icon:(0,o.jsx)(rF.default,{icon:ab.A}),label:"favorites",rx:/\/favorites(\/.*)?/,clickState:e}),(0,o.jsx)(uR,{to:"/recent",icon:(0,o.jsx)(rF.default,{icon:uF.A}),label:"recent",rx:/\/recent(\/.*)?/,clickState:e}),(0,o.jsx)(uq,{clickState:e}),(0,o.jsx)(uR,{to:"/trash",icon:(0,o.jsx)(rF.default,{icon:rV.default}),label:"trash",rx:/\/trash(\/.*)?/,clickState:e}),t?(0,o.jsx)(uD,{clickState:e}):null,t&&n&&i?(0,o.jsx)(uQ,{clickState:e,sharedDrives:r}):null,t?(0,o.jsx)(u$,{clickState:e,className:"u-mt-half"}):null]})};var uG=n(14820);let uK=(0,nE.A)()(e=>{let{successCount:t,purgeQueue:n,queue:r,doneCount:i}=e;return(0,s.useEffect)(()=>{let e=((null==r?void 0:r.length)??0)>0,a=t===i&&t===((null==r?void 0:r.length)??0);if(e&&a){let e=setTimeout(()=>{n()},5e3);return()=>clearTimeout(e)}},[t,n,r,i]),(0,o.jsx)(uG.Ay,{popover:!0,getMimeTypeIcon:oS,app:"Cozy Drive",...e})}),uY=(0,I.Ng)(e=>({queue:tp(e),doneCount:tp(e).filter(e=>e.status!==eK).length,successCount:tp(e).filter(e=>[eY,eJ].includes(e.status)).length}),e=>({purgeQueue:()=>e(ti())}))(uK);a=!0===(0,y.default)("switcher"),l=new URL(window.location).searchParams,a||null===l.get("flags")||(a=!0),a&&((0,y.default)("switcher",!0),(0,y.default)("debug"),(0,y.default)("drive.onlyoffice.editorToolbarHeight"),(0,y.default)("drive.logger"),(0,y.default)("drive.enable-encryption"),(0,y.default)("drive.dacc-files-size-by-slug"),(0,y.default)("drive.breadcrumb.showCompleteBreadcrumbOnPublicPage"),(0,y.default)("drive.hide-nextcloud-dev"),(0,y.default)("drive.keyboard-shortcuts.enabled",!0),(0,y.default)("drive.onlyoffice.editor-mode-by-access.enabled",!0),(0,y.default)("drive.highlight-new-items.enabled",!0));let uJ=()=>{let e=(0,nN.Zp)(),t=(0,I.wA)(),{isMobile:n,isDesktop:r}=(0,tM.default)(),{displayedFolder:i}=n0(),{hasWriteAccess:a}=(0,tX.r)(),{t:l}=(0,tG.useI18n)(),d=(0,I.d4)(tk),[,c]=uB();(0,s.useEffect)(()=>{d&&(c(`/folder/${en}`),e(`/folder/${en}`),t({type:tj}))},[d,e,t,c]);let u=!!i&&!a(i._id,i.driveId),h=(0,y.default)("drive.highlight-new-items.enabled")?rv:s.Fragment;return(0,o.jsx)(nP.PE,{onContextMenu:e=>e.preventDefault(),children:(0,o.jsxs)(h,{children:[(0,o.jsx)(D.BarComponent,{searchOptions:{enabled:!n},disableInternalStore:!0}),(0,o.jsx)(u_.default,{}),(0,o.jsxs)(ub.A,{className:"u-flex-justify-between",children:[(0,o.jsxs)("div",{children:[r?(0,o.jsxs)("div",{className:"u-mh-1-half u-mt-1-half",children:[(0,o.jsx)(l2,{componentsProps:{button:{className:"u-w-100 u-bdrs-6"}},label:l("upload.label"),displayedFolder:i,disabled:u}),(0,o.jsx)(au,{canCreateFolder:!0,canUpload:!u,disabled:!1,displayedFolder:i,isSelectionBarVisible:!1,isReadOnly:u,componentsProps:{AddMenu:{isUploadDisabled:!0}},children:(0,o.jsx)(uz,{className:"u-w-100 u-bdrs-6 u-mt-half"})})]}):null,(0,o.jsx)(uZ,{})]}),r&&(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"u-p-1-half",children:(0,o.jsx)(ux.A,{})}),(0,o.jsx)(uS,{})]})]}),(0,o.jsx)(uY,{}),(0,o.jsx)(rx,{children:(0,o.jsx)(nN.sv,{})}),(0,o.jsx)(nM.A,{}),(0,y.default)("debug")&&(0,o.jsx)(uv.default,{})]})})},uX=()=>(0,o.jsx)(uE,{children:(0,o.jsx)(uJ,{})});var u0=n(73544),u1=n(68728);let u2=()=>{let{t:e}=(0,tG.useI18n)(),{fileId:t,driveId:n}=(0,nN.g)(),r=(0,m.useClient)(),[i,a]=(0,s.useState)(null),[l,d]=(0,s.useState)("pending");return(0,s.useEffect)(()=>{let e=async e=>{d("loading");try{let t="/"===location.pathname?"/public/":re(location.pathname,""),i=await (0,u0.fetchURL)(r,{id:e},{driveId:n,pathname:t});a(i),d("loaded")}catch(e){d("failed")}};t&&e(t)},[t,n,r]),i&&(window.location.href=i),(0,o.jsxs)(nR,{children:["failed"===l&&(0,o.jsx)(nD.default,{icon:(0,o.jsx)(rF.default,{icon:u1.A,color:"var(--primaryColor)"}),title:e("PublicNoteRedirect.error.title"),text:e("PublicNoteRedirect.error.subtitle")}),"failed"!==l&&(0,o.jsx)(tK.default,{size:"xxlarge",middle:!0,noMargin:!0})]})},u3=(0,nE.A)()(e=>{let{t}=e;return(0,o.jsx)("pre",{className:"u-error",children:t("FileOpenerExternal.fileNotFoundError")})}),u4=e=>{let t=(0,nN.Zp)(),{isDesktop:n}=(0,tM.default)(),{t:r}=(0,tG.useI18n)(),{fileId:i}=(0,nN.g)(),{showAlert:a}=(0,na.useAlert)(),l=(0,m.useClient)(),[d,c]=(0,s.useState)({loading:!0,file:null}),{service:u}=e,{file:h,loading:p,fileNotFound:f}=d,y=(0,s.useCallback)(async e=>{try{c({fileNotFound:!1,loading:!0});let t=ej(e),n=await l.query(t.definition(),t.options),r=await lA(n.data,l);c({file:r,loading:!1})}catch(e){c({fileNotFound:!0,loading:!1}),a({message:r("alert.could_not_open_file")})}},[l,a,r]);return(0,s.useEffect)(()=>{let t=i??e.fileId;t&&y(t)},[i,e.fileId,y]),(0,o.jsxs)("div",{className:"u-pos-absolute u-w-100 u-h-100 u-bg-charcoalGrey",children:[p&&(0,o.jsx)(tK.default,{size:"xxlarge",middle:!0,noMargin:!0,color:"white"}),f&&(0,o.jsx)(u3,{}),!p&&!f&&(0,o.jsx)(dg.A,{children:(0,o.jsxs)(dv.default,{files:[h],currentIndex:0,onChangeRequest:()=>{},onCloseRequest:u?()=>u.terminate():null,renderFallbackExtraContent:e=>(0,o.jsx)(dk,{file:e,t:r}),componentsProps:{OnlyOfficeViewer:{isEnabled:ij(n),opener:e=>t(iC(e.id))}},children:[(0,o.jsx)(dv.ToolbarButtons,{children:(0,o.jsx)(dv.SharingButton,{variant:"iconButton"})}),(0,o.jsxs)(dv.FooterActionButtons,{children:[(0,o.jsx)(dv.SharingButton,{}),(0,o.jsx)(dv.ForwardOrDownloadButton,{variant:"buttonIcon"})]})]})})]})};var u5=n(52500);let u6=()=>{let{konnectorSlug:e}=(0,nN.g)(),t=(0,nN.Zp)(),n={definition:()=>(0,m.Q)("io.cozy.triggers").where({"message.konnector":e}).indexFields(["message.konnector"]),options:{as:`io.cozy.triggers/slug/${e}`,fetchPolicy:em,enabled:!!e}},{data:r}=(0,m.useQuery)(n.definition,n.options),i=(e=>{let{id:t,enabled:n=!0}=e;return{definition:()=>(0,m.Q)("io.cozy.konnectors").getById(t),options:{as:`io.cozy.konnectors/${t}`,fetchPolicy:em,enabled:n}}})({id:`io.cozy.konnectors/${e}`,enabled:!!(null==r?void 0:r[0])}),{data:a}=(0,m.useQuery)(i.definition,i.options),l=null==a?void 0:a[0],s=l?{...l,triggers:{data:r}}:void 0,d=()=>t("..");return(0,o.jsx)(nW.i8,{konnector:s,konnectorSlug:e,datacardOptions:u5.A,onSuccess:d,onDismiss:d,konnectorRoot:`harvest/${e}`})},u7=e=>{let{folderId:t,queryResults:n,actions:r,extraColumns:i,canSort:a,refreshFolderContent:l,withFilePath:d,isInSyncFromSharing:c,renderEmptyComponent:u=()=>(0,o.jsx)(l5,{}),canInteractWith:h,driveId:m}=e,p=(0,nn.Zx)(),{isDesktop:f}=(0,tM.default)();(e=>{let{isDesktop:t}=(0,tM.default)();(0,s.useEffect)(()=>{if(t){let e=document.querySelectorAll("[data-testid=fil-content-body]")[0];e&&e.scroll({top:0})}else window.scroll({top:0})},[t,e])})(t);let y=n.some(e=>"failed"===e.fetchStatus),g=!y&&n.some(e=>e.data&&e.data.length>0),v=!g&&n.some(e=>"loading"===e.fetchStatus&&!e.lastUpdate),_=!y&&!v&&!g,b=(e=>{let{isLoading:t}=e,[n,r]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let e=null;return t||(e=setTimeout(()=>{r(!1)},50)),()=>clearTimeout(e)},[t]),n})({isLoading:v}),{isBigThumbnail:x}=rC(),[j,w]=tF(t),{viewType:k,switchView:C}=nC(),S=(0,s.useCallback)((e,t,n)=>w({sortAttribute:t,sortOrder:n}),[w]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(su,{actions:r}),(0,o.jsxs)(o1,{children:[g?(0,o.jsx)(se,{folderId:null,canSort:a,sort:j,onFolderSort:S,switchViewType:C,viewType:k}):null,(0,o.jsxs)(o2,{selectionModeActive:!1,children:[!g&&!b&&(0,o.jsx)("div",{className:aw()("grid"===k?lJ:"",{"u-ov-hidden":!f}),children:(0,o.jsx)(oP,{vaultClient:p,refreshFolderContent:l,extraColumns:i,currentFolderId:t,driveId:m})}),y?(0,o.jsx)(l9,{}):null,v||b?(0,o.jsx)(sl,{}):null,_?u():null,g&&!b?(0,o.jsxs)("div",{className:aw()("grid"===k?lJ:"",{"u-ov-hidden":!f}),children:[(0,o.jsx)(oP,{vaultClient:p,refreshFolderContent:l,extraColumns:i,currentFolderId:t,driveId:m}),n.map((e,t)=>(0,o.jsxs)(s.Fragment,{children:[e.data.map(e=>(0,o.jsx)(oe,{doc:e,actions:r.filter(e=>!e.selectAllItems),children:(0,o.jsx)(o0,{attributes:e,withFilePath:d,thumbnailSizeBig:x,actions:r,refreshFolderContent:l,isInSyncFromSharing:c,extraColumns:i,withSelectionCheckbox:!0,canInteractWith:h},e._id)},e._id)),e.hasMore&&(0,o.jsx)(ss,{fetchMore:e.fetchMore})]},t))]}):null]})]})]})},u8=["carbonCopy","electronicSafe"],u9=[],he=()=>{let e=(0,nN.Zp)(),{pathname:t}=(0,nN.zy)(),{isMobile:n}=(0,tM.default)(),{t:r,lang:i}=(0,tG.useI18n)(),a=(0,m.useClient)(),{isSelectionBarVisible:l}=rj(),{pushModal:s,popModal:d}=nb(),{allLoaded:c,refresh:u}=(0,tX.r)(),{isNativeFileSharingAvailable:h,shareFilesNative:p}=(0,ni.zI)(),f=(0,I.wA)(),{showAlert:y}=(0,na.useAlert)(),[g]=tF("favorites"),v=a5({columnsNames:a4({isMobile:n,desktopExtraColumnsNames:u8,mobileExtraColumnsNames:u9}),queryBuilder:ex,currentFolderId:"io.cozy.files.shared-drives-dir"}),_=ek({sortAttribute:g.attribute,sortOrder:g.order}),b=(0,m.useQuery)(_.definition,_.options),x=(0,nV.gW)([rP,nU.D,r$,rU,rX,a_,af,ax,ie,rU,r6,rU,rY],{client:a,t:r,lang:i,pushModal:s,popModal:d,refresh:u,dispatch:f,navigate:e,pathname:t,hasWriteAccess:!0,canMove:!0,isPublic:!1,allLoaded:c,showAlert:y,isMobile:n,isNativeFileSharingAvailable:h,shareFilesNative:p});return(0,o.jsxs)(lG,{isNotFound:!1,children:[(0,o.jsxs)(sE,{children:[(0,o.jsx)(sF,{path:[{name:r("breadcrumb.title_favorites")}]}),(0,o.jsx)(lc,{canUpload:!1,canCreateFolder:!1})]}),(0,o.jsx)(u7,{folderId:"io.cozy.files.shared-drives-dir",queryResults:[b],extraColumns:v,actions:x,canSort:!0,canInteractWith:e=>!nG(e)}),(0,o.jsx)(nN.sv,{}),n&&(0,o.jsx)(au,{canCreateFolder:!0,canUpload:!0,disabled:!1,displayedFolder:null,isSelectionBarVisible:l,isPublic:!1,isReadOnly:!1,refreshFolderContent:()=>{},children:(0,o.jsx)(a7,{noSidebar:!1})})]})},ht=e=>{let{folder:t,navigate:n}=e,{t:r}=(0,tG.useI18n)();return(0,o.jsx)(tQ.default,{color:"success",label:r("OpenFolderButton.label"),onClick:()=>"io.cozy.remote.nextcloud.files"===t._type?n(`/nextcloud/${t.cozyMetadata.sourceAccount}?path=${t.path}`):n(`/folder/${t._id}`),size:"small",variant:"text",style:{color:"var(--successContrastTextColor)"}})},hn=e=>{let{entries:t,currentFolder:n,onClose:r,showNextcloudFolder:i}=e,{t:a}=(0,tG.useI18n)(),{showAlert:l}=(0,na.useAlert)(),{registerCancelable:d}=sW(),c=(0,m.useClient)(),u=(0,nN.Zp)(),[h,p]=(0,s.useState)(!1),f=async e=>{try{p(!0),await Promise.all(t.map(async t=>{await d((0,ee.copy)(c,t,e))})),"io.cozy.remote.nextcloud.files"===e._type&&y(e),l({message:a("DuplicateModal.success",{smart_count:t.length,fileName:t[0].name,destinationName:e._id===en?a("breadcrumb.title_drive"):e.name}),severity:"success",action:(0,o.jsx)(ht,{folder:e,navigate:u})})}catch(e){l({message:a("DuplicateModal.error"),severity:"error"})}finally{p(!1),await r()}},y=e=>{var t;let n=nZ({sourceAccount:null==(t=e.cozyMetadata)?void 0:t.sourceAccount,path:e.path});null==c||c.resetQuery(n)};return(0,o.jsx)(uy,{showNextcloudFolder:i,currentFolder:n,entries:t,onConfirm:f,onClose:r,isBusy:h,slotProps:{header:{subTitle:a("DuplicateModal.subTitle")},footer:{confirmLabel:a("DuplicateModal.confirmLabel")}},canPickEntriesParentFolder:!0})},hr=()=>{let e=(0,nN.Zp)(),{state:t}=(0,nN.zy)(),{displayedFolder:n}=n0(),r=void 0!=t.fileIds,i=eg(t.fileIds??[]),a=(0,m.useQuery)(i.definition,{...i.options,enabled:r});return r?(0,m.hasQueryBeenLoaded)(a)&&a.data&&n?(0,o.jsx)(hn,{showNextcloudFolder:!(0,y.default)("drive.hide-nextcloud-dev"),currentFolder:n,entries:a.data,onClose:()=>{e("..",{replace:!0})}}):(0,o.jsx)(tY,{}):(0,o.jsx)(nN.C5,{to:"..",replace:!0})},hi=e=>{let{folder:t,entries:n,trashedFiles:r,canCancel:i=!0,refreshSharing:a,navigate:l}=e,{t:d}=(0,tG.useI18n)(),c=(0,m.useClient)(),{registerCancelable:u}=sW(),[h,p]=(0,s.useState)(!1),{showAlert:f}=(0,na.useAlert)(),y=async()=>{p(!0),await t2({entries:n,trashedFiles:r,client:c,registerCancelable:u,showAlert:f,t:d,refreshSharing:a})};return(0,o.jsxs)(o.Fragment,{children:[i?(0,o.jsx)(tQ.default,{label:d("Move.cancel"),onClick:y,size:"small",variant:"text",disabled:h,style:{color:"var(--successContrastTextColor)"}}):null,(0,o.jsx)(ht,{folder:t,navigate:l})]})},ha=e=>{let{onClose:t,currentFolder:n,entries:r,showNextcloudFolder:i}=e,a=(0,m.useClient)(),{sharedPaths:l,refresh:d,getSharedParentPath:c,hasSharedParent:u,isOwner:h,revokeSelf:p,revokeAllRecipients:f,byDocId:y,allLoaded:g}=(0,tX.r)(),{registerCancelable:v}=sW(),{showSuccess:_}=(e=>{let{entries:t}=e,{t:n}=(0,tG.useI18n)(),r=(0,nN.Zp)(),{showAlert:i}=(0,na.useAlert)();return{showSuccess:e=>{let{folder:a,trashedFiles:l,canCancel:s=!0,refreshSharing:d}=e,c=a.name||n("breadcrumb.title_drive");i({message:n("Move.success",{smart_count:t.length,subject:1===t.length?t[0].name:"",target:c}),severity:"success",action:(0,o.jsx)(hi,{folder:a,entries:t,trashedFiles:l,canCancel:s,refreshSharing:d,navigate:r})})}}})({entries:r}),{t:b}=(0,tG.useI18n)(),{showAlert:x}=(0,na.useAlert)(),[j,w]=(0,s.useState)(null),[k,C]=(0,s.useState)(!1),[S,z]=(0,s.useState)(!1),[F,A]=(0,s.useState)(!1),[T,N]=(0,s.useState)(!1),D=async e=>{w(e);let t=c(r[0].path),n=re(e.path,r[0].name),i=t3(r,y),a=u(r[0].path),l=u(n);n.startsWith(t)?I(e):a&&!l?z(!0):!i&&l?N(!0):i&&l?A(!0):I(e)},I=async e=>{try{C(!0);let t=[];await Promise.all(r.map(async n=>{let r=!l.includes(e.path),i=await v((0,ee.move)(a,n,e,{force:r}));i.deleted&&t.push(i.deleted)}));let n="io.cozy.remote.nextcloud.files"===e._type,i=!n&&"io.cozy.remote.nextcloud.files"===r[0]._type;E({isMovingInsideNextcloud:n,isMovingOutsideNextcloud:i,folder:e}),_({folder:e,trashedFiles:t,refreshSharing:d,canCancel:!n&&!i}),d&&d()}catch(e){eO.warn(e),x({message:b("Move.error",{smart_count:r.length}),severity:"error"})}finally{C(!1),t()}},E=e=>{let{isMovingOutsideNextcloud:t,isMovingInsideNextcloud:n,folder:i}=e;n&&a.resetQuery(nZ({sourceAccount:i.cozyMetadata.sourceAccount,path:i.path})),t&&a.resetQuery(nZ({sourceAccount:r[0].cozyMetadata.sourceAccount,path:rt(r[0].path)}))},B=async()=>{C(!0),r.forEach(async e=>{void 0!==y[e._id]&&(h(e._id)?await f(e):await p(e))}),d(),I(j),A(!1)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(uy,{showNextcloudFolder:i,currentFolder:n,entries:r,onConfirm:D,onClose:t,isBusy:k||!g}),S?(0,o.jsx)(t1,{entries:r,onCancel:()=>{z(!1)},onConfirm:()=>{z(!1),I(j)}}):null,F?(0,o.jsx)(t4,{entries:r,folderId:j._id,onCancel:()=>A(!1),onConfirm:B}):null,T?(0,o.jsx)(tJ,{onCancel:()=>{N(!1)},onConfirm:()=>{N(!1),I(j)},entries:r,folderId:j._id}):null]})};ha.propTypes={entries:tD().array};let hl=()=>{let e=(0,nN.Zp)(),{state:t}=(0,nN.zy)(),{displayedFolder:n}=n0(),r=(null==t?void 0:t.fileIds)!=void 0,i=eg(r?t.fileIds:[]),a=(0,m.useQuery)(i.definition,{...i.options,enabled:r});if(!r)return(0,o.jsx)(nN.C5,{to:"..",replace:!0});if((0,m.hasQueryBeenLoaded)(a)&&a.data&&n){let t=!a.data.some(e=>"directory"===e.type);return(0,o.jsx)(ha,{currentFolder:n,entries:a.data,onClose:()=>{e("..",{replace:!0})},showNextcloudFolder:t})}return(0,o.jsx)(tY,{})};var ho=n(53369),hs=n(71104),hd=n(31716),hc=n(67897),hu=n(92971);let hh=e=>{let{icon:t}=e;return(0,o.jsx)(hd.A,{backgroundIcon:(0,o.jsx)(rF.default,{icon:hc.A,color:"#E049BF",size:32}),...t&&{foregroundIcon:(0,o.jsx)(rF.default,{icon:t,color:"#E049BF",size:16})}})},hm=()=>{var e;let t=(0,nN.Zp)(),{fileId:n}=(0,nN.g)(),{t:r,lang:i}=(0,tG.useI18n)(),a=(0,m.useClient)(),l=(0,r1.getBoundT)(i||"en"),s=ej(n),{data:d,...c}=(0,m.useQuery)(s.definition,s.options),u=null==(e=(0,r0.getQualification)(d))?void 0:e.label,h=(e=>{let{t,scannerT:n,focusedId:r}=e;return{focusedId:r,children:[{id:"none",items:[],label:t("Scan.none")},...(0,y.default)("hide.healthTheme.enabled")?ho.themesList.filter(e=>"health"!==e.label):ho.themesList].map(e=>({id:e.label,title:"none"===e.id?t("Scan.none"):n(`Scan.themes.${e.label}`),icon:(0,o.jsx)(hh,{icon:e.icon}),children:e.items.map(e=>({id:e.label,item:e,title:n(`Scan.items.${e.label}`),icon:(0,hs.isQualificationNote)(e)?(0,o.jsx)(rF.default,{icon:ig.default,size:64}):(0,o.jsx)(hh,{icon:e.icon})}))}))}})({t:r,scannerT:l,focusedId:u}),p=()=>{t("..",{replace:!0})},f=async e=>{let{title:t,item:n}=e,i=a.collection("io.cozy.files"),l=u&&t===r("Scan.none");if(!u&&l)return p();await i.updateMetadataAttribute(d._id,{qualification:l?null:n}),p()};return(0,m.isQueryLoading)(c)?(0,o.jsx)(tY,{}):(0,o.jsx)(hu.A,{title:d.name,options:h,noDivider:!0,document:d,onSelect:f,isSelected:e=>{let{title:t,item:n}=e;return u?u===(null==n?void 0:n.label):t===r("Scan.none")},onClose:p})},hp=()=>{let{displayedFolder:e}=n0(),t=(0,nN.Zp)();return e?(0,o.jsx)(ct.Z,{document:e,documentType:"Files",sharingDesc:e.name,onClose:()=>{t("..",{replace:!0})},onRevokeSuccess:()=>{e.driveId&&t("/sharings?tab=1")}}):null},hf=()=>{let e=(0,nN.Zp)(),{fileId:t}=(0,nN.g)(),n=ej(t),r=(0,m.useQuery)(n.definition,n.options),i=()=>{e("..",{replace:!0})};return(0,m.hasQueryBeenLoaded)(r)&&r.data?(0,o.jsx)(ct.Z,{document:r.data,documentType:"Files",sharingDesc:r.data.name,onClose:i}):((0,m.hasQueryBeenLoaded)(r)&&!r.data&&i(),"failed"===r.fetchStatus&&i(),(0,o.jsx)(tY,{}))},hy=e=>{let{files:t,onClose:n}=e,{t:r}=(0,tG.useI18n)(),i=(0,m.useClient)(),{showAlert:a}=(0,na.useAlert)(),[l,d]=(0,s.useState)(!1),c=(0,s.useCallback)(async()=>{try{d(!0),await i.collection("io.cozy.remote.nextcloud.files").destroyAll(t),i.resetQuery(nZ({sourceAccount:t[0].cozyMetadata.sourceAccount,path:t[0].parentPath})),i.resetQuery(nZ({sourceAccount:t[0].cozyMetadata.sourceAccount,path:"/trash/"})+"/trashed")}catch(e){a({message:r("NextcloudDeleteConfirm.error"),severity:"error"})}finally{n(),d(!1)}},[i,t,n,a,r]),u=eP(r,t);return(0,o.jsx)(tZ.A,{open:!0,onClose:n,title:r("NextcloudDeleteConfirm.title",{filename:(0,ee.splitFilename)(t[0]).filename,smart_count:t.length,type:u}),content:(0,o.jsxs)(dV.default,{children:[(0,o.jsxs)(dW.default,{gutters:"disabled",size:"small",ellipsis:!1,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:dU.A})}),(0,o.jsx)(rN.default,{primary:r("NextcloudDeleteConfirm.trash",{smart_count:t.length})})]}),(0,o.jsxs)(dW.default,{gutters:"disabled",size:"small",ellipsis:!1,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:r7.A})}),(0,o.jsx)(rN.default,{primary:r("NextcloudDeleteConfirm.restore")})]})]}),actions:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(tQ.default,{variant:"secondary",onClick:n,label:r("NextcloudDeleteConfirm.cancel")}),(0,o.jsx)(tQ.default,{busy:l,color:"error",label:r("NextcloudDeleteConfirm.delete"),onClick:c})]})})},hg=function(){let{insideTrash:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{state:t}=(0,nN.zy)(),{sourceAccount:n}=(0,nN.g)(),{nextcloudResult:r}=ro({sourceAccount:n,path:rd({insideTrash:e}),insideTrash:e});if(!(null==t?void 0:t.fileIds))return{isLoading:!1,hasEntries:!1};if(ec(r)){let e=r.data.filter(e=>{let{_id:n}=e;return t.fileIds.includes(n)});return{isLoading:!1,hasEntries:e.length>0,entries:e}}return{isLoading:!0,hasEntries:!0}},hv=()=>{let e=(0,nN.Zp)(),[t]=(0,c.useSearchParams)(),{pathname:n}=(0,nN.zy)(),{entries:r,hasEntries:i,isLoading:a}=hg(),l=rt(n)+`?${t.toString()}`;return i?r&&!a?(0,o.jsx)(hy,{files:r,onClose:()=>{e(l,{replace:!0})}}):(0,o.jsx)(tY,{}):(0,o.jsx)(nN.C5,{to:l,replace:!0})},h_=()=>{let e=(0,nN.Zp)(),[t]=(0,c.useSearchParams)(),{sourceAccount:n}=(0,nN.g)(),r=(0,m.useClient)(),i=rd({insideTrash:!0}),{pathname:a}=(0,nN.zy)(),{hasEntries:l,entries:d,isLoading:u}=hg({insideTrash:!0}),h=`${rt(a)??""}?${t.toString()}`,p=(0,s.useCallback)(async()=>{if(d){for(let e of d)await (null==r?void 0:r.collection("io.cozy.remote.nextcloud.files").deletePermanently(e));let e=nZ({sourceAccount:n,path:i})+"/trashed";null==r||r.resetQuery(e)}},[r,d,i,n]);return l?d&&!u?(0,o.jsx)(dH,{onConfirm:p,files:d,onClose:()=>{e(h,{replace:!0})}}):(0,o.jsx)(tY,{}):(0,o.jsx)(nN.C5,{to:h,replace:!0})},hb=()=>{let{pathname:e}=(0,nN.zy)(),[t]=(0,c.useSearchParams)(),n=(0,nN.Zp)(),r=rc(),{entries:i,hasEntries:a,isLoading:l}=hg(),s=(rt(e)??"")+`?${t.toString()}`;return a||l?i&&r?(0,o.jsx)(hn,{showNextcloudFolder:!0,currentFolder:r,entries:i,onClose:()=>{n(s,{replace:!0})}}):(0,o.jsx)(tY,{}):(0,o.jsx)(nN.C5,{to:s,replace:!0})},hx=e=>(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32",...e,children:(0,o.jsx)("path",{fill:"#0082C9",fillRule:"evenodd",d:"M9.025 14.005c.871-3.046 3.682-5.295 7-5.295 3.292 0 6.089 2.215 6.982 5.227.772-1.58 2.392-2.68 4.256-2.68 2.6 0 4.737 2.137 4.737 4.736 0 2.6-2.138 4.738-4.737 4.738-1.864 0-3.484-1.102-4.256-2.681-.893 3.012-3.69 5.228-6.983 5.228-3.317 0-6.128-2.25-7-5.296-.756 1.616-2.397 2.749-4.288 2.749-2.6 0-4.736-2.138-4.736-4.738 0-2.599 2.137-4.736 4.736-4.736 1.89 0 3.532 1.132 4.289 2.748m11.504 1.988c0-2.504-2-4.503-4.505-4.503s-4.503 2-4.503 4.503 2 4.504 4.503 4.504 4.505-2 4.505-4.504M4.736 14.037c1.097 0 1.957.86 1.957 1.956s-.86 1.957-1.957 1.957a1.936 1.936 0 0 1-1.956-1.957c0-1.097.86-1.956 1.956-1.956m24.484 1.956c0-1.097-.86-1.956-1.957-1.956a1.935 1.935 0 0 0-1.956 1.956c0 1.097.859 1.957 1.956 1.957s1.957-.86 1.957-1.957",clipRule:"evenodd"})}),hj=()=>{let{t:e}=(0,tG.useI18n)(),{isMobile:t}=(0,tM.default)();return(0,o.jsx)("div",{className:aw()(t?"u-mb-half":"u-mb-1 u-mh-2"),children:(0,o.jsx)(d$.default,{icon:(0,o.jsx)(rF.default,{icon:hx,size:16}),severity:"secondary",square:t,children:(0,o.jsx)(t0.default,{variant:"caption",children:e("NextcloudBanner.title")})})})},hw=e=>{let{sourceAccount:t,path:n}=e,[r,i]=(0,c.useSearchParams)(),{pathname:a}=(0,nN.zy)(),l=(0,nN.Zp)(),{t:s}=(0,tG.useI18n)(),{rootFolderName:d}=rs({sourceAccount:t}),u=[{name:s("breadcrumb.title_drive"),id:en},{name:s("breadcrumb.title_shared_drives"),id:"io.cozy.files.shared-drives-dir"},{name:d,id:"/"}],h=n.split("/").filter(Boolean),m=h.map((e,t)=>{if("trash"===e)return{name:s("NextcloudBreadcrumb.trash"),id:"/trash/"};let r=e;if(n.startsWith("/trash")){let t=r.lastIndexOf(".");r=e.substring(0,t)}return{name:r,id:"/"+h.slice(0,t+1).join("/")}});return(0,o.jsx)(sF,{path:[...u,...m],onBreadcrumbClick:e=>{"io.cozy.files.shared-drives-dir"===e.id||e.id===en?l(`/folder/${e.id}`):a.endsWith("trash")&&"/"===e.id?l("..",{relative:"path"}):(r.set("path",e.id),i(r))}})},hk=e=>{let{t,pathname:n,navigate:r,search:i}=e,a=t("SelectionBar.moveto"),l=av.A;return{name:"moveNextcloud",label:a,icon:l,displayCondition:e=>e.length>0,action:e=>{rI({files:e,pathname:n,navigate:r,path:"move",search:i})},disabled:e=>e.some(e=>"directory"===e.type),Component:(0,s.forwardRef)(function(e,t){return(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:l})}),(0,o.jsx)(rN.default,{primary:a})]})})}},hC=e=>{let{t,pathname:n,navigate:r,search:i}=e,a=t("SelectionBar.trash"),l=rV.default;return{name:"deleteNextcloudFile",label:a,icon:l,action:e=>{rI({files:e,pathname:n,navigate:r,path:"delete",search:i})},Component:(0,s.forwardRef)(function(e,t){return(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:l,color:"var(--errorColor)"})}),(0,o.jsx)(rN.default,{primary:a,primaryTypographyProps:{color:"error"}})]})})}},hS=e=>{let{t,client:n}=e,r=t("SelectionBar.download"),i=rR.default;return{name:"downloadNextcloudFile",label:r,icon:i,displayCondition:e=>1===e.length,action:e=>n.collection("io.cozy.remote.nextcloud.files").download(e[0]),disabled:e=>e.some(e=>!(0,ee.isFile)(e)),Component:(0,s.forwardRef)(function(e,t){return(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:i})}),(0,o.jsx)(rN.default,{primary:r})]})})}};var hz=n(54231);let hF=e=>{let{t}=e,n=t("SelectionBar.openWithinNextcloud");return{name:"openWithinNextcloud",label:n,icon:hz.A,displayCondition:e=>1===e.length,action:e=>{window.open(e[0].links.self,"_blank")},Component:(0,s.forwardRef)(function(e,t){return(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{}),(0,o.jsx)(rN.default,{primary:n}),(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:hz.A})})]})})}},hA=e=>{let{t}=e,n=t("SelectionBar.rename"),r=rJ.default;return{name:"rename",label:n,icon:r,displayCondition:e=>1===e.length,action:()=>{},disabled:()=>!0,Component:(0,s.forwardRef)(function(e,t){return(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:r})}),(0,o.jsx)(rN.default,{primary:n})]})})}},hT=e=>{let{t}=e,n=t("toolbar.share"),r=rA.default;return{name:"share",label:n,icon:r,displayCondition:e=>1===e.length,action:e=>{window.open(e[0].links.self,"_blank")},Component:(0,s.forwardRef)(function(e,t){return(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:r})}),(0,o.jsx)(rN.default,{primary:n}),(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:hz.A})})]})})}},hN=e=>{let{path:t,queryResults:n}=e,[r]=(0,c.useSearchParams)(),i=(0,m.useClient)(),{t:a}=(0,tG.useI18n)(),{pathname:l}=(0,nN.zy)(),s=(0,nN.Zp)(),{hasClipboardData:d}=tW();rw({onPaste:()=>{},canPaste:d,client:i,items:(null==n?void 0:n.reduce((e,t)=>(t.data&&e.push(...t.data),e),[]))||[],sharingContext:null,allowCopy:!0,isNextCloudFolder:!0});let u=(0,nV.gW)([hT,hS,rU,hA,hk,ag,hF,rU,hC],{t:a,client:i,pathname:l,navigate:s,search:r.toString()});return(0,o.jsx)(u7,{folderId:t,queryResults:n,actions:u,withFilePath:!1})},hD=e=>{let{t}=e,n=t("toolbar.menu_new_folder"),r=io.default;return{name:"addFolder",label:n,icon:r,action:()=>{},disabled:()=>!0,Component:(0,s.forwardRef)(function(e,t){return(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:r})}),(0,o.jsx)(rN.default,{primary:n})]})})}},hI=e=>{let{t}=e,n=t("toolbar.menu_download_folder"),r=rR.default;return{name:"downloadNextcloudFolder",label:n,icon:r,action:()=>{},disabled:()=>!0,Component:(0,s.forwardRef)(function(e,t){return(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:r})}),(0,o.jsx)(rN.default,{primary:n})]})})}},hE=e=>{let{t}=e,n=t("SelectionBar.trash"),r=rV.default;return{name:"trash",label:n,icon:r,action:()=>{},disabled:()=>!0,Component:(0,s.forwardRef)(function(e,t){return(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:r,color:"var(--errorColor)"})}),(0,o.jsx)(rN.default,{primary:n,primaryTypographyProps:{color:"error"}})]})})}},hB=e=>{let{t}=e,n=t("toolbar.menu_upload"),r=iH.A;return{name:"upload",label:n,icon:r,action:()=>{},disabled:()=>!0,Component:(0,s.forwardRef)(function(e,t){return(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:r})}),(0,o.jsx)(rN.default,{primary:n})]})})}},hM=()=>{let{t:e}=(0,tG.useI18n)(),{showSelectionBar:t}=rj(),[n,r]=(0,s.useState)(!1),i=(0,s.useRef)(null),a=(0,nV.gW)([hD,uU.y,hB],{t:e}),l=(0,nV.gW)([cW,hF,hI,uU.y,hE],{t:e,showSelectionBar:t});return(0,o.jsxs)("div",{className:aw()("u-flex","u-flex-items-center","u-ml-auto"),role:"toolbar",children:[(0,o.jsx)(tQ.default,{disabled:!0,label:e("NextcloudToolbar.share"),variant:"secondary",startIcon:(0,o.jsx)(rF.default,{icon:rA.default}),className:"u-mr-half"}),(0,o.jsx)("div",{ref:i,children:(0,o.jsx)(tQ.default,{onClick:()=>r(!n),icon:iX.A,label:e("toolbar.menu_add"),startIcon:(0,o.jsx)(rF.default,{icon:iX.A}),"aria-controls":n?"add-menu":void 0,"aria-haspopup":!0,"aria-expanded":!!n||void 0,className:"u-mr-half"})}),n?(0,o.jsx)(ir.default,{open:!0,ref:i,onClose:()=>r(!1),actions:a,docs:[],anchorOrigin:{strategy:"fixed",vertical:"bottom",horizontal:"right"}}):null,(0,o.jsx)(a8,{children:(0,o.jsx)(cV,{actions:l,docs:[],disabled:!1})})]})},hP=()=>{let{isMobile:e}=(0,tM.default)(),{sourceAccount:t}=(0,nN.g)(),n=rd(),{t:r}=(0,tG.useI18n)(),{nextcloudResult:i}=ro({sourceAccount:t,path:n});var a=[i];return"/"===n&&(a=[i,{id:"io.cozy.remote.nextcloud.files.trash-dir",fetchStatus:i.fetchStatus,data:"loaded"===i.fetchStatus?[{_id:"io.cozy.remote.nextcloud.files.trash-dir",type:"directory",name:r("NextcloudBreadcrumb.trash")}]:[]}]),(0,o.jsx)(lG,{children:(0,o.jsxs)(nP.UC,{className:e?"":"u-pt-1",children:[(0,o.jsxs)(sE,{children:[(0,o.jsx)(hw,{sourceAccount:t,path:n}),(0,o.jsx)(hM,{})]}),(0,o.jsx)(hj,{}),(0,o.jsx)(hN,{path:n,queryResults:a}),(0,o.jsx)(nN.sv,{})]})})},hR=()=>{let{pathname:e}=(0,nN.zy)(),[t]=(0,c.useSearchParams)(),n=(0,nN.Zp)(),r=rc(),{entries:i,hasEntries:a,isLoading:l}=hg(),s=rt(e)+`?${t.toString()}`;return a?i&&!l&&r?(0,o.jsx)(ha,{showNextcloudFolder:!0,currentFolder:r,entries:i,onClose:()=>{n(s,{replace:!0})}}):(0,o.jsx)(tY,{}):(0,o.jsx)(nN.C5,{to:s,replace:!0})},hq=e=>{let{onConfirm:t,onClose:n}=e,{t:r}=(0,tG.useI18n)(),{showAlert:i}=(0,na.useAlert)(),[a,l]=(0,s.useState)(!1),d=(0,s.useCallback)(async()=>{try{i({message:r("EmptyTrashConfirm.processing"),severity:"info"}),l(!0),await t(),i({message:r("EmptyTrashConfirm.success"),severity:"success"})}catch{i({message:r("EmptyTrashConfirm.error"),severity:"error"})}finally{l(!1),n()}},[t,n,i,r]);return(0,o.jsx)(tZ.A,{open:!0,onClose:n,title:r("EmptyTrashConfirm.title"),content:(0,o.jsxs)(dV.default,{children:[(0,o.jsxs)(dW.default,{gutters:"disabled",size:"small",ellipsis:!1,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:dU.A})}),(0,o.jsx)(rN.default,{primary:r("EmptyTrashConfirm.forbidden")})]}),(0,o.jsxs)(dW.default,{gutters:"disabled",size:"small",ellipsis:!1,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:r7.A})}),(0,o.jsx)(rN.default,{primary:r("EmptyTrashConfirm.restore")})]})]}),actions:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(tQ.default,{variant:"secondary",onClick:n,label:r("EmptyTrashConfirm.cancel")}),(0,o.jsx)(tQ.default,{variant:"primary",onClick:d,label:r("EmptyTrashConfirm.delete"),color:"error",busy:a})]})})},hO=()=>{let{sourceAccount:e}=(0,nN.g)(),[t]=(0,c.useSearchParams)(),{pathname:n}=(0,nN.zy)(),r=rd({insideTrash:!0}),i=(0,nN.Zp)(),a=(0,m.useClient)(),l=async()=>{await (null==a?void 0:a.collection("io.cozy.remote.nextcloud.files").emptyTrash(e));let t=nZ({sourceAccount:e,path:r})+"/trashed";await (null==a?void 0:a.resetQuery(t))};return(0,o.jsx)(hq,{onConfirm:l,onClose:()=>{i(`${rt(n)??""}?${t.toString()}`,{replace:!0})}})},hL=e=>{let{t,client:n,showAlert:r}=e,i=t("RestoreNextcloudFile.label"),a=r7.A;return{name:"restoreNextcloudFile",label:i,icon:a,displayCondition:e=>e.length>0,action:async e=>{let i=e[0].cozyMetadata.sourceAccount,a=e[0].parentPath;try{for(let t of e)await n.collection("io.cozy.remote.nextcloud.files").restore(t);let l=e.map(e=>e.restore_path?rt(e.restore_path):void 0).filter(Boolean),o=Array.from(new Set(l));if((await Promise.all(o.map(e=>{let t=nZ({sourceAccount:i,path:e});return n.resetQuery(t)}))).some(e=>null===e)){let e=nZ({sourceAccount:i,path:a})+"/trashed";await n.resetQuery(e)}r({message:t("RestoreNextcloudFile.success"),severity:"success"})}catch(e){r({message:t("RestoreNextcloudFile.error"),severity:"error"})}},Component:(0,s.forwardRef)(function(e,t){return(0,o.jsxs)(rz.A,{...e,ref:t,children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(rF.default,{icon:a})}),(0,o.jsx)(rN.default,{primary:i})]})})}},h$=e=>{let{path:t,queryResults:n}=e,[r]=(0,c.useSearchParams)(),i=(0,m.useClient)(),{t:a}=(0,tG.useI18n)(),{showAlert:l}=(0,na.useAlert)(),{pathname:s}=(0,nN.zy)(),d=(0,nN.Zp)(),u=(0,nV.gW)([hL,cZ],{t:a,client:i,showAlert:l,pathname:s,navigate:d,search:r.toString()});return(0,o.jsx)(u7,{folderId:t,queryResults:n,actions:u,withFilePath:!1,extraColumns:[]})},hU=()=>{let{sourceAccount:e}=(0,nN.g)(),t=rd({insideTrash:!0}),{nextcloudResult:n}=ro({sourceAccount:e,path:t,insideTrash:!0});return(0,o.jsxs)(lG,{isNotFound:!1,children:[(0,o.jsxs)(sE,{children:[(0,o.jsx)(hw,{sourceAccount:e,path:t}),(0,o.jsx)(cQ,{})]}),(0,o.jsx)(hj,{}),(0,o.jsx)(h$,{path:t,queryResults:[n]}),(0,o.jsx)(nN.sv,{})]})};var hV=n(52577),hW=n(56873),hH=n(35976);let hQ=e=>{let{children:t,isMobile:n,onClean:r,isInputNotEmpty:i}=e;return(0,o.jsx)(hH.A,{fullwidth:!0,className:"bar-search-input-group-lBA2Bf",prepend:n?null:(0,o.jsx)(rF.default,{icon:a9.default,className:"bar-search-input-group-append-qBA4x4","aria-hidden":"true"}),append:i?(0,o.jsx)(iK.default,{size:"medium",onClick:r,children:(0,o.jsx)(rF.default,{icon:hW.A})}):null,children:t})};var hZ=n(44819);let hG=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:96,height:96,fill:"none",viewBox:"0 0 96 96",...e,children:[(0,o.jsx)("path",{fill:"#BBD9FD",fillRule:"evenodd",d:"M66.963 43.145c0 13.036-10.613 23.605-23.705 23.605-13.09 0-23.703-10.57-23.703-23.605s10.613-23.604 23.703-23.604c13.092 0 23.705 10.568 23.705 23.604",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#3281EE",fillRule:"evenodd",d:"M42.666 22.077c-11.338 0-20.564 9.186-20.564 20.48 0 11.29 9.226 20.477 20.564 20.477 11.34 0 20.565-9.187 20.565-20.478 0-11.293-9.226-20.479-20.565-20.479m0 47.034C27.963 69.11 16 57.199 16 42.556S27.963 16 42.666 16c14.705 0 26.667 11.913 26.667 26.556S57.371 69.111 42.666 69.111",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#3281EE",fillRule:"evenodd",d:"M73.837 77.372c-1.577 0-3.154-.6-4.357-1.797l-10.193-10.15a6.12 6.12 0 0 1 0-8.68 6.18 6.18 0 0 1 8.715 0l10.192 10.15a6.12 6.12 0 0 1 .001 8.679 6.16 6.16 0 0 1-4.358 1.798",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#BBD9FD",fillRule:"evenodd",d:"M23.637 93.174c1.994.873 7.11 1.63 11.234 1.934 11.258.826 26.99.386 33.657-1.13 6.719-1.527 7.018-3.842-10.064-4.994-14.542-.981-31.516.406-35.147 2.476-.974.555-.92 1.173.32 1.714",clipRule:"evenodd"})]}),hK=e=>{let{query:t}=e,{t:n}=(0,tG.useI18n)();return(0,o.jsxs)(hZ.default,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",className:"u-m-auto u-maw-5 u-ta-center",spacing:1,children:[(0,o.jsx)(hZ.default,{item:!0,children:(0,o.jsx)(rF.default,{width:96,height:96,icon:hG,"aria-hidden":"true"})}),(0,o.jsx)(hZ.default,{item:!0,children:(0,o.jsx)(t0.default,{variant:"h3",children:n("search.empty.title",{query:t})})}),(0,o.jsx)(hZ.default,{item:!0,children:(0,o.jsx)(t0.default,{variant:"body1",color:"textSecondary",children:n("search.empty.subtitle",{query:t})})})]})};var hY=n(80022);let hJ=class{search(e){let t;if(!e)return[];let n=(0,hY.remove)(e.replace(/\//g," ").trim().toLowerCase()).split(" ").map(e=>({word:e,isAugmentedWord:!1,isNewWord:!0})),r=this.isAugmentingPreviousQuery(n),i=r?this.sortQueryByRevelance(n):this.sortQuerybyLength(n);return t=r&&0!==this.previousSuggestions.length?this.filterAndScore(this.previousSuggestions,i.map(e=>e.word)):this.filterAndScore(this.files,i.map(e=>e.word)),this.previousQuery=i,this.previousSuggestions=t,t}isAugmentingPreviousQuery(e){for(let t of e){let e=!1;for(let n of this.previousQuery)if(t.word.includes(n.word)){e=!0;break}if(!1===e)return!1}return!0}sortQueryByRevelance(e){let t=[],n=[];for(let r of e){let e=!1;for(let i of this.previousQuery)if(r.word.includes(i.word)){r.word!==i.word?(r.isAugmentedWord=!0,t.push(r)):(r.isNewWord=!1,n.push(r)),e=!0;continue}e||t.push(r)}return this.sortQuerybyLength(t).concat(this.sortQuerybyLength(n))}sortQuerybyLength(e){return e.sort((e,t)=>t.word.length-e.word.length)}filterAndScore(e,t){let n=[];return e.forEach(e=>{let r=0,i=(0,hY.remove)((e.path+"/"+e.name).toLowerCase()).split("/").filter(e=>!!e);for(let e of t){let t=0,n=1e4,a=!0,l=i.length;for(let r=0;r<l;++r){let o=i[r];o.includes(e)?(a?(t+=(n=0x3200000)/2*(1+e.length/o.length),a=!1):t-=n*(1-e.length/o.length),n/=2):(t-=n,n/=2,r===l-1&&(t/=2)),n/=2}if(t<0)return;r+=t}r>0&&n.push({file:e,score:r})}),n.sort((e,t)=>{let n=t.score-e.score;return 0!==n?n:e.file.path.localeCompare(t.file.path)}),n.map(e=>e.file)}constructor(e=[]){this.files=e,this.previousQuery=[],this.previousSuggestions=e}},hX="directory",h0=e=>e.toString().toLowerCase().replace(/\//g," ").normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" "),h1=async e=>{let t=(await e.getStackClient().fetchJSON("GET","/data/io.cozy.files/_all_docs?Fields=_id,trashed,dir_id,name,path,type,mime,class,metadata.title,metadata.version&DesignDocs=false&include_docs=true")).rows.map(e=>({id:e.id,...e.doc})),n=t.filter(e=>e.type===hX);return new hJ(t.filter(e=>!e.trashed&&!/^\/\.cozy_trash/.test(e.path)&&void 0!==n.find(t=>t._id===e.dir_id)&&e._id!==en&&e._id!==ea).map(e=>((e,t,n)=>{let r,i,a,l=n.type===hX,o=l?n._id:n.dir_id,s=`/folder/${o}`,d="drive";if(l)r=n.path,i=s,a=s;else{let e=t.find(e=>e._id===n.dir_id);r=e&&e.path?e.path:"",a=e&&e._id?`/folder/${e._id}`:"",m.models.file.isNote(n)?(i=`/n/${n.id}`,d="notes"):i=m.models.file.shouldBeOpenedByOnlyOffice(n)?iC(n.id,{fromPathname:s}):`${s}/file/${n._id}`}return{id:n._id,type:n.type,name:n.name,mime:n.mime,class:n.class,path:r,url:i,parentUrl:a,openOn:d,isEncrypted:!!eA(n)}})(0,n,e)))},h2=e=>{let{text:t,query:n}=e,r=((e,t)=>{let n=h0(t),r=h0(e),i=[],a=0;r.forEach(e=>{n.forEach(t=>{let n=e.indexOf(t);n>=0&&i.push({from:a+n,to:a+n+t.length})}),a+=e.length+1});let l=i.sort((e,t)=>e.from>t.from).reduce((e,t)=>(0===e.length||e[e.length-1].to<t.from?e.push(t):e[e.length-1].to<t.to&&(e[e.length-1].to=t.to),e),[]),s=l.length>0?[(0,o.jsx)("span",{children:e.slice(0,l[0].from)},"0")]:e;for(let t=0,n=l.length;t<n;++t)s.push((0,o.jsx)("span",{className:"u-primaryColor",children:e.slice(l[t].from,l[t].to)})),t+1<n&&s.push((0,o.jsx)("span",{children:e.slice(l[t].to,l[t+1].from)}));return l.length>0&&s.push((0,o.jsx)("span",{children:e.slice(l[l.length-1].to,e.length)})),s})(t,n);return Array.isArray(r)?r.map((e,t)=>({...e,key:t})):r},h3=e=>{let{text:t,query:n,url:r,onOpened:i,isMobile:a}=e,l=(0,m.useClient)();if(a)return(0,o.jsx)(h2,{text:t,query:n});let s={slug:"drive"},{subdomain:d}=l.getInstanceOptions(),c=(0,ip.isFlagshipApp)()?iy.Bz:m.generateWebLink,u=s&&c({slug:"drive",cozyUrl:l.getStackClient().uri,subDomainType:d,nativePath:r,pathname:"/",hash:r});return(0,o.jsx)(d8.default,{app:s,href:u,children:e=>{let{onClick:r,href:a}=e;return(0,o.jsx)("a",{className:"suggestion-item-parent-link-a7i1JC",href:a,onClick:e=>{e.stopPropagation(),"function"==typeof i&&i(e),"function"==typeof r&&r(e)},children:(0,o.jsx)(h2,{text:t,query:n})})}})},h4=e=>{var t;let{suggestion:n,query:r,onClick:i,onParentOpened:a,isMobile:l=!1}=e,d=(0,s.useCallback)(()=>{"function"==typeof i&&i(n)},[i,n]),c={class:n.class,type:n.type,mime:n.mime,name:n.title.replace(/\.url$/,""),parentUrl:n.parentUrl};return(0,o.jsxs)(dW.default,{button:!0,onClick:d,children:[(0,o.jsx)(rT.default,{children:"shortcut"===c.class?(0,o.jsx)(oF,{file:c}):(0,o.jsx)(oz,{file:c,isEncrypted:n.isEncrypted})}),(0,o.jsx)(rN.default,{primary:(0,o.jsx)(h2,{text:c.name,query:r}),secondary:(null==(t=c.parentUrl)?void 0:t.includes(ea))?null:(0,o.jsx)(h3,{text:n.subtitle,url:n.parentUrl,query:r,onOpened:a,isMobile:l})})]})};var h5=n(55540);let h6=()=>(0,o.jsxs)(dW.default,{children:[(0,o.jsx)(rT.default,{children:(0,o.jsx)(h5.default,{width:32,height:32,variant:"rect",animation:"wave",className:"u-bdrs-4"})}),(0,o.jsx)(rN.default,{primary:(0,o.jsx)(h5.default,{width:196,height:8,variant:"rect",animation:"wave",className:"u-bdrs-3 u-mb-half"}),secondary:(0,o.jsx)(h5.default,{width:96,height:8,variant:"rect",animation:"wave",className:"u-bdrs-3"})})]}),h7=e=>{let{count:t}=e;return(0,o.jsx)(dV.default,{children:Array(t||4).fill(1).map((e,t)=>(0,o.jsx)(h6,{},t))})},h8=function(e){let{limit:t=10}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,m.useClient)(),[r,i]=(0,s.useState)([]),[a,l]=(0,s.useState)([]),[o,d]=(0,s.useState)(null),[c,u]=(0,s.useState)(!0),[h,p]=(0,s.useState)(""),f=((e,t)=>{let{delay:n,ignore:r}=t,[i,a]=(0,s.useState)(e);return(0,s.useEffect)(()=>{if(r)return a(e);let t=setTimeout(()=>{a(e)},n);return()=>{clearTimeout(t)}},[e,n,r]),i})(e,{delay:500,ignore:""===e}),y=async()=>{null==o&&d(await h1(n))};(0,s.useEffect)(()=>{let e=async e=>{u(!0);let r=o;null==r&&d(r=await h1(n));let a=r.search(e).map(e=>({id:e.id,title:e.name,subtitle:e.path,url:e.url,parentUrl:e.parentUrl,openOn:e.openOn,type:e.type,mime:e.mime,isEncrypted:e.isEncrypted,class:e.class}));u(""===e),p(e),i(a),l(a.slice(0,t))};""!==f?e(f):b()},[n,f,o,t]);let g=(0,s.useMemo)(()=>a.length>0,[a]),v=(0,s.useMemo)(()=>a.length<r.length,[a,r]),_=async()=>{l(r.slice(0,a.length+t))},b=()=>{u(!0),p(""),i([]),l([])};return{suggestions:a,hasSuggestions:g,hasMore:v,isBusy:c,query:h,makeIndexes:y,fetchMore:_}},h9=()=>{let e=(0,tB.useWebviewIntent)(),{search:t}=(0,nN.zy)(),n=(0,nN.Zp)(),{isMobile:r}=(0,tM.default)(),i=(0,m.useClient)(),[a,l]=(0,s.useState)(""),{t:d}=(0,tG.useI18n)(),{isBusy:c,suggestions:u,hasSuggestions:h,query:p,makeIndexes:f,hasMore:y,fetchMore:g}=h8(a,{limit:25});(0,s.useEffect)(()=>{f()},[]);let v=(0,s.useCallback)(()=>{n(new URLSearchParams(t).get("returnPath")||"/")},[n,t]),_=(0,s.useCallback)(async t=>{if("drive"===t.openOn)n(t.url);else if("notes"===t.openOn){let n=await m.models.note.fetchURL(i,{id:t.url.substr(3)});(0,ip.isFlagshipApp)()?e.call("openApp",n,{slug:"notes"}):window.location.assign(n)}else console.error(`openSuggestion (${t.name}) could not be executed`)},[n,e,i]),b=""!==a&&!h;return(0,o.jsxs)(nP.gZ,{children:[r&&(0,o.jsx)(D.BarLeft,{children:(0,o.jsx)(sC,{onClick:v})}),(0,o.jsx)(D.BarSearch,{children:(0,o.jsx)("div",{className:aw()("bar-search-container-mMYb4d",r?"mobile-AylZFe":""),role:"search",children:(0,o.jsx)(hQ,{isMobile:r,isInputNotEmpty:""!==a,onClean:()=>{l("")},children:(0,o.jsx)(hV.A,{fullwidth:!0,value:a,onChange:e=>{l(e.target.value)},placeholder:d("searchbar.placeholder"),autoFocus:!0})})})}),h&&(0,o.jsx)(dV.default,{children:u.map(e=>(0,o.jsx)(h4,{suggestion:e,query:p,onClick:_,isMobile:r},e.id))}),y&&(0,o.jsx)("div",{className:"u-flex u-flex-justify-center",children:(0,o.jsx)(so.A,{label:d("table.load_more"),fetchMore:g})}),b&&!c&&(0,o.jsx)(hK,{query:p}),b&&c&&(0,o.jsx)(h7,{count:10})]})},me=e=>{let{driveId:t,folderId:n}=e,{t:r}=(0,tG.useI18n)(),i=(0,nN.Zp)(),a=(e=>{let{driveId:t}=e;return{definition:()=>(0,m.Q)("io.cozy.sharings").getById(t),options:{as:`io.cozy.sharings/driveId/${t}`,fetchPolicy:em,singleDocData:!0,enabled:!!t}}})({driveId:t}),{data:l}=(0,m.useQuery)(a.definition,a.options),d=sT({currentFolderId:n,rootBreadcrumbPath:(0,s.useMemo)(()=>{var e,t,n;return{id:null==l||null==(n=l.rules)||null==(t=n[0])||null==(e=t.values)?void 0:e[0],name:null==l?void 0:l.description}},[l]),driveId:t}),c=(0,s.useCallback)(e=>{let{id:n}=e;n===ea?i(`/folder/${ea}`):i(`/shareddrive/${t}/${n}`)},[t,i]);return(0,o.jsx)(sF,{path:[{id:ea,name:r("breadcrumb.title_shared_drives")},...d],onBreadcrumbClick:c,opening:!1})},mt=e=>{let{folderId:t,queryResults:n,refreshFolderContent:r}=e,i=(0,nN.Zp)(),{pathname:a}=(0,nN.zy)(),l=(0,m.useClient)(),s=(0,nn.Zx)(),{driveId:d}=(0,nN.g)(),{t:c}=(0,tG.useI18n)(),{isOwner:u,byDocId:h,hasWriteAccess:p,refresh:f}=(0,tX.r)(),{isMobile:y}=(0,tM.default)(),{showAlert:g}=(0,na.useAlert)(),v=(0,I.wA)(),{pushModal:_,popModal:b}=nb(),x=p(t,d),j=(0,nV.gW)([r$,rU,rX,ie,rU,r6,rU,rY],{client:l,t:c,vaultClient:s,pathname:a,isOwner:u,isMobile:y,driveId:d,hasWriteAccess:x,byDocId:h,dispatch:v,navigate:i,showAlert:g,pushModal:_,popModal:b,refresh:f});return(0,o.jsx)(u7,{folderId:t,queryResults:n,actions:j,withFilePath:!1,driveId:d,refreshFolderContent:r})},mn=()=>{let{isMobile:e}=(0,tM.default)(),{driveId:t,folderId:n}=(0,nN.g)(),{hasWriteAccess:r}=(0,tX.r)(),{displayedFolder:i}=n0(),a=(null==i?void 0:i.dir_id)===ea,{sharedDriveResult:l}=(e=>{let{driveId:t,folderId:n}=e,r=(0,m.useClient)(),[i,a]=(0,s.useState)({data:void 0}),l=(0,s.useMemo)(()=>ez({driveId:t,folderId:n}),[t,n]);return(0,s.useEffect)(()=>{let e,n=async()=>{a(await (null==r?void 0:r.query(l.definition(),l.options)))};r&&n();let i=lk()(()=>{n()},500);return r&&((e=new F.default({client:r,sharedDriveId:t})).subscribe("updated","io.cozy.files",i),e.subscribe("created","io.cozy.files",i),e.subscribe("deleted","io.cozy.files",i)),()=>{e&&e.stop(),i.cancel()}},[r,t,l]),{sharedDriveQuery:l,sharedDriveResult:i}})({driveId:t,folderId:n}),d=l?[{fetchStatus:"loaded",data:l.included}]:[],c=r(n,t);return(0,o.jsx)(lG,{children:(0,o.jsx)(e?ly:lb,{disabled:!c,displayedFolder:i,children:(0,o.jsxs)(nP.UC,{className:e?"":"u-pt-1",children:[(0,o.jsxs)(sE,{children:[(0,o.jsx)(me,{driveId:t,folderId:n}),(0,o.jsx)(lc,{canUpload:!1,canCreateFolder:!1,driveId:t,showShareButton:a})]}),(0,o.jsx)(mt,{folderId:n,queryResults:d}),(0,o.jsx)(nN.sv,{})]})})})},mr=()=>{let{refresh:e}=(0,tX.r)(),t=(0,nN.Zp)(),n=(0,m.useClient)(),{state:r}=(0,nN.zy)(),i=void 0!==r.fileIds,a=eg(r.fileIds??[]),l=(0,m.useQuery)(a.definition,{...a.options,enabled:i});if(!i)return(0,o.jsx)(nN.C5,{to:"..",replace:!0});let s=async()=>{if(l.data){for(let e of l.data)await (null==n?void 0:n.collection("io.cozy.files").deleteFilePermanently(e.id));e()}},d=Array.isArray(l.data)?l.data.length>0:l.data;return(0,m.hasQueryBeenLoaded)(l)&&d?(0,o.jsx)(dH,{files:l.data,onConfirm:s,onClose:()=>{t("..",{replace:!0})}}):(0,o.jsx)(tY,{})},mi=()=>{let e=(0,nN.Zp)(),t=(0,m.useClient)(),n=async()=>{await (null==t?void 0:t.collection("io.cozy.files").emptyTrash())};return(0,o.jsx)(hq,{onConfirm:n,onClose:()=>{e("..",{replace:!0})}})},ma=()=>{let{folderId:e}=(0,nN.g)();return(0,o.jsx)(nN.C5,{to:`/folder/${e}`,replace:!0})},ml=()=>(0,o.jsx)(nN.C5,{to:"/sharings?tab=1",replace:!0}),mo=e=>{let{Component:t}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t,{}),(0,o.jsx)(nN.sv,{})]})},ms=()=>(0,o.jsxs)(c7,{children:[(0,o.jsx)(nN.qh,{path:"external/:fileId",element:(0,o.jsx)(nq,{})}),(0,o.jsx)(nN.qh,{path:"note/:fileId",element:(0,o.jsx)(u2,{})}),(0,o.jsx)(nN.qh,{path:"note/:driveId/:fileId",element:(0,o.jsx)(u2,{})}),(0,o.jsxs)(nN.qh,{element:(0,o.jsx)(uX,{}),children:[(0,o.jsx)(nN.qh,{path:"upload",element:(0,o.jsx)(ug,{})}),(0,o.jsx)(nN.qh,{path:"/files/:folderId",element:(0,o.jsx)(ma,{})}),(0,o.jsx)(nN.qh,{path:"/",element:(0,o.jsx)(n$,{})}),(0,o.jsx)(nN.qh,{path:"folder",element:(0,o.jsx)(nN.C5,{to:en,replace:!0})}),(0,o.jsxs)(nN.qh,{path:"folder/:folderId",element:(0,o.jsx)(dp,{}),children:[(0,o.jsxs)(nN.qh,{path:"file/:fileId",element:(0,o.jsx)(mo,{Component:dN}),children:[(0,o.jsx)(nN.qh,{path:"v/revision",element:(0,o.jsx)(c2,{})}),(0,o.jsx)(nN.qh,{path:"v/share",element:(0,o.jsx)(hf,{})}),(0,o.jsx)(nN.qh,{path:"v/move",element:(0,o.jsx)(hl,{})}),(0,o.jsx)(nN.qh,{path:"v/duplicate",element:(0,o.jsx)(hr,{})})]}),(0,o.jsx)(nN.qh,{path:"file/:fileId/revision",element:(0,o.jsx)(c2,{})}),(0,o.jsx)(nN.qh,{path:"file/:fileId/share",element:(0,o.jsx)(hf,{})}),(0,o.jsx)(nN.qh,{path:"file/:fileId/qualify",element:(0,o.jsx)(hm,{})}),(0,o.jsx)(nN.qh,{path:"paywall",element:(0,o.jsx)(c_,{})}),(0,o.jsx)(nN.qh,{path:"share",element:(0,o.jsx)(hp,{})}),(0,o.jsx)(nN.qh,{path:"move",element:(0,o.jsx)(hl,{})}),(0,o.jsx)(nN.qh,{path:"harvest/:konnectorSlug/*",element:(0,o.jsx)(u6,{})}),(0,o.jsx)(nN.qh,{path:"duplicate",element:(0,o.jsx)(hr,{})})]}),(0,o.jsx)(nN.qh,{path:`folder/${ea}`,element:(0,o.jsx)(ml,{}),children:(0,o.jsx)(nN.qh,{path:"file/:fileId",element:(0,o.jsx)(dN,{})})}),(0,y.default)("drive.hide-nextcloud-dev")?null:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(nN.qh,{path:"nextcloud/:sourceAccount",element:(0,o.jsx)(hP,{}),children:[(0,o.jsx)(nN.qh,{path:"move",element:(0,o.jsx)(hR,{})}),(0,o.jsx)(nN.qh,{path:"delete",element:(0,o.jsx)(hv,{})}),(0,o.jsx)(nN.qh,{path:"duplicate",element:(0,o.jsx)(hb,{})})]}),(0,o.jsxs)(nN.qh,{path:"nextcloud/:sourceAccount/trash",element:(0,o.jsx)(hU,{}),children:[(0,o.jsx)(nN.qh,{path:"empty",element:(0,o.jsx)(hO,{})}),(0,o.jsx)(nN.qh,{path:"destroy",element:(0,o.jsx)(h_,{})})]})]}),(0,y.default)("drive.shared-drive.enabled")?(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(nN.qh,{path:"shareddrive/:driveId/:folderId",element:(0,o.jsx)(mn,{}),children:[(0,o.jsx)(nN.qh,{path:"file/:fileId",element:(0,o.jsx)(mo,{Component:ck})}),(0,o.jsx)(nN.qh,{path:"file/:fileId/revision",element:(0,o.jsx)(c2,{})}),(0,o.jsx)(nN.qh,{path:"file/:fileId/v/revision",element:(0,o.jsx)(c2,{})}),(0,o.jsx)(nN.qh,{path:"share",element:(0,o.jsx)(hp,{})})]})}):null,(0,o.jsxs)(nN.qh,{path:"recent",element:(0,o.jsx)(cj,{}),children:[(0,o.jsxs)(nN.qh,{path:"file/:fileId",element:(0,o.jsx)(mo,{Component:cw}),children:[(0,o.jsx)(nN.qh,{path:"v/revision",element:(0,o.jsx)(c2,{})}),(0,o.jsx)(nN.qh,{path:"v/share",element:(0,o.jsx)(hf,{})}),(0,o.jsx)(nN.qh,{path:"v/move",element:(0,o.jsx)(hl,{})}),(0,o.jsx)(nN.qh,{path:"v/duplicate",element:(0,o.jsx)(hr,{})})]}),(0,o.jsx)(nN.qh,{path:"file/:fileId/revision",element:(0,o.jsx)(c2,{})}),(0,o.jsx)(nN.qh,{path:"file/:fileId/share",element:(0,o.jsx)(hf,{})}),(0,o.jsx)(nN.qh,{path:"file/:fileId/qualify",element:(0,o.jsx)(hm,{})}),(0,o.jsx)(nN.qh,{path:"share",element:(0,o.jsx)(hp,{})}),(0,o.jsx)(nN.qh,{path:"move",element:(0,o.jsx)(hl,{})})]}),(0,o.jsx)(nN.qh,{path:"trash",element:(0,o.jsx)(nN.C5,{to:er,replace:!0})}),(0,o.jsxs)(nN.qh,{path:"trash/:folderId",element:(0,o.jsx)(cY,{}),children:[(0,o.jsx)(nN.qh,{path:"file/:fileId",element:(0,o.jsx)(c$,{})}),(0,o.jsx)(nN.qh,{path:"file/:fileId/revision",element:(0,o.jsx)(c2,{})}),(0,o.jsx)(nN.qh,{path:"empty",element:(0,o.jsx)(mi,{})}),(0,o.jsx)(nN.qh,{path:"destroy",element:(0,o.jsx)(mr,{})})]}),(0,o.jsxs)(nN.qh,{path:"sharings",children:[(0,o.jsx)(nN.qh,{index:!0,element:(0,o.jsx)(cM,{})}),(0,o.jsxs)(nN.qh,{element:(0,o.jsx)(cM,{}),children:[(0,o.jsxs)(nN.qh,{path:"file/:fileId",element:(0,o.jsx)(mo,{Component:cP}),children:[(0,o.jsx)(nN.qh,{path:"v/revision",element:(0,o.jsx)(c2,{})}),(0,o.jsx)(nN.qh,{path:"v/share",element:(0,o.jsx)(hf,{})}),(0,o.jsx)(nN.qh,{path:"v/move",element:(0,o.jsx)(hl,{})}),(0,o.jsx)(nN.qh,{path:"v/duplicate",element:(0,o.jsx)(hr,{})})]}),(0,o.jsx)(nN.qh,{path:"file/:fileId/revision",element:(0,o.jsx)(c2,{})}),(0,o.jsx)(nN.qh,{path:"file/:fileId/share",element:(0,o.jsx)(hf,{})}),(0,o.jsx)(nN.qh,{path:"file/:fileId/qualify",element:(0,o.jsx)(hm,{})})]}),(0,o.jsxs)(nN.qh,{path:":folderId",element:(0,o.jsx)(cL,{}),children:[(0,o.jsx)(nN.qh,{path:"file/:fileId",element:(0,o.jsx)(cP,{})}),(0,o.jsx)(nN.qh,{path:"file/:fileId/revision",element:(0,o.jsx)(c2,{})}),(0,o.jsx)(nN.qh,{path:"file/:fileId/share",element:(0,o.jsx)(hf,{})}),(0,o.jsx)(nN.qh,{path:"file/:fileId/qualify",element:(0,o.jsx)(hm,{})}),(0,o.jsx)(nN.qh,{path:"share",element:(0,o.jsx)(hp,{})})]}),(0,o.jsx)(nN.qh,{path:"move",element:(0,o.jsx)(hl,{})})]}),(0,o.jsx)(nN.qh,{path:"onlyoffice/:fileId",element:(0,o.jsx)(cf,{}),children:(0,o.jsx)(nN.qh,{path:"paywall",element:(0,o.jsx)(c_,{})})}),(0,o.jsx)(nN.qh,{path:"onlyoffice/:driveId/:fileId",element:(0,o.jsx)(cf,{}),children:(0,o.jsx)(nN.qh,{path:"paywall",element:(0,o.jsx)(c_,{})})}),(0,o.jsx)(nN.qh,{path:"onlyoffice/create/:folderId/:fileClass",element:(0,o.jsx)(cg,{})}),(0,o.jsx)(nN.qh,{path:"onlyoffice/create/:driveId/:folderId/:fileClass",element:(0,o.jsx)(cg,{})}),(0,o.jsx)(nN.qh,{path:"file/:fileId",element:(0,o.jsx)(u4,{})}),(0,o.jsx)(nN.qh,{path:"search",element:(0,o.jsx)(h9,{})}),(0,o.jsxs)(nN.qh,{path:"favorites",element:(0,o.jsx)(he,{}),children:[(0,o.jsx)(nN.qh,{path:"file/:fileId/revision",element:(0,o.jsx)(c2,{})}),(0,o.jsx)(nN.qh,{path:"file/:fileId/share",element:(0,o.jsx)(hf,{})}),(0,o.jsx)(nN.qh,{path:"file/:fileId/qualify",element:(0,o.jsx)(hm,{})}),(0,o.jsx)(nN.qh,{path:"share",element:(0,o.jsx)(hp,{})}),(0,o.jsx)(nN.qh,{path:"move",element:(0,o.jsx)(hl,{})})]}),D.BarRoutes.map(e=>e)]})]}),md=e=>(0,o.jsx)(nT,{...e,children:(0,o.jsx)(c.HashRouter,{children:(0,o.jsx)(oH,{children:(0,o.jsx)(ms,{})})})});document.addEventListener("DOMContentLoaded",()=>{(()=>{let{locale:e,polyglot:t,client:n,store:r,root:i}=tT();(0,d.render)((0,o.jsx)(md,{lang:e,polyglot:t,client:n,store:r}),i)})()})},7021:function(){},18467:function(){},31292:function(){},11612:function(){},74303:function(){},61522:function(){},74381:function(){},91260:function(){},2617:function(){},33776:function(){},54284:function(){},5225:function(){},4044:function(e){"use strict";e.exports=JSON.parse('{"Nav":{"item_drive":"القرص","item_recent":"الحديثة","item_activity":"النشاط","item_settings":"الإعدادات","btn-client-web":"تحصّل على كوزي","btn-client-mobile":"تحصّل على كوزي لجهازك المحمول !","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8"},"breadcrumb":{"title_drive":"القرص","title_recent":"الحديثة","title_shared":"التي شاركتها","title_activity":"النشاط"},"Toolbar":{"more":"المزيد"},"toolbar":{"item_more":"المزيد","menu_select":"تحديد العناصر","menu_download_folder":"مُجلّد التنزيل","share":"شارك","select_all":"تحديد الكل","select_all_mobile":"الكل","clear_selection":"مسح التحديد","clear_selection_mobile":"مسح","delete_shared_drive":"حذف محرك الأقراص المشترك","sharings_tab_all":"الكل","sharings_tab_drives":"محركات الأقراص"},"Files":{"share":{"cta":"شارك","details":{"title":"تفاصيل المشاركة"},"sharedWithMe":"مُشارَك معي","shareByEmail":{"subtitle":"عبر البريد الإلكتروني","email":"إلى :","send":"إرسل"},"sharingLink":{"title":"رابط المشاركة","copy":"نسخ","copied":"تم نسخه"},"protectedShare":{"title":"قريبًا !"},"close":"غلق","gettingLink":"جارٍ جلب رابطك …"}},"table":{"head_name":"الإسم","head_update":"آخر تحديث","head_size":"الحجم","row_size_symbols":{"B":"ب","KB":"كب","MB":"مب","GB":"جب","TB":"تب"},"load_more":"عرض المزيد"},"Storage":{"title":"التخزين","availability":"متاح %{smart_count} جيجابايت","increase":"زيادة مساحتك"},"SelectionBar":{"share":"مشاركة","download":"تنزيل","trash":"حذف","rename":"تعديل التسمية","restore":"إسترجاع","close":"غلق"},"DeleteConfirm":{"cancel":"إلغاء","delete":"حذف"},"emptytrashconfirmation":{"cancel":"إلغاء","delete":"حذف الكل"},"DestroyConfirm":{"cancel":"إلغاء"},"quotaalert":{"confirm":"نعم"},"loading":{"message":"تحميل"},"error":{"button":{},"download_file":{"offline":"يتوجب أن تكون متصلا لتنزيل هذا الملف","missing":"إنّ الملف مفقود"}},"alert":{"could_not_open_file":"لقد تعذّر فتح هذا الملف","item_copied":"تم نسخ عنصر واحد","items_copied":"تم نسخ %{count} عنصر","item_cut":"تم قص عنصر واحد","items_cut":"تم قص %{count} عنصر","item_moved":"تم نقل عنصر واحد","items_moved":"تم نقل %{count} عنصر","item_pasted":"تم نقل عنصر واحد","items_pasted":"تم نقل %{count} عنصر","copy_files_only":"لا يمكن نسخ المجلدات","copy_not_allowed":"عملية النسخ غير مسموحة في هذا العرض.","paste_error":"حدث خطأ أثناء لصق الملفات","paste_failed":"فشل في لصق الملفات","paste_sharing_error":"لا يمكن لصق الملفات بسبب قيود المشاركة. يرجى استخدام إجراء النقل بدلاً من ذلك.","paste_same_folder_skipped":"لا يمكن نقل العناصر إلى نفس المجلد الذي توجد فيه بالفعل.","paste_not_allowed":"لا يمكنك اللصق في هذا المجلد","cannot_move_shared_drive":"لا يمكنك نقل مجلد القرص المشترك","cannot_copy_shared_drive":"لا يمكنك نسخ مجلد محرك الأقراص المشترك"},"UploadQueue":{"close":"غلق","item":{"pending":"معلق"}},"Viewer":{"close":"إغلاق","noviewer":{"download":"نزِّل هذا الملف"},"actions":{"download":"تنزيل"},"loading":{"retry":"إعادة المحاولة"}}}')},42264:function(e){"use strict";e.exports=JSON.parse('{"Nav":{"item_drive":"Laufwerk","item_recent":"Zuletzt","item_sharings":"Freigaben","item_shared":"Von mir geteilt","item_activity":"Aktivit\xe4t","item_trash":"Papierkorb","item_settings":"Einstellungen","item_collect":"Verwaltung","btn-client":"Hol\' dir Twake f\xfcr den Desktop!","btn-client-web":"Hol\' dir Twake!","btn-client-mobile":"Hol\' dir %{name} auf dein Handy!","banner-txt-client":"Hol\' dir %{name} f\xfcr den Desktop und synchronisiere deine Dateien sicher, um jederzeit auf sie zuzugreifen.","banner-btn-client":"Herunterladen","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it"},"breadcrumb":{"title_drive":"Laufwerk","title_recent":"Neueste","title_sharings":"Freigaben","title_shared":"Von mir geteilt","title_activity":"Aktivit\xe4t","title_trash":"Papierkorb"},"Toolbar":{"more":"Mehr"},"toolbar":{"menu_upload":"Dateien hochladen","item_more":"Mehr","menu_new_folder":"Ordner","menu_new_encrypted_folder":"Verschl\xfcsselter Ordner","menu_select":"Elemente ausw\xe4hlen","menu_share_folder":"Ordner freigeben","menu_download":"Herunterladen","menu_sync_cozy":"In mein Twake synchronisieren","add_to_mine":"Meinem Twake hinzuf\xfcgen","menu_download_folder":"Ordner herunterladen","menu_download_file":"Diese Datei herunterladen","menu_create_note":"Notizen","menu_create_shortcut":"Abk\xfcrzung","empty_trash":"Papierkorb leeren","share":"Freigeben","trash":"Entfernen","delete_shared_drive":"Gemeinsames Laufwerk l\xf6schen","leave":"Geteilten Ordner verlassen & l\xf6schen","menu_add":"Hinzuf\xfcgen","menu_create":"Erstellen","menu_onlyOffice":{"text":"Textdokument","spreadsheet":"Tabellenkalkulation","slide":"Pr\xe4sentation"},"select_all":"Alle ausw\xe4hlen","clear_selection":"Auswahl aufheben","sharings_tab_all":"Alle","sharings_tab_drives":"Laufwerke"},"Share":{"create-cozy":"Meinen Twake erstellen"},"Files":{"share":{"cta":"Freigeben","title":"Freigeben","details":{"title":"Details freigeben","createdAt":"Am %{date}","ro":"Kann lesen","rw":"Darf \xe4ndern","desc":{"ro":"Du kannst diesen Inhalt sehen, herunterladen und deinem Twake hinzuf\xfcgen. Du wirst Aktualisierungen des Besitzers erhalten, selbst jedoch keine \xc4nderungen vornehmen k\xf6nnen.","rw":"Du kannst diesen Inhalt sehen, \xe4ndern, l\xf6schen und deinem Twake hinzuf\xfcgen. Deine \xc4nderungen sind auf anderen Cozies sichtbar."}},"sharedByMe":"Von mir geteilt","sharedWithMe":"Mit mir geteilt","sharedBy":"Geteilt von %{name}","shareByLink":{"subtitle":"\xdcber \xf6ffentlichen Link","desc":"Jeder der den Link kennt, kann deine Dateien sehen und herunterladen.","creating":"Erstellen deines Links...","copy":"Link kopieren","copied":"Der Link wurde in deine Zwischenablage kopiert","failed":"Unf\xe4hig in deine Zwischenablage zu kopieren"},"shareByEmail":{"subtitle":"Per E-Mail","email":"An:","emailPlaceholder":"Gib die E-Mail-Adresse oder den Namen des Empf\xe4ngers ein","send":"Senden","genericSuccess":"Du hast eine Einladung an %{count} Kontakte gesendet.","success":"Du hast eine Einladung an %{email} gesendet.","comingsoon":"Bald verf\xfcgbar: Du wirst mit nur einem Klick Fotos und Dokumente deiner Familie, deinen Freunden und sogar deinen Kollegen freigeben k\xf6nnen. Keine Sorge, wir benachrichtigen dich sobald es soweit ist!","onlyByLink":"Dieser %{type} kann nur als Link geteilt werden, da","type":{"file":"Datei","folder":"Ordner"},"hasSharedParent":"hat einen geteilten Ursprung","hasSharedChild":"enth\xe4lt ein geteiltes Element"},"revoke":{"title":"Freigabe aufheben","desc":"Dieser Kontakt beh\xe4lt eine Kopie. \xc4nderungen werden jedoch nicht mehr synchronisiert.","success":"Du hast diese geteilte Datei von %{email} entfernt."},"revokeSelf":{"title":"Entferne mich von der Freigabe","desc":"Du beh\xe4ltst den Inhalt. Er wird aber nicht mehr in deinem Twake erneuert.","success":"Du wurdest von dieser Freigabe entfernt."},"sharingLink":{"title":"Link zum Freigeben","copy":"Kopieren","copied":"Kopiert"},"whoHasAccess":{"title":"1 Person hat Zugriff |||| %{smart_count} Personen haben Zugriff"},"protectedShare":{"title":"Bald verf\xfcgbar!","desc":"Teile alles per E-Mail mit deiner Familie und Freunden!"},"close":"Schlie\xdfen","gettingLink":"Erstelle deinen Link ...","error":{"generic":"Beim Erstellen des Dateifreigabelinks ist ein Fehler aufgetreten, bitte versuche es erneut.","revoke":"Hoppla, das hat nicht geklappt. Bitte kontaktiere uns, damit wir den Fehler so schnell wie m\xf6glich beheben k\xf6nnen."},"specialCase":{"base":"Dieser %{type} kann nur als Link geteilt werden, da","isInSharedFolder":"ist in einem geteilten Ordner","hasSharedFolder":"enth\xe4lt einen geteilten Ordner"}},"viewer-fallback":"Sobald der Download begonnen hat, kannst du mich schlie\xdfen.","dropzone":{"teaser":"Ziehe Dateien hierher um sie hochzuladen:","noFolderSupport":"Ordner drag&drop wird von deinem Browser derzeit nicht unterst\xfctzt. Lade deine Dateien bitte manuell hoch."}},"table":{"head_name":"Name","head_update":"Letzte \xc4nderung","head_size":"Gr\xf6\xdfe","head_status":"Teilen","head_thumbnail_size":"Wechsele die Gr\xf6\xdfe des Vorschaubildes","row_update_format":"dd.LL.yyyy","row_update_format_full":"dd.LL.yyyy","row_read_only":"Freigeben (nur Lesen)","row_read_write":"Freigeben (Lesen & Schreiben)","row_size_symbols":{"B":"Byte","KB":"Kilobyte","MB":"Megabyte","GB":"Gigabyte","TB":"Terabyte","PB":"Petabyte","EB":"Exabyte","ZB":"Zettabyte","YB":"Yottabyte"},"load_more":"Mehr laden","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"\xc4lteste zuerst","head_updated_at_desc":"Neueste zuerst","head_size_asc":"Kleinste zuerst","head_size_desc":"Gr\xf6\xdfte zuerst"},"tooltip":{"carbonCopy":{"title":"Durchschlag","caption":"Zeigt an, ob das Dokument von Twake Workplace, dem Host Ihrer Twake, als \\"authentisch und original\\" definiert wird, da es behaupten kann, dass es direkt von einem Drittanbieterdienst stammt, ohne dass es ver\xe4ndert wurde."},"electronicSafe":{"title":"Elektronischer Tresor","caption":"Gibt an, ob das Originaldokument in Ihrem pers\xf6nlichen digitalen Tresor mit den Zertifizierungen, die ihm Beweiskraft verleihen, und einer 50-j\xe4hrigen Aufbewahrungsgarantie \xfcber die Hinterlegung hinaus gesichert ist."}}},"Storage":{"title":"Speicher","availability":"%{smart_count} GB verf\xfcgbar","increase":"Speicherplatz erweitern"},"SelectionBar":{"selected_count":"Element ausgew\xe4hlt |||| Elemente ausgew\xe4hlt","share":"Freigeben","download":"Herunterladen","trash":"Entfernen","destroy":"Dauerhaft l\xf6schen","rename":"Umbenennen","restore":"Wiederherstellen","close":"Schlie\xdfen","openWith":"\xd6ffnen mit...","applePreview":"Apple Vorschau","forward":"Weiterleiten","forwardTo":"Weiterleiten an...","moveto":"Verschieben nach...","moveto_mobile":"Verschieben","phone-download":"Offline verf\xfcgbar machen","qualify":"Kategorisieren","history":"Verlauf"},"DeleteConfirm":{"title":"Dieses Element l\xf6schen? |||| Diese Elemente l\xf6schen?","trash":"Es wird in den Papierkorb verschoben. |||| Sie werden in den Papierkorb verschoben.","restore":"Du kannst es jederzeit wiederherstellen. |||| Du kannst sie jederzeit wiederherstellen.","link":"Link Freigabe wird nicht l\xe4nger aktiv sein","referenced":"Einige der Dateien innerhalb der Auswahl beziehen sich auf ein Fotoalbum. Sie werden aus ihm entfernt, wenn du sie in den M\xfcll verschiebst.","cancel":"Abbrechen","delete":"Entfernen"},"emptytrashconfirmation":{"title":" Dauerhaft l\xf6schen? ","forbidden":"Du kannst nicht mehr auf diese Dateien zugreifen.","restore":"Du kannst diese Dateien nicht wiederherstellen, wenn du keine Sicherung gemacht hast.","cancel":"Abbrechen","delete":"Alles l\xf6schen"},"DestroyConfirm":{"title":"Dauerhaft l\xf6schen?","forbidden":"Du kannst nicht mehr auf diese Datei zugreifen. |||| Du kannst nicht mehr auf diese Dateien zugreifen.","restore":"Du kannst diese Datei nicht wiederherstellen, wenn du keine Sicherung gemacht hast. |||| Du kannst diese Dateien nicht wiederherstellen, wenn du keine Sicherung gemacht hast.","cancel":"Abbrechen","delete":"Dauerhaft l\xf6schen"},"quotaalert":{"title":"Dein Speicherplatz ist voll :(","desc":"Bitte entferne Dateien, leere deinen M\xfclleiemer oder erh\xf6he dein Speicherkontingent bevor du wieder Dateien hochl\xe4dtst.","confirm":"OK","increase":"Erh\xf6he dein Speicherkontingent"},"loading":{"message":"L\xe4dt","onlyOfficeCreateInProgress":"Erstellen der aktuellen Datei..."},"empty":{"title":"Du hast keine Dateien in diesem Ordner.","text":"W\xe4hlen Sie Dateien auf Ihrem Computer aus oder ziehen Sie sie hierher.","mobile_text":"W\xe4hlen Sie Dateien auf Ihrem Ger\xe4t aus.","trash_title":"Du hast keine gel\xf6schten Dateien.","trash_text":"Verschiebe Dateien, die du nicht l\xe4nger ben\xf6tigst in den Papierkorb und l\xf6sche Elemente dauerhaft, um Speicherplatz freizumachen."},"error":{"open_folder":"Beim \xd6ffnen des Ordners ist etwas schief gelaufen.","open_file":"Beim \xd6ffnen der Datei ist etwas schief gelaufen.","button":{"reload":"Jetzt aktualisieren"},"download_file":{"offline":"Du solltest verbunden sein, um diese Datei herunterzuladen.","missing":"Diese Datei fehlt","encryption_many":"Sie k\xf6nnen nicht mehrere verschl\xfcsselte Dateien auf einmal herunterladen"}},"Error":{"public_unshared_title":"Entschuldige, dieser Links ist nicht l\xe4nger verf\xfcgbar.","public_unshared_text":"Dieser Link ist abgelaufen oder vom Besitzer entfernt worden. Lass\' es ihn wissen, dass du ihn verpasst hast.","generic":"Etwas ist schiefgelaufen. Warte ein paar Minuten und versuche es erneut."},"alert":{"could_not_open_file":"Diese Datei konnte nicht ge\xf6ffnet werden","try_again":"Ein Fehler ist aufgetreten, bitte versuche es gleich noch einmal.","restore_file_success":"Die Auswahl wurde erfolgreich wiederhergestellt.","trash_file_success":"Die Auswahl wurde in den Papierkorb verschoben.","destroy_file_success":"Die Auswahl wurde endg\xfcltig gel\xf6scht.","empty_trash_progress":"Dein Papierkorb wird entleert. Dies kann einen Augenblick dauern.","empty_trash_success":"Der Papierkorb wurde entleert.","folder_name":"Das Element %{folderName} existiert bereits, bitte w\xe4hle einen neuen Namen.","file_name":"Das Element %{fileName} existiert bereits, bitte w\xe4hle einen neuen Namen.","file_name_missing":"Der Dateiname ist falsch, bitte geben Sie einen neuen Namen ein.","file_name_illegal_name":"Der Name %{fileName} ist ung\xfcltig, bitte w\xe4hlen Sie einen neuen Namen.","file_name_illegal_characters":"Das Element %{fileName} enth\xe4lt ung\xfcltige Zeichen: %{characters}","folder_generic":" Ein Fehler ist aufgetreten, bitte versuche es noch einmal.","folder_abort":"Du musst deinem neuen Ordner einen Namen hinzuf\xfcgen, wenn du ihn speichern m\xf6chtest. Deine Daten wurden nicht gespeichert.","offline":"Diese Funktion ist offline nicht verf\xfcgbar.","preparing":"Deine Dateien werden vorbereitet...","item_copied":"1 Element kopiert","items_copied":"%{count} Elemente kopiert","item_cut":"1 Element ausgeschnitten","items_cut":"%{count} Elemente ausgeschnitten","item_moved":"1 Element wurde verschoben","items_moved":"%{count} Elemente wurden verschoben","item_pasted":"1 Element wurde verschoben","items_pasted":"%{count} Elemente wurden verschoben","copy_files_only":"Ordner k\xf6nnen nicht kopiert werden","copy_not_allowed":"Der Kopiervorgang ist in dieser Ansicht nicht erlaubt.","paste_error":"Beim Einf\xfcgen der Dateien ist ein Fehler aufgetreten","paste_failed":"Einf\xfcgen der Dateien fehlgeschlagen","paste_sharing_error":"Dateien k\xf6nnen aufgrund von Freigabebeschr\xe4nkungen nicht eingef\xfcgt werden. Bitte verwenden Sie stattdessen die Verschieben-Aktion.","paste_same_folder_skipped":"Elemente k\xf6nnen nicht in denselben Ordner verschoben werden, in dem sie sich bereits befinden.","paste_not_allowed":"Sie k\xf6nnen nicht in diesen Ordner einf\xfcgen","cannot_move_shared_drive":"Sie k\xf6nnen den freigegebenen Laufwerksordner nicht verschieben","cannot_copy_shared_drive":"Du kannst keinen freigegebenen Laufwerksordner kopieren"},"upload":{"label":"Hochladen","alert":{"network":"Du bist zurzeit offline. Bitte versuche es erneut, sobald du wieder verbunden bist."}},"intents":{"alert":{"error":"Unf\xe4hig, die Datei automatisch hochzuladen, bitte lade sie manuell \xfcber das Hochlademen\xfc hoch."},"picker":{"select":"Ausw\xe4hlen","cancel":"Abbrechen","new_folder":"Neuer Ordner","instructions":"W\xe4hle ein Ziel"}},"UploadQueue":{"header":"Hochladen von %{smart_count} Foto in dein Twake Drive |||| Hochladen von %{smart_count} Fotos in dein Twake Drive","header_mobile":"Hochladen %{done} von %{total}","header_done":"Hochladen %{done} aus %{total} erfolgreich","close":"Schlie\xdfen","item":{"pending":"Ausstehend"}},"Viewer":{"close":"Schlie\xdfen","noviewer":{"download":"Diese Datei herunterladen","openWith":"\xd6ffnen mit...","openInOnlyOffice":"\xd6ffnen mit Only Office","cta":{"saveTime":"Spare etwas Zeit!","installDesktop":"Installiere das Synchronisationstool f\xfcr deinen Computer","accessFiles":"Greife direkt von deinem Computer auf deine Datein zu"}},"actions":{"download":"Herunterladen","forward":"Weiterleiten"},"loading":{"error":"Diese Datei konnte nicht geladen werden. Hast du eine funktionierende Internetverbindung?","retry":"Wiederholen"},"error":{"noapp":"Keine Anwendung auf Ihrem Ger\xe4t kann diese Datei verarbeiten.","generic":"Ein Fehler ist beim \xd6ffnen dieser Datei aufgetreten, bitte versuche es erneut.","noNetwork":"Du bist derzeit offline."},"panel":{"title":"N\xfctzliche Informationen"}},"Move":{"to":"Verschiebe zu:","action":"Verschieben","cancel":"Abbrechen","modalTitle":"Verschieben","title":"%{smart_count} Element |||| %{smart_count} Elemente","success":"%{subject} wurde in %{target} verschoben. |||| %{smart_count} Elemente wurden in %{target} verschoben.","error":"Etwas ist beim Verschieben dieses Elements schiefgelaufen, bitte versuche es sp\xe4ter erneut. |||| Etwas ist beim Verschieben dieser Elemente schiefgelaufen, bitte versuche es sp\xe4ter erneut.","cancelled":"%{subject} wurde zur\xfcck an seinen Ursprungsort geschoben. |||| %{smart_count} Elemente wurden zur\xfcck an ihren Ursprungsort geschoben.","cancelledWithRestoreErrors":"%{subject} wurde zur\xfcck an seinen Ursprungsort geschoben, aber es gab einen Fehler beim Wiederherstellen der Datei aus dem Papierkorb. |||| %{smart_count} Elemente wurden zur\xfcck an ihren Ursprungsort geschoben, aber es gab %{restoreErrorsCount} Fehler beim Wiederherstellen der Datei(en) aus dem Papierkorb.","cancelled_error":"Entschuldige, es gab einen Fehler beim Zur\xfcckschieben dieses Elements. |||| Entschuldige, es gab einen Fehler beim Zur\xfcckschieben dieser Elemente."},"ImportToDrive":{"title":"%{smart_count} Element |||| %{smart_count} Elemente","to":"Speichern in:","action":"Speichern","cancel":"Abbrechen","success":"%{smart_count} gesicherte Datei |||| %{smart_count} gesicherte Dateien","error":"Etwas ist schiefgelaufen. Bitte versuche es erneut"},"FileOpenerExternal":{"fileNotFoundError":"Fehler: Datei nicht gefunden"},"TOS":{"updated":{"title":"GDPR wird Realit\xe4t!","detail":"Im Rahmen der General Data Protection Regulation (GDPR), [wurden unsere Nutzungsbedingungen aktualisiert](%{link}) und werden ab dem 25. M\xe4rz 2018 auf alle unsere Nutzer angewandt.","cta":"TOS akzeptieren und fortfahren","disconnect":"Ablehnen und trennen","error":"Etwas ist schiefgelaufen. Bitte versuche es sp\xe4ter erneut"}},"manifest":{"permissions":{"contacts":{"description":"Erforderlich, um deinen Kontakten Dateien freizugeben"},"groups":{"description":"Erforderlich, um deinen Gruppen Dateien freizugeben"}}},"models":{"contact":{"defaultDisplayName":"Anonym"}},"Scan":{"scan_a_doc":"Scanne ein Dokument","save_doc":"Speichere das Dokument","filename":"Dateiname","save":"Speichern","cancel":"Abbrechen","qualify":"Kategorisieren","apply":"Anwenden","error":{"offline":"Du bist derzeit offline und kannst diese Funktion nicht nutzen. Versuche es sp\xe4ter erneut","uploading":"Du l\xe4dst bereits eine Datei hoch. Warte bis zur Fertigstellung und versuche es erneut.","generic":"Etwas ist schiefgelaufen. Bitte versuche es erneut"},"successful":{"qualified_ok":"Du hast die Datei erfolgreich kategorisiert!"}},"History":{"description":"Die letzten 20 Versionen deiner Dateien werden automatisch behalten. W\xe4hle eine Version aus, um sie herunterzuladen.","current_version":"Aktuelle Version","loading":"L\xe4dt...","noFileVersionEnabled":"Dein Twake wird bald dazu in der Lage sein, deine letzten Datei\xe4nderungen zu archivieren, um einem Verlust vorzubeugen"},"External":{"redirection":{"title":"Weiterleitung","text":"Du wirst gleich weitergeleitet...","error":"Fehler w\xe4hrend der Weiterleitung. Im Allgemeinen deutet dies auf ein falsches Format deines Inhalts hin."}},"RenameModal":{"title":"Umbenennen","description":"Du bist dabei, die Dateiendung zu \xe4ndern. M\xf6chtest du fortfahren?","continue":"Fortsetzen","cancel":"Abbrechen"},"Shortcut":{"title_modal":"Erstelle eine Verkn\xfcpfung","filename":"Dateiname","url":"URL","cancel":"Abbrechen","create":"Erstellen","created":"Deine Verkn\xfcpfung wurde erstellt","errored":"Ein Fehler ist aufgetreten","filename_error_ends":"Der Name sollte mit .url enden","needs_info":"Die Verkn\xfcpfung ben\xf6tigt mindestens eine URL und einen Dateinamen","url_badformat":"Deine URL hat nicht das richtige Format"},"OnlyOffice":{"Error":{"title":"Etwas geht schief","text":"Bitte versuchen Sie, die Seite neu zu laden"},"readOnly":{"title":"Nur lesen","tooltip":"Sie sind nur berechtigt, dieses Dokument anzusehen. Kontaktieren Sie den Eigent\xfcmer, um Schreibrechte zu erhalten."},"createFileName":{"text":"Neues Textdokument","spreadsheet":" Neue Tabellenkalkulation","slide":"Neue Pr\xe4sentation"}},"Migration":{"title":"Aktualisierte Twake Drive","content":"Twake Drive muss aktualisiert werden, um seine Leistung zu verbessern. Dies kann bis zu mehreren Minuten dauern, w\xe4hrend derer Sie Ihre App nicht nutzen k\xf6nnen. M\xf6chten Sie es jetzt tun? Wenn Sie sich weigern, werden wir Sie beim n\xe4chsten Mal wieder fragen","confirm":"Okay, los geht\'s!","cancel":"Nein, nicht jetzt"},"searchbar":{"placeholder":"Alle Dateien durchsuchen","empty":"Es wurde kein Ergebnis f\xfcr die Suche \\"%{query}\\" gefunden"}}')},61284:function(e){"use strict";e.exports=JSON.parse('{"Nav":{"item_drive":"Files","item_recent":"Recent","item_sharings":"Sharings","item_shared":"Shared by me","item_activity":"Activity","item_trash":"Trash","item_settings":"Settings","item_collect":"Administrative","item_shared_drives":"Shared drives","item_favorites":"Favorites","item_external_drives":"External drives","item_my_drive":"My Drive","btn-client":"Get Twake Drive for desktop","btn-client-web":"Get Twake","btn-client-mobile":"Take your personnal cloud with you: install %{name} on all your devices!","banner-txt-client":"Get %{name} for Desktop and synchronise your files safely to make them accessible at all times.","banner-btn-client":"Download","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.flagship.mobile","link-client-ios":"https://apps.apple.com/app/cloud-personnel-cozy/id1600636174","link-client-web":"https://cozy.io/try-it","view_more":"View more","view_less":"View less"},"breadcrumb":{"title_drive":"Files","title_recent":"Recent","title_sharings":"Sharings","title_shared":"Shared by me","title_activity":"Activity","title_trash":"Trash","label":"Show path","title_shared_drives":"Drives","title_favorites":"Favorites"},"Toolbar":{"more":"More"},"toolbar":{"menu_manage_access":"Manage access","menu_leave_shared_drive":"Leave shared drive","menu_upload":"Upload files","item_more":"More","menu_new_folder":"Folder","menu_new_shared_drive":"Shared drive","menu_new_encrypted_folder":"Encrypted folder","menu_select":"Select items","menu_share_folder":"Share folder","menu_download":"Download","menu_sync_cozy":"Synchronise to my Twake","add_to_mine":"Add to my Twake","menu_download_folder":"Download folder","menu_download_file":"Download this file","menu_create_note":"Note","menu_create_docs":"Docs","menu_create_shortcut":"Shortcut","share":"Share","trash":"Remove","delete_shared_drive":"Delete shared drive","leave":"Leave shared folder & delete it","menu_add":"Add","menu_create":"Create","menu_add_item":"Add an item","menu_onlyOffice":{"text":"Text document","spreadsheet":"Spreadsheet","slide":"Presentation"},"select_all":"Select all","select_all_mobile":"all","clear_selection":"Clear Selection","clear_selection_mobile":"Clear","sharings_tab_all":"All","sharings_tab_drives":"Drives"},"Share":{"create-cozy":"Create my Twake"},"Files":{"share":{"cta":"Share","title":"Share","details":{"title":"Sharing details","createdAt":"On %{date}","ro":"Can read","rw":"Can change","desc":{"ro":"You can view, download, and add this content to your Twake. You will get updates by the owner, but you won\'t be able to update this content yourself.","rw":"You can view, update, delete and add this content to your Twake. Updates you make will be seen on other Cozies."}},"shared":"Shared","sharedByMe":"Shared by me","sharedWithMe":"Shared with me","sharedBy":"Shared by %{name}","shareByLink":{"subtitle":"By public link","desc":"Anyone with the provided link can see and download your files.","creating":"Creating your link...","copy":"Copy link","copied":"Link has been copied to clipboard","failed":"Unable to copy to clipboard"},"shareByEmail":{"subtitle":"By email","email":"To:","emailPlaceholder":"Enter the email address or name of the recipient","send":"Send","genericSuccess":"You sent an invite to %{count} contacts.","success":"You sent an invite to %{email}.","comingsoon":"Coming soon! You will be able to share documents and photos in a single click with your family, your friends, and even your coworkers. Don\'t worry, we\'ll let you know when it\'s ready!","onlyByLink":"This %{type} can only be shared by link, because","type":{"file":"file","folder":"folder"},"hasSharedParent":"it has a shared parent","hasSharedChild":"it contains a shared element"},"revoke":{"title":"Remove from sharing","desc":"This contact will keep a copy but the changes won\'t be synchrnoized anymore.","success":"You removed this shared file from %{email}."},"revokeSelf":{"title":"Remove me from sharing","desc":"You keep the content but it won\'t be updated between your Twake anymore.","success":"You were removed from this sharing."},"sharingLink":{"title":"Link to share","copy":"Copy","copied":"Copied"},"whoHasAccess":{"title":"1 person has access |||| %{smart_count} people have access"},"protectedShare":{"title":"Coming soon!","desc":"Share anything by email with your family and friends!"},"close":"Close","gettingLink":"Getting your link...","error":{"generic":"An error occurred when creating the file share link, please try again.","revoke":"Woops, an error occurred. Please contact us so we can fix this issue as soon as possible."},"specialCase":{"base":"This %{type} cannot be shared but with a link as it","isInSharedFolder":"is in a shared folder","hasSharedFolder":"contains a shared folder"}},"viewer-fallback":"If the file has started downloading, you can close this.","dropzone":{"teaser":"Drop files to upload them to:","noFolderSupport":"Folder drag&drop is currently not supported by your browser. Please upload your files manually."}},"table":{"head_name":"Name","head_update":"Last update","head_size":"Size","head_status":"Share","head_thumbnail_size":"Switch thumbnail size","head_view_mode":"View mode","head_view_list":"List view","head_view_grid":"Grid view","row_update_format":"LLL d, yyyy","row_update_format_full":"LLLL d, yyyy","row_read_only":"Share (Read only)","row_read_write":"Share (Read & Write)","row_size_symbols":{"B":"B","KB":"KB","MB":"MB","GB":"GB","TB":"TB","PB":"PB","EB":"EB","ZB":"ZB","YB":"YB"},"row_sharing_shortcut_aria_label":"New sharing shortcut","load_more":"Load More","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"Oldest first","head_updated_at_desc":"Most recent first","head_size_asc":"Lightest first","head_size_desc":"Heavier first"},"tooltip":{"carbonCopy":{"title":"Carbon Copy","caption":"Indicates whether the document is defined as \\"authentic and original\\" by Twake Workplace, the host of your Twake, as it can claim that it comes directly from a third-party service, without having undergone any modification."},"electronicSafe":{"title":"Electronic Safe","caption":"Indicates whether the original document is secured by your personal digital safe with the certifications that give it probative value and a 50-year retention guarantee beyond its deposit."}}},"Storage":{"title":"Storage","availability":"%{smart_count} GB available","increase":"Increase the space"},"SelectionBar":{"selected_count":"item selected |||| items selected","share":"Share","download":"Download","copy":"Copy","cut":"Cut","paste":"Paste","trash":"Remove","destroy":"Delete permanently","rename":"Rename","restore":"Restore","close":"Close","openWith":"Open with...","applePreview":"Apple preview","forward":"Forward","forwardTo":"Forward to...","moveto":"Move to…","moveto_mobile":"Move","phone-download":"Make available offline","qualify":"Categorize","history":"History","more":"More","openWithinNextcloud":"Open within Nextcloud"},"DeleteConfirm":{"title":"Delete %{filename}? |||| Delete %{smart_count} %{type}?","trash":"It will be moved to the Trash. |||| They will be moved to the Trash.","restore":"You can still restore it whenever you want. |||| You can still restore them whenever you want.","share_accepted":"Sharing will be stopped. The following contacts will keep a copy, but your changes will no longer be synchronised:","share_waiting":"Sharing will be stopped. The following contacts will no longer be able to accept sharing and will no longer be able to access shared content:","share_both":"Sharing will be stopped. This means that contacts who have stored files in their Twake will keep a copy, while other contacts will no longer be able to access shared content:","link":"Link sharing will no longer be active","referenced":"Some of the files within the selection are related to a photo album. They will be removed from it if you proceed to trash them.","cancel":"Cancel","delete":"Remove"},"EmptyTrashConfirm":{"title":"Permanently delete?","forbidden":"You won\'t be able to access these files anymore.","restore":"You won\'t be able to restore these files if you didn\'t make a backup.","cancel":"Cancel","delete":"Delete all","processing":"Your trash is being emptied. This might take a few moments.","success":"The trash has been emptied.","error":"An error occurred, please try again."},"DestroyConfirm":{"title":"Delete %{filename}? |||| Delete %{smart_count} %{type}?","forbidden":"You won\'t be able to access this %{type} anymore. |||| You won\'t be able to access these %{type} anymore.","restore":"You won\'t be able to restore this %{type} if you didn\'t make a backup. |||| You won\'t be able to restore these %{type} if you didn\'t make a backup.","cancel":"Cancel","delete":"Delete permanently","success":"The %{type} has been deleted permanently. |||| %{smart_count} %{type} have been deleted permanently.","error":"An error occurred, please try again."},"quotaalert":{"title":"Your disk space is full :(","desc":"Please remove files, empty your trash or increase your disk space before uploading files again.","confirm":"OK","increase":"Increase your disk space"},"loading":{"message":"Loading","onlyOfficeCreateInProgress":"Creating the current file..."},"empty":{"title":"You don’t have any files in this folder.","text":"Select files on your computer or drag them here.","mobile_text":"Select files on your device.","trash_title":"You don’t have any deleted files.","trash_text":"Move files you don\'t need anymore to the Trash and permanently delete items to free up storage page.","shared-drive_text":"Create and share your first drive."},"error":{"open_folder":"Something went wrong when opening the folder.","open_file":"Something went wrong when opening the file.","button":{"reload":"Refresh now"},"download_file":{"offline":"You should be connected to download this file","missing":"This file is missing","encryption_many":"You cannot download several encrypted files at once"},"paste_failed":"Failed to paste files. Please try again."},"Error":{"public_unshared_title":"Sorry, this link is no longer available.","public_unshared_text":"This link has expired, or it was removed by its owner. Let him or her know that you missed it!","generic":"Something went wrong. Wait a few minutes and retry."},"alert":{"could_not_open_file":"The file could not be opened","try_again":"An error has occurred, please try again in a moment.","restore_file_success":"The selection has been successfully restored.","trash_file_success":"The selection has been moved to the Trash.","trash_shared_drive_success":"The shared drive has been moved to the Trash.","destroy_file_success":"The selection has been deleted permanently.","folder_name":"The element %{folderName} already exists, please choose a new name.","file_name":"The element %{fileName} already exists, please choose a new name.","file_name_missing":"The file name is missing, please choose a new name.","file_name_illegal_name":"The name %{fileName} is invalid, please choose a new name.","file_name_illegal_characters":"The element %{fileName} contains invalid characters: %{characters}","folder_generic":"An error occurred, please try again.","folder_abort":"You need to add a name to your new folder if you would like to save it. Your information has not been saved.","offline":"This feature is not available offline.","preparing":"Preparing your files…","item_copied":"1 item copied","items_copied":"%{count} items copied","item_cut":"1 item cut","items_cut":"%{count} items cut","item_moved":"1 item was moved","items_moved":"%{count} items were moved","item_pasted":"1 item was moved","items_pasted":"%{count} items were moved","copy_files_only":"Cannot copy folders","copy_not_allowed":"Copy operation is not allowed in this view.","paste_error":"An error occurred while pasting files","paste_failed":"Failed to paste files","paste_sharing_error":"Cannot paste files due to sharing restrictions. Please use the Move action instead.","paste_same_folder_skipped":"Cannot move items to the same folder they are already in.","paste_not_allowed":"You cannot paste into this folder","cannot_move_shared_drive":"You cannot move shared drive folder","cannot_copy_shared_drive":"You cannot copy shared drive folder"},"upload":{"label":"Upload","documentType":{"file":"file","directory":"folder","element":"element"},"alert":{"success":"%{smart_count} %{type} uploaded with success. |||| %{smart_count} %{type}s uploaded with success.","success_conflicts":"%{smart_count} %{type} uploaded with %{conflictNumber} conflict(s). |||| %{smart_count} %{type}s uploaded with %{conflictNumber} conflict(s).","success_updated":"%{smart_count} %{type} uploaded and %{updatedCount} updated. |||| %{smart_count} %{type}s uploaded and %{updatedCount} updated.","success_updated_conflicts":"%{smart_count} %{type} uploaded, %{updatedCount} updated and %{conflictCount} conflict(s). |||| %{smart_count} %{type}s uploaded, %{updatedCount} updated and %{conflictCount} conflict(s).","updated":"%{smart_count} %{type} updated. |||| %{smart_count} %{type} updated.","updated_conflicts":"%{smart_count} %{type} updated with %{conflictCount} conflict(s). |||| %{smart_count} %{type}s updated with %{conflictCount} conflict(s).","errors":"Errors occurred during the %{type} upload.","network":"You are currenly offline. Please try again once you\'re connected.","fileTooLargeErrors":"File too large. Maximum file size: %{max_size_value} GB"}},"intents":{"alert":{"error":"Unable to automatically upload the file, please upload it manually with the upload menu."},"picker":{"select":"Select","cancel":"Cancel","new_folder":"New folder","instructions":"Select a target"}},"UploadQueue":{"header":"Uploading %{smart_count} photo to Twake Drive |||| Uploading %{smart_count} photos to Twake Drive","header_mobile":"Uploading %{done} of %{total}","header_done":"Uploaded %{done} out of %{total} successfully","success_flagship":"%{smart_count} file uploaded with success. |||| %{smart_count} files uploaded with success.","close":"close","item":{"pending":"Pending"}},"Viewer":{"close":"Close","noviewer":{"download":"Download this file","openWith":"Open with...","openInOnlyOffice":"Open with Only Office","cta":{"saveTime":"Save some time!","installDesktop":"Install the synchronization tool for your computer","accessFiles":"Access your files directly on your computer"}},"actions":{"download":"Download","forward":"Forward"},"loading":{"error":"This file could not be loaded. Do you have a working internet connection right now?","retry":"Retry"},"error":{"noapp":"No application on your device can handle this file.","generic":"An error occurred when opening this file, please try again.","noNetwork":"You\'re currently offline."},"panel":{"title":"Useful information"}},"Move":{"to":"Move to:","action":"Move","cancel":"Cancel","modalTitle":"Move","title":"%{smart_count} element |||| %{smart_count} elements","success":"%{subject} has been moved to %{target}. |||| %{smart_count} elements have been moved to %{target}.","error":"Something went wrong while moving this element, please try again later. |||| Something went wrong while moving these elements, please try again later.","cancelled":"%{subject} has been moved back to it\'s original location. |||| %{smart_count} elements have been moved back to their original location.","cancelledWithRestoreErrors":"%{subject} has been moved back to it\'s original location but there was an error while restoring the file from trash. |||| %{smart_count} elements have been moved back to their original location but there was %{restoreErrorsCount} error(s) while restoring the file(s) from trash.","cancelled_error":"Sorry, there was an error while moving the element back. |||| Sorry, there was an error while moving these elements back.","multipleEntries":"%{smart_count} element |||| %{smart_count} elements","addFolder":"Add a folder","outsideSharedFolder":{"title":"Moving outside the %{sharedFolder} folder","content_1":"Warning, you want to move %{name} out of the shared %{sharedFolder} folder. |||| Warning, you want to move %{smart_count} %{type}s out of the shared %{sharedFolder} folder.","content_2":"This move, will remove the %{type} %{name} from the share. This %{type} will therefore be trashed for all members of the share. |||| This move, will remove %{smart_count} %{type}s from the share. These %{type}s will therefore be trashed for all members of the share.","cancel":"Cancel","confirm":"I understand"},"insideSharedFolder":{"title":"Move to a shared folder?","content":"All members with access to %{destination} will also have access to %{source}. |||| All members with access to %{destination} will also have access to the selected %{type}.","cancel":"Cancel","confirm":"Ok"},"sharedFolderInsideAnother":{"title":"Cannot be moved","content_1":"You want to move a shared element into a shared folder. This type of move is not allowed.","content_2":"If you still wish to move %{source} to %{destination}, please stop sharing :","cancel":"Cancel move","confirm":"Stop sharing"}},"ImportToDrive":{"title":"%{smart_count} element |||| %{smart_count} elements","to":"Save in:","action":"Save","cancel":"Cancel","success":"%{smart_count} saved file |||| %{smart_count} saved files","error":"Something went wrong. Please try again"},"FileOpenerExternal":{"fileNotFoundError":"Error: file not found"},"TOS":{"updated":{"title":"GDPR comes into reality !","detail":"In the context of the General Data Protection Regulation, [our Terms of Service have been updated](%{link}) and will apply to all our Twake users on May 25, 2018.","cta":"Accept TOS and continue","disconnect":"Refuse and disconnect","error":"Something went wrong, please try again later"}},"manifest":{"permissions":{"contacts":{"description":"Required to share files with your contacts"},"groups":{"description":"Required to share files with your groups"}}},"models":{"contact":{"defaultDisplayName":"Anonymous"}},"Scan":{"none":"Nothing","scan_a_doc":"Scan a doc","save_doc":"Save the doc","filename":"Filename","save":"Save","cancel":"Cancel","qualify":"Categorize","requalify":"Re-categorize","apply":"Apply","error":{"offline":"You are currently offline and you can\'t use this functionnality. Try it later","uploading":"You are already uploading a file. Wait until the end of this upload and try again.","generic":"Something went wrong. Please try again."},"successful":{"qualified_ok":"You just have successfully categorized your file! "}},"History":{"description":"The last 20 versions of your files are automatically kept. Select a version to download it.","current_version":"Current version","loading":"Loading...","noFileVersionEnabled":"Your Twake will soon be able to archive the last modifications of a file to never risk losing them again"},"External":{"redirection":{"title":"Redirection","text":"You\'re about to be redirected…","error":"Error during the redirection. Generally, this means that the content of the file is not in the correct format."}},"RenameModal":{"title":"Rename","description":"You\'re about to change the file\'s extension. Do you want to continue?","continue":"Continue","cancel":"Cancel"},"Shortcut":{"title_modal":"Create a shortcut","filename":"Filename","url":"URL","cancel":"Cancel","create":"Create","created":"Your shortcut has been created","errored":"An error occured","filename_error_ends":"The name should end with .url","needs_info":"Shorcut needs at least an url and a filename","url_badformat":"Your url is not in the right format"},"OnlyOffice":{"Error":{"title":"Something goes wrong","text":"Please try to reload the page"},"readOnly":{"title":"Read only","tooltip":"You are only authorized to view this document. Contact the owner to obtain writing privileges."},"createFileName":{"text":"New text document","spreadsheet":"New spreadsheet","slide":"New presentation"},"toolbar":{"goToHome":"Go to home"},"actions":{"edit":"Edit","validate":"Validate"},"tooltip":{"title":"Edit document","text":"The document is currently read-only. You can modify it by clicking here.","actions":{"ok":"Ok","hide":"Do not display"}}},"Migration":{"title":"Update Twake Drive","content":"Twake Drive needs to update in order to improve its performances. This might take up to several minutes during which you cannot use your app. Do you want to do it now? If you refuse, we will ask you again next time","confirm":"Ok, let\'s do it!","cancel":"No, not now"},"searchbar":{"placeholder":"Search anything","empty":"No result has been found for the query “%{query}”"},"button":{"back":"Back","add":"Add","create":"Create"},"search":{"action":"Search","empty":{"title":"No result","subtitle":"No result has been found for the query “%{query}”"}},"PushBanner":{"quota":{"text":"You\'ve almost run out of storage space. If you reach the limit, you won\'t be able to add any more files. You can delete files, empty your bin or change your offer.","actions":{"first":"I understand","second":"Check our plans"}}},"FileDivergedModal":{"title":"Someone has modified this file","content":"Someone has modified the file outside Twake while you were editing it, you can retrieve their modifications instead of yours or continue your editing in a new file.","confirm":"Continue editing","cancel":"See its changes","error":"An error occurred, please try again.","confirmReload":{"title":"See the changes","content":"When you access the new file, your changes will be cancelled.","cancel":"Cancel","confirm":"Ok, I get it"},"viewMode":{"title":"Someone has modified this file","content":"Someone has changed the contents of this file. You can retrieve these changes.","confirm":"See the changes"}},"FileDeletedModal":{"title":"Someone has deleted this file","content":"Someone has deleted this file while you were editing it. You can stop editing or restore the file to continue editing.","confirm":"Restore file","cancel":"Undo changes","error":"An error occurred, please try again."},"TrashedBanner":{"text":"The item is in your trash","destroy":"Delete permanently","restore":"Restore","restoreSuccess":"The item has been restored","restoreError":"An error has occurred, please try again.","destroySuccess":"The item has been deleted"},"EntriesType":{"file":"file |||| files","directory":"folder |||| folders","element":"element |||| elements"},"NotFound":{"title":"The element cannot be found","text":"We have not found anything at this address. This may be a typing error."},"NextcloudBreadcrumb":{"root":"Shared Drives","trash":"Trash"},"NextcloudToolbar":{"share":"Share"},"NextcloudDeleteConfirm":{"title":"Delete %{filename}? |||| Delete %{smart_count} %{type}?","trash":"This item will be moved to the Nextcloud trash. |||| These items will be moved to the Nextcloud trash.","restore":"You can always restore it whenever you want from Nextcloud.","error":"An error occurred, please try again.","cancel":"Cancel","delete":"Delete"},"FileName":{"sharedDrive":"Drives","trash":"Trash"},"NextcloudBanner":{"title":"The items below are displayed from a NextCloud drive and are not stored in your Twake."},"favorites":{"label":{"add":"Add to favorites","addMobile":"Favorites","remove":"Remove from favorites"},"error":"An error occurred, please try again.","success":{"add":"%{filename} has been added to favorites |||| These items have been added to favorites","remove":"%{filename} has been removed from favorites |||| These items have been removed from favorites"}},"TrashToolbar":{"emptyTrash":"Empty trash"},"RestoreNextcloudFile":{"label":"Restore","success":"The item has been restored","error":"An error occurred, please try again."},"actions":{"infos":"Details and qualification","infosMobile":"Details","duplicateTo":{"label":"Duplicate to…"},"duplicateToMobile":{"label":"Duplicate"}},"DuplicateModal":{"subTitle":"Duplicate to:","confirmLabel":"Duplicate here","success":"%{fileName} has been duplicated to %{destinationName}. |||| %{smart_count} elements have been duplicated to %{destinationName}.","error":"An error occurred, please try again."},"OpenFolderButton":{"label":"Open directory"},"LastUpdate":{"titleFormat":"LLLL dd, yyyy, HH:MM"},"AddMenu":{"readOnlyFolder":"This is a read-only folder. You cannot perform this action."},"PublicNoteRedirect":{"error":{"title":"Unable to access document","subtitle":"The share link appears to be missing or invalid. Please ask the document owner to check access"}}}')},79619:function(e){"use strict";e.exports=JSON.parse('{"Nav":{"item_drive":"Drive","item_recent":"Recientes","item_sharings":"Compartidos","item_shared":"Compartido por m\xed","item_activity":"Actividad","item_trash":"Papelera","item_settings":"Par\xe1metros","item_collect":"Administraci\xf3n","btn-client":"Descargar Twake Drive para ordenador","btn-client-web":"Descargar Twake","btn-client-mobile":"Descargar %{name} en su celular","banner-txt-client":"Descargue %{name} para ordenador y sincronice sus archivos con toda seguridad para que les puedan ser accesibles todo el tiempo.","banner-btn-client":"Descargar","link-client":"https://cozy.io/es/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it"},"breadcrumb":{"title_drive":"Drive","title_recent":"Recientes","title_sharings":"Compartidos","title_shared":"Mis archivos compartidos","title_activity":"Actividad","title_trash":"Papelera"},"Toolbar":{"more":"M\xe1s"},"toolbar":{"menu_upload":"Cargar archivos","item_more":"M\xe1s","menu_new_folder":"Carpeta","menu_select":"Seleccionar los items","menu_share_folder":"Compartir carpeta","menu_download":"Descargar","menu_sync_cozy":"Sincronizar con mi Twake","add_to_mine":"A\xf1adir a mi Twake","menu_download_folder":"Descargar carpeta","menu_download_file":"Descargar este archivo","menu_create_note":"Nota","empty_trash":"Vaciar la papelera","share":"Compartir","trash":"Suprimir","delete_shared_drive":"Eliminar unidad compartida","leave":"Salir de la carpeta compartida & borrarla","menu_onlyOffice":{},"select_all":"Seleccionar todo","select_all_mobile":"todos","clear_selection":"Borrar selecci\xf3n","clear_selection_mobile":"Cancelar","sharings_tab_all":"Todo","sharings_tab_drives":"Unidades"},"Share":{"create-cozy":"Crear mi Twake"},"Files":{"share":{"cta":"Compartir","title":"Compartir","details":{"title":"Detalles de lo compartido","createdAt":"El  %{date}","ro":"Puede leerlo","rw":"Puede cambiar","desc":{"ro":"Usted puede consultar, descargar y a\xf1adir el contenido a su Coz. Recibir\xe1 las modificaciones que el propietario haga, pero usted no podr\xe1 modificarlo. ","rw":"Usted puede consultar, modificar y suprimir el contenido. Las modificaciones del contenido se repercutir\xe1n automaticamente entre sus Twake."}},"sharedByMe":"Compartido por m\xed","sharedWithMe":"Compartido conmigo","sharedBy":"Compartido por %{name}","shareByLink":{"subtitle":"Por enlace p\xfablico","desc":"Quien disponga del enlace suministrado puede mirar y descargar sus archivos.","creating":"Creando el enlace...","copy":"Copiar el enlace","copied":"El enlace ha sido copiado en el portapapeles","failed":"No se puede copiar en el portapapeles"},"shareByEmail":{"subtitle":"Por correo electr\xf3nico","email":"Para:","emailPlaceholder":"Entre la direcci\xf3n email o el nombre del destinatario","send":"Enviar","genericSuccess":"Usted env\xeda una invitaci\xf3n a %{count} contactos","success":"Ustad env\xeda una invitaci\xf3n a %{email}.","comingsoon":"Dentro de poco, podr\xe1 compartir documentos y fotos en un solo clic con su familia, sus amigos e incluso sus compa\xf1eros de trabajo. No se preocupe, \xa1le avisaremos cuando est\xe9 listo!","onlyByLink":"Este %{type} no se puede compartir con un enlace, ya que","type":{"file":"Archivo","folder":"carpeta"},"hasSharedParent":"se encuentra en una carpeta compartida","hasSharedChild":"contiene un elemento compartido"},"revoke":{"title":"Parar el intercambio","desc":"Su contacto conservar\xe1 una copia pero los cambios que haga no se sincronizar\xe1n.","success":"Usted ha borrado este archivo compartido desde %{email}"},"revokeSelf":{"title":"Parar el intercambio","desc":"Usted conservar\xe1 el contenido pero no se actualizar\xe1 m\xe1s entre sus Twake.","success":"Usted fue borrado desde este compartir"},"sharingLink":{"title":"Enlace a compartir","copy":"Copiar","copied":"Copiado"},"whoHasAccess":{"title":"1 persona accede |||| %{smart_count} personas acceden"},"protectedShare":{"title":"Vendr\xe1 pronto!","desc":"Compartir algo por email con su familia y sus amigos!"},"close":"Cerrar","gettingLink":"Creaci\xf3n del enlace...","error":{"generic":"Ha ocurrido un error al usted crear el link para compartir el archivo, por favor vuelva a ensayar.","revoke":"Epa, Ha ocurrido un error. Contactos para resolver el problema cuanto antes."},"specialCase":{"base":"ste %{type} no se puede compartir sino con un enlace como \xe9ste","isInSharedFolder":"est\xe1 en una carpeta compartida","hasSharedFolder":"contiene una carpeta compartida"}},"viewer-fallback":"Si el archivo ha comenzado a descargarse, puede cerrar esta ventana..","dropzone":{"teaser":"Ponga los archivos para subirlos en:","noFolderSupport":"Por el momento, su navegador no acepta las funciones de arrastar-soltar de carpetas. Por favor, suba los archivos manualmente."}},"table":{"head_name":"Nombre","head_update":"Ultima actualizaci\xf3n","head_size":"Tama\xf1o","head_status":"Compartir","head_thumbnail_size":"Cambiar el tama\xf1o de las miniaturas","row_update_format":"LLL d, yyyy","row_update_format_full":"LLL d, yyyy","row_read_only":"Compartido (s\xf3lo en lectura)","row_read_write":"Compartido (Lectura & Escritura)","row_size_symbols":{"B":"o","KB":"Ko","MB":"Mo","GB":"Go","TB":"To","PB":"Po","EB":"Eo","ZB":"Zo","YB":"Yo"},"load_more":"Cargar m\xe1s archivos","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"El m\xe1s viejo primero","head_updated_at_desc":"El m\xe1s reciente primero","head_size_asc":"El m\xe1s liviano primero","head_size_desc":"El m\xe1s pesado primero"},"tooltip":{"carbonCopy":{"title":"Copia Carb\xf3n","caption":"Indica si Twake Workplace, su sitio de hospedaje,  define el documento como \\"aut\xe9ntico y original\\", ya que puede afirmar que proviene directamente de un servicio de terceros, sin haber sufrido ninguna modificaci\xf3n."},"electronicSafe":{"title":"Seguridad electr\xf3nica","caption":"Indica si el documento original est\xe1 protegido por su seguridad digital personal con las certificaciones que le dan valor probatorio y una garant\xeda de retenci\xf3n de 50 a\xf1os m\xe1s all\xe1 de su dep\xf3sito si el documento es definido como \\"aut\xe9ntico y original\\" por Twake Workplace, donde se hospeda su Twake, ya que puede afirmar que proviene directamente de un servicio de terceros, sin haber sufrido ninguna modificaci\xf3n.\\n\\n"}}},"Storage":{"title":"Almacenamiento","availability":"%{smart_count} GB disponibles","increase":"Aumenta tu espacio"},"SelectionBar":{"selected_count":"item seleccionado |||| items seleccionados","share":"Compartir","download":"Descargar","trash":"Borrar","destroy":"Borrar definitivamente","rename":"Cambiar el nombre","restore":"Restaurar","close":"Cerrar","openWith":"Abir con...","applePreview":"Vista preliminar de Apple","forward":"Enviar","forwardTo":"Enviar a...","moveto":"Trasladar a...","moveto_mobile":"Trasladar","phone-download":"Hacerla disponible cuando est\xe9 desconectado","qualify":"Clasificar","history":"Historia"},"DeleteConfirm":{"title":"\xbfSuprimir este elemento? |||| \xbfSuprimir estos elementos?","trash":"Ser\xe1 desplazado a la Papelera. ||| Ser\xe1n desplazados a la Papelera.","restore":"Usted puede restaurarlo cuando lo desee. ||| Usted puede restaurarlos cuando lo desee.","link":"El intercambio de enlaces ya no estar\xe1 activo","referenced":"Algunos de los archivos incluidos en la selecci\xf3n se refieren a un \xe1lbum de fotos. Se borrar\xe1n si usted procede a enviarlos a la papelera.","cancel":"Anular","delete":"Suprimir"},"emptytrashconfirmation":{"title":"\xbfSuprimir definitivamente?","forbidden":"Usted no podr\xe1 acceder m\xe1s a estos archivos.","restore":"Usted no podr\xe1 recuperar estos archivos si no ha hecho una copia de seguridad.","cancel":"Anular","delete":"Suprimir definitivamente"},"DestroyConfirm":{"title":"\xbfSuprimir definitivamente?","forbidden":"Usted no podr\xe1 acceder m\xe1s a este archivo. ||| Usted no podr\xe1 acceder m\xe1s a estos archivos.","restore":"Usted no podr\xe1 recuperar este archivo si no ha hecho una copia de seguridad. ||| Usted no podr\xe1 recuperar estos archivos si no ha hecho una copia de seguridad.","cancel":"Anular","delete":"Suprimir definitivamente"},"quotaalert":{"title":"Su espacio disco est\xe1 lleno :(","desc":"Por favor, suprima archivos, vac\xede su basura o aumente su espacio en el disco antes de volver a subir archivos.","confirm":"OK","increase":"Aumente su espacio disco"},"loading":{"message":"Cargando"},"empty":{"title":"No hay archivos en esta carpeta.","text":"Selecciona archivos en tu computadora o arr\xe1stralos aqu\xed.","mobile_text":"Selecciona archivos en tu dispositivo.","trash_title":"Usted no tiene ning\xfan archivo borrado.","trash_text":"Los archivos que no necesita m\xe1s \xe9chelos a la Papelera y supr\xedmalos definitivamente para liberar espacio de almacenamiento."},"error":{"open_folder":"Algo ha fallado al abrir la carpeta.","button":{"reload":"Actualizar ahora"},"download_file":{"offline":"Usted debe estar conectado para descargar este archivo","missing":"Este archivo no existe"}},"Error":{"public_unshared_title":"Lo sentimos, este enlace ya no es v\xe1lido.","public_unshared_text":"Este enlace ha caducado o ha sido eliminado por su propietario. H\xe1gale saber a \xe9l o ella que lo ha perdido!","generic":"Algo ha fallado. Espere algunos minutos y vuelva a ensayar."},"alert":{"could_not_open_file":"El archivo no se puede abrir","try_again":"Ha ocurrido un error, por favor ensaye m\xe1s tarde.","restore_file_success":"La selecci\xf3n ha sido restaurada con \xe9xito.","trash_file_success":"La selecci\xf3n ha sido desplazada a la Papelera.","destroy_file_success":"Se ha suprimido definitivamente la selecci\xf3n.","empty_trash_progress":"Su papelera se est\xe1 vaciando. Esto puede tomar poco tiempo.","empty_trash_success":"La papelera ha sido vaciada.","folder_name":"El elemento %{folderName} ya existe, por favor escoger otro nombre.","file_name":"El elemento %{fileName} ya existe, por favor escoger otro nombre.","folder_generic":"Ha ocurrido un error, por favor vuelva a ensayar.","folder_abort":"Se requiere poner un nombre a la nueva carpeta si desea guardarla. Su informaci\xf3n no ha sido guardada.","offline":"Esta funci\xf3n no esta disponible cuando usted est\xe1 desconectado.","preparing":"Preparando sus archivos...","item_copied":"1 elemento copiado","items_copied":"%{count} elementos copiados","item_cut":"1 elemento cortado","items_cut":"%{count} elementos cortados","item_moved":"1 elemento ha sido movido","items_moved":"%{count} elementos han sido movidos","item_pasted":"1 elemento ha sido movido","items_pasted":"%{count} elementos han sido movidos","copy_files_only":"No se pueden copiar carpetas","copy_not_allowed":"La operaci\xf3n de copia no est\xe1 permitida en esta vista.","paste_error":"Ha ocurrido un error al pegar los archivos","paste_failed":"Error al pegar los archivos","paste_sharing_error":"No se pueden pegar los archivos debido a restricciones de compartici\xf3n. Por favor use la acci\xf3n Mover en su lugar.","paste_same_folder_skipped":"No se pueden mover elementos a la misma carpeta en la que ya se encuentran.","paste_not_allowed":"No puedes pegar en esta carpeta","cannot_move_shared_drive":"No puedes mover la carpeta de unidad compartida","cannot_copy_shared_drive":"No puedes copiar la carpeta de la unidad compartida"},"upload":{"label":"Subir","documentType":{},"alert":{"network":"Usted no dispone de una conexi\xf3n internet. Vuelva a ensayar cuando disponga de una."}},"intents":{"alert":{"error":"La recuperaci\xf3n del archivo ha fallado. S\xfabalo manualmente con ayuda del men\xfa de Twake."},"picker":{"select":"Seleccionar","cancel":"Anular","new_folder":"Nueva carpeta","instructions":"Seleccionar un blanco"}},"UploadQueue":{"header":"Subiendo %{smart_count} foto a Twake Drive |||| Subiendo %{smart_count} fotos a Twake Drive","header_mobile":"Subiendo %{done} de %{total}","header_done":"Subidos %{done} de %{total} con \xe9xito","close":"cerrar","item":{"pending":"Pendiente"}},"Viewer":{"close":"Cerrar","noviewer":{"download":"Descargar este archivo","openWith":"Abir con...","cta":{"saveTime":"\xa1Gane tiempo!","installDesktop":"Instale la herramienta de sincronizaci\xf3n para su ordenador","accessFiles":"Acceda a sus archivos directamente desde su ordenador"}},"actions":{"download":"Descargar","forward":"Reenviar"},"loading":{"error":"Este archivo no se puede cargar. \xbfTienes alguna conexi\xf3n a Internet funcionando ahora?","retry":"Reint\xe9ntelo"},"error":{"generic":"Se ha producido un error al abrir este archivo, por favor int\xe9ntelo de nuevo.","noNetwork":"Actualmente usted est\xe1 desconectado."},"panel":{"title":"Informaci\xf3n \xfatil"}},"Move":{"to":"Trasladar a:","action":"Trasladar","cancel":"Anular","modalTitle":"Trasladar","title":"%{smart_count} elemento |||| %{smart_count} elementos","success":"%{subject} ha sido desplazado a %{target}. |||| %{smart_count} elementos han sido desplazados a %{target}.","error":"Ha ocurrido un error al desplazar este elemento, por favor vuelva a ensayar. |||| Ha ocurrido un error al desplazar estos elementos, por favor vuelva a ensayar.","cancelled":"%{subject} ha sido devuelto a su carpeta de origen. |||| %{smart_count} elementos han sido devueltos a sus carpetas de origen.","cancelledWithRestoreErrors":"%{subject} ha sido desplazado a su ubicaci\xf3n original pero hubo un error al restaurar el archivo de la papelera. |||| %{smart_count} elementos han sido desplazados a su ubicaci\xf3n original pero hubo  %{restoreErrorsCount} error(es) al  restaurar los archivos de la papelera.","cancelled_error":"Lo sentimos, ha ocurrido un error al anular el desplazamiento. |||| Lo sentimos, un error ha ocurrido al anular los desplazamientos.","outsideSharedFolder":{},"sharedFolderInsideAnother":{}},"ImportToDrive":{"title":"%{smart_count} elemento |||| %{smart_count} elementos","to":"Guardado en:","action":"Guardar","cancel":"Anular","success":"%{smart_count} archivo guardado |||| %{smart_count} archivos guardados","error":"Algo ha fallado, vuelva a ensayar"},"FileOpenerExternal":{"fileNotFoundError":"Error: archivo no encontrado"},"TOS":{"updated":{"title":"Lo nuevo en el RGPD","detail":"En el marco de la Reglamento General de Protecci\xf3n de Datos (RGPD), [nuestras Condiciones Generales de Utilizaci\xf3n se han actualizado](%{link})\xa0 y se aplicar\xe1n a partir del 25 de mayo de 2018.","cta":"Aceptar CGU y continuar","disconnect":"Rechazar y desconectarse","error":"Algo ha fallado, vuelva a ensayar m\xe1s tarde"}},"manifest":{"permissions":{"contacts":{"description":"Necesario para compartir archivos con sus contactos"},"groups":{"description":"Necesario para compartir archivos con sus grupos"}}},"models":{"contact":{"defaultDisplayName":"An\xf3nimo"}},"Scan":{"scan_a_doc":"Escanear un doc","save_doc":"Guardar el doc","filename":"Nombre del archivo","save":"Guardar","cancel":"Anular","qualify":"Clasificar","apply":"Aplicar","error":{"offline":"Usted est\xe1 actualmente fuera de l\xednea y no puede utilizar esta funcionalidad. Vuelva a ensayarlo m\xe1s tarde","uploading":"Ya est\xe1 cargando un archivo. Espere hasta el final de la carga e int\xe9ntelo de nuevo.","generic":"Algo ha fallado, vuelva a ensayar."},"successful":{"qualified_ok":"\xa1Usted ha clasificado exitosamente su archivo!"}},"History":{"description":"Las \xfaltimas 20 versiones de sus archivos se guardan autom\xe1ticamente. Seleccione una versi\xf3n para descargarla.","current_version":"Versi\xf3n actual","loading":"Cargando...","noFileVersionEnabled":"Su Twake pronto podr\xe1 archivar las \xfaltimas modificaciones de un archivo para no arriesgarse a perderlas en el futuro."},"External":{"redirection":{"title":"Redireccionar","text":"Est\xe1 a punto de ser redireccionado...","error":"Error durante la redirecci\xf3n. Generalmente, esto significa que el contenido del archivo no est\xe1 en el formato correcto."}},"RenameModal":{"title":"Cambiar el nombre","description":"Est\xe1 a punto de cambiar la extensi\xf3n del archivo. \xbfQuiere continuar?","continue":"Continuar","cancel":"Anular"},"Shortcut":{"title_modal":"Crear un atajo","filename":"Nombre del archivo","url":"URL","cancel":"Anular","create":"Crear","created":"Su atajo ha sido creado","errored":"Ha ocurrido un error","filename_error_ends":"El nombre debe terminar con .url","needs_info":"El atajo necesita al menos una url y un nombre de archivo","url_badformat":"Su url no est\xe1 en el formato correcto"},"searchbar":{"placeholder":"Buscar","empty":"No se ha encontrado ning\xfan resultado para su consulta “%{query}”"},"search":{"empty":{"subtitle":"No se ha encontrado ning\xfan resultado para su consulta “%{query}”"}}}')},51679:function(e){"use strict";e.exports=JSON.parse('{"Nav":{"item_drive":"Fichiers","item_recent":"R\xe9cents","item_sharings":"Partages","item_shared":"Partag\xe9s","item_activity":"Activit\xe9","item_trash":"Corbeille","item_settings":"Param\xe8tres","item_collect":"Administratif","item_shared_drives":"Drives partag\xe9s","item_favorites":"Favoris","item_external_drives":"Disques externes","item_my_drive":"Mon Drive","btn-client":"T\xe9l\xe9charger Twake Drive ","btn-client-web":"Obtenez un Twake","btn-client-mobile":"Emportez votre cloud personnel avec vous : installez notre app %{name} !","banner-txt-client":"Installez %{name} pour ordinateur et synchronisez vos fichiers pour les rendre accessibles \xe0 tout moment.","banner-btn-client":"T\xe9l\xe9charger","link-client":"https://cozy.io/fr/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.flagship.mobile","link-client-ios":"https://apps.apple.com/app/cloud-personnel-cozy/id1600636174","link-client-web":"https://cozy.io/try-it","view_more":"Voir plus","view_less":"Voir moins"},"breadcrumb":{"title_drive":"Fichiers","title_recent":"R\xe9cents","title_sharings":"Partages","title_shared":"Mes fichiers partag\xe9s","title_activity":"Activit\xe9","title_trash":"Corbeille","label":"Voir le chemin","title_shared_drives":"Drives","title_favorites":"Favoris"},"Toolbar":{"more":"Plus"},"toolbar":{"menu_manage_access":"G\xe9rer les acc\xe8s","menu_leave_shared_drive":"Quitter le drive partag\xe9","menu_upload":"Importer des fichiers","item_more":"Plus","menu_new_folder":"Dossier","menu_new_shared_drive":"Drive partag\xe9","menu_new_encrypted_folder":"Dossier chiffr\xe9","menu_select":"S\xe9lectionner les \xe9l\xe9ments","menu_share_folder":"Partager le dossier","menu_download":"T\xe9l\xe9charger","menu_sync_cozy":"Synchroniser dans mon Twake","add_to_mine":"Ajouter \xe0 mon Twake","menu_download_folder":"T\xe9l\xe9charger le dossier","menu_download_file":"T\xe9l\xe9charger ce fichier","menu_create_note":"Note","menu_create_docs":"Docs","menu_create_shortcut":"Raccourci","share":"Partager","trash":"Supprimer","delete_shared_drive":"Supprimer le drive partag\xe9","leave":"Quitter le partage et supprimer le dossier","menu_add":"Ajouter","menu_create":"Cr\xe9er","menu_add_item":"Ajouter un \xe9l\xe9ment","menu_onlyOffice":{"text":"Document texte","spreadsheet":"Feuille de calcul","slide":"Pr\xe9sentation"},"select_all":"Tout s\xe9lectionner","select_all_mobile":"Tout","clear_selection":"Effacer la s\xe9lection","clear_selection_mobile":"Annuler","sharings_tab_all":"Tout","sharings_tab_drives":"Drives"},"Share":{"create-cozy":"Cr\xe9er mon Twake"},"Files":{"share":{"cta":"Partager","title":"Partager","details":{"title":"D\xe9tails du partage","createdAt":"Depuis le %{date}","ro":"Peut consulter","rw":"Peut modifier","desc":{"ro":"Vous pouvez consulter, t\xe9l\xe9charger, et ajouter ce contenu \xe0 votre Twake. Vous recevrez les modifications faites par le propri\xe9taire, mais vous ne pourrez pas le modifier.","rw":"Vous pouvez consulter, modifier et supprimer du contenu. Les modifications sur le contenu seront r\xe9percut\xe9es automatiquement entre vos Twake."}},"shared":"Partag\xe9","sharedByMe":"Partag\xe9","sharedWithMe":"Partag\xe9 avec moi","sharedBy":"Partag\xe9 par %{name}","shareByLink":{"subtitle":"Par lien public","desc":"Chaque personne poss\xe9dant le lien fourni peut voir et t\xe9l\xe9charger vos fichiers.","creating":"Cr\xe9ation du lien...","copy":"Copier le lien","copied":"Lien copi\xe9 dans le presse-papiers.","failed":"Impossible de copier dans le presse papier"},"shareByEmail":{"subtitle":"Par email","email":"\xc0 :","emailPlaceholder":"Saisissez le courriel ou le nom du destinataire.","send":"Envoyer","genericSuccess":"Vous avez invit\xe9 %{count} contacts.","success":"Vous avez envoy\xe9 une invitation \xe0 %{email}.","comingsoon":"Bient\xf4t disponible ! Vous pourrez partager un document et vos photos en un seul clic avec votre famille, vos amis, et m\xeame vos collaborateurs. Ne vous inqui\xe9tez pas, on vous pr\xe9vient quand ce sera pr\xeat !","onlyByLink":"Ce %{type} ne peut \xeatre partag\xe9 que sous la forme d\'un lien, car il","type":{"file":"fichier","folder":"dossier"},"hasSharedParent":"se trouve dans un dossier partag\xe9.","hasSharedChild":"contient un \xe9l\xe9ment partag\xe9."},"revoke":{"title":"Arr\xeater le partage","desc":"Votre contact conservera une copie mais vos changements ne seront plus synchronis\xe9s.","success":"Vous avez cess\xe9 de partager ce fichier avec %{email}."},"revokeSelf":{"title":"Arr\xeater le partage","desc":"Vous conservez le contenu mais il ne sera plus mis \xe0 jour entre vos Twake.","success":"Vous avez \xe9t\xe9 retir\xe9 de ce partage."},"sharingLink":{"title":"Partager","copy":"Copier","copied":"Copi\xe9"},"whoHasAccess":{"title":"1 personne y a acc\xe8s |||| %{smart_count} personnes y ont acc\xe8s"},"protectedShare":{"title":"Prochainement !","desc":"Partagez ce que vous souhaitez par email avec votre famille et vos amis !"},"close":"Fermer","gettingLink":"Cr\xe9ation du lien…","error":{"generic":"Une erreur est survenue lors de la cr\xe9ation du lien de partage, merci de r\xe9essayer","revoke":"Oups, une erreur est survenue. Contactez-nous pour que nous r\xe9solvions la situation au plus vite.\\n"},"specialCase":{"base":"Ce %{type} ne peut \xeatre partag\xe9 que sous la forme d\'un lien, car il","isInSharedFolder":"se trouve dans un dossier partag\xe9.","hasSharedFolder":"contient un dossier partag\xe9."}},"viewer-fallback":"Le fichier est en cours de t\xe9l\xe9chargement, vous pouvez fermer cette fen\xeatre.","dropzone":{"teaser":"D\xe9posez des fichiers pour les importer vers :","noFolderSupport":"Votre navigateur ne prend pas en charge le glisser-d\xe9poser de dossier pour le moment. Veuillez importer les fichiers manuellement."}},"table":{"head_name":"Nom","head_update":"Mise \xe0 jour","head_size":"Taille","head_status":"Partage","head_thumbnail_size":"Changer la taille des miniatures","head_view_mode":"Mode d\'affichage","head_view_list":"Vue liste","head_view_grid":"Vue grille","row_update_format":"d LLL yyyy","row_update_format_full":"d LLLL yyyy","row_read_only":"Partag\xe9 (lecture seule)","row_read_write":"Partag\xe9 (lecture & \xe9criture)","row_size_symbols":{"B":"o","KB":"Ko","MB":"Mo","GB":"Go","TB":"To","PB":"Po","EB":"Eo","ZB":"Zo","YB":"Yo"},"row_sharing_shortcut_aria_label":"Nouveau raccourci de partage","load_more":"Plus de fichiers","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"Plus anciens en premier","head_updated_at_desc":"Plus r\xe9cents en premier","head_size_asc":"Plus l\xe9gers en premier","head_size_desc":"Plus lourds en premier"},"tooltip":{"carbonCopy":{"title":"Copie conforme","caption":"Le document est d\xe9fini \\"authentique et original\\" par Twake Workplace, l\'h\xe9bergeur de votre Twake, car il peut affirmer qu\'il provient directement des services de son \xe9metteur sans avoir subi aucune modification."},"electronicSafe":{"title":"Coffre-fort num\xe9rique","caption":"Indique si le document original est s\xe9curis\xe9 par votre coffre-fort num\xe9rique personnel avec les certifications qui lui conf\xe8rent une valeur probante et une garantie de conservation de 50 ans au-del\xe0 de son d\xe9p\xf4t."}}},"Storage":{"title":"Stockage","availability":"%{smart_count} Go disponible","increase":"Augmenter l\'espace"},"SelectionBar":{"selected_count":"\xe9l\xe9ment s\xe9lectionn\xe9 |||| \xe9l\xe9ments s\xe9lectionn\xe9s","share":"Partager","download":"T\xe9l\xe9charger","trash":"Supprimer","destroy":"Supprimer d\xe9finitivement","rename":"Renommer","restore":"Restaurer","close":"Fermer","openWith":"Ouvrir avec...","applePreview":"Aper\xe7u Apple","forward":"Transf\xe9rer","forwardTo":"Transf\xe9rer vers...","moveto":"D\xe9placer vers…","moveto_mobile":"D\xe9placer","phone-download":"Rendre accessible hors-ligne","requalify":"Requalifier","qualify":"Qualifier","history":"Versions","more":"Afficher plus d\'action","openWithinNextcloud":"Ouvrir dans Nextcloud"},"DeleteConfirm":{"title":"Supprimer %{filename} ? |||| Supprimer %{smart_count} %{type} ?","trash":"Cet \xe9l\xe9ment sera d\xe9plac\xe9 dans la corbeille. |||| Ces \xe9l\xe9ments seront d\xe9plac\xe9s dans la corbeille.","restore":"Vous pouvez toujours le restaurer quand vous voulez.","share_accepted":"Le partage sera arr\xeat\xe9. Ainsi, les contacts suivant conserveront une copie mais vos changements ne seront plus synchronis\xe9s :","share_waiting":"Le partage sera arr\xeat\xe9. Ainsi, les contacts suivant ne pourront donc plus accepter le partage et ne pourront plus acc\xe9der aux contenus partag\xe9s :","share_both":"Le partage sera arr\xeat\xe9. Ainsi, les contacts ayant stock\xe9 les fichiers dans leur Twake conserveront une copie, les autres contacts ne pourront plus acc\xe9der aux contenus partag\xe9s :","link":"Le partage par lien ne sera plus actif.","referenced":"Des photos de la s\xe9lection sont dans un album. Elles seront retir\xe9es de l\'album si vous confirmez.","cancel":"Annuler","delete":"Supprimer"},"EmptyTrashConfirm":{"title":"Supprimer d\xe9finitivement ?","forbidden":"Vous ne pourrez plus acc\xe9der \xe0 ces fichiers.","restore":"Vous ne pourrez pas restaurer ces fichiers.","cancel":"Annuler","delete":"Tout supprimer","processing":"Votre corbeille est en train de se vider. Cela peut prendre quelques instants.","success":"La corbeille a \xe9t\xe9 vid\xe9e.","error":"Une erreur est survenue, merci de r\xe9essayer."},"DestroyConfirm":{"title":"Supprimer %{filename} ? |||| Supprimer %{smart_count} %{type} ?","forbidden":"Vous ne pourrez plus acc\xe9der \xe0 ce %{type}. |||| Vous ne pourrez plus acc\xe9der \xe0 ces %{type}.","restore":"Vous ne pourrez pas restaurer ce %{type}. |||| Vous ne pourrez pas restaurer ces %{type}.","cancel":"Annuler","delete":"Supprimer d\xe9finitivement","success":"Le %{type} a \xe9t\xe9 supprim\xe9 d\xe9finitivement. |||| %{smart_count} %{type} ont \xe9t\xe9 supprim\xe9s d\xe9finitivement.","error":"Une erreur est survenue, merci de r\xe9essayer."},"quotaalert":{"title":"Votre espace disque est plein :(","desc":"Veuillez supprimer des fichiers, vider votre corbeille ou augmenter votre espace disque avant d\'importer de nouveau fichier.","confirm":"OK","increase":"Augmenter votre espace disque"},"loading":{"message":"Chargement","onlyOfficeCreateInProgress":"Cr\xe9ation du fichier en cours..."},"empty":{"title":"Vous n\'avez aucun fichier dans ce dossier.","text":"S\xe9lectionnez les fichiers sur votre ordinateur ou faites-les glisser ici.","mobile_text":"S\xe9lectionnez les fichiers sur votre appareil.","trash_title":"Vous n\'avez aucun fichier supprim\xe9.","trash_text":"D\xe9placez les fichiers dont vous n\'avez plus besoin dans la corbeille et supprimez-les d\xe9finitivement pour r\xe9cup\xe9rer de l\'espace de stockage.","shared-drive_text":"Cr\xe9ez et partagez votre premier drive."},"error":{"open_folder":"Une erreur est survenue pendant l\'ouverture du dossier.","open_file":"Une erreur est survenue pendant l\'ouverture du fichier.","button":{"reload":"Rafra\xeechir"},"download_file":{"offline":"Vous devez \xeatre connect\xe9 pour pouvoir ouvrir ce fichier","missing":"Le fichier n\'existe pas","encryption_many":"Vous ne pouvez pas t\xe9l\xe9charger plusieurs fichiers chiffr\xe9s en m\xeame temps"}},"Error":{"public_unshared_title":"D\xe9sol\xe9, ce lien n\'est plus disponible.","public_unshared_text":"Ce lien a expir\xe9 ou il a \xe9t\xe9 supprim\xe9 par le ou la propri\xe9taire. Signalez-lui que vous voulez acc\xe9der \xe0 son contenu !","generic":"Une erreur s\'est produite. Attendez quelques minutes et recommencez."},"alert":{"could_not_open_file":"Impossible d\'ouvrir le fichier","try_again":"Une erreur est survenue, merci de r\xe9essayer dans un instant.","restore_file_success":"La s\xe9lection a \xe9t\xe9 restaur\xe9e avec succ\xe8s.","trash_file_success":"La s\xe9lection a \xe9t\xe9 d\xe9plac\xe9e dans la Corbeille.","trash_shared_drive_success":"Le drive partag\xe9 a \xe9t\xe9 d\xe9plac\xe9 dans la Corbeille.","destroy_file_success":"La s\xe9lection a \xe9t\xe9 supprim\xe9e d\xe9finitivement.","folder_name":"L\'\xe9l\xe9ment %{folderName} existe d\xe9j\xe0, merci de choisir un nouveau nom.","file_name":"L\'\xe9l\xe9ment %{fileName} existe d\xe9j\xe0, utilisez un nouveau nom","file_name_missing":"Le nom du fichier est manquant, veuillez choisir un nouveau nom.","file_name_illegal_name":"Le nom du fichier %{fileName} est invalide, veuillez choisir un nouveau nom.","file_name_illegal_characters":"Le nom du fichier %{fileName} est invalide, il contient les caract\xe8res interdits suivants : %{characters}","folder_generic":"Une erreur est survenue, merci de r\xe9essayer.","folder_abort":"Vous devez nommer votre dossier si vous voulez le sauvegarder. Vos informations n\'ont pas \xe9t\xe9 enregistr\xe9es.","offline":"Cette fonctionnalit\xe9 n’est pas disponible en mode hors-ligne.","preparing":"Pr\xe9paration de vos fichiers...","item_copied":"1 \xe9l\xe9ment copi\xe9","items_copied":"%{count} \xe9l\xe9ments copi\xe9s","item_cut":"1 \xe9l\xe9ment coup\xe9","items_cut":"%{count} \xe9l\xe9ments coup\xe9s","item_moved":"1 \xe9l\xe9ment a \xe9t\xe9 d\xe9plac\xe9","items_moved":"%{count} \xe9l\xe9ments ont \xe9t\xe9 d\xe9plac\xe9s","item_pasted":"1 \xe9l\xe9ment a \xe9t\xe9 d\xe9plac\xe9","items_pasted":"%{count} \xe9l\xe9ments ont \xe9t\xe9 d\xe9plac\xe9s","copy_files_only":"Impossible de copier les dossiers","copy_not_allowed":"L\'op\xe9ration de copie n\'est pas autoris\xe9e dans cette vue.","paste_error":"Une erreur s\'est produite lors du collage des fichiers","paste_failed":"\xc9chec du collage des fichiers","paste_sharing_error":"Impossible de coller les fichiers en raison de restrictions de partage. Veuillez utiliser l\'action D\xe9placer \xe0 la place.","paste_same_folder_skipped":"Impossible de d\xe9placer les \xe9l\xe9ments dans le m\xeame dossier o\xf9 ils se trouvent d\xe9j\xe0.","paste_not_allowed":"Vous ne pouvez pas coller dans ce dossier","cannot_move_shared_drive":"Vous ne pouvez pas d\xe9placer le dossier de lecteur partag\xe9","cannot_copy_shared_drive":"Vous ne pouvez pas copier le dossier du lecteur partag\xe9"},"upload":{"label":"Importer","documentType":{"file":"fichier","directory":"dossier","element":"\xe9l\xe9ment"},"alert":{"success":"%{smart_count} %{type} import\xe9. |||| %{smart_count} %{type}s import\xe9s.","success_conflicts":"%{smart_count} %{type} import\xe9 avec %{conflictNumber} conflit(s). |||| %{smart_count} %{type}s import\xe9s avec %{conflictNumber} conflit(s).","success_updated":"%{smart_count} %{type} import\xe9 et %{updatedCount} mis \xe0 jour. |||| %{smart_count} %{type}s import\xe9s et %{updatedCount} mis \xe0 jour.","success_updated_conflicts":"%{smart_count} %{type} import\xe9, %{updatedCount} mis \xe0 jour et %{conflictCount} conflit(s). |||| %{smart_count} %{type}s import\xe9s, %{updatedCount} mis \xe0 jour et %{conflictCount} conflit(s).","updated":"%{smart_count} %{type} mis \xe0 jour. |||| %{smart_count} %{type}s mis \xe0 jour.","updated_conflicts":"%{smart_count} %{type} mis \xe0 jour avec %{conflictCount} conflit(s). |||| %{smart_count} %{type}s mis \xe0 jour avec %{conflictCount} conflit(s).","errors":"Une erreur est survenue lors de l’import du %{type}, merci de r\xe9essayer plus tard.","network":"Vous ne disposez pas d\'une connexion internet. Merci de r\xe9essayer quand ce sera le cas.","fileTooLargeErrors":"Fichier trop volumineux. Taille maximale autoris\xe9e par fichier : %{max_size_value} Go"}},"intents":{"alert":{"error":"La r\xe9cup\xe9ration du fichier a \xe9chou\xe9. T\xe9l\xe9chargez le fichier manuellement puis ajoutez-le \xe0 Twake. "},"picker":{"select":"S\xe9lectionner","cancel":"Annuler","new_folder":"Nouveau dossier","instructions":"Choisir une cible"}},"UploadQueue":{"header":"Import de %{smart_count} fichier dans votre Twake |||| Import de %{smart_count} fichiers dans votre Twake","header_mobile":"Import de %{done} sur %{total}","header_done":"%{done} sur %{total} \xe9l\xe9ment(s) import\xe9(s)","success_flagship":"%{smart_count} fichier import\xe9 avec succ\xe8s. |||| %{smart_count} fichiers import\xe9s avec succ\xe8s.","close":"Fermer","item":{"pending":"En attente"}},"Viewer":{"close":"Fermer","noviewer":{"download":"T\xe9l\xe9charger ce fichier","openWith":"Ouvrir avec...","openInOnlyOffice":"Ouvrir avec Only Office","cta":{"saveTime":"Gagnez du temps !","installDesktop":"Installez l\'outil de synchronisation pour ordinateur","accessFiles":"Acc\xe9dez \xe0 vos fichiers directement sur votre ordinateur"}},"actions":{"download":"T\xe9l\xe9charger","forward":"Transf\xe9rer"},"loading":{"error":"Ce fichier n\'a pas pu \xeatre charg\xe9. Avez-vous une connexion internet qui fonctionne actuellement ?","retry":"R\xe9essayer"},"error":{"noapp":"Votre t\xe9l\xe9phone n\'a identifi\xe9 aucune application pour lire ce type de fichier.","generic":"Une erreur est survenue lors de l\'ouverture de ce fichier, merci de r\xe9essayer.","noNetwork":"Vous \xeates actuellement hors ligne."},"panel":{"title":"Informations utiles"}},"Move":{"to":"D\xe9placer vers :","action":"D\xe9placer","cancel":"Annuler","modalTitle":"D\xe9placer","title":"%{smart_count} \xe9l\xe9ment |||| %{smart_count} \xe9l\xe9ments","success":"%{subject} a \xe9t\xe9 d\xe9plac\xe9 dans %{target}. |||| %{smart_count} \xe9l\xe9ments ont \xe9t\xe9 d\xe9plac\xe9s dans %{target}.","error":"Une erreur est survenue pendant le d\xe9placement de cet \xe9l\xe9ment, merci de r\xe9essayer plus tard. |||| Une erreur est survenue pendant le d\xe9placement de ces \xe9l\xe9ments, merci de r\xe9essayer plus tard.","cancelled":"%{subject} a \xe9t\xe9 rapatri\xe9 dans son dossier d’origine. |||| %{smart_count} \xe9l\xe9ments ont \xe9t\xe9 rapatri\xe9s dans leur dossiers d’origine.","cancelledWithRestoreErrors":"%{subject} a \xe9t\xe9 rapatri\xe9 dans son dossier d\'origine mais il y a eu une erreur lors de la restauration du fichier depuis la corbeille. |||| %{smart_count} \xe9l\xe9ments ont \xe9t\xe9 rapatri\xe9s dans leur dossiers d\'origine mais il y a eu %{restoreErrorsCount} erreur(s) lors de la restauration des fichiers depuis la corbeille.","cancelled_error":"Une erreur est survenue lors de l’annulation du d\xe9placement. |||| Une erreur est survenue lors de l’annulation de ces d\xe9placements.","multipleEntries":"%{smart_count} \xe9l\xe9ment |||| %{smart_count} \xe9l\xe9ments","addFolder":"Ajouter un dossier","outsideSharedFolder":{"title":"D\xe9placement en dehors du dossier %{sharedFolder}","content_1":"Attention, vous souhaitez d\xe9placer %{name} en dehors du dossier partag\xe9 %{sharedFolder}. |||| Attention, vous souhaitez d\xe9placer %{smart_count} %{type}s en dehors du dossier partag\xe9 %{sharedFolder}.","content_2":"Ce d\xe9placement, va retirer le %{type} %{name} du partage. Ce %{type} va donc \xeatre mis \xe0 la corbeille pour l\'ensemble des membres du partage. |||| Ce d\xe9placement, va retirer les %{smart_count} %{type}s du partage. Ces %{type}s vont donc \xeatre mis \xe0 la corbeille pour l\'ensemble des membres du partage.","cancel":"Annuler","confirm":"J\'ai compris"},"insideSharedFolder":{"title":"D\xe9placer vers un dossier partag\xe9 ?","content":"Tous les membres ayant acc\xe8s \xe0 %{destination} auront \xe9galement acc\xe8s \xe0 %{source}. |||| Tous les membres ayant acc\xe8s \xe0 %{destination} auront \xe9galement acc\xe8s aux %{type} s\xe9lectionn\xe9s.","cancel":"Annuler","confirm":"Ok"},"sharedFolderInsideAnother":{"title":"D\xe9placement impossible","content_1":"Vous souhaitez d\xe9placer un \xe9l\xe9ment partag\xe9 dans un dossier lui-m\xeame partag\xe9. Ce type d\xe9placement n\'est pas autoris\xe9.","content_2":"Si vous souhaitez tout de m\xeame d\xe9placer %{source} dans %{destination}, veuillez arr\xeater le partage de :","cancel":"Annuler le d\xe9placement","confirm":"Arr\xeater le partage"}},"ImportToDrive":{"title":"%{smart_count} fichier |||| %{smart_count} fichiers","to":"Enregistrer dans :","action":"Enregistrer","cancel":"Annuler","success":"%{smart_count} fichier enregistr\xe9 |||| %{smart_count} fichiers enregistr\xe9s","error":"Une erreur s\'est produite. Merci de recommencer. "},"FileOpenerExternal":{"fileNotFoundError":"Erreur : fichier non trouv\xe9"},"TOS":{"updated":{"title":"Du nouveau avec le RGPD !","detail":"Dans le cadre du R\xe8glement G\xe9n\xe9ral de la Protection des Donn\xe9es (RGPD), [nos CGU sont actualis\xe9es](%{link}) et s’appliquent pour vous \xe0 partir du 25 mai 2018.","cta":"Accepter les CGU et continuer","disconnect":"Refuser et se d\xe9connecter","error":"Une erreur est survenue, merci de r\xe9essayer plus tard"}},"manifest":{"permissions":{"contacts":{"description":"Utilis\xe9 pour partager des \xe9l\xe9ments \xe0 vos contacts"},"groups":{"description":"Utilis\xe9 pour partager des \xe9l\xe9ments \xe0 vos groupes"}}},"models":{"contact":{"defaultDisplayName":"Anonyme"}},"Scan":{"none":"Aucune","scan_a_doc":"Num\xe9riser un doc","save_doc":"Enregistrer le document","filename":"Nom du fichier","save":"Sauvegarder","cancel":"Annuler","qualify":"Qualifier","requalify":"Requalifier","apply":"Appliquer","error":{"offline":"Vous \xeates actuellement d\xe9connect\xe9, vous ne pouvez donc pas utiliser cette fonctionnalit\xe9. Connectez-vous \xe0 internet et recommencez. ","uploading":"Vous avez d\xe9j\xe0 un fichier en cours de t\xe9l\xe9chargement. Attendez la fin et recommencez.","generic":"Un probl\xe8me est survenu. Veuillez r\xe9essayer. "},"successful":{"qualified_ok":"Fichier qualifi\xe9 avec succ\xe8s !"}},"History":{"description":"Les 20 derni\xe8res versions de vos fichiers sont conserv\xe9es automatiquement. S\xe9lectionnez une version pour la t\xe9l\xe9charger.","current_version":"Version actuelle","loading":"Chargement...","noFileVersionEnabled":"Nouveaut\xe9 : votre Twake pourra prochainement archiver les derni\xe8res modifications d\'un fichier pour ne plus jamais risquer de les perdre"},"External":{"redirection":{"title":"Redirection","text":"Vous \xeates sur le point d\'\xeatre redirig\xe9... ","error":"Erreur pendant la redirection. G\xe9n\xe9ralement cela signifie que le contenu du fichier n\'est pas dans le bon format. "}},"RenameModal":{"title":"Renommer","description":"Vous \xeates sur le point de changer l\'extension du fichier. Voulez-vous continuer ? ","continue":"Continuer","cancel":"Annuler"},"Shortcut":{"title_modal":"Cr\xe9er un raccourci","filename":"Nom du fichier","url":"URL","cancel":"Annuler","create":"Cr\xe9er","created":"Le raccourci a \xe9t\xe9 cr\xe9\xe9","errored":"Une erreur s\'est produite","filename_error_ends":"Le nom du fichier doit se terminer par .url","needs_info":"Un raccourci a besoin d\'un nom et d\'une URL","url_badformat":"L\'URL saisie n\'est pas dans le bon format"},"OnlyOffice":{"Error":{"title":"Quelque chose n\'a pas fonctionn\xe9","text":"Essayez de recharger la page s\'il vous pla\xeet"},"readOnly":{"title":"Lecture seule","tooltip":"Vous \xeates uniquement autoris\xe9 \xe0 visualiser ce document. Contactez le propri\xe9taire pour obtenir des droits d\'\xe9criture."},"createFileName":{"text":"Nouveau document texte","spreadsheet":"Nouvelle feuille de calcul","slide":"Nouvelle pr\xe9sentation"},"toolbar":{"goToHome":"Aller \xe0 l\'accueil"},"actions":{"edit":"Modifier","validate":"Valider"},"tooltip":{"title":"Modifier le document","text":"Le document est actuellement en lecture seule, Vous pouvez le modifier en cliquant ici.","actions":{"ok":"Ok","hide":"Ne plus afficher"}}},"Migration":{"title":"Mettre \xe0 jour Twake Drive","content":"Twake Drive doit \xeatre mis \xe0 jour afin d\'am\xe9liorer ses performances. Cela peut prendre jusqu\'\xe0 plusieurs minutes durant lesquelles vous ne pourrez pas utiliser l\'application. Souhaitez-vous le faire maintenant ? Si vous refusez, nous vous redemanderons la prochaine fois.","confirm":"Ok, c\'est parti !","cancel":"Non, pas maintenant"},"searchbar":{"placeholder":"Rechercher","empty":"Aucun r\xe9sultat trouv\xe9 pour la requ\xeate \\"%{query}\\""},"button":{"back":"Retour","add":"Ajouter","create":"Cr\xe9er"},"search":{"action":"Rechercher","empty":{"title":"Aucun r\xe9sultat","subtitle":"Aucun r\xe9sultat trouv\xe9 pour la requ\xeate \\"%{query}\\""}},"PushBanner":{"quota":{"text":"Vous n\'avez presque plus d\'espace de stockage. Si vous atteignez la limite, vous ne pourrez plus ajouter de fichiers. Vous pouvez supprimer des fichiers, vider votre corbeille ou changer d\'offre.","actions":{"first":"J\'ai compris","second":"Voir les offres"}}},"FileDivergedModal":{"title":"Quelqu’un a modifi\xe9 ce fichier","content":"Quelqu’un a modifi\xe9 le contenu de ce fichier pendant que vous l\'\xe9ditiez. Vous pouvez r\xe9cup\xe9rer ces changements ou continuer votre \xe9dition sur un nouveau fichier.","confirm":"Continuer d\'\xe9diter","cancel":"Voir les changements","error":"Une erreur est survenue, merci de r\xe9essayer.","confirmReload":{"title":"Voir les changements","content":"En acc\xe9dant au nouveau fichier, vos modifications seront annul\xe9es.","cancel":"Annuler","confirm":"Ok, j’ai compris"},"viewMode":{"title":"Quelqu’un a modifi\xe9 ce fichier","content":"Quelqu’un a modifi\xe9 le contenu de ce fichier. Vous pouvez r\xe9cup\xe9rer ces changements.","confirm":"Voir les changements"}},"FileDeletedModal":{"title":"Quelqu’un a supprim\xe9 ce fichier","content":"Quelqu’un a supprim\xe9 ce fichier pendant que vous l\'\xe9ditiez. Vous pouvez arr\xeater vos modifications ou restaurer ce fichier pour continuer vos modifications.","confirm":"Restaurer le fichier","cancel":"Annuler l\'\xe9dition","error":"Une erreur est survenue, merci de r\xe9essayer."},"TrashedBanner":{"text":"Cet \xe9l\xe9ment est dans la corbeille","destroy":"Supprimer d\xe9finitivement","restore":"Restaurer","restoreSuccess":"L’\xe9l\xe9ment a bien \xe9t\xe9 restaur\xe9","restoreError":"Une erreur est survenue, merci de r\xe9essayer.","destroySuccess":"L’\xe9l\xe9ment a bien \xe9t\xe9 supprim\xe9"},"EntriesType":{"file":"fichier |||| fichiers","directory":"dossier |||| dossiers","element":"\xe9l\xe9ment |||| \xe9l\xe9ments"},"NotFound":{"title":"L’\xe9l\xe9ment est introuvable","text":"Nous n’avons trouv\xe9 aucun \xe9l\xe9ment \xe0 cette adresse. Il s’agit peut-\xeatre d’une erreur de frappe."},"NextcloudBreadcrumb":{"root":"Drive partag\xe9s","trash":"Corbeille"},"NextcloudToolbar":{"share":"Partager"},"NextcloudDeleteConfirm":{"title":"Supprimer %{filename} ? |||| Supprimer %{smart_count} %{type} ?","trash":"Cet \xe9l\xe9ment sera d\xe9plac\xe9 dans la corbeille de Nextcloud. |||| Ces \xe9l\xe9ments seront d\xe9plac\xe9s dans la corbeille de Nextcloud.","restore":"Vous pouvez toujours le restaurer quand vous voulez depuis Nextcloud.","error":"Une erreur est survenue, merci de r\xe9essayer.","cancel":"Annuler","delete":"Supprimer"},"FileName":{"sharedDrive":"Drives","trash":"Corbeille"},"NextcloudBanner":{"title":"Les \xe9l\xe9ments ci-dessous sont affich\xe9s depuis un drive NextCloud et ne sont pas stock\xe9s dans votre Twake."},"favorites":{"label":{"add":"Ajouter aux favoris","addMobile":"Favoris","remove":"Retirer des favoris"},"error":"Une erreur est survenue, merci de r\xe9essayer.","success":{"add":"%{filename} a \xe9t\xe9 ajout\xe9 aux favoris |||| Ces \xe9l\xe9ments ont \xe9t\xe9 ajout\xe9s aux favoris","remove":"%{filename} a \xe9t\xe9 retir\xe9 des favoris |||| Ces \xe9l\xe9ments ont \xe9t\xe9 retir\xe9s des favoris"}},"TrashToolbar":{"emptyTrash":"Vider la corbeille"},"RestoreNextcloudFile":{"label":"Restaurer","success":"L\'\xe9l\xe9ment a bien \xe9t\xe9 restaur\xe9","error":"Une erreur est survenue, merci de r\xe9essayer."},"actions":{"infos":"D\xe9tails et qualification","infosMobile":"D\xe9tails","duplicateTo":{"label":"Dupliquer vers…"},"duplicateToMobile":{"label":"Dupliquer"}},"DuplicateModal":{"subTitle":"Dupliquer vers :","confirmLabel":"Dupliquer ici","success":"%{fileName} a \xe9t\xe9 dupliqu\xe9 dans %{destinationName}. |||| %{smart_count} \xe9l\xe9ments ont \xe9t\xe9 dupliqu\xe9s dans %{destinationName}.","error":"Une erreur est survenue, merci de r\xe9essayer."},"OpenFolderButton":{"label":"Ouvrir le dossier"},"LastUpdate":{"titleFormat":"dd LLLL yyyy, HH:MM"},"AddMenu":{"readOnlyFolder":"Ce dossier est en lecture seule. Vous ne pouvez pas effectuer cette action."},"PublicNoteRedirect":{"error":{"title":"Impossible d\'acc\xe9der au document","subtitle":"Le lien de partage semble manquant ou invalide. Merci de demander au propri\xe9taire du document de v\xe9rifier les acc\xe8s"}}}')},26026:function(e){"use strict";e.exports=JSON.parse('{"Nav":{"item_drive":"Drive","item_recent":"Recenti","item_sharings":"Condivisioni","item_shared":"Condiviso da me","item_activity":"Attivit\xe0","item_trash":"Cestino","item_settings":"Impostazioni","item_collect":"Amministrativo","btn-client":"Ottieni Twake Drive per desktop","btn-client-web":"Ottieni Twake","btn-client-mobile":"Ottieni %{name} sul tuo telefono!","banner-txt-client":"Ottieni %{name} per Desktop e sincronizza i tuoi file in modo sicuro per renderli accessibili in qualsiasi momento.","banner-btn-client":"Scarica","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it"},"breadcrumb":{"title_drive":"Drive","title_recent":"Recenti","title_sharings":"Condivisioni","title_shared":"Condiviso da me","title_activity":"Attivit\xe0","title_trash":"Cestino","label":"Mostra percorso"},"Toolbar":{"more":"Altro"},"toolbar":{"menu_upload":"Carica files","item_more":"Altro","menu_new_folder":"Cartella","menu_new_encrypted_folder":"Cartella criptata","menu_select":"Seleziona oggetti","menu_share_folder":"Condividi cartella","menu_download":"Scarica","menu_sync_cozy":"Sincronizza con il mio Twake","add_to_mine":"Aggiungi al mio Twake","menu_download_folder":"Cartella download","menu_download_file":"Scarica questo file","menu_create_note":"Nota","menu_create_shortcut":"Collegamento","empty_trash":"Svuota cestino","share":"Condividi","trash":"Rimuovi","delete_shared_drive":"Elimina unit\xe0 condivisa","leave":"Lascia la cartella condivisa ed eliminala","menu_add":"Aggiungi","menu_create":"Creare","menu_onlyOffice":{"text":"Documento di testo","spreadsheet":"Foglio di calcolo","slide":"Presentazione"},"select_all":"Seleziona tutto","clear_selection":"Cancella selezione","sharings_tab_all":"Tutti","sharings_tab_drives":"Unit\xe0"},"Share":{"create-cozy":"Crea il mio Twake"},"Files":{"share":{"cta":"Condividi","title":"Condividi","details":{"title":"Dettagli condivisione","createdAt":"Il %{date}","ro":"Pu\xf2 visualizzare","rw":"Pu\xf2 modificare","desc":{"ro":"\xc8 possibile visualizzare, scaricare e aggiungere questo contenuto al proprio Twake. Riceverao gli aggiornamenti da parte del proprietario, ma non potrai aggiornarli tu stesso.","rw":"Puoi visualizzare, aggiornare, cancellare e aggiungere questo contenuto al tuo Twake. Gli aggiornamenti apportati saranno visibili anche agli altri Twake."}},"sharedByMe":"Condiviso da me","sharedWithMe":"Condiviso con me","sharedBy":"Condiviso da %{name}","shareByLink":{"subtitle":"Tramite link pubblico","desc":"Chiunque abbia il link fornito pu\xf2 vedere e scaricare i tuoi file.","creating":"Creazione del link...","copy":"Copia link","copied":"Il link \xe8 stato copiato negli appunti","failed":"Impossibile copiare negli appunti"},"shareByEmail":{"subtitle":"Tramite email","email":"A:","emailPlaceholder":"Inserire l\'indirizzo e-mail o il nome del destinatario","send":"Invia","genericSuccess":"Hai inviato un invito a %{count} contatti.","success":"Hai inviato un invito a %{email}.","comingsoon":"Prossimamente! Potrai condividere documenti e foto con un solo clic con la tua famiglia, i tuoi amici e persino i tuoi colleghi. Non preoccuparti, ti faremo sapere quando sar\xe0 disponibile!","onlyByLink":"Questo %{tipo} pu\xf2 essere condiviso solo tramite link, perch\xe9","type":{"file":"file","folder":"cartella"},"hasSharedParent":"ha un genitore condiviso","hasSharedChild":"contiene un elemento condiviso"},"revoke":{"title":"Rimuovi dalla condivisione","desc":"Questo contatto manterr\xe0 una copia, ma le modifiche non saranno pi\xf9 sincronizzate.","success":"Hai rimosso questo file condiviso da %{email}."},"revokeSelf":{"title":"Rimuovimi dalla condivisione","desc":"Il contenuto viene mantenuto, ma non verr\xe0 pi\xf9 aggiornato sul tuo Twake.","success":"Sei stato rimosso da questa condivisione."},"sharingLink":{"title":"Link per la condivisione","copy":"Copia","copied":"Copiato"},"whoHasAccess":{"title":"1 persona ha accesso |||| %{smart_count} persone hanno accesso"},"protectedShare":{"title":"In arrivo!","desc":"Condividi qualsiasi cosa via e-mail con la tua famiglia e i tuoi amici!"},"close":"Chiudi","gettingLink":"Ottenendo il tuo link","specialCase":{"isInSharedFolder":"\xe8 in una cartella condivisa","hasSharedFolder":"contiene una cartella condivisa"}}},"table":{"head_name":"Nome","head_update":"Ultimo aggiornamento","head_size":"Dimensione","row_update_format":"LLL d, yyyy","row_update_format_full":"LLLL d, yyyy","row_read_only":"Condividi (Solo Lettura)","row_read_write":"Condividi (Lettura e Scrittura)","row_size_symbols":{"B":"B","KB":"KB","MB":"MB","GB":"GB","TB":"TB","PB":"PB","EB":"EB","ZB":"ZB","YB":"YB"},"load_more":"Carica altro","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A"}},"Storage":{"title":"Archiviazione","availability":"%{smart_count} GB disponibili","increase":"Aumenta il tuo spazio"},"SelectionBar":{"share":"Condividi","download":"Scarica","trash":"Rimuovi","destroy":"Elimina permanentemente","rename":"Rinomina","restore":"Ripristina","close":"Chiudi","openWith":"Apri con..."},"DeleteConfirm":{"cancel":"Annulla","delete":"Rimuovi"},"emptytrashconfirmation":{"title":"Eliminare permanentemente?","forbidden":"Non sarai pi\xf9 in grado di accedere a questi file.","cancel":"Annulla","delete":"Elimina tutto"},"DestroyConfirm":{"title":"Eliminare permanentemente?","cancel":"Annulla","delete":"Elimina permanentemente"},"quotaalert":{"confirm":"OK"},"loading":{"message":"Caricamento"},"empty":{"title":"Non hai nessun file in questa cartella."},"error":{"button":{"reload":"Aggiorna adesso"},"download_file":{"offline":"Devi essere connesso per scaricare questo file"}},"alert":{"could_not_open_file":"Il file non pu\xf2 essere aperto","empty_trash_success":"Il cestino \xe8 stato svuotato","folder_generic":"Si \xe8 verificato un errore, per favore riprova.","offline":"Questa caratteristica non \xe8 disponibile offline.","item_copied":"1 elemento copiato","items_copied":"%{count} elementi copiati","item_cut":"1 elemento tagliato","items_cut":"%{count} elementi tagliati","item_moved":"1 elemento \xe8 stato spostato","items_moved":"%{count} elementi sono stati spostati","item_pasted":"1 elemento \xe8 stato spostato","items_pasted":"%{count} elementi sono stati spostati","copy_files_only":"Non \xe8 possibile copiare le cartelle","copy_not_allowed":"L\'operazione di copia non \xe8 consentita in questa vista.","paste_error":"Si \xe8 verificato un errore durante l\'incollaggio dei file","paste_failed":"Incollaggio dei file fallito","paste_sharing_error":"Impossibile incollare i file a causa di restrizioni di condivisione. Si prega di utilizzare l\'azione Sposta invece.","paste_same_folder_skipped":"Impossibile spostare gli elementi nella stessa cartella in cui si trovano gi\xe0.","paste_not_allowed":"Non puoi incollare in questa cartella","cannot_move_shared_drive":"Non puoi spostare la cartella dell\'unit\xe0 condivisa","cannot_copy_shared_drive":"Non puoi copiare la cartella dell’unit\xe0 condivisa"},"UploadQueue":{"close":"chiudi","item":{"pending":"In attesa"}},"Viewer":{"close":"Chiudi","noviewer":{"download":"Scarica questo file","openWith":"Apri con..."},"actions":{"download":"Scarica"},"loading":{"retry":"Riprova"}},"ImportToDrive":{"action":"Salva"},"FileOpenerExternal":{"fileNotFoundError":"Errore: file non trovato"},"models":{"contact":{"defaultDisplayName":"Anonimo"}},"Scan":{"save_doc":"Salva il documento","save":"Salva"},"History":{"current_version":"Versione corrente","loading":"Caricamento..."},"External":{"redirection":{"text":"Stai per essere reindirizzato..."}},"RenameModal":{"title":"Rinomina"},"Shortcut":{"url":"URL","errored":"Si \xe8 verificato un errore"},"OnlyOffice":{"readOnly":{"title":"Sola lettura"},"createFileName":{"text":"Nuovo documento di testo","spreadsheet":"Nuovo foglio di calcolo","slide":"Nuova presentazione"}},"searchbar":{"placeholder":"Cerca","empty":"Nessun risultato trovato per la richiesta “%{query}”"},"search":{"empty":{"subtitle":"Nessun risultato trovato per la richiesta “%{query}”"}}}')},36434:function(e){"use strict";e.exports=JSON.parse('{"Nav":{"item_drive":"ドライブ","item_recent":"最近使用したファイル","item_sharings":"共有","item_shared":"自分が共有した","item_activity":"アクティビティ","item_trash":"ゴミ箱","item_settings":"設定","item_collect":"管理","btn-client":"デスクトップ用 Twake ドライブを入手","btn-client-web":"Twake を入手する","btn-client-mobile":"お使いのモバイルで %{name} ドライブを入手しましょう!","banner-txt-client":"デスクトップ用 %{name} ドライブを入手して、ファイルに安全に同期していつでもアクセスできるようにしましょう。","banner-btn-client":"ダウンロード","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it"},"breadcrumb":{"title_drive":"ドライブ","title_recent":"最近使用したファイル","title_sharings":"共有","title_shared":"自分が共有した","title_activity":"アクティビティ","title_trash":"ゴミ箱"},"Toolbar":{"more":"さらに"},"toolbar":{"item_more":"さらに","menu_select":"アイテムを選択","menu_share_folder":"フォルダーを共有","menu_download_folder":"ダウンロードフォルダー","menu_download_file":"このファイルをダウンロード","empty_trash":"ゴミ箱を空にする","share":"共有","trash":"削除","delete_shared_drive":"共有ドライブを削除","leave":"共有されたフォルダーから離れて削除する","select_all":"すべて選択","clear_selection":"選択をクリア","sharings_tab_all":"すべて","sharings_tab_drives":"ドライブ"},"Share":{"create-cozy":"自分の Twake を作成する"},"Files":{"share":{"cta":"共有","title":"共有","details":{"title":"共有の詳細","createdAt":"日付 %{date}","ro":"読み取り可能","rw":"変更可能","desc":{"ro":"このコンテンツを表示、ダウンロード、あなたの Twake に追加することができます。 所有者による更新を受け取りますが、あなた自身でこのコンテンツを更新することはできません。","rw":"このコンテンツを表示、更新、削除、あなたの Twake に追加することができます。 行った更新は他の Twake でも見られます。"}},"sharedByMe":"自分が共有した","sharedWithMe":"自分と共有","sharedBy":"%{name} が共有しました","shareByLink":{"subtitle":"公開リンクで","desc":"提供されたリンクを持つ人は、誰でもあなたのファイルを見たりダウンロードしたりすることができます。","creating":"リンクを作成中...","copy":"リンクをコピー","copied":"リンクをクリップボードにコピーしました","failed":"クリップボードにコピーできません"},"shareByEmail":{"subtitle":"メールで","email":"宛先:","emailPlaceholder":"メールアドレスまたは受信者の名前を入力してください","send":"送信","genericSuccess":"%{count} 連絡先に招待状を送信しました。","success":"招待状を %{email} に送信しました。","comingsoon":"まもなく登場します! 家族や友達、さらには同僚ともワンクリックで文書や写真を共有できます。 ご心配なく、準備ができたらお知らせします!","onlyByLink":"この %{type} はリンクを共有することだけできます。","type":{"file":"ファイル","folder":"フォルダー"},"hasSharedParent":"共有した親があります","hasSharedChild":"共有した要素を含みます"},"revoke":{"title":"共有から削除","desc":"この連絡先はコピーを保存しますが、変更は同期されません。","success":"この共有済ファイルを %{email} から削除しました。"},"revokeSelf":{"title":"共有から自分を削除","desc":"コンテンツを保存しますが、もうお使いの Twake 間で更新されません。","success":"この共有から削除されました。"},"sharingLink":{"title":"共有するリンク","copy":"コピー","copied":"コピーしました"},"whoHasAccess":{"title":"1 人がアクセスできます |||| %{smart_count} 人がアクセスできます"},"protectedShare":{"title":"まもなく登場します!","desc":"あなたの家族や友達とメールで何でも共有してください!"},"close":"閉じる","gettingLink":"リンクの取得中...","error":{"generic":"ファイル共有リンクの作成中にエラーが発生しました。もう一度やり直してください。","revoke":"エラーが発生しました。 できるだけ早くこの問題を解決できるように、私たちにご連絡ください。"},"specialCase":{"base":"この %{type} は共有できませんが、リンクできます","isInSharedFolder":"共有フォルダーの中にあります","hasSharedFolder":"共有フォルダーを含みます"}},"viewer-fallback":"ファイルのダウンロードが始まったら、これを閉じることができます。","dropzone":{"teaser":"ファイルをドラッグ＆ドロップするとアップロードします:","noFolderSupport":"現在お使いのブラウザーでフォルダーのドラッグ＆ドロップはサポートされていません。 手動でファイルをアップロードしてください。"}},"table":{"head_name":"名前","head_update":"最終更新","head_size":"サイズ","head_thumbnail_size":"サムネイルのサイズを切り替え","row_update_format":"yyyy/LL/dd","row_update_format_full":"yyyy/LL/dd","row_read_only":"共有 (読み取り専用)","row_read_write":"共有 (読み書き)","row_size_symbols":{"B":"B","KB":"KB","MB":"MB","GB":"GB","TB":"TB","PB":"PB","EB":"EB","ZB":"ZB","YB":"YB"},"load_more":"さらに読み込む","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"古いものが先頭","head_updated_at_desc":"最近使用したものが先頭","head_size_asc":"小さいものが先頭","head_size_desc":"大きなものが先頭"}},"Storage":{"title":"ストレージ","availability":"%{smart_count} GB 利用可能","increase":"スペースを増やす"},"SelectionBar":{"selected_count":"アイテム選択 |||| アイテム選択","share":"共有","download":"ダウンロード","trash":"削除","destroy":"完全に削除","rename":"名前の変更","restore":"復元","close":"閉じる","moveto":"移動…","moveto_mobile":"移動","phone-download":"オフラインで利用可能にする","qualify":"分類","history":"履歴"},"DeleteConfirm":{"title":"この要素を削除しますか? |||| これらの要素を削除しますか?","trash":"ゴミ箱に移動されます。 |||| ゴミ箱に移動されます。","restore":"いつでも元に戻すことができます。 |||| いつでも元に戻すことができます。","referenced":"選択範囲内の一部のファイルがフォトアルバムに関連しています。それらはゴミ箱に移動すると、削除されます。","cancel":"キャンセル","delete":"削除"},"emptytrashconfirmation":{"title":"完全に削除しますか?","forbidden":"これらのファイルにもうアクセスすることはできません。","restore":"バックアップを作成していない場合、これらのファイルを復元することはできません。","cancel":"キャンセル","delete":"すべて削除"},"DestroyConfirm":{"title":"完全に削除しますか?","forbidden":"このファイルにもうアクセスすることはできません。 |||| これらのファイルにもうアクセスすることはできません。","restore":"バックアップを作成していない場合、このファイルを復元することはできません。 |||| バックアップを作成していない場合、これらのファイルを復元することはできません。","cancel":"キャンセル","delete":"完全に削除"},"quotaalert":{"title":"お使いのディスク容量が一杯です :(","desc":"ファイルを再度アップロードする前に、ファイルを削除するか、ゴミ箱を空にするか、ディスク容量を増やしてください。","confirm":"OK","increase":"ディスク容量を増やす"},"loading":{"message":"読み込み中"},"empty":{"title":"このフォルダーにファイルはありません。","text":"コンピューター上のファイルを選択するか、ここにドラッグアンドドロップしてください。","mobile_text":"デバイス上のファイルを選択してください。","trash_title":"削除されたファイルはありません。","trash_text":"不要になったファイルをゴミ箱に移動し、アイテムを完全に削除するとストレージページを解放します。"},"error":{"open_folder":"フォルダーを開くときに何か問題が発生しました。","button":{"reload":"今すぐ更新"},"download_file":{"offline":"このファイルをダウンロードするには接続している必要があります","missing":"このファイルが見つかりません"}},"Error":{"public_unshared_title":"申し訳ありません。このリンクはもう利用できません。","public_unshared_text":"このリンクは有効期限が切れているか、所有者によって削除されています。 見つからないことを彼または彼女に知らせてください!","generic":"エラーが発生しました。数分待ってからもう一度やり直してください。"},"alert":{"could_not_open_file":"ファイルを開くことができません","try_again":"エラーが発生しました。しばらくしてからもう一度やり直してください。","restore_file_success":"選択を正常に復元しました。","trash_file_success":"選択をゴミ箱に移動しました。","destroy_file_success":"選択を完全に削除しました。","empty_trash_progress":"ゴミ箱を空にしています。これは数分かかることがあります。","empty_trash_success":"ゴミ箱を空にしました。","folder_name":"要素 %{folderName} はすでに存在します。新しい名前を選んでください。","folder_generic":"エラーが発生しました。もう一度やり直してください。","folder_abort":"保存したい場合、新しいフォルダーに名前を追加する必要があります。 情報は保存されていません。","offline":"この機能はオフラインでは利用できません。","preparing":"ファイルを準備しています…","item_copied":"1個のアイテムをコピーしました","items_copied":"%{count}個のアイテムをコピーしました","item_cut":"1個のアイテムを切り取りました","items_cut":"%{count}個のアイテムを切り取りました","item_moved":"1個のアイテムが移動されました","items_moved":"%{count}個のアイテムが移動されました","item_pasted":"1個のアイテムが移動されました","items_pasted":"%{count}個のアイテムが移動されました","copy_files_only":"フォルダーはコピーできません","copy_not_allowed":"このビューではコピー操作は許可されていません。","paste_error":"ファイルの貼り付け中にエラーが発生しました","paste_failed":"ファイルの貼り付けに失敗しました","paste_sharing_error":"共有制限のためファイルを貼り付けることができません。代わりに移動アクションを使用してください。","paste_same_folder_skipped":"アイテムを既に存在する同じフォルダに移動することはできません。","paste_not_allowed":"このフォルダに貼り付けることはできません","cannot_move_shared_drive":"共有ドライブフォルダを移動することはできません","cannot_copy_shared_drive":"共有ドライブのフォルダをコピーできません"},"upload":{"label":"アップロード","alert":{"network":"現在オフラインです。 接続したらもう一度やり直してください。"}},"intents":{"alert":{"error":"ファイルを自動的にアップロードできません。アップロードメニューで手動でアップロードしてください。"},"picker":{"select":"選択","cancel":"キャンセル","new_folder":"新しいフォルダー","instructions":"対象を選択"}},"UploadQueue":{"header":"%{smart_count} 枚の写真を Twake ドライブにアップロード中 |||| %{smart_count} 枚の写真を Twake ドライブにアップロード中","header_mobile":"アップロード中 %{done} / %{total}","header_done":"%{done} / %{total} を正常にアップロードしました","close":"閉じる","item":{"pending":"保留"}},"Viewer":{"close":"閉じる","noviewer":{"download":"このファイルをダウンロード","openWith":"...で開く","cta":{"saveTime":"時間を節約しましょう!","installDesktop":"コンピュータに同期ツールをインストール","accessFiles":"自分のコンピュータ上のファイルに直接アクセス"}},"actions":{"download":"ダウンロード"},"loading":{"error":"このファイルを読み込めませんでした。 現在、インターネットに接続していますか?","retry":"再試行"},"error":{"generic":"このファイルを開くときにエラーが発生しました。もう一度やり直してください。","noNetwork":"現在オフラインです。"}},"Move":{"to":"移動先:","action":"移動","cancel":"キャンセル","modalTitle":"移動","title":"%{smart_count} アイテム |||| %{smart_count} アイテム","success":"%{subject} を %{target} に移動しました。 |||| %{smart_count} アイテムを %{target} に移動しました。","error":"このアイテムを移動中に問題が発生しました。後でもう一度やり直してください。 |||| これらのアイテムを移動中に問題が発生しました。後でもう一度やり直してください。","cancelled":"%{subject} を元の場所にもどしました。 |||| %{smart_count} アイテムを元の場所に戻しました。","cancelledWithRestoreErrors":"%{subject} を元の場所に戻しましたが、ゴミ箱からファイルを復元する時にエラーが発生しました。 |||| %{smart_count} 件を元の場所に戻しましたが、ゴミ箱からファイルを復元する時に %{restoreErrorsCount} エラーが発生しました。","cancelled_error":"アイテムを戻す際にエラーが発生しました。 |||| アイテムを戻す際にエラーが発生しました。"},"ImportToDrive":{"title":"%{smart_count} アイテム |||| %{smart_count} アイテム","to":"保存先:","action":"保存","cancel":"キャンセル","success":"%{smart_count} 保存済ファイル |||| %{smart_count} 保存済ファイル","error":"何か問題が発生しました。もう一度やり直してください"},"FileOpenerExternal":{"fileNotFoundError":"エラー: ファイルが見つかりません"},"TOS":{"updated":{"title":"GDPR が現実のものになります !","detail":"一般データ保護規則に従って、[利用規約が更新されました](%{link}) 、2018 年 5 月 25 日にすべての Twake ユーザーに適用されます。","cta":"利用規約に同意して続行する","disconnect":"拒否して切断する","error":"問題が発生しました。後でもう一度やり直してください"}},"manifest":{"permissions":{"contacts":{"description":"連絡先とファイルを共有するために必要です"},"groups":{"description":"グループとファイルを共有するために必要です"}}},"models":{"contact":{"defaultDisplayName":"匿名"}},"Scan":{"scan_a_doc":"ドキュメントをスキャン","save_doc":"ドキュメントを保存","filename":"ファイル名","save":"保存","cancel":"キャンセル","qualify":"分類","apply":"適用","error":{"offline":"現在オフラインのため、この機能は使用できません。 後でもう一度やり直してください","uploading":"すでにファイルをアップロードしています。 このアップロードが終了するまで待ってから、もう一度やり直してください。","generic":"何か問題が発生しました。もう一度やり直してください。"},"successful":{"qualified_ok":"ファイルの分類ができました!"}},"History":{"description":"ファイルの最新の20バージョンが自動的に保存されます。 ダウンロードするバージョンを選択してください。","current_version":"現在のバージョン","loading":"読み込んでいます...","noFileVersionEnabled":"Twake は、ファイルの最後の変更をすぐにアーカイブできるので、もう失う危険はありません。"},"External":{"redirection":{"title":"リダイレクト","text":"リダイレクトしています…","error":"リダイレクト中にエラーが発生しました。 通常、これはファイルの内容が正しい形式ではないことを意味します。"}},"RenameModal":{"title":"名前の変更","description":"ファイルの拡張子を変更しようとしています。 続行してもよろしいですか?","continue":"続行","cancel":"キャンセル"},"Shortcut":{"title_modal":"ショートカットの作成","filename":"ファイル名","url":"URL","cancel":"キャンセル","create":"作成","created":"ショートカットを作成しました","errored":"エラーが発生しました","filename_error_ends":"名前は .url で終了する必要があります","needs_info":"ショートカットは URL とファイル名である必要があります","url_badformat":"URL が正しい形式ではありません"},"searchbar":{"placeholder":"検索します","empty":"問い合わせ “%{query}” の結果が見つかりません"}}')},42225:function(e){"use strict";e.exports=JSON.parse('{"Nav":{"item_drive":"드라이브","item_recent":"최근","item_activity":"활동","item_settings":"설정","banner-btn-client":"다운로드","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it"},"breadcrumb":{"title_drive":"드라이브","title_recent":"최근","title_activity":"활동"},"Toolbar":{"more":"더보기"},"toolbar":{"item_more":"더보기","menu_new_folder":"폴더","menu_download":"다운로드","sharings_tab_all":"모두","sharings_tab_drives":"드라이브"},"Files":{"share":{"shareByLink":{"creating":"링크 생성","copy":"링크 복사","copied":"링크를 클립보드에 복사했습니다."},"sharingLink":{"copy":"복사"},"error":{"generic":"파일 공유 링크 생성 중에 오류가 발생했습니다. 나중에 다시 시도하세요.","revoke":"이런, 오류가 발생했습니다. 저희에게 알려 주시면 최대한 빨리 문제를 해결하겠습니다."}}},"table":{"head_name":"이름","head_size":"크기"},"error":{"open_folder":"폴더를 여는 동안 문제가 발생했습니다.","button":{"reload":"지금 새로고침"}},"Error":{"public_unshared_title":"죄송합니다. 이 링크는 더이상 이용할 수 없습니다.","generic":"오류가 발생했습니다. 나중에 다시 시도하세요."},"alert":{"could_not_open_file":"이 파일을 열 수 없습니다.","item_copied":"1개 항목이 복사되었습니다","items_copied":"%{count}개 항목이 복사되었습니다","item_cut":"1개 항목이 잘라내기되었습니다","items_cut":"%{count}개 항목이 잘라내기되었습니다","item_moved":"1개 항목이 이동되었습니다","items_moved":"%{count}개 항목이 이동되었습니다","items_pasted":"%{count}개 항목이 이동되었습니다","copy_files_only":"폴더는 복사할 수 없습니다","copy_not_allowed":"이 보기에서는 복사 작업이 허용되지 않습니다.","paste_error":"파일 붙여넣기 중 오류가 발생했습니다","paste_failed":"파일 붙여넣기에 실패했습니다","paste_sharing_error":"공유 제한으로 인해 파일을 붙여넣을 수 없습니다. 대신 이동 작업을 사용하십시오.","paste_same_folder_skipped":"항목을 이미 있는 동일한 폴더로 이동할 수 없습니다.","paste_not_allowed":"이 폴더에 붙여넣을 수 없습니다","cannot_move_shared_drive":"공유 드라이브 폴더를 이동할 수 없습니다","cannot_copy_shared_drive":"공유 드라이브 폴더를 복사할 수 없습니다"},"History":{"loading":"불러오는 중..."},"Shortcut":{},"OnlyOffice":{"createFileName":{"text":"새 문서 만들기","spreadsheet":"새 스프레드시트 만들기","slide":"새 프레젠테이션 만들기"}}}')},22989:function(e){"use strict";e.exports=JSON.parse('{"breadcrumb":{"title_drive":"Schijf","title_recent":"Recent","title_shared":"Gedeeld door mij","title_activity":"Activiteit","title_trash":"Prullenbak"},"toolbar":{"menu_select":"Selecteer items","empty_trash":"Leeg de prullenbak","select_all":"Alles selecteren","delete_shared_drive":"Gedeelde schijf verwijderen","sharings_tab_all":"Alles","sharings_tab_drives":"Stations"},"table":{"head_name":"Naam","head_update":"Laatst bijgewerkt","head_size":"Grootte","row_read_only":"Delen (alleen lezen)","row_read_write":"Delen (Lezen en schrijven)","row_size_symbols":{"B":"B","KB":"KB","MB":"MB","GB":"GB","TB":"TB","PB":"PB","EB":"EB","ZB":"ZB","YB":"YB"}},"DeleteConfirm":{"title":"Verwijder dit element? |||| Verwijder deze elementen?","trash":"Het zal worden verplaatst naar de Prullenbak. ||| Ze zullen worden verplaatst naar de Prullenbak.","restore":"Je kunt het nog steeds terughalen als je wilt. |||| Je kunt ze nog steeds terughalen als je wilt.","cancel":"Annuleren","delete":"Verwijderen"},"emptytrashconfirmation":{"title":"Permanent verwijderen?","forbidden":"Je kunt deze bestanden niet meer benaderen.","restore":"Als je geen back-up gemaakt hebt, kun je deze bestanden niet meer terugzetten.","cancel":"Annuleren","delete":"Verwijder alles"},"DestroyConfirm":{"title":"Verwijder permanent?","forbidden":"Je kunt dit bestand net meer benaderen. |||| Je kunt deze bestanden niet meer benaderen.","restore":"Als je geen back-up gemaakt hebt, kun je dit bestand niet meer terugzetten. |||| Als je geen back-up gemaakt hebt, kun je deze bestanden niet meer terugzetten.","cancel":"Annuleren","delete":"Verwijder permanent"},"quotaalert":{"title":"Jouw schijfruimte is vol :(","confirm":"OK"},"loading":{"message":"Laden"},"empty":{"title":"Er staan geen bestanden in deze map."},"error":{"open_folder":"Er is is fout gegaan bij het openen van de map.","button":{"reload":"Nu verversen"},"download_file":{"offline":"Je moet verbonden zijn om dit  bestand te downloaden","missing":"Dit bestand bestaat niet"}},"alert":{"try_again":"Er is een fout opgetreden, probeer het later nog eens.","restore_file_success":"De selectie is succesvol herstelt.","trash_file_success":"De selectie is verplaatst naar de Prullenbak.","destroy_file_success":"De selectie is permanent verwijderd.","folder_name":"Het element %{foldername} bestaat al, kies een andere naam.","folder_generic":"Er is een fout opgetreden, probeer het opnieuw.","folder_abort":"Je moet de nieuwe map een naam geven als je het wilt opslaan. De gegevens zijn niet opgeslagen.","offline":"Deze mogelijkheid is niet beschikbaar offline.","item_copied":"1 item gekopieerd","items_copied":"%{count} items gekopieerd","item_cut":"1 item geknipt","items_cut":"%{count} items geknipt","item_moved":"1 item is verplaatst","items_moved":"%{count} items zijn verplaatst","item_pasted":"1 item is verplaatst","items_pasted":"%{count} items zijn verplaatst","copy_files_only":"Mappen kunnen niet worden gekopieerd","copy_not_allowed":"Kopieerbewerking is niet toegestaan in deze weergave.","paste_error":"Er is een fout opgetreden bij het plakken van bestanden","paste_failed":"Plakken van bestanden mislukt","paste_sharing_error":"Kan bestanden niet plakken vanwege deelbeperkingen. Gebruik in plaats daarvan de actie Verplaatsen.","paste_same_folder_skipped":"Kan items niet verplaatsen naar dezelfde map waar ze al in staan.","paste_not_allowed":"Je kunt niet plakken in deze map","cannot_move_shared_drive":"Je kunt de gedeelde schijfmap niet verplaatsen","cannot_copy_shared_drive":"Je kunt de gedeelde schijfmap niet kopi\xebren"}}')},39656:function(e){"use strict";e.exports=JSON.parse('{"Nav":{"item_drive":"Schijf","item_recent":"Recent","item_sharings":"Gedeelde items","item_shared":"Door mij gedeeld","item_activity":"Activiteit","item_trash":"Prullenbak","item_settings":"Instellingen","item_collect":"Administratie","btn-client":"Download Twake Schijf voor je computer","btn-client-web":"Download Twake","btn-client-mobile":"Download %{name} Schijf op je telefoon!","banner-txt-client":"Download %{name} Schijf voor je computer en synchroniseer veilig je bestanden om ze overal beschikbaar te maken.","banner-btn-client":"Downloaden","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it"},"breadcrumb":{"title_drive":"Schijf","title_recent":"Recent","title_sharings":"Gedeelde items","title_shared":"Door mij gedeeld","title_activity":"Activiteit","title_trash":"Prullenbak","label":"Locatie tonen"},"Toolbar":{"more":"Meer"},"toolbar":{"menu_upload":"Bestanden uploaden","item_more":"Meer","menu_new_folder":"Map","menu_new_encrypted_folder":"Beveiligde map","menu_select":"Items selecteren","menu_share_folder":"Map delen","menu_download":"Downloaden","menu_sync_cozy":"Synchroniseren naar mijn Twake","add_to_mine":"Toevoegen aan mijn Twake","menu_download_folder":"Map downloaden","menu_download_file":"Download dit bestand","menu_create_note":"Notitie","menu_create_shortcut":"Snelkoppeling","empty_trash":"Prullenbak legen","share":"Delen","trash":"Verwijderen","delete_shared_drive":"Gedeelde schijf verwijderen","leave":"Gedeelde map verlaten en verwijderen","menu_add":"Toevoegen","menu_create":"Cre\xebren","menu_add_item":"Item toevoegen","menu_onlyOffice":{"text":"Tekstdocumen","spreadsheet":"Werkblad","slide":"Presentatie"},"select_all":"Alles selecteren","sharings_tab_all":"Alles","sharings_tab_drives":"Stations"},"Share":{"create-cozy":"Maak mijn Twake"},"Files":{"share":{"cta":"Delen","title":"Delen","details":{"title":"Deelinformatie","createdAt":"Op %{date}","ro":"Mag bekijken","rw":"Mag wijzigen","desc":{"ro":"Je kunt deze inhoud bekijken, downloaden op en toevoegen aan je Twake. Je ontvangt bijgewerkte versies van de eigenaar, maar je kunt zelfs niks aanpassen.","rw":"Je kunt deze inhoud bekijken, downloaden op en toevoegen aan je Twake. Bijgewerkte versies zijn beschikbaar op andere Cozies."}},"sharedByMe":"Door mij gedeeld","sharedWithMe":"Met mij gedeeld","sharedBy":"Gedeeld door %{name}","shareByLink":{"subtitle":"Via openbare link","desc":"Iedereen die de link heeft kan je bestanden bekijken en downloaden.","creating":"Bezig met maken van je link…","copy":"Link kopi\xebren","copied":"Link is gekopieerd naar het klembord","failed":"Kan niet kopi\xebren naar klembord"},"shareByEmail":{"subtitle":"Via e-mail","email":"Aan:","emailPlaceholder":"Voer het e-mailadres of de naam in van de ontvanger","send":"Versturen","genericSuccess":"Je hebt een uitnodiging verstuurd aan %{count} contactpersonen.","success":"Je hebt een uitnodiging verstuurd aan %{email}.","comingsoon":"Binnenkort kun je documenten en foto\'s met \xe9\xe9n klik delen met je familie, vrienden en zelfs met je collega\'s! Geen zorgen, we laten je weten wanneer dit beschikbaar is.","onlyByLink":"Dit %{type} kan niet worden gedeeld via een link omdat het","type":{"file":"bestand","folder":"map"},"hasSharedParent":"een gedeelde bovenliggende map bevat","hasSharedChild":"een gedeeld itembevat"},"revoke":{"title":"Verwijderen uit gedeelde items","desc":"De contactpersoon behoudt de kopie, maar aanpassingen worden niet langer gesynchroniseerd.","success":"Je hebt dit gedeelde bestand verwijderd uit %{email}."},"revokeSelf":{"title":"Verwijder mij uit gedeelde items","desc":"De inhoud blijft bewaard, maar wordt niet langer bijgewerkt tussen je Twake-apparaten.","success":"Je bent verwijderd uit deze gedeelde items."},"sharingLink":{"title":"Link om te delen","copy":"Kopi\xebren","copied":"Gekopieerd"},"whoHasAccess":{"title":"1 persoon heeft toegang |||| %{smart_count} personen hebben toegang"},"protectedShare":{"title":"Binnenkort!","desc":"Deel van alles via e-mail met je familie en vrienden!"},"close":"Sluiten","gettingLink":"Bezig met ophalen van je link…","error":{"generic":"Er is een fout opgetreden tijdens het cre\xebren van de link. Probeer het opnieuw.","revoke":"Oeps, er is een fout opgetreden. Neem contact met ons op zodat we het probleem z.s.m. kunnen verhelpen."},"specialCase":{"base":"Dit %{type} kan niet worden gedeeld met een link omdat het","isInSharedFolder":"zich bevindt in een gedeelde map","hasSharedFolder":"een gedeelde map bevat"}},"viewer-fallback":"Je kunt dit sluiten zodra het downloaden is gestart.","dropzone":{"teaser":"Versleep bestanden om ze te uploaden naar:","noFolderSupport":"Je browser heeft geen ondersteuning voor slepen-en-neerzetten. Upload de bestanden handmatig."}},"table":{"head_name":"Naam","head_update":"Laatst bijgewerkt","head_size":"Grootte","head_status":"Delen","head_thumbnail_size":"Miniatuurgrootte aanpassen","row_update_format":"LLL d, yyyy","row_update_format_full":"LLLL d, yyyy","row_read_only":"Delen (alleen-lezen)","row_read_write":"Delen (lezen en bewerken)","row_size_symbols":{"B":"B","KB":"KB","MB":"MB","GB":"GB","TB":"TB","PB":"PB","EB":"EB","ZB":"ZB","YB":"YB"},"load_more":"Meer laden","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"Oudste eerst","head_updated_at_desc":"Recentste eerst","head_size_asc":"Kleinste eerst","head_size_desc":"Grootste eerst"},"tooltip":{"carbonCopy":{"title":"Carbon Copy","caption":"Toont aan of het document ‘authentiek en origineel’ is verklaard door Twake Workplace, de hoster van je Twake. Het kan namelijk zo zijn dat de claim is gedaan door een externe partij zonder enige aanpassing."},"electronicSafe":{"title":"Elektronische kluis","caption":"Toont aan of het oorspronkelijke document veilig is opgeslagen in je persoonlijke digitale kluis, voorzien van alle bijbehorende certificeringen en 50 jaar garantie."}}},"Storage":{"title":"Opslag","availability":"%{smart_count} GB beschikbaar","increase":"Vergroot je ruimte"},"SelectionBar":{"selected_count":"item geselecteerd |||| items geselecteerd","share":"Delen","download":"Downloaden","trash":"Verwijderen","destroy":"Permanent verwijderen","rename":"Naam wijzigen","restore":"Herstellen","close":"Sluiten","openWith":"Openen met…","applePreview":"Apple-voorbeeld","forward":"Vooruit","forwardTo":"Doorsturen naar…","moveto":"Verplaatsen naar…","moveto_mobile":"Verplaatsen","phone-download":"Offline beschikbaar maken","qualify":"Categoriseren","history":"Geschiedenis","more":"Meer"},"DeleteConfirm":{"title":"Dit item verwijderen? |||| Deze items verwijderen?","trash":"Het wordt verplaatst naar de prullenbak. |||| Ze worden verplaatst naar de prullenbak.","restore":"Je kunt het ten allen tijde herstellen. |||| Je kunt ze ten allen tijde herstellen.","link":"De gedeelde link komt te vervallen","referenced":"Sommige geselecteerde bestanden horen bij een foto-album. Als je doorgaat, dan worden ze verwijderd.","cancel":"Annuleren","delete":"Verwijderen"},"emptytrashconfirmation":{"title":"Permanent verwijderen?","forbidden":"Je hebt dan  geen toegang meer tot deze bestanden.","restore":"Je kunt deze bestanden niet herstellen als je geen back-up hebt gemaakt.","cancel":"Annuleren","delete":"Alles verwijderen"},"DestroyConfirm":{"title":"Permanent verwijderen?","forbidden":"Je hebt dan geen toegang meer tot dit bestand. |||| Je hebt dat geen toegang meer tot deze bestanden.","restore":"Je kunt dit bestand niet herstellen als je geen back-up hebt gemaakt. |||| Je kunt deze bestanden niet herstellen als je geen back-up hebt gemaakt.","cancel":"Annuleren","delete":"Permanent verwijderen"},"quotaalert":{"title":"Je hebt geen vrije schijfruimte meer :(","desc":"Verwijder bestanden en leeg de prullenbak voordat je w\xe9\xe9r probeert om bestanden te uploaden.","confirm":"Ok\xe9","increase":"Vergroot je schijfruimte"},"loading":{"message":"Bezig met laden…","onlyOfficeCreateInProgress":"Bezig met aanmaken van huidig bestand…"},"empty":{"title":"Deze map bevat geen bestanden.","text":"Selecteer bestanden op uw computer of sleep ze hierheen.","mobile_text":"Selecteer bestanden op je apparaat.","trash_title":"Je hebt geen verwijderde bestanden.","trash_text":"Verplaats bestanden die je niet langer nodig hebt naar de prullenbak en verwijder items permanent om ruimte vrij te maken."},"error":{"open_folder":"Er is iets misgegaan tijdens het openen van de map.","open_file":"Er is iets misgegaan tijdens het openen van het bestand.","button":{"reload":"Nu herladen"},"download_file":{"offline":"Je moet verbonden zijn om dit bestand te kunnen downloaden","missing":"Dit bestand ontbreekt","encryption_many":"Je kunt niet meerdere beveiligde bestanden tegelijkertijd downloaden"}},"Error":{"public_unshared_title":"Sorry, deze link niet langer beschikbaar.","public_unshared_text":"Deze link is verlopen of verwijderd door de eigenaar. Stel hem of haar hiervan op de hoogte!","generic":"Er is iets misgegaan. Wacht een paar minuten en probeer het opnieuw."},"alert":{"could_not_open_file":"Het bestand kan niet worden geopend","try_again":"Er is een fout opgetreden; probeer het later opnieuw.","restore_file_success":"De selectie is hersteld.","trash_file_success":"De selectie is verplaatst naar de prullenbak.","destroy_file_success":"De selectie is permanent verwijderd.","empty_trash_progress":"De prullenbak wordt geleegd; dit kan even duren.","empty_trash_success":"De prullenbak is geleegd.","folder_name":"‘%{folderName}’ bestaat al. Kies een andere naam.","file_name":"‘%{fileName}’ bestaat al. Kies een andere naam.","file_name_missing":"De bestandsnaam ontbreekt - geef een naam op.","file_name_illegal_name":"‘%{fileName}’ is ongeldig. Kies een andere naam.","file_name_illegal_characters":"%{fileName} bevat ongeldige tekens: %{characters}","folder_generic":"Er is een fout opgetreden; probeer het opnieuw.","folder_abort":"Als je je nieuwe map wilt opslaan, dan moet je deze een naam geven. Je informatie is niet opgeslagen.","offline":"Deze functie is niet offline beschikbaar.","preparing":"Bezig met voorbereiden van je bestanden…","item_copied":"1 item gekopieerd","items_copied":"%{count} items gekopieerd","item_cut":"1 item geknipt","items_cut":"%{count} items geknipt","item_moved":"1 item is verplaatst","items_moved":"%{count} items zijn verplaatst","item_pasted":"1 item is verplaatst","items_pasted":"%{count} items zijn verplaatst","copy_files_only":"Mappen kunnen niet worden gekopieerd","copy_not_allowed":"Kopieerbewerking is niet toegestaan in deze weergave.","paste_error":"Er is een fout opgetreden bij het plakken van bestanden","paste_failed":"Plakken van bestanden mislukt","paste_sharing_error":"Kan bestanden niet plakken vanwege deelbeperkingen. Gebruik in plaats daarvan de actie Verplaatsen.","paste_same_folder_skipped":"Kan items niet verplaatsen naar dezelfde map waar ze al in staan.","paste_not_allowed":"U kunt niet plakken in deze map","cannot_move_shared_drive":"U kunt de gedeelde schijfmap niet verplaatsen","cannot_copy_shared_drive":"Je kunt de gedeelde schijfmap niet kopi\xebren"},"upload":{"label":"Uploaden","alert":{"network":"Je bent momenteel offline. Maak verbinding en probeer het opnieuw."}},"intents":{"alert":{"error":"Het bestand kan niet automatisch worden ge\xfcpload. Doe het handmatig via het uploadmenu."},"picker":{"select":"Selecteren","cancel":"Annuleren","new_folder":"Nieuwe map","instructions":"Kies een doel"}},"UploadQueue":{"header":"Bezig met uploaden van %{smart_count} foto naar Twake Drive |||| Bezig met uploaden van %{smart_count} foto\'s naar Twake Drive","header_mobile":"Bezig met uploaden - %{done} van %{total}…","header_done":"%{done} van de %{total} ge\xfcpload","close":"sluiten","item":{"pending":"In wachtrij"}},"Viewer":{"close":"Sluiten","noviewer":{"download":"Download dit bestand","openWith":"Openen met…","openInOnlyOffice":"Openen met OnlyOffice","cta":{"saveTime":"Bespaar wat tijd!","installDesktop":"Installeer de synchronisatie-app op je computer","accessFiles":"Direct toegang tot je bestanden vanaf je computer"}},"actions":{"download":"Downloaden","forward":"Vooruit"},"loading":{"error":"Dit bestand kan niet worden geladen. Ben je verbonden met het internet?","retry":"Opnieuw proberen"},"error":{"noapp":"Er is geen app die dit bestand in behandeling kan nemen.","generic":"Er is een fout opgetreden tijdens het openen van dit bestand. Probeer het opnieuw.","noNetwork":"Je bent momenteel offline."},"panel":{"title":"Nuttige informatie"}},"Move":{"to":"Verplaatsen naar:","action":"Verplaatsen","cancel":"Annuleren","modalTitle":"Verplaatsen","title":"%{smart_count} item |||| %{smart_count} items","success":"%{subject} is verplaatst naar %{target}. ||| %{smart_count} items zijn verplaatst naar %{target}.","error":"Er is iets misgegaan tijdens het verplaatsen van dit item; probeer het later opnieuw. |||| Er is iets misgegaan tijdens het verplaatsen van deze items; probeer het later opnieuw.","cancelled":"%{subject} is teruggeplaatst op de oorspronkelijke locatie. ||| %{smart_count} items zijn teruggeplaatst op hun oorspronkelijke locatie.","cancelledWithRestoreErrors":"%{subject} is teruggeplaatst op de oorspronkelijke locatie, maar er is een fout opgetreden. ||| %{smart_count} items zijn teruggeplaatst op hun oorspronkelijke locatie, maar er zijn %{restoreErrorsCount} fouten opgetreden.","cancelled_error":"Sorry, er is iets misgegaan tijdens het terughalen van dit item. |||| Sorry, er is iets misgegaan tijdens terughalen van deze items.","multipleEntries":"%{smart_count} item |||| %{smart_count} items","outsideSharedFolder":{"title":"Verplaatsen buiten de map ‘%{sharedFolder}’","cancel":"Annuleren","confirm":"Ik begrĳp het"}},"ImportToDrive":{"title":"%{smart_count} item |||| %{smart_count} items","to":"Opslaan in:","action":"Opslaan","cancel":"Annuleren","success":"%{smart_count} opgeslagen bestand |||| %{smart_count} opgeslagen bestanden","error":"Er is iets misgegaan; probeer het opnieuw."},"FileOpenerExternal":{"fileNotFoundError":"Fout: bestand niet gevonden"},"TOS":{"updated":{"title":"De GDPR is werkelijkheid geworden!","detail":"In verband met de General Data Protection Regulation, ook wel AVG, [zijn onze algemene voorwaarden bijgewerkt](%{link}) en van toepassing op alle Twake-gebruikers vanaf 25 mei 2018.","cta":"Voorwaarden accepteren en doorgaan","disconnect":"Weigeren en verbinding verbreken","error":"Er is iets misgegaan; probeer het later opnieuw."}},"manifest":{"permissions":{"contacts":{"description":"Vereist om bestanden te kunnen delen met je contactpersonen"},"groups":{"description":"Vereist om bestanden te kunnen delen in je groepen"}}},"models":{"contact":{"defaultDisplayName":"Anoniem"}},"Scan":{"scan_a_doc":"Document scannen","save_doc":"Document opslaan","filename":"Bestandsnaam","save":"Opslaan","cancel":"Annuleren","qualify":"Categoriseren","apply":"Toepassen","error":{"offline":"Je kunt deze functie momenteel niet gebruiken omdat je offline bent. Probeer het later opnieuw.","uploading":"Je bent al een bestand aan het uploaden. Wacht tot dat is afgerond en probeer het dan opnieuw.","generic":"Er is iets misgegaan; probeer het opnieuw."},"successful":{"qualified_ok":"Je hebt je eerste bestand gecategoriseerd!"}},"History":{"description":"De laatste 20 versies van je bestanden worden automatisch bewaard. Selecteer een versie om deze te downloaden.","current_version":"Huidige versie","loading":"Bezig met laden…","noFileVersionEnabled":"Je Twake kan binnenkort de recenste bestandsaanpassingen archiveren zodat je nooit meer een bestand kwijtraakt"},"External":{"redirection":{"title":"Doorverwijzing","text":"Je wordt doorverwezen…","error":"Doorverwijzing mislukt. Normaliter betekent dit dat de bestandsinhoud niet goed is opgemaakt."}},"RenameModal":{"title":"Naam wijzigen","description":"Je staat op het punt om de bestandsextensie te wijzigen. Wil je doorgaan?","continue":"Doorgaan","cancel":"Annuleren"},"Shortcut":{"title_modal":"Snelkoppeling maken","filename":"Bestandsnaam","url":"URL","cancel":"Annuleren","create":"Maken","created":"De snelkoppeling is gemaakt","errored":"Er is een fout opgetreden","filename_error_ends":"De naam moet eindigen op .url","needs_info":"De snelkoppeling moet op zijn minst voorzien zijn van een url en bestandsnaam","url_badformat":"De url is onjuist opgemaakt"},"OnlyOffice":{"Error":{"title":"Er is iets misgegaan","text":"Herlaad de pagina"},"readOnly":{"title":"Alleen-lezen","tooltip":"Je bent alleen bevoegd om dit document te lezen - neem contact op met de eigenaar als je het ook wilt kunnen bewerken."},"createFileName":{"text":"Nieuw tekstdocument","spreadsheet":"Nieuw werkblad","slide":"Nieuwe presentatie"},"toolbar":{"goToHome":"Ga naar overzicht"},"actions":{"edit":"Bewerken","validate":"Verifi\xebren"}},"Migration":{"title":"Twake Schijf bijwerken","content":"Twake Schijf moet worden bijgewerkt om de prestaties ervan te verbeteren - dit kan enkele minuten duren. Gedurende deze periode kun je de app niet gebruiken. Wil je Twake Schijf nu bijwerken? Als je dat niet wilt, dan vragen we het volgende keer opnieuw.","confirm":"Ja, doe maar!","cancel":"Nee, niet nu"},"searchbar":{"placeholder":"Zoeken naar iets","empty":"Geen resultaten gevonden voor de zoekopdracht \\"%{query}\\""},"button":{"back":"Terug","add":"Toevoegen","create":"Cre\xebren"},"search":{"action":"Zoeken","empty":{"title":"Geen zoekresultaten","subtitle":"Geen resultaten gevonden voor de zoekopdracht \\"%{query}\\""}},"PushBanner":{"quota":{"text":"Je hebt nog weinig opslagruimte. Als je het limiet bereikt, dan kun je geen bestanden meer toevoegen. Je kunt bestanden verwĳderen, de prullenbak legen of een ander abonnement kiezen om ruimte vrĳ te maken.","actions":{"first":"Ik begrĳp het","second":"Abonnementen bekĳken"}}},"EntriesType":{"file":"bestand |||| bestanden","directory":"map |||| mappen","element":"item |||| items"}}')},95911:function(e){"use strict";e.exports=JSON.parse('{"Nav":{"item_drive":"Dysk","item_recent":"Bieżące","item_shared":"Udostępnione przeze mnie","item_activity":"Aktywności","item_trash":"Kosze","item_settings":"Ustawienia","btn-client-web":"Pobierz Twake","btn-client-mobile":"Pobierz Twake Drive na urządzenie mobilne","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8"},"breadcrumb":{"title_drive":"Dysk","title_recent":"Bieżące","title_shared":"Udostępnione przeze mnie","title_activity":"Aktywności","title_trash":"Kosze"},"Toolbar":{"more":"Więcej"},"toolbar":{"item_more":"Więcej","menu_select":"Wybierz elementy","menu_download_folder":"Pobierz folder","empty_trash":"Opr\xf3żnij kosz","share":"Udostępnij","leave":"Opuść udostępniony folder i usuń go","select_all":"Zaznacz wszystko","sharings_tab_all":"Wszystko","sharings_tab_drives":"Dyski"},"Files":{"share":{"cta":"Udostępnij","title":"Udostępnij","details":{"title":"Szczeg\xf3ły udostępniania","createdAt":"Utworzone %{date}"},"sharedByMe":"Udostępnione przeze mnie","sharedWithMe":"Udostępnione dla mnie","shareByLink":{"desc":"Każdy posiadający ten lim może zobaczyć i pobrać Twoje pliki."},"shareByEmail":{"email":"Do:","send":"Wyślij","genericSuccess":"Wysłałeś zaproszenie do %{count} kontakt\xf3w.","success":"Wysłałeś zaproszenie do %{email}."}}},"searchbar":{"placeholder":"Szukaj czegokolwiek","empty":"Brak wynik\xf3w dla wyszukania \\"%{query}\\""},"search":{"empty":{"subtitle":"Brak wynik\xf3w dla wyszukania \\"%{query}\\""}},"alert":{"item_copied":"1 element skopiowany","items_copied":"%{count} element\xf3w skopiowanych","item_cut":"1 element wycięty","items_cut":"%{count} element\xf3w wyciętych","item_moved":"1 element został przeniesiony","items_moved":"%{count} element\xf3w zostało przeniesionych","item_pasted":"1 element został przeniesiony","items_pasted":"%{count} element\xf3w zostało przeniesionych","copy_files_only":"Nie można kopiować folder\xf3w","copy_not_allowed":"Operacja kopiowania nie jest dozwolona w tym widoku.","paste_error":"Wystąpił błąd podczas wklejania plik\xf3w","paste_failed":"Wklejanie plik\xf3w nie powiodło się","paste_sharing_error":"Nie można wkleić plik\xf3w z powodu ograniczeń udostępniania. Zamiast tego użyj akcji Przenieś.","paste_same_folder_skipped":"Nie można przenieść element\xf3w do tego samego folderu, w kt\xf3rym już się znajdują.","paste_not_allowed":"Nie możesz wkleić do tego folderu","cannot_move_shared_drive":"Nie możesz przenieść folderu dysku udostępnionego","cannot_copy_shared_drive":"Nie możesz skopiować folderu dysku wsp\xf3łdzielonego"}}')},50246:function(e){"use strict";e.exports=JSON.parse('{"Nav":{"item_drive":"Файлы","item_recent":"Недавние","item_sharings":"Общие","item_shared":"Мои отправленные файлы","item_activity":"Активность","item_trash":"Корзина","item_settings":"Настройки","item_collect":"Администрирование","item_shared_drives":"Общие диски","item_favorites":"Избранное","item_my_drive":"Мой диск","btn-client":"Получить достуа к Twake Drive для ПК","support-us":"Посмотреть предложения","support-us-description":"Хотите получить больше места или просто поддержать Cozy?","btn-client-web":"Получить доступ к Twake","btn-client-mobile":"Возьмите свой персональный облачный сервис с собой: установите %{name} на все устройства!","banner-txt-client":"Получите %{name} для ПК и безопасно синхронизируйте свои файлы, чтобы они всегда были доступны.","banner-btn-client":"Скачать","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.flagship.mobile","link-client-ios":"https://apps.apple.com/app/cloud-personnel-cozy/id1600636174","link-client-web":"https://cozy.io/try-it","view_more":"Показать больше","view_less":"Показать меньше"},"breadcrumb":{"title_drive":"Файлы","title_recent":"Недавние","title_sharings":"Общие","title_shared":"Мои отправленные файлы","title_activity":"Активность","title_trash":"Корзина","label":"Показать путь","title_shared_drives":"Диски","title_favorites":"Избранное"},"Toolbar":{"more":"Ещё"},"toolbar":{"menu_upload":"Загрузить файлы","item_more":"Ещё","menu_new_folder":"Папка","menu_new_encrypted_folder":"Зашифрованная папка","menu_select":"Выбрать элементы","menu_share_folder":"Поделиться папкой","menu_download":"Скачать","menu_sync_cozy":"Синхронизировать с моим Twake","add_to_mine":"Добавить в мой Twake","menu_download_folder":"Скачать папку","menu_download_file":"Скачать этот файл","menu_create_note":"Заметка","menu_create_shortcut":"Ярлык","share":"Поделиться","trash":"Удалить","delete_shared_drive":"Удалить общий диск","leave":"Покинуть доступную папку и удалить ее.","menu_add":"Добавить","menu_create":"Создать","menu_add_item":"Добавить элемент","menu_onlyOffice":{"text":"Текстовый документ","spreadsheet":"Таблица","slide":"Презентация"},"select_all":"Выбрать всё","select_all_mobile":"все","clear_selection":"Очистить выбор","clear_selection_mobile":"отмена","sharings_tab_all":"Всё","sharings_tab_drives":"Диски"},"Share":{"create-cozy":"Создать Twake Drive"},"Files":{"share":{"cta":"Поделиться","title":"Поделиться","details":{"title":"Информация об общем доступе","createdAt":"%{date}","ro":"Можно читать","rw":"Можно изменять","desc":{"ro":"Вы можете просматривать, скачивать и добавлять эти файлы на свой диск. Вы будете получать обновления от владельца, но не сможете вносить изменения.","rw":"Вы можете просматривать, редактировать, удалять и добавлять файлы на свой диск. Ваши изменения будут видны другим пользователям."}},"shared":"Общий доступ","sharedByMe":"Мои отправленные файлы","sharedWithMe":"Доступно мне","sharedBy":"Доступ предоставлен %{name}","shareByLink":{"subtitle":"По публичной ссылке","desc":"Любой, у кого есть эта ссылка, может просматривать и скачивать ваши файлы.","creating":"Создание ссылки...","copy":"Копировать ссылку","copied":"Ссылка скопирована в буфер обмена","failed":"Не удалось скопировать в буфер обмена"},"shareByEmail":{"subtitle":"По email","email":"Кому:","emailPlaceholder":"Введите email или имя получателя","send":"Отправить","genericSuccess":"Вы отправили %{count} приглашений контактам.","success":"Вы отправили приглашение %{email}.","comingsoon":"Скоро вы сможете делиться документами и фотографиями в один клик с семьёй, друзьями и коллегами. Мы сообщим, когда функция будет доступна!","onlyByLink":"%{type} можно отправить только по ссылке, потому что","type":{"file":"файл","folder":"папка"},"hasSharedParent":"он находится в общей папке","hasSharedChild":"он содержит общий элемент"},"revoke":{"title":"Прекратить общий доступ","desc":"Этот контакт сохранит копию, но изменения больше не будут синхронизироваться.","success":"Вы прекратили общий доступ к файлу для %{email}."},"revokeSelf":{"title":"Прекратить мой доступ","desc":"Вы сохраните контент, но он больше не будет обновляться между вашими дисками.","success":"Ваш доступ к этому общему ресурсу отменён."},"sharingLink":{"title":"Ссылка для общего доступа","copy":"Копировать","copied":"Скопировано"},"whoHasAccess":{"title":"1 человек имеет доступ |||| %{smart_count} человек имеют доступ"},"protectedShare":{"title":"Скоро!","desc":"Делитесь любыми файлами по электронной почте с семьёй и друзьями!"},"close":"Закрыть","gettingLink":"Создание ссылки...","error":{"generic":"Произошла ошибка при создании ссылки для общего доступа, попробуйте ещё раз.","revoke":"Произошла ошибка. Пожалуйста, свяжитесь с нами, чтобы мы могли решить эту проблему как можно скорее."},"specialCase":{"base":"Этот %{type} можно отправить только по ссылке, так как он","isInSharedFolder":"находится в общей папке","hasSharedFolder":"содержит общую папку"}},"viewer-fallback":"Если файл начал загружаться, вы можете закрыть это окно.","dropzone":{"teaser":"Перетащите файлы для загрузки в:","noFolderSupport":"Ваш браузер не поддерживает перетаскивание папок. Пожалуйста, загрузите файлы вручную."}},"table":{"head_name":"Имя","head_update":"Последнее обновление","head_size":"Размер","head_status":"Общий доступ","head_thumbnail_size":"Изменить размер миниатюр","head_view_mode":"Режим просмотра","head_view_list":"Список","head_view_grid":"Плитка","row_update_format":"LLL d, yyyy","row_update_format_full":"LLLL d, yyyy","row_read_only":"Общий доступ (Только чтение)","row_read_write":"Общий доступ (Чтение и запись)","row_size_symbols":{"B":"Б","KB":"КБ","MB":"МБ","GB":"ГБ","TB":"ТБ","PB":"ПБ","EB":"ЭБ","ZB":"ЗБ","YB":"ЙБ"},"row_sharing_shortcut_aria_label":"Новый ярлык общего доступа","load_more":"Загрузить ещё","mobile":{"head_name_asc":"А-Я","head_name_desc":"Я-А","head_updated_at_asc":"Сначала старые","head_updated_at_desc":"Сначала новые","head_size_asc":"Сначала лёгкие","head_size_desc":"Сначала тяжёлые"},"tooltip":{"carbonCopy":{"title":"Копия","caption":"Указывает, является ли документ \\"аутентичным и оригинальным\\" согласно Twake Workplace, так как может утверждаться, что получен напрямую от стороннего сервиса без изменений."},"electronicSafe":{"title":"Электронный сейф","caption":"Указывает, защищён ли оригинальный документ вашим личным цифровым сейфом с сертификатами, которые придают ему доказательную силу и гарантируют хранение в течение 50 лет после загрузки."}}},"Storage":{"title":"Хранилище","availability":"Доступно %{smart_count} ГБ","increase":"Увеличить пространство"},"SelectionBar":{"selected_count":"выбран 1 элемент |||| выбрано %{smart_count} элементов","share":"Поделиться","download":"Скачать","trash":"Удалить","destroy":"Удалить навсегда","rename":"Переименовать","restore":"Восстановить","close":"Закрыть","openWith":"Открыть с помощью...","applePreview":"Просмотр Apple","forward":"Переслать","forwardTo":"Переслать...","moveto":"Переместить в...","moveto_mobile":"Переместить","phone-download":"Сделать доступным офлайн","qualify":"Категоризировать","history":"История","more":"Ещё","openWithinNextcloud":"Открыть в Nextcloud"},"DeleteConfirm":{"title":"Удалить %{filename}? |||| Удалить %{smart_count} %{type}?","trash":"Элемент будет перемещён в корзину. |||| Элементы будут перемещены в корзину.","restore":"Вы сможете восстановить его в любое время. |||| Вы сможете восстановить их в любое время.","share_accepted":"Общий доступ будет остановлен. Указанные ниже контакты сохранят копию, но ваши изменения больше не будут синхронизироваться:","share_waiting":"Общий доступ будет остановлен. Указанные ниже контакты больше не смогут принять приглашение или получить доступ к файлам:","share_both":"Общий доступ будет остановлен. Это означает, что контакты, сохранившие файлы на своем диске, сохранят их копию, а другие контакты больше не смогут получить доступ к общим файлам:","link":"Общий доступ по ссылке больше не будет активен","referenced":"Некоторые файлы в выборке связаны с фотоальбомом. Они будут удалены из него, если вы переместите их в корзину.","cancel":"Отмена","delete":"Удалить"},"EmptyTrashConfirm":{"title":"Удалить навсегда?","forbidden":"Вы больше не сможете получить доступ к этим файлам.","restore":"Вы не сможете восстановить эти файлы, если у вас нет резервной копии.","cancel":"Отмена","delete":"Удалить всё","processing":"Корзина очищается. Это может занять некоторое время.","success":"Корзина очищена.","error":"Произошла ошибка, попробуйте ещё раз."},"DestroyConfirm":{"title":"Удалить %{filename}? |||| Удалить %{smart_count} %{type}?","forbidden":"Вы больше не сможете получить доступ к этому(-ой) %{type}. |||| Вы больше не сможете получить доступ к этим %{type}.","restore":"Вы не сможете восстановить этот(-у) %{type}, если у вас нет резервной копии. |||| Вы не сможете восстановить эти %{type}, если у вас нет резервной копии.","cancel":"Отмена","delete":"Удалить навсегда","success":"%{type} удален(-а) навсегда. |||| %{smart_count} %{type} удалены навсегда.","error":"Произошла ошибка, попробуйте ещё раз."},"quotaalert":{"title":"Ваше дисковое пространство заполнено :(","desc":"Пожалуйста, удалите файлы, очистите корзину или увеличьте дисковое пространство перед загрузкой новых файлов.","confirm":"OK","increase":"Увеличить дисковое пространство"},"loading":{"message":"Загрузка","onlyOfficeCreateInProgress":"Создание файла..."},"empty":{"title":"В этой папке нет файлов.","text":"Выберите файлы на вашем компьютере или перетащите их сюда.","mobile_text":"Выберите файлы на вашем устройстве.","trash_title":"У вас нет удалённых файлов.","trash_text":"Перемещайте ненужные файлы в корзину и удаляйте их навсегда, чтобы освободить место.","shared-drive_text":"Создайте и поделитесь вашим первым Диск."},"error":{"open_folder":"Произошла ошибка при открытии папки.","open_file":"Произошла ошибка при открытии файла.","button":{"reload":"Обновить сейчас"},"download_file":{"offline":"Для скачивания файла необходимо подключение к интернету","missing":"Этот файл отсутствует","encryption_many":"Нельзя скачать несколько зашифрованных файлов одновременно"}},"Error":{"public_unshared_title":"Извините, эта ссылка больше недоступна.","public_unshared_text":"Срок действия ссылки истёк, или владелец удалил её. Сообщите ему, что вы не смогли получить доступ","generic":"Что-то пошло не так. Подождите несколько минут и попробуйте снова."},"alert":{"could_not_open_file":"Не удалось открыть файл","try_again":"Произошла ошибка, попробуйте ещё раз через некоторое время.","restore_file_success":"Выбранные элементы успешно восстановлены.","trash_file_success":"Выбранные элементы перемещены в корзину.","destroy_file_success":"Выбранные элементы удалены навсегда.","folder_name":"Элемент %{folderName} уже существует, выберите другое имя.","file_name":"Элемент %{fileName} уже существует, выберите другое имя.","file_name_missing":"Отсутствует имя файла, выберите другое имя.","file_name_illegal_name":"Имя %{fileName} недопустимо, выберите другое имя.","file_name_illegal_characters":"Элемент %{fileName} содержит недопустимые символы: %{characters}","folder_generic":"Произошла ошибка, попробуйте ещё раз.","folder_abort":"Чтобы сохранить новую папку, необходимо указать её имя. Ваши данные не сохранены.","offline":"Эта функция недоступна офлайн.","preparing":"Подготовка файлов…","item_copied":"1 элемент скопирован","items_copied":"%{count} элементов скопированы","item_cut":"1 элемент вырезан","items_cut":"%{count} элементов вырезаны","item_moved":"1 элемент был перемещён","items_moved":"%{count} элементов было перемещено","item_pasted":"1 элемент был перемещён","items_pasted":"%{count} элементов было перемещено","copy_files_only":"Невозможно скопировать папки","copy_not_allowed":"Операция копирования не разрешена в этом представлении.","paste_error":"Произошла ошибка при вставке файлов","paste_failed":"Не удалось вставить файлы","paste_sharing_error":"Невозможно вставить файлы из-за ограничений общего доступа. Используйте действие Переместить вместо этого.","paste_same_folder_skipped":"Невозможно переместить элементы в ту же папку, в которой они уже находятся.","paste_not_allowed":"Вы не можете вставить в эту папку","cannot_move_shared_drive":"Вы не можете переместить папку общего диска","cannot_copy_shared_drive":"Вы не можете скопировать папку общего диска"},"upload":{"label":"Загрузить","documentType":{"file":"файл","directory":"папка","element":"элемент"},"alert":{"success":"%{smart_count} %{type} успешно загружен. |||| %{smart_count} %{type} успешно загружены.","success_conflicts":"%{smart_count} %{type} загружен с %{conflictNumber} конфликтом(-ами). |||| %{smart_count} %{type} загружены с %{conflictNumber} конфликтом(-ами).","success_updated":"%{smart_count} %{type} загружен и %{updatedCount} обновлён. |||| %{smart_count} %{type} загружены и %{updatedCount} обновлены.","success_updated_conflicts":"%{smart_count} %{type} загружен, %{updatedCount} обновлён, c %{conflictCount} конфликтом(-ами). |||| %{smart_count} %{type} загружены, %{updatedCount} обновлены, с %{conflictCount} конфликтом(-ами).","updated":"%{smart_count} %{type} обновлён. |||| %{smart_count} %{type} обновлены.","updated_conflicts":"%{smart_count} %{type} обновлён с %{conflictCount} конфликтом(-ами). |||| %{smart_count} %{type} обновлены с %{conflictCount} конфликтом(-ами).","errors":"При загрузке %{type} произошли ошибки.","network":"Вы находитесь офлайн. Попробуйте снова после подключения.","fileTooLargeErrors":"Файл слишком большой. Максимальный размер файла: %{max_size_value} ГБ"}},"intents":{"alert":{"error":"Не удалось автоматически загрузить файл, пожалуйста, загрузите его вручную через меню загрузки."},"picker":{"select":"Выбрать","cancel":"Отмена","new_folder":"Новая папка","instructions":"Выберите цель"}},"UploadQueue":{"header":"Загрузка %{smart_count} фото в Twake Drive |||| Загрузка %{smart_count} фото в Twake Drive","header_mobile":"Загружено %{done} из %{total}","header_done":"Успешно загружено %{done} из %{total}","success_flagship":"%{smart_count} файл успешно загружен. |||| %{smart_count} файла(-ов) успешно загружены.","close":"закрыть","item":{"pending":"В ожидании"}},"Viewer":{"close":"Закрыть","noviewer":{"download":"Скачать этот файл","openWith":"Открыть с помощью...","openInOnlyOffice":"Открыть в Only Office","cta":{"saveTime":"Сэкономьте время!","installDesktop":"Установите инструмент синхронизации для вашего компьютера","accessFiles":"Получайте доступ к файлам прямо с компьютера"}},"actions":{"download":"Скачать","forward":"Переслать"},"loading":{"error":"Не удалось загрузить файл. Проверьте подключение к интернету.","retry":"Повторить"},"error":{"noapp":"На вашем устройстве нет приложения для открытия этого файла.","generic":"Произошла ошибка при открытии файла, попробуйте ещё раз.","noNetwork":"Вы находитесь офлайн."},"panel":{"title":"Полезная информация"}},"Move":{"to":"Переместить в:","action":"Переместить","cancel":"Отмена","modalTitle":"Переместить","title":"%{smart_count} элемент |||| %{smart_count} элементов","success":"%{subject} перемещён в %{target}. |||| %{smart_count} элементов перемещены в %{target}.","error":"Произошла ошибка при перемещении элемента, попробуйте позже. |||| Произошла ошибка при перемещении элементов, попробуйте позже.","cancelled":"%{subject} возвращён в исходное расположение. |||| %{smart_count} элементов возвращены в исходное расположение.","cancelledWithRestoreErrors":"%{subject} возвращён в исходное расположение, но произошла ошибка при восстановлении из корзины. |||| %{smart_count} элементов возвращены в исходное расположение, но произошло %{restoreErrorsCount} ошибок при восстановлении из корзины.","cancelled_error":"Извините, произошла ошибка при возврате элемента. |||| Извините, произошла ошибка при возврате элементов.","multipleEntries":"%{smart_count} элемент |||| %{smart_count} элементов","addFolder":"Добавить папку","outsideSharedFolder":{"title":"Перемещение за пределы папки %{sharedFolder}","content_1":"Внимание: вы хотите переместить %{name} из общей папки %{sharedFolder}. |||| Внимание: вы хотите переместить %{smart_count} %{type} из общей папки %{sharedFolder}.","content_2":"Это перемещение отменит общий доступ к %{type} %{name}. Этот %{type} будет перемещён в корзину для всех участников общего доступа. |||| Это перемещение отменит общий доступ к %{smart_count} %{type}. Эти %{type} будут перемещены в корзину для всех участников общего доступа.","cancel":"Отмена","confirm":"Я понимаю"},"insideSharedFolder":{"title":"Переместить в общую папку?","content":"Все, кто имеет доступ к %{destination}, также получат доступ к %{source}. |||| Все, кто имеет доступ к %{destination}, также получат доступ к выбранным %{type}.","cancel":"Отмена","confirm":"ОК"},"sharedFolderInsideAnother":{"title":"Невозможно переместить","content_1":"Вы пытаетесь переместить общий элемент в общую папку. Это действие запрещено.","content_2":"Если вы всё же хотите переместить %{source} в %{destination}, отмените общий доступ:","cancel":"Отменить перемещение","confirm":"Отменить общий доступ"}},"ImportToDrive":{"title":"%{smart_count} элемент |||| %{smart_count} элементов","to":"Сохранить в:","action":"Сохранить","cancel":"Отмена","success":"%{smart_count} сохранённый файл |||| %{smart_count} сохранённых файла(-ов)","error":"Произошла ошибка. Попробуйте ещё раз"},"FileOpenerExternal":{"fileNotFoundError":"Ошибка: файл не найден"},"TOS":{"updated":{"title":"GDPR вступает в силу!","detail":"В рамках Общего регламента по защите данных наши Условия обслуживания были обновлены и будут применяться ко всем пользователям Twake Workplace с 25 мая 2018 года.","cta":"Принять Условия и продолжить","disconnect":"Отказаться и выйти","error":"Произошла ошибка, попробуйте позже"}},"manifest":{"permissions":{"contacts":{"description":"Необходимо, чтобы делиться файлами с вашими контактами"},"groups":{"description":"Необходимо, чтобы делиться файлами с вашими группами"}}},"models":{"contact":{"defaultDisplayName":"Анонимно"}},"Scan":{"none":"Ничего","scan_a_doc":"Сканировать документ","save_doc":"Сохранить документ","filename":"Имя файла","save":"Сохранить","cancel":"Отмена","qualify":"Категоризировать","requalify":"Перекатегоризировать","apply":"Применить","error":{"offline":"Вы находитесь офлайн и не можете использовать эту функцию. Попробуйте позже.","uploading":"Вы уже загружаете файл. Дождитесь завершения загрузки и попробуйте снова.","generic":"Произошла ошибка. Попробуйте ещё раз."},"successful":{"qualified_ok":"Вы успешно категоризировали файл!"}},"History":{"description":"Последние 20 версий ваших файлов сохраняются автоматически. Выберите версию для скачивания.","current_version":"Текущая версия","loading":"Загрузка...","noFileVersionEnabled":"Вскоре Twake Drive сможет архивировать последние изменения файлов, чтобы вы больше не рисковали их потерять"},"External":{"redirection":{"title":"Перенаправление","text":"Вы будете перенаправлены…","error":"Ошибка при перенаправлении. Обычно это означает, что содержимое файла имеет неверный формат."}},"RenameModal":{"title":"Переименовать","description":"Вы собираетесь изменить расширение файла. Продолжить?","continue":"Продолжить","cancel":"Отмена"},"Shortcut":{"title_modal":"Создать ярлык","filename":"Имя файла","url":"URL","cancel":"Отмена","create":"Создать","created":"Ярлык создан","errored":"Произошла ошибка","filename_error_ends":"Имя должно заканчиваться на .url","needs_info":"Для создания ярлыка необходимы URL и имя файла","url_badformat":"URL имеет неверный формат"},"OnlyOffice":{"Error":{"title":"Что-то пошло не так","text":"Попробуйте перезагрузить страницу"},"readOnly":{"title":"Только чтение","tooltip":"Вы можете только просматривать этот документ. Обратитесь к владельцу для получения прав на редактирование."},"createFileName":{"text":"Новый текстовый документ","spreadsheet":"Новая таблица","slide":"Новая презентация"},"toolbar":{"goToHome":"На главную"},"actions":{"edit":"Редактировать","validate":"Подтвердить"},"tooltip":{"title":"Редактировать документ","text":"Документ доступен только для чтения. Вы можете изменить его, нажав здесь.","actions":{"ok":"ОК","hide":"Не показывать"}}},"Migration":{"title":"Обновление Twake Drive","content":"Twake Drive необходимо обновить для улучшения производительности. Это может занять несколько минут, в течение которых приложение будет недоступно. Хотите сделать это сейчас? Если вы откажетесь, мы спросим вас снова в следующий раз.","confirm":"Да, сделаем это","cancel":"Нет, не сейчас"},"searchbar":{"placeholder":"Поиск","empty":"По запросу “%{query}” ничего не найдено"},"button":{"back":"Назад","add":"Добавить","create":"Создать"},"search":{"action":"Поиск","empty":{"title":"Нет результатов","subtitle":"По запросу “%{query}” ничего не найдено"}},"PushBanner":{"quota":{"text":"У вас почти закончилось место в хранилище. При достижении лимита вы не сможете добавлять новые файлы. Вы можете удалить файлы, очистить корзину или изменить тарифный план.","actions":{"first":"Я понимаю","second":"Посмотреть планы"}}},"FileDivergedModal":{"title":"Кто-то изменил этот файл","content":"Кто-то изменил файл вне Twake Drive во время вашего редактирования. Вы можете получить эти изменения вместо своих или продолжить редактирование в новом файле.","confirm":"Продолжить редактирование","cancel":"Посмотреть изменения","error":"Произошла ошибка, попробуйте ещё раз.","confirmReload":{"title":"Посмотреть изменения","content":"При доступе к новому файлу ваши изменения будут отменены.","cancel":"Отмена","confirm":"ОК, я понял"},"viewMode":{"title":"Кто-то изменил этот файл","content":"Кто-то изменил содержимое этого файла. Вы можете получить доступ к этим изменениям.","confirm":"Посмотреть изменения"}},"FileDeletedModal":{"title":"Кто-то удалил этот файл","content":"Кто-то удалил этот файл во время вашего редактирования. Вы можете прекратить редактирование или восстановить файл, чтобы продолжить.","confirm":"Восстановить файл","cancel":"Отменить изменения","error":"Произошла ошибка, попробуйте ещё раз."},"TrashedBanner":{"text":"Элемент находится в корзине","destroy":"Удалить навсегда","restore":"Восстановить","restoreSuccess":"Элемент восстановлен","restoreError":"Произошла ошибка, попробуйте ещё раз.","destroySuccess":"Элемент удалён"},"EntriesType":{"file":"файл |||| файлы","directory":"папка |||| папки","element":"элемент |||| элементы"},"NotFound":{"title":"Элемент не найден","text":"По этому адресу ничего не найдено. Возможно, есть ошибка в написании."},"NextcloudBreadcrumb":{"root":"Общие диски","trash":"Корзина"},"NextcloudToolbar":{"share":"Поделиться"},"NextcloudDeleteConfirm":{"title":"Удалить %{filename}? |||| Удалить %{smart_count} %{type}?","trash":"Этот элемент будет перемещён в корзину Nextcloud. |||| Эти элементы будут перемещены в корзину Nextcloud.","restore":"Вы всегда можете восстановить его из корзины Nextcloud.","error":"Произошла ошибка, попробуйте ещё раз.","cancel":"Отмена","delete":"Удалить"},"FileName":{"sharedDrive":"Диски","trash":"Корзина"},"NextcloudBanner":{"title":"Элементы ниже отображаются из диска NextCloud и не хранятся в вашем Twake."},"favorites":{"label":{"add":"Добавить в избранное","addMobile":"Избранное","remove":"Удалить из избранного"},"error":"Произошла ошибка, попробуйте ещё раз.","success":{"add":"%{filename} добавлен в избранное |||| Эти элементы добавлены в избранное","remove":"%{filename} удалён из избранного |||| Эти элементы удалены из избранного"}},"TrashToolbar":{"emptyTrash":"Очистить корзину"},"RestoreNextcloudFile":{"label":"Восстановить","success":"Элемент восстановлен","error":"Произошла ошибка, попробуйте ещё раз."},"actions":{"infos":"Детали и категоризация","infosMobile":"Детали","duplicateTo":{"label":"Дублировать в…"},"duplicateToMobile":{"label":"Дублировать"}},"DuplicateModal":{"subTitle":"Дублировать в:","confirmLabel":"Дублировать здесь","success":"%{fileName} дублирован в %{destinationName}. |||| %{smart_count} элементов дублированы в %{destinationName}.","error":"Произошла ошибка, попробуйте ещё раз."},"OpenFolderButton":{"label":"Открыть папку"},"LastUpdate":{"titleFormat":"LLLL dd, yyyy, HH:MM"},"AddMenu":{"readOnlyFolder":"Это папка только для чтения. Вы не можете выполнить это действие."},"PublicNoteRedirect":{"error":{"title":"Не удалось получить доступ к документу","subtitle":"Ссылка для общего доступа отсутствует или недействительна. Попросите владельца документа проверить доступ."}}}')},33750:function(e){"use strict";e.exports=JSON.parse('{"Nav":{"item_drive":"Tệp","item_recent":"Gần đ\xe2y","item_sharings":"Chia sẻ","item_shared":"Chia sẻ bởi t\xf4i","item_activity":"Hoạt động","item_trash":"Th\xf9ng r\xe1c","item_settings":"C\xe0i đặt","item_collect":"Quản trị","item_shared_drives":"Ổ đĩa d\xf9ng chung","item_favorites":"Y\xeau th\xedch","item_my_drive":"Ổ đĩa của t\xf4i","btn-client":"Tải TwakeDrive cho m\xe1y t\xednh","support-us":"Xem những ưu đ\xe3i","support-us-description":"Bạn muốn c\xf3 th\xeam dung lượng hay đơn giản chỉ muốn ủng hộ Cozy??","btn-client-web":"Tải Twake","btn-client-mobile":"Mang đ\xe1m m\xe2y c\xe1 nh\xe2n theo bạn mọi nơi: c\xe0i đặt %{name} tr\xean tất cả thiết bị của bạn!","banner-txt-client":"Tải %{name} cho m\xe1y t\xednh v\xe0 đồng bộ h\xf3a tệp của bạn một c\xe1ch an to\xe0n để lu\xf4n c\xf3 thể truy cập mọi l\xfac","banner-btn-client":"Tải xuống","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.flagship.mobile","link-client-ios":"https://apps.apple.com/app/cloud-personnel-cozy/id1600636174","link-client-web":"https://cozy.io/try-it","view_more":"Hiển thị th\xeam","view_less":"Hiển thị \xedt hơn"},"breadcrumb":{"title_drive":"Tệp","title_recent":"Gần đ\xe2y","title_sharings":"Chia sẻ","title_shared":"Chia sẻ bởi t\xf4i","title_activity":"Hoạt động","title_trash":"Th\xf9ng r\xe1c","label":"Hiển thị đường dẫ","title_shared_drives":"Ổ đĩa","title_favorites":"Y\xeau th\xedch"},"Toolbar":{"more":"Th\xeam"},"toolbar":{"menu_upload":"Tải l\xean tệp tin","item_more":"Th\xeam","menu_new_folder":"Thư mục","menu_new_encrypted_folder":"Thư mục được m\xe3 ho\xe1","menu_select":"Chọn mục","menu_share_folder":"Chia sẻ thư mục","menu_download":"Tải xuống","menu_sync_cozy":"Đồng bộ với Twake của t\xf4i","add_to_mine":"Th\xeam v\xe0o Twake của t\xf4i","menu_download_folder":"Tải thư mục xuống","menu_download_file":"Tải tệp n\xe0y xuống","menu_create_note":"Ghi ch\xfa","menu_create_shortcut":"Lối tắt","share":"Chia sẻ","trash":"Xo\xe1","leave":"Rời khỏi thư mục được chia sẻ & xo\xe1","menu_add":"Th\xeam","menu_create":"Tạo","menu_add_item":"Th\xeam mục","menu_onlyOffice":{"text":"T\xe0i liệu văn bản","spreadsheet":"Bảng t\xednh","slide":"B\xe0i thuyết tr\xecnh"},"select_all":"Chọn tất cả","select_all_mobile":"Tất cả","clear_selection":"X\xf3a lựa chọn","clear_selection_mobile":"Hủy","sharings_tab_all":"Tất cả","sharings_tab_drives":"Ổ đĩa"},"Share":{"create-cozy":"Tạo Twake của t\xf4i"},"Files":{"share":{"cta":"Chia sẻ","title":"Chia sẻ","details":{"title":"Chi tiết chia sẻ","createdAt":"On %{date}","ro":"C\xf3 thể đọc","rw":"C\xf3 quyền chỉnh sửa","desc":{"ro":"Bạn c\xf3 thể xem, tải xuống v\xe0 th\xeam nội dung n\xe0y v\xe0o Twake của m\xecnh. Bạn sẽ nhận được c\xe1c bản cập nhật từ chủ sở hữu, nhưng bạn sẽ kh\xf4ng thể tự cập nhật nội dung n\xe0y.","rw":"Bạn c\xf3 thể xem, cập nhật, x\xf3a v\xe0 th\xeam nội dung n\xe0y v\xe0o Twake của m\xecnh. Những cập nhật bạn thực hiện sẽ hiển thị với c\xe1c Cozy kh\xe1c."}},"shared":"Đ\xe3 chia sẻ","sharedByMe":"Chia sẻ bởi t\xf4i","sharedWithMe":"Chia sẻ với t\xf4i","sharedBy":"Chia sẻ bởi %{name}","shareByLink":{"subtitle":"Bằng li\xean kết c\xf4ng khai","desc":"Bất kỳ ai c\xf3 li\xean kết đều c\xf3 thể xem v\xe0 tải xuống tệp của bạn.","creating":"Đang tạo li\xean kết...","copy":"Sao ch\xe9p li\xean kết","copied":"Li\xean kết đ\xe3 được sao ch\xe9p v\xe0o bộ nhớ tạm","failed":"Kh\xf4ng thể sao ch\xe9p v\xe0o bộ nhớ tạm"},"shareByEmail":{"subtitle":"Bằng email","email":"Tới:","emailPlaceholder":"Nhập địa chỉ email hoặc t\xean người nhận","send":"Gửi","genericSuccess":"Bạn đ\xe3 gửi lời mời đến %{count} li\xean hệ.","success":"Bạn đ\xe3 gửi lời mời đến %{email}.","comingsoon":"Sắp ra mắt! Bạn sẽ c\xf3 thể chia sẻ t\xe0i liệu v\xe0 h\xecnh ảnh chỉ với một c\xfa nhấp chuột với gia đ\xecnh, bạn b\xe8 v\xe0 cả đồng nghiệp. Đừng lo, ch\xfang t\xf4i sẽ th\xf4ng b\xe1o khi t\xednh năng n\xe0y sẵn s\xe0ng!","onlyByLink":"Chỉ c\xf3 thể chia sẻ %{type} n\xe0y bằng li\xean kết, v\xec","type":{"file":"tệp","folder":"thư mục"},"hasSharedParent":"n\xf3 thuộc một thư mục đ\xe3 được chia sẻ","hasSharedChild":"n\xf3 chứa phần tử đ\xe3 được chia sẻ"},"revoke":{"title":"Gỡ chia sẻ","desc":"Li\xean hệ n\xe0y sẽ giữ một bản sao, nhưng c\xe1c thay đổi sẽ kh\xf4ng c\xf2n được đồng bộ.","success":"Bạn đ\xe3 gỡ tệp chia sẻ khỏi %{email}."},"revokeSelf":{"title":"Gỡ t\xf4i khỏi chia sẻ","desc":"Bạn sẽ giữ lại nội dung nhưng sẽ kh\xf4ng c\xf2n được cập nhật giữa c\xe1c Twake của bạn.","success":"Bạn đ\xe3 được gỡ khỏi chia sẻ n\xe0y."},"sharingLink":{"title":"Li\xean kết chia sẻ","copy":"Sao ch\xe9p","copied":"Đ\xe3 sao ch\xe9p"},"whoHasAccess":{"title":"1 người c\xf3 quyền truy cập |||| %{smart_count} người c\xf3 quyền truy cập"},"protectedShare":{"title":"Sắp ra mắt!","desc":"Chia sẻ mọi thứ qua email với gia đ\xecnh v\xe0 bạn b\xe8!"},"close":"Đ\xf3ng","gettingLink":"Đang khởi tạo li\xean kết...","error":{"generic":"Đ\xe3 xảy ra lỗi khi tạo li\xean kết chia sẻ tệp, vui l\xf2ng thử lại.","revoke":"Rất tiếc, đ\xe3 xảy ra lỗi. Vui l\xf2ng li\xean hệ với ch\xfang t\xf4i để khắc phục sự cố n\xe0y sớm nhất c\xf3 thể."},"specialCase":{"base":"%{type} n\xe0y chỉ c\xf3 thể chia sẻ qua li\xean kết v\xec","isInSharedFolder":"nằm trong một thư mục đ\xe3 được chia sẻ","hasSharedFolder":"chứa một thư mục đ\xe3 được chia sẻ"}},"viewer-fallback":"Nếu tệp đ\xe3 bắt đầu tải xuống, bạn c\xf3 thể đ\xf3ng cửa sổ n\xe0y.","dropzone":{"teaser":"Thả tệp v\xe0o đ\xe2y để tải l\xean:","noFolderSupport":"Tr\xecnh duyệt của bạn hiện kh\xf4ng hỗ trợ k\xe9o & thả thư mục. Vui l\xf2ng tải tệp l\xean theo c\xe1ch thủ c\xf4ng."}},"table":{"head_name":"T\xean","head_update":"Cập nhật lần cuối","head_size":"K\xedch thước","head_status":"Chia sẻ","head_thumbnail_size":"Chuyển k\xedch thước h\xecnh thu nhỏ","head_view_mode":"Chế độ xem","head_view_list":"Chế độ danh s\xe1ch","head_view_grid":"Chế độ lưới","row_update_format":"LLL d, yyyy","row_update_format_full":"LLLL d, yyyy","row_read_only":"Chia sẻ (Chỉ đọc)","row_read_write":"Chia sẻ (Đọc & Ghi)","row_size_symbols":{"B":"B","KB":"KB","MB":"MB","GB":"GB","TB":"TB","PB":"PB","EB":"EB","ZB":"ZB","YB":"YB"},"row_sharing_shortcut_aria_label":"Ph\xedm tắt chia sẻ mới","load_more":"Tải th\xeam","mobile":{"head_name_asc":"A-Z","head_name_desc":"Z-A","head_updated_at_asc":"Cũ nhất trước","head_updated_at_desc":"Mới nhất trước","head_size_asc":"Nhẹ nhất trước","head_size_desc":"Nặng nhất trước"},"tooltip":{"carbonCopy":{"title":"Bản sao gốc","caption":"Chỉ ra rằng t\xe0i liệu n\xe0y được x\xe1c định l\xe0 \\\\“x\xe1c thực v\xe0 nguy\xean bản\\\\” bởi Twake Workplace, đơn vị lưu trữ Twake của bạn, v\xec n\xf3 c\xf3 thể chứng minh rằng t\xe0i liệu đến trực tiếp từ dịch vụ b\xean thứ ba m\xe0 kh\xf4ng bị chỉnh sửa."},"electronicSafe":{"title":"K\xe9t điện tử","caption":"Chỉ ra rằng t\xe0i liệu gốc được bảo vệ trong k\xe9t điện tử c\xe1 nh\xe2n của bạn, k\xe8m theo c\xe1c chứng nhận mang lại gi\xe1 trị ph\xe1p l\xfd v\xe0 đảm bảo lưu trữ trong 50 năm kể từ thời điểm nộp."}}},"Storage":{"title":"Dung lượng","availability":"C\xf2n %{smart_count} GB trống","increase":"Tăng dung lượng"},"SelectionBar":{"selected_count":"1 mục đ\xe3 chọn |||| %{smart_count} mục đ\xe3 chọn","share":"Chia sẻ","download":"tải xuống","trash":"Xo\xe1 bỏ","destroy":"Xo\xe1 vĩnh viễn","rename":"Đổi t\xean","restore":"Kh\xf4i phục","close":"Đ\xf3ng","openWith":"Mở bằng...","applePreview":"Xem trước với Aplle","forward":"Chuyển tiếp","forwardTo":"Chuyển tiếp đến...","moveto":"Di chuyển tới…","moveto_mobile":"Di chuyển","phone-download":"Tải về để d\xf9ng ngoại tuyến","qualify":"Ph\xe2n loại","history":"Lịch sử","more":"Th\xeam","openWithinNextcloud":"Mở bằng Nextcloud"},"DeleteConfirm":{"title":"X\xf3a %{filename}? |||| X\xf3a %{smart_count} %{type}?","trash":"Tệp sẽ được chuyển v\xe0o Th\xf9ng r\xe1c. |||| C\xe1c tệp sẽ được chuyển v\xe0o Th\xf9ng r\xe1c.","restore":"Bạn c\xf3 thể kh\xf4i phục bất cứ l\xfac n\xe0o. |||| Bạn c\xf3 thể kh\xf4i phục ch\xfang bất cứ l\xfac n\xe0o.","share_accepted":"Chia sẻ sẽ bị dừng. Những li\xean hệ sau sẽ giữ một bản sao, nhưng thay đổi của bạn sẽ kh\xf4ng c\xf2n được đồng bộ:","share_waiting":"Chia sẻ sẽ bị dừng. Những li\xean hệ sau sẽ kh\xf4ng c\xf2n c\xf3 thể chấp nhận chia sẻ v\xe0 truy cập nội dung nữa:","share_both":"Chia sẻ sẽ bị dừng. Một số li\xean hệ đ\xe3 lưu tệp v\xe0o Twake sẽ giữ bản sao, c\xf2n những người kh\xe1c sẽ mất quyền truy cập:","link":"Li\xean kết chia sẻ sẽ bị v\xf4 hiệu h\xf3a","referenced":"Một số tệp trong lựa chọn li\xean kết với album ảnh. Nếu tiếp tục x\xf3a, ch\xfang sẽ bị loại khỏi album.","cancel":"Huỷ","delete":"Xo\xe1"},"EmptyTrashConfirm":{"title":"X\xf3a vĩnh viễn?","forbidden":"Bạn sẽ kh\xf4ng thể truy cập c\xe1c tệp n\xe0y nữa.","restore":"Bạn sẽ kh\xf4ng thể kh\xf4i phục nếu chưa sao lưu.","cancel":"Huỷ","delete":"Xo\xe1 tất cả","processing":"Đang dọn Th\xf9ng r\xe1c. Việc n\xe0y c\xf3 thể mất v\xe0i ph\xfat.","success":"Th\xf9ng r\xe1c đ\xe3 được l\xe0m trống.","error":"Đ\xe3 xảy ra lỗi, vui l\xf2ng thử lại."},"DestroyConfirm":{"title":"X\xf3a %{filename}? |||| X\xf3a %{smart_count} %{type}?","forbidden":"Bạn sẽ kh\xf4ng thể truy cập %{type} n\xe0y nữa. |||| Bạn sẽ kh\xf4ng thể truy cập c\xe1c %{type} n\xe0y nữa.","restore":"Kh\xf4ng thể kh\xf4i phục nếu bạn chưa sao lưu. |||| Kh\xf4ng thể kh\xf4i phục c\xe1c %{type} n\xe0y nếu chưa sao lưu.","cancel":"Huỷ","delete":"X\xf3a vĩnh viễn","success":"%{type} đ\xe3 được x\xf3a vĩnh viễn. |||| %{smart_count} %{type} đ\xe3 được x\xf3a vĩnh viễn.","error":"Đ\xe3 xảy ra lỗi, vui l\xf2ng thử lại."},"quotaalert":{"title":"Dung lượng của bạn đ\xe3 đầy :(","desc":"Vui l\xf2ng x\xf3a tệp, dọn Th\xf9ng r\xe1c hoặc n\xe2ng cấp dung lượng trước khi tải th\xeam tệp.","confirm":"OK","increase":"Tăng dung lượng"},"loading":{"message":"Đang tải","onlyOfficeCreateInProgress":"Đang tạo tệp..."},"empty":{"title":"Bạn chưa c\xf3 tệp n\xe0o trong thư mục n\xe0y.","text":"Chọn tệp tr\xean m\xe1y t\xednh của bạn hoặc k\xe9o ch\xfang v\xe0o đ\xe2y.","mobile_text":"Chọn tệp tr\xean thiết bị của bạn.","trash_title":"Bạn chưa c\xf3 tệp n\xe0o trong Th\xf9ng r\xe1c.","trash_text":"Chuyển c\xe1c tệp kh\xf4ng cần thiết v\xe0o Th\xf9ng r\xe1c v\xe0 x\xf3a vĩnh viễn để giải ph\xf3ng dung lượng.","shared-drive_text":"Tạo v\xe0 chia sẻ ổ đĩa đầu ti\xean của bạn."},"error":{"open_folder":"Đ\xe3 xảy ra lỗi khi mở thư mục.","open_file":"Đ\xe3 xảy ra lỗi khi mở tệp.","button":{"reload":"Tải lại ngay"},"download_file":{"offline":"Bạn cần kết nối mạng để tải tệp n\xe0y","missing":"Tệp n\xe0y kh\xf4ng tồn tại","encryption_many":"Kh\xf4ng thể tải nhiều tệp được m\xe3 h\xf3a c\xf9ng l\xfac"}},"Error":{"public_unshared_title":"Rất tiếc, li\xean kết n\xe0y kh\xf4ng c\xf2n tồn tại.","public_unshared_text":"Li\xean kết n\xe0y đ\xe3 hết hạn hoặc bị người tạo x\xf3a. H\xe3y li\xean hệ với họ nếu bạn bỏ lỡ!","generic":"Đ\xe3 xảy ra lỗi. Vui l\xf2ng thử lại sau v\xe0i ph\xfat."},"alert":{"could_not_open_file":"Kh\xf4ng thể mở tệp","try_again":"Đ\xe3 xảy ra lỗi, vui l\xf2ng thử lại sau.","restore_file_success":"C\xe1c mục đ\xe3 được kh\xf4i phục th\xe0nh c\xf4ng.","trash_file_success":"C\xe1c mục đ\xe3 được chuyển v\xe0o Th\xf9ng r\xe1c.","destroy_file_success":"C\xe1c mục đ\xe3 được x\xf3a vĩnh viễn.","folder_name":"Thư mục %{folderName} đ\xe3 tồn tại, vui l\xf2ng chọn t\xean kh\xe1c.","file_name":"Tệp %{fileName} đ\xe3 tồn tại, vui l\xf2ng chọn t\xean kh\xe1c.","file_name_missing":"Thiếu t\xean tệp, vui l\xf2ng đặt t\xean mới.","file_name_illegal_name":"T\xean %{fileName} kh\xf4ng hợp lệ, vui l\xf2ng chọn t\xean kh\xe1c.","file_name_illegal_characters":"T\xean %{fileName} chứa k\xfd tự kh\xf4ng hợp lệ: %{characters}","folder_generic":"Đ\xe3 xảy ra lỗi, vui l\xf2ng thử lại","folder_abort":"Bạn cần đặt t\xean cho thư mục mới để lưu. Dữ liệu hiện tại chưa được lưu.","offline":"T\xednh năng n\xe0y kh\xf4ng khả dụng khi ngoại tuyến.","preparing":"Đang chuẩn bị tệp của bạn…","item_copied":"1 mục đ\xe3 được sao ch\xe9p","items_copied":"%{count} mục đ\xe3 được sao ch\xe9p","item_cut":"1 mục đ\xe3 được cắt","items_cut":"%{count} mục đ\xe3 được cắt","item_moved":"1 mục đ\xe3 được di chuyển","items_moved":"%{count} mục đ\xe3 được di chuyển","item_pasted":"1 mục đ\xe3 được di chuyển","items_pasted":"%{count} mục đ\xe3 được di chuyển","copy_files_only":"Kh\xf4ng thể sao ch\xe9p thư mục","copy_not_allowed":"Thao t\xe1c sao ch\xe9p kh\xf4ng được ph\xe9p trong chế độ xem n\xe0y.","paste_error":"Đ\xe3 xảy ra lỗi khi d\xe1n tệp","paste_failed":"D\xe1n tệp thất bại","paste_sharing_error":"Kh\xf4ng thể d\xe1n tệp do hạn chế chia sẻ. Vui l\xf2ng sử dụng h\xe0nh động Di chuyển thay thế.","paste_same_folder_skipped":"Kh\xf4ng thể di chuyển c\xe1c mục v\xe0o c\xf9ng một thư mục m\xe0 ch\xfang đ\xe3 c\xf3.","paste_not_allowed":"Bạn kh\xf4ng thể d\xe1n v\xe0o thư mục n\xe0y","cannot_move_shared_drive":"Bạn kh\xf4ng thể di chuyển thư mục ổ đĩa chia sẻ","cannot_copy_shared_drive":"Bạn kh\xf4ng thể sao ch\xe9p thư mục ổ đĩa chia sẻ"},"upload":{"label":"Tải l\xean","documentType":{"file":"tệp","directory":"thư mục","element":"phần tử"},"alert":{"success":"Đ\xe3 tải l\xean %{smart_count} %{type} th\xe0nh c\xf4ng. |||| Đ\xe3 tải l\xean %{smart_count} %{type} th\xe0nh c\xf4ng.","success_conflicts":"Đ\xe3 tải l\xean %{smart_count} %{type} với %{conflictNumber} xung đột. |||| Đ\xe3 tải l\xean %{smart_count} %{type} với %{conflictNumber} xung đột.","success_updated":"Đ\xe3 tải l\xean %{smart_count} %{type}, trong đ\xf3 c\xf3 %{updatedCount} được cập nhật. |||| Đ\xe3 tải l\xean %{smart_count} %{type}, trong đ\xf3 c\xf3 %{updatedCount} được cập nhật.","success_updated_conflicts":"Đ\xe3 tải l\xean %{smart_count} %{type}, %{updatedCount} được cập nhật v\xe0 c\xf3 %{conflictCount} xung đột. |||| Đ\xe3 tải l\xean %{smart_count} %{type}, %{updatedCount} được cập nhật v\xe0 c\xf3 %{conflictCount} xung đột.","updated":"Đ\xe3 cập nhật %{smart_count} %{type}. |||| Đ\xe3 cập nhật %{smart_count} %{type}.","updated_conflicts":"Đ\xe3 cập nhật %{smart_count} %{type} với %{conflictCount} xung đột. |||| Đ\xe3 cập nhật %{smart_count} %{type} với %{conflictCount} xung đột.","errors":"Đ\xe3 xảy ra lỗi trong qu\xe1 tr\xecnh tải l\xean %{type}.","network":"Bạn hiện đang ngoại tuyến. Vui l\xf2ng thử lại khi c\xf3 kết nối mạng.","fileTooLargeErrors":"Tệp qu\xe1 lớn. K\xedch thước tệp tối đa: %{max_size_value} GB"}},"intents":{"alert":{"error":"Kh\xf4ng thể tải tệp l\xean tự động, vui l\xf2ng tải thủ c\xf4ng qua menu tải l\xean."},"picker":{"select":"Chọn","cancel":"Huỷ","new_folder":"Thư mục mới","instructions":"Chọn thư mục đ\xedch"}},"UploadQueue":{"header":"Đang tải l\xean %{smart_count} ảnh l\xean Twake Drive |||| Đang tải l\xean %{smart_count} ảnh l\xean Twake Drive","header_mobile":"Đ\xe3 tải l\xean %{done} / %{total}","header_done":"Đ\xe3 tải l\xean th\xe0nh c\xf4ng %{done} trong tổng số %{total}","success_flagship":"Đ\xe3 tải l\xean %{smart_count} tệp th\xe0nh c\xf4ng. |||| Đ\xe3 tải l\xean %{smart_count} tệp th\xe0nh c\xf4ng.","close":"đ\xf3ng","item":{"pending":"Đang chờ"}},"Viewer":{"close":"Đ\xf3ng","noviewer":{"download":"Tải tệp n\xe0y xuống","openWith":"Mở bằng...","openInOnlyOffice":"Mở bằng OnlyOffice","cta":{"saveTime":"Tiết kiệm thời gian!","installDesktop":"C\xe0i đặt c\xf4ng cụ đồng bộ h\xf3a cho m\xe1y t\xednh của bạn","accessFiles":"Truy cập tệp trực tiếp từ m\xe1y t\xednh"}},"actions":{"download":"Tải xuống","forward":"Chuyển tiếp"},"loading":{"error":"Kh\xf4ng thể tải tệp n\xe0y. Vui l\xf2ng kiểm tra kết nối Internet của bạn.","retry":"Thử lại"},"error":{"noapp":"Thiết bị của bạn kh\xf4ng c\xf3 ứng dụng n\xe0o c\xf3 thể mở tệp n\xe0y.","generic":"Đ\xe3 xảy ra lỗi khi mở tệp, vui l\xf2ng thử lại.","noNetwork":"Bạn đang ở chế độ ngoại tuyến."},"panel":{"title":"Th\xf4ng tin hữu \xedch"}},"Move":{"to":"Di chuyển đến:","action":"Di chuyển","cancel":"Huỷ","modalTitle":"Di chuyển","title":"%{smart_count} phần tử |||| %{smart_count} phần tử","success":"%{subject} đ\xe3 được di chuyển đến %{target}. |||| %{smart_count} phần tử đ\xe3 được di chuyển đến %{target}.","error":"Đ\xe3 xảy ra lỗi khi di chuyển phần tử n\xe0y, vui l\xf2ng thử lại sau. |||| Đ\xe3 xảy ra lỗi khi di chuyển c\xe1c phần tử n\xe0y, vui l\xf2ng thử lại sau.","cancelled":"%{subject} đ\xe3 được đưa trở lại vị tr\xed ban đầu. |||| %{smart_count} phần tử đ\xe3 được đưa trở lại vị tr\xed ban đầu.","cancelledWithRestoreErrors":"%{subject} đ\xe3 được đưa trở lại vị tr\xed ban đầu nhưng đ\xe3 xảy ra lỗi khi kh\xf4i phục tệp từ th\xf9ng r\xe1c. |||| %{smart_count} phần tử đ\xe3 được đưa trở lại vị tr\xed ban đầu nhưng c\xf3 %{restoreErrorsCount} lỗi khi kh\xf4i phục c\xe1c tệp từ th\xf9ng r\xe1c.","cancelled_error":"Rất tiếc, đ\xe3 xảy ra lỗi khi đưa phần tử trở lại. |||| Rất tiếc, đ\xe3 xảy ra lỗi khi đưa c\xe1c phần tử trở lại.","multipleEntries":"%{smart_count} phần tử |||| %{smart_count} phần tử","addFolder":"Th\xeam thư mục","outsideSharedFolder":{"title":"Di chuyển ra khỏi thư mục chia sẻ %{sharedFolder}","content_1":"Cảnh b\xe1o, bạn đang muốn di chuyển %{name} ra khỏi thư mục chia sẻ %{sharedFolder}. |||| Cảnh b\xe1o, bạn đang muốn di chuyển %{smart_count} %{type} ra khỏi thư mục chia sẻ %{sharedFolder}.","content_2":"Thao t\xe1c n\xe0y sẽ x\xf3a %{type} %{name} khỏi mục chia sẻ. %{type} n\xe0y sẽ bị đưa v\xe0o th\xf9ng r\xe1c đối với tất cả th\xe0nh vi\xean được chia sẻ. |||| Thao t\xe1c n\xe0y sẽ x\xf3a %{smart_count} %{type} khỏi mục chia sẻ. C\xe1c %{type} n\xe0y sẽ bị đưa v\xe0o th\xf9ng r\xe1c đối với tất cả th\xe0nh vi\xean được chia sẻ.","cancel":"Hủy","confirm":"T\xf4i hiểu"},"insideSharedFolder":{"title":"Di chuyển v\xe0o thư mục chia sẻ?","content":"Tất cả th\xe0nh vi\xean c\xf3 quyền truy cập %{destination} cũng sẽ c\xf3 quyền truy cập %{source}. |||| Tất cả th\xe0nh vi\xean c\xf3 quyền truy cập %{destination} cũng sẽ c\xf3 quyền truy cập c\xe1c %{type} đ\xe3 chọn.","cancel":"Hủy","confirm":"Đồng \xfd"},"sharedFolderInsideAnother":{"title":"Kh\xf4ng thể di chuyển","content_1":"Bạn đang muốn di chuyển một phần tử được chia sẻ v\xe0o một thư mục chia sẻ kh\xe1c. Loại thao t\xe1c n\xe0y kh\xf4ng được ph\xe9p.","content_2":"Nếu bạn vẫn muốn di chuyển %{source} đến %{destination}, vui l\xf2ng ngừng chia sẻ:","cancel":"Hủy di chuyển","confirm":"Ngừng chia sẻ"}},"ImportToDrive":{"title":"%{smart_count} phần tử |||| %{smart_count} phần tử","to":"Lưu tại:","action":"Lưu","cancel":"Hủy","success":"%{smart_count} tệp đ\xe3 được lưu |||| %{smart_count} tệp đ\xe3 được lưu","error":"Đ\xe3 xảy ra lỗi. Vui l\xf2ng thử lại"},"FileOpenerExternal":{"fileNotFoundError":"Lỗi: kh\xf4ng t\xecm thấy tệp"},"TOS":{"updated":{"title":"GDPR ch\xednh thức c\xf3 hiệu lực!","detail":"Trong bối cảnh Quy định bảo vệ dữ liệu chung, [Điều khoản dịch vụ của ch\xfang t\xf4i đ\xe3 được cập nhật](%{link}) v\xe0 sẽ \xe1p dụng cho tất cả người d\xf9ng Twake từ ng\xe0y 25 th\xe1ng 5 năm 2018.","cta":"Chấp nhận Điều khoản v\xe0 tiếp tục","disconnect":"Từ chối v\xe0 đăng xuất","error":"Đ\xe3 xảy ra lỗi, vui l\xf2ng thử lại sau"}},"manifest":{"permissions":{"contacts":{"description":"Cần thiết để chia sẻ tệp với danh bạ của bạn"},"groups":{"description":"Cần thiết để chia sẻ tệp với nh\xf3m của bạn"}}},"models":{"contact":{"defaultDisplayName":"Ẩn danh"}},"Scan":{"none":"Kh\xf4ng c\xf3 g\xec","scan_a_doc":"Qu\xe9t t\xe0i liệu","save_doc":"Lưu t\xe0i liệu","filename":"T\xean tệp","save":"Lưu","cancel":"Hủy","qualify":"Ph\xe2n loại","requalify":"Ph\xe2n loại lại","apply":"\xc1p dụng","error":{"offline":"Bạn hiện đang ngoại tuyến v\xe0 kh\xf4ng thể sử dụng chức năng n\xe0y. Vui l\xf2ng thử lại sau.","uploading":"Bạn đang tải l\xean một tệp. Vui l\xf2ng đợi qu\xe1 tr\xecnh n\xe0y ho\xe0n tất rồi thử lại.","generic":"Đ\xe3 xảy ra lỗi. Vui l\xf2ng thử lại."},"successful":{"qualified_ok":"Bạn đ\xe3 ph\xe2n loại th\xe0nh c\xf4ng tệp của m\xecnh! "}},"History":{"description":"20 phi\xean bản gần nhất của tệp sẽ được lưu tự động. Chọn một phi\xean bản để tải về.","current_version":"Phi\xean bản hiện tại","loading":"Đang tải...","noFileVersionEnabled":"Twake của bạn sắp c\xf3 thể lưu lại những thay đổi cuối c\xf9ng để bạn kh\xf4ng bao giờ lo mất dữ liệu nữa"},"External":{"redirection":{"title":"Chuyển hướng","text":"Bạn sắp được chuyển hướng…","error":"Lỗi trong qu\xe1 tr\xecnh chuyển hướng. Th\xf4ng thường điều n\xe0y c\xf3 nghĩa l\xe0 nội dung của tệp kh\xf4ng đ\xfang định dạng."}},"RenameModal":{"title":"Đổi t\xean","description":"Bạn sắp thay đổi phần mở rộng của tệp. Bạn c\xf3 muốn tiếp tục kh\xf4ng?","continue":"Tiếp tục","cancel":"Hủy"},"Shortcut":{"title_modal":"Tạo ph\xedm tắt","filename":"T\xean tệp","url":"URL","cancel":"Hủy","create":"Tạo","created":"Ph\xedm tắt của bạn đ\xe3 được tạo","errored":"Đ\xe3 xảy ra lỗi","filename_error_ends":"T\xean tệp phải kết th\xfac bằng .url","needs_info":"Ph\xedm tắt cần \xedt nhất một URL v\xe0 t\xean tệp","url_badformat":"URL của bạn kh\xf4ng đ\xfang định dạng"},"OnlyOffice":{"Error":{"title":"Đ\xe3 xảy ra sự cố","text":"Vui l\xf2ng tải lại trang"},"readOnly":{"title":"Chỉ đọc","tooltip":"Bạn chỉ c\xf3 quyền xem t\xe0i liệu n\xe0y. H\xe3y li\xean hệ với chủ sở hữu để được cấp quyền chỉnh sửa."},"createFileName":{"text":"T\xe0i liệu văn bản mới","spreadsheet":"Bảng t\xednh mới","slide":"B\xe0i thuyết tr\xecnh mới"},"toolbar":{"goToHome":"Về trang ch\xednh"},"actions":{"edit":"Chỉnh sửa","validate":"X\xe1c nhận"},"tooltip":{"title":"Chỉnh sửa t\xe0i liệu","text":"T\xe0i liệu hiện đang ở chế độ chỉ đọc. Bạn c\xf3 thể chỉnh sửa bằng c\xe1ch nhấp v\xe0o đ\xe2y.","actions":{"ok":"Đồng \xfd","hide":"Kh\xf4ng hiển thị nữa"}}},"Migration":{"title":"Cập nhật Twake Drive","content":"Twake Drive cần được cập nhật để cải thiện hiệu năng. Qu\xe1 tr\xecnh n\xe0y c\xf3 thể mất v\xe0i ph\xfat v\xe0 trong thời gian đ\xf3 bạn sẽ kh\xf4ng thể sử dụng ứng dụng. Bạn c\xf3 muốn cập nhật ngay b\xe2y giờ kh\xf4ng? Nếu từ chối, ch\xfang t\xf4i sẽ nhắc lại v\xe0o lần sau.","confirm":"Ok, tiến h\xe0nh cập nhật!","cancel":"Kh\xf4ng, kh\xf4ng phải b\xe2y giờ"},"searchbar":{"placeholder":"T\xecm kiếm bất kỳ thứ g\xec","empty":"Kh\xf4ng t\xecm thấy kết quả cho truy vấn “%{query}”"},"button":{"back":"Quay lại","add":"Th\xeam","create":"Tạo mới"},"search":{"action":"T\xecm kiếm","empty":{"title":"Kh\xf4ng c\xf3 kết quả","subtitle":"Kh\xf4ng t\xecm thấy kết quả n\xe0o cho truy vấn “%{query}”"}},"PushBanner":{"quota":{"text":"Bạn sắp hết dung lượng lưu trữ. Nếu vượt qu\xe1 giới hạn, bạn sẽ kh\xf4ng thể th\xeam tệp mới. H\xe3y x\xf3a tệp, dọn th\xf9ng r\xe1c hoặc n\xe2ng cấp g\xf3i của bạn.","actions":{"first":"T\xf4i hiểu","second":"Xem c\xe1c g\xf3i dịch vụ"}}},"FileDivergedModal":{"title":"Tệp đ\xe3 bị chỉnh sửa bởi người kh\xe1c","content":"Ai đ\xf3 đ\xe3 chỉnh sửa tệp b\xean ngo\xe0i Twake trong khi bạn đang l\xe0m việc tr\xean đ\xf3. Bạn c\xf3 thể giữ phi\xean bản của họ hoặc tiếp tục chỉnh sửa bản sao mới.","confirm":"Tiếp tục chỉnh sửa","cancel":"Xem thay đổi","error":"Đ\xe3 xảy ra lỗi, vui l\xf2ng thử lại.","confirmReload":{"title":"Xem thay đổi","content":"Khi mở tệp mới, c\xe1c thay đổi của bạn sẽ bị hủy.","cancel":"Hủy","confirm":"Ok, t\xf4i hiểu"},"viewMode":{"title":"Tệp đ\xe3 bị chỉnh sửa bởi người kh\xe1c","content":"Tệp đ\xe3 bị thay đổi nội dung. Bạn c\xf3 thể xem những thay đổi n\xe0y.","confirm":"Xem thay đổi"}},"FileDeletedModal":{"title":"Tệp đ\xe3 bị x\xf3a bởi người kh\xe1c","content":"Tệp đ\xe3 bị x\xf3a trong khi bạn đang chỉnh sửa. Bạn c\xf3 thể dừng chỉnh sửa hoặc kh\xf4i phục tệp để tiếp tục.","confirm":"Kh\xf4i phục tệp","cancel":"Hủy thay đổi","error":"Đ\xe3 xảy ra lỗi, vui l\xf2ng thử lại."},"TrashedBanner":{"text":"Mục n\xe0y đang nằm trong th\xf9ng r\xe1c","destroy":"X\xf3a vĩnh viễn","restore":"Kh\xf4i phục","restoreSuccess":"Mục đ\xe3 được kh\xf4i phục","restoreError":"Đ\xe3 xảy ra lỗi, vui l\xf2ng thử lại.","destroySuccess":"Mục đ\xe3 được x\xf3a vĩnh viễn"},"EntriesType":{"file":"tệp |||| c\xe1c tệp","directory":"thư mục |||| c\xe1c thư mục","element":"mục |||| c\xe1c mục"},"NotFound":{"title":"Kh\xf4ng t\xecm thấy mục","text":"Kh\xf4ng c\xf3 nội dung n\xe0o tại địa chỉ n\xe0y. C\xf3 thể bạn đ\xe3 nhập sai li\xean kết."},"NextcloudBreadcrumb":{"root":"Ổ đĩa được chia sẻ","trash":"Th\xf9ng r\xe1c"},"NextcloudToolbar":{"share":"Chia sẻ"},"NextcloudDeleteConfirm":{"title":"X\xf3a %{filename}? |||| X\xf3a %{smart_count} %{type}?","trash":"Mục n\xe0y sẽ được chuyển v\xe0o th\xf9ng r\xe1c của Nextcloud. |||| C\xe1c mục n\xe0y sẽ được chuyển v\xe0o th\xf9ng r\xe1c của Nextcloud.","restore":"Bạn c\xf3 thể kh\xf4i phục bất kỳ l\xfac n\xe0o từ Nextcloud.","error":"Đ\xe3 xảy ra lỗi, vui l\xf2ng thử lại.","cancel":"Hủy","delete":"X\xf3a"},"FileName":{"sharedDrive":"Ổ đĩa","trash":"Th\xf9ng r\xe1c"},"NextcloudBanner":{"title":"C\xe1c mục b\xean dưới được hiển thị từ ổ đĩa NextCloud v\xe0 kh\xf4ng được lưu trữ trong Twake."},"favorites":{"label":{"add":"Th\xeam v\xe0o mục y\xeau th\xedch","addMobile":"Y\xeau th\xedch","remove":"X\xf3a khỏi mục y\xeau th\xedch"},"error":"Đ\xe3 xảy ra lỗi, vui l\xf2ng thử lại.","success":{"add":"%{filename} đ\xe3 được th\xeam v\xe0o mục y\xeau th\xedch |||| C\xe1c mục đ\xe3 được th\xeam v\xe0o mục y\xeau th\xedch","remove":"%{filename} đ\xe3 được x\xf3a khỏi mục y\xeau th\xedch |||| C\xe1c mục đ\xe3 được x\xf3a khỏi mục y\xeau th\xedch"}},"TrashToolbar":{"emptyTrash":"Dọn th\xf9ng r\xe1c"},"RestoreNextcloudFile":{"label":"Kh\xf4i phục","success":"Mục đ\xe3 được kh\xf4i phục","error":"Đ\xe3 xảy ra lỗi, vui l\xf2ng thử lại."},"actions":{"infos":"Chi tiết v\xe0 ph\xe2n loại","infosMobile":"Chi tiết","duplicateTo":{"label":"Nh\xe2n bản tới…"},"duplicateToMobile":{"label":"Nh\xe2n bản"}},"DuplicateModal":{"subTitle":"Nh\xe2n bản đến:","confirmLabel":"Nh\xe2n bản tại đ\xe2y","success":"%{fileName} đ\xe3 được nh\xe2n bản đến %{destinationName}. |||| %{smart_count} mục đ\xe3 được nh\xe2n bản đến %{destinationName}.","error":"Đ\xe3 xảy ra lỗi, vui l\xf2ng thử lại."},"OpenFolderButton":{"label":"Mở thư mục"},"LastUpdate":{"titleFormat":"LLLL dd, yyyy, HH:MM"},"AddMenu":{"readOnlyFolder":"Đ\xe2y l\xe0 thư mục chỉ đọc. Bạn kh\xf4ng thể thực hiện h\xe0nh động n\xe0y."},"PublicNoteRedirect":{"error":{"title":"Kh\xf4ng thể truy cập t\xe0i liệu","subtitle":"Li\xean kết chia sẻ bị thiếu hoặc kh\xf4ng hợp lệ. Vui l\xf2ng y\xeau cầu chủ sở hữu t\xe0i liệu kiểm tra quyền truy cập"}}}')},7279:function(e){"use strict";e.exports=JSON.parse('{"Nav":{"item_drive":"硬盘","item_recent":"最近更改","item_sharings":"分享","item_shared":"由我分享","item_activity":"活动","item_trash":"垃圾桶","item_collect":"管理","btn-client":"下载桌面版 Twake Drive","btn-client-web":"获取 Twake","banner-btn-client":"下载","link-client":"https://cozy.io/en/download/","link-client-desktop":"https://nuts.cozycloud.cc/download/channel/stable/","link-client-android":"https://play.google.com/store/apps/details?id=io.cozy.drive.mobile","link-client-ios":"https://itunes.apple.com/us/app/cozy-drive/id1224102389?mt=8","link-client-web":"https://cozy.io/try-it"},"breadcrumb":{"title_drive":"硬盘","title_recent":"最近更改","title_sharings":"分享","title_shared":"由我分享","title_activity":"活动","title_trash":"垃圾桶"},"Toolbar":{"more":"更多"},"toolbar":{"menu_upload":"上传文件","item_more":"更多","menu_new_folder":"文件夹","menu_new_encrypted_folder":"已加密的文件夹","menu_select":"选择项目","menu_share_folder":"分析文件夹","menu_download":"下载","menu_sync_cozy":"同步到我的 Twake","add_to_mine":"添加到我的 Twake","menu_download_folder":"下载文件夹","menu_download_file":"下载这个文件","menu_create_note":"便签","empty_trash":"清空垃圾桶","share":"分享","trash":"移除","delete_shared_drive":"删除共享驱动器","leave":"离开文件夹并删除","menu_add":"添加","menu_create":"创造","menu_onlyOffice":{"text":"文本文件","spreadsheet":"电子表格","slide":"幻灯片"},"select_all":"全选","clear_selection":"清晰的选择","sharings_tab_all":"全部","sharings_tab_drives":"驱动器"},"Share":{"create-cozy":"创建我的 Twake"},"searchbar":{"placeholder":"搜索任何内容","empty":"没有任何关于“%{query}”的内容"},"search":{"empty":{"subtitle":"没有任何关于“%{query}”的内容"}},"alert":{"item_copied":"1个项目已复制","items_copied":"%{count}个项目已复制","item_cut":"1个项目已剪切","items_cut":"%{count}个项目已剪切","item_moved":"1个项目已移动","items_moved":"%{count}个项目已移动","item_pasted":"1个项目已移动","items_pasted":"%{count}个项目已移动","copy_files_only":"无法复制文件夹","copy_not_allowed":"此视图中不允许复制操作。","paste_error":"粘贴文件时出错","paste_failed":"粘贴文件失败","paste_sharing_error":"由于共享限制，无法粘贴文件。请改用移动操作。","paste_same_folder_skipped":"无法将项目移动到它们已经所在的同一文件夹。","paste_not_allowed":"您无法粘贴到此文件夹","cannot_move_shared_drive":"您无法移动共享驱动器文件夹","cannot_copy_shared_drive":"您无法复制共享云端硬盘文件夹"}}')},49279:function(e){"use strict";e.exports=JSON.parse('{"Nav":{"item_drive":"硬碟","item_recent":"最近更改","item_sharings":"分享","item_shared":"由我分享","item_activity":"活動","item_trash":"垃圾桶","item_settings":"設定","item_collect":"管理","btn-client":"下載桌面版 Twake Drive","btn-client-web":"取得 Twake","btn-client-mobile":"在您的手機上下載 %{name}","banner-txt-client":"下載桌面版 %{name} 來安全地同步您的檔案並隨時存取它們","banner-btn-client":"下載"},"breadcrumb":{"title_drive":"硬碟","title_recent":"最近更改","title_sharings":"分享","title_shared":"由我分享","title_activity":"活動","title_trash":"垃圾桶"},"Toolbar":{"more":"更多"},"toolbar":{"item_more":"更多","menu_select":"選擇項目","menu_download_folder":"下載資料夾","menu_download_file":"下載這個檔案","empty_trash":"清空垃圾桶","share":"分享","trash":"移除","delete_shared_drive":"刪除共用磁碟機","leave":"離開分享資料夾並刪除","select_all":"全選","sharings_tab_all":"全部","sharings_tab_drives":"磁碟機"},"Share":{"create-cozy":"建立我的 Twake"},"Files":{"share":{"cta":"分享","title":"分享","details":{"title":"分享的詳細資料","createdAt":"在 %{date}","ro":"可以檢視","rw":"可以修改"},"sharedByMe":"由我分享","sharedWithMe":"與我分享","sharedBy":"由 %{name} 分享","shareByLink":{"subtitle":"由公開連結","desc":"任何人擁有這個連結可以檢視和下載您的檔案。","creating":"正在建立您的連結...","copy":"複製連結","copied":"連結已經複製到剪切版","failed":"無法複製到剪切版"},"shareByEmail":{"subtitle":"由電郵","email":"收件人：","emailPlaceholder":"輸入收件人的電郵地址或名稱","send":"傳送","genericSuccess":"您傳送了邀請函給 %{count} 個聯絡人。","success":"您傳送了邀請函至 %{email}","type":{"file":"檔案","folder":"資料夾"}},"sharingLink":{"copy":"複製","copied":"已複製"},"protectedShare":{"title":"即將推出"},"close":"關閉","gettingLink":"正在取得您的連結..."}},"table":{"head_name":"名稱","head_update":"最後更新","head_size":"大小","row_read_only":"分享（唯讀模式）","row_read_write":"分享（讀寫模式）","load_more":"載入更多","mobile":{"head_updated_at_asc":"最舊優先","head_updated_at_desc":"最新優先","head_size_asc":"最小優先","head_size_desc":"最大優先"}},"Storage":{"title":"儲存空間","availability":"可用 %{smart_count} GB","increase":"增加您的空間"},"SelectionBar":{"share":"分享","download":"下載","trash":"移除","destroy":"永久刪除","rename":"重新命名","restore":"還原","close":"關閉","moveto":"移動到...","moveto_mobile":"移動到","phone-download":"使離線可用"},"DeleteConfirm":{"cancel":"取消","delete":"移除"},"emptytrashconfirmation":{"title":"永久刪除嗎？","cancel":"取消","delete":"全部刪除"},"DestroyConfirm":{"title":"永久刪除嗎？","cancel":"取消","delete":"永久刪除"},"quotaalert":{"title":"您的硬碟已滿 :(","confirm":"OK"},"loading":{"message":"載入中"},"empty":{"title":"您在此資料夾中沒有任何檔案。","trash_title":"您沒有任何已刪除的檔案。"},"error":{"button":{"reload":"現在重新整理"},"download_file":{"offline":"您需要連線才能下載此檔案","missing":"此檔案已遺失"}},"Error":{"public_unshared_title":"抱歉，但此連結已不可用。"},"alert":{"could_not_open_file":"此檔案無法開啟","item_copied":"1個項目已複製","items_copied":"%{count}個項目已複製","item_cut":"1個項目已剪下","items_cut":"%{count}個項目已剪下","item_moved":"1個項目已移動","items_moved":"%{count}個項目已移動","item_pasted":"1個項目已移動","items_pasted":"%{count}個項目已移動","copy_files_only":"無法複製資料夾","copy_not_allowed":"此檢視中不允許複製操作。","paste_error":"貼上檔案時發生錯誤","paste_failed":"貼上檔案失敗","paste_sharing_error":"由於共享限制，無法貼上檔案。請改用移動操作。","paste_same_folder_skipped":"無法將項目移動到它們已經所在的同一資料夾。","paste_not_allowed":"您無法貼上到此資料夾","cannot_move_shared_drive":"您無法移動共享磁碟機資料夾","cannot_copy_shared_drive":"您無法複製共用雲端硬碟資料夾"}}')}},o={};function s(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return l[e].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=l,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(n,r){if(1&r&&(n=this(n)),8&r||"object"==typeof n&&n&&(4&r&&n.__esModule||16&r&&"function"==typeof n.then))return n;var i=Object.create(null);s.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var l=2&r&&n;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(e=>{a[e]=()=>n[e]});return a.default=()=>n,s.d(i,a),i},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),s.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),s.nc=void 0,n=[],s.O=(e,t,r,i)=>{if(t){i=i||0;for(var a=n.length;a>0&&n[a-1][2]>i;a--)n[a]=n[a-1];n[a]=[t,r,i];return}for(var l=1/0,a=0;a<n.length;a++){for(var[t,r,i]=n[a],o=!0,d=0;d<t.length;d++)(!1&i||l>=i)&&Object.keys(s.O).every(e=>s.O[e](t[d]))?t.splice(d--,1):(o=!1,i<l&&(l=i));if(o){n.splice(a--,1);var c=r();void 0!==c&&(e=c)}}return e},s.p="/",r={889:0},s.O.j=e=>0===r[e],i=(e,t)=>{var n,i,[a,l,o]=t,d=0;if(a.some(e=>0!==r[e])){for(n in l)s.o(l,n)&&(s.m[n]=l[n]);if(o)var c=o(s)}for(e&&e(t);d<a.length;d++)i=a[d],s.o(r,i)&&r[i]&&r[i][0](),r[i]=0;return s.O(c)},(a=self.webpackChunkcozy_drive=self.webpackChunkcozy_drive||[]).forEach(i.bind(null,0)),a.push=i.bind(null,a.push.bind(a));var d=s.O(void 0,["783","535","611","680"],function(){return s(63562)});d=s.O(d)})();