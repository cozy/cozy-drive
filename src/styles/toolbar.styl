@require 'cozy-ui'
@require './popover'

.fil-toolbar-files
.fil-toolbar-trash
    margin-left auto
    .coz-btn:last-child
        margin-right 0

    .fil-toolbar-more-btn
        @extends $button--secondary
        @extends $button--more

.fil-toolbar-trash
    .fil-toolbar-more-btn
        display none


// These styles are needed for the menu to work and come directly from bosonic's source
// TODO: find a better way for bosonic to share its styling
b-menu-button
    position relative

b-menu-button > b-listbox
    display none
    position absolute

b-menu-button[open] > b-listbox
    display block

b-item
    display block

.fil-toolbar-menu
    @extends $popover
    right 0
    padding 5px 0
    margin 0
    margin-top 1px
    min-width 220px

    a, label
        &.fil-action-upload
            background embedurl("../assets/icons/icon-upload-16.svg") em(16px) center no-repeat
        &.fil-action-newfolder
            background embedurl("../assets/icons/icon-folder-add-16.svg") em(16px) center no-repeat
        &.fil-action-select
            background embedurl("../assets/icons/icon-checkbox-16.svg") em(16px) center no-repeat
        &.fil-action-delete
            background  embedurl('../assets/icons/icon-trash-dark.svg') em(16px) center no-repeat

    a.fil-action-upload,
    a.fil-action-select,
    hr // temporary while there is only select after hr
        display none


@media (max-width: (1023/basefont)rem)
    .fil-toolbar-menu
        a.fil-action-upload,
        a.fil-action-select,
        hr // temporary while there is only select after hr
            display block

    .desktop-upload
        display none

    .fil-toolbar-trash .fil-toolbar-more-btn
            display inline-flex

@media (max-width: (768/basefont)rem)
    .fil-toolbar-files
    .fil-toolbar-trash
        position absolute
        top      0
        right    0
        z-index  $nav-index

        .fil-toolbar-more-btn
            border       0
            margin-right 0
            opacity      .5
